/*! For license information please see main.41eb46d2.js.LICENSE.txt */
(()=>{var e={353:e=>{"use strict";function t(e,t){this.x=e,this.y=t}e.exports=t,t.prototype={clone:function(){return new t(this.x,this.y)},add:function(e){return this.clone()._add(e)},sub:function(e){return this.clone()._sub(e)},multByPoint:function(e){return this.clone()._multByPoint(e)},divByPoint:function(e){return this.clone()._divByPoint(e)},mult:function(e){return this.clone()._mult(e)},div:function(e){return this.clone()._div(e)},rotate:function(e){return this.clone()._rotate(e)},rotateAround:function(e,t){return this.clone()._rotateAround(e,t)},matMult:function(e){return this.clone()._matMult(e)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(e){return this.x===e.x&&this.y===e.y},dist:function(e){return Math.sqrt(this.distSqr(e))},distSqr:function(e){var t=e.x-this.x,o=e.y-this.y;return t*t+o*o},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(e){return Math.atan2(this.y-e.y,this.x-e.x)},angleWith:function(e){return this.angleWithSep(e.x,e.y)},angleWithSep:function(e,t){return Math.atan2(this.x*t-this.y*e,this.x*e+this.y*t)},_matMult:function(e){var t=e[0]*this.x+e[1]*this.y,o=e[2]*this.x+e[3]*this.y;return this.x=t,this.y=o,this},_add:function(e){return this.x+=e.x,this.y+=e.y,this},_sub:function(e){return this.x-=e.x,this.y-=e.y,this},_mult:function(e){return this.x*=e,this.y*=e,this},_div:function(e){return this.x/=e,this.y/=e,this},_multByPoint:function(e){return this.x*=e.x,this.y*=e.y,this},_divByPoint:function(e){return this.x/=e.x,this.y/=e.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var e=this.y;return this.y=this.x,this.x=-e,this},_rotate:function(e){var t=Math.cos(e),o=Math.sin(e),n=t*this.x-o*this.y,i=o*this.x+t*this.y;return this.x=n,this.y=i,this},_rotateAround:function(e,t){var o=Math.cos(e),n=Math.sin(e),i=t.x+o*(this.x-t.x)-n*(this.y-t.y),r=t.y+n*(this.x-t.x)+o*(this.y-t.y);return this.x=i,this.y=r,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},t.convert=function(e){return e instanceof t?e:Array.isArray(e)?new t(e[0],e[1]):e}},647:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t,o,n){void 0===n&&(n=1),this.r=Math.min(1,Math.max(0,e||0)),this.g=Math.min(1,Math.max(0,t||0)),this.b=Math.min(1,Math.max(0,o||0)),this.a=Math.min(1,Math.max(0,n||0))}return e.fromString=function(t){if(t.indexOf("#")>=0)return e.fromHexString(t);var o=e.nameToHex[t];if(o)return e.fromHexString(o);if(t.indexOf("rgb")>=0)return e.fromRgbaString(t);throw new Error("Invalid color string: '"+t+"'")},e.fromHexString=function(t){var o=t.match(e.hexRe);if(o)return new e((n=parseInt(o[1],16))/255,(i=parseInt(o[2],16))/255,(r=parseInt(o[3],16))/255,(s=void 0!==o[4]?parseInt(o[4],16):255)/255);if(o=t.match(e.shortHexRe)){var n=parseInt(o[1],16),i=parseInt(o[2],16),r=parseInt(o[3],16),s=void 0!==o[4]?parseInt(o[4],16):15;return new e((n+=16*n)/255,(i+=16*i)/255,(r+=16*r)/255,(s+=16*s)/255)}throw new Error("Malformed hexadecimal color string: '"+t+"'")},e.fromRgbaString=function(t){var o=t.match(e.rgbRe);if(o)return new e(+o[1]/255,+o[2]/255,+o[3]/255);if(o=t.match(e.rgbaRe))return new e(+o[1]/255,+o[2]/255,+o[3]/255,+o[4]);throw new Error("Malformed rgb/rgba color string: '"+t+"'")},e.fromArray=function(t){if(4===t.length)return new e(t[0],t[1],t[2],t[3]);if(3===t.length)return new e(t[0],t[1],t[2]);throw new Error("The given array should contain 3 or 4 color components (numbers).")},e.fromHSB=function(t,o,n,i){void 0===i&&(i=1);var r=e.HSBtoRGB(t,o,n);return new e(r[0],r[1],r[2],i)},e.padHex=function(e){return 1===e.length?"0"+e:e},e.prototype.toHexString=function(){var t="#"+e.padHex(Math.round(255*this.r).toString(16))+e.padHex(Math.round(255*this.g).toString(16))+e.padHex(Math.round(255*this.b).toString(16));return this.a<1&&(t+=e.padHex(Math.round(255*this.a).toString(16))),t},e.prototype.toRgbaString=function(e){void 0===e&&(e=3);var t=[Math.round(255*this.r),Math.round(255*this.g),Math.round(255*this.b)],o=Math.pow(10,e);return 1!==this.a?(t.push(Math.round(this.a*o)/o),"rgba("+t.join(", ")+")"):"rgb("+t.join(", ")+")"},e.prototype.toString=function(){return 1===this.a?this.toHexString():this.toRgbaString()},e.prototype.toHSB=function(){return e.RGBtoHSB(this.r,this.g,this.b)},e.RGBtoHSB=function(e,t,o){var n=Math.min(e,t,o),i=Math.max(e,t,o),r=NaN;if(n!==i){var s=i-n,a=(i-e)/s,l=(i-t)/s,c=(i-o)/s;r=e===i?c-l:t===i?2+a-c:4+l-a,(r/=6)<0&&(r+=1)}return[360*r,0!==i?(i-n)/i:0,i]},e.HSBtoRGB=function(e,t,o){isNaN(e)&&(e=0),e=(e%360+360)%360/360;var n=0,i=0,r=0;if(0===t)n=i=r=o;else{var s=6*(e-Math.floor(e)),a=s-Math.floor(s),l=o*(1-t),c=o*(1-t*a),u=o*(1-t*(1-a));switch(s|0){case 0:n=o,i=u,r=l;break;case 1:n=c,i=o,r=l;break;case 2:n=l,i=o,r=u;break;case 3:n=l,i=c,r=o;break;case 4:n=u,i=l,r=o;break;case 5:n=o,i=l,r=c}}return[n,i,r]},e.prototype.derive=function(t,o,n,i){var r=e.RGBtoHSB(this.r,this.g,this.b),s=r[2];0==s&&n>1&&(s=.05);var a=((r[0]+t)%360+360)%360,l=Math.max(Math.min(r[1]*o,1),0);s=Math.max(Math.min(s*n,1),0);var c=Math.max(Math.min(this.a*i,1),0),u=e.HSBtoRGB(a,l,s);return u.push(c),e.fromArray(u)},e.prototype.brighter=function(){return this.derive(0,1,1/.7,1)},e.prototype.darker=function(){return this.derive(0,1,.7,1)},e.hexRe=/\s*#([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})?\s*$/,e.shortHexRe=/\s*#([0-9a-fA-F])([0-9a-fA-F])([0-9a-fA-F])([0-9a-fA-F])?\s*$/,e.rgbRe=/\s*rgb\((\d+),\s*(\d+),\s*(\d+)\)\s*/,e.rgbaRe=/\s*rgba\((\d+),\s*(\d+),\s*(\d+),\s*([.\d]+)\)\s*/,e.nameToHex=Object.freeze({aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",green:"#008000",greenyellow:"#ADFF2F",grey:"#808080",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"}),e}();function i(e,t){void 0===t&&(t=",");for(var o,n,i,r=[],s=function(e){return"\r"===e||"\n"===e},a=!1,l=function(l,c,u){var d=e[u-1],h=e[u],p=e[u+1],g=function(){r[l]||(r[l]=[]),r[l][c]||(r[l][c]="")};if(g(),'"'===h){if(a)return'"'===p?(r[l][c]+='"',u++):a=!1,o=l,n=c,i=u,"continue";if(void 0===d||d===t||s(d))return a=!0,o=l,n=c,i=u,"continue"}if(!a){if(h===t)return c++,g(),o=l,n=c,i=u,"continue";if(s(h))return c=0,l++,g(),"\r"===h&&"\n"===p&&u++,o=l,n=c,i=u,"continue"}r[l][c]+=h,o=l,n=c,i=u},c=0,u=0,d=0;d<e.length;d++)l(c,u,d),c=o,u=n,d=i;return r}var r,s,a,l,c,u,d=Object.freeze({__proto__:null,stringToArray:i});function h(){return void 0===s&&(s=!!document.documentMode),s}function p(){return void 0===a&&(a=!h()&&!!window.StyleMedia),a}function g(){if(void 0===r){var e=window;r=Object.prototype.toString.call(e.HTMLElement).indexOf("Constructor")>0||(t=e.safari&&e.safari.pushNotification)&&"[object SafariRemoteNotification]"===t.toString()}var t;return r}function f(){if(void 0===l){var e=window;l=!!e.chrome&&(!!e.chrome.webstore||!!e.chrome.runtime)||/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)}return l}function m(){if(void 0===c){var e=window;c="undefined"!==typeof e.InstallTrigger}return c}var v=Object.freeze({__proto__:null,isBrowserIE:h,isBrowserEdge:p,isBrowserSafari:g,isBrowserChrome:f,isBrowserFirefox:m,isIOSUserAgent:function(){return void 0===u&&(u=(/iPad|iPhone|iPod/.test(navigator.platform)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&!window.MSStream),u},getTabIndex:function(e){if(!e)return null;var t=e.tabIndex,o=e.getAttribute("tabIndex");if(h()&&0===t&&null===e.getAttribute("tabIndex")){return!0==={a:!0,body:!0,button:!0,frame:!0,iframe:!0,img:!0,input:!0,isindex:!0,object:!0,select:!0,textarea:!0}[e.nodeName.toLowerCase()]?"0":null}return-1!==t||null!==o&&(""!==o||m())?t.toString():null},getMaxDivHeight:function(){if(!document.body)return-1;var e=1e6,t=navigator.userAgent.toLowerCase().match(/firefox/)?6e6:1e9,o=document.createElement("div");for(document.body.appendChild(o);;){var n=2*e;if(o.style.height=n+"px",n>t||o.clientHeight!==n)break;e=n}return document.body.removeChild(o),e},getScrollbarWidth:function(){var e=document.body,t=document.createElement("div");t.style.width=t.style.height="100px",t.style.opacity="0",t.style.overflow="scroll",t.style.msOverflowStyle="scrollbar",t.style.position="absolute",e.appendChild(t);var o=t.offsetWidth-t.clientWidth;return t.parentNode&&t.parentNode.removeChild(t),o},hasOverflowScrolling:function(){var e=["webkit","moz","o","ms"],t=document.createElement("div"),o=!1;document.getElementsByTagName("body")[0].appendChild(t),t.setAttribute("style",e.map((function(e){return"-"+e+"-overflow-scrolling: touch"})).concat("overflow-scrolling: touch").join(";"));var n=window.getComputedStyle(t);if("touch"===n.overflowScrolling&&(o=!0),!o)for(var i=0,r=e;i<r.length;i++)if("touch"===n[r[i]+"OverflowScrolling"]){o=!0;break}return t.parentNode&&t.parentNode.removeChild(t),o},getBodyWidth:function(){return document.body?document.body.clientWidth:window.innerHeight?window.innerWidth:document.documentElement&&document.documentElement.clientWidth?document.documentElement.clientWidth:-1},getBodyHeight:function(){return document.body?document.body.clientHeight:window.innerHeight?window.innerHeight:document.documentElement&&document.documentElement.clientHeight?document.documentElement.clientHeight:-1}});function y(e){return null==e||""===e?null:e}function C(e,t){return void 0===t&&(t=!1),null!=e&&(t||""!==e)}function w(e){return!C(e)}function b(e){return C(e)&&e.toString?e.toString():null}function S(e){if(e instanceof Set||e instanceof Map){var t=[];return e.forEach((function(e){return t.push(e)})),t}return Object.keys(e).map((function(t){return e[t]}))}var E=Object.freeze({__proto__:null,makeNull:y,exists:C,missing:w,missingOrEmpty:function(e){return!e||w(e)||0===e.length},toStringOrNull:b,referenceCompare:function(e,t){return null==e&&null==t||(null!=e||null==t)&&((null==e||null!=t)&&e===t)},jsonEquals:function(e,t){return(e?JSON.stringify(e):null)===(t?JSON.stringify(t):null)},defaultComparator:function(e,t,o){void 0===o&&(o=!1);var n=null==e,i=null==t;if(e&&e.toNumber&&(e=e.toNumber()),t&&t.toNumber&&(t=t.toNumber()),n&&i)return 0;if(n)return-1;if(i)return 1;function r(e,t){return e>t?1:e<t?-1:0}if("string"===typeof e){if(!o)return r(e,t);try{return e.localeCompare(t)}catch(s){return r(e,t)}}return r(e,t)},find:function e(t,o,n){if(null===t||void 0===t)return null;if(!Array.isArray(t))return e(S(t),o,n);for(var i=t,r=null,s=0;s<i.length;s++){var a=i[s];if("string"===typeof o){if(a[o]===n){r=a;break}}else if(o(a)){r=a;break}}return r},values:S}),R=/[&<>"']/g,P={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function O(e){return null===e||void 0===e?null:e.replace(/([A-Z])/g,(function(e){return"-"+e[0].toLowerCase()}))}function x(e){return null===e||void 0===e?null:e.replace(/-([a-z])/g,(function(e){return e[1].toUpperCase()}))}var T=Object.freeze({__proto__:null,utf8_encode:function(e){var t=String.fromCharCode;function o(e,o){return t(e>>o&63|128)}function n(e){if(0==(4294967168&e))return t(e);var n="";return 0==(4294965248&e)?n=t(e>>6&31|192):0==(4294901760&e)?(!function(e){if(e>=55296&&e<=57343)throw Error("Lone surrogate U+"+e.toString(16).toUpperCase()+" is not a scalar value")}(e),n=t(e>>12&15|224),n+=o(e,6)):0==(4292870144&e)&&(n=t(e>>18&7|240),n+=o(e,12),n+=o(e,6)),n+=t(63&e|128)}for(var i=function(e){for(var t,o,n=[],i=0,r=e.length;i<r;)(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<r?56320==(64512&(o=e.charCodeAt(i++)))?n.push(((1023&t)<<10)+(1023&o)+65536):(n.push(t),i--):n.push(t);return n}(e),r=i.length,s=-1,a="";++s<r;)a+=n(i[s]);return a},camelCaseToHyphen:O,hyphenToCamelCase:x,capitalise:function(e){return e[0].toUpperCase()+e.substr(1).toLowerCase()},escape:function(e){return null!=e&&e.replace?e.replace(R,(function(e){return P[e]})):e},camelCaseToHumanText:function(e){return e&&null!=e?e.replace(/([A-Z])([A-Z])([a-z])|([a-z])([A-Z])/g,"$1$4 $2$3$5").replace("."," ").split(" ").map((function(e){return e.substring(0,1).toUpperCase()+(e.length>1?e.substring(1,e.length):"")})).join(" "):null}});function D(e,t){if(t&&0!==t.length){if(!(t.indexOf(" ")>=0)){if(e.classList)e.classList.add(t);else if(e.className&&e.className.length>0){var o=e.className.split(" ");o.indexOf(t)<0&&(o.push(t),e.setAttribute("class",o.join(" ")))}else e.setAttribute("class",t);return e}t.split(" ").forEach((function(t){return D(e,t)}))}}function A(e,t){if(e.classList)e.classList.remove(t);else if(e.className&&e.className.length>0){var o=e.className.split(" ").filter((function(e){return e!==t})).join(" ");e.setAttribute("class",o)}}function F(e,t,o){o?D(e,t):A(e,t)}function _(e,t){if(e.classList)return e.classList.contains(t);if(e.className){var o=e.className===t,n=e.className.indexOf(" "+t+" ")>=0,i=0===e.className.indexOf(t+" "),r=e.className.lastIndexOf(" "+t)===e.className.length-t.length-1;return o||n||i||r}return!1}function M(e,t){F(e,"ag-hidden",!t)}function I(e,t){var o="disabled";t?e.setAttribute(o,""):e.removeAttribute(o)}function L(e){var t=window.getComputedStyle(e),o=t.height,n=t.width,i=t.paddingTop,r=t.paddingRight,s=t.paddingBottom,a=t.paddingLeft,l=t.marginTop,c=t.marginRight,u=t.marginBottom,d=t.marginLeft,h=t.boxSizing;return{height:parseFloat(o),width:parseFloat(n),paddingTop:parseFloat(i),paddingRight:parseFloat(r),paddingBottom:parseFloat(s),paddingLeft:parseFloat(a),marginTop:parseFloat(l),marginRight:parseFloat(c),marginBottom:parseFloat(u),marginLeft:parseFloat(d),boxSizing:h}}function N(e){for(;e&&e.firstChild;)e.removeChild(e.firstChild)}function k(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function G(e){var t=document.createElement("div");return t.innerHTML=(e||"").trim(),t.firstChild}function V(e,t){for(var o=0;o<t.length;o++){var n=t[o],i=e.children[o];i!==n&&e.insertBefore(n,i)}}function H(e,t){"flex"===t?(e.style.width=null,e.style.minWidth=null,e.style.maxWidth=null,e.style.flex="1 1 auto"):B(e,t)}function B(e,t){t=j(t),e.style.width=t.toString(),e.style.maxWidth=t.toString(),e.style.minWidth=t.toString()}function W(e,t){t=j(t),e.style.height=t.toString(),e.style.maxHeight=t.toString(),e.style.minHeight=t.toString()}function j(e){return"number"===typeof e?e+"px":e}function z(e){return"function"===typeof Node?e instanceof Node:e&&"object"===typeof e&&"number"===typeof e.nodeType&&"string"===typeof e.nodeName}function U(e){return"function"===typeof HTMLElement?e instanceof HTMLElement:e&&"object"===typeof e&&null!==e&&1===e.nodeType&&"string"===typeof e.nodeName}function $(e){return z(e)||U(e)}var K=Object.freeze({__proto__:null,addCssClass:D,removeCssClass:A,addOrRemoveCssClass:F,radioCssClass:function(e,t,o){for(var n=e.parentElement.firstChild;n;)t&&F(n,t,n===e),o&&F(n,o,n!==e),n=n.nextSibling},containsClass:_,setDisplayed:M,setVisible:function(e,t){F(e,"ag-invisible",!t)},setDisabled:I,isElementChildOfClass:function(e,t,o){for(var n=0;e;){if(_(e,t))return!0;if(e=e.parentElement,o&&++n>o)break}return!1},getElementSize:L,getInnerHeight:function(e){var t=L(e);return"border-box"===t.boxSizing?t.height-t.paddingTop-t.paddingBottom:t.height},getInnerWidth:function(e){var t=L(e);return"border-box"===t.boxSizing?t.width-t.paddingLeft-t.paddingRight:t.width},getAbsoluteHeight:function(e){var t=L(e),o=t.marginBottom+t.marginTop;return Math.ceil(e.offsetHeight+o)},getAbsoluteWidth:function(e){var t=L(e),o=t.marginLeft+t.marginRight;return Math.ceil(e.offsetWidth+o)},getScrollLeft:function(e,t){var o=e.scrollLeft;return t&&(o=Math.abs(o),f()&&(o=e.scrollWidth-e.clientWidth-o)),o},setScrollLeft:function(e,t,o){o&&((g()||f())&&(t=e.scrollWidth-e.clientWidth-t),m()&&(t*=-1)),e.scrollLeft=t},clearElement:N,removeElement:function(e,t){k(e.querySelector(t))},removeFromParent:k,isVisible:function(e){return null!==e.offsetParent},loadTemplate:G,appendHtml:function(e,t){e.lastChild?e.insertAdjacentHTML("afterbegin",t):e.innerHTML=t},getElementAttribute:function(e,t){return e.attributes&&e.attributes[t]?e.attributes[t].value:null},offsetHeight:function(e){return e&&e.clientHeight?e.clientHeight:0},offsetWidth:function(e){return e&&e.clientWidth?e.clientWidth:0},ensureDomOrder:function(e,t,o){o&&o.nextSibling===t||(o?o.nextSibling?e.insertBefore(t,o.nextSibling):e.appendChild(t):e.firstChild&&e.firstChild!==t&&e.insertAdjacentElement("afterbegin",t))},setDomChildOrder:V,insertTemplateWithDomOrder:function(e,t,o){var n;return o?(o.insertAdjacentHTML("afterend",t),n=o.nextSibling):(e.firstChild?e.insertAdjacentHTML("afterbegin",t):e.innerHTML=t,n=e.firstChild),n},prependDC:function(e,t){C(e.firstChild)?e.insertBefore(t,e.firstChild):e.appendChild(t)},addStylesToElement:function(e,t){t&&Object.keys(t).forEach((function(o){var n=x(o);n&&(e.style[n]=t[o])}))},isHorizontalScrollShowing:function(e){return e.clientWidth<e.scrollWidth},isVerticalScrollShowing:function(e){return e.clientHeight<e.scrollHeight},setElementWidth:H,setFixedWidth:B,setElementHeight:function(e,t){"flex"===t?(e.style.height=null,e.style.minHeight=null,e.style.maxHeight=null,e.style.flex="1 1 auto"):W(e,t)},setFixedHeight:W,formatSize:j,isNode:z,isElement:U,isNodeOrElement:$,copyNodeList:function(e){for(var t=e?e.length:0,o=[],n=0;n<t;n++)o.push(e[n]);return o},iterateNamedNodeMap:function(e,t){if(e)for(var o=0;o<e.length;o++){var n=e[o];t(n.name,n.value)}},setCheckboxState:function(e,t){"boolean"===typeof t?(e.checked=t,e.indeterminate=!1):e.indeterminate=!0}});function Y(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var o=0;o<e.length;o++){var n=e[o];if(C(n))return n}return null}function q(e){if(e&&e.length)return e[e.length-1]}function X(e,t,o){return null==e&&null==t||null!=e&&null!=t&&e.length===t.length&&te(e,(function(e,n){return o?o(e,t[n]):t[n]===e}))}function Q(e,t){var o=e.indexOf(t);o>=0&&e.splice(o,1)}function Z(e,t){ne(t,(function(t){return Q(e,t)}))}function J(e,t,o){e.splice(o,0,t)}function ee(e,t){return e.indexOf(t)>-1}function te(e,t){if(null==e)return!0;for(var o=0;o<e.length;o++)if(!t(e[o],o))return!1;return!0}function oe(e,t){if(null==e)return!1;for(var o=0;o<e.length;o++)if(t(e[o],o))return!0;return!1}function ne(e,t){if(null!=e)for(var o=0;o<e.length;o++)t(e[o],o)}function ie(e,t){if(null==e)return null;for(var o=[],n=0;n<e.length;n++)o.push(t(e[n],n));return o}var re=Object.freeze({__proto__:null,firstExistingValue:Y,anyExists:function(e){return e&&null!=Y(e)},existsAndNotEmpty:function(e){return null!=e&&e.length>0},last:q,areEqual:X,compareArrays:function(e,t){return X(e,t)},shallowCompare:function(e,t){return X(e,t)},sortNumerically:function(e){return e.sort((function(e,t){return e-t}))},removeRepeatsFromArray:function(e,t){if(e)for(var o=e.length-2;o>=0;o--){var n=e[o]===t,i=e[o+1]===t;n&&i&&e.splice(o+1,1)}},removeFromArray:Q,removeAllFromArray:Z,insertIntoArray:J,insertArrayIntoArray:function(e,t,o){if(null!=e&&null!=t)for(var n=t.length-1;n>=0;n--){J(e,t[n],o)}},moveInArray:function(e,t,o){Z(e,t),ne(t.slice().reverse(),(function(t){return J(e,t,o)}))},includes:ee,flatten:function(e){return[].concat.apply([],e)},pushAll:function(e,t){null!=t&&null!=e&&ne(t,(function(t){return e.push(t)}))},toStrings:function(e){return ie(e,b)},findIndex:function(e,t){for(var o=0;o<e.length;o++)if(t(e[o],o,e))return o;return-1},every:te,some:oe,forEach:ne,map:ie,filter:function(e,t){if(null==e)return null;for(var o=[],n=0;n<e.length;n++)t(e[n],n)&&o.push(e[n]);return o},reduce:function(e,t,o){if(null==e||null==o)return null;for(var n=o,i=0;i<e.length;i++)n=t(n,e[i],i);return n},forEachSnapshotFirst:function(e,t){e&&e.slice(0).forEach(t)}});function se(e,t){null!=e&&(Array.isArray(e)?ne(e,(function(e,o){return t(""+o,e)})):ne(Object.keys(e),(function(o){return t(o,e[o])})))}function ae(e){for(var t={},o=Object.keys(e),n=0;n<o.length;n++){var i=o[n],r=e[i];t[i]=r}return t}function le(e,t){return e[t]}function ce(e,t,o){e[t]=o}function ue(e,t,o,n){var i=le(e,o);void 0!==i&&ce(t,o,n?n(i):i)}function de(e,t,o){void 0===o&&(o=!0),C(t)&&se(t,(function(t,n){var i=e[t];i!==n&&("object"!==typeof i||"object"!==typeof n||Array.isArray(i)?(o||void 0!==n)&&(e[t]=n):de(i,n))}))}function he(e){for(var t=[],o=1;o<arguments.length;o++)t[o-1]=arguments[o];return ne(t,(function(t){return se(t,(function(t,o){return e[t]=o}))})),e}var pe=Object.freeze({__proto__:null,iterateObject:se,cloneObject:ae,deepCloneObject:function(e){return JSON.parse(JSON.stringify(e))},getProperty:le,setProperty:ce,copyPropertiesIfPresent:function(e,t){for(var o=[],n=2;n<arguments.length;n++)o[n-2]=arguments[n];ne(o,(function(o){return ue(e,t,o)}))},copyPropertyIfPresent:ue,getAllKeysInObjects:function(e){var t={};return e.filter((function(e){return null!=e})).forEach((function(e){ne(Object.keys(e),(function(e){return t[e]=null}))})),Object.keys(t)},mergeDeep:de,assign:he,missingOrEmptyObject:function(e){return w(e)||0===Object.keys(e).length},get:function(e,t,o){if(null==e)return o;for(var n=t.split("."),i=e;n.length>1;)if(null==(i=i[n.shift()]))return o;var r=i[n[0]];return null!=r?r:o},set:function(e,t,o){if(null!=e){for(var n=t.split("."),i=e;n.length>1;)if(null==(i=i[n.shift()]))return;i[n[0]]=o}},deepFreeze:function e(t){return Object.freeze(t),ne(S(t),(function(t){null==t||"object"!==typeof t&&"function"!==typeof t||e(t)})),t},getValueUsingField:function(e,t,o){if(t&&e){if(!o)return e[t];for(var n=t.split("."),i=e,r=0;r<n.length;r++)if(w(i=i[n[r]]))return null;return i}}});var ge=Object.freeze({__proto__:null,getNameOfClass:function(e){var t=e.toString(),o=/function (.{1,})\(/.exec(t);return o&&o.length>1?o[1]:""},findLineByLeastSquares:function(e){var t=e.length,o=0;if(t<=1)return e;for(var n=0;n<e.length;n++){var i=e[n];Math.floor(i)!==i&&(o=Math.max(o,i.toString().split(".")[1].length))}for(var r=0,s=0,a=0,l=0,c=0,u=0;u<t;u++)r+=u,s+=c=e[u],l+=u*u,a+=u*c;var d=(t*a-r*s)/(t*l-r*r),h=s/t-d*r/t,p=[];for(u=0;u<=t;u++)p.push(parseFloat((u*d+h).toFixed(o)));return p},cssStyleObjectToMarkup:function(e){if(!e)return"";var t=[];return se(e,(function(e,o){var n=O(e);t.push(n+": "+o+";")})),t.join(" ")},message:function(e){var t=document.createElement("div"),o=document.querySelector("#__ag__message");if(t.innerHTML=e,!o){o=G('<div id="__ag__message" style="display: inline-block; position: absolute; top: 0px; left: 0px; color: white; background-color: black; z-index: 20; padding: 2px; border: 1px solid darkred; height: 200px; overflow-y: auto;"></div>'),document.body&&document.body.appendChild(o)}o.insertBefore(t,o.children[0])},bindCellRendererToHtmlElement:function(e,t){e.then((function(e){var o=e.getGui();null!=o&&("object"===typeof o?t.appendChild(o):t.innerHTML=o)}))}});function fe(e,t){for(var o=""+e;o.length<t;)o="0"+o;return o}function me(e){return"number"!==typeof e?"":e.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")}var ve=Object.freeze({__proto__:null,padStart:fe,createArrayOfNumbers:function(e,t){for(var o=[],n=e;n<=t;n++)o.push(n);return o},isNumeric:function(e){return""!==e&&!isNaN(parseFloat(e))&&isFinite(e)},getMaxSafeInteger:function(){return Number.MAX_SAFE_INTEGER||9007199254740991},cleanNumber:function(e){return"string"===typeof e&&(e=parseInt(e,10)),"number"===typeof e?Math.floor(e):null},decToHex:function(e,t){for(var o="",n=0;n<t;n++)o+=String.fromCharCode(255&e),e>>>=8;return o},formatNumberTwoDecimalPlacesAndCommas:function(e){return"number"!==typeof e?"":me(Math.round(100*e)/100)},formatNumberCommas:me,sum:function(e){return null==e?null:e.reduce((function(e,t){return e+t}),0)}});function ye(e,t,o){if(void 0===t&&(t=!0),void 0===o&&(o="-"),!e)return null;var n=[e.getFullYear(),e.getMonth()+1,e.getDate()].map((function(e){return fe(e,2)})).join(o);return t&&(n+=" "+[e.getHours(),e.getMinutes(),e.getSeconds()].map((function(e){return fe(e,2)})).join(":")),n}function Ce(e){if(!e)return null;var t=e.split(" "),o=t[0],n=t[1];if(!o)return null;var i=o.split("-").map((function(e){return parseInt(e,10)}));if(3!==i.filter((function(e){return!isNaN(e)})).length)return null;var r=i[0],s=i[1],a=i[2],l=new Date(r,s-1,a);if(l.getFullYear()!==r||l.getMonth()!==s-1||l.getDate()!==a)return null;if(!n||"00:00:00"===n)return l;var c=n.split(":").map((function(e){return parseInt(e,10)})),u=c[0],d=c[1],h=c[2];return u>=0&&u<24&&l.setHours(u),d>=0&&d<60&&l.setMinutes(d),h>=0&&h<60&&l.setSeconds(h),l}var we=Object.freeze({__proto__:null,serialiseDate:ye,parseDateTimeFromString:Ce}),be="__ag_Grid_Stop_Propagation",Se=["touchstart","touchend","touchmove","touchcancel"],Ee=["mouseover","mouseout","mouseenter","mouseleave"],Re={};var Pe=function(){var e={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return function(t){if("boolean"===typeof Re[t])return Re[t];var o=document.createElement(e[t]||"div"),n=(t="on"+t)in o;return n||(o.setAttribute(t,"return;"),n="function"==typeof o[t]),o=null,Re[t]=n}}();function Oe(e){var t=e;return t.target||t.srcElement}function xe(e){for(var t=[],o=Oe(e);o;)t.push(o),o=o.parentElement;return t}function Te(e){var t=e;return t.deepPath?t.deepPath():t.path?t.path:t.composedPath?t.composedPath():t.__agGridEventPath?t.__agGridEventPath:xe(e)}var De=Object.freeze({__proto__:null,stopPropagationForAgGrid:function(e){e[be]=!0},isStopPropagationForAgGrid:function(e){return!0===e[be]},isEventSupported:Pe,getCellCompForEvent:function(e,t){for(var o=Oe(t);o;){var n=e.getDomData(o,"cellComp");if(n)return n;o=o.parentElement}return null},addChangeListener:function(e,t){e.addEventListener("changed",t),e.addEventListener("paste",t),e.addEventListener("input",t),e.addEventListener("keydown",t),e.addEventListener("keyup",t)},getTarget:Oe,isElementInEventPath:function(e,t){return!(!t||!e)&&Te(t).indexOf(e)>=0},createEventPath:xe,addAgGridEventPath:function(e){e.__agGridEventPath=Te(e)},getEventPath:Te,addSafePassiveEventListener:function(e,t,o,n){var i=ee(Se,o)?{passive:!0}:void 0;ee(Ee,o)?e&&e.addEventListenerOutsideAngular&&e.addEventListenerOutsideAngular(t,o,n,i):t.addEventListener(o,n,i)}}),Ae=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,Fe=/([^\s,]+)/g,_e={};function Me(e,t){void 0===t&&(t=0),e.length>0&&window.setTimeout((function(){return e.forEach((function(e){return e()}))}),t)}function Ie(e,t,o){var n;return void 0===o&&(o=!1),function(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];var s=this,a=o&&!n;window.clearTimeout(n),n=window.setTimeout((function(){n=null,o||e.apply(s,i)}),t),a&&e.apply(s,i)}}var Le=Object.freeze({__proto__:null,doOnce:function(e,t){_e[t]||(e(),_e[t]=!0)},getFunctionParameters:function(e){var t=e.toString().replace(Ae,"");return t.slice(t.indexOf("(")+1,t.indexOf(")")).match(Fe)||[]},isFunction:function(e){return!!(e&&e.constructor&&e.call&&e.apply)},executeInAWhile:function(e){Me(e,400)},executeNextVMTurn:function(e){Me(e,0)},executeAfter:Me,debounce:Ie,compose:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return e.reduce((function(e,t){return t(e)}),t)}},callIfPresent:function(e){e&&e()}});function Ne(e,t,o,n){var i=n?Ve:Ge,r=t.map((function(t){return{value:t,relevance:i(e.toLowerCase(),t.toLocaleLowerCase())}}));return r.sort((function(e,t){return t.relevance-e.relevance})),o&&(r=r.filter((function(e){return 0!==e.relevance}))),r.map((function(e){return e.value}))}function ke(e){var t,o,n,i=e.toLowerCase(),r=new Array(i.length-1);for(t=o=0,n=r.length;o<=n;t=o+=1)r[t]=i.slice(t,t+2);return r}function Ge(e,t){if(0===e.length&&0===t.length)return 0;var o,n,i=ke(e),r=ke(t),s=i.length+r.length,a=0;for(o=0,n=i.length;o<n;o++){var l,c=i[o],u=void 0;for(u=0,l=r.length;u<l;u++){c===r[u]&&a++}}return a>0?2*a/s:0}function Ve(e,t){for(var o=e.replace(/\s/g,""),n=t.replace(/\s/g,""),i=0,r=0,s=0;s<o.length;s++){var a=n.indexOf(o[s]);-1!==a&&(r=a,i+=100*(n.length-r)/n.length,i*=i)}return i}var He=Object.freeze({__proto__:null,fuzzyCheckStrings:function(e,t,o){var n={},i=e.filter((function(e){return!t.some((function(t){return t===e}))}));return i.length>0&&i.forEach((function(e){return n[e]=Ne(e,o)})),n},fuzzySuggestions:Ne,get_bigrams:ke,string_distances:Ge,string_weighted_distances:Ve}),Be={columnGroupOpened:"expanded",columnGroupClosed:"contracted",columnSelectClosed:"tree-closed",columnSelectOpen:"tree-open",columnSelectIndeterminate:"tree-indeterminate",columnMovePin:"pin",columnMoveHide:"eye-slash",columnMoveMove:"arrows",columnMoveLeft:"left",columnMoveRight:"right",columnMoveGroup:"group",columnMoveValue:"aggregation",columnMovePivot:"pivot",dropNotAllowed:"not-allowed",groupContracted:"tree-closed",groupExpanded:"tree-open",chart:"chart",close:"cross",cancel:"cancel",check:"tick",first:"first",previous:"previous",next:"next",last:"last",linked:"linked",unlinked:"unlinked",colorPicker:"color-picker",groupLoading:"loading",menu:"menu",filter:"filter",columns:"columns",maximize:"maximize",minimize:"minimize",menuPin:"pin",menuValue:"aggregation",menuAddRowGroup:"group",menuRemoveRowGroup:"group",clipboardCopy:"copy",clipboardPaste:"paste",pivotPanel:"pivot",rowGroupPanel:"group",valuePanel:"aggregation",columnDrag:"grip",rowDrag:"grip",save:"save",smallDown:"small-down",smallLeft:"small-left",smallRight:"small-right",smallUp:"small-up",sortAscending:"asc",sortDescending:"desc",sortUnSort:"none"};function We(e,t,o,n){var i=null,r=o&&o.getColDef().icons;if(r&&(i=r[e]),t&&!i){var s=t.getIcons();s&&(i=s[e])}if(!i){var a=document.createElement("span"),l=Be[e];return l||(n?l=e:(console.warn("ag-Grid: Did not find icon "+e),l="")),a.setAttribute("class","ag-icon ag-icon-"+l),a.setAttribute("unselectable","on"),a}var c=void 0;if("function"===typeof i)c=i();else{if("string"!==typeof i)throw new Error("icon from grid options needs to be a string or a function");c=i}return"string"===typeof c?G(c):$(c)?c:void console.warn("ag-Grid: iconRenderer should return back a string or a dom object")}var je=Object.freeze({__proto__:null,iconNameClassMap:Be,createIcon:function(e,t,o){var n=We(e,t,o);if(n.className.indexOf("ag-icon")>-1)return n;var i=document.createElement("span");return i.appendChild(n),i},createIconNoSpan:We}),ze=function(){function e(){}return e.STEP_EVERYTHING=0,e.STEP_FILTER=1,e.STEP_SORT=2,e.STEP_MAP=3,e.STEP_AGGREGATE=4,e.STEP_PIVOT=5,e.ROW_BUFFER_SIZE=10,e.LAYOUT_INTERVAL=500,e.BATCH_WAIT_MILLIS=50,e.EXPORT_TYPE_DRAG_COPY="dragCopy",e.EXPORT_TYPE_CLIPBOARD="clipboard",e.EXPORT_TYPE_EXCEL="excel",e.EXPORT_TYPE_CSV="csv",e.KEY_BACKSPACE=8,e.KEY_TAB=9,e.KEY_NEW_LINE=10,e.KEY_ENTER=13,e.KEY_SHIFT=16,e.KEY_ESCAPE=27,e.KEY_SPACE=32,e.KEY_LEFT=37,e.KEY_UP=38,e.KEY_RIGHT=39,e.KEY_DOWN=40,e.KEY_DELETE=46,e.KEY_A=65,e.KEY_C=67,e.KEY_V=86,e.KEY_D=68,e.KEY_Z=90,e.KEY_Y=89,e.KEY_F2=113,e.KEY_PAGE_UP=33,e.KEY_PAGE_DOWN=34,e.KEY_PAGE_HOME=36,e.KEY_PAGE_END=35,e.ROW_MODEL_TYPE_INFINITE="infinite",e.ROW_MODEL_TYPE_VIEWPORT="viewport",e.ROW_MODEL_TYPE_CLIENT_SIDE="clientSide",e.ROW_MODEL_TYPE_SERVER_SIDE="serverSide",e.DEPRECATED_ROW_MODEL_TYPE_NORMAL="normal",e.ALWAYS="always",e.ONLY_WHEN_GROUPING="onlyWhenGrouping",e.PINNED_TOP="top",e.PINNED_BOTTOM="bottom",e.DOM_LAYOUT_NORMAL="normal",e.DOM_LAYOUT_PRINT="print",e.DOM_LAYOUT_AUTO_HEIGHT="autoHeight",e.GROUP_AUTO_COLUMN_ID="ag-Grid-AutoColumn",e.SOURCE_PASTE="paste",e.PINNED_RIGHT="right",e.PINNED_LEFT="left",e.SORT_ASC="asc",e.SORT_DESC="desc",e}();function Ue(e,t){return(e.which||e.keyCode)===t}var $e=Object.freeze({__proto__:null,isKeyPressed:Ue,isCharacterKey:function(e){var t=e.which;return"number"===typeof t&&t?!e.ctrlKey&&!e.metaKey&&!e.altKey&&8!==e.which&&16!==e.which:void 0===t},isEventFromPrintableCharacter:function(e){var t=String.fromCharCode(e.charCode);if(Ue(e,ze.KEY_NEW_LINE))return!1;if(e.altKey||e.ctrlKey)return!1;if(C(e.key)){var o=1===e.key.length,n=function(e){return(p()||h())&&"Del"===e.key&&46===e.charCode}(e);return o||n}return"qwertyuiopasdfghjklzxcvbnmQWERTYUIOPASDFGHJKLZXCVBNM1234567890!\"\xa3$%^&*()_+-=[];'#,./\\|<>?:@~{}".indexOf(t)>=0},isUserSuppressingKeyboardEvent:function(e,t,o,n,i){var r=e.getSuppressKeyboardEventFunc(),s=n.getColDef().suppressKeyboardEvent;if(!r&&!s)return!1;var a={event:t,editing:i,column:n,api:e.getApi(),node:o,data:o.data,colDef:n.getColDef(),context:e.getContext(),columnApi:e.getColumnApi()};return!(!s||!s(a))||!!r&&r(a)}});var Ke=Object.freeze({__proto__:null,keys:function(e){var t=[];return e.forEach((function(e,o){return t.push(o)})),t}});var Ye=Object.freeze({__proto__:null,normalizeWheel:function(e){var t=0,o=0,n=0,i=0;return"detail"in e&&(o=e.detail),"wheelDelta"in e&&(o=-e.wheelDelta/120),"wheelDeltaY"in e&&(o=-e.wheelDeltaY/120),"wheelDeltaX"in e&&(t=-e.wheelDeltaX/120),"axis"in e&&e.axis===e.HORIZONTAL_AXIS&&(t=o,o=0),n=10*t,i=10*o,"deltaY"in e&&(i=e.deltaY),"deltaX"in e&&(n=e.deltaX),(n||i)&&e.deltaMode&&(1==e.deltaMode?(n*=40,i*=40):(n*=800,i*=800)),n&&!t&&(t=n<1?-1:1),i&&!o&&(o=i<1?-1:1),{spinX:t,spinY:o,pixelX:n,pixelY:i}},isLeftClick:function(e){return"buttons"in e?1==e.buttons:1==(e.which||e.button)},areEventsNear:function(e,t,o){if(0===o)return!1;var n=Math.abs(e.clientX-t.clientX),i=Math.abs(e.clientY-t.clientY);return Math.max(n,i)<=o}});var qe=Object.freeze({__proto__:null,sortRowNodesByOrder:function(e,t){if(e){for(var o=function(e,o){var n=t[e.id],i=t[o.id],r=void 0!==n,s=void 0!==i;return r&&s?n-i:!r&&!s?e.__objectId-o.__objectId:r?1:-1},n=!1,i=0;i<e.length-1;i++)if(o(e[i],e[i+1])>0){n=!0;break}n&&e.sort(o)}},traverseNodesWithKey:function(e,t){var o=[];!function e(n){n.forEach((function(n){if(n.group||n.hasChildren()){o.push(n.key);var i=o.join("|");t(n,i),e(n.childrenAfterGroup),o.pop()}}))}(e)}});function Xe(e){var t=new Set;return e.forEach((function(e){return t.add(e)})),t}var Qe,Ze=Object.freeze({__proto__:null,convertToSet:Xe}),Je=function(){return Je=Object.assign||function(e){for(var t,o=1,n=arguments.length;o<n;o++)for(var i in t=arguments[o])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Je.apply(this,arguments)},et=Je(Je(Je(Je(Je(Je(Je(Je(Je(Je(Je(Je(Je(Je(Je(Je(Je(Je(Je({},ge),re),v),d),we),K),De),Le),He),E),je),$e),Ke),Ye),ve),pe),qe),Ze),T),tt=function(){function e(e,t){void 0===e&&(e=0),void 0===t&&(t=1),this.nextValue=e,this.step=t}return e.prototype.next=function(){var e=this.nextValue;return this.nextValue+=this.step,e},e.prototype.peek=function(){return this.nextValue},e.prototype.skip=function(e){this.nextValue+=e},e}();(Qe=t.PromiseStatus||(t.PromiseStatus={}))[Qe.IN_PROGRESS=0]="IN_PROGRESS",Qe[Qe.RESOLVED=1]="RESOLVED";var ot=function(){function e(e){var o=this;this.status=t.PromiseStatus.IN_PROGRESS,this.resolution=null,this.waiters=[],e((function(e){return o.onDone(e)}),(function(e){return o.onReject(e)}))}return e.all=function(t){return new e((function(e){var o=t.length,n=new Array(o);ne(t,(function(t,i){t.then((function(t){n[i]=t,0===--o&&e(n)}))}))}))},e.resolve=function(t){return void 0===t&&(t=null),new e((function(e){return e(t)}))},e.prototype.then=function(o){var n=this;return new e((function(e){n.status===t.PromiseStatus.RESOLVED?e(o(n.resolution)):n.waiters.push((function(t){return e(o(t))}))}))},e.prototype.resolveNow=function(e,o){return this.status===t.PromiseStatus.RESOLVED?o(this.resolution):e},e.prototype.onDone=function(e){this.status=t.PromiseStatus.RESOLVED,this.resolution=e,ne(this.waiters,(function(t){return t(e)}))},e.prototype.onReject=function(e){console.warn("TBI")},e}(),nt=function(){function e(){this.timestamp=(new Date).getTime()}return e.prototype.print=function(e){var t=(new Date).getTime()-this.timestamp;console.info(e+" = "+t),this.timestamp=(new Date).getTime()},e}(),it=function(){function e(){this.existingKeys={}}return e.prototype.addExistingKeys=function(e){for(var t=0;t<e.length;t++)this.existingKeys[e[t]]=!0},e.prototype.getUniqueKey=function(e,t){e=et.toStringOrNull(e);for(var o=0;;){var n=void 0;if(e?(n=e,0!==o&&(n+="_"+o)):t?(n=t,0!==o&&(n+="_"+o)):n=""+o,!this.existingKeys[n])return this.existingKeys[n]=!0,n;o++}},e}(),rt=function(){function e(e,t){if(this.beanWrappers={},this.destroyed=!1,e&&e.beanClasses){this.contextParams=e,this.logger=t,this.logger.log(">> creating ag-Application Context"),this.createBeans();var o=this.getBeanInstances();this.wireBeans(o),this.logger.log(">> ag-Application Context ready - component is alive")}}return e.prototype.getBeanInstances=function(){return et.values(this.beanWrappers).map((function(e){return e.beanInstance}))},e.prototype.createBean=function(e,t){if(!e)throw Error("Can't wire to bean since it is null");return this.wireBeans([e],t),e},e.prototype.wireBeans=function(e,t){this.autoWireBeans(e),this.methodWireBeans(e),this.callLifeCycleMethods(e,"preConstructMethods"),et.exists(t)&&e.forEach(t),this.callLifeCycleMethods(e,"postConstructMethods")},e.prototype.createBeans=function(){var e=this;this.contextParams.beanClasses.forEach(this.createBeanWrapper.bind(this)),et.iterateObject(this.beanWrappers,(function(t,o){var n;o.bean.__agBeanMetaData&&o.bean.__agBeanMetaData.autowireMethods&&o.bean.__agBeanMetaData.autowireMethods.agConstructor&&(n=o.bean.__agBeanMetaData.autowireMethods.agConstructor);var i=e.getBeansForParameters(n,o.bean.name),r=function(e,t){var o=[null].concat(t);return new(e.bind.apply(e,o))}(o.bean,i);o.beanInstance=r}));var t=Object.keys(this.beanWrappers).join(", ");this.logger.log("created beans: "+t)},e.prototype.createBeanWrapper=function(e){var t=e.__agBeanMetaData;if(!t){var o=void 0;return o=e.prototype.constructor?e.prototype.constructor.name:""+e,void console.error("context item "+o+" is not a bean")}var n={bean:e,beanInstance:null,beanName:t.beanName};this.beanWrappers[t.beanName]=n},e.prototype.autoWireBeans=function(e){var t=this;e.forEach((function(e){t.forEachMetaDataInHierarchy(e,(function(o,n){var i=o.agClassAttributes;i&&i.forEach((function(o){var i=t.lookupBeanInstance(n,o.beanName,o.optional);e[o.attributeName]=i}))}))}))},e.prototype.methodWireBeans=function(e){var t=this;e.forEach((function(e){t.forEachMetaDataInHierarchy(e,(function(o,n){et.iterateObject(o.autowireMethods,(function(o,i){if("agConstructor"!==o){var r=t.getBeansForParameters(i,n);e[o].apply(e,r)}}))}))}))},e.prototype.forEachMetaDataInHierarchy=function(e,t){for(var o=Object.getPrototypeOf(e);null!=o;){var n=o.constructor;if(n.hasOwnProperty("__agBeanMetaData"))t(n.__agBeanMetaData,this.getBeanName(n));o=Object.getPrototypeOf(o)}},e.prototype.getBeanName=function(e){if(e.__agBeanMetaData&&e.__agBeanMetaData.beanName)return e.__agBeanMetaData.beanName;var t=e.toString();return t.substring(9,t.indexOf("("))},e.prototype.getBeansForParameters=function(e,t){var o=this,n=[];return e&&et.iterateObject(e,(function(e,i){var r=o.lookupBeanInstance(t,i);n[Number(e)]=r})),n},e.prototype.lookupBeanInstance=function(e,t,o){if(void 0===o&&(o=!1),"context"===t)return this;if(this.contextParams.providedBeanInstances&&this.contextParams.providedBeanInstances.hasOwnProperty(t))return this.contextParams.providedBeanInstances[t];var n=this.beanWrappers[t];return n?n.beanInstance:(o||console.error("ag-Grid: unable to find bean reference "+t+" while initialising "+e),null)},e.prototype.callLifeCycleMethods=function(e,t){var o=this;e.forEach((function(e){o.callLifeCycleMethodsOneBean(e,t)}))},e.prototype.callLifeCycleMethodsOneBean=function(e,t,o){var n={};this.forEachMetaDataInHierarchy(e,(function(e){var i=e[t];i&&i.forEach((function(e){e!=o&&(n[e]=!0)}))})),Object.keys(n).forEach((function(t){return e[t]()}))},e.prototype.getBean=function(e){return this.lookupBeanInstance("getBean",e,!0)},e.prototype.destroy=function(){if(!this.destroyed){this.logger.log(">> Shutting down ag-Application Context");var e=this.getBeanInstances();this.destroyBeans(e),this.contextParams.providedBeanInstances=null,this.destroyed=!0,this.logger.log(">> ag-Application Context shut down - component is dead")}},e.prototype.destroyBean=function(e){e&&this.destroyBeans([e])},e.prototype.destroyBeans=function(e){var t=this;return e?(e.forEach((function(e){t.callLifeCycleMethodsOneBean(e,"preDestroyMethods","destroy"),e.destroy&&e.destroy()})),[]):[]},e}();function st(e,t,o){var n=gt(e.constructor);n.preConstructMethods||(n.preConstructMethods=[]),n.preConstructMethods.push(t)}function at(e,t,o){var n=gt(e.constructor);n.postConstructMethods||(n.postConstructMethods=[]),n.postConstructMethods.push(t)}function lt(e,t,o){var n=gt(e.constructor);n.preDestroyMethods||(n.preDestroyMethods=[]),n.preDestroyMethods.push(t)}function ct(e){return function(t){gt(t).beanName=e}}function ut(e){return function(t,o,n){ht(t,e,!1,t,o,null)}}function dt(e){return function(t,o,n){ht(t,e,!0,t,o,null)}}function ht(e,t,o,n,i,r){if(null!==t)if("number"!==typeof r){var s=gt(e.constructor);s.agClassAttributes||(s.agClassAttributes=[]),s.agClassAttributes.push({attributeName:i,beanName:t,optional:o})}else console.error("ag-Grid: Autowired should be on an attribute");else console.error("ag-Grid: Autowired name should not be null")}function pt(e){return function(t,o,n){var i,r="function"==typeof t?t:t.constructor;if("number"===typeof n){var s=void 0;o?(i=gt(r),s=o):(i=gt(r),s="agConstructor"),i.autowireMethods||(i.autowireMethods={}),i.autowireMethods[s]||(i.autowireMethods[s]={}),i.autowireMethods[s][n]=e}}}function gt(e){return e.hasOwnProperty("__agBeanMetaData")||(e.__agBeanMetaData={}),e.__agBeanMetaData}var ft,mt=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},vt=function(e,t){return function(o,n){t(o,n,e)}},yt=function(){function e(){this.allSyncListeners=new Map,this.allAsyncListeners=new Map,this.globalSyncListeners=new Set,this.globalAsyncListeners=new Set,this.asyncFunctionsQueue=[],this.scheduled=!1,this.firedEvents={}}return e.prototype.setBeans=function(e,t,o){if(void 0===o&&(o=null),this.logger=e.create("EventService"),o){var n=t.useAsyncEvents();this.addGlobalListener(o,n)}},e.prototype.getListeners=function(e,t){var o=t?this.allAsyncListeners:this.allSyncListeners,n=o.get(e);return n||(n=new Set,o.set(e,n)),n},e.prototype.addEventListener=function(e,t,o){void 0===o&&(o=!1),this.getListeners(e,o).add(t)},e.prototype.removeEventListener=function(e,t,o){void 0===o&&(o=!1),this.getListeners(e,o).delete(t)},e.prototype.addGlobalListener=function(e,t){void 0===t&&(t=!1),(t?this.globalAsyncListeners:this.globalSyncListeners).add(e)},e.prototype.removeGlobalListener=function(e,t){void 0===t&&(t=!1),(t?this.globalAsyncListeners:this.globalSyncListeners).delete(e)},e.prototype.dispatchEvent=function(e){this.dispatchToListeners(e,!0),this.dispatchToListeners(e,!1),this.firedEvents[e.type]=!0},e.prototype.dispatchEventOnce=function(e){this.firedEvents[e.type]||this.dispatchEvent(e)},e.prototype.dispatchToListeners=function(e,t){var o=this,n=e.type;this.getListeners(n,t).forEach((function(n){t?o.dispatchAsync((function(){return n(e)})):n(e)})),(t?this.globalAsyncListeners:this.globalSyncListeners).forEach((function(i){t?o.dispatchAsync((function(){return i(n,e)})):i(n,e)}))},e.prototype.dispatchAsync=function(e){this.asyncFunctionsQueue.push(e),this.scheduled||(window.setTimeout(this.flushAsyncQueue.bind(this),0),this.scheduled=!0)},e.prototype.flushAsyncQueue=function(){this.scheduled=!1;var e=this.asyncFunctionsQueue.slice();this.asyncFunctionsQueue=[],e.forEach((function(e){return e()}))},mt([vt(0,pt("loggerFactory")),vt(1,pt("gridOptionsWrapper")),vt(2,pt("globalEventListener"))],e.prototype,"setBeans",null),e=mt([ct("eventService")],e)}();(ft=t.ModuleNames||(t.ModuleNames={})).CommunityCoreModule="@ag-grid-community/core",ft.CommunityAllModules="@ag-grid-community/all",ft.InfiniteRowModelModule="@ag-grid-community/infinite-row-model",ft.ClientSideRowModelModule="@ag-grid-community/client-side-row-model",ft.CsvExportModule="@ag-grid-community/csv-export",ft.RowNodeCache="@ag-grid-community/row-node-cache",ft.EnterpriseCoreModule="@ag-grid-enterprise/core",ft.EnterpriseAllModules="@ag-grid-enterprise/all",ft.RowGroupingModule="@ag-grid-enterprise/row-grouping",ft.ColumnToolPanelModule="@ag-grid-enterprise/column-tool-panel",ft.FiltersToolPanelModule="@ag-grid-enterprise/filters-tool-panel",ft.MenuModule="@ag-grid-enterprise/menu",ft.SetFilterModule="@ag-grid-enterprise/set-filter",ft.StatusBarModule="@ag-grid-enterprise/status-bar",ft.SideBarModule="@ag-grid-enterprise/side-bar",ft.RangeSelectionModule="@ag-grid-enterprise/range-selection",ft.MasterDetailModule="@ag-grid-enterprise/master-detail",ft.RichSelectModule="@ag-grid-enterprise/rich-select",ft.GridChartsModule="@ag-grid-enterprise/charts",ft.ViewportRowModelModule="@ag-grid-enterprise/viewport-row-model",ft.ServerSideRowModelModule="@ag-grid-enterprise/server-side-row-model",ft.ExcelExportModule="@ag-grid-enterprise/excel-export",ft.ClipboardModule="@ag-grid-enterprise/clipboard",ft.DateTimeCellEditorModule="@ag-grid-enterprise/date-time-cell-editor",ft.AngularModule="@ag-grid-community/angular",ft.ReactModule="@ag-grid-community/react",ft.VueModule="@ag-grid-community/vue",ft.PolymerModule="@ag-grid-community/polymer";var Ct=function(){function e(){}return e.register=function(t,o){void 0===o&&(o=!0),e.modulesMap[t.moduleName]=t,void 0===e.moduleBased?e.moduleBased=o:e.moduleBased!==o&&et.doOnce((function(){console.warn("ag-Grid: You are mixing modules (i.e. @ag-grid-community/core) and packages (ag-grid-community) - you can only use one or the other of these mechanisms."),console.warn("Please see https://www.ag-grid.com/javascript-grid-packages-modules/ for more information.")}),"ModulePackageCheck")},e.registerModules=function(t,o){void 0===o&&(o=!0),t&&t.forEach((function(t){return e.register(t,o)}))},e.assertRegistered=function(e,t){if(this.isRegistered(e))return!0;var o=t+e,n="ag-Grid: unable to use "+t+" as module "+e+" is not present. Please see: https://www.ag-grid.com/javascript-grid-modules/";return et.doOnce((function(){console.warn(n)}),o),!1},e.isRegistered=function(t){return!!e.modulesMap[t]},e.getRegisteredModules=function(){return et.values(e.modulesMap)},e.isPackageBased=function(){return!e.moduleBased},e.modulesMap={},e}(),wt=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},bt=function(){function e(e,t,o,n){this.moving=!1,this.menuVisible=!1,this.filterActive=!1,this.eventService=new yt,this.rowGroupActive=!1,this.pivotActive=!1,this.aggregationActive=!1,this.colDef=e,this.userProvidedColDef=t,this.visible=!e.hide,this.sort=e.sort,this.sortedAt=e.sortedAt,this.colId=o,this.primary=n}return e.prototype.setColDef=function(e,t){this.colDef=e,this.userProvidedColDef=t},e.prototype.getUserProvidedColDef=function(){return this.userProvidedColDef},e.prototype.setParent=function(e){this.parent=e},e.prototype.getParent=function(){return this.parent},e.prototype.setOriginalParent=function(e){this.originalParent=e},e.prototype.getOriginalParent=function(){return this.originalParent},e.prototype.initialise=function(){this.setPinned(this.colDef.pinned);var e=this.gridOptionsWrapper.getMinColWidth(),t=this.gridOptionsWrapper.getMaxColWidth();this.colDef.minWidth?this.minWidth=this.colDef.minWidth:this.minWidth=e,this.colDef.maxWidth?this.maxWidth=this.colDef.maxWidth:this.maxWidth=t,this.colDef.flex&&(this.flex=this.colDef.flex),this.resetActualWidth();var o=this.gridOptionsWrapper.isSuppressFieldDotNotation();this.fieldContainsDots=et.exists(this.colDef.field)&&this.colDef.field.indexOf(".")>=0&&!o,this.tooltipFieldContainsDots=et.exists(this.colDef.tooltipField)&&this.colDef.tooltipField.indexOf(".")>=0&&!o,this.validate()},e.prototype.resetActualWidth=function(){this.actualWidth=this.columnUtils.calculateColInitialWidth(this.colDef)},e.prototype.isEmptyGroup=function(){return!1},e.prototype.isRowGroupDisplayed=function(e){if(et.missing(this.colDef)||et.missing(this.colDef.showRowGroup))return!1;var t=!0===this.colDef.showRowGroup,o=this.colDef.showRowGroup===e;return t||o},e.prototype.getUniqueId=function(){return this.getId()},e.prototype.isPrimary=function(){return this.primary},e.prototype.isFilterAllowed=function(){var e=!!this.colDef.filter||!!this.colDef.filterFramework;return this.primary&&e},e.prototype.isFieldContainsDots=function(){return this.fieldContainsDots},e.prototype.isTooltipFieldContainsDots=function(){return this.tooltipFieldContainsDots},e.prototype.validate=function(){var e=this.colDef;function o(e,t,o){et.doOnce((function(){o?console.warn(e,o):et.doOnce((function(){return console.warn(e)}),t)}),t)}if(!Ct.isRegistered(t.ModuleNames.RowGroupingModule)){["enableRowGroup","rowGroup","rowGroupIndex","enablePivot","enableValue","pivot","pivotIndex","aggFunc"].forEach((function(n){et.exists(e[n])&&(Ct.isPackageBased()?o("ag-Grid: "+n+" is only valid in ag-grid-enterprise, your column definition should not have "+n,"ColumnRowGroupingMissing"+n):o("ag-Grid: "+n+" is only valid with ag-Grid Enterprise Module "+t.ModuleNames.RowGroupingModule+" - your column definition should not have "+n,"ColumnRowGroupingMissing"+n))}))}if(Ct.isRegistered(t.ModuleNames.RichSelectModule)||"agRichSelect"!==this.colDef.cellEditor&&"agRichSelectCellEditor"!==this.colDef.cellEditor||(Ct.isPackageBased()?o("ag-Grid: "+this.colDef.cellEditor+" can only be used with ag-grid-enterprise","ColumnRichSelectMissing"):o("ag-Grid: "+this.colDef.cellEditor+" can only be used with ag-Grid Enterprise Module "+t.ModuleNames.RichSelectModule,"ColumnRichSelectMissing")),Ct.isRegistered(t.ModuleNames.DateTimeCellEditorModule)||"agRichSelect"!==this.colDef.cellEditor&&"agDateTimeCellEditor"!==this.colDef.cellEditor||(Ct.isPackageBased()?o("ag-Grid: "+this.colDef.cellEditor+" can only be used with ag-grid-enterprise","ColumnDateTimeMissing"):o("ag-Grid: "+this.colDef.cellEditor+" can only be used with ag-Grid Enterprise Module "+t.ModuleNames.DateTimeCellEditorModule,"ColumnDateTimeMissing")),this.gridOptionsWrapper.isTreeData()){["rowGroup","rowGroupIndex","pivot","pivotIndex"].forEach((function(t){et.exists(e[t])&&o("ag-Grid: "+t+" is not possible when doing tree data, your column definition should not have "+t,"TreeDataCannotRowGroup")}))}et.exists(this.colDef.width)&&"number"!==typeof this.colDef.width&&o("ag-Grid: colDef.width should be a number, not "+typeof this.colDef.width,"ColumnCheck_asdfawef"),et.get(this,"colDef.cellRendererParams.restrictToOneGroup",null)&&o("ag-Grid: Since ag-grid 11.0.0 cellRendererParams.restrictToOneGroup is deprecated. You should use showRowGroup","ColumnCheck_sksldjf"),et.get(this,"colDef.cellRendererParams.keyMap",null)&&o("ag-Grid: Since ag-grid 11.0.0 cellRendererParams.keyMap is deprecated. You should use colDef.keyCreator","ColumnCheck_ieiruhgdf"),et.get(this,"colDef.cellRendererParams.keyMap",null)&&o("ag-Grid: Since ag-grid 11.0.0 cellRendererParams.keyMap is deprecated. You should use colDef.keyCreator","ColumnCheck_uitolghj"),e.floatingCellRenderer&&(o("ag-Grid: since v11, floatingCellRenderer is now pinnedRowCellRenderer","ColumnCheck_soihwewe"),this.colDef.pinnedRowCellRenderer=e.floatingCellRenderer),e.floatingRendererFramework&&(o("ag-Grid: since v11, floatingRendererFramework is now pinnedRowCellRendererFramework","ColumnCheck_zdkiouhwer"),this.colDef.pinnedRowCellRendererFramework=e.floatingRendererFramework),e.floatingRendererParams&&(console.warn("ag-Grid: since v11, floatingRendererParams is now pinnedRowCellRendererParams","ColumnCheck_retiuhjs"),this.colDef.pinnedRowCellRendererParams=e.floatingRendererParams),e.floatingValueFormatter&&(o("ag-Grid: since v11, floatingValueFormatter is now pinnedRowValueFormatter","ColumnCheck_qwroeihjdf"),this.colDef.pinnedRowValueFormatter=e.floatingValueFormatter),e.cellFormatter&&(o("ag-Grid: since v12, cellFormatter is now valueFormatter","ColumnCheck_eoireknml"),et.missing(this.colDef.valueFormatter)&&(this.colDef.valueFormatter=e.cellFormatter)),e.headerCellTemplate&&o("ag-Grid: since v15, headerCellTemplate is gone, use header component instead.","ColumnCheck_eroihxcm"),e.headerCellRenderer&&o("ag-Grid: since v15, headerCellRenderer is gone, use header component instead.","ColumnCheck_terteuh"),e.volatile&&o("ag-Grid: since v16, colDef.volatile is gone, please check refresh docs on how to refresh specific cells.","ColumnCheck_weoihjxcv"),e.suppressSorting&&(o("ag-Grid: since v20, colDef.suppressSorting is gone, instead use colDef.sortable=false.","ColumnCheck_43ljrer",this.colDef),this.colDef.sortable=!1),e.suppressFilter&&(o("ag-Grid: since v20, colDef.suppressFilter is gone, instead use colDef.filter=false.","ColumnCheck_erlkhfdm",this.colDef),this.colDef.filter=!1),e.suppressResize&&(o("ag-Grid: since v20, colDef.suppressResize is gone, instead use colDef.resizable=false.","ColumnCheck_weoihjxcv",this.colDef),this.colDef.resizable=!1),e.tooltip&&(o("ag-Grid: since v20.1, colDef.tooltip is gone, instead use colDef.tooltipValueGetter.","ColumnCheck_adslknjwef",this.colDef),this.colDef.tooltipValueGetter=e.tooltip),e.suppressToolPanel&&(o("ag-Grid: since v22, colDef.suppressToolPanel is gone, instead use suppressColumnsToolPanel / suppressFiltersToolPanel.","ColumnCheck_weihjlsjkdf",this.colDef),this.colDef.suppressColumnsToolPanel=!0)},e.prototype.addEventListener=function(e,t){this.eventService.addEventListener(e,t)},e.prototype.removeEventListener=function(e,t){this.eventService.removeEventListener(e,t)},e.prototype.createIsColumnFuncParams=function(e){return{node:e,data:e.data,column:this,colDef:this.colDef,context:this.gridOptionsWrapper.getContext(),api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi()}},e.prototype.isSuppressNavigable=function(e){if("boolean"===typeof this.colDef.suppressNavigable)return this.colDef.suppressNavigable;if("function"===typeof this.colDef.suppressNavigable){var t=this.createIsColumnFuncParams(e);return(0,this.colDef.suppressNavigable)(t)}return!1},e.prototype.isCellEditable=function(e){return!(e.group&&!this.gridOptionsWrapper.isEnableGroupEdit())&&this.isColumnFunc(e,this.colDef.editable)},e.prototype.isRowDrag=function(e){return this.isColumnFunc(e,this.colDef.rowDrag)},e.prototype.isDndSource=function(e){return this.isColumnFunc(e,this.colDef.dndSource)},e.prototype.isCellCheckboxSelection=function(e){return this.isColumnFunc(e,this.colDef.checkboxSelection)},e.prototype.isSuppressPaste=function(e){return this.isColumnFunc(e,this.colDef?this.colDef.suppressPaste:null)},e.prototype.isResizable=function(){return!0===this.colDef.resizable},e.prototype.isColumnFunc=function(e,t){return"boolean"===typeof t?t:"function"===typeof t&&t(this.createIsColumnFuncParams(e))},e.prototype.setMoving=function(t,o){void 0===o&&(o="api"),this.moving=t,this.eventService.dispatchEvent(this.createColumnEvent(e.EVENT_MOVING_CHANGED,o))},e.prototype.createColumnEvent=function(e,t){return{api:this.gridApi,columnApi:this.columnApi,type:e,column:this,columns:[this],source:t}},e.prototype.isMoving=function(){return this.moving},e.prototype.getSort=function(){return this.sort},e.prototype.setSort=function(t,o){void 0===o&&(o="api"),this.sort!==t&&(this.sort=t,this.eventService.dispatchEvent(this.createColumnEvent(e.EVENT_SORT_CHANGED,o)))},e.prototype.setMenuVisible=function(t,o){void 0===o&&(o="api"),this.menuVisible!==t&&(this.menuVisible=t,this.eventService.dispatchEvent(this.createColumnEvent(e.EVENT_MENU_VISIBLE_CHANGED,o)))},e.prototype.isMenuVisible=function(){return this.menuVisible},e.prototype.isSortAscending=function(){return this.sort===ze.SORT_ASC},e.prototype.isSortDescending=function(){return this.sort===ze.SORT_DESC},e.prototype.isSortNone=function(){return et.missing(this.sort)},e.prototype.isSorting=function(){return et.exists(this.sort)},e.prototype.getSortedAt=function(){return this.sortedAt},e.prototype.setSortedAt=function(e){this.sortedAt=e},e.prototype.setAggFunc=function(e){this.aggFunc=e},e.prototype.getAggFunc=function(){return this.aggFunc},e.prototype.getLeft=function(){return this.left},e.prototype.getOldLeft=function(){return this.oldLeft},e.prototype.getRight=function(){return this.left+this.actualWidth},e.prototype.setLeft=function(t,o){void 0===o&&(o="api"),this.oldLeft=this.left,this.left!==t&&(this.left=t,this.eventService.dispatchEvent(this.createColumnEvent(e.EVENT_LEFT_CHANGED,o)))},e.prototype.isFilterActive=function(){return this.filterActive},e.prototype.setFilterActive=function(t,o,n){void 0===o&&(o="api"),this.filterActive!==t&&(this.filterActive=t,this.eventService.dispatchEvent(this.createColumnEvent(e.EVENT_FILTER_ACTIVE_CHANGED,o)));var i=this.createColumnEvent(e.EVENT_FILTER_CHANGED,o);n&&et.mergeDeep(i,n),this.eventService.dispatchEvent(i)},e.prototype.setPinned=function(e){!0===e||e===ze.PINNED_LEFT?this.pinned=ze.PINNED_LEFT:e===ze.PINNED_RIGHT?this.pinned=ze.PINNED_RIGHT:this.pinned=null},e.prototype.setFirstRightPinned=function(t,o){void 0===o&&(o="api"),this.firstRightPinned!==t&&(this.firstRightPinned=t,this.eventService.dispatchEvent(this.createColumnEvent(e.EVENT_FIRST_RIGHT_PINNED_CHANGED,o)))},e.prototype.setLastLeftPinned=function(t,o){void 0===o&&(o="api"),this.lastLeftPinned!==t&&(this.lastLeftPinned=t,this.eventService.dispatchEvent(this.createColumnEvent(e.EVENT_LAST_LEFT_PINNED_CHANGED,o)))},e.prototype.isFirstRightPinned=function(){return this.firstRightPinned},e.prototype.isLastLeftPinned=function(){return this.lastLeftPinned},e.prototype.isPinned=function(){return this.pinned===ze.PINNED_LEFT||this.pinned===ze.PINNED_RIGHT},e.prototype.isPinnedLeft=function(){return this.pinned===ze.PINNED_LEFT},e.prototype.isPinnedRight=function(){return this.pinned===ze.PINNED_RIGHT},e.prototype.getPinned=function(){return this.pinned},e.prototype.setVisible=function(t,o){void 0===o&&(o="api");var n=!0===t;this.visible!==n&&(this.visible=n,this.eventService.dispatchEvent(this.createColumnEvent(e.EVENT_VISIBLE_CHANGED,o)))},e.prototype.isVisible=function(){return this.visible},e.prototype.getColDef=function(){return this.colDef},e.prototype.getColumnGroupShow=function(){return this.colDef.columnGroupShow},e.prototype.getColId=function(){return this.colId},e.prototype.getId=function(){return this.getColId()},e.prototype.getDefinition=function(){return this.colDef},e.prototype.getActualWidth=function(){return this.actualWidth},e.prototype.createBaseColDefParams=function(e){return{node:e,data:e.data,colDef:this.colDef,column:this,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()}},e.prototype.getColSpan=function(e){if(et.missing(this.colDef.colSpan))return 1;var t=this.createBaseColDefParams(e),o=this.colDef.colSpan(t);return Math.max(o,1)},e.prototype.getRowSpan=function(e){if(et.missing(this.colDef.rowSpan))return 1;var t=this.createBaseColDefParams(e),o=this.colDef.rowSpan(t);return Math.max(o,1)},e.prototype.setActualWidth=function(t,o){void 0===o&&(o="api"),null!=this.minWidth&&(t=Math.max(t,this.minWidth)),null!=this.maxWidth&&(t=Math.min(t,this.maxWidth)),this.actualWidth!==t&&(this.flex&&"flex"!==o&&(this.flex=0),this.actualWidth=t,this.eventService.dispatchEvent(this.createColumnEvent(e.EVENT_WIDTH_CHANGED,o)))},e.prototype.isGreaterThanMax=function(e){return null!=this.maxWidth&&e>this.maxWidth},e.prototype.getMinWidth=function(){return this.minWidth},e.prototype.getMaxWidth=function(){return this.maxWidth},e.prototype.getFlex=function(){return this.flex||0},e.prototype.setFlex=function(e){this.flex!==e&&(this.flex=e)},e.prototype.setMinimum=function(e){void 0===e&&(e="api"),this.setActualWidth(this.minWidth,e)},e.prototype.setRowGroupActive=function(t,o){void 0===o&&(o="api"),this.rowGroupActive!==t&&(this.rowGroupActive=t,this.eventService.dispatchEvent(this.createColumnEvent(e.EVENT_ROW_GROUP_CHANGED,o)))},e.prototype.isRowGroupActive=function(){return this.rowGroupActive},e.prototype.setPivotActive=function(t,o){void 0===o&&(o="api"),this.pivotActive!==t&&(this.pivotActive=t,this.eventService.dispatchEvent(this.createColumnEvent(e.EVENT_PIVOT_CHANGED,o)))},e.prototype.isPivotActive=function(){return this.pivotActive},e.prototype.isAnyFunctionActive=function(){return this.isPivotActive()||this.isRowGroupActive()||this.isValueActive()},e.prototype.isAnyFunctionAllowed=function(){return this.isAllowPivot()||this.isAllowRowGroup()||this.isAllowValue()},e.prototype.setValueActive=function(t,o){void 0===o&&(o="api"),this.aggregationActive!==t&&(this.aggregationActive=t,this.eventService.dispatchEvent(this.createColumnEvent(e.EVENT_VALUE_CHANGED,o)))},e.prototype.isValueActive=function(){return this.aggregationActive},e.prototype.isAllowPivot=function(){return!0===this.colDef.enablePivot},e.prototype.isAllowValue=function(){return!0===this.colDef.enableValue},e.prototype.isAllowRowGroup=function(){return!0===this.colDef.enableRowGroup},e.prototype.getMenuTabs=function(e){var t=this.getColDef().menuTabs;return null==t&&(t=e),t},e.prototype.isLockPosition=function(){return console.warn("ag-Grid: since v21, col.isLockPosition() should not be used, please use col.getColDef().lockPosition instead."),!!this.colDef&&!!this.colDef.lockPosition},e.prototype.isLockVisible=function(){return console.warn("ag-Grid: since v21, col.isLockVisible() should not be used, please use col.getColDef().lockVisible instead."),!!this.colDef&&!!this.colDef.lockVisible},e.prototype.isLockPinned=function(){return console.warn("ag-Grid: since v21, col.isLockPinned() should not be used, please use col.getColDef().lockPinned instead."),!!this.colDef&&!!this.colDef.lockPinned},e.EVENT_MOVING_CHANGED="movingChanged",e.EVENT_LEFT_CHANGED="leftChanged",e.EVENT_WIDTH_CHANGED="widthChanged",e.EVENT_LAST_LEFT_PINNED_CHANGED="lastLeftPinnedChanged",e.EVENT_FIRST_RIGHT_PINNED_CHANGED="firstRightPinnedChanged",e.EVENT_VISIBLE_CHANGED="visibleChanged",e.EVENT_FILTER_CHANGED="filterChanged",e.EVENT_FILTER_ACTIVE_CHANGED="filterActiveChanged",e.EVENT_SORT_CHANGED="sortChanged",e.EVENT_MENU_VISIBLE_CHANGED="menuVisibleChanged",e.EVENT_ROW_GROUP_CHANGED="columnRowGroupChanged",e.EVENT_PIVOT_CHANGED="columnPivotChanged",e.EVENT_VALUE_CHANGED="columnValueChanged",wt([ut("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),wt([ut("columnUtils")],e.prototype,"columnUtils",void 0),wt([ut("columnApi")],e.prototype,"columnApi",void 0),wt([ut("gridApi")],e.prototype,"gridApi",void 0),wt([ut("context")],e.prototype,"context",void 0),wt([at],e.prototype,"initialise",null),e}(),St=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Et=function(){function e(e,t,o,n){this.displayedChildren=[],this.localEventService=new yt,this.groupId=t,this.instanceId=o,this.originalColumnGroup=e,this.pinned=n}return e.createUniqueId=function(e,t){return e+"_"+t},e.prototype.reset=function(){this.parent=null,this.children=null,this.displayedChildren=null},e.prototype.getParent=function(){return this.parent},e.prototype.setParent=function(e){this.parent=e},e.prototype.getUniqueId=function(){return e.createUniqueId(this.groupId,this.instanceId)},e.prototype.isEmptyGroup=function(){return 0===this.displayedChildren.length},e.prototype.isMoving=function(){var e=this.getOriginalColumnGroup().getLeafColumns();return!(!e||0===e.length)&&e.every((function(e){return e.isMoving()}))},e.prototype.checkLeft=function(){if(this.displayedChildren.forEach((function(t){t instanceof e&&t.checkLeft()})),this.displayedChildren.length>0)if(this.gridOptionsWrapper.isEnableRtl()){var t=et.last(this.displayedChildren).getLeft();this.setLeft(t)}else{var o=this.displayedChildren[0].getLeft();this.setLeft(o)}else this.setLeft(null)},e.prototype.getLeft=function(){return this.left},e.prototype.getOldLeft=function(){return this.oldLeft},e.prototype.setLeft=function(t){this.oldLeft=t,this.left!==t&&(this.left=t,this.localEventService.dispatchEvent(this.createAgEvent(e.EVENT_LEFT_CHANGED)))},e.prototype.getPinned=function(){return this.pinned},e.prototype.createAgEvent=function(e){return{type:e}},e.prototype.addEventListener=function(e,t){this.localEventService.addEventListener(e,t)},e.prototype.removeEventListener=function(e,t){this.localEventService.removeEventListener(e,t)},e.prototype.getGroupId=function(){return this.groupId},e.prototype.getInstanceId=function(){return this.instanceId},e.prototype.isChildInThisGroupDeepSearch=function(t){var o=!1;return this.children.forEach((function(n){t===n&&(o=!0),n instanceof e&&n.isChildInThisGroupDeepSearch(t)&&(o=!0)})),o},e.prototype.getActualWidth=function(){var e=0;return this.displayedChildren&&this.displayedChildren.forEach((function(t){e+=t.getActualWidth()})),e},e.prototype.isResizable=function(){if(!this.displayedChildren)return!1;var e=!1;return this.displayedChildren.forEach((function(t){t.isResizable()&&(e=!0)})),e},e.prototype.getMinWidth=function(){var e=0;return this.displayedChildren.forEach((function(t){e+=t.getMinWidth()})),e},e.prototype.addChild=function(e){this.children||(this.children=[]),this.children.push(e)},e.prototype.getDisplayedChildren=function(){return this.displayedChildren},e.prototype.getLeafColumns=function(){var e=[];return this.addLeafColumns(e),e},e.prototype.getDisplayedLeafColumns=function(){var e=[];return this.addDisplayedLeafColumns(e),e},e.prototype.getDefinition=function(){return this.originalColumnGroup.getColGroupDef()},e.prototype.getColGroupDef=function(){return this.originalColumnGroup.getColGroupDef()},e.prototype.isPadding=function(){return this.originalColumnGroup.isPadding()},e.prototype.isExpandable=function(){return this.originalColumnGroup.isExpandable()},e.prototype.isExpanded=function(){return this.originalColumnGroup.isExpanded()},e.prototype.setExpanded=function(e){this.originalColumnGroup.setExpanded(e)},e.prototype.addDisplayedLeafColumns=function(t){this.displayedChildren.forEach((function(o){o instanceof bt?t.push(o):o instanceof e&&o.addDisplayedLeafColumns(t)}))},e.prototype.addLeafColumns=function(t){this.children.forEach((function(o){o instanceof bt?t.push(o):o instanceof e&&o.addLeafColumns(t)}))},e.prototype.getChildren=function(){return this.children},e.prototype.getColumnGroupShow=function(){return this.originalColumnGroup.getColumnGroupShow()},e.prototype.getOriginalColumnGroup=function(){return this.originalColumnGroup},e.prototype.getPaddingLevel=function(){var e=this.getParent();return this.isPadding()&&e&&e.isPadding()?1+e.getPaddingLevel():0},e.prototype.calculateDisplayedColumns=function(){var t=this;this.displayedChildren=[];var o=this;if(this.isPadding())for(;o.getParent()&&o.isPadding();)o=o.getParent();o.originalColumnGroup.isExpandable()?this.children.forEach((function(n){switch(n.getColumnGroupShow()){case e.HEADER_GROUP_SHOW_OPEN:o.originalColumnGroup.isExpanded()&&t.displayedChildren.push(n);break;case e.HEADER_GROUP_SHOW_CLOSED:o.originalColumnGroup.isExpanded()||t.displayedChildren.push(n);break;default:n instanceof e&&n.isPadding()&&!n.displayedChildren.length||t.displayedChildren.push(n)}})):this.displayedChildren=this.children,this.localEventService.dispatchEvent(this.createAgEvent(e.EVENT_DISPLAYED_CHILDREN_CHANGED))},e.HEADER_GROUP_SHOW_OPEN="open",e.HEADER_GROUP_SHOW_CLOSED="closed",e.HEADER_GROUP_PADDING="padding",e.EVENT_LEFT_CHANGED="leftChanged",e.EVENT_DISPLAYED_CHILDREN_CHANGED="displayedChildrenChanged",St([ut("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),e}(),Rt=function(){function e(e,t,o,n){this.localEventService=new yt,this.expandable=!1,this.colGroupDef=e,this.groupId=t,this.expanded=e&&!!e.openByDefault,this.padding=o,this.level=n}return e.prototype.setOriginalParent=function(e){this.originalParent=e},e.prototype.getOriginalParent=function(){return this.originalParent},e.prototype.getLevel=function(){return this.level},e.prototype.isVisible=function(){return!!this.children&&this.children.some((function(e){return e.isVisible()}))},e.prototype.isPadding=function(){return this.padding},e.prototype.setExpanded=function(t){this.expanded=void 0!==t&&t;var o={type:e.EVENT_EXPANDED_CHANGED};this.localEventService.dispatchEvent(o)},e.prototype.isExpandable=function(){return this.expandable},e.prototype.isExpanded=function(){return this.expanded},e.prototype.getGroupId=function(){return this.groupId},e.prototype.getId=function(){return this.getGroupId()},e.prototype.setChildren=function(e){this.children=e},e.prototype.getChildren=function(){return this.children},e.prototype.getColGroupDef=function(){return this.colGroupDef},e.prototype.getLeafColumns=function(){var e=[];return this.addLeafColumns(e),e},e.prototype.addLeafColumns=function(t){this.children&&this.children.forEach((function(o){o instanceof bt?t.push(o):o instanceof e&&o.addLeafColumns(t)}))},e.prototype.getColumnGroupShow=function(){return this.padding?Et.HEADER_GROUP_PADDING:this.colGroupDef.columnGroupShow},e.prototype.setupExpandable=function(){var e=this;this.setExpandable(),this.getLeafColumns().forEach((function(t){return t.addEventListener(bt.EVENT_VISIBLE_CHANGED,e.onColumnVisibilityChanged.bind(e))}))},e.prototype.setExpandable=function(){if(!this.isPadding()){for(var t=!1,o=!1,n=!1,i=this.findChildren(),r=0,s=i.length;r<s;r++){var a=i[r];if(a.isVisible()){var l=a.getColumnGroupShow();if(l===Et.HEADER_GROUP_SHOW_OPEN)t=!0,n=!0;else if(l===Et.HEADER_GROUP_SHOW_CLOSED)o=!0,n=!0;else{if(t=!0,o=!0,l===Et.HEADER_GROUP_PADDING)n=n||a.children.some((function(e){return void 0!==e.getColumnGroupShow()}))}}}var c=t&&o&&n;if(this.expandable!==c){this.expandable=c;var u={type:e.EVENT_EXPANDABLE_CHANGED};this.localEventService.dispatchEvent(u)}}},e.prototype.findChildren=function(){var t=this.children,o=t[0];if(o&&(!o.isPadding||!o.isPadding()))return t;for(;1===t.length&&t[0]instanceof e;)t=t[0].children;return t},e.prototype.onColumnVisibilityChanged=function(){this.setExpandable()},e.prototype.addEventListener=function(e,t){this.localEventService.addEventListener(e,t)},e.prototype.removeEventListener=function(e,t){this.localEventService.removeEventListener(e,t)},e.EVENT_EXPANDED_CHANGED="expandedChanged",e.EVENT_EXPANDABLE_CHANGED="expandableChanged",e}(),Pt={numericColumn:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"},rightAligned:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"}},Ot=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},xt=function(){function e(){var e=this;this.destroyFunctions=[],this.destroyed=!1,this.getContext=function(){return e.context},this.isAlive=function(){return!e.destroyed}}return e.prototype.getFrameworkOverrides=function(){return this.frameworkOverrides},e.prototype.destroy=function(){this.destroyFunctions.forEach((function(e){return e()})),this.destroyFunctions.length=0,this.destroyed=!0,this.dispatchEvent({type:e.EVENT_DESTROYED})},e.prototype.addEventListener=function(e,t){this.localEventService||(this.localEventService=new yt),this.localEventService.addEventListener(e,t)},e.prototype.removeEventListener=function(e,t){this.localEventService&&this.localEventService.removeEventListener(e,t)},e.prototype.dispatchEventAsync=function(e){var t=this;window.setTimeout((function(){return t.dispatchEvent(e)}),0)},e.prototype.dispatchEvent=function(e){this.localEventService&&this.localEventService.dispatchEvent(e)},e.prototype.addManagedListener=function(e,t,o){var n=this;if(!this.destroyed){e instanceof HTMLElement?et.addSafePassiveEventListener(this.getFrameworkOverrides(),e,t,o):e.addEventListener(t,o);var i=function(){return e.removeEventListener(t,o),n.destroyFunctions=n.destroyFunctions.filter((function(e){return e!==i})),null};return this.destroyFunctions.push(i),i}},e.prototype.addDestroyFunc=function(e){this.isAlive()?this.destroyFunctions.push(e):e()},e.prototype.createManagedBean=function(e,t){var o=this.createBean(e,t);return this.addDestroyFunc(this.destroyBean.bind(this,e,t)),o},e.prototype.createBean=function(e,t,o){return(t||this.getContext()).createBean(e,o)},e.prototype.destroyBean=function(e,t){return(t||this.getContext()).destroyBean(e)},e.prototype.destroyBeans=function(e,t){var o=this;return e&&e.forEach((function(e){return o.destroyBean(e,t)})),[]},e.EVENT_DESTROYED="destroyed",Ot([ut("frameworkOverrides")],e.prototype,"frameworkOverrides",void 0),Ot([ut("context")],e.prototype,"context",void 0),Ot([ut("eventService")],e.prototype,"eventService",void 0),Ot([lt],e.prototype,"destroy",null),e}(),Tt=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Dt=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},At=function(e,t){return function(o,n){t(o,n,e)}},Ft=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Tt(t,e),t.prototype.setBeans=function(e){this.logger=e.create("ColumnFactory")},t.prototype.createColumnTree=function(e,t,o){var n=new it;if(o){var i=o.map((function(e){return e.getId()}));n.addExistingKeys(i)}var r=o?o.slice():null,s=this.recursivelyCreateColumns(e,0,t,r,n,null),a=this.findMaxDept(s,0);this.logger.log("Number of levels for grouped columns is "+a);var l=this.balanceColumnTree(s,0,a,n);return this.columnUtils.depthFirstOriginalTreeSearch(null,l,(function(e,t){e instanceof Rt&&e.setupExpandable(),e.setOriginalParent(t)})),{columnTree:l,treeDept:a}},t.prototype.createForAutoGroups=function(e,t){var o=this,n=[];return e.forEach((function(e){var i=o.createAutoGroupTreeItem(t,e);n.push(i)})),n},t.prototype.createAutoGroupTreeItem=function(e,t){for(var o=t,n=this.findDepth(e)-1;n>=0;n--){var i=new Rt(null,"FAKE_PATH_"+t.getId()+"}_"+n,!0,n);this.context.createBean(i),i.setChildren([o]),o.setOriginalParent(i),o=i}return o},t.prototype.findDepth=function(e){for(var t=0,o=e;o&&o[0]&&o[0]instanceof Rt;)t++,o=o[0].getChildren();return t},t.prototype.balanceColumnTree=function(e,t,o,n){for(var i=[],r=0;r<e.length;r++){var s=e[r];if(s instanceof Rt){var a=s,l=this.balanceColumnTree(a.getChildren(),t+1,o,n);a.setChildren(l),i.push(a)}else{for(var c=void 0,u=void 0,d=o-1;d>=t;d--){var h=n.getUniqueKey(null,null),p=this.createMergedColGroupDef(null),g=new Rt(p,h,!0,t);this.context.createBean(g),u&&u.setChildren([g]),u=g,c||(c=u)}if(c){i.push(c);var f=e.some((function(e){return e instanceof Rt}));if(f){u.setChildren([s]);continue}u.setChildren(e);break}i.push(s)}}return i},t.prototype.findMaxDept=function(e,t){for(var o=t,n=0;n<e.length;n++){var i=e[n];if(i instanceof Rt){var r=i,s=this.findMaxDept(r.getChildren(),t+1);o<s&&(o=s)}}return o},t.prototype.recursivelyCreateColumns=function(e,t,o,n,i,r){var s=this,a=[];return e?(e.forEach((function(e){var l;l=s.isColumnGroup(e)?s.createColumnGroup(o,e,t,n,i,r):s.createColumn(o,e,n,i,r),a.push(l)})),a):a},t.prototype.createColumnGroup=function(e,t,o,n,i,r){var s=this.createMergedColGroupDef(t),a=i.getUniqueKey(s.groupId,null),l=new Rt(s,a,!1,o);this.context.createBean(l);var c=this.recursivelyCreateColumns(s.children,o+1,e,n,i,l);return l.setChildren(c),l},t.prototype.createMergedColGroupDef=function(e){var t={};return et.assign(t,this.gridOptionsWrapper.getDefaultColGroupDef()),et.assign(t,e),this.checkForDeprecatedItems(t),t},t.prototype.createColumn=function(e,t,o,n,i){var r=this.mergeColDefs(t);this.checkForDeprecatedItems(r);var s=this.findExistingColumn(t,o);if(s)s.setColDef(r,t);else{var a=n.getUniqueKey(r.colId,r.field);s=new bt(r,t,a,e),this.context.createBean(s)}return s},t.prototype.findExistingColumn=function(e,t){var o=et.find(t,(function(t){var o=t.getUserProvidedColDef();return!!o&&(o===e||!(null===o.colId||void 0===o.colId)&&o.colId===e.colId)}));return o&&et.removeFromArray(t,o),o},t.prototype.mergeColDefs=function(e){var t={};return et.assign(t,this.gridOptionsWrapper.getDefaultColDef()),e.type&&this.assignColumnTypes(e,t),et.assign(t,e),t},t.prototype.assignColumnTypes=function(e,t){var o;if(e.type instanceof Array){e.type.some((function(e){return"string"!==typeof e}))?console.warn("ag-grid: if colDef.type is supplied an array it should be of type 'string[]'"):o=e.type}else{if("string"!==typeof e.type)return void console.warn("ag-grid: colDef.type should be of type 'string' | 'string[]'");o=e.type.split(",")}var n=et.assign({},Pt),i=this.gridOptionsWrapper.getColumnTypes()||{};et.iterateObject(i,(function(e,t){e in n?console.warn("ag-Grid: the column type '"+e+"' is a default column type and cannot be overridden."):n[e]=t})),o.forEach((function(e){var o=n[e.trim()];o?et.assign(t,o):console.warn("ag-grid: colDef.type '"+e+"' does not correspond to defined gridOptions.columnTypes")}))},t.prototype.checkForDeprecatedItems=function(e){if(e){var t=e;void 0!==t.group&&console.warn("ag-grid: colDef.group is invalid, please check documentation on how to do grouping as it changed in version 3"),void 0!==t.headerGroup&&console.warn("ag-grid: colDef.headerGroup is invalid, please check documentation on how to do grouping as it changed in version 3"),void 0!==t.headerGroupShow&&console.warn("ag-grid: colDef.headerGroupShow is invalid, should be columnGroupShow, please check documentation on how to do grouping as it changed in version 3"),void 0!==t.suppressRowGroup&&console.warn("ag-grid: colDef.suppressRowGroup is deprecated, please use colDef.type instead"),void 0!==t.suppressAggregation&&console.warn("ag-grid: colDef.suppressAggregation is deprecated, please use colDef.type instead"),(t.suppressRowGroup||t.suppressAggregation)&&console.warn("ag-grid: colDef.suppressAggregation and colDef.suppressRowGroup are deprecated, use allowRowGroup, allowPivot and allowValue instead"),t.displayName&&(console.warn("ag-grid: Found displayName "+t.displayName+", please use headerName instead, displayName is deprecated."),t.headerName=t.displayName)}},t.prototype.isColumnGroup=function(e){return void 0!==e.children},Dt([ut("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),Dt([ut("columnUtils")],t.prototype,"columnUtils",void 0),Dt([At(0,pt("loggerFactory"))],t.prototype,"setBeans",null),t=Dt([ct("columnFactory")],t)}(xt),_t=function(){function e(){}return e.EVENT_COLUMN_EVERYTHING_CHANGED="columnEverythingChanged",e.EVENT_NEW_COLUMNS_LOADED="newColumnsLoaded",e.EVENT_COLUMN_PIVOT_MODE_CHANGED="columnPivotModeChanged",e.EVENT_COLUMN_ROW_GROUP_CHANGED="columnRowGroupChanged",e.EVENT_EXPAND_COLLAPSE_ALL="expandOrCollapseAll",e.EVENT_COLUMN_PIVOT_CHANGED="columnPivotChanged",e.EVENT_GRID_COLUMNS_CHANGED="gridColumnsChanged",e.EVENT_COLUMN_VALUE_CHANGED="columnValueChanged",e.EVENT_COLUMN_MOVED="columnMoved",e.EVENT_COLUMN_VISIBLE="columnVisible",e.EVENT_COLUMN_PINNED="columnPinned",e.EVENT_COLUMN_GROUP_OPENED="columnGroupOpened",e.EVENT_COLUMN_RESIZED="columnResized",e.EVENT_DISPLAYED_COLUMNS_CHANGED="displayedColumnsChanged",e.EVENT_VIRTUAL_COLUMNS_CHANGED="virtualColumnsChanged",e.EVENT_ROW_GROUP_OPENED="rowGroupOpened",e.EVENT_ROW_DATA_CHANGED="rowDataChanged",e.EVENT_ROW_DATA_UPDATED="rowDataUpdated",e.EVENT_PINNED_ROW_DATA_CHANGED="pinnedRowDataChanged",e.EVENT_RANGE_SELECTION_CHANGED="rangeSelectionChanged",e.EVENT_CHART_CREATED="chartCreated",e.EVENT_CHART_RANGE_SELECTION_CHANGED="chartRangeSelectionChanged",e.EVENT_CHART_OPTIONS_CHANGED="chartOptionsChanged",e.EVENT_CHART_DESTROYED="chartDestroyed",e.EVENT_TOOL_PANEL_VISIBLE_CHANGED="toolPanelVisibleChanged",e.EVENT_MODEL_UPDATED="modelUpdated",e.EVENT_PASTE_START="pasteStart",e.EVENT_PASTE_END="pasteEnd",e.EVENT_FILL_START="fillStart",e.EVENT_FILL_END="fillEnd",e.EVENT_CELL_CLICKED="cellClicked",e.EVENT_CELL_DOUBLE_CLICKED="cellDoubleClicked",e.EVENT_CELL_MOUSE_DOWN="cellMouseDown",e.EVENT_CELL_CONTEXT_MENU="cellContextMenu",e.EVENT_CELL_VALUE_CHANGED="cellValueChanged",e.EVENT_ROW_VALUE_CHANGED="rowValueChanged",e.EVENT_CELL_FOCUSED="cellFocused",e.EVENT_ROW_SELECTED="rowSelected",e.EVENT_SELECTION_CHANGED="selectionChanged",e.EVENT_CELL_KEY_DOWN="cellKeyDown",e.EVENT_CELL_KEY_PRESS="cellKeyPress",e.EVENT_CELL_MOUSE_OVER="cellMouseOver",e.EVENT_CELL_MOUSE_OUT="cellMouseOut",e.EVENT_FILTER_CHANGED="filterChanged",e.EVENT_FILTER_MODIFIED="filterModified",e.EVENT_FILTER_OPENED="filterOpened",e.EVENT_SORT_CHANGED="sortChanged",e.EVENT_VIRTUAL_ROW_REMOVED="virtualRowRemoved",e.EVENT_ROW_CLICKED="rowClicked",e.EVENT_ROW_DOUBLE_CLICKED="rowDoubleClicked",e.EVENT_GRID_READY="gridReady",e.EVENT_GRID_SIZE_CHANGED="gridSizeChanged",e.EVENT_VIEWPORT_CHANGED="viewportChanged",e.EVENT_FIRST_DATA_RENDERED="firstDataRendered",e.EVENT_DRAG_STARTED="dragStarted",e.EVENT_DRAG_STOPPED="dragStopped",e.EVENT_CHECKBOX_CHANGED="checkboxChanged",e.EVENT_ROW_EDITING_STARTED="rowEditingStarted",e.EVENT_ROW_EDITING_STOPPED="rowEditingStopped",e.EVENT_CELL_EDITING_STARTED="cellEditingStarted",e.EVENT_CELL_EDITING_STOPPED="cellEditingStopped",e.EVENT_BODY_SCROLL="bodyScroll",e.EVENT_ANIMATION_QUEUE_EMPTY="animationQueueEmpty",e.EVENT_HEIGHT_SCALE_CHANGED="heightScaleChanged",e.EVENT_PAGINATION_CHANGED="paginationChanged",e.EVENT_COMPONENT_STATE_CHANGED="componentStateChanged",e.EVENT_BODY_HEIGHT_CHANGED="bodyHeightChanged",e.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED="displayedColumnsWidthChanged",e.EVENT_SCROLL_VISIBILITY_CHANGED="scrollVisibilityChanged",e.EVENT_COLUMN_HOVER_CHANGED="columnHoverChanged",e.EVENT_FLASH_CELLS="flashCells",e.EVENT_ROW_DRAG_ENTER="rowDragEnter",e.EVENT_ROW_DRAG_MOVE="rowDragMove",e.EVENT_ROW_DRAG_LEAVE="rowDragLeave",e.EVENT_ROW_DRAG_END="rowDragEnd",e.EVENT_POPUP_TO_FRONT="popupToFront",e.EVENT_COLUMN_ROW_GROUP_CHANGE_REQUEST="columnRowGroupChangeRequest",e.EVENT_COLUMN_PIVOT_CHANGE_REQUEST="columnPivotChangeRequest",e.EVENT_COLUMN_VALUE_CHANGE_REQUEST="columnValueChangeRequest",e.EVENT_COLUMN_AGG_FUNC_CHANGE_REQUEST="columnAggFuncChangeRequest",e.EVENT_KEYBOARD_FOCUS="keyboardFocus",e.EVENT_MOUSE_FOCUS="mouseFocus",e}(),Mt=function(){function e(){this.existingIds={}}return e.prototype.getInstanceIdForKey=function(e){var t,o=this.existingIds[e];return t="number"!==typeof o?0:o+1,this.existingIds[e]=t,t},e}(),It=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Lt=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Nt=function(e,t){return function(o,n){t(o,n,e)}},kt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.primaryHeaderRowCount=0,t.secondaryHeaderRowCount=0,t.secondaryColumnsPresent=!1,t.gridHeaderRowCount=0,t.displayedLeftColumns=[],t.displayedRightColumns=[],t.displayedCenterColumns=[],t.allDisplayedColumns=[],t.allDisplayedVirtualColumns=[],t.allDisplayedCenterVirtualColumns=[],t.rowGroupColumns=[],t.valueColumns=[],t.pivotColumns=[],t.ready=!1,t.autoGroupsNeedBuilding=!1,t.forceRecreateAutoGroups=!1,t.pivotMode=!1,t.bodyWidth=0,t.leftWidth=0,t.rightWidth=0,t.bodyWidthDirty=!0,t.flexActive=!1,t}return It(t,e),t.prototype.init=function(){this.suppressColumnVirtualisation=this.gridOptionsWrapper.isSuppressColumnVirtualisation();var e=this.gridOptionsWrapper.isPivotMode();this.isPivotSettingAllowed(e)&&(this.pivotMode=e),this.usingTreeData=this.gridOptionsWrapper.isTreeData(),this.addManagedListener(this.gridOptionsWrapper,"autoGroupColumnDef",this.onAutoGroupColumnDefChanged.bind(this))},t.prototype.onAutoGroupColumnDefChanged=function(){this.autoGroupsNeedBuilding=!0,this.forceRecreateAutoGroups=!0,this.updateGridColumns(),this.updateDisplayedColumns("gridOptionsChanged")},t.prototype.setColumnDefs=function(e,t){void 0===t&&(t="api");var o=!!this.columnDefs;this.columnDefs=e,this.valueCache.expire(),this.autoGroupsNeedBuilding=!0;var n=this.primaryColumns,i=this.columnFactory.createColumnTree(e,!0,n);this.primaryColumnTree=i.columnTree,this.primaryHeaderRowCount=i.treeDept+1,this.primaryColumns=this.getColumnsFromTree(this.primaryColumnTree),this.extractRowGroupColumns(t,n),this.extractPivotColumns(t,n),this.createValueColumns(t,n),this.ready=!0,this.updateGridColumns(),this.updateDisplayedColumns(t),this.checkDisplayedVirtualColumns(),this.gridOptionsWrapper.isImmutableColumns()&&o&&this.resetColumnState(!0,t);var r={type:_t.EVENT_COLUMN_EVERYTHING_CHANGED,api:this.gridApi,columnApi:this.columnApi,source:t};this.eventService.dispatchEvent(r);var s={type:_t.EVENT_NEW_COLUMNS_LOADED,api:this.gridApi,columnApi:this.columnApi};this.eventService.dispatchEvent(s),this.flexActive=this.getDisplayedCenterColumns().some((function(e){return!!e.getFlex()}))},t.prototype.isAutoRowHeightActive=function(){return this.autoRowHeightColumns&&this.autoRowHeightColumns.length>0},t.prototype.getAllAutoRowHeightCols=function(){return this.autoRowHeightColumns},t.prototype.setVirtualViewportLeftAndRight=function(){this.gridOptionsWrapper.isEnableRtl()?(this.viewportLeft=this.bodyWidth-this.scrollPosition-this.scrollWidth,this.viewportRight=this.bodyWidth-this.scrollPosition):(this.viewportLeft=this.scrollPosition,this.viewportRight=this.scrollWidth+this.scrollPosition)},t.prototype.getDisplayedColumnsStartingAt=function(e){for(var t=e,o=[];null!=t;)o.push(t),t=this.getDisplayedColAfter(t);return o},t.prototype.checkDisplayedVirtualColumns=function(){if(null!=this.displayedCenterColumns){var e=this.allDisplayedVirtualColumns.map((function(e){return e.getId()})).join("#");if(this.updateVirtualSets(),e!==this.allDisplayedVirtualColumns.map((function(e){return e.getId()})).join("#")){var t={type:_t.EVENT_VIRTUAL_COLUMNS_CHANGED,api:this.gridApi,columnApi:this.columnApi};this.eventService.dispatchEvent(t)}}},t.prototype.setVirtualViewportPosition=function(e,t){(e!==this.scrollWidth||t!==this.scrollPosition||this.bodyWidthDirty)&&(this.scrollWidth=e,this.scrollPosition=t,this.bodyWidthDirty=!0,this.setVirtualViewportLeftAndRight(),this.ready&&this.checkDisplayedVirtualColumns())},t.prototype.isPivotMode=function(){return this.pivotMode},t.prototype.isPivotSettingAllowed=function(e){return!e||!this.gridOptionsWrapper.isTreeData()||(console.warn("ag-Grid: Pivot mode not available in conjunction Tree Data i.e. 'gridOptions.treeData: true'"),!1)},t.prototype.setPivotMode=function(e,t){if(void 0===t&&(t="api"),e!==this.pivotMode&&this.isPivotSettingAllowed(this.pivotMode)){this.pivotMode=e,this.autoGroupsNeedBuilding=!0,this.updateGridColumns(),this.updateDisplayedColumns(t);var o={type:_t.EVENT_COLUMN_PIVOT_MODE_CHANGED,api:this.gridApi,columnApi:this.columnApi};this.eventService.dispatchEvent(o)}},t.prototype.getSecondaryPivotColumn=function(e,t){if(!this.secondaryColumnsPresent||!this.secondaryColumns)return null;var o=this.getPrimaryColumn(t),n=null;return this.secondaryColumns.forEach((function(t){var i=t.getColDef().pivotKeys,r=t.getColDef().pivotValueColumn;X(i,e)&&r===o&&(n=t)})),n},t.prototype.setBeans=function(e){this.logger=e.create("ColumnController")},t.prototype.setFirstRightAndLastLeftPinned=function(e){var t,o;this.gridOptionsWrapper.isEnableRtl()?(t=this.displayedLeftColumns?this.displayedLeftColumns[0]:null,o=this.displayedRightColumns?et.last(this.displayedRightColumns):null):(t=this.displayedLeftColumns?et.last(this.displayedLeftColumns):null,o=this.displayedRightColumns?this.displayedRightColumns[0]:null),this.gridColumns.forEach((function(n){n.setLastLeftPinned(n===t,e),n.setFirstRightPinned(n===o,e)}))},t.prototype.autoSizeColumns=function(e,t,o){var n=this;void 0===o&&(o="api"),this.animationFrameService.flushAllFrames();var i=[],r=-1;for(null==t&&(t=this.gridOptionsWrapper.isSkipHeaderOnAutoSize());0!==r;)r=0,this.actionOnGridColumns(e,(function(e){if(i.indexOf(e)>=0)return!1;var s=n.autoWidthCalculator.getPreferredWidthForColumn(e,t);if(s>0){var a=n.normaliseColumnWidth(e,s);e.setActualWidth(a,o),i.push(e),r++}return!0}),o);if(i.length){var s={type:_t.EVENT_COLUMN_RESIZED,columns:i,column:1===i.length?i[0]:null,finished:!0,api:this.gridApi,columnApi:this.columnApi,source:"autosizeColumns"};this.eventService.dispatchEvent(s)}},t.prototype.autoSizeColumn=function(e,t,o){void 0===o&&(o="api"),e&&this.autoSizeColumns([e],t,o)},t.prototype.autoSizeAllColumns=function(e,t){void 0===t&&(t="api");var o=this.getAllDisplayedColumns();this.autoSizeColumns(o,e,t)},t.prototype.getColumnsFromTree=function(e){var t=[],o=function(e){for(var n=0;n<e.length;n++){var i=e[n];i instanceof bt?t.push(i):i instanceof Rt&&o(i.getChildren())}};return o(e),t},t.prototype.getAllDisplayedColumnGroups=function(){return this.displayedLeftColumnTree&&this.displayedRightColumnTree&&this.displayedCentreColumnTree?this.displayedLeftColumnTree.concat(this.displayedCentreColumnTree).concat(this.displayedRightColumnTree):null},t.prototype.getPrimaryColumnTree=function(){return this.primaryColumnTree},t.prototype.getHeaderRowCount=function(){return this.gridHeaderRowCount},t.prototype.getLeftDisplayedColumnGroups=function(){return this.displayedLeftColumnTree},t.prototype.getRightDisplayedColumnGroups=function(){return this.displayedRightColumnTree},t.prototype.getCenterDisplayedColumnGroups=function(){return this.displayedCentreColumnTree},t.prototype.getDisplayedColumnGroups=function(e){switch(e){case ze.PINNED_LEFT:return this.getLeftDisplayedColumnGroups();case ze.PINNED_RIGHT:return this.getRightDisplayedColumnGroups();default:return this.getCenterDisplayedColumnGroups()}},t.prototype.isColumnDisplayed=function(e){return this.getAllDisplayedColumns().indexOf(e)>=0},t.prototype.getAllDisplayedColumns=function(){return this.allDisplayedColumns},t.prototype.getAllDisplayedVirtualColumns=function(){return this.allDisplayedVirtualColumns},t.prototype.getDisplayedLeftColumnsForRow=function(e){return this.colSpanActive?this.getDisplayedColumnsForRow(e,this.displayedLeftColumns):this.displayedLeftColumns},t.prototype.getDisplayedRightColumnsForRow=function(e){return this.colSpanActive?this.getDisplayedColumnsForRow(e,this.displayedRightColumns):this.displayedRightColumns},t.prototype.getDisplayedColumnsForRow=function(e,t,o,n){for(var i,r=[],s=null,a=function(a){var l,c=t[a],u=t.length-a,d=Math.min(c.getColSpan(e),u),h=[c];if(d>1){for(var p=d-1,g=1;g<=p;g++)h.push(t[a+g]);a+=p}if(o?(l=!1,h.forEach((function(e){o(e)&&(l=!0)}))):l=!0,l){if(0===r.length&&s)!!n&&n(c)&&r.push(s);r.push(c)}s=c,i=a},l=0;l<t.length;l++)a(l),l=i;return r},t.prototype.getAllDisplayedCenterVirtualColumnsForRow=function(e){var t=this;if(!this.colSpanActive)return this.allDisplayedCenterVirtualColumns;var o=this.suppressColumnVirtualisation?null:this.isColumnInViewport.bind(this);return this.getDisplayedColumnsForRow(e,this.displayedCenterColumns,o,(function(e){return e.getLeft()>t.viewportLeft}))},t.prototype.isColumnInViewport=function(e){var t=e.getLeft(),o=e.getLeft()+e.getActualWidth(),n=this.viewportLeft-200,i=this.viewportRight+200;return!(t<n&&o<n)&&!(t>i&&o>i)},t.prototype.getPinnedLeftContainerWidth=function(){return this.getWidthOfColsInList(this.displayedLeftColumns)},t.prototype.getPinnedRightContainerWidth=function(){return this.getWidthOfColsInList(this.displayedRightColumns)},t.prototype.updatePrimaryColumnList=function(e,t,o,n,i,r){var s=this;if(void 0===r&&(r="api"),e&&!et.missingOrEmpty(e)){var a=!1;if(e.forEach((function(e){var i=s.getPrimaryColumn(e);if(i){if(o){if(t.indexOf(i)>=0)return;t.push(i)}else{if(t.indexOf(i)<0)return;et.removeFromArray(t,i)}n(i),a=!0}})),a){this.autoGroupsNeedBuilding&&this.updateGridColumns(),this.updateDisplayedColumns(r);var l={type:i,columns:t,column:1===t.length?t[0]:null,api:this.gridApi,columnApi:this.columnApi,source:r};this.eventService.dispatchEvent(l)}}},t.prototype.setRowGroupColumns=function(e,t){void 0===t&&(t="api"),this.autoGroupsNeedBuilding=!0,this.setPrimaryColumnList(e,this.rowGroupColumns,_t.EVENT_COLUMN_ROW_GROUP_CHANGED,this.setRowGroupActive.bind(this),t)},t.prototype.setRowGroupActive=function(e,t,o){e!==t.isRowGroupActive()&&(t.setRowGroupActive(e,o),e||this.gridOptionsWrapper.isSuppressMakeColumnVisibleAfterUnGroup()||t.setVisible(!0,o))},t.prototype.addRowGroupColumn=function(e,t){void 0===t&&(t="api"),e&&this.addRowGroupColumns([e],t)},t.prototype.addRowGroupColumns=function(e,t){void 0===t&&(t="api"),this.autoGroupsNeedBuilding=!0,this.updatePrimaryColumnList(e,this.rowGroupColumns,!0,this.setRowGroupActive.bind(this,!0),_t.EVENT_COLUMN_ROW_GROUP_CHANGED,t)},t.prototype.removeRowGroupColumns=function(e,t){void 0===t&&(t="api"),this.autoGroupsNeedBuilding=!0,this.updatePrimaryColumnList(e,this.rowGroupColumns,!1,this.setRowGroupActive.bind(this,!1),_t.EVENT_COLUMN_ROW_GROUP_CHANGED,t)},t.prototype.removeRowGroupColumn=function(e,t){void 0===t&&(t="api"),e&&this.removeRowGroupColumns([e],t)},t.prototype.addPivotColumns=function(e,t){void 0===t&&(t="api"),this.updatePrimaryColumnList(e,this.pivotColumns,!0,(function(e){return e.setPivotActive(!0,t)}),_t.EVENT_COLUMN_PIVOT_CHANGED,t)},t.prototype.setPivotColumns=function(e,t){void 0===t&&(t="api"),this.setPrimaryColumnList(e,this.pivotColumns,_t.EVENT_COLUMN_PIVOT_CHANGED,(function(e,o){o.setPivotActive(e,t)}),t)},t.prototype.addPivotColumn=function(e,t){void 0===t&&(t="api"),this.addPivotColumns([e],t)},t.prototype.removePivotColumns=function(e,t){void 0===t&&(t="api"),this.updatePrimaryColumnList(e,this.pivotColumns,!1,(function(e){return e.setPivotActive(!1,t)}),_t.EVENT_COLUMN_PIVOT_CHANGED,t)},t.prototype.removePivotColumn=function(e,t){void 0===t&&(t="api"),this.removePivotColumns([e],t)},t.prototype.setPrimaryColumnList=function(e,t,o,n,i){var r=this;t.length=0,et.exists(e)&&e.forEach((function(e){var o=r.getPrimaryColumn(e);o&&t.push(o)})),this.primaryColumns.forEach((function(e){var o=t.indexOf(e)>=0;n(o,e)})),this.autoGroupsNeedBuilding&&this.updateGridColumns(),this.updateDisplayedColumns(i);var s={type:o,columns:t,column:1===t.length?t[0]:null,api:this.gridApi,columnApi:this.columnApi,source:i};this.eventService.dispatchEvent(s)},t.prototype.setValueColumns=function(e,t){void 0===t&&(t="api"),this.setPrimaryColumnList(e,this.valueColumns,_t.EVENT_COLUMN_VALUE_CHANGED,this.setValueActive.bind(this),t)},t.prototype.setValueActive=function(e,t,o){if(e!==t.isValueActive()&&(t.setValueActive(e,o),e&&!t.getAggFunc())){var n=this.aggFuncService.getDefaultAggFunc(t);t.setAggFunc(n)}},t.prototype.addValueColumns=function(e,t){void 0===t&&(t="api"),this.updatePrimaryColumnList(e,this.valueColumns,!0,this.setValueActive.bind(this,!0),_t.EVENT_COLUMN_VALUE_CHANGED,t)},t.prototype.addValueColumn=function(e,t){void 0===t&&(t="api"),e&&this.addValueColumns([e],t)},t.prototype.removeValueColumn=function(e,t){void 0===t&&(t="api"),this.removeValueColumns([e],t)},t.prototype.removeValueColumns=function(e,t){void 0===t&&(t="api"),this.updatePrimaryColumnList(e,this.valueColumns,!1,this.setValueActive.bind(this,!1),_t.EVENT_COLUMN_VALUE_CHANGED,t)},t.prototype.normaliseColumnWidth=function(e,t){return t<e.getMinWidth()&&(t=e.getMinWidth()),e.isGreaterThanMax(t)&&(t=e.getMaxWidth()),t},t.prototype.getPrimaryOrGridColumn=function(e){return this.getPrimaryColumn(e)||this.getGridColumn(e)},t.prototype.setColumnWidths=function(e,t,o,n){var i=this;void 0===n&&(n="api");var r=[];e.forEach((function(e){var o=i.getPrimaryOrGridColumn(e.key);if(o&&(r.push({width:e.newWidth,ratios:[1],columns:[o]}),"shift"===i.gridOptionsWrapper.getColResizeDefault()&&(t=!t),t)){var n=i.getDisplayedColAfter(o);if(!n)return;var s=o.getActualWidth()-e.newWidth,a=n.getActualWidth()+s;r.push({width:a,ratios:[1],columns:[n]})}})),0!==r.length&&(this.resizeColumnSets(r,o,n),this.flexActive&&this.refreshFlexedColumns())},t.prototype.checkMinAndMaxWidthsForSet=function(e){var t=e.columns,o=e.width,n=0,i=0,r=!0;return t.forEach((function(e){n+=e.getMinWidth(),e.getMaxWidth()>0?i+=e.getMaxWidth():r=!1})),o>=n&&(!r||o<=i)},t.prototype.resizeColumnSets=function(e,t,o){if(!e||e.every(this.checkMinAndMaxWidthsForSet.bind(this))){var n=[],i=[];e.forEach((function(e){var t=e.width,r=e.columns,s=e.ratios,a={},l={};r.forEach((function(e){return i.push(e)}));for(var c=!0,u=0,d=function(){if(++u>1e3)return console.error("ag-Grid: infinite loop in resizeColumnSets"),"break";c=!1;var e=[],o=0,n=t;r.forEach((function(t,i){if(l[t.getId()])n-=a[t.getId()];else{e.push(t);var r=s[i];o+=r}}));var i=1/o;e.forEach((function(o,r){var u;r===e.length-1?u=n:(u=Math.round(s[r]*t*i),n-=u),u<o.getMinWidth()?(u=o.getMinWidth(),l[o.getId()]=!0,c=!0):o.getMaxWidth()>0&&u>o.getMaxWidth()&&(u=o.getMaxWidth(),l[o.getId()]=!0,c=!0),a[o.getId()]=u}))};c;){if("break"===d())break}r.forEach((function(e){var t=a[e.getId()];e.getActualWidth()!==t&&(e.setActualWidth(t,o),n.push(e))}))}));var r=n.length>0;if(r&&(this.setLeftValues(o),this.updateBodyWidths(),this.checkDisplayedVirtualColumns()),r||t){var s={type:_t.EVENT_COLUMN_RESIZED,columns:i,column:1===i.length?i[0]:null,finished:t,api:this.gridApi,columnApi:this.columnApi,source:o};this.eventService.dispatchEvent(s)}}else if(t){var a=e&&e.length>0?e[0].columns:null,l={type:_t.EVENT_COLUMN_RESIZED,columns:a,column:a&&1===a.length?a[0]:null,finished:t,api:this.gridApi,columnApi:this.columnApi,source:o};this.eventService.dispatchEvent(l)}},t.prototype.setColumnAggFunc=function(e,t,o){if(void 0===o&&(o="api"),e){e.setAggFunc(t);var n={type:_t.EVENT_COLUMN_VALUE_CHANGED,columns:[e],column:e,api:this.gridApi,columnApi:this.columnApi,source:o};this.eventService.dispatchEvent(n)}},t.prototype.moveRowGroupColumn=function(e,t,o){void 0===o&&(o="api");var n=this.rowGroupColumns[e];this.rowGroupColumns.splice(e,1),this.rowGroupColumns.splice(t,0,n);var i={type:_t.EVENT_COLUMN_ROW_GROUP_CHANGED,columns:this.rowGroupColumns,column:1===this.rowGroupColumns.length?this.rowGroupColumns[0]:null,api:this.gridApi,columnApi:this.columnApi,source:o};this.eventService.dispatchEvent(i)},t.prototype.moveColumns=function(e,t,o){if(void 0===o&&(o="api"),this.columnAnimationService.start(),t>this.gridColumns.length-e.length)return console.warn("ag-Grid: tried to insert columns in invalid location, toIndex = "+t),void console.warn("ag-Grid: remember that you should not count the moving columns when calculating the new index");var n=this.getGridColumns(e);if(!!this.doesMovePassRules(n,t)){et.moveInArray(this.gridColumns,n,t),this.updateDisplayedColumns(o);var i={type:_t.EVENT_COLUMN_MOVED,columns:n,column:1===n.length?n[0]:null,toIndex:t,api:this.gridApi,columnApi:this.columnApi,source:o};this.eventService.dispatchEvent(i),this.columnAnimationService.finish()}},t.prototype.doesMovePassRules=function(e,t){var o=this.gridColumns.slice();return et.moveInArray(o,e,t),!!this.doesMovePassMarryChildren(o)&&!!this.doesMovePassLockedPositions(o)},t.prototype.doesMovePassLockedPositions=function(e){var t=!1,o=!0;return e.forEach((function(e){e.getColDef().lockPosition?t&&(o=!1):t=!0})),o},t.prototype.doesMovePassMarryChildren=function(e){var t=!0;return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,(function(o){if(o instanceof Rt){var n=o;if(n.getColGroupDef()&&n.getColGroupDef().marryChildren){var i=[];n.getLeafColumns().forEach((function(t){var o=e.indexOf(t);i.push(o)})),Math.max.apply(Math,i)-Math.min.apply(Math,i)>n.getLeafColumns().length-1&&(t=!1)}}})),t},t.prototype.moveColumn=function(e,t,o){void 0===o&&(o="api"),this.moveColumns([e],t,o)},t.prototype.moveColumnByIndex=function(e,t,o){void 0===o&&(o="api");var n=this.gridColumns[e];this.moveColumn(n,t,o)},t.prototype.getBodyContainerWidth=function(){return this.bodyWidth},t.prototype.getContainerWidth=function(e){switch(e){case ze.PINNED_LEFT:return this.leftWidth;case ze.PINNED_RIGHT:return this.rightWidth;default:return this.bodyWidth}},t.prototype.updateBodyWidths=function(){var e=this.getWidthOfColsInList(this.displayedCenterColumns),t=this.getWidthOfColsInList(this.displayedLeftColumns),o=this.getWidthOfColsInList(this.displayedRightColumns);if(this.bodyWidthDirty=this.bodyWidth!==e,this.bodyWidth!==e||this.leftWidth!==t||this.rightWidth!==o){this.bodyWidth=e,this.leftWidth=t,this.rightWidth=o;var n={type:_t.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,api:this.gridApi,columnApi:this.columnApi};this.eventService.dispatchEvent(n)}},t.prototype.getValueColumns=function(){return this.valueColumns?this.valueColumns:[]},t.prototype.getPivotColumns=function(){return this.pivotColumns?this.pivotColumns:[]},t.prototype.isPivotActive=function(){return this.pivotColumns&&this.pivotColumns.length>0&&this.pivotMode},t.prototype.getRowGroupColumns=function(){return this.rowGroupColumns?this.rowGroupColumns:[]},t.prototype.getDisplayedCenterColumns=function(){return this.displayedCenterColumns},t.prototype.getDisplayedLeftColumns=function(){return this.displayedLeftColumns},t.prototype.getDisplayedRightColumns=function(){return this.displayedRightColumns},t.prototype.getDisplayedColumns=function(e){switch(e){case ze.PINNED_LEFT:return this.getDisplayedLeftColumns();case ze.PINNED_RIGHT:return this.getDisplayedRightColumns();default:return this.getDisplayedCenterColumns()}},t.prototype.getAllPrimaryColumns=function(){return this.primaryColumns?this.primaryColumns.slice():null},t.prototype.getSecondaryColumns=function(){return this.secondaryColumns?this.secondaryColumns.slice():null},t.prototype.getAllColumnsForQuickFilter=function(){return this.columnsForQuickFilter},t.prototype.getAllGridColumns=function(){return this.gridColumns},t.prototype.isEmpty=function(){return et.missingOrEmpty(this.gridColumns)},t.prototype.isRowGroupEmpty=function(){return et.missingOrEmpty(this.rowGroupColumns)},t.prototype.setColumnVisible=function(e,t,o){void 0===o&&(o="api"),this.setColumnsVisible([e],t,o)},t.prototype.setColumnsVisible=function(e,t,o){var n=this;void 0===o&&(o="api"),this.columnAnimationService.start(),this.actionOnGridColumns(e,(function(e){return e.isVisible()!==t&&(e.setVisible(t,o),!0)}),o,(function(){return{type:_t.EVENT_COLUMN_VISIBLE,visible:t,column:null,columns:null,api:n.gridApi,columnApi:n.columnApi,source:o}})),this.columnAnimationService.finish()},t.prototype.setColumnPinned=function(e,t,o){void 0===o&&(o="api"),e&&this.setColumnsPinned([e],t,o)},t.prototype.setColumnsPinned=function(e,t,o){var n,i=this;(void 0===o&&(o="api"),"print"!==this.gridOptionsWrapper.getDomLayout())?(this.columnAnimationService.start(),n=!0===t||t===ze.PINNED_LEFT?ze.PINNED_LEFT:t===ze.PINNED_RIGHT?ze.PINNED_RIGHT:null,this.actionOnGridColumns(e,(function(e){return e.getPinned()!==n&&(e.setPinned(n),!0)}),o,(function(){return{type:_t.EVENT_COLUMN_PINNED,pinned:n,column:null,columns:null,api:i.gridApi,columnApi:i.columnApi,source:o}})),this.columnAnimationService.finish()):console.warn("Changing the column pinning status is not allowed with domLayout='print'")},t.prototype.actionOnGridColumns=function(e,t,o,n){var i=this;if(!et.missingOrEmpty(e)){var r=[];if(e.forEach((function(e){var o=i.getGridColumn(e);o&&(!1!==t(o)&&r.push(o))})),r.length&&(this.updateDisplayedColumns(o),et.exists(n)&&n)){var s=n();s.columns=r,s.column=1===r.length?r[0]:null,this.eventService.dispatchEvent(s)}}},t.prototype.getDisplayedColBefore=function(e){var t=this.getAllDisplayedColumns(),o=t.indexOf(e);return o>0?t[o-1]:null},t.prototype.getDisplayedColAfter=function(e){var t=this.getAllDisplayedColumns(),o=t.indexOf(e);return o<t.length-1?t[o+1]:null},t.prototype.getDisplayedGroupAfter=function(e){return this.getDisplayedGroupAtDirection(e,"After")},t.prototype.getDisplayedGroupBefore=function(e){return this.getDisplayedGroupAtDirection(e,"Before")},t.prototype.getDisplayedGroupAtDirection=function(e,t){for(var o=e.getOriginalColumnGroup().getLevel()+e.getPaddingLevel(),n=e.getDisplayedLeafColumns(),i="After"===t?et.last(n):n[0],r="getDisplayedCol"+t;;){var s=this[r](i);if(!s)return null;var a=this.getColumnGroupAtLevel(s,o);if(a!==e)return a}},t.prototype.getColumnGroupAtLevel=function(e,t){for(var o=e.getParent();;){if(o.getOriginalColumnGroup().getLevel()+o.getPaddingLevel()<=t)break;o=o.getParent()}return o},t.prototype.isPinningLeft=function(){return this.displayedLeftColumns.length>0},t.prototype.isPinningRight=function(){return this.displayedRightColumns.length>0},t.prototype.getPrimaryAndSecondaryAndAutoColumns=function(){var e=this.primaryColumns?this.primaryColumns.slice(0):[];return this.groupAutoColumns&&et.exists(this.groupAutoColumns)&&this.groupAutoColumns.forEach((function(t){return e.push(t)})),this.secondaryColumnsPresent&&this.secondaryColumns&&this.secondaryColumns.forEach((function(t){return e.push(t)})),e},t.prototype.createStateItemFromColumn=function(e){var t=e.isRowGroupActive()?this.rowGroupColumns.indexOf(e):null,o=e.isPivotActive()?this.pivotColumns.indexOf(e):null,n=e.isValueActive()?e.getAggFunc():null;return{colId:e.getColId(),hide:!e.isVisible(),aggFunc:n,width:e.getActualWidth(),pivotIndex:o,pinned:e.getPinned(),rowGroupIndex:t,flex:e.getFlex()}},t.prototype.getColumnState=function(){if(et.missing(this.primaryColumns))return[];var e=this.primaryColumns.map(this.createStateItemFromColumn.bind(this)),t=(this.groupAutoColumns?this.groupAutoColumns.map(this.createStateItemFromColumn.bind(this)):[]).concat(e);return this.pivotMode||this.orderColumnStateList(t),t},t.prototype.orderColumnStateList=function(e){var t=this.gridColumns.map((function(e){return e.getColId()}));e.sort((function(e,o){return t.indexOf(e.colId)-t.indexOf(o.colId)}))},t.prototype.resetColumnState=function(e,t){void 0===e&&(e=!1),void 0===t&&(t="api");var o=this.getColumnsFromTree(this.primaryColumnTree),n=[],i=1e3,r=1e3;o&&o.forEach((function(e){var t=e.getColDef().rowGroupIndex,o=e.getColDef().rowGroup,s=e.getColDef().pivotIndex,a=e.getColDef().pivot,l={colId:e.getColId(),aggFunc:e.getColDef().aggFunc,hide:e.getColDef().hide,pinned:e.getColDef().pinned,rowGroupIndex:t,pivotIndex:e.getColDef().pivotIndex,width:e.getColDef().width};et.missing(t)&&o&&(l.rowGroupIndex=i++),et.missing(s)&&a&&(l.pivotIndex=r++),n.push(l)})),this.setColumnState(n,e,t)},t.prototype.setColumnState=function(e,t,o){var n=this;if(void 0===t&&(t=!1),void 0===o&&(o="api"),et.missingOrEmpty(this.primaryColumns))return!1;var i=this.getColumnState();this.autoGroupsNeedBuilding=!0;var r=this.primaryColumns.slice();this.rowGroupColumns=[],this.valueColumns=[],this.pivotColumns=[];var s=!0,a={},l={},c=[];if(e&&(e.forEach((function(e){if(et.exists(n.getAutoColumn(e.colId)))c.push(e);else{var t=n.getPrimaryColumn(e.colId);t?(n.syncColumnWithStateItem(t,e,a,l,o),et.removeFromArray(r,t)):(console.warn("ag-grid: column "+e.colId+" not found"),s=!1)}})),this.flexActive&&this.refreshFlexedColumns(void 0,void 0,!0)),r.forEach(this.syncColumnWithNoState.bind(this)),this.rowGroupColumns.sort(this.sortColumnListUsingIndexes.bind(this,a)),this.pivotColumns.sort(this.sortColumnListUsingIndexes.bind(this,l)),this.updateGridColumns(),c.forEach((function(e){var t=n.getAutoColumn(e.colId);n.syncColumnWithStateItem(t,e,a,l,o)})),e){var u=e.map((function(e){return e.colId}));this.gridColumns.sort((function(e,t){return u.indexOf(e.getId())-u.indexOf(t.getId())}))}if(this.putFixedColumnsFirst(),this.updateDisplayedColumns(o),!t){var d={type:_t.EVENT_COLUMN_EVERYTHING_CHANGED,api:this.gridApi,columnApi:this.columnApi,source:o};this.eventService.dispatchEvent(d)}return this.raiseColumnEvents(i,o),s},t.prototype.raiseColumnEvents=function(e,t){var o=this;if(!this.gridOptionsWrapper.isSuppressSetColumnStateEvents()){var n=this.getColumnState(),i=function(i,r,s){if(!X(e.map(r).sort(),n.map(r).sort())){var a={type:i,columns:s,column:1===s.length?s[0]:null,api:o.gridApi,columnApi:o.columnApi,source:t};o.eventService.dispatchEvent(a)}},r=function(t){var n=[],i={};return e.forEach((function(e){i[e.colId]=e})),o.gridColumns.forEach((function(e){var o=i[e.getColId()];o&&!t(o,e)||n.push(e)})),n};i(_t.EVENT_COLUMN_VALUE_CHANGED,(function(e){return e.colId+"-"+e.aggFunc}),this.valueColumns);i(_t.EVENT_COLUMN_PIVOT_CHANGED,(function(e){return e.colId+"-"+e.pivotIndex}),this.pivotColumns);i(_t.EVENT_COLUMN_ROW_GROUP_CHANGED,(function(e){return e.colId+"-"+e.rowGroupIndex}),this.rowGroupColumns);this.raiseColumnPinnedEvent(r((function(e,t){return e.pinned!==t.getPinned()})),t);var s=r((function(e,t){return e.hide===t.isVisible()}));this.raiseColumnVisibleEvent(s,t);this.raiseColumnResizeEvent(r((function(e,t){return e.width!==t.getActualWidth()})),t),this.raiseColumnMovedEvent(e,t)}},t.prototype.raiseColumnPinnedEvent=function(e,t){if(e.length){var o={type:_t.EVENT_COLUMN_PINNED,pinned:null,columns:e,column:null,api:this.gridApi,columnApi:this.columnApi,source:t};this.eventService.dispatchEvent(o)}},t.prototype.raiseColumnVisibleEvent=function(e,t){if(e.length){var o={type:_t.EVENT_COLUMN_VISIBLE,visible:void 0,columns:e,column:null,api:this.gridApi,columnApi:this.columnApi,source:t};this.eventService.dispatchEvent(o)}},t.prototype.raiseColumnResizeEvent=function(e,t){if(e.length){var o={type:_t.EVENT_COLUMN_RESIZED,columns:e,column:null,finished:!0,api:this.gridApi,columnApi:this.columnApi,source:t};this.eventService.dispatchEvent(o)}},t.prototype.raiseColumnMovedEvent=function(e,t){for(var o=[],n=this.getColumnState(),i=function(t){var i=e[t],s=n[t];if(!i||s.hide)return"continue";if(i.colId!==s.colId){var a=et.find(r.allDisplayedColumns,(function(e){return e.getColId()===s.colId}));o.push(a)}},r=this,s=0;s<n.length;s++)i(s);if(o.length){var a={type:_t.EVENT_COLUMN_MOVED,columns:o,column:null,toIndex:void 0,api:this.gridApi,columnApi:this.columnApi,source:t};this.eventService.dispatchEvent(a)}},t.prototype.sortColumnListUsingIndexes=function(e,t,o){return e[t.getId()]-e[o.getId()]},t.prototype.syncColumnWithNoState=function(e,t){e.setVisible(!1,t),e.setAggFunc(null),e.setPinned(null),e.setRowGroupActive(!1,t),e.setPivotActive(!1,t),e.setValueActive(!1,t)},t.prototype.syncColumnWithStateItem=function(e,t,o,n,i){if(e){e.setVisible(!t.hide,i),e.setPinned(t.pinned);var r=this.gridOptionsWrapper.getMinColWidth();null!=t.flex&&(e.setFlex(t.flex),!this.flexActive&&t.flex&&(this.flexActive=!0)),t.width&&r&&t.width>=r&&e.setActualWidth(t.width,i),"string"===typeof t.aggFunc?(e.setAggFunc(t.aggFunc),e.setValueActive(!0,i),this.valueColumns.push(e)):(et.exists(t.aggFunc)&&console.warn("ag-Grid: stateItem.aggFunc must be a string. if using your own aggregation functions, register the functions first before using them in get/set state. This is because it is intended for the column state to be stored and retrieved as simple JSON."),e.setAggFunc(null),e.setValueActive(!1,i)),"number"===typeof t.rowGroupIndex?(this.rowGroupColumns.push(e),e.setRowGroupActive(!0,i),o[e.getId()]=t.rowGroupIndex):e.setRowGroupActive(!1,i),"number"===typeof t.pivotIndex?(this.pivotColumns.push(e),e.setPivotActive(!0,i),n[e.getId()]=t.pivotIndex):e.setPivotActive(!1,i)}},t.prototype.getGridColumns=function(e){return this.getColumns(e,this.getGridColumn.bind(this))},t.prototype.getColumns=function(e,t){var o=[];return e&&e.forEach((function(e){var n=t(e);n&&o.push(n)})),o},t.prototype.getColumnWithValidation=function(e){if(null==e)return null;var t=this.getGridColumn(e);return t||console.warn("ag-Grid: could not find column "+e),t},t.prototype.getPrimaryColumn=function(e){return this.getColumn(e,this.primaryColumns)},t.prototype.getGridColumn=function(e){return this.getColumn(e,this.gridColumns)},t.prototype.getColumn=function(e,t){if(!e)return null;for(var o=0;o<t.length;o++)if(this.columnsMatch(t[o],e))return t[o];return this.getAutoColumn(e)},t.prototype.getAutoColumn=function(e){var t=this;return this.groupAutoColumns&&et.exists(this.groupAutoColumns)&&!et.missing(this.groupAutoColumns)?et.find(this.groupAutoColumns,(function(o){return t.columnsMatch(o,e)})):null},t.prototype.columnsMatch=function(e,t){var o=e===t,n=e.getColDef()===t,i=e.getColId()==t;return o||n||i},t.prototype.getDisplayNameForColumn=function(e,t,o){if(void 0===o&&(o=!1),!e)return null;var n=this.getHeaderName(e.getColDef(),e,null,null,t);return o?this.wrapHeaderNameWithAggFunc(e,n):n},t.prototype.getDisplayNameForOriginalColumnGroup=function(e,t,o){var n=t?t.getColGroupDef():null;return n?this.getHeaderName(n,null,e,t,o):null},t.prototype.getDisplayNameForColumnGroup=function(e,t){return this.getDisplayNameForOriginalColumnGroup(e,e.getOriginalColumnGroup(),t)},t.prototype.getHeaderName=function(e,t,o,n,i){var r=e.headerValueGetter;if(r){var s={colDef:e,column:t,columnGroup:o,originalColumnGroup:n,location:i,api:this.gridOptionsWrapper.getApi(),context:this.gridOptionsWrapper.getContext()};return"function"===typeof r?r(s):"string"===typeof r?this.expressionService.evaluate(r,s):(console.warn("ag-grid: headerValueGetter must be a function or a string"),"")}return null!=e.headerName?e.headerName:e.field?et.camelCaseToHumanText(e.field):""},t.prototype.wrapHeaderNameWithAggFunc=function(e,t){if(this.gridOptionsWrapper.isSuppressAggFuncInHeader())return t;var o,n=e.getColDef().pivotValueColumn,i=null;if(et.exists(n))i=n?n.getAggFunc():null,o=!0;else{var r=e.isValueActive(),s=this.pivotMode||!this.isRowGroupEmpty();r&&s?(i=e.getAggFunc(),o=!0):o=!1}if(o){var a="string"===typeof i?i:"func";return this.gridOptionsWrapper.getLocaleTextFunc()(a,a)+"("+t+")"}return t},t.prototype.getColumnGroup=function(e,t){if(!e)return null;if(e instanceof Et)return e;var o=this.getAllDisplayedColumnGroups(),n="number"===typeof t,i=null;return this.columnUtils.depthFirstAllColumnTreeSearch(o,(function(o){if(o instanceof Et){var r=o;(n?e===r.getGroupId()&&t===r.getInstanceId():e===r.getGroupId())&&(i=r)}})),i},t.prototype.isReady=function(){return this.ready},t.prototype.createValueColumns=function(e,t){this.valueColumns=this.extractColumns(t,this.valueColumns,(function(t,o){return t.setValueActive(o,e)}),(function(){return null}),(function(e){return!!e.aggFunc})),this.valueColumns.forEach((function(e){e.getAggFunc()||e.setAggFunc(e.getColDef().aggFunc)}))},t.prototype.extractRowGroupColumns=function(e,t){this.rowGroupColumns=this.extractColumns(t,this.rowGroupColumns,(function(t,o){return t.setRowGroupActive(o,e)}),(function(e){return e.rowGroupIndex}),(function(e){return e.rowGroup}))},t.prototype.extractColumns=function(e,t,o,n,i){var r=this;t||(t=[]);var s=t.filter((function(e){return r.primaryColumns.indexOf(e)<0})),a=t.filter((function(e){return r.primaryColumns.indexOf(e)>=0})),l=this.primaryColumns.filter((function(t){return!e||e.indexOf(t)<0}));s.forEach((function(e){return o(e,!1)}));var c=[];return l.forEach((function(e){"number"===typeof n(e.getColDef())&&c.push(e)})),c.sort((function(e,t){var o=n(e.getColDef()),i=n(t.getColDef());return o===i?0:o<i?-1:1})),l.forEach((function(e){if(i(e.getColDef())){if(c.indexOf(e)>=0)return;c.push(e)}})),c.forEach((function(e){return o(e,!0)})),a.concat(c)},t.prototype.extractPivotColumns=function(e,t){this.pivotColumns=this.extractColumns(t,this.pivotColumns,(function(t,o){return t.setPivotActive(o,e)}),(function(e){return e.pivotIndex}),(function(e){return e.pivot}))},t.prototype.resetColumnGroupState=function(e){void 0===e&&(e="api");var t=[];this.columnUtils.depthFirstOriginalTreeSearch(null,this.primaryColumnTree,(function(e){if(e instanceof Rt){var o={groupId:e.getGroupId(),open:e.getColGroupDef().openByDefault};t.push(o)}})),this.setColumnGroupState(t,e)},t.prototype.getColumnGroupState=function(){var e=[];return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,(function(t){if(t instanceof Rt){var o=t;e.push({groupId:o.getGroupId(),open:o.isExpanded()})}})),e},t.prototype.setColumnGroupState=function(e,t){var o=this;void 0===t&&(t="api"),this.columnAnimationService.start();var n=[];e.forEach((function(e){var t=e.groupId,i=e.open,r=o.getOriginalColumnGroup(t);r&&r.isExpanded()!==i&&(o.logger.log("columnGroupOpened("+r.getGroupId()+","+i+")"),r.setExpanded(i),n.push(r))})),this.updateGroupsAndDisplayedColumns(t),this.setFirstRightAndLastLeftPinned(t),n.forEach((function(e){var t={type:_t.EVENT_COLUMN_GROUP_OPENED,columnGroup:e,api:o.gridApi,columnApi:o.columnApi};o.eventService.dispatchEvent(t)})),this.columnAnimationService.finish()},t.prototype.setColumnGroupOpened=function(e,t,o){var n;void 0===o&&(o="api"),n=e instanceof Rt?e.getId():e,this.setColumnGroupState([{groupId:n,open:t}],o)},t.prototype.getOriginalColumnGroup=function(e){if(e instanceof Rt)return e;"string"!==typeof e&&console.error("ag-Grid: group key must be a string");var t=null;return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,(function(o){if(o instanceof Rt){var n=o;n.getId()===e&&(t=n)}})),t},t.prototype.calculateColumnsForDisplay=function(){var e=this;return this.pivotMode&&!this.secondaryColumnsPresent?this.gridColumns.filter((function(t){var o=e.groupAutoColumns&&et.includes(e.groupAutoColumns,t),n=e.valueColumns&&et.includes(e.valueColumns,t);return o||n})):this.gridColumns.filter((function(t){return e.groupAutoColumns&&et.includes(e.groupAutoColumns,t)||t.isVisible()}))},t.prototype.checkColSpanActiveInCols=function(e){var t=!1;return e.forEach((function(e){et.exists(e.getColDef().colSpan)&&(t=!0)})),t},t.prototype.calculateColumnsForGroupDisplay=function(){var e=this;this.groupDisplayColumns=[];var t=function(t){var o=t.getColDef();o&&et.exists(o.showRowGroup)&&e.groupDisplayColumns.push(t)};this.gridColumns.forEach(t),this.groupAutoColumns&&this.groupAutoColumns.forEach(t)},t.prototype.getGroupDisplayColumns=function(){return this.groupDisplayColumns},t.prototype.updateDisplayedColumns=function(e){var t=this.calculateColumnsForDisplay();this.buildDisplayedTrees(t),this.calculateColumnsForGroupDisplay(),this.updateGroupsAndDisplayedColumns(e),this.setFirstRightAndLastLeftPinned(e)},t.prototype.isSecondaryColumnsPresent=function(){return this.secondaryColumnsPresent},t.prototype.setSecondaryColumns=function(e,t){void 0===t&&(t="api");var o=e&&e.length>0;if(o||this.secondaryColumnsPresent){if(o){this.processSecondaryColumnDefinitions(e);var n=this.columnFactory.createColumnTree(e,!1);this.secondaryBalancedTree=n.columnTree,this.secondaryHeaderRowCount=n.treeDept+1,this.secondaryColumns=this.getColumnsFromTree(this.secondaryBalancedTree),this.secondaryColumnsPresent=!0}else this.secondaryBalancedTree=null,this.secondaryHeaderRowCount=-1,this.secondaryColumns=null,this.secondaryColumnsPresent=!1;this.updateGridColumns(),this.updateDisplayedColumns(t)}},t.prototype.processSecondaryColumnDefinitions=function(e){var t=this.gridOptionsWrapper.getProcessSecondaryColDefFunc(),o=this.gridOptionsWrapper.getProcessSecondaryColGroupDefFunc();if(t||o){var n=function(e){e.forEach((function(e){if(et.exists(e.children)){var i=e;o&&o(i),n(i.children)}else{t&&t(e)}}))};e&&n(e)}},t.prototype.updateGridColumns=function(){this.gridColsArePrimary&&(this.lastPrimaryOrder=this.gridColumns),this.secondaryColumns&&this.secondaryBalancedTree?(this.gridBalancedTree=this.secondaryBalancedTree.slice(),this.gridHeaderRowCount=this.secondaryHeaderRowCount,this.gridColumns=this.secondaryColumns.slice(),this.gridColsArePrimary=!1):(this.gridBalancedTree=this.primaryColumnTree.slice(),this.gridHeaderRowCount=this.primaryHeaderRowCount,this.gridColumns=this.primaryColumns.slice(),this.gridColsArePrimary=!0,this.orderGridColsLikeLastPrimary()),this.addAutoGroupToGridColumns(),this.autoRowHeightColumns=this.gridColumns.filter((function(e){return e.getColDef().autoHeight})),this.putFixedColumnsFirst(),this.setupQuickFilterColumns(),this.clearDisplayedColumns(),this.colSpanActive=this.checkColSpanActiveInCols(this.gridColumns);var e={type:_t.EVENT_GRID_COLUMNS_CHANGED,api:this.gridApi,columnApi:this.columnApi};this.eventService.dispatchEvent(e)},t.prototype.orderGridColsLikeLastPrimary=function(){var e=this;if(!et.missing(this.lastPrimaryOrder)){var t=!0;if(this.gridColumns.forEach((function(o){e.lastPrimaryOrder.indexOf(o)>=0&&(t=!1)})),!t){var o=this.lastPrimaryOrder.filter((function(t){return e.gridColumns.indexOf(t)>=0})),n=this.gridColumns.filter((function(e){return o.indexOf(e)<0})),i=o.slice();n.forEach((function(e){var t=e.getOriginalParent();if(t){for(var o=[];!o.length&&t;){t.getLeafColumns().forEach((function(e){var t=i.indexOf(e)>=0,n=o.indexOf(e)<0;t&&n&&o.push(e)})),t=t.getOriginalParent()}if(o.length){var n=o.map((function(e){return i.indexOf(e)})),r=Math.max.apply(Math,n);et.insertIntoArray(i,e,r+1)}else i.push(e)}else i.push(e)})),this.gridColumns=i}}},t.prototype.isPrimaryColumnGroupsPresent=function(){return this.primaryHeaderRowCount>1},t.prototype.setupQuickFilterColumns=function(){this.groupAutoColumns?this.columnsForQuickFilter=this.primaryColumns.concat(this.groupAutoColumns):this.columnsForQuickFilter=this.primaryColumns},t.prototype.putFixedColumnsFirst=function(){var e=this.gridColumns.filter((function(e){return e.getColDef().lockPosition})),t=this.gridColumns.filter((function(e){return!e.getColDef().lockPosition}));this.gridColumns=e.concat(t)},t.prototype.addAutoGroupToGridColumns=function(){if(this.createGroupAutoColumnsIfNeeded(),!et.missing(this.groupAutoColumns)){this.gridColumns=this.groupAutoColumns?this.groupAutoColumns.concat(this.gridColumns):this.gridColumns;var e=this.columnFactory.createForAutoGroups(this.groupAutoColumns,this.gridBalancedTree);this.gridBalancedTree=e.concat(this.gridBalancedTree)}},t.prototype.clearDisplayedColumns=function(){this.displayedLeftColumnTree=[],this.displayedRightColumnTree=[],this.displayedCentreColumnTree=[],this.displayedLeftHeaderRows={},this.displayedRightHeaderRows={},this.displayedCentreHeaderRows={},this.displayedLeftColumns=[],this.displayedRightColumns=[],this.displayedCenterColumns=[],this.allDisplayedColumns=[],this.allDisplayedVirtualColumns=[]},t.prototype.updateGroupsAndDisplayedColumns=function(e){this.updateOpenClosedVisibilityInColumnGroups(),this.updateDisplayedColumnsFromTrees(e),this.updateVirtualSets(),this.refreshFlexedColumns(void 0,void 0,!0),this.updateBodyWidths();var t={type:_t.EVENT_DISPLAYED_COLUMNS_CHANGED,api:this.gridApi,columnApi:this.columnApi};this.eventService.dispatchEvent(t)},t.prototype.updateDisplayedColumnsFromTrees=function(e){this.addToDisplayedColumns(this.displayedLeftColumnTree,this.displayedLeftColumns),this.addToDisplayedColumns(this.displayedCentreColumnTree,this.displayedCenterColumns),this.addToDisplayedColumns(this.displayedRightColumnTree,this.displayedRightColumns),this.setupAllDisplayedColumns(),this.setLeftValues(e)},t.prototype.setupAllDisplayedColumns=function(){this.gridOptionsWrapper.isEnableRtl()?this.allDisplayedColumns=this.displayedRightColumns.concat(this.displayedCenterColumns).concat(this.displayedLeftColumns):this.allDisplayedColumns=this.displayedLeftColumns.concat(this.displayedCenterColumns).concat(this.displayedRightColumns)},t.prototype.setLeftValues=function(e){this.setLeftValuesOfColumns(e),this.setLeftValuesOfGroups()},t.prototype.setLeftValuesOfColumns=function(e){var t=this,o=this.primaryColumns.slice(0),n=this.gridOptionsWrapper.isEnableRtl();[this.displayedLeftColumns,this.displayedRightColumns,this.displayedCenterColumns].forEach((function(i){if(n){var r=t.getWidthOfColsInList(i);i.forEach((function(t){r-=t.getActualWidth(),t.setLeft(r,e)}))}else{var s=0;i.forEach((function(t){t.setLeft(s,e),s+=t.getActualWidth()}))}et.removeAllFromArray(o,i)})),o.forEach((function(t){t.setLeft(null,e)}))},t.prototype.setLeftValuesOfGroups=function(){[this.displayedLeftColumnTree,this.displayedRightColumnTree,this.displayedCentreColumnTree].forEach((function(e){e.forEach((function(e){e instanceof Et&&e.checkLeft()}))}))},t.prototype.addToDisplayedColumns=function(e,t){t.length=0,this.columnUtils.depthFirstDisplayedColumnTreeSearch(e,(function(e){e instanceof bt&&t.push(e)}))},t.prototype.updateDisplayedCenterVirtualColumns=function(){this.suppressColumnVirtualisation?this.allDisplayedCenterVirtualColumns=this.displayedCenterColumns:this.allDisplayedCenterVirtualColumns=this.filterOutColumnsWithinViewport(),this.allDisplayedVirtualColumns=this.allDisplayedCenterVirtualColumns.concat(this.displayedLeftColumns).concat(this.displayedRightColumns);var e={};return this.allDisplayedVirtualColumns.forEach((function(t){e[t.getId()]=!0})),e},t.prototype.getVirtualHeaderGroupRow=function(e,t){var o;switch(e){case ze.PINNED_LEFT:o=this.displayedLeftHeaderRows[t];break;case ze.PINNED_RIGHT:o=this.displayedRightHeaderRows[t];break;default:o=this.displayedCentreHeaderRows[t]}return et.missing(o)&&(o=[]),o},t.prototype.updateDisplayedVirtualGroups=function(e){this.displayedLeftHeaderRows={},this.displayedRightHeaderRows={},this.displayedCentreHeaderRows={};var t=function(o,n,i){for(var r=!1,s=0;s<o.length;s++){var a=o[s],l=void 0;if(a instanceof bt)l=!0===e[a.getId()];else l=t(a.getDisplayedChildren(),n,i+1);l&&(r=!0,n[i]||(n[i]=[]),n[i].push(a))}return r};t(this.displayedLeftColumnTree,this.displayedLeftHeaderRows,0),t(this.displayedRightColumnTree,this.displayedRightHeaderRows,0),t(this.displayedCentreColumnTree,this.displayedCentreHeaderRows,0)},t.prototype.updateVirtualSets=function(){var e=this.updateDisplayedCenterVirtualColumns();this.updateDisplayedVirtualGroups(e)},t.prototype.filterOutColumnsWithinViewport=function(){return this.displayedCenterColumns.filter(this.isColumnInViewport.bind(this))},t.prototype.refreshFlexedColumns=function(e,t,o){if(void 0===t&&(t="flex"),this.flexActive&&(this.flexViewportWidth=e||this.flexViewportWidth,this.flexViewportWidth)){var n=this.displayedCenterColumns.filter((function(e){return!e.getFlex()})),i=this.displayedCenterColumns.filter((function(e){return e.getFlex()}));if(i.length){var r,s=[];e:for(;;){var a=i.reduce((function(e,t){return e+t.getFlex()}),0);r=this.flexViewportWidth-this.getWidthOfColsInList(n);for(var l=0;l<i.length;l++){var c=i[l],u=r*c.getFlex()/a,d=void 0;if(u<c.getMinWidth()?d=c.getMinWidth():null!=c.getMaxWidth()&&u>c.getMaxWidth()&&(d=c.getMaxWidth()),d){c.setActualWidth(d,t),et.removeFromArray(i,c),n.push(c);continue e}s[l]=Math.round(u)}break}var h=r;i.forEach((function(e,o){e.setActualWidth(Math.min(s[o],h),t),h-=s[o]})),this.setLeftValues(t),o||(this.updateBodyWidths(),this.fireResizedEventForColumns(i,t))}else this.flexActive=!1}},t.prototype.sizeColumnsToFit=function(e,t,o){void 0===t&&(t="sizeColumnsToFit");var n=this.getAllDisplayedColumns();if(!(e<=0)&&n.length){var i=[],r=[];n.forEach((function(e){!0===e.getColDef().suppressSizeToFit?r.push(e):i.push(e)}));var s=i.slice(0),a=!1,l=function(e){et.removeFromArray(i,e),r.push(e)};for(i.forEach((function(e){return e.resetActualWidth()}));!a;){a=!0;var c=e-this.getWidthOfColsInList(r);if(c<=0)i.forEach((function(e){e.setMinimum(t)}));else for(var u=c/this.getWidthOfColsInList(i),d=c,h=i.length-1;h>=0;h--){var p=i[h],g=Math.round(p.getActualWidth()*u);if(g<p.getMinWidth())p.setMinimum(t),l(p),a=!1;else if(p.isGreaterThanMax(g))p.setActualWidth(p.getMaxWidth(),t),l(p),a=!1;else{0===h?p.setActualWidth(d,t):p.setActualWidth(g,t)}d-=g}}this.setLeftValues(t),this.updateBodyWidths(),o||this.fireResizedEventForColumns(s,t)}},t.prototype.fireResizedEventForColumns=function(e,t){var o=this;e.forEach((function(e){var n={type:_t.EVENT_COLUMN_RESIZED,column:e,columns:[e],finished:!0,api:o.gridApi,columnApi:o.columnApi,source:t};o.eventService.dispatchEvent(n)}))},t.prototype.buildDisplayedTrees=function(e){var t=[],o=[],n=[];e.forEach((function(e){switch(e.getPinned()){case"left":t.push(e);break;case"right":o.push(e);break;default:n.push(e)}}));var i=new Mt;this.displayedLeftColumnTree=this.displayedGroupCreator.createDisplayedGroups(t,this.gridBalancedTree,i,ze.PINNED_LEFT,this.displayedLeftColumnTree),this.displayedRightColumnTree=this.displayedGroupCreator.createDisplayedGroups(o,this.gridBalancedTree,i,ze.PINNED_RIGHT,this.displayedRightColumnTree),this.displayedCentreColumnTree=this.displayedGroupCreator.createDisplayedGroups(n,this.gridBalancedTree,i,null,this.displayedCentreColumnTree)},t.prototype.updateOpenClosedVisibilityInColumnGroups=function(){var e=this.getAllDisplayedColumnGroups();this.columnUtils.depthFirstAllColumnTreeSearch(e,(function(e){e instanceof Et&&e.calculateDisplayedColumns()}))},t.prototype.getGroupAutoColumns=function(){return this.groupAutoColumns},t.prototype.createGroupAutoColumnsIfNeeded=function(){if(this.autoGroupsNeedBuilding){this.autoGroupsNeedBuilding=!1;var e=this.gridOptionsWrapper.isGroupUseEntireRow(this.pivotMode),t=this.pivotMode?this.gridOptionsWrapper.isPivotSuppressAutoColumn():this.gridOptionsWrapper.isGroupSuppressAutoColumn(),o=this.gridOptionsWrapper.isGroupSuppressRow();if((this.rowGroupColumns.length>0||this.usingTreeData)&&!t&&!e&&!o){var n=this.autoGroupColService.createAutoGroupColumns(this.rowGroupColumns);(!this.autoColsEqual(n,this.groupAutoColumns)||this.forceRecreateAutoGroups)&&(this.groupAutoColumns=n)}else this.groupAutoColumns=null}},t.prototype.autoColsEqual=function(e,t){return X(e,t,(function(e,t){return e.getColId()===t.getColId()}))},t.prototype.getWidthOfColsInList=function(e){return e.reduce((function(e,t){return e+t.getActualWidth()}),0)},t.prototype.getGridBalancedTree=function(){return this.gridBalancedTree},t.prototype.hasFloatingFilters=function(){var e=this.gridOptionsWrapper.getDefaultColDef();return null!=e&&!0===e.floatingFilter||null!=this.columnDefs&&this.columnDefs.some((function(e){return!0===e.floatingFilter}))},t.prototype.getFirstDisplayedColumn=function(){var e=this.gridOptionsWrapper.isEnableRtl(),t=["getDisplayedLeftColumns","getDisplayedCenterColumns","getDisplayedRightColumns"];e&&t.reverse();for(var o=0;o<t.length;o++){var n=this[t[o]]();if(n.length)return e?et.last(n):n[0]}return null},Lt([ut("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),Lt([ut("expressionService")],t.prototype,"expressionService",void 0),Lt([ut("columnFactory")],t.prototype,"columnFactory",void 0),Lt([ut("displayedGroupCreator")],t.prototype,"displayedGroupCreator",void 0),Lt([ut("autoWidthCalculator")],t.prototype,"autoWidthCalculator",void 0),Lt([ut("columnUtils")],t.prototype,"columnUtils",void 0),Lt([ut("columnAnimationService")],t.prototype,"columnAnimationService",void 0),Lt([ut("autoGroupColService")],t.prototype,"autoGroupColService",void 0),Lt([dt("aggFuncService")],t.prototype,"aggFuncService",void 0),Lt([dt("valueCache")],t.prototype,"valueCache",void 0),Lt([dt("animationFrameService")],t.prototype,"animationFrameService",void 0),Lt([ut("columnApi")],t.prototype,"columnApi",void 0),Lt([ut("gridApi")],t.prototype,"gridApi",void 0),Lt([at],t.prototype,"init",null),Lt([Nt(0,pt("loggerFactory"))],t.prototype,"setBeans",null),t=Lt([ct("columnController")],t)}(xt),Gt=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Vt=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Ht=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Gt(t,e),t.prototype.calculateColInitialWidth=function(e){var t=this.gridOptionsWrapper,o=null!=e.minWidth?e.minWidth:t.getMinColWidth(),n=null!=e.maxWidth?e.maxWidth:t.getMaxColWidth()||et.getMaxSafeInteger(),i=null!=e.width?e.width:t.getColWidth();return Math.max(Math.min(i,n),o)},t.prototype.getOriginalPathForColumn=function(e,t){var o=[],n=!1,i=function(t,r){for(var s=0;s<t.length;s++){if(n)return;var a=t[s];if(a instanceof Rt)i(a.getChildren(),r+1),o[r]=a;else a===e&&(n=!0)}};return i(t,0),n?o:null},t.prototype.depthFirstOriginalTreeSearch=function(e,t,o){var n=this;t&&t.forEach((function(t){t instanceof Rt&&n.depthFirstOriginalTreeSearch(t,t.getChildren(),o),o(t,e)}))},t.prototype.depthFirstAllColumnTreeSearch=function(e,t){var o=this;e&&e.forEach((function(e){e instanceof Et&&o.depthFirstAllColumnTreeSearch(e.getChildren(),t),t(e)}))},t.prototype.depthFirstDisplayedColumnTreeSearch=function(e,t){var o=this;e&&e.forEach((function(e){e instanceof Et&&o.depthFirstDisplayedColumnTreeSearch(e.getDisplayedChildren(),t),t(e)}))},Vt([ut("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),t=Vt([ct("columnUtils")],t)}(xt),Bt=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Wt=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},jt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Bt(t,e),t.prototype.createDisplayedGroups=function(e,t,o,n,i){var r,s,a=this,l=[],c=this.mapOldGroupsById(i);return e.forEach((function(e){for(var i=a.getOriginalPathForColumn(t,e),u=[],d=!s,h=0;h<i.length;h++)if(d||i[h]!==s[h]){var p=a.createColumnGroup(i[h],o,c,n);u[h]=p,0==h?l.push(p):u[h-1].addChild(p)}else u[h]=r[h];0===u.length?l.push(e):et.last(u).addChild(e);r=u,s=i})),this.setupParentsIntoColumns(l,null),l},t.prototype.createColumnGroup=function(e,t,o,n){var i=e.getGroupId(),r=t.getInstanceIdForKey(i),s=o[Et.createUniqueId(i,r)];return s&&s.getOriginalColumnGroup()!==e&&(s=null),et.exists(s)?s.reset():(s=new Et(e,i,r,n),this.context.createBean(s)),s},t.prototype.mapOldGroupsById=function(e){var t={},o=function(e){e.forEach((function(e){if(e instanceof Et){var n=e;t[e.getUniqueId()]=n,o(n.getChildren())}}))};return e&&o(e),t},t.prototype.setupParentsIntoColumns=function(e,t){var o=this;e.forEach((function(e){if(e.setParent(t),e instanceof Et){var n=e;o.setupParentsIntoColumns(n.getChildren(),n)}}))},t.prototype.getOriginalPathForColumn=function(e,t){var o=[],n=!1,i=function(e,r){for(var s=0;s<e.length;s++){if(n)return;var a=e[s];if(a instanceof Rt)i(a.getChildren(),r+1),o[r]=a;else a===t&&(n=!0)}};return i(e,0),n?o:(console.warn("could not get path"),null)},Wt([ut("columnUtils")],t.prototype,"columnUtils",void 0),t=Wt([ct("displayedGroupCreator")],t)}(xt),zt=function(){for(var e=0,t=0,o=arguments.length;t<o;t++)e+=arguments[t].length;var n=Array(e),i=0;for(t=0;t<o;t++)for(var r=arguments[t],s=0,a=r.length;s<a;s++,i++)n[i]=r[s];return n},Ut=function(){function e(){}return e.STRING_PROPERTIES=["sortingOrder","rowClass","rowSelection","overlayLoadingTemplate","overlayNoRowsTemplate","quickFilterText","rowModelType","editType","domLayout","clipboardDeliminator","rowGroupPanelShow","multiSortKey","pivotColumnGroupTotals","pivotRowTotals","pivotPanelShow"],e.OBJECT_PROPERTIES=["components","frameworkComponents","rowStyle","context","autoGroupColumnDef","groupColumnDef","localeText","icons","datasource","serverSideDatasource","viewportDatasource","groupRowRendererParams","aggFuncs","fullWidthCellRendererParams","defaultColGroupDef","defaultColDef","defaultExportParams","columnTypes","rowClassRules","detailGridOptions","detailCellRendererParams","loadingCellRendererParams","loadingOverlayComponentParams","noRowsOverlayComponentParams","popupParent","colResizeDefault","reduxStore","statusBar","sideBar"],e.ARRAY_PROPERTIES=["slaveGrids","alignedGrids","rowData","columnDefs","excelStyles","pinnedTopRowData","pinnedBottomRowData"],e.NUMBER_PROPERTIES=["rowHeight","detailRowHeight","rowBuffer","colWidth","headerHeight","groupHeaderHeight","floatingFiltersHeight","pivotHeaderHeight","pivotGroupHeaderHeight","groupDefaultExpanded","minColWidth","maxColWidth","viewportRowModelPageSize","viewportRowModelBufferSize","autoSizePadding","maxBlocksInCache","maxConcurrentDatasourceRequests","tooltipShowDelay","cacheOverflowSize","paginationPageSize","cacheBlockSize","infiniteInitialRowCount","scrollbarWidth","paginationStartPage","infiniteBlockSize","batchUpdateWaitMillis","asyncTransactionWaitMillis","blockLoadDebounceMillis","keepDetailRowsCount","undoRedoCellEditingLimit","cellFlashDelay","cellFadeDelay"],e.BOOLEAN_PROPERTIES=["toolPanelSuppressRowGroups","toolPanelSuppressValues","toolPanelSuppressPivots","toolPanelSuppressPivotMode","toolPanelSuppressSideButtons","toolPanelSuppressColumnFilter","toolPanelSuppressColumnSelectAll","toolPanelSuppressColumnExpandAll","suppressMakeColumnVisibleAfterUnGroup","suppressRowClickSelection","suppressCellSelection","suppressHorizontalScroll","alwaysShowVerticalScroll","debug","enableBrowserTooltips","enableColResize","enableCellExpressions","enableSorting","enableServerSideSorting","enableFilter","enableServerSideFilter","angularCompileRows","angularCompileFilters","angularCompileHeaders","groupSuppressAutoColumn","groupSelectsChildren","groupIncludeFooter","groupIncludeTotalFooter","groupUseEntireRow","groupSuppressRow","groupSuppressBlankHeader","forPrint","suppressMenuHide","rowDeselection","unSortIcon","suppressMultiSort","singleClickEdit","suppressLoadingOverlay","suppressNoRowsOverlay","suppressAutoSize","skipHeaderOnAutoSize","suppressParentsInRowNodes","showToolPanel","suppressColumnMoveAnimation","suppressMovableColumns","suppressFieldDotNotation","enableRangeSelection","enableRangeHandle","enableFillHandle","suppressClearOnFillReduction","deltaSort","suppressTouch","suppressAsyncEvents","allowContextMenuWithControlKey","suppressContextMenu","suppressMenuFilterPanel","suppressMenuMainPanel","suppressMenuColumnPanel","rememberGroupStateWhenNewData","enableCellChangeFlash","suppressDragLeaveHidesColumns","suppressMiddleClickScrolls","suppressPreventDefaultOnMouseWheel","suppressUseColIdForGroups","suppressCopyRowsToClipboard","copyHeadersToClipboard","pivotMode","suppressAggFuncInHeader","suppressColumnVirtualisation","suppressAggAtRootLevel","suppressFocusAfterRefresh","functionsPassive","functionsReadOnly","animateRows","groupSelectsFiltered","groupRemoveSingleChildren","groupRemoveLowestSingleChildren","enableRtl","suppressClickEdit","rowDragManaged","suppressRowDrag","suppressMoveWhenRowDragging","enableMultiRowDragging","enableGroupEdit","embedFullWidthRows","deprecatedEmbedFullWidthRows","suppressTabbing","suppressPaginationPanel","floatingFilter","groupHideOpenParents","groupMultiAutoColumn","pagination","stopEditingWhenGridLosesFocus","paginationAutoPageSize","suppressScrollOnNewData","purgeClosedRowNodes","cacheQuickFilter","deltaRowDataMode","ensureDomOrder","accentedSort","pivotTotals","suppressChangeDetection","valueCache","valueCacheNeverExpires","aggregateOnlyChangedColumns","suppressAnimationFrame","suppressExcelExport","suppressCsvExport","treeData","masterDetail","suppressMultiRangeSelection","enterMovesDownAfterEdit","enterMovesDown","suppressPropertyNamesCheck","rowMultiSelectWithClick","contractColumnSelection","suppressEnterpriseResetOnNewColumns","enableOldSetFilterModel","suppressRowHoverHighlight","gridAutoHeight","suppressRowTransform","suppressClipboardPaste","suppressLastEmptyLineOnPaste","serverSideSortingAlwaysResets","reactNext","suppressSetColumnStateEvents","enableCharts","deltaColumnMode","suppressMaintainUnsortedOrder","enableCellTextSelection","suppressBrowserResizeObserver","suppressMaxRenderedRowRestriction","excludeChildrenWhenTreeDataFiltering","tooltipMouseTrack","keepDetailRows","paginateChildRows","preventDefaultOnContextMenu","undoRedoCellEditing","allowDragFromColumnsToolPanel","immutableData","immutableColumns","pivotSuppressAutoColumn"],e.FUNCTION_PROPERTIES=["localeTextFunc","groupRowInnerRenderer","groupRowInnerRendererFramework","dateComponent","dateComponentFramework","groupRowRenderer","groupRowRendererFramework","isExternalFilterPresent","getRowHeight","doesExternalFilterPass","getRowClass","getRowStyle","getRowClassRules","traverseNode","getContextMenuItems","getMainMenuItems","processRowPostCreate","processCellForClipboard","getNodeChildDetails","groupRowAggNodes","getRowNodeId","isFullWidthCell","fullWidthCellRenderer","fullWidthCellRendererFramework","doesDataFlower","processSecondaryColDef","processSecondaryColGroupDef","getBusinessKeyForNode","sendToClipboard","navigateToNextCell","tabToNextCell","getDetailRowData","processCellFromClipboard","getDocument","postProcessPopup","getChildCount","getDataPath","loadingCellRenderer","loadingCellRendererFramework","loadingOverlayComponent","loadingOverlayComponentFramework","noRowsOverlayComponent","noRowsOverlayComponentFramework","detailCellRenderer","detailCellRendererFramework","defaultGroupSortComparator","isRowMaster","isRowSelectable","postSort","processHeaderForClipboard","paginationNumberFormatter","processDataFromClipboard","getServerSideGroupKey","isServerSideGroup","suppressKeyboardEvent","createChartContainer","processChartOptions","getChartToolbarItems","fillOperation"],e.ALL_PROPERTIES=zt(e.ARRAY_PROPERTIES,e.OBJECT_PROPERTIES,e.STRING_PROPERTIES,e.NUMBER_PROPERTIES,e.FUNCTION_PROPERTIES,e.BOOLEAN_PROPERTIES),e.FRAMEWORK_PROPERTIES=["__ob__","__metadata__","mappedColumnProperties","hasChildColumns","toColDef","createColDefFromGridColumn"],e}(),$t=function(){for(var e=0,t=0,o=arguments.length;t<o;t++)e+=arguments[t].length;var n=Array(e),i=0;for(t=0;t<o;t++)for(var r=arguments[t],s=0,a=r.length;s<a;s++,i++)n[i]=r[s];return n},Kt=function(){function e(){}return e.STRING_PROPERTIES=["headerName","columnGroupShow","headerClass","toolPanelClass","headerValueGetter","pivotKeys","groupId","colId","sort","field","type","tooltipComponent","tooltipField","headerTooltip","cellClass","showRowGroup","template","templateUrl","filter","aggFunc","cellRenderer","cellEditor","pinned","chartDataType"],e.OBJECT_PROPERTIES=["headerGroupComponent","headerGroupComponentFramework","headerGroupComponentParams","cellStyle","cellRendererParams","cellEditorFramework","cellEditorParams","pinnedRowCellRendererFramework","pinnedRowCellRendererParams","filterFramework","filterParams","pivotValueColumn","headerComponent","headerComponentFramework","headerComponentParams","floatingFilterComponent","floatingFilterComponentParams","floatingFilterComponentFramework","tooltipComponent","tooltipComponentParams","tooltipComponentFramework","refData"],e.ARRAY_PROPERTIES=["children","sortingOrder","allowedAggFuncs","menuTabs","pivotTotalColumnIds","cellClassRules","icons"],e.NUMBER_PROPERTIES=["sortedAt","flex","width","minWidth","maxWidth","rowGroupIndex","pivotIndex"],e.BOOLEAN_PROPERTIES=["suppressCellFlash","suppressColumnsToolPanel","suppressFiltersToolPanel","openByDefault","marryChildren","hide","rowGroup","pivot","checkboxSelection","headerCheckboxSelection","headerCheckboxSelectionFilteredOnly","suppressMenu","suppressSorting","suppressMovable","suppressFilter","lockPosition","lockVisible","lockPinned","unSortIcon","suppressSizeToFit","suppressResize","suppressAutoSize","enableRowGroup","enablePivot","enableValue","editable","suppressPaste","suppressNavigable","enableCellChangeFlash","rowDrag","dndSource","autoHeight","sortable","resizable","singleClickEdit","floatingFilter"],e.FUNCTION_PROPERTIES=["dndSourceOnRowDrag","valueGetter","valueSetter","filterValueGetter","keyCreator","cellRenderer","cellRendererFramework","pinnedRowCellRenderer","valueFormatter","pinnedRowValueFormatter","valueParser","comparator","equals","pivotComparator","suppressKeyboardEvent","colSpan","rowSpan","getQuickFilterText","newValueHandler","onCellValueChanged","onCellClicked","onCellDoubleClicked","onCellContextMenu","rowDragText","tooltip","tooltipValueGetter","tooltipComponent","tooltipComponentFramework","cellRendererSelector","cellEditorSelector"],e.ALL_PROPERTIES=$t(e.ARRAY_PROPERTIES,e.OBJECT_PROPERTIES,e.STRING_PROPERTIES,e.NUMBER_PROPERTIES,e.FUNCTION_PROPERTIES,e.BOOLEAN_PROPERTIES),e.FRAMEWORK_PROPERTIES=["__ob__","__metadata__","mappedColumnProperties","hasChildColumns","toColDef","createColDefFromGridColumn"],e}(),Yt=function(){function e(){}return e.parse=function(t){if(!t)return null;if(!0===t)return{toolPanels:[e.DEFAULT_COLUMN_COMP,e.DEFAULT_FILTER_COMP],defaultToolPanel:"columns"};if("string"===typeof t)return e.parse([t]);if(Array.isArray(t)){var o=[];return t.forEach((function(t){var n=e.DEFAULT_BY_KEY[t];n?o.push(n):console.warn("ag-grid: the key "+t+" is not a valid key for specifying a tool panel, valid keys are: "+Object.keys(e.DEFAULT_BY_KEY).join(","))})),0===o.length?null:{toolPanels:o,defaultToolPanel:o[0].id}}return{toolPanels:e.parseComponents(t.toolPanels),defaultToolPanel:t.defaultToolPanel,hiddenByDefault:t.hiddenByDefault,position:t.position}},e.parseComponents=function(t){var o=[];return t.forEach((function(t){var n=null;if("string"===typeof t){var i=e.DEFAULT_BY_KEY[t];if(!i)return void console.warn("ag-grid: the key "+t+" is not a valid key for specifying a tool panel, valid keys are: "+Object.keys(e.DEFAULT_BY_KEY).join(","));n=i}else n=t;o.push(n)})),o},e.DEFAULT_COLUMN_COMP={id:"columns",labelDefault:"Columns",labelKey:"columns",iconKey:"columns",toolPanel:"agColumnsToolPanel"},e.DEFAULT_FILTER_COMP={id:"filters",labelDefault:"Filters",labelKey:"filters",iconKey:"filter",toolPanel:"agFiltersToolPanel"},e.DEFAULT_BY_KEY={columns:e.DEFAULT_COLUMN_COMP,filters:e.DEFAULT_FILTER_COMP},e}(),qt=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Xt=function(e,t){return function(o,n){t(o,n,e)}},Qt=function(){for(var e=0,t=0,o=arguments.length;t<o;t++)e+=arguments[t].length;var n=Array(e),i=0;for(t=0;t<o;t++)for(var r=arguments[t],s=0,a=r.length;s<a;s++,i++)n[i]=r[s];return n};function Zt(e){return!0===e||"true"===e}var Jt=function(){function e(){this.propertyEventService=new yt,this.domDataKey="__AG_"+Math.random().toString(),this.layoutElements=[]}var o;return o=e,e.prototype.agWire=function(e,t){this.gridOptions.api=e,this.gridOptions.columnApi=t,this.checkForDeprecated(),this.checkForViolations()},e.prototype.destroy=function(){this.gridOptions.api=null,this.gridOptions.columnApi=null,this.removeEventListener(o.PROP_DOM_LAYOUT,this.updateLayoutClassesListener)},e.prototype.init=function(){var e=this;!0!==this.gridOptions.suppressPropertyNamesCheck&&(this.checkGridOptionsProperties(),this.checkColumnDefProperties());var n=this.useAsyncEvents();if(this.eventService.addGlobalListener(this.globalEventHandler.bind(this),n),this.isGroupSelectsChildren()&&this.isSuppressParentsInRowNodes()&&console.warn("ag-Grid: 'groupSelectsChildren' does not work with 'suppressParentsInRowNodes', this selection method needs the part in rowNode to work"),this.isGroupSelectsChildren()&&(this.isRowSelectionMulti()||console.warn("ag-Grid: rowSelection must be 'multiple' for groupSelectsChildren to make sense"),this.isRowModelServerSide()&&console.warn("ag-Grid: group selects children is NOT support for Server Side Row Model. This is because the rows are lazy loaded, so selecting a group is not possible asthe grid has no way of knowing what the children are.")),this.isGroupRemoveSingleChildren()&&this.isGroupHideOpenParents()&&console.warn("ag-Grid: groupRemoveSingleChildren and groupHideOpenParents do not work with each other, you need to pick one. And don't ask us how to us these together on our support forum either you will get the same answer!"),this.isRowModelServerSide()){var i=function(e){return"ag-Grid: '"+e+"' is not supported on the Server-Side Row Model"};et.exists(this.gridOptions.groupDefaultExpanded)&&console.warn(i("groupDefaultExpanded")),et.exists(this.gridOptions.groupDefaultExpanded)&&console.warn(i("groupIncludeFooter")),et.exists(this.gridOptions.groupDefaultExpanded)&&console.warn(i("groupIncludeTotalFooter"))}this.isEnableRangeSelection()&&Ct.assertRegistered(t.ModuleNames.RangeSelectionModule,"enableRangeSelection"),this.isEnableRangeSelection()||!this.isEnableRangeHandle()&&!this.isEnableFillHandle()||console.warn("ag-Grid: 'enableRangeHandle' and 'enableFillHandle' will not work unless 'enableRangeSelection' is set to true");var r=function(t){e.gridOptions.icons&&e.gridOptions.icons[t]&&console.warn("gridOptions.icons."+t+" is no longer supported. For information on how to style checkboxes and radio buttons, see https://www.ag-grid.com/javascript-grid-icons/")};r("radioButtonOff"),r("radioButtonOn"),r("checkboxChecked"),r("checkboxUnchecked"),r("checkboxIndeterminate"),this.updateLayoutClassesListener=this.updateLayoutClasses.bind(this),this.addEventListener(o.PROP_DOM_LAYOUT,this.updateLayoutClassesListener)},e.prototype.checkColumnDefProperties=function(){var e=this;null!=this.gridOptions.columnDefs&&this.gridOptions.columnDefs.forEach((function(t){var o=Object.getOwnPropertyNames(t),n=Qt(Kt.ALL_PROPERTIES,Kt.FRAMEWORK_PROPERTIES);e.checkProperties(o,n,n,"colDef","https://www.ag-grid.com/javascript-grid-column-properties/")}))},e.prototype.checkGridOptionsProperties=function(){var e=Object.getOwnPropertyNames(this.gridOptions),t=Qt(Ut.ALL_PROPERTIES,Ut.FRAMEWORK_PROPERTIES,et.values(_t).map((function(e){return to.getCallbackForEvent(e)}))),o=Qt(t,["api","columnApi"]);this.checkProperties(e,o,t,"gridOptions","https://www.ag-grid.com/javascript-grid-properties/")},e.prototype.checkProperties=function(e,t,o,n,i){var r=et.fuzzyCheckStrings(e,t,o);et.iterateObject(r,(function(e,t){console.warn("ag-grid: invalid "+n+" property '"+e+"' did you mean any of these: "+t.slice(0,8).join(", "))})),Object.keys(r).length>0&&console.warn("ag-grid: to see all the valid "+n+" properties please check: "+i)},e.prototype.getDomData=function(e,t){var o=e[this.domDataKey];return o?o[t]:void 0},e.prototype.setDomData=function(e,t,o){var n=e[this.domDataKey];et.missing(n)&&(n={},e[this.domDataKey]=n),n[t]=o},e.prototype.isRowSelection=function(){return"single"===this.gridOptions.rowSelection||"multiple"===this.gridOptions.rowSelection},e.prototype.isRowDeselection=function(){return Zt(this.gridOptions.rowDeselection)},e.prototype.isRowSelectionMulti=function(){return"multiple"===this.gridOptions.rowSelection},e.prototype.isRowMultiSelectWithClick=function(){return Zt(this.gridOptions.rowMultiSelectWithClick)},e.prototype.getContext=function(){return this.gridOptions.context},e.prototype.isPivotMode=function(){return Zt(this.gridOptions.pivotMode)},e.prototype.isPivotTotals=function(){return Zt(this.gridOptions.pivotTotals)},e.prototype.getPivotColumnGroupTotals=function(){return this.gridOptions.pivotColumnGroupTotals},e.prototype.getPivotRowTotals=function(){return this.gridOptions.pivotRowTotals},e.prototype.isRowModelInfinite=function(){return this.gridOptions.rowModelType===ze.ROW_MODEL_TYPE_INFINITE},e.prototype.isRowModelViewport=function(){return this.gridOptions.rowModelType===ze.ROW_MODEL_TYPE_VIEWPORT},e.prototype.isRowModelServerSide=function(){return this.gridOptions.rowModelType===ze.ROW_MODEL_TYPE_SERVER_SIDE},e.prototype.isRowModelDefault=function(){return et.missing(this.gridOptions.rowModelType)||this.gridOptions.rowModelType===ze.ROW_MODEL_TYPE_CLIENT_SIDE||this.gridOptions.rowModelType===ze.DEPRECATED_ROW_MODEL_TYPE_NORMAL},e.prototype.isFullRowEdit=function(){return"fullRow"===this.gridOptions.editType},e.prototype.isSuppressFocusAfterRefresh=function(){return Zt(this.gridOptions.suppressFocusAfterRefresh)},e.prototype.isSuppressBrowserResizeObserver=function(){return Zt(this.gridOptions.suppressBrowserResizeObserver)},e.prototype.isSuppressMaintainUnsortedOrder=function(){return Zt(this.gridOptions.suppressMaintainUnsortedOrder)},e.prototype.isSuppressClearOnFillReduction=function(){return Zt(this.gridOptions.suppressClearOnFillReduction)},e.prototype.isShowToolPanel=function(){return Zt(this.gridOptions.sideBar&&Array.isArray(this.getSideBar().toolPanels))},e.prototype.getSideBar=function(){return this.gridOptions.sideBar},e.prototype.isSuppressTouch=function(){return Zt(this.gridOptions.suppressTouch)},e.prototype.isSuppressRowTransform=function(){return Zt(this.gridOptions.suppressRowTransform)},e.prototype.isSuppressSetColumnStateEvents=function(){return Zt(this.gridOptions.suppressSetColumnStateEvents)},e.prototype.isAllowDragFromColumnsToolPanel=function(){return Zt(this.gridOptions.allowDragFromColumnsToolPanel)},e.prototype.useAsyncEvents=function(){return!Zt(this.gridOptions.suppressAsyncEvents)},e.prototype.isEnableCellChangeFlash=function(){return Zt(this.gridOptions.enableCellChangeFlash)},e.prototype.getCellFlashDelay=function(){return this.gridOptions.cellFlashDelay||500},e.prototype.getCellFadeDelay=function(){return this.gridOptions.cellFadeDelay||1e3},e.prototype.isGroupSelectsChildren=function(){var e=Zt(this.gridOptions.groupSelectsChildren);return e&&this.isTreeData()?(console.warn("ag-Grid: groupSelectsChildren does not work with tree data"),!1):e},e.prototype.isSuppressRowHoverHighlight=function(){return Zt(this.gridOptions.suppressRowHoverHighlight)},e.prototype.isGroupSelectsFiltered=function(){return Zt(this.gridOptions.groupSelectsFiltered)},e.prototype.isGroupHideOpenParents=function(){return Zt(this.gridOptions.groupHideOpenParents)},e.prototype.isGroupMultiAutoColumn=function(){return Zt(this.gridOptions.groupMultiAutoColumn)||Zt(this.gridOptions.groupHideOpenParents)},e.prototype.isGroupRemoveSingleChildren=function(){return Zt(this.gridOptions.groupRemoveSingleChildren)},e.prototype.isGroupRemoveLowestSingleChildren=function(){return Zt(this.gridOptions.groupRemoveLowestSingleChildren)},e.prototype.isGroupIncludeFooter=function(){return Zt(this.gridOptions.groupIncludeFooter)},e.prototype.isGroupIncludeTotalFooter=function(){return Zt(this.gridOptions.groupIncludeTotalFooter)},e.prototype.isGroupSuppressBlankHeader=function(){return Zt(this.gridOptions.groupSuppressBlankHeader)},e.prototype.isSuppressRowClickSelection=function(){return Zt(this.gridOptions.suppressRowClickSelection)},e.prototype.isSuppressCellSelection=function(){return Zt(this.gridOptions.suppressCellSelection)},e.prototype.isSuppressMultiSort=function(){return Zt(this.gridOptions.suppressMultiSort)},e.prototype.isMultiSortKeyCtrl=function(){return"ctrl"===this.gridOptions.multiSortKey},e.prototype.isGroupSuppressAutoColumn=function(){return Zt(this.gridOptions.groupSuppressAutoColumn)},e.prototype.isPivotSuppressAutoColumn=function(){return Zt(this.gridOptions.pivotSuppressAutoColumn)},e.prototype.isSuppressDragLeaveHidesColumns=function(){return Zt(this.gridOptions.suppressDragLeaveHidesColumns)},e.prototype.isSuppressScrollOnNewData=function(){return Zt(this.gridOptions.suppressScrollOnNewData)},e.prototype.isRowDragManaged=function(){return Zt(this.gridOptions.rowDragManaged)},e.prototype.isSuppressRowDrag=function(){return Zt(this.gridOptions.suppressRowDrag)},e.prototype.isSuppressMoveWhenRowDragging=function(){return Zt(this.gridOptions.suppressMoveWhenRowDragging)},e.prototype.isEnableMultiRowDragging=function(){return Zt(this.gridOptions.enableMultiRowDragging)},e.prototype.getDomLayout=function(){var e=this.gridOptions.domLayout||ze.DOM_LAYOUT_NORMAL;return-1===[ze.DOM_LAYOUT_PRINT,ze.DOM_LAYOUT_AUTO_HEIGHT,ze.DOM_LAYOUT_NORMAL].indexOf(e)?(et.doOnce((function(){return console.warn("ag-Grid: "+e+" is not valid for DOM Layout, valid values are "+ze.DOM_LAYOUT_NORMAL+", "+ze.DOM_LAYOUT_AUTO_HEIGHT+" and "+ze.DOM_LAYOUT_PRINT)}),"warn about dom layout values"),ze.DOM_LAYOUT_NORMAL):e},e.prototype.isSuppressHorizontalScroll=function(){return Zt(this.gridOptions.suppressHorizontalScroll)},e.prototype.isSuppressMaxRenderedRowRestriction=function(){return Zt(this.gridOptions.suppressMaxRenderedRowRestriction)},e.prototype.isExcludeChildrenWhenTreeDataFiltering=function(){return Zt(this.gridOptions.excludeChildrenWhenTreeDataFiltering)},e.prototype.isAlwaysShowVerticalScroll=function(){return Zt(this.gridOptions.alwaysShowVerticalScroll)},e.prototype.isSuppressLoadingOverlay=function(){return Zt(this.gridOptions.suppressLoadingOverlay)},e.prototype.isSuppressNoRowsOverlay=function(){return Zt(this.gridOptions.suppressNoRowsOverlay)},e.prototype.isSuppressFieldDotNotation=function(){return Zt(this.gridOptions.suppressFieldDotNotation)},e.prototype.getPinnedTopRowData=function(){return this.gridOptions.pinnedTopRowData},e.prototype.getPinnedBottomRowData=function(){return this.gridOptions.pinnedBottomRowData},e.prototype.isFunctionsPassive=function(){return Zt(this.gridOptions.functionsPassive)},e.prototype.isSuppressTabbing=function(){return Zt(this.gridOptions.suppressTabbing)},e.prototype.isSuppressChangeDetection=function(){return Zt(this.gridOptions.suppressChangeDetection)},e.prototype.isSuppressAnimationFrame=function(){return Zt(this.gridOptions.suppressAnimationFrame)},e.prototype.getQuickFilterText=function(){return this.gridOptions.quickFilterText},e.prototype.isCacheQuickFilter=function(){return Zt(this.gridOptions.cacheQuickFilter)},e.prototype.isUnSortIcon=function(){return Zt(this.gridOptions.unSortIcon)},e.prototype.isSuppressMenuHide=function(){return Zt(this.gridOptions.suppressMenuHide)},e.prototype.isEnterMovesDownAfterEdit=function(){return Zt(this.gridOptions.enterMovesDownAfterEdit)},e.prototype.isEnterMovesDown=function(){return Zt(this.gridOptions.enterMovesDown)},e.prototype.isUndoRedoCellEditing=function(){return Zt(this.gridOptions.undoRedoCellEditing)},e.prototype.getUndoRedoCellEditingLimit=function(){return this.gridOptions.undoRedoCellEditingLimit},e.prototype.getRowStyle=function(){return this.gridOptions.rowStyle},e.prototype.getRowClass=function(){return this.gridOptions.rowClass},e.prototype.getRowStyleFunc=function(){return this.gridOptions.getRowStyle},e.prototype.getRowClassFunc=function(){return this.gridOptions.getRowClass},e.prototype.rowClassRules=function(){return this.gridOptions.rowClassRules},e.prototype.getCreateChartContainerFunc=function(){return this.gridOptions.createChartContainer},e.prototype.getPopupParent=function(){return this.gridOptions.popupParent},e.prototype.getBlockLoadDebounceMillis=function(){return this.gridOptions.blockLoadDebounceMillis},e.prototype.getPostProcessPopupFunc=function(){return this.gridOptions.postProcessPopup},e.prototype.getDoesDataFlowerFunc=function(){return this.gridOptions.doesDataFlower},e.prototype.getPaginationNumberFormatterFunc=function(){return this.gridOptions.paginationNumberFormatter},e.prototype.getChildCountFunc=function(){return this.gridOptions.getChildCount},e.prototype.getDefaultGroupSortComparator=function(){return this.gridOptions.defaultGroupSortComparator},e.prototype.getIsFullWidthCellFunc=function(){return this.gridOptions.isFullWidthCell},e.prototype.getFullWidthCellRendererParams=function(){return this.gridOptions.fullWidthCellRendererParams},e.prototype.isEmbedFullWidthRows=function(){return Zt(this.gridOptions.embedFullWidthRows)||Zt(this.gridOptions.deprecatedEmbedFullWidthRows)},e.prototype.getSuppressKeyboardEventFunc=function(){return this.gridOptions.suppressKeyboardEvent},e.prototype.getBusinessKeyForNodeFunc=function(){return this.gridOptions.getBusinessKeyForNode},e.prototype.getApi=function(){return this.gridOptions.api},e.prototype.getColumnApi=function(){return this.gridOptions.columnApi},e.prototype.isImmutableData=function(){return Zt(this.gridOptions.immutableData)},e.prototype.isImmutableColumns=function(){return Zt(this.gridOptions.immutableColumns)},e.prototype.isEnsureDomOrder=function(){return Zt(this.gridOptions.ensureDomOrder)},e.prototype.isEnableCharts=function(){return!!Zt(this.gridOptions.enableCharts)&&Ct.assertRegistered(t.ModuleNames.GridChartsModule,"enableCharts")},e.prototype.getColResizeDefault=function(){return this.gridOptions.colResizeDefault},e.prototype.isSingleClickEdit=function(){return Zt(this.gridOptions.singleClickEdit)},e.prototype.isSuppressClickEdit=function(){return Zt(this.gridOptions.suppressClickEdit)},e.prototype.isStopEditingWhenGridLosesFocus=function(){return Zt(this.gridOptions.stopEditingWhenGridLosesFocus)},e.prototype.getGroupDefaultExpanded=function(){return this.gridOptions.groupDefaultExpanded},e.prototype.getMaxConcurrentDatasourceRequests=function(){return this.gridOptions.maxConcurrentDatasourceRequests},e.prototype.getMaxBlocksInCache=function(){return this.gridOptions.maxBlocksInCache},e.prototype.getCacheOverflowSize=function(){return this.gridOptions.cacheOverflowSize},e.prototype.getPaginationPageSize=function(){return this.gridOptions.paginationPageSize},e.prototype.isPaginateChildRows=function(){return!!(this.isGroupSuppressRow()||this.isGroupRemoveSingleChildren()||this.isGroupRemoveLowestSingleChildren())||Zt(this.gridOptions.paginateChildRows)},e.prototype.getCacheBlockSize=function(){return this.gridOptions.cacheBlockSize},e.prototype.getInfiniteInitialRowCount=function(){return this.gridOptions.infiniteInitialRowCount},e.prototype.isPurgeClosedRowNodes=function(){return Zt(this.gridOptions.purgeClosedRowNodes)},e.prototype.isSuppressPaginationPanel=function(){return Zt(this.gridOptions.suppressPaginationPanel)},e.prototype.getRowData=function(){return this.gridOptions.rowData},e.prototype.isGroupUseEntireRow=function(e){return!e&&Zt(this.gridOptions.groupUseEntireRow)},e.prototype.isEnableRtl=function(){return Zt(this.gridOptions.enableRtl)},e.prototype.getAutoGroupColumnDef=function(){return this.gridOptions.autoGroupColumnDef},e.prototype.isGroupSuppressRow=function(){return Zt(this.gridOptions.groupSuppressRow)},e.prototype.getRowGroupPanelShow=function(){return this.gridOptions.rowGroupPanelShow},e.prototype.getPivotPanelShow=function(){return this.gridOptions.pivotPanelShow},e.prototype.isAngularCompileRows=function(){return Zt(this.gridOptions.angularCompileRows)},e.prototype.isAngularCompileFilters=function(){return Zt(this.gridOptions.angularCompileFilters)},e.prototype.isAngularCompileHeaders=function(){return Zt(this.gridOptions.angularCompileHeaders)},e.prototype.isDebug=function(){return Zt(this.gridOptions.debug)},e.prototype.getColumnDefs=function(){return this.gridOptions.columnDefs},e.prototype.getColumnTypes=function(){return this.gridOptions.columnTypes},e.prototype.getDatasource=function(){return this.gridOptions.datasource},e.prototype.getViewportDatasource=function(){return this.gridOptions.viewportDatasource},e.prototype.getServerSideDatasource=function(){return this.gridOptions.serverSideDatasource},e.prototype.isAccentedSort=function(){return Zt(this.gridOptions.accentedSort)},e.prototype.isEnableBrowserTooltips=function(){return Zt(this.gridOptions.enableBrowserTooltips)},e.prototype.isEnableCellExpressions=function(){return Zt(this.gridOptions.enableCellExpressions)},e.prototype.isEnableGroupEdit=function(){return Zt(this.gridOptions.enableGroupEdit)},e.prototype.isSuppressMiddleClickScrolls=function(){return Zt(this.gridOptions.suppressMiddleClickScrolls)},e.prototype.isPreventDefaultOnContextMenu=function(){return Zt(this.gridOptions.preventDefaultOnContextMenu)},e.prototype.isSuppressPreventDefaultOnMouseWheel=function(){return Zt(this.gridOptions.suppressPreventDefaultOnMouseWheel)},e.prototype.isSuppressColumnVirtualisation=function(){return Zt(this.gridOptions.suppressColumnVirtualisation)},e.prototype.isSuppressContextMenu=function(){return Zt(this.gridOptions.suppressContextMenu)},e.prototype.isAllowContextMenuWithControlKey=function(){return Zt(this.gridOptions.allowContextMenuWithControlKey)},e.prototype.isSuppressCopyRowsToClipboard=function(){return Zt(this.gridOptions.suppressCopyRowsToClipboard)},e.prototype.isCopyHeadersToClipboard=function(){return Zt(this.gridOptions.copyHeadersToClipboard)},e.prototype.isSuppressClipboardPaste=function(){return Zt(this.gridOptions.suppressClipboardPaste)},e.prototype.isSuppressLastEmptyLineOnPaste=function(){return Zt(this.gridOptions.suppressLastEmptyLineOnPaste)},e.prototype.isPagination=function(){return Zt(this.gridOptions.pagination)},e.prototype.isSuppressEnterpriseResetOnNewColumns=function(){return Zt(this.gridOptions.suppressEnterpriseResetOnNewColumns)},e.prototype.getProcessDataFromClipboardFunc=function(){return this.gridOptions.processDataFromClipboard},e.prototype.getAsyncTransactionWaitMillis=function(){return et.exists(this.gridOptions.asyncTransactionWaitMillis)?this.gridOptions.asyncTransactionWaitMillis:ze.BATCH_WAIT_MILLIS},e.prototype.isSuppressMovableColumns=function(){return Zt(this.gridOptions.suppressMovableColumns)},e.prototype.isAnimateRows=function(){return!this.isEnsureDomOrder()&&Zt(this.gridOptions.animateRows)},e.prototype.isSuppressColumnMoveAnimation=function(){return Zt(this.gridOptions.suppressColumnMoveAnimation)},e.prototype.isSuppressAggFuncInHeader=function(){return Zt(this.gridOptions.suppressAggFuncInHeader)},e.prototype.isSuppressAggAtRootLevel=function(){return Zt(this.gridOptions.suppressAggAtRootLevel)},e.prototype.isEnableRangeSelection=function(){return Ct.isRegistered(t.ModuleNames.RangeSelectionModule)&&Zt(this.gridOptions.enableRangeSelection)},e.prototype.isEnableRangeHandle=function(){return Zt(this.gridOptions.enableRangeHandle)},e.prototype.isEnableFillHandle=function(){return Zt(this.gridOptions.enableFillHandle)},e.prototype.getFillOperation=function(){return this.gridOptions.fillOperation},e.prototype.isSuppressMultiRangeSelection=function(){return Zt(this.gridOptions.suppressMultiRangeSelection)},e.prototype.isPaginationAutoPageSize=function(){return Zt(this.gridOptions.paginationAutoPageSize)},e.prototype.isRememberGroupStateWhenNewData=function(){return Zt(this.gridOptions.rememberGroupStateWhenNewData)},e.prototype.getIcons=function(){return this.gridOptions.icons},e.prototype.getAggFuncs=function(){return this.gridOptions.aggFuncs},e.prototype.getSortingOrder=function(){return this.gridOptions.sortingOrder},e.prototype.getAlignedGrids=function(){return this.gridOptions.alignedGrids},e.prototype.isMasterDetail=function(){return!!Zt(this.gridOptions.masterDetail)&&Ct.assertRegistered(t.ModuleNames.MasterDetailModule,"masterDetail")},e.prototype.isKeepDetailRows=function(){return Zt(this.gridOptions.keepDetailRows)},e.prototype.getKeepDetailRowsCount=function(){return this.gridOptions.keepDetailRowsCount>0?this.gridOptions.keepDetailRowsCount:10},e.prototype.getIsRowMasterFunc=function(){return this.gridOptions.isRowMaster},e.prototype.getIsRowSelectableFunc=function(){return this.gridOptions.isRowSelectable},e.prototype.getGroupRowRendererParams=function(){return this.gridOptions.groupRowRendererParams},e.prototype.getOverlayLoadingTemplate=function(){return this.gridOptions.overlayLoadingTemplate},e.prototype.getOverlayNoRowsTemplate=function(){return this.gridOptions.overlayNoRowsTemplate},e.prototype.isSuppressAutoSize=function(){return Zt(this.gridOptions.suppressAutoSize)},e.prototype.isEnableCellTextSelection=function(){return Zt(this.gridOptions.enableCellTextSelection)},e.prototype.isSuppressParentsInRowNodes=function(){return Zt(this.gridOptions.suppressParentsInRowNodes)},e.prototype.isFunctionsReadOnly=function(){return Zt(this.gridOptions.functionsReadOnly)},e.prototype.isFloatingFilter=function(){return this.gridOptions.floatingFilter},e.prototype.isEnableCellTextSelect=function(){return Zt(this.gridOptions.enableCellTextSelection)},e.prototype.isEnableOldSetFilterModel=function(){return Zt(this.gridOptions.enableOldSetFilterModel)},e.prototype.getDefaultColDef=function(){return this.gridOptions.defaultColDef},e.prototype.getDefaultColGroupDef=function(){return this.gridOptions.defaultColGroupDef},e.prototype.getDefaultExportParams=function(){return this.gridOptions.defaultExportParams},e.prototype.isSuppressCsvExport=function(){return Zt(this.gridOptions.suppressCsvExport)},e.prototype.isAllowShowChangeAfterFilter=function(){return Zt(this.gridOptions.allowShowChangeAfterFilter)},e.prototype.isSuppressExcelExport=function(){return Zt(this.gridOptions.suppressExcelExport)},e.prototype.isSuppressMakeColumnVisibleAfterUnGroup=function(){return Zt(this.gridOptions.suppressMakeColumnVisibleAfterUnGroup)},e.prototype.getNodeChildDetailsFunc=function(){return this.gridOptions.getNodeChildDetails},e.prototype.getDataPathFunc=function(){return this.gridOptions.getDataPath},e.prototype.getIsServerSideGroupFunc=function(){return this.gridOptions.isServerSideGroup},e.prototype.getServerSideGroupKeyFunc=function(){return this.gridOptions.getServerSideGroupKey},e.prototype.getGroupRowAggNodesFunc=function(){return this.gridOptions.groupRowAggNodes},e.prototype.getContextMenuItemsFunc=function(){return this.gridOptions.getContextMenuItems},e.prototype.getMainMenuItemsFunc=function(){return this.gridOptions.getMainMenuItems},e.prototype.getChartToolbarItemsFunc=function(){return this.gridOptions.getChartToolbarItems},e.prototype.getRowNodeIdFunc=function(){return this.gridOptions.getRowNodeId},e.prototype.getNavigateToNextCellFunc=function(){return this.gridOptions.navigateToNextCell},e.prototype.getTabToNextCellFunc=function(){return this.gridOptions.tabToNextCell},e.prototype.isTreeData=function(){return!!Zt(this.gridOptions.treeData)&&Ct.assertRegistered(t.ModuleNames.RowGroupingModule,"Tree Data")},e.prototype.isValueCache=function(){return Zt(this.gridOptions.valueCache)},e.prototype.isValueCacheNeverExpires=function(){return Zt(this.gridOptions.valueCacheNeverExpires)},e.prototype.isDeltaSort=function(){return Zt(this.gridOptions.deltaSort)},e.prototype.isAggregateOnlyChangedColumns=function(){return Zt(this.gridOptions.aggregateOnlyChangedColumns)},e.prototype.getProcessSecondaryColDefFunc=function(){return this.gridOptions.processSecondaryColDef},e.prototype.getProcessSecondaryColGroupDefFunc=function(){return this.gridOptions.processSecondaryColGroupDef},e.prototype.getSendToClipboardFunc=function(){return this.gridOptions.sendToClipboard},e.prototype.getProcessRowPostCreateFunc=function(){return this.gridOptions.processRowPostCreate},e.prototype.getProcessCellForClipboardFunc=function(){return this.gridOptions.processCellForClipboard},e.prototype.getProcessHeaderForClipboardFunc=function(){return this.gridOptions.processHeaderForClipboard},e.prototype.getProcessCellFromClipboardFunc=function(){return this.gridOptions.processCellFromClipboard},e.prototype.getViewportRowModelPageSize=function(){return e=this.gridOptions.viewportRowModelPageSize,t=5,e>0?e:t;var e,t},e.prototype.getViewportRowModelBufferSize=function(){return e=this.gridOptions.viewportRowModelBufferSize,t=5,e>=0?e:t;var e,t},e.prototype.isServerSideSortingAlwaysResets=function(){return Zt(this.gridOptions.serverSideSortingAlwaysResets)},e.prototype.getPostSortFunc=function(){return this.gridOptions.postSort},e.prototype.getProcessChartOptionsFunc=function(){return this.gridOptions.processChartOptions},e.prototype.getClipboardDeliminator=function(){return et.exists(this.gridOptions.clipboardDeliminator)?this.gridOptions.clipboardDeliminator:"\t"},e.prototype.setProperty=function(e,t,o){void 0===o&&(o=!1);var n=this.gridOptions,i=n[e];if(o||i!==t){n[e]=t;var r={type:e,currentValue:t,previousValue:i};this.propertyEventService.dispatchEvent(r)}},e.prototype.addLayoutElement=function(e){this.layoutElements.push(e),this.updateLayoutClasses()},e.prototype.updateLayoutClasses=function(){var e=this.getDomLayout(),t=e===ze.DOM_LAYOUT_AUTO_HEIGHT,o=e===ze.DOM_LAYOUT_PRINT,n=e===ze.DOM_LAYOUT_NORMAL;this.layoutElements.forEach((function(e){et.addOrRemoveCssClass(e,"ag-layout-auto-height",t),et.addOrRemoveCssClass(e,"ag-layout-normal",n),et.addOrRemoveCssClass(e,"ag-layout-print",o)}))},e.prototype.addEventListener=function(e,t){o.checkEventDeprecation(e),this.propertyEventService.addEventListener(e,t)},e.checkEventDeprecation=function(e){"floatingRowDataChanged"===e&&console.warn("ag-Grid: floatingRowDataChanged is now called pinnedRowDataChanged")},e.prototype.removeEventListener=function(e,t){this.propertyEventService.removeEventListener(e,t)},e.prototype.isSkipHeaderOnAutoSize=function(){return!!this.gridOptions.skipHeaderOnAutoSize},e.prototype.getAutoSizePadding=function(){return this.gridOptions.autoSizePadding&&this.gridOptions.autoSizePadding>0?this.gridOptions.autoSizePadding:20},e.prototype.getHeaderHeight=function(){return"number"===typeof this.gridOptions.headerHeight?this.gridOptions.headerHeight:this.getFromTheme(25,"headerHeight")},e.prototype.getFloatingFiltersHeight=function(){return"number"===typeof this.gridOptions.floatingFiltersHeight?this.gridOptions.floatingFiltersHeight:this.getFromTheme(25,"headerHeight")},e.prototype.getGroupHeaderHeight=function(){return"number"===typeof this.gridOptions.groupHeaderHeight?this.gridOptions.groupHeaderHeight:this.getHeaderHeight()},e.prototype.getPivotHeaderHeight=function(){return"number"===typeof this.gridOptions.pivotHeaderHeight?this.gridOptions.pivotHeaderHeight:this.getHeaderHeight()},e.prototype.getPivotGroupHeaderHeight=function(){return"number"===typeof this.gridOptions.pivotGroupHeaderHeight?this.gridOptions.pivotGroupHeaderHeight:this.getGroupHeaderHeight()},e.prototype.isExternalFilterPresent=function(){return"function"===typeof this.gridOptions.isExternalFilterPresent&&this.gridOptions.isExternalFilterPresent()},e.prototype.doesExternalFilterPass=function(e){return"function"===typeof this.gridOptions.doesExternalFilterPass&&this.gridOptions.doesExternalFilterPass(e)},e.prototype.getTooltipShowDelay=function(){var e=this.gridOptions.tooltipShowDelay;return et.exists(e)?(e<0&&console.warn("ag-grid: tooltipShowDelay should not be lower than 0"),Math.max(200,e)):null},e.prototype.isTooltipMouseTrack=function(){return Zt(this.gridOptions.tooltipMouseTrack)},e.prototype.getDocument=function(){var e=null;return this.gridOptions.getDocument&&et.exists(this.gridOptions.getDocument)&&(e=this.gridOptions.getDocument()),e&&et.exists(e)?e:document},e.prototype.getMinColWidth=function(){if(this.gridOptions.minColWidth>o.MIN_COL_WIDTH)return this.gridOptions.minColWidth;var e=this.getFromTheme(null,"headerCellMinWidth");return Math.max(e,o.MIN_COL_WIDTH)},e.prototype.getMaxColWidth=function(){return this.gridOptions.maxColWidth&&this.gridOptions.maxColWidth>o.MIN_COL_WIDTH?this.gridOptions.maxColWidth:null},e.prototype.getColWidth=function(){return"number"!==typeof this.gridOptions.colWidth||this.gridOptions.colWidth<o.MIN_COL_WIDTH?200:this.gridOptions.colWidth},e.prototype.getRowBuffer=function(){var e=this.gridOptions.rowBuffer;return"number"===typeof e?e<0&&(et.doOnce((function(){return console.warn("ag-Grid: rowBuffer should not be negative")}),"warn rowBuffer negative"),this.gridOptions.rowBuffer=e=0):e=ze.ROW_BUFFER_SIZE,e},e.prototype.getRowBufferInPixels=function(){return this.getRowBuffer()*this.getRowHeightAsNumber()},e.prototype.getScrollbarWidth=function(){if(null==this.scrollWidth){var e="number"===typeof this.gridOptions.scrollbarWidth&&this.gridOptions.scrollbarWidth>=0;this.scrollWidth=e?this.gridOptions.scrollbarWidth:et.getScrollbarWidth()}return this.scrollWidth},e.prototype.checkForDeprecated=function(){var e=this,t=this.gridOptions;t.suppressUnSort&&console.warn("ag-grid: as of v1.12.4 suppressUnSort is not used. Please use sortingOrder instead."),t.suppressDescSort&&console.warn("ag-grid: as of v1.12.4 suppressDescSort is not used. Please use sortingOrder instead."),t.groupAggFields&&console.warn("ag-grid: as of v3 groupAggFields is not used. Please add appropriate agg fields to your columns."),t.groupHidePivotColumns&&console.warn("ag-grid: as of v3 groupHidePivotColumns is not used as pivot columns are now called rowGroup columns. Please refer to the documentation"),t.groupKeys&&console.warn("ag-grid: as of v3 groupKeys is not used. You need to set rowGroupIndex on the columns to group. Please refer to the documentation"),"boolean"===typeof t.groupDefaultExpanded&&console.warn("ag-grid: groupDefaultExpanded can no longer be boolean. for groupDefaultExpanded=true, use groupDefaultExpanded=9999 instead, to expand all the groups"),(t.onRowDeselected||t.rowDeselected)&&console.warn("ag-grid: since version 3.4 event rowDeselected no longer exists, please check the docs"),t.rowsAlreadyGrouped&&console.warn("ag-grid: since version 3.4 rowsAlreadyGrouped no longer exists, please use getNodeChildDetails() instead"),t.groupAggFunction&&console.warn("ag-grid: since version 4.3.x groupAggFunction is now called groupRowAggNodes"),t.checkboxSelection&&console.warn("ag-grid: since version 8.0.x checkboxSelection is not supported as a grid option. If you want this on all columns, use defaultColDef instead and set it there"),t.paginationInitialRowCount&&console.warn("ag-grid: since version 9.0.x paginationInitialRowCount is now called infiniteInitialRowCount"),t.infinitePageSize&&console.warn("ag-grid: since version 9.0.x infinitePageSize is now called cacheBlockSize"),t.infiniteBlockSize&&console.warn("ag-grid: since version 10.0.x infiniteBlockSize is now called cacheBlockSize"),t.maxPagesInCache&&console.warn("ag-grid: since version 10.0.x maxPagesInCache is now called maxBlocksInCache"),t.paginationOverflowSize&&console.warn("ag-grid: since version 10.0.x paginationOverflowSize is now called cacheOverflowSize"),t.suppressMenuFilterPanel&&console.warn("ag-grid: since version 11.0.x, use property colDef.menuTabs=['generalMenuTab','columnsMenuTab'] instead of suppressMenuFilterPanel=true"),t.suppressMenuMainPanel&&console.warn("ag-grid: since version 11.0.x, use property colDef.menuTabs=['filterMenuTab','columnsMenuTab'] instead of suppressMenuMainPanel=true"),t.suppressMenuColumnPanel&&console.warn("ag-grid: since version 11.0.x, use property colDef.menuTabs=['generalMenuTab','filterMenuTab'] instead of suppressMenuColumnPanel=true"),t.suppressUseColIdForGroups&&console.warn("ag-grid: since version 11.0.x, this is not in use anymore. You should be able to remove it from your definition"),t.groupSuppressRow&&console.warn("ag-grid: since version 18.2.x, 'groupSuppressRow' should not be used anymore. Instead remove row groups and perform custom sorting."),t.groupColumnDef&&console.warn("ag-grid: since version 11.0.x, groupColumnDef has been renamed, this property is now called autoGroupColumnDef. Please change your configuration accordingly"),t.slaveGrids&&console.warn("ag-grid: since version 12.x, slaveGrids has been renamed, this property is now called alignedGrids. Please change your configuration accordingly"),t.floatingTopRowData&&console.warn("ag-grid: since version 12.x, floatingTopRowData is now called pinnedTopRowData"),t.floatingBottomRowData&&console.warn("ag-grid: since version 12.x, floatingBottomRowData is now called pinnedBottomRowData"),t.paginationStartPage&&console.warn("ag-grid: since version 12.x, paginationStartPage is gone, please call api.paginationGoToPage("+t.paginationStartPage+") instead."),t.getHeaderCellTemplate&&console.warn("ag-grid: since version 15.x, getHeaderCellTemplate is gone, please check the header documentation on how to set header templates."),t.headerCellTemplate&&console.warn("ag-grid: since version 15.x, headerCellTemplate is gone, please check the header documentation on how to set header templates."),t.headerCellRenderer&&console.warn("ag-grid: since version 15.x, headerCellRenderer is gone, please check the header documentation on how to set header templates."),t.angularCompileHeaders&&console.warn("ag-grid: since version 15.x, angularCompileHeaders is gone, please see the getting started for Angular 1 docs to see how to do headers in Angular 1.x."),t.pivotTotals&&(console.warn("ag-grid: since version 18.x, pivotTotals has been removed, instead if using pivotTotals, set pivotColumnGroupTotals='before'|'after'."),t.pivotColumnGroupTotals="before"),"inMemory"===t.rowModelType&&(console.warn("ag-grid: since version 18.x, The In Memory Row Model has been renamed to the Client Side Row Model, set rowModelType='clientSide' instead."),t.rowModelType="clientSide"),"enterprise"===t.rowModelType&&(console.warn("ag-grid: since version 18.x, The Enterprise Row Model has been renamed to the Server Side Row Model, set rowModelType='serverSide' instead."),t.rowModelType="serverSide"),t.layoutInterval&&console.warn("ag-grid: since version 18.x, layoutInterval is no longer a property. This is because the grid now uses CSS Flex for layout."),t.gridAutoHeight&&(console.warn("ag-grid: since version 19.x, gridAutoHeight is gone, please use domLayout=autoHeight instead"),t.domLayout="autoHeight"),!0===t.showToolPanel&&(console.warn("ag-grid: since version 19.x, showToolPanel is gone, please specify toolPanel components. See https://www.ag-grid.com/javascript-grid-tool-panel/"),t.showToolPanel=void 0,t.sideBar=t.sideBar||!0),!1===t.showToolPanel&&(console.warn("ag-grid: since version 19.x, showToolPanel is gone, please specify toolPanel components. See https://www.ag-grid.com/javascript-grid-tool-panel/"),t.showToolPanel=void 0,t.sideBar=t.sideBar||!1);var o={toolPanelSuppressRowGroups:"suppressRowGroups",toolPanelSuppressValues:"suppressValues",toolPanelSuppressPivots:"suppressPivots",toolPanelSuppressPivotMode:"suppressPivotMode",toolPanelSuppressColumnFilter:"suppressColumnFilter",toolPanelSuppressColumnSelectAll:"suppressColumnSelectAll",toolPanelSuppressSideButtons:"suppressSideButtons",toolPanelSuppressColumnExpandAll:"suppressColumnExpandAll",contractColumnSelection:"contractColumnSelection"},n={};Object.keys(o).forEach((function(t){var i=o[t],r=e.gridOptions[t];if(void 0!==r){if("toolPanelSuppressSideButtons"===t)return void console.warn("ag-grid: since v19.0 toolPanelSuppressSideButtons has been completely removed. See https://www.ag-grid.com/javascript-grid-tool-panel/");console.warn("ag-grid: since v19.0 gridOptions."+t+" is deprecated, please use gridOptions.sideBar.toolPanel[columnsIndex].componentParams."+i),n[i]=r}})),Object.keys(n).length>0&&!et.exists(t.sideBar)&&(console.warn("ag-grid: since version 19.x, sideBar is mandatory if using toolPanel related properties. See https://www.ag-grid.com/javascript-grid-tool-panel/"),t.sideBar=!0),null!=t.sideBar&&(t.sideBar=Yt.parse(t.sideBar));var i=this.gridOptions.sideBar;if(Object.keys(n).length>0&&i&&i.toolPanels){var r=i.toolPanels.filter((function(e){return"columns"===e.id}));1===r.length&&et.mergeDeep(r[0],{componentParams:n})}t.enableStatusBar&&(console.warn("ag-grid: since version 19.x, enableStatusBar is gone, please specify statusBar components"),t.statusBar=t.statusBar||{components:[{component:"agAggregationComponent"}]}),t.alwaysShowStatusBar&&console.warn("ag-grid: since version 19.x, alwaysShowStatusBar is gone. Please specify a min-height on the ag-status-bar css class, eg .ag-status-bar {min-height: 35px; }"),(t.enableServerSideSorting||t.enableSorting)&&(console.warn("ag-Grid: since v20, grid options enableSorting and enableServerSideSorting are gone. Instead set sortable=true on the column definition for the columns sorting are allowed on. To migrate from gridOption.enableSorting=true, set gridOptions.defaultColDef.sortable=true"),t.defaultColDef||(t.defaultColDef={}),t.defaultColDef.sortable||(t.defaultColDef.sortable=!0)),(t.enableFilter||t.enableServerSideFilter)&&(console.warn("ag-Grid: since v20, grid options enableFilter and enableServerSideFilter are gone. Instead set filter=true (if not already specifying a specific filter) on the column definition for the columns filtering is allowed on. To migrate from gridOptions.enableFilter=true, set gridOptions.defaultColDef.filter=true. If you are explicitly setting specific filters for each column (ie colDef.filter is already set) the you don't need to do anything."),t.defaultColDef||(t.defaultColDef={}),t.defaultColDef.filter||(t.defaultColDef.filter=!0)),t.enableColResize&&(console.warn("ag-Grid: since v20, grid options enableColResize is gone. Instead set resizable=true on the column definition for the columns resizing are allowed on. To migrate from gridOption.enableColResize=true, set gridOptions.defaultColDef.resizable=true"),t.defaultColDef||(t.defaultColDef={}),t.defaultColDef.resizable||(t.defaultColDef.resizable=!0)),t.deprecatedEmbedFullWidthRows&&console.warn("ag-Grid: since v21.2, deprecatedEmbedFullWidthRows has been replaced with embedFullWidthRows."),t.suppressTabbing&&console.warn("ag-Grid: since v20.1, suppressTabbing is replaced with the more powerful grid callback suppressKeyboardEvent(params) which can suppress any keyboard event including tabbing."),t.doesDataFlower&&console.warn("ag-Grid: since v21.1, doesDataFlower is deprecated. Master/Detail is the new way for showing child data for a row and was introduced over a year ago. Please migrate your code to use master/detail instead."),t.enableOldSetFilterModel&&console.warn("ag-Grid: since v22.x, enableOldSetFilterModel is deprecated. Please move to the new Set Filter Model as the old one may not be supported in v23 onwards."),t.floatingFilter&&(console.warn("ag-Grid: since v23.1, floatingFilter on the gridOptions is deprecated. Please use floatingFilter on the colDef instead."),t.defaultColDef||(t.defaultColDef={}),null==t.defaultColDef.floatingFilter&&(t.defaultColDef.floatingFilter=!0));var s=function(e,o,n){null!=t[e]&&(console.warn("ag-grid: since version "+n+", '"+e+"' is deprecated / renamed, please use the new property name '"+o+"' instead."),null==t[o]&&(t[o]=t[e]))};s("batchUpdateWaitMillis","asyncTransactionWaitMillis","23.1.x"),s("deltaRowDataMode","immutableData","23.1.x"),s("deltaColumnMode","immutableColumns","23.1.x")},e.prototype.checkForViolations=function(){this.isTreeData()&&this.treeDataViolations()},e.prototype.treeDataViolations=function(){this.isRowModelDefault()&&et.missing(this.getDataPathFunc())&&console.warn("ag-Grid: property usingTreeData=true with rowModel=clientSide, but you did not provide getDataPath function, please provide getDataPath function if using tree data."),this.isRowModelServerSide()&&(et.missing(this.getIsServerSideGroupFunc())&&console.warn("ag-Grid: property usingTreeData=true with rowModel=serverSide, but you did not provide isServerSideGroup function, please provide isServerSideGroup function if using tree data."),et.missing(this.getServerSideGroupKeyFunc())&&console.warn("ag-Grid: property usingTreeData=true with rowModel=serverSide, but you did not provide getServerSideGroupKey function, please provide getServerSideGroupKey function if using tree data."))},e.prototype.getLocaleTextFunc=function(){if(this.gridOptions.localeTextFunc)return this.gridOptions.localeTextFunc;var e=this.gridOptions.localeText;return function(t,o){return e&&e[t]?e[t]:o}},e.prototype.globalEventHandler=function(e,t){var o=to.getCallbackForEvent(e);"function"===typeof this.gridOptions[o]&&this.gridOptions[o](t)},e.prototype.getRowHeightAsNumber=function(){return!this.gridOptions.rowHeight||et.missing(this.gridOptions.rowHeight)?this.getDefaultRowHeight():this.gridOptions.rowHeight&&this.isNumeric(this.gridOptions.rowHeight)?this.gridOptions.rowHeight:(console.warn("ag-Grid row height must be a number if not using standard row model"),this.getDefaultRowHeight())},e.prototype.getRowHeightForNode=function(e,t){if(void 0===t&&(t=!1),"function"===typeof this.gridOptions.getRowHeight){if(t)return{height:this.getDefaultRowHeight(),estimated:!0};var o={node:e,data:e.data,api:this.gridOptions.api,context:this.gridOptions.context},n=this.gridOptions.getRowHeight(o);if(null!=n)return{height:n,estimated:!1}}if(e.detail&&this.isMasterDetail())return this.isNumeric(this.gridOptions.detailRowHeight)?{height:this.gridOptions.detailRowHeight,estimated:!1}:{height:300,estimated:!1};var i=this.getDefaultRowHeight(),r=this.gridOptions.rowHeight&&this.isNumeric(this.gridOptions.rowHeight)?this.gridOptions.rowHeight:i,s=Math.min(i,r);if(this.columnController.isAutoRowHeightActive()){if(t)return{height:r,estimated:!0};var a=this.autoHeightCalculator.getPreferredHeightForRow(e);return{height:Math.max(a,s),estimated:!1}}return{height:r,estimated:!1}},e.prototype.isDynamicRowHeight=function(){return"function"===typeof this.gridOptions.getRowHeight},e.prototype.getListItemHeight=function(){return this.getFromTheme(20,"listItemHeight")},e.prototype.chartMenuPanelWidth=function(){return this.environment.chartMenuPanelWidth()},e.prototype.isNumeric=function(e){return!isNaN(e)&&"number"===typeof e},e.prototype.getFromTheme=function(e,t){var o=this.environment.getTheme().theme;return o&&0===o.indexOf("ag-theme")?this.environment.getSassVariable(o,t):e},e.prototype.getDefaultRowHeight=function(){return this.getFromTheme(25,"rowHeight")},e.MIN_COL_WIDTH=10,e.PROP_HEADER_HEIGHT="headerHeight",e.PROP_GROUP_REMOVE_SINGLE_CHILDREN="groupRemoveSingleChildren",e.PROP_GROUP_REMOVE_LOWEST_SINGLE_CHILDREN="groupRemoveLowestSingleChildren",e.PROP_PIVOT_HEADER_HEIGHT="pivotHeaderHeight",e.PROP_SUPPRESS_CLIPBOARD_PASTE="suppressClipboardPaste",e.PROP_GROUP_HEADER_HEIGHT="groupHeaderHeight",e.PROP_PIVOT_GROUP_HEADER_HEIGHT="pivotGroupHeaderHeight",e.PROP_FLOATING_FILTERS_HEIGHT="floatingFiltersHeight",e.PROP_SUPPRESS_ROW_CLICK_SELECTION="suppressRowClickSelection",e.PROP_SUPPRESS_ROW_DRAG="suppressRowDrag",e.PROP_SUPPRESS_MOVE_WHEN_ROW_DRAG="suppressMoveWhenRowDragging",e.PROP_POPUP_PARENT="popupParent",e.PROP_DOM_LAYOUT="domLayout",qt([ut("gridOptions")],e.prototype,"gridOptions",void 0),qt([ut("columnController")],e.prototype,"columnController",void 0),qt([ut("eventService")],e.prototype,"eventService",void 0),qt([ut("environment")],e.prototype,"environment",void 0),qt([ut("autoHeightCalculator")],e.prototype,"autoHeightCalculator",void 0),qt([Xt(0,pt("gridApi")),Xt(1,pt("columnApi"))],e.prototype,"agWire",null),qt([lt],e.prototype,"destroy",null),qt([at],e.prototype,"init",null),e=o=qt([ct("gridOptionsWrapper")],e)}(),eo=function(){for(var e=0,t=0,o=arguments.length;t<o;t++)e+=arguments[t].length;var n=Array(e),i=0;for(t=0;t<o;t++)for(var r=arguments[t],s=0,a=r.length;s<a;s++,i++)n[i]=r[s];return n},to=function(){function e(){}return e.getEventCallbacks=function(){return e.EVENT_CALLBACKS||(e.EVENT_CALLBACKS=e.EVENTS.map((function(t){return e.getCallbackForEvent(t)}))),e.EVENT_CALLBACKS},e.copyAttributesToGridOptions=function(t,o,n){void 0===n&&(n=!1),oo(o),"object"!==typeof t&&(t={});var i=t,r=function(e){return"undefined"!==typeof o[e]};return eo(e.ARRAY_PROPERTIES,e.STRING_PROPERTIES,e.OBJECT_PROPERTIES,e.FUNCTION_PROPERTIES,e.getEventCallbacks()).filter(r).forEach((function(e){return i[e]=o[e]})),e.BOOLEAN_PROPERTIES.filter(r).forEach((function(t){return i[t]=e.toBoolean(o[t])})),e.NUMBER_PROPERTIES.filter(r).forEach((function(t){return i[t]=e.toNumber(o[t])})),n||e.EVENTS.filter((function(t){return r(t)||r(e.getCallbackForEvent(t))})).forEach((function(e){return Jt.checkEventDeprecation(e)})),t},e.getCallbackForEvent=function(e){return!e||e.length<2?e:"on"+e[0].toUpperCase()+e.substr(1)},e.processOnChange=function(t,o,n,i){if(t){oo(t);var r=o,s=function(e){return t[e]};eo(e.ARRAY_PROPERTIES,e.OBJECT_PROPERTIES,e.STRING_PROPERTIES,e.getEventCallbacks()).filter(s).forEach((function(e){return r[e]=t[e].currentValue})),e.BOOLEAN_PROPERTIES.filter(s).forEach((function(o){return r[o]=e.toBoolean(t[o].currentValue)})),e.NUMBER_PROPERTIES.filter(s).forEach((function(o){return r[o]=e.toNumber(t[o].currentValue)})),t.enableCellTextSelection&&n.setEnableCellTextSelection(e.toBoolean(t.enableCellTextSelection.currentValue)),t.showToolPanel&&n.showToolPanel(e.toBoolean(t.showToolPanel.currentValue)),t.quickFilterText&&n.setQuickFilter(t.quickFilterText.currentValue),t.rowData&&n.setRowData(t.rowData.currentValue),t.pinnedTopRowData&&n.setPinnedTopRowData(t.pinnedTopRowData.currentValue),t.pinnedBottomRowData&&n.setPinnedBottomRowData(t.pinnedBottomRowData.currentValue),t.autoGroupColumnDef&&n.setAutoGroupColumnDef(t.autoGroupColumnDef.currentValue,"gridOptionsChanged"),t.columnDefs&&n.setColumnDefs(t.columnDefs.currentValue,"gridOptionsChanged"),t.datasource&&n.setDatasource(t.datasource.currentValue),t.headerHeight&&n.setHeaderHeight(e.toNumber(t.headerHeight.currentValue)),t.paginationPageSize&&n.paginationSetPageSize(e.toNumber(t.paginationPageSize.currentValue)),t.pivotMode&&i.setPivotMode(e.toBoolean(t.pivotMode.currentValue)),t.groupRemoveSingleChildren&&n.setGroupRemoveSingleChildren(e.toBoolean(t.groupRemoveSingleChildren.currentValue)),t.suppressRowDrag&&n.setSuppressRowDrag(e.toBoolean(t.suppressRowDrag.currentValue)),t.suppressMoveWhenRowDragging&&n.setSuppressMoveWhenRowDragging(e.toBoolean(t.suppressMoveWhenRowDragging.currentValue)),t.suppressRowClickSelection&&n.setSuppressRowClickSelection(e.toBoolean(t.suppressRowClickSelection.currentValue)),t.gridAutoHeight&&n.setGridAutoHeight(e.toBoolean(t.gridAutoHeight.currentValue)),t.suppressClipboardPaste&&n.setSuppressClipboardPaste(e.toBoolean(t.suppressClipboardPaste.currentValue)),t.sideBar&&n.setSideBar(t.sideBar.currentValue);var a={type:_t.EVENT_COMPONENT_STATE_CHANGED,api:o.api,columnApi:o.columnApi};et.iterateObject(t,(function(e,t){a[e]=t})),n.dispatchEvent(a)}},e.toBoolean=function(e){return"boolean"===typeof e?e:"string"===typeof e&&("TRUE"===e.toUpperCase()||""==e)},e.toNumber=function(e){return"number"===typeof e?e:"string"===typeof e?Number(e):void 0},e.EVENTS=[],e.STRING_PROPERTIES=Ut.STRING_PROPERTIES,e.OBJECT_PROPERTIES=Ut.OBJECT_PROPERTIES,e.ARRAY_PROPERTIES=Ut.ARRAY_PROPERTIES,e.NUMBER_PROPERTIES=Ut.NUMBER_PROPERTIES,e.BOOLEAN_PROPERTIES=Ut.BOOLEAN_PROPERTIES,e.FUNCTION_PROPERTIES=Ut.FUNCTION_PROPERTIES,e.ALL_PROPERTIES=Ut.ALL_PROPERTIES,e}();function oo(e){(e.rowDeselected||e.onRowDeselected)&&console.warn("ag-grid: as of v3.4 rowDeselected no longer exists. Please check the docs.")}to.EVENTS=et.values(_t);var no=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),io=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},ro=new tt,so=function(e){function t(t){var o=e.call(this)||this;return o.annotatedGuiListeners=[],o.displayed=!0,o.visible=!0,o.compId=ro.next(),t&&o.setTemplate(t),o}return no(t,e),t.prototype.getCompId=function(){return this.compId},t.prototype.createChildComponentsFromTags=function(e,t){var o=this,n=et.copyNodeList(e.childNodes);et.forEach(n,(function(n){if(n instanceof HTMLElement){var i=o.createComponentFromElement(n,(function(e){o.copyAttributesFromNode(n,e.getGui())}),t);if(i){if(i.addItems&&n.children.length){o.createChildComponentsFromTags(n);var r=Array.prototype.slice.call(n.children);i.addItems(r)}o.swapComponentForNode(i,e,n)}else n.childNodes&&o.createChildComponentsFromTags(n)}}))},t.prototype.createComponentFromElement=function(e,t,o){var n=e.nodeName,i=o?o[e.getAttribute("ref")]:void 0,r=this.agStackComponentsRegistry.getComponentClass(n);if(r){var s=new r(i);return this.createBean(s,null,t),s}return null},t.prototype.copyAttributesFromNode=function(e,t){et.iterateNamedNodeMap(e.attributes,(function(e,o){return t.setAttribute(e,o)}))},t.prototype.swapComponentForNode=function(e,t,o){var n=e.getGui();t.replaceChild(n,o),t.insertBefore(document.createComment(o.nodeName),n),this.addDestroyFunc(this.destroyBean.bind(this,e)),this.swapInComponentForQuerySelectors(e,o)},t.prototype.swapInComponentForQuerySelectors=function(e,t){var o=this;this.iterateOverQuerySelectors((function(n){o[n.attributeName]===t&&(o[n.attributeName]=e)}))},t.prototype.iterateOverQuerySelectors=function(e){for(var t=Object.getPrototypeOf(this);null!=t;){var o=t.__agComponentMetaData,n=t.constructor.name;o&&o[n]&&o[n].querySelectors&&et.forEach(o[n].querySelectors,(function(t){return e(t)})),t=Object.getPrototypeOf(t)}},t.prototype.setTemplate=function(e,t){var o=et.loadTemplate(e);this.setTemplateFromElement(o,t)},t.prototype.setTemplateFromElement=function(e,t){this.eGui=e,this.eGui.__agComponent=this,this.addAnnotatedGuiEventListeners(),this.wireQuerySelectors(),this.getContext()&&this.createChildComponentsFromTags(this.getGui(),t)},t.prototype.createChildComponentsPreConstruct=function(){this.getGui()&&this.createChildComponentsFromTags(this.getGui())},t.prototype.wireQuerySelectors=function(){var e=this;if(this.eGui){var t=this;this.iterateOverQuerySelectors((function(o){var n=e.eGui.querySelector(o.querySelector);n&&(t[o.attributeName]=n.__agComponent||n)}))}},t.prototype.addAnnotatedGuiEventListeners=function(){var e=this;if(this.removeAnnotatedGuiEventListeners(),this.eGui){var t=this.getAgComponentMetaData("guiListenerMethods");t&&(this.annotatedGuiListeners||(this.annotatedGuiListeners=[]),t.forEach((function(t){var o=e.getRefElement(t.ref);if(o){var n=e[t.methodName].bind(e);o.addEventListener(t.eventName,n),e.annotatedGuiListeners.push({eventName:t.eventName,listener:n,element:o})}})))}},t.prototype.addAnnotatedGridEventListeners=function(){var e=this,t=this.getAgComponentMetaData("gridListenerMethods");t&&t.forEach((function(t){var o=e[t.methodName].bind(e);e.addManagedListener(e.eventService,t.eventName,o)}))},t.prototype.getAgComponentMetaData=function(e){for(var t=[],o=Object.getPrototypeOf(this);null!=o;){var n=o.__agComponentMetaData,i=o.constructor.name;if(void 0===i){var r=/function\s([^(]{1,})\(/.exec(o.constructor.toString());r&&r.length>1&&(i=r[1].trim())}n&&n[i]&&n[i][e]&&(t=t.concat(n[i][e])),o=Object.getPrototypeOf(o)}return t},t.prototype.removeAnnotatedGuiEventListeners=function(){this.annotatedGuiListeners&&(et.forEach(this.annotatedGuiListeners,(function(e){e.element.removeEventListener(e.eventName,e.listener)})),this.annotatedGuiListeners=[])},t.prototype.getGui=function(){return this.eGui},t.prototype.getFocusableElement=function(){return this.eGui},t.prototype.setParentComponent=function(e){this.parentComponent=e},t.prototype.getParentComponent=function(){return this.parentComponent},t.prototype.setGui=function(e){this.eGui=e},t.prototype.queryForHtmlElement=function(e){return this.eGui.querySelector(e)},t.prototype.queryForHtmlInputElement=function(e){return this.eGui.querySelector(e)},t.prototype.appendChild=function(e,t){if(t||(t=this.eGui),et.isNodeOrElement(e))t.appendChild(e);else{var o=e;t.appendChild(o.getGui()),this.addDestroyFunc(this.destroyBean.bind(this,o))}},t.prototype.isDisplayed=function(){return this.displayed},t.prototype.setVisible=function(e){e!==this.visible&&(this.visible=e,et.setVisible(this.eGui,e))},t.prototype.setDisplayed=function(e){if(e!==this.displayed){this.displayed=e,et.setDisplayed(this.eGui,e);var o={type:t.EVENT_DISPLAYED_CHANGED,visible:this.displayed};this.dispatchEvent(o)}},t.prototype.destroy=function(){this.removeAnnotatedGuiEventListeners(),e.prototype.destroy.call(this)},t.prototype.addGuiEventListener=function(e,t){var o=this;this.eGui.addEventListener(e,t),this.addDestroyFunc((function(){return o.eGui.removeEventListener(e,t)}))},t.prototype.addCssClass=function(e){et.addCssClass(this.eGui,e)},t.prototype.removeCssClass=function(e){et.removeCssClass(this.eGui,e)},t.prototype.addOrRemoveCssClass=function(e,t){et.addOrRemoveCssClass(this.eGui,e,t)},t.prototype.getAttribute=function(e){var t=this.eGui;return t?t.getAttribute(e):null},t.prototype.getRefElement=function(e){return this.queryForHtmlElement('[ref="'+e+'"]')},t.EVENT_DISPLAYED_CHANGED="displayedChanged",io([ut("agStackComponentsRegistry")],t.prototype,"agStackComponentsRegistry",void 0),io([st],t.prototype,"createChildComponentsPreConstruct",null),io([at],t.prototype,"addAnnotatedGridEventListeners",null),t}(xt),ao=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),lo=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ao(t,e),t.prototype.isPopup=function(){return!0},t.prototype.setParentComponent=function(t){et.addCssClass(t.getGui(),"ag-has-popup"),e.prototype.setParentComponent.call(this,t)},t.prototype.destroy=function(){var t=this.parentComponent;t&&t.isAlive()&&et.removeCssClass(t.getGui(),"ag-has-popup"),e.prototype.destroy.call(this)},t}(so);function co(e){return uo.bind(this,"[ref="+e+"]")}function uo(e,t,o,n){null!==e?"number"!==typeof n?go(t,"querySelectors",{attributeName:o,querySelector:e}):console.error("ag-Grid: QuerySelector should be on an attribute"):console.error("ag-Grid: QuerySelector selector should not be null")}function ho(e,t,o){null!=e?go(t,"gridListenerMethods",{methodName:o,eventName:e}):console.error("ag-Grid: GridListener eventName is missing")}function po(e,t,o,n){null!=t?go(o,"guiListenerMethods",{methodName:n,eventName:t,ref:e}):console.error("ag-Grid: GuiListener eventName is missing")}function go(e,t,o){var n=function(e,t){e.__agComponentMetaData||(e.__agComponentMetaData={});e.__agComponentMetaData[t]||(e.__agComponentMetaData[t]={});return e.__agComponentMetaData[t]}(e,e.constructor.name);n[t]||(n[t]=[]),n[t].push(o)}var fo,mo=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),vo=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},yo=function(e){function t(){return e.call(this,t.TEMPLATE)||this}return mo(t,e),t.prototype.init=function(e){this.params=e;var t,o=this.eInput;e.cellStartedEdit?(this.focusAfterAttached=!0,e.keyPress===ze.KEY_BACKSPACE||e.keyPress===ze.KEY_DELETE?t="":e.charPress?t=e.charPress:(t=this.getStartValue(e),e.keyPress!==ze.KEY_F2&&(this.highlightAllOnFocus=!0))):(this.focusAfterAttached=!1,t=this.getStartValue(e));et.exists(t)&&o.setValue(t,!0),this.addManagedListener(o.getGui(),"keydown",(function(e){var t=e.keyCode===ze.KEY_PAGE_UP,o=e.keyCode===ze.KEY_PAGE_DOWN;(t||o)&&e.preventDefault()}))},t.prototype.afterGuiAttached=function(){if(this.focusAfterAttached){var e=this.eInput;et.isBrowserSafari()||e.getFocusableElement().focus();var t=e.getInputElement();if(this.highlightAllOnFocus)t.select();else{var o=e.getValue(),n=et.exists(o)&&o.length||0;n&&t.setSelectionRange(n,n)}}},t.prototype.focusIn=function(){var e=this.eInput,t=e.getFocusableElement(),o=e.getInputElement();t.focus(),o.select()},t.prototype.focusOut=function(){var e=this.eInput.getInputElement();et.isBrowserIE()&&e.setSelectionRange(0,0)},t.prototype.getValue=function(){var e=this.eInput;return this.params.parseValue(e.getValue())},t.prototype.getStartValue=function(e){return e.useFormatter||e.column.getColDef().refData?e.formatValue(e.value):e.value},t.prototype.isPopup=function(){return!1},t.TEMPLATE='<div class="ag-cell-edit-wrapper"><ag-input-text-field class="ag-cell-editor" ref="eInput"></ag-input-text-field></div>',vo([co("eInput")],t.prototype,"eInput",void 0),t}(lo),Co=function(){function e(e,t,o,n){var i=this;this.alive=!0,this.context=e,t.newDateComponent(o).then((function(t){i.alive?(i.dateComp=t,n.appendChild(t.getGui()),t.afterGuiAttached&&t.afterGuiAttached(),i.tempValue&&t.setDate(i.tempValue)):e.destroyBean(t)}))}return e.prototype.destroy=function(){this.alive=!1,this.dateComp=this.context.destroyBean(this.dateComp)},e.prototype.getDate=function(){return this.dateComp?this.dateComp.getDate():this.tempValue},e.prototype.setDate=function(e){this.dateComp?this.dateComp.setDate(e):this.tempValue=e},e.prototype.setInputPlaceholder=function(e){this.dateComp&&this.dateComp.setInputPlaceholder&&this.dateComp.setInputPlaceholder(e)},e}(),wo=function(){function e(){this.customFilterOptions={}}return e.prototype.init=function(e,t){this.filterOptions=e.filterOptions||t,this.mapCustomOptions(),this.selectDefaultItem(e)},e.prototype.getFilterOptions=function(){return this.filterOptions},e.prototype.mapCustomOptions=function(){var e=this;this.filterOptions&&this.filterOptions.forEach((function(t){if("string"!==typeof t){te(["displayKey","displayName","test"],(function(e){return!!t[e]||(console.warn("ag-Grid: ignoring FilterOptionDef as it doesn't contain a '"+e+"'"),!1)}))&&(e.customFilterOptions[t.displayKey]=t)}}))},e.prototype.selectDefaultItem=function(e){if(e.defaultOption)this.defaultOption=e.defaultOption;else if(this.filterOptions.length>=1){var t=this.filterOptions[0];"string"===typeof t?this.defaultOption=t:t.displayKey?this.defaultOption=t.displayKey:console.warn("ag-Grid: invalid FilterOptionDef supplied as it doesn't contain a 'displayKey'")}else console.warn("ag-Grid: no filter options for filter")},e.prototype.getDefaultOption=function(){return this.defaultOption},e.prototype.getCustomOption=function(e){return this.customFilterOptions[e]},e}(),bo=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),So=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Eo=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.applyActive=!1,t.hidePopup=null,t.appliedModel=null,t}return bo(t,e),t.prototype.onFilterChanged=function(){console.warn("ag-Grid: you should not call onFilterChanged() directly on the filter, please call\n        gridApi.onFilterChanged() instead. onFilterChanged is not part of the exposed filter interface (it was\n        a method that existed on an old version of the filters that was not intended for public use."),this.providedFilterParams.filterChangedCallback()},t.prototype.isFilterActive=function(){return!!this.appliedModel},t.prototype.postConstruct=function(){var e='\n            <div>\n                <div class="ag-filter-body-wrapper ag-'+this.getCssIdentifier()+'-body-wrapper">\n                    '+this.createBodyTemplate()+"\n                </div>\n            </div>";this.setTemplate(e)},t.prototype.init=function(e){var t=this;this.setParams(e),this.resetUiToDefaults(!0).then((function(){t.updateUiVisibility(),t.setupOnBtApplyDebounce()}))},t.prototype.setParams=function(e){if(t.checkForDeprecatedParams(e),this.providedFilterParams=e,"keep"===e.newRowsAction)this.newRowsActionKeep=!0;else if("clear"===e.newRowsAction)this.newRowsActionKeep=!1;else{var o=[ze.ROW_MODEL_TYPE_SERVER_SIDE,ze.ROW_MODEL_TYPE_INFINITE];this.newRowsActionKeep=o.indexOf(this.rowModel.getType())>=0}this.applyActive=t.isUseApplyButton(e),this.createButtonPanel()},t.prototype.createButtonPanel=function(){var e=this,t=this.providedFilterParams.buttons;if(t&&!(t.length<1)){var o=this.gridOptionsWrapper.getLocaleTextFunc(),n=document.createElement("div");D(n,"ag-filter-apply-panel");new Set(t).forEach((function(t){return function(t){var i,r;switch(t){case"apply":i=o("applyFilter","Apply Filter"),r=function(t){return e.onBtApply(!1,!1,t)};break;case"clear":i=o("clearFilter","Clear Filter"),r=function(){return e.onBtClear()};break;case"reset":i=o("resetFilter","Reset Filter"),r=function(){return e.onBtReset()};break;case"cancel":i=o("cancelFilter","Cancel Filter"),r=function(t){e.onBtCancel(t)};break;default:return void console.warn("Unknown button type specified")}var s=G('<button\n                    type="button"\n                    ref="'+t+'FilterButton"\n                    class="ag-standard-button ag-filter-apply-panel-button">'+i+"</button>");n.appendChild(s),e.addManagedListener(s,"click",r)}(t)})),this.getGui().appendChild(n)}},t.checkForDeprecatedParams=function(e){var t=e.buttons||[];if(!(t.length>0)){var o=e.applyButton,n=e.resetButton;e.clearButton&&(console.warn("ag-Grid: as of ag-Grid v23.2, filterParams.clearButton is deprecated. Please use filterParams.buttons instead"),t.push("clear")),n&&(console.warn("ag-Grid: as of ag-Grid v23.2, filterParams.resetButton is deprecated. Please use filterParams.buttons instead"),t.push("reset")),o&&(console.warn("ag-Grid: as of ag-Grid v23.2, filterParams.applyButton is deprecated. Please use filterParams.buttons instead"),t.push("apply")),e.apply&&(console.warn("ag-Grid: as of ag-Grid v21, filterParams.apply is deprecated. Please use filterParams.buttons instead"),t.push("apply")),e.buttons=t}},t.prototype.getDefaultDebounceMs=function(){return 0},t.prototype.setupOnBtApplyDebounce=function(){var e=t.getDebounceMs(this.providedFilterParams,this.getDefaultDebounceMs());this.onBtApplyDebounce=Ie(this.onBtApply.bind(this),e)},t.prototype.getModel=function(){return this.appliedModel},t.prototype.setModel=function(e){var t=this;return(e?this.setModelIntoUi(e):this.resetUiToDefaults()).then((function(){t.updateUiVisibility(),t.applyModel()}))},t.prototype.onBtCancel=function(e){var t=this;this.setModelIntoUi(this.getModel()).then((function(){t.onUiChanged(!1,"prevent"),t.providedFilterParams.closeOnApply&&t.close(e)}))},t.prototype.onBtClear=function(){var e=this;this.resetUiToDefaults().then((function(){return e.onUiChanged()}))},t.prototype.onBtReset=function(){this.onBtClear(),this.onBtApply()},t.prototype.applyModel=function(){var e=this.getModelFromUi();if(!this.isModelValid(e))return!1;var t=this.appliedModel;return this.appliedModel=e,!this.areModelsEqual(t,e)},t.prototype.isModelValid=function(e){return!0},t.prototype.onBtApply=function(e,t,o){void 0===e&&(e=!1),void 0===t&&(t=!1),this.applyModel()&&this.providedFilterParams.filterChangedCallback({afterFloatingFilter:e,afterDataChange:t}),this.providedFilterParams.closeOnApply&&!e&&this.applyActive&&this.close(o)},t.prototype.onNewRowsLoaded=function(){var e=this;this.newRowsActionKeep||this.resetUiToDefaults().then((function(){return e.appliedModel=null}))},t.prototype.close=function(e){if(this.hidePopup){var t,o=e,n=o&&o.key;"Enter"!==n&&"Space"!==n||(t={keyboardEvent:o}),this.hidePopup(t),this.hidePopup=null}},t.prototype.isNewRowsActionKeep=function(){return this.newRowsActionKeep},t.prototype.onUiChanged=function(e,t){if(void 0===e&&(e=!1),this.updateUiVisibility(),this.providedFilterParams.filterModifiedCallback(),this.applyActive){var o=this.isModelValid(this.getModelFromUi());I(this.getRefElement("applyFilterButton"),!o)}e&&!t||"immediately"===t?this.onBtApply(e):(this.applyActive||t)&&"debounce"!==t||this.onBtApplyDebounce()},t.prototype.afterGuiAttached=function(e){this.hidePopup=e.hidePopup},t.getDebounceMs=function(e,o){return t.isUseApplyButton(e)?(null!=e.debounceMs&&console.warn("ag-Grid: debounceMs is ignored when apply button is present"),0):null!=e.debounceMs?e.debounceMs:o},t.isUseApplyButton=function(e){return t.checkForDeprecatedParams(e),e.buttons&&e.buttons.indexOf("apply")>=0},t.prototype.destroy=function(){this.hidePopup=null,e.prototype.destroy.call(this)},So([ut("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),So([ut("rowModel")],t.prototype,"rowModel",void 0),So([at],t.prototype,"postConstruct",null),t}(so),Ro=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Po=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s};!function(e){e[e.One=0]="One",e[e.Two=1]="Two"}(fo||(fo={}));var Oo,xo={filterOoo:"Filter...",empty:"Choose One",equals:"Equals",notEqual:"Not equal",lessThan:"Less than",greaterThan:"Greater than",inRange:"In range",inRangeStart:"From",inRangeEnd:"To",lessThanOrEqual:"Less than or equals",greaterThanOrEqual:"Greater than or equals",contains:"Contains",notContains:"Not contains",startsWith:"Starts with",endsWith:"Ends with",andCondition:"AND",orCondition:"OR"},To=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ro(t,e),t.prototype.showValueFrom=function(e){return!this.doesFilterHaveHiddenInput(e)&&e!==t.EMPTY},t.prototype.showValueTo=function(e){return e===t.IN_RANGE},t.prototype.onFloatingFilterChanged=function(e,t){this.setTypeFromFloatingFilter(e),this.setValueFromFloatingFilter(t),this.onUiChanged(!0)},t.prototype.setTypeFromFloatingFilter=function(e){this.eType1.setValue(e),this.eType2.setValue(this.optionsFactory.getDefaultOption()),this.eJoinOperatorAnd.setValue(!0)},t.prototype.getModelFromUi=function(){return this.isConditionUiComplete(fo.One)?this.isAllowTwoConditions()&&this.isConditionUiComplete(fo.Two)?{filterType:this.getFilterType(),operator:this.getJoinOperator(),condition1:this.createCondition(fo.One),condition2:this.createCondition(fo.Two)}:this.createCondition(fo.One):null},t.prototype.getCondition1Type=function(){return this.eType1.getValue()},t.prototype.getCondition2Type=function(){return this.eType2.getValue()},t.prototype.getJoinOperator=function(){return!0===this.eJoinOperatorOr.getValue()?"OR":"AND"},t.prototype.areModelsEqual=function(e,t){if(!e&&!t)return!0;if(!e&&t||e&&!t)return!1;var o,n=!e.operator,i=!t.operator;if(!n&&i||n&&!i)return!1;if(n){var r=e,s=t;o=this.areSimpleModelsEqual(r,s)}else{var a=e,l=t;o=a.operator===l.operator&&this.areSimpleModelsEqual(a.condition1,l.condition1)&&this.areSimpleModelsEqual(a.condition2,l.condition2)}return o},t.prototype.setModelIntoUi=function(e){if(e.operator){var t=e,o="OR"===t.operator;this.eJoinOperatorAnd.setValue(!o),this.eJoinOperatorOr.setValue(o),this.eType1.setValue(t.condition1.type),this.eType2.setValue(t.condition2.type),this.setConditionIntoUi(t.condition1,fo.One),this.setConditionIntoUi(t.condition2,fo.Two)}else{var n=e;this.eJoinOperatorAnd.setValue(!0),this.eJoinOperatorOr.setValue(!1),this.eType1.setValue(n.type),this.eType2.setValue(this.optionsFactory.getDefaultOption()),this.setConditionIntoUi(n,fo.One),this.setConditionIntoUi(null,fo.Two)}return ot.resolve()},t.prototype.doesFilterPass=function(e){var t=this.getModel();if(t.operator){var o=t,n=this.individualConditionPasses(e,o.condition1),i=this.individualConditionPasses(e,o.condition2);return"AND"===o.operator?n&&i:n||i}var r=t;return this.individualConditionPasses(e,r)},t.prototype.setParams=function(t){e.prototype.setParams.call(this,t),this.optionsFactory=new wo,this.optionsFactory.init(t,this.getDefaultFilterOptions()),this.allowTwoConditions=!t.suppressAndOrCondition,this.putOptionsIntoDropdown(),this.addChangedListeners()},t.prototype.putOptionsIntoDropdown=function(){var e=this,t=this.optionsFactory.getFilterOptions();ne(t,(function(t){var o,n;if("string"===typeof t)o=t,n=e.translate(o);else{o=t.displayKey;var i=e.optionsFactory.getCustomOption(o);n=i?i.displayName:e.translate(o)}var r=function(){return{value:o,text:n}};e.eType1.addOption(r()),e.eType2.addOption(r())}));var o=t.length<=1;this.eType1.setDisabled(o),this.eType2.setDisabled(o)},t.prototype.isAllowTwoConditions=function(){return this.allowTwoConditions},t.prototype.createBodyTemplate=function(){return'\n            <ag-select class="ag-filter-select" ref="eOptions1"></ag-select>\n            '+this.createValueTemplate(fo.One)+'\n            <div class="ag-filter-condition" ref="eJoinOperatorPanel">\n               <ag-radio-button ref="eJoinOperatorAnd" class="ag-filter-condition-operator ag-filter-condition-operator-and"></ag-radio-button>\n               <ag-radio-button ref="eJoinOperatorOr" class="ag-filter-condition-operator ag-filter-condition-operator-or"></ag-radio-button>\n            </div>\n            <ag-select class="ag-filter-select" ref="eOptions2"></ag-select>\n            '+this.createValueTemplate(fo.Two)},t.prototype.getCssIdentifier=function(){return"simple-filter"},t.prototype.updateUiVisibility=function(){var e=this.isConditionUiComplete(fo.One),t=this.allowTwoConditions&&e;M(this.eCondition2Body,t),M(this.eType2.getGui(),t),M(this.eJoinOperatorPanel,t)},t.prototype.resetUiToDefaults=function(e){var t="ag-simple-filter-and-or-"+this.getCompId(),o=this.optionsFactory.getDefaultOption();return this.eType1.setValue(o,e),this.eType2.setValue(o,e),this.eJoinOperatorAnd.setValue(!0,e).setName(t).setLabel(this.translate("andCondition")),this.eJoinOperatorOr.setValue(!1,e).setName(t).setLabel(this.translate("orCondition")),ot.resolve()},t.prototype.translate=function(e){return this.gridOptionsWrapper.getLocaleTextFunc()(e,xo[e])},t.prototype.addChangedListeners=function(){var e=this,t=function(){return e.onUiChanged()};this.eType1.onValueChange(t),this.eType2.onValueChange(t),this.eJoinOperatorOr.onValueChange(t),this.eJoinOperatorAnd.onValueChange(t)},t.prototype.doesFilterHaveHiddenInput=function(e){var t=this.optionsFactory.getCustomOption(e);return t&&t.hideFilterInput},t.EMPTY="empty",t.EQUALS="equals",t.NOT_EQUAL="notEqual",t.LESS_THAN="lessThan",t.LESS_THAN_OR_EQUAL="lessThanOrEqual",t.GREATER_THAN="greaterThan",t.GREATER_THAN_OR_EQUAL="greaterThanOrEqual",t.IN_RANGE="inRange",t.CONTAINS="contains",t.NOT_CONTAINS="notContains",t.STARTS_WITH="startsWith",t.ENDS_WITH="endsWith",Po([co("eOptions1")],t.prototype,"eType1",void 0),Po([co("eOptions2")],t.prototype,"eType2",void 0),Po([co("eJoinOperatorAnd")],t.prototype,"eJoinOperatorAnd",void 0),Po([co("eJoinOperatorOr")],t.prototype,"eJoinOperatorOr",void 0),Po([co("eCondition2Body")],t.prototype,"eCondition2Body",void 0),Po([co("eJoinOperatorPanel")],t.prototype,"eJoinOperatorPanel",void 0),t}(Eo),Do=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Ao=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Do(t,e),t.prototype.setParams=function(t){e.prototype.setParams.call(this,t),this.scalarFilterParams=t,this.checkDeprecatedParams()},t.prototype.checkDeprecatedParams=function(){this.scalarFilterParams.nullComparator&&(console.warn("ag-Grid: Since v21.0, the property filterParams.nullComparator is deprecated. Please use filterParams.includeBlanksInEquals, filterParams.includeBlanksInLessThan and filterParams.includeBlanksInGreaterThan instead."),this.scalarFilterParams.includeBlanksInEquals=this.scalarFilterParams.nullComparator.equals,this.scalarFilterParams.includeBlanksInLessThan=this.scalarFilterParams.nullComparator.lessThan,this.scalarFilterParams.includeBlanksInGreaterThan=this.scalarFilterParams.nullComparator.greaterThan)},t.prototype.nullComparator=function(e,o,n){if(null==n)switch(e){case t.EMPTY:return 0;case t.EQUALS:return this.scalarFilterParams.includeBlanksInEquals?0:1;case t.NOT_EQUAL:return this.scalarFilterParams.includeBlanksInEquals?1:0;case t.GREATER_THAN:case t.GREATER_THAN_OR_EQUAL:return this.scalarFilterParams.includeBlanksInGreaterThan?1:-1;case t.LESS_THAN:case t.LESS_THAN_OR_EQUAL:return this.scalarFilterParams.includeBlanksInLessThan?-1:1}return this.comparator()(o,n)},t.prototype.individualConditionPasses=function(e,o){var n=this.scalarFilterParams.valueGetter(e.node),i=this.mapRangeFromModel(o),r=i.from,s=i.to,a=o.type,l=this.optionsFactory.getCustomOption(a);if(l&&(null!=r||l.hideFilterInput))return l.test(r,n);var c=this.nullComparator(a,r,n);switch(a){case t.EQUALS:return 0===c;case t.NOT_EQUAL:return 0!==c;case t.GREATER_THAN:return c>0;case t.GREATER_THAN_OR_EQUAL:return c>=0;case t.LESS_THAN:return c<0;case t.LESS_THAN_OR_EQUAL:return c<=0;case t.IN_RANGE:var u=this.nullComparator(a,s,n);return this.scalarFilterParams.inRangeInclusive?c>=0&&u<=0:c>0&&u<0;default:throw new Error("Unexpected type of filter: "+a)}},t}(To),Fo=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),_o=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Mo=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Fo(t,e),t.prototype.mapRangeFromModel=function(e){return{from:Ce(e.dateFrom),to:Ce(e.dateTo)}},t.prototype.setValueFromFloatingFilter=function(e){if(null!=e){var t=Ce(e);this.dateCondition1FromComp.setDate(t)}else this.dateCondition1FromComp.setDate(null);this.dateCondition1ToComp.setDate(null),this.dateCondition2FromComp.setDate(null),this.dateCondition2ToComp.setDate(null)},t.prototype.setConditionIntoUi=function(e,t){var o=e?[Ce(e.dateFrom),Ce(e.dateTo)]:[null,null],n=o[0],i=o[1],r=this.getFromToComponents(t),s=r[0],a=r[1];s.setDate(n),a.setDate(i)},t.prototype.resetUiToDefaults=function(t){var o=this;return e.prototype.resetUiToDefaults.call(this,t).then((function(){o.dateCondition1FromComp.setDate(null),o.dateCondition1ToComp.setDate(null),o.dateCondition2FromComp.setDate(null),o.dateCondition2ToComp.setDate(null)}))},t.prototype.comparator=function(){return this.dateFilterParams.comparator?this.dateFilterParams.comparator:this.defaultComparator.bind(this)},t.prototype.defaultComparator=function(e,t){return null==t||t<e?-1:t>e?1:0},t.prototype.setParams=function(t){e.prototype.setParams.call(this,t),this.dateFilterParams=t,this.createDateComponents()},t.prototype.createDateComponents=function(){var e=this,t={onDateChanged:function(){return e.onUiChanged()},filterParams:this.dateFilterParams};this.dateCondition1FromComp=new Co(this.getContext(),this.userComponentFactory,t,this.eCondition1PanelFrom),this.dateCondition1ToComp=new Co(this.getContext(),this.userComponentFactory,t,this.eCondition1PanelTo),this.dateCondition2FromComp=new Co(this.getContext(),this.userComponentFactory,t,this.eCondition2PanelFrom),this.dateCondition2ToComp=new Co(this.getContext(),this.userComponentFactory,t,this.eCondition2PanelTo),this.addDestroyFunc((function(){e.dateCondition1FromComp.destroy(),e.dateCondition1ToComp.destroy(),e.dateCondition2FromComp.destroy(),e.dateCondition2ToComp.destroy()}))},t.prototype.getDefaultFilterOptions=function(){return t.DEFAULT_FILTER_OPTIONS},t.prototype.createValueTemplate=function(e){var t=e===fo.One?"1":"2";return'\n            <div class="ag-filter-body" ref="eCondition'+t+'Body">\n                <div class="ag-filter-from ag-filter-date-from" ref="eCondition'+t+'PanelFrom">\n                </div>\n                <div class="ag-filter-to ag-filter-date-to" ref="eCondition'+t+'PanelTo">\n                </div>\n            </div>'},t.prototype.isConditionUiComplete=function(e){var t=e===fo.One?this.getCondition1Type():this.getCondition2Type();if(t===To.EMPTY)return!1;if(this.doesFilterHaveHiddenInput(t))return!0;var o=this.getFromToComponents(e),n=o[0],i=o[1];return null!=n.getDate()&&(t!==To.IN_RANGE||null!=i.getDate())},t.prototype.areSimpleModelsEqual=function(e,t){return e.dateFrom===t.dateFrom&&e.dateTo===t.dateTo&&e.type===t.type},t.prototype.getFilterType=function(){return t.FILTER_TYPE},t.prototype.createCondition=function(e){var o=e===fo.One?this.getCondition1Type():this.getCondition2Type(),n=this.getFromToComponents(e),i=n[0],r=n[1];return{dateFrom:ye(i.getDate()),dateTo:ye(r.getDate()),type:o,filterType:t.FILTER_TYPE}},t.prototype.resetPlaceholder=function(){var e=this.gridOptionsWrapper.getLocaleTextFunc()("dateFormatOoo","yyyy-mm-dd");this.dateCondition1FromComp.setInputPlaceholder(e),this.dateCondition1ToComp.setInputPlaceholder(e),this.dateCondition2FromComp.setInputPlaceholder(e),this.dateCondition2ToComp.setInputPlaceholder(e)},t.prototype.updateUiVisibility=function(){e.prototype.updateUiVisibility.call(this),this.resetPlaceholder();var t=this.getCondition1Type();M(this.eCondition1PanelFrom,this.showValueFrom(t)),M(this.eCondition1PanelTo,this.showValueTo(t));var o=this.getCondition2Type();M(this.eCondition2PanelFrom,this.showValueFrom(o)),M(this.eCondition2PanelTo,this.showValueTo(o))},t.prototype.getFromToComponents=function(e){return e===fo.One?[this.dateCondition1FromComp,this.dateCondition1ToComp]:[this.dateCondition2FromComp,this.dateCondition2ToComp]},t.FILTER_TYPE="date",t.DEFAULT_FILTER_OPTIONS=[Ao.EQUALS,Ao.GREATER_THAN,Ao.LESS_THAN,Ao.NOT_EQUAL,Ao.IN_RANGE],_o([co("eCondition1PanelFrom")],t.prototype,"eCondition1PanelFrom",void 0),_o([co("eCondition1PanelTo")],t.prototype,"eCondition1PanelTo",void 0),_o([co("eCondition2PanelFrom")],t.prototype,"eCondition2PanelFrom",void 0),_o([co("eCondition2PanelTo")],t.prototype,"eCondition2PanelTo",void 0),_o([ut("userComponentFactory")],t.prototype,"userComponentFactory",void 0),t}(Ao),Io=function(){function e(e,t){var o=this;void 0===t&&(t=!1),this.destroyFuncs=[],this.touching=!1,this.eventService=new yt,this.eElement=e,this.preventMouseClick=t;var n=this.onTouchStart.bind(this),i=this.onTouchMove.bind(this),r=this.onTouchEnd.bind(this);this.eElement.addEventListener("touchstart",n,{passive:!0}),this.eElement.addEventListener("touchmove",i,{passive:!0}),this.eElement.addEventListener("touchend",r,{passive:!1}),this.destroyFuncs.push((function(){o.eElement.removeEventListener("touchstart",n,{passive:!0}),o.eElement.removeEventListener("touchmove",i,{passive:!0}),o.eElement.removeEventListener("touchend",r,{passive:!1})}))}return e.prototype.getActiveTouch=function(e){for(var t=0;t<e.length;t++){if(e[t].identifier===this.touchStart.identifier)return e[t]}return null},e.prototype.addEventListener=function(e,t){this.eventService.addEventListener(e,t)},e.prototype.removeEventListener=function(e,t){this.eventService.removeEventListener(e,t)},e.prototype.onTouchStart=function(t){var o=this;if(!this.touching){this.touchStart=t.touches[0],this.touching=!0,this.moved=!1;var n=this.touchStart;window.setTimeout((function(){var i=o.touchStart===n;if(o.touching&&i&&!o.moved){o.moved=!0;var r={type:e.EVENT_LONG_TAP,touchStart:o.touchStart,touchEvent:t};o.eventService.dispatchEvent(r)}}),500)}},e.prototype.onTouchMove=function(e){if(this.touching){var t=this.getActiveTouch(e.touches);if(t)!et.areEventsNear(t,this.touchStart,4)&&(this.moved=!0)}},e.prototype.onTouchEnd=function(t){if(this.touching){if(!this.moved){var o={type:e.EVENT_TAP,touchStart:this.touchStart};this.eventService.dispatchEvent(o),this.checkForDoubleTap()}this.preventMouseClick&&t.preventDefault(),this.touching=!1}},e.prototype.checkForDoubleTap=function(){var t=(new Date).getTime();if(this.lastTapTime&&this.lastTapTime>0)if(t-this.lastTapTime>e.DOUBLE_TAP_MILLIS){var o={type:e.EVENT_DOUBLE_TAP,touchStart:this.touchStart};this.eventService.dispatchEvent(o),this.lastTapTime=null}else this.lastTapTime=t;else this.lastTapTime=t},e.prototype.destroy=function(){this.destroyFuncs.forEach((function(e){return e()}))},e.EVENT_TAP="tap",e.EVENT_DOUBLE_TAP="doubleTap",e.EVENT_LONG_TAP="longTap",e.DOUBLE_TAP_MILLIS=500,e}(),Lo=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),No=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},ko=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.lastMovingChanged=0,t}return Lo(t,e),t.prototype.destroy=function(){e.prototype.destroy.call(this)},t.prototype.init=function(e){var o=et.firstExistingValue(e.template,t.TEMPLATE);o=o&&o.trim?o.trim():o,this.setTemplate(o),this.params=e,this.setupTap(),this.setupIcons(e.column),this.setupMenu(),this.setupSort(),this.setupFilterIcon(),this.setupText(e.displayName)},t.prototype.setupText=function(e){var t=et.escape(e);this.eText&&(this.eText.innerHTML=t)},t.prototype.setupIcons=function(e){this.addInIcon("sortAscending",this.eSortAsc,e),this.addInIcon("sortDescending",this.eSortDesc,e),this.addInIcon("sortUnSort",this.eSortNone,e),this.addInIcon("menu",this.eMenu,e),this.addInIcon("filter",this.eFilter,e)},t.prototype.addInIcon=function(e,t,o){if(null!=t){var n=et.createIconNoSpan(e,this.gridOptionsWrapper,o);t.appendChild(n)}},t.prototype.setupTap=function(){var e=this,t=this.gridOptionsWrapper;if(!t.isSuppressTouch()){var o=new Io(this.getGui(),!0),n=t.isSuppressMenuHide(),i=n&&et.exists(this.eMenu),r=i?new Io(this.eMenu,!0):o;if(this.params.enableMenu){var s=i?"EVENT_TAP":"EVENT_LONG_TAP";this.addManagedListener(r,Io[s],(function(o){t.getApi().showColumnMenuAfterMouseClick(e.params.column,o.touchStart)}))}if(this.params.enableSorting){this.addManagedListener(o,Io.EVENT_TAP,(function(t){var o=t.touchStart.target;n&&e.eMenu.contains(o)||e.sortController.progressSort(e.params.column,!1,"uiColumnSorted")}))}this.addDestroyFunc((function(){return o.destroy()})),i&&this.addDestroyFunc((function(){return r.destroy()}))}},t.prototype.setupMenu=function(){var e=this;if(this.eMenu){var t=this.gridOptionsWrapper.isSuppressMenuHide();if(!this.params.enableMenu||et.isIOSUserAgent()&&!t)et.removeFromParent(this.eMenu);else{this.addManagedListener(this.eMenu,"click",(function(){return e.showMenu(e.eMenu)})),t||(this.eMenu.style.opacity="0");var o=this.eMenu.style;o.transition="opacity 0.2s, border 0.2s",o["-webkit-transition"]="opacity 0.2s, border 0.2s"}}},t.prototype.setActiveParent=function(e){this.gridOptionsWrapper.isSuppressMenuHide()||(this.eMenu.style.opacity=e?"1":"0")},t.prototype.showMenu=function(e){e||(e=this.eMenu),this.menuFactory.showMenuAfterButtonClick(this.params.column,e)},t.prototype.removeSortIcons=function(){et.removeFromParent(this.eSortAsc),et.removeFromParent(this.eSortDesc),et.removeFromParent(this.eSortNone),et.removeFromParent(this.eSortOrder)},t.prototype.setupSort=function(){var e=this;if(this.params.enableSorting){var t=this.gridOptionsWrapper.isMultiSortKeyCtrl();this.addManagedListener(this.params.column,bt.EVENT_MOVING_CHANGED,(function(){e.lastMovingChanged=(new Date).getTime()})),this.eLabel&&this.addManagedListener(this.eLabel,"click",(function(o){var n=e.params.column.isMoving(),i=(new Date).getTime()-e.lastMovingChanged<50;if(!(n||i)){var r=t?o.ctrlKey||o.metaKey:o.shiftKey;e.params.progressSort(r)}})),this.addManagedListener(this.params.column,bt.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.onSortChanged(),this.addManagedListener(this.eventService,_t.EVENT_SORT_CHANGED,this.setMultiSortOrder.bind(this)),this.setMultiSortOrder()}else this.removeSortIcons()},t.prototype.onSortChanged=function(){if(et.addOrRemoveCssClass(this.getGui(),"ag-header-cell-sorted-asc",this.params.column.isSortAscending()),et.addOrRemoveCssClass(this.getGui(),"ag-header-cell-sorted-desc",this.params.column.isSortDescending()),et.addOrRemoveCssClass(this.getGui(),"ag-header-cell-sorted-none",this.params.column.isSortNone()),this.eSortAsc&&et.addOrRemoveCssClass(this.eSortAsc,"ag-hidden",!this.params.column.isSortAscending()),this.eSortDesc&&et.addOrRemoveCssClass(this.eSortDesc,"ag-hidden",!this.params.column.isSortDescending()),this.eSortNone){var e=!this.params.column.getColDef().unSortIcon&&!this.gridOptionsWrapper.isUnSortIcon();et.addOrRemoveCssClass(this.eSortNone,"ag-hidden",e||!this.params.column.isSortNone())}},t.prototype.setMultiSortOrder=function(){if(this.eSortOrder){var e=this.params.column,t=this.sortController.getColumnsWithSortingOrdered(),o=t.indexOf(e),n=t.length>1,i=e.isSorting()&&n;et.setDisplayed(this.eSortOrder,i),o>=0?this.eSortOrder.innerHTML=(o+1).toString():et.clearElement(this.eSortOrder)}},t.prototype.setupFilterIcon=function(){this.eFilter&&(this.addManagedListener(this.params.column,bt.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.onFilterChanged())},t.prototype.onFilterChanged=function(){var e=this.params.column.isFilterActive();et.addOrRemoveCssClass(this.eFilter,"ag-hidden",!e)},t.TEMPLATE='<div class="ag-cell-label-container">\n            <span ref="eMenu" class="ag-header-icon ag-header-cell-menu-button" aria-hidden="true"></span>\n            <div ref="eLabel" class="ag-header-cell-label" role="presentation" unselectable="on">\n                <span ref="eText" class="ag-header-cell-text" role="columnheader" unselectable="on"></span>\n                <span ref="eFilter" class="ag-header-icon ag-header-label-icon ag-filter-icon" aria-hidden="true"></span>\n                <span ref="eSortOrder" class="ag-header-icon ag-header-label-icon ag-sort-order" aria-hidden="true"></span>\n                <span ref="eSortAsc" class="ag-header-icon ag-header-label-icon ag-sort-ascending-icon" aria-hidden="true"></span>\n                <span ref="eSortDesc" class="ag-header-icon ag-header-label-icon ag-sort-descending-icon" aria-hidden="true"></span>\n                <span ref="eSortNone" class="ag-header-icon ag-header-label-icon ag-sort-none-icon" aria-hidden="true"></span>\n            </div>\n        </div>',No([ut("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),No([ut("sortController")],t.prototype,"sortController",void 0),No([ut("menuFactory")],t.prototype,"menuFactory",void 0),No([co("eFilter")],t.prototype,"eFilter",void 0),No([co("eSortAsc")],t.prototype,"eSortAsc",void 0),No([co("eSortDesc")],t.prototype,"eSortDesc",void 0),No([co("eSortNone")],t.prototype,"eSortNone",void 0),No([co("eSortOrder")],t.prototype,"eSortOrder",void 0),No([co("eMenu")],t.prototype,"eMenu",void 0),No([co("eLabel")],t.prototype,"eLabel",void 0),No([co("eText")],t.prototype,"eText",void 0),t}(so),Go=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Vo=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Ho=function(e){function t(){return e.call(this,t.TEMPLATE)||this}return Go(t,e),t.prototype.destroy=function(){e.prototype.destroy.call(this)},t.prototype.init=function(e){this.params=e,this.setupLabel(),this.addGroupExpandIcon(),this.setupExpandIcons()},t.prototype.setupExpandIcons=function(){var e=this;this.addInIcon("columnGroupOpened","agOpened"),this.addInIcon("columnGroupClosed","agClosed");var t=function(t){if(!et.isStopPropagationForAgGrid(t)){var o=!e.params.columnGroup.isExpanded();e.columnController.setColumnGroupOpened(e.params.columnGroup.getOriginalColumnGroup(),o,"uiColumnExpanded")}};this.addTouchAndClickListeners(this.eCloseIcon,t),this.addTouchAndClickListeners(this.eOpenIcon,t);var o=function(e){et.stopPropagationForAgGrid(e)};this.addManagedListener(this.eCloseIcon,"dblclick",o),this.addManagedListener(this.eOpenIcon,"dblclick",o),this.addManagedListener(this.getGui(),"dblclick",t),this.updateIconVisibility();var n=this.params.columnGroup.getOriginalColumnGroup();this.addManagedListener(n,Rt.EVENT_EXPANDED_CHANGED,this.updateIconVisibility.bind(this)),this.addManagedListener(n,Rt.EVENT_EXPANDABLE_CHANGED,this.updateIconVisibility.bind(this))},t.prototype.addTouchAndClickListeners=function(e,t){var o=new Io(e);this.addManagedListener(o,Io.EVENT_TAP,t),this.addDestroyFunc((function(){return o.destroy()})),this.addManagedListener(e,"click",t)},t.prototype.updateIconVisibility=function(){if(this.params.columnGroup.isExpandable()){var e=this.params.columnGroup.isExpanded();et.setDisplayed(this.eOpenIcon,e),et.setDisplayed(this.eCloseIcon,!e)}else et.setDisplayed(this.eOpenIcon,!1),et.setDisplayed(this.eCloseIcon,!1)},t.prototype.addInIcon=function(e,t){var o=et.createIconNoSpan(e,this.gridOptionsWrapper,null);this.getRefElement(t).appendChild(o)},t.prototype.addGroupExpandIcon=function(){if(!this.params.columnGroup.isExpandable())return et.setDisplayed(this.eOpenIcon,!1),void et.setDisplayed(this.eCloseIcon,!1)},t.prototype.setupLabel=function(){var e=this.params.displayName;if(et.exists(e)){var t=et.escape(e);this.getRefElement("agLabel").innerHTML=t}},t.TEMPLATE='<div class="ag-header-group-cell-label" ref="agContainer" role="presentation">\n            <span ref="agLabel" class="ag-header-group-text" role="columnheader"></span>\n            <span ref="agOpened" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-expanded"></span>\n            <span ref="agClosed" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-collapsed"></span>\n        </div>',Vo([ut("columnController")],t.prototype,"columnController",void 0),Vo([ut("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),Vo([co("agOpened")],t.prototype,"eOpenIcon",void 0),Vo([co("agClosed")],t.prototype,"eCloseIcon",void 0),t}(so),Bo=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Wo=function(){function e(){this.childrenMapped={},this.selectable=!0,this.__objectId=e.OBJECT_ID_SEQUENCE++,this.alreadyRendered=!1,this.highlighted=null,this.selected=!1}return e.prototype.setData=function(e){var t=this.data;this.data=e,this.valueCache.onDataChanged(),this.updateDataOnDetailNode(),this.checkRowSelectable();var o=this.createDataChangedEvent(e,t,!1);this.dispatchLocalEvent(o)},e.prototype.updateDataOnDetailNode=function(){this.detailNode&&(this.detailNode.data=this.data)},e.prototype.createDataChangedEvent=function(t,o,n){return{type:e.EVENT_DATA_CHANGED,node:this,oldData:o,newData:t,update:n}},e.prototype.createLocalRowEvent=function(e){return{type:e,node:this}},e.prototype.updateData=function(e){var t=this.data;this.data=e,this.updateDataOnDetailNode(),this.checkRowSelectable(),this.updateDataOnDetailNode();var o=this.createDataChangedEvent(e,t,!0);this.dispatchLocalEvent(o)},e.prototype.getRowIndexString=function(){return this.rowPinned===ze.PINNED_TOP?"t-"+this.rowIndex:this.rowPinned===ze.PINNED_BOTTOM?"b-"+this.rowIndex:this.rowIndex.toString()},e.prototype.createDaemonNode=function(){var t=new e;return this.context.createBean(t),t.id=this.id,t.data=this.data,t.daemon=!0,t.selected=this.selected,t.level=this.level,t},e.prototype.setDataAndId=function(e,t){var o=et.exists(this.id)?this.createDaemonNode():null,n=this.data;this.data=e,this.updateDataOnDetailNode(),this.setId(t),this.selectionController.syncInRowNode(this,o),this.checkRowSelectable();var i=this.createDataChangedEvent(e,n,!1);this.dispatchLocalEvent(i)},e.prototype.checkRowSelectable=function(){var e=this.gridOptionsWrapper.getIsRowSelectableFunc(),t=e&&et.exists(this);this.setRowSelectable(!t||e(this))},e.prototype.setRowSelectable=function(t){this.selectable!==t&&(this.selectable=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(e.EVENT_SELECTABLE_CHANGED)))},e.prototype.setId=function(t){var o=this.gridOptionsWrapper.getRowNodeIdFunc();o?this.data?(this.id=o(this.data),this.id&&this.id.startsWith&&this.id.startsWith(e.ID_PREFIX_ROW_GROUP)&&console.error("ag-Grid: Row ID's cannot start with "+e.ID_PREFIX_ROW_GROUP+", this is a reserved prefix for ag-Grid's row grouping feature.")):this.id=void 0:this.id=t},e.prototype.isPixelInRange=function(e){return e>=this.rowTop&&e<this.rowTop+this.rowHeight},e.prototype.clearRowTop=function(){this.oldRowTop=this.rowTop,this.setRowTop(null)},e.prototype.setFirstChild=function(t){this.firstChild!==t&&(this.firstChild=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(e.EVENT_FIRST_CHILD_CHANGED)))},e.prototype.setLastChild=function(t){this.lastChild!==t&&(this.lastChild=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(e.EVENT_LAST_CHILD_CHANGED)))},e.prototype.setChildIndex=function(t){this.childIndex!==t&&(this.childIndex=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(e.EVENT_CHILD_INDEX_CHANGED)))},e.prototype.setRowTop=function(t){this.rowTop!==t&&(this.rowTop=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(e.EVENT_TOP_CHANGED)))},e.prototype.setDragging=function(t){this.dragging!==t&&(this.dragging=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(e.EVENT_DRAGGING_CHANGED)))},e.prototype.setHighlighted=function(t){t!==this.highlighted&&(this.highlighted=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(e.EVENT_HIGHLIGHT_CHANGED)))},e.prototype.setAllChildrenCount=function(t){this.allChildrenCount!==t&&(this.allChildrenCount=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(e.EVENT_ALL_CHILDREN_COUNT_CHANGED)))},e.prototype.setMaster=function(t){this.master!==t&&(this.master&&!t&&(this.expanded=!1),this.master=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(e.EVENT_MASTER_CHANGED)))},e.prototype.setRowHeight=function(t,o){void 0===o&&(o=!1),this.rowHeight=t,this.rowHeightEstimated=o,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(e.EVENT_HEIGHT_CHANGED))},e.prototype.setRowIndex=function(t){this.rowIndex=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(e.EVENT_ROW_INDEX_CHANGED))},e.prototype.setUiLevel=function(t){this.uiLevel!==t&&(this.uiLevel=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(e.EVENT_UI_LEVEL_CHANGED)))},e.prototype.setExpanded=function(t){if(this.expanded!==t){this.expanded=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(e.EVENT_EXPANDED_CHANGED));var o=et.assign({},this.createGlobalRowEvent(_t.EVENT_ROW_GROUP_OPENED),{expanded:t});this.mainEventService.dispatchEvent(o),this.gridOptionsWrapper.isGroupIncludeFooter()&&this.gridApi.redrawRows({rowNodes:[this]})}},e.prototype.createGlobalRowEvent=function(e){return{type:e,node:this,data:this.data,rowIndex:this.rowIndex,rowPinned:this.rowPinned,context:this.gridOptionsWrapper.getContext(),api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi()}},e.prototype.dispatchLocalEvent=function(e){this.eventService&&this.eventService.dispatchEvent(e)},e.prototype.setDataValue=function(e,t){var o=this.columnController.getPrimaryColumn(e),n=this.valueService.getValue(o,this);this.valueService.setValue(this,o,t),this.dispatchCellChangedEvent(o,t,n)},e.prototype.setGroupValue=function(e,t){var o=this.columnController.getGridColumn(e);et.missing(this.groupData)&&(this.groupData={});var n=o.getColId(),i=this.groupData[n];i!==t&&(this.groupData[n]=t,this.dispatchCellChangedEvent(o,t,i))},e.prototype.setAggData=function(e){var t=this,o=et.getAllKeysInObjects([this.aggData,e]),n=this.aggData;this.aggData=e,this.eventService&&o.forEach((function(e){var o=t.columnController.getGridColumn(e),i=t.aggData?t.aggData[e]:void 0,r=n?n[e]:void 0;t.dispatchCellChangedEvent(o,i,r)}))},e.prototype.hasChildren=function(){return this.group||this.childrenAfterGroup&&this.childrenAfterGroup.length>0},e.prototype.isEmptyRowGroupNode=function(){return this.group&&et.missingOrEmpty(this.childrenAfterGroup)},e.prototype.dispatchCellChangedEvent=function(t,o,n){var i={type:e.EVENT_CELL_CHANGED,node:this,column:t,newValue:o,oldValue:n};this.dispatchLocalEvent(i)},e.prototype.resetQuickFilterAggregateText=function(){this.quickFilterAggregateText=null},e.prototype.isExpandable=function(){return this.hasChildren()||this.master},e.prototype.isSelected=function(){return this.footer?this.sibling.isSelected():this.selected},e.prototype.depthFirstSearch=function(e){this.childrenAfterGroup&&this.childrenAfterGroup.forEach((function(t){return t.depthFirstSearch(e)})),e(this)},e.prototype.calculateSelectedFromChildren=function(){var e,t=!1,o=!1,n=!1;if(this.childrenAfterGroup)for(var i=0;i<this.childrenAfterGroup.length;i++){var r=this.childrenAfterGroup[i];if(r.selectable)switch(r.isSelected()){case!0:t=!0;break;case!1:o=!0;break;default:n=!0}}e=n?void 0:!(!t||o)||!(!t&&o)&&void 0,this.selectThisNode(e)},e.prototype.setSelectedInitialValue=function(e){this.selected=e},e.prototype.setSelected=function(e,t,o){void 0===t&&(t=!1),void 0===o&&(o=!1),this.setSelectedParams({newValue:e,clearSelection:t,suppressFinishActions:o,rangeSelect:!1})},e.prototype.isRowPinned=function(){return this.rowPinned===ze.PINNED_TOP||this.rowPinned===ze.PINNED_BOTTOM},e.prototype.setSelectedParams=function(e){var t=this.gridOptionsWrapper.isGroupSelectsChildren(),o=!0===e.newValue,n=!0===e.clearSelection,i=!0===e.suppressFinishActions,r=!0===e.rangeSelect,s=t&&!0===e.groupSelectsFiltered;if(void 0===this.id)return console.warn("ag-Grid: cannot select node until id for node is known"),0;if(this.rowPinned)return console.warn("ag-Grid: cannot select pinned rows"),0;if(this.footer)return this.sibling.setSelectedParams(e);if(r){var a=this.selectionController.getLastSelectedNode()!==this,l=this.gridOptionsWrapper.isRowSelectionMulti();if(a&&l)return this.doRowRangeSelection()}var c=0;s&&this.group||this.selectThisNode(o)&&c++;if(t&&this.group&&(c+=this.selectChildNodes(o,s)),!i){if(o&&(n||!this.gridOptionsWrapper.isRowSelectionMulti())&&(c+=this.selectionController.clearOtherNodes(this)),c>0){this.selectionController.updateGroupsFromChildrenSelections();var u={type:_t.EVENT_SELECTION_CHANGED,api:this.gridApi,columnApi:this.columnApi};this.mainEventService.dispatchEvent(u)}o&&this.selectionController.setLastSelectedNode(this)}return c},e.prototype.doRowRangeSelection=function(){var e=this.gridOptionsWrapper.isGroupSelectsChildren(),t=this.selectionController.getLastSelectedNode(),o=this.rowModel.getNodesInRangeForSelection(this,t),n=0;o.forEach((function(t){t.group&&e||t.selectThisNode(!0)&&n++})),this.selectionController.updateGroupsFromChildrenSelections();var i={type:_t.EVENT_SELECTION_CHANGED,api:this.gridApi,columnApi:this.columnApi};return this.mainEventService.dispatchEvent(i),n},e.prototype.isParentOfNode=function(e){for(var t=this.parent;t;){if(t===e)return!0;t=t.parent}return!1},e.prototype.selectThisNode=function(t){var o=!this.selectable&&t,n=this.selected===t;if(o||n)return!1;this.selected=t,this.eventService&&this.dispatchLocalEvent(this.createLocalRowEvent(e.EVENT_ROW_SELECTED));var i=this.createGlobalRowEvent(_t.EVENT_ROW_SELECTED);return this.mainEventService.dispatchEvent(i),!0},e.prototype.selectChildNodes=function(e,t){var o=t?this.childrenAfterFilter:this.childrenAfterGroup;if(!et.missing(o)){for(var n=0,i=0;i<o.length;i++)n+=o[i].setSelectedParams({newValue:e,clearSelection:!1,suppressFinishActions:!0,groupSelectsFiltered:t});return n}},e.prototype.addEventListener=function(e,t){this.eventService||(this.eventService=new yt),this.eventService.addEventListener(e,t)},e.prototype.removeEventListener=function(e,t){this.eventService.removeEventListener(e,t)},e.prototype.onMouseEnter=function(){this.dispatchLocalEvent(this.createLocalRowEvent(e.EVENT_MOUSE_ENTER))},e.prototype.onMouseLeave=function(){this.dispatchLocalEvent(this.createLocalRowEvent(e.EVENT_MOUSE_LEAVE))},e.prototype.getFirstChildOfFirstChild=function(e){for(var t,o=this,n=!0,i=!1;n&&!i;){var r=o.parent;et.exists(r)&&o.firstChild?r.rowGroupColumn===e&&(i=!0,t=r):n=!1,o=r}return i?t:null},e.prototype.isFullWidthCell=function(){var e=this.gridOptionsWrapper.getIsFullWidthCellFunc();return!!e&&e(this)},e.ID_PREFIX_ROW_GROUP="row-group-",e.ID_PREFIX_TOP_PINNED="t-",e.ID_PREFIX_BOTTOM_PINNED="b-",e.OBJECT_ID_SEQUENCE=0,e.EVENT_ROW_SELECTED="rowSelected",e.EVENT_DATA_CHANGED="dataChanged",e.EVENT_CELL_CHANGED="cellChanged",e.EVENT_ALL_CHILDREN_COUNT_CHANGED="allChildrenCountChanged",e.EVENT_MASTER_CHANGED="masterChanged",e.EVENT_MOUSE_ENTER="mouseEnter",e.EVENT_MOUSE_LEAVE="mouseLeave",e.EVENT_HEIGHT_CHANGED="heightChanged",e.EVENT_TOP_CHANGED="topChanged",e.EVENT_FIRST_CHILD_CHANGED="firstChildChanged",e.EVENT_LAST_CHILD_CHANGED="lastChildChanged",e.EVENT_CHILD_INDEX_CHANGED="childIndexChanged",e.EVENT_ROW_INDEX_CHANGED="rowIndexChanged",e.EVENT_EXPANDED_CHANGED="expandedChanged",e.EVENT_SELECTABLE_CHANGED="selectableChanged",e.EVENT_UI_LEVEL_CHANGED="uiLevelChanged",e.EVENT_HIGHLIGHT_CHANGED="rowHighlightChanged",e.EVENT_DRAGGING_CHANGED="draggingChanged",Bo([ut("eventService")],e.prototype,"mainEventService",void 0),Bo([ut("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),Bo([ut("selectionController")],e.prototype,"selectionController",void 0),Bo([ut("columnController")],e.prototype,"columnController",void 0),Bo([ut("valueService")],e.prototype,"valueService",void 0),Bo([ut("rowModel")],e.prototype,"rowModel",void 0),Bo([ut("context")],e.prototype,"context",void 0),Bo([ut("valueCache")],e.prototype,"valueCache",void 0),Bo([ut("columnApi")],e.prototype,"columnApi",void 0),Bo([ut("gridApi")],e.prototype,"gridApi",void 0),e}(),jo=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),zo=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Uo=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.labelSeparator="",t.labelAlignment="left",t.config={},t.label="",t}return jo(t,e),t.prototype.postConstruct=function(){et.addCssClass(this.getGui(),"ag-labeled"),et.addCssClass(this.eLabel,"ag-label");var e=this.config,t=e.labelSeparator,o=e.label,n=e.labelWidth,i=e.labelAlignment;null!=t&&this.setLabelSeparator(t),null!=o&&this.setLabel(o),null!=n&&this.setLabelWidth(n),this.setLabelAlignment(i||this.labelAlignment),this.refreshLabel()},t.prototype.refreshLabel=function(){this.eLabel.innerText=this.label+this.labelSeparator,et.addOrRemoveCssClass(this.eLabel,"ag-hidden",""===this.label)},t.prototype.setLabelSeparator=function(e){return this.labelSeparator===e||(this.labelSeparator=e,null!=this.label&&this.refreshLabel()),this},t.prototype.setLabel=function(e){return this.label===e||(this.label=e,this.refreshLabel()),this},t.prototype.setLabelAlignment=function(e){var t=this.getGui();return et.addOrRemoveCssClass(t,"ag-label-align-left","left"===e),et.addOrRemoveCssClass(t,"ag-label-align-right","right"===e),et.addOrRemoveCssClass(t,"ag-label-align-top","top"===e),this},t.prototype.setLabelWidth=function(e){return null==this.label||et.setElementWidth(this.eLabel,e),this},zo([at],t.prototype,"postConstruct",null),t}(so),$o=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Ko=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.disabled=!1,t}return $o(t,e),t.prototype.postConstruct=function(){e.prototype.postConstruct.call(this),D(this.getGui(),this.className)},t.prototype.onValueChange=function(e){var o=this;return this.addManagedListener(this,t.EVENT_CHANGED,(function(){return e(o.getValue())})),this},t.prototype.getWidth=function(){return this.getGui().clientWidth},t.prototype.setWidth=function(e){return B(this.getGui(),e),this},t.prototype.getValue=function(){return this.value},t.prototype.setValue=function(e,o){return this.value===e||(this.value=e,o||this.dispatchEvent({type:t.EVENT_CHANGED})),this},t.prototype.setDisabled=function(e){e=!!e;var t=this.getGui();return I(t,e),F(t,"ag-disabled",e),this.disabled=e,this},t.prototype.isDisabled=function(){return!!this.disabled},t.EVENT_CHANGED="valueChange",t}(Uo),Yo=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),qo=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Xo=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.config={},t.TEMPLATE='\n        <div role="presentation">\n            <label ref="eLabel" class="ag-input-field-label"></label>\n            <div ref="eWrapper" class="ag-wrapper ag-input-wrapper" role="presentation">\n                <%displayField% ref="eInput" class="ag-input-field-input"></%displayField%>\n            </div>\n        </div>',t}return Yo(t,e),t.prototype.postConstruct=function(){e.prototype.postConstruct.call(this),this.setInputType(),D(this.eLabel,this.className+"-label"),D(this.eWrapper,this.className+"-input-wrapper"),D(this.eInput,this.className+"-input"),D(this.getGui(),"ag-input-field");var t=this.eInput.id?this.eInput.id:"ag-input-id-"+this.getCompId();this.eLabel.htmlFor=t,this.eInput.id=t;var o=this.config,n=o.width,i=o.value;null!=n&&this.setWidth(n),null!=i&&this.setValue(i),this.addInputListeners()},t.prototype.addInputListeners=function(){var e=this;this.addManagedListener(this.eInput,"input",(function(t){var o=t.target.value;e.setValue(o)}))},t.prototype.setInputType=function(){this.inputType&&this.eInput.setAttribute("type",this.inputType)},t.prototype.getInputElement=function(){return this.eInput},t.prototype.setInputWidth=function(e){return H(this.eWrapper,e),this},t.prototype.setInputName=function(e){return this.getInputElement().setAttribute("name",e),this},t.prototype.getFocusableElement=function(){return this.eInput},t.prototype.setMaxLength=function(e){return this.eInput.maxLength=e,this},t.prototype.setInputPlaceholder=function(e){var t=this.eInput,o="placeholder";return e?t.setAttribute(o,e):t.removeAttribute(o),this},t.prototype.setDisabled=function(t){return I(this.eInput,t),e.prototype.setDisabled.call(this,t)},t.prototype.setInputAriaLabel=function(e){return this.eInput.setAttribute("aria-label",e),this},qo([co("eLabel")],t.prototype,"eLabel",void 0),qo([co("eWrapper")],t.prototype,"eWrapper",void 0),qo([co("eInput")],t.prototype,"eInput",void 0),t}(Ko),Qo=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Zo=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Jo=function(e){function t(){var t=e.call(this)||this;return t.className="ag-checkbox",t.displayTag="input",t.inputType="checkbox",t.labelAlignment="right",t.selected=!1,t.readOnly=!1,t.passive=!1,t.setTemplate(t.TEMPLATE.replace(/%displayField%/g,t.displayTag)),t}return Qo(t,e),t.prototype.addInputListeners=function(){this.addManagedListener(this.eInput,"click",this.onCheckboxClick.bind(this))},t.prototype.getNextValue=function(){return void 0===this.selected||!this.selected},t.prototype.setPassive=function(e){this.passive=e},t.prototype.isReadOnly=function(){return this.readOnly},t.prototype.setReadOnly=function(e){et.addOrRemoveCssClass(this.eWrapper,"ag-disabled",e),this.eInput.disabled=e,this.readOnly=e},t.prototype.setDisabled=function(t){return et.addOrRemoveCssClass(this.eWrapper,"ag-disabled",t),e.prototype.setDisabled.call(this,t)},t.prototype.toggle=function(){var e=this.getNextValue();this.passive?this.dispatchChange(e):this.setValue(e)},t.prototype.getValue=function(){return this.isSelected()},t.prototype.setValue=function(e,t){return this.refreshSelectedClass(e),this.setSelected(e,t),this},t.prototype.setName=function(e){return this.getInputElement().name=e,this},t.prototype.isSelected=function(){return this.selected},t.prototype.setSelected=function(e,t){this.isSelected()!==e&&(this.selected="boolean"===typeof e?e:void 0,this.eInput.checked=this.selected,this.eInput.indeterminate=void 0===this.selected,t||this.dispatchChange(this.selected))},t.prototype.dispatchChange=function(e,o){this.dispatchEvent({type:t.EVENT_CHANGED,selected:e,event:o});var n=this.getInputElement(),i={type:_t.EVENT_CHECKBOX_CHANGED,id:n.id,name:n.name,selected:e};this.eventService.dispatchEvent(i)},t.prototype.onCheckboxClick=function(e){this.selected=e.target.checked,this.refreshSelectedClass(this.selected),this.dispatchChange(this.selected,e)},t.prototype.refreshSelectedClass=function(e){et.addOrRemoveCssClass(this.eWrapper,"ag-checked",!0===e),et.addOrRemoveCssClass(this.eWrapper,"ag-indeterminate",null==e)},Zo([ut("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),t}(Xo),en=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),tn=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},on=function(e){function t(){return e.call(this,'\n            <div class="ag-selection-checkbox">\n                <ag-checkbox role="presentation" ref="eCheckbox"></ag-checkbox>\n            </div>')||this}return en(t,e),t.prototype.onDataChanged=function(){this.onSelectionChanged()},t.prototype.onSelectableChanged=function(){this.showOrHideSelect()},t.prototype.onSelectionChanged=function(){var e=this.rowNode.isSelected();this.eCheckbox.setValue(e,!0)},t.prototype.onCheckedClicked=function(){var e=this.gridOptionsWrapper.isGroupSelectsFiltered();return this.rowNode.setSelectedParams({newValue:!1,groupSelectsFiltered:e})},t.prototype.onUncheckedClicked=function(e){var t=this.gridOptionsWrapper.isGroupSelectsFiltered();return this.rowNode.setSelectedParams({newValue:!0,rangeSelect:e.shiftKey,groupSelectsFiltered:t})},t.prototype.init=function(e){var t=this;this.rowNode=e.rowNode,this.column=e.column,this.onSelectionChanged(),this.addGuiEventListener("click",(function(e){return et.stopPropagationForAgGrid(e)})),this.addGuiEventListener("dblclick",(function(e){return et.stopPropagationForAgGrid(e)})),this.addManagedListener(this.eCheckbox,Jo.EVENT_CHANGED,(function(e){e.selected?t.onUncheckedClicked(e.event||{}):t.onCheckedClicked()})),this.addManagedListener(this.rowNode,Wo.EVENT_ROW_SELECTED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.rowNode,Wo.EVENT_DATA_CHANGED,this.onDataChanged.bind(this)),this.addManagedListener(this.rowNode,Wo.EVENT_SELECTABLE_CHANGED,this.onSelectableChanged.bind(this)),this.isRowSelectableFunc=this.gridOptionsWrapper.getIsRowSelectableFunc(),(this.isRowSelectableFunc||this.checkboxCallbackExists())&&(this.addManagedListener(this.eventService,_t.EVENT_DISPLAYED_COLUMNS_CHANGED,this.showOrHideSelect.bind(this)),this.showOrHideSelect()),this.eCheckbox.setInputAriaLabel("Toggle Row Selection")},t.prototype.showOrHideSelect=function(){var e=this.rowNode.selectable;e&&this.checkboxCallbackExists()&&(e=this.column.isCellCheckboxSelection(this.rowNode)),this.setDisplayed(e)},t.prototype.checkboxCallbackExists=function(){var e=this.column?this.column.getColDef():null;return e&&"function"===typeof e.checkboxSelection},tn([ut("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),tn([co("eCheckbox")],t.prototype,"eCheckbox",void 0),t}(so),nn={propertyName:"dateComponent",isCellRenderer:function(){return!1}},rn={propertyName:"headerComponent",isCellRenderer:function(){return!1}},sn={propertyName:"headerGroupComponent",isCellRenderer:function(){return!1}},an={propertyName:"groupRowInnerRenderer",isCellRenderer:function(){return!0}},ln={propertyName:"cellRenderer",isCellRenderer:function(){return!0}},cn={propertyName:"pinnedRowCellRenderer",isCellRenderer:function(){return!0}},un={propertyName:"cellEditor",isCellRenderer:function(){return!1}},dn={propertyName:"innerRenderer",isCellRenderer:function(){return!0}},hn={propertyName:"loadingOverlayComponent",isCellRenderer:function(){return!1}},pn={propertyName:"noRowsOverlayComponent",isCellRenderer:function(){return!1}},gn={propertyName:"tooltipComponent",isCellRenderer:function(){return!1}},fn={propertyName:"filter",isCellRenderer:function(){return!1}},mn={propertyName:"floatingFilterComponent",isCellRenderer:function(){return!1}},vn={propertyName:"toolPanel",isCellRenderer:function(){return!1}},yn={propertyName:"statusPanel",isCellRenderer:function(){return!1}},Cn=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),wn=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s};!function(e){e[e.DEFAULT=0]="DEFAULT",e[e.REGISTERED_BY_NAME=1]="REGISTERED_BY_NAME",e[e.HARDCODED=2]="HARDCODED"}(Oo||(Oo={}));var bn,Sn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Cn(t,e),t.prototype.newDateComponent=function(e){return this.createAndInitUserComponent(this.gridOptions,e,nn,"agDateInput")},t.prototype.newHeaderComponent=function(e){return this.createAndInitUserComponent(e.column.getColDef(),e,rn,"agColumnHeader")},t.prototype.newHeaderGroupComponent=function(e){return this.createAndInitUserComponent(e.columnGroup.getColGroupDef(),e,sn,"agColumnGroupHeader")},t.prototype.newFullWidthGroupRowInnerCellRenderer=function(e){return this.createAndInitUserComponent(this.gridOptions,e,an,null,!0)},t.prototype.newFullWidthCellRenderer=function(e,t,o){return this.createAndInitUserComponent(null,e,{propertyName:t,isCellRenderer:function(){return!0}},o)},t.prototype.newCellRenderer=function(e,t,o){return void 0===o&&(o=!1),this.createAndInitUserComponent(e,t,o?cn:ln,null,!0)},t.prototype.newCellEditor=function(e,t){return this.createAndInitUserComponent(e,t,un,"agCellEditor")},t.prototype.newInnerCellRenderer=function(e,t){return this.createAndInitUserComponent(e,t,dn,null)},t.prototype.newLoadingOverlayComponent=function(e){return this.createAndInitUserComponent(this.gridOptions,e,hn,"agLoadingOverlay")},t.prototype.newNoRowsOverlayComponent=function(e){return this.createAndInitUserComponent(this.gridOptions,e,pn,"agNoRowsOverlay")},t.prototype.newTooltipComponent=function(e){return this.createAndInitUserComponent(e.colDef,e,gn,"agTooltipComponent")},t.prototype.newFilterComponent=function(e,t,o,n){return this.createAndInitUserComponent(e,t,fn,o,!1,n)},t.prototype.newSetFilterCellRenderer=function(e,t){return this.createAndInitUserComponent(e,t,ln,null,!0)},t.prototype.newFloatingFilterComponent=function(e,t,o){return this.createAndInitUserComponent(e,t,mn,o,!0)},t.prototype.newToolPanelComponent=function(e,t){return this.createAndInitUserComponent(e,t,vn)},t.prototype.newStatusPanelComponent=function(e,t){return this.createAndInitUserComponent(e,t,yn)},t.prototype.createAndInitUserComponent=function(e,t,o,n,i,r){void 0===i&&(i=!1),e||(e=this.gridOptions);var s=this.createComponentInstance(e,o,t,n,i);if(!s)return null;var a=s.componentInstance,l=this.createFinalParams(e,o.propertyName,t,s.paramsFromSelector);this.addReactHacks(l);var c=r?r(l,a):l,u=this.initComponent(a,c);return null==u?ot.resolve(a):u.then((function(){return a}))},t.prototype.addReactHacks=function(e){var t=this.context.getBean("agGridReact");t&&(e.agGridReact=ae(t));var o=this.context.getBean("frameworkComponentWrapper");o&&(e.frameworkComponentWrapper=o)},t.prototype.createUserComponentFromConcreteClass=function(e,t){var o=new e;return this.initComponent(o,t),o},t.prototype.lookupComponentClassDef=function(e,t,o,n){void 0===o&&(o=null);var i,r=null,s=null,a=null,l=null;if(null!=e){var c=e[t];null==c||!0===c||("string"===typeof c?r=c:"boolean"===typeof c||(this.agComponentUtils.doesImplementIComponent(c)?s=c:a=c)),l=e[t+"Framework"],i=e[t+"Selector"]}if(s&&l||r&&l||a&&l)throw Error("ag-grid: you are trying to specify: "+t+" twice as a component.");if(l&&!this.frameworkComponentWrapper)throw Error("ag-grid: you are specifying a framework component but you are not using a framework version of ag-grid for : "+t);if(i&&(r||s||a||l))throw Error("ag-grid: you can't specify both, the selector and the component of ag-grid for : "+t);if(l)return{componentFromFramework:!0,component:l,source:Oo.HARDCODED,paramsFromSelector:null};if(s)return{componentFromFramework:!1,component:s,source:Oo.HARDCODED,paramsFromSelector:null};if(a)return this.agComponentUtils.adaptFunction(t,a,!1,Oo.HARDCODED);var u,d=i?i(o):null;if(!(u=d&&d.component?d.component:r||n))return null;var h=this.lookupFromRegisteredComponents(t,u);return h?{componentFromFramework:h.componentFromFramework,component:h.component,source:h.source,paramsFromSelector:d?d.params:null}:null},t.prototype.lookupFromRegisteredComponents=function(e,t){var o=null!=t?t:e,n=this.userComponentRegistry.retrieve(o);return null==n?null:n.componentFromFramework?{component:n.component,componentFromFramework:!0,source:Oo.REGISTERED_BY_NAME,paramsFromSelector:null}:this.agComponentUtils.doesImplementIComponent(n.component)?{component:n.component,componentFromFramework:!1,source:n.source==bn.REGISTERED?Oo.REGISTERED_BY_NAME:Oo.DEFAULT,paramsFromSelector:null}:this.agComponentUtils.adaptFunction(e,n.component,n.componentFromFramework,n.source==bn.REGISTERED?Oo.REGISTERED_BY_NAME:Oo.DEFAULT)},t.prototype.createFinalParams=function(e,t,o,n){void 0===n&&(n=null);var i={};de(i,o);var r=e?e[t+"Params"]:null;return null!=r&&("function"===typeof r?de(i,r(o)):"object"===typeof r&&de(i,r)),de(i,n),i},t.prototype.createComponentInstance=function(e,t,o,n,i){var r,s=t.propertyName,a=this.lookupComponentClassDef(e,s,o,n);if(!a||!a.component){var l=e?e[s]:n,c=l||n;return i||console.error("Could not find component "+c+", did you forget to configure this component?"),null}if(a.componentFromFramework){var u=a.component,d=this.componentMetadataProvider.retrieve(s);r=this.frameworkComponentWrapper.wrap(u,d.mandatoryMethodList,d.optionalMethodList,t,n)}else r=new a.component;return{componentInstance:r,paramsFromSelector:a.paramsFromSelector}},t.prototype.initComponent=function(e,t){if(this.context.createBean(e),null!=e.init)return e.init(t)},wn([ut("gridOptions")],t.prototype,"gridOptions",void 0),wn([ut("agComponentUtils")],t.prototype,"agComponentUtils",void 0),wn([ut("componentMetadataProvider")],t.prototype,"componentMetadataProvider",void 0),wn([ut("userComponentRegistry")],t.prototype,"userComponentRegistry",void 0),wn([dt("frameworkComponentWrapper")],t.prototype,"frameworkComponentWrapper",void 0),t=wn([ct("userComponentFactory")],t)}(xt),En=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Rn=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Pn=function(e){function t(){return e.call(this,t.TEMPLATE)||this}return En(t,e),t.prototype.init=function(e){this.params=e,this.gridOptionsWrapper.isGroupIncludeTotalFooter()&&this.assignBlankValueToGroupFooterCell(e);var t=this.isEmbeddedRowMismatch(),o=null==e.value,n=!1;if(this.gridOptionsWrapper.isGroupIncludeFooter()&&this.gridOptionsWrapper.isGroupHideOpenParents()){var i=e.node;if(i.footer)n=(e.colDef&&e.colDef.showRowGroup)!==(i.rowGroupColumn&&i.rowGroupColumn.getColId())}this.cellIsBlank=t||o||n,this.cellIsBlank||(this.setupDragOpenParents(),this.addExpandAndContract(),this.addCheckboxIfNeeded(),this.addValueElement(),this.setupIndent())},t.prototype.assignBlankValueToGroupFooterCell=function(e){e.value||-1!=e.node.level||(e.value="")},t.prototype.isEmbeddedRowMismatch=function(){if(!this.params.fullWidth||!this.gridOptionsWrapper.isEmbedFullWidthRows())return!1;var e=this.params.pinned===ze.PINNED_LEFT,t=this.params.pinned===ze.PINNED_RIGHT,o=!e&&!t;return this.gridOptionsWrapper.isEnableRtl()?this.columnController.isPinningLeft()?!t:!o:this.columnController.isPinningLeft()?!e:!o},t.prototype.setIndent=function(){if(!this.gridOptionsWrapper.isGroupHideOpenParents()){var e=this.params,t=e.node.uiLevel;e.padding>=0?this.setPaddingDeprecatedWay(t,e.padding):(this.indentClass&&this.removeCssClass(this.indentClass),this.indentClass="ag-row-group-indent-"+t,this.addCssClass(this.indentClass))}},t.prototype.setPaddingDeprecatedWay=function(e,t){et.doOnce((function(){return console.warn("ag-Grid: since v14.2, configuring padding for groupCellRenderer should be done with Sass variables and themes. Please see the ag-Grid documentation page for Themes, in particular the property $row-group-indent-size.")}),"groupCellRenderer->doDeprecatedWay");var o=e*t,n=this.getGui(),i=this.gridOptionsWrapper.isEnableRtl()?"paddingRight":"paddingLeft";n.style[i]=o+"px"},t.prototype.setupIndent=function(){var e=this.params.node;this.params.suppressPadding||(this.addManagedListener(e,Wo.EVENT_UI_LEVEL_CHANGED,this.setIndent.bind(this)),this.setIndent())},t.prototype.addValueElement=function(){var e=this.params,t=this.displayedGroup;t.footer?this.createFooterCell():t.hasChildren()||et.get(e.colDef,"cellRendererParams.innerRenderer",null)||et.get(e.colDef,"cellRendererParams.innerRendererFramework",null)?(this.createGroupCell(),t.hasChildren()&&this.addChildCount()):this.createLeafCell()},t.prototype.createFooterCell=function(){var e,t=this.params.footerValueGetter;if(t){var o=et.cloneObject(this.params);o.value=this.params.value,"function"===typeof t?e=t(o):"string"===typeof t?e=this.expressionService.evaluate(t,o):console.warn("ag-Grid: footerValueGetter should be either a function or a string (expression)")}else e="Total "+this.params.value;this.eValue.innerHTML=e},t.prototype.createGroupCell=function(){var e,t=this,o=this.params,n=this.displayedGroup.rowGroupColumn,i=n||o.column,r=this.params.value,s=i?this.valueFormatterService.formatValue(i,o.node,o.scope,r):null;o.valueFormatted=s,(e=o.fullWidth?this.useFullWidth(o):this.useInnerRenderer(this.params.colDef.cellRendererParams,i.getColDef(),o))&&e.then((function(e){t.innerCellRenderer=e}))},t.prototype.useInnerRenderer=function(e,t,o){var n=this,i=null,r=this.userComponentFactory.lookupComponentClassDef(e,"innerRenderer");if(r&&null!=r.component&&r.source!=Oo.DEFAULT)i=this.userComponentFactory.newInnerCellRenderer(e,o);else{var s=this.userComponentFactory.lookupComponentClassDef(t,"cellRenderer");i=s&&s.source!=Oo.DEFAULT?this.userComponentFactory.newCellRenderer(t,o):s&&s.source==Oo.DEFAULT&&et.get(t,"cellRendererParams.innerRenderer",null)?this.userComponentFactory.newInnerCellRenderer(t.cellRendererParams,o):this.userComponentFactory.newCellRenderer({},o)}return null!=i?i.then((function(e){null!=e?et.bindCellRendererToHtmlElement(i,n.eValue):n.eValue.innerText=null!=o.valueFormatted?o.valueFormatted:o.value})):this.eValue.innerText=null!=o.valueFormatted?o.valueFormatted:o.value,i},t.prototype.useFullWidth=function(e){var t=this.userComponentFactory.newFullWidthGroupRowInnerCellRenderer(e);return null!=t?et.bindCellRendererToHtmlElement(t,this.eValue):this.eValue.innerText=null!=e.valueFormatted?e.valueFormatted:e.value,t},t.prototype.addChildCount=function(){this.params.suppressCount||(this.addManagedListener(this.displayedGroup,Wo.EVENT_ALL_CHILDREN_COUNT_CHANGED,this.updateChildCount.bind(this)),this.updateChildCount())},t.prototype.updateChildCount=function(){var e=this.displayedGroup.allChildrenCount;this.eChildCount.innerHTML=e>=0?"("+e+")":""},t.prototype.createLeafCell=function(){et.exists(this.params.value)&&(this.eValue.innerText=this.params.valueFormatted?this.params.valueFormatted:this.params.value)},t.prototype.isUserWantsSelected=function(){var e=this.params.checkbox;return"function"===typeof e?e(this.params):!0===e},t.prototype.addCheckboxIfNeeded=function(){var e=this,t=this.displayedGroup,o=this.isUserWantsSelected()&&!t.footer&&!t.rowPinned&&!t.detail;if(o){var n=new on;this.getContext().createBean(n),n.init({rowNode:t,column:this.params.column}),this.eCheckbox.appendChild(n.getGui()),this.addDestroyFunc((function(){return e.getContext().destroyBean(n)}))}et.addOrRemoveCssClass(this.eCheckbox,"ag-invisible",!o)},t.prototype.addExpandAndContract=function(){var e=this.params,t=e.eGridCell,o=et.createIconNoSpan("groupExpanded",this.gridOptionsWrapper,null),n=et.createIconNoSpan("groupContracted",this.gridOptionsWrapper,null);this.eExpanded.appendChild(o),this.eContracted.appendChild(n),this.addManagedListener(this.eExpanded,"click",this.onExpandClicked.bind(this)),this.addManagedListener(this.eContracted,"click",this.onExpandClicked.bind(this)),this.addManagedListener(t,"keydown",this.onKeyDown.bind(this)),this.addManagedListener(e.node,Wo.EVENT_EXPANDED_CHANGED,this.showExpandAndContractIcons.bind(this)),this.showExpandAndContractIcons(),this.addManagedListener(this.displayedGroup,Wo.EVENT_ALL_CHILDREN_COUNT_CHANGED,this.onRowNodeIsExpandableChanged.bind(this)),this.addManagedListener(this.displayedGroup,Wo.EVENT_MASTER_CHANGED,this.onRowNodeIsExpandableChanged.bind(this)),this.gridOptionsWrapper.isEnableGroupEdit()||!this.isExpandable()||e.suppressDoubleClickExpand||this.addManagedListener(t,"dblclick",this.onCellDblClicked.bind(this))},t.prototype.onRowNodeIsExpandableChanged=function(){this.showExpandAndContractIcons(),this.setIndent()},t.prototype.onKeyDown=function(e){et.isKeyPressed(e,ze.KEY_ENTER)&&!this.params.suppressEnterExpand&&(this.params.column&&this.params.column.isCellEditable(this.params.node)||(e.preventDefault(),this.onExpandOrContract()))},t.prototype.setupDragOpenParents=function(){var e=this.params.column,t=this.params.node;if(this.gridOptionsWrapper.isGroupHideOpenParents())if(t.hasChildren()){var o=t.rowGroupColumn;this.draggedFromHideOpenParents=!!o&&!e.isRowGroupDisplayed(o.getId())}else this.draggedFromHideOpenParents=!0;else this.draggedFromHideOpenParents=!1;if(this.draggedFromHideOpenParents)for(var n=t.parent;!et.missing(n);){if(n.rowGroupColumn&&e.isRowGroupDisplayed(n.rowGroupColumn.getId())){this.displayedGroup=n;break}n=n.parent}et.missing(this.displayedGroup)&&(this.displayedGroup=t)},t.prototype.onExpandClicked=function(e){et.isStopPropagationForAgGrid(e)||(et.stopPropagationForAgGrid(e),this.onExpandOrContract())},t.prototype.onCellDblClicked=function(e){et.isStopPropagationForAgGrid(e)||(et.isElementInEventPath(this.eExpanded,e)||et.isElementInEventPath(this.eContracted,e)||this.onExpandOrContract())},t.prototype.onExpandOrContract=function(){var e=this.displayedGroup;e.setExpanded(!e.expanded)},t.prototype.isExpandable=function(){var e=this.params.node,t=this.columnController.isPivotMode()&&e.leafGroup;return this.draggedFromHideOpenParents||e.isExpandable()&&!e.footer&&!t},t.prototype.showExpandAndContractIcons=function(){var e=this.params.node;if(this.isExpandable()){var t=!!this.draggedFromHideOpenParents||e.expanded;et.setDisplayed(this.eContracted,!t),et.setDisplayed(this.eExpanded,t)}else et.setDisplayed(this.eExpanded,!1),et.setDisplayed(this.eContracted,!1);var o=this.displayedGroup,n=this.columnController.isPivotMode()&&o.leafGroup,i=!o.isExpandable(),r=o.footer||i||n;this.addOrRemoveCssClass("ag-row-group",!r),this.addOrRemoveCssClass("ag-row-group-leaf-indent",r)},t.prototype.destroy=function(){this.getContext().destroyBean(this.innerCellRenderer),e.prototype.destroy.call(this)},t.prototype.refresh=function(){return!1},t.TEMPLATE='<span class="ag-cell-wrapper"><span class="ag-group-expanded" ref="eExpanded"></span><span class="ag-group-contracted" ref="eContracted"></span><span class="ag-group-checkbox ag-invisible" ref="eCheckbox"></span><span class="ag-group-value" ref="eValue"></span><span class="ag-group-child-count" ref="eChildCount"></span></span>',Rn([ut("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),Rn([ut("expressionService")],t.prototype,"expressionService",void 0),Rn([ut("valueFormatterService")],t.prototype,"valueFormatterService",void 0),Rn([ut("columnController")],t.prototype,"columnController",void 0),Rn([ut("userComponentFactory")],t.prototype,"userComponentFactory",void 0),Rn([co("eExpanded")],t.prototype,"eExpanded",void 0),Rn([co("eContracted")],t.prototype,"eContracted",void 0),Rn([co("eCheckbox")],t.prototype,"eCheckbox",void 0),Rn([co("eValue")],t.prototype,"eValue",void 0),Rn([co("eChildCount")],t.prototype,"eChildCount",void 0),t}(so),On=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),xn=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Tn=function(e){function t(){var o=e.call(this,t.TEMPLATE)||this;return o.refreshCount=0,o}return On(t,e),t.prototype.init=function(e){this.eValue=this.queryForHtmlElement(".ag-value-change-value"),this.eDelta=this.queryForHtmlElement(".ag-value-change-delta"),this.refresh(e)},t.prototype.showDelta=function(e,t){var o=Math.abs(t),n=e.formatValue(o),i=et.exists(n)?n:o,r=t>=0;this.eDelta.innerHTML=r?"\u2191"+i:"\u2193"+i,et.addOrRemoveCssClass(this.eDelta,"ag-value-change-delta-up",r),et.addOrRemoveCssClass(this.eDelta,"ag-value-change-delta-down",!r)},t.prototype.setTimerToRemoveDelta=function(){var e=this;this.refreshCount++;var t=this.refreshCount;window.setTimeout((function(){t===e.refreshCount&&e.hideDeltaValue()}),2e3)},t.prototype.hideDeltaValue=function(){et.removeCssClass(this.eValue,"ag-value-change-value-highlight"),et.clearElement(this.eDelta)},t.prototype.refresh=function(e){var t=e.value;if(t!==this.lastValue&&(et.exists(e.valueFormatted)?this.eValue.innerHTML=e.valueFormatted:et.exists(e.value)?this.eValue.innerHTML=t:et.clearElement(this.eValue),!this.filterManager.isSuppressFlashingCellsBecauseFiltering())){if("number"===typeof t&&"number"===typeof this.lastValue){var o=t-this.lastValue;this.showDelta(e,o)}return this.lastValue&&et.addCssClass(this.eValue,"ag-value-change-value-highlight"),this.setTimerToRemoveDelta(),this.lastValue=t,!0}},t.TEMPLATE='<span><span class="ag-value-change-delta"></span><span class="ag-value-change-value"></span></span>',xn([ut("filterManager")],t.prototype,"filterManager",void 0),t}(so),Dn=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),An=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Fn=function(e){function t(){var o=e.call(this,t.TEMPLATE)||this;return o.refreshCount=0,o.eCurrent=o.queryForHtmlElement(".ag-value-slide-current"),o}return Dn(t,e),t.prototype.init=function(e){this.params=e,this.refresh(e)},t.prototype.addSlideAnimation=function(){var e=this;this.refreshCount++;var t=this.refreshCount;this.ePrevious&&this.getGui().removeChild(this.ePrevious),this.ePrevious=et.loadTemplate('<span class="ag-value-slide-previous ag-value-slide-out"></span>'),this.ePrevious.innerHTML=this.eCurrent.innerHTML,this.getGui().insertBefore(this.ePrevious,this.eCurrent),window.setTimeout((function(){t===e.refreshCount&&et.addCssClass(e.ePrevious,"ag-value-slide-out-end")}),50),window.setTimeout((function(){t===e.refreshCount&&(e.getGui().removeChild(e.ePrevious),e.ePrevious=null)}),3e3)},t.prototype.refresh=function(e){var t=e.value;if(et.missing(t)&&(t=""),t!==this.lastValue&&!this.filterManager.isSuppressFlashingCellsBecauseFiltering())return this.addSlideAnimation(),this.lastValue=t,et.exists(e.valueFormatted)?this.eCurrent.innerHTML=e.valueFormatted:et.exists(e.value)?this.eCurrent.innerHTML=t:et.clearElement(this.eCurrent),!0},t.TEMPLATE='<span><span class="ag-value-slide-current"></span></span>',An([ut("filterManager")],t.prototype,"filterManager",void 0),t}(so),_n=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Mn=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},In=function(e){function t(){return e.call(this,t.TEMPLATE)||this}return _n(t,e),t.prototype.init=function(e){var t=et.createIconNoSpan("groupLoading",this.gridOptionsWrapper,null);this.eLoadingIcon.appendChild(t);var o=this.gridOptionsWrapper.getLocaleTextFunc();this.eLoadingText.innerText=o("loadingOoo","Loading")},t.prototype.refresh=function(e){return!1},t.TEMPLATE='<div class="ag-loading">\n            <span class="ag-loading-icon" ref="eLoadingIcon"></span>\n            <span class="ag-loading-text" ref="eLoadingText"></span>\n        </div>',Mn([ut("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),Mn([co("eLoadingIcon")],t.prototype,"eLoadingIcon",void 0),Mn([co("eLoadingText")],t.prototype,"eLoadingText",void 0),t}(so),Ln=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Nn=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},kn=function(e){function t(){return e.call(this,'<div class="ag-cell-edit-wrapper"><ag-select class="ag-cell-editor" ref="eSelect"></ag-select></div>')||this}return Ln(t,e),t.prototype.init=function(e){var t=this;this.focusAfterAttached=e.cellStartedEdit,et.missing(e.values)?console.warn("ag-Grid: no values found for select cellEditor"):(e.values.forEach((function(o){var n={value:o},i=t.valueFormatterService.formatValue(e.column,null,null,o),r=null!==i&&void 0!==i;n.text=r?i:o,t.eSelect.addOption(n)})),this.eSelect.setValue(e.value,!0),this.gridOptionsWrapper.isFullRowEdit()||this.eSelect.onValueChange((function(){return e.stopEditing()})))},t.prototype.afterGuiAttached=function(){this.focusAfterAttached&&this.eSelect.getFocusableElement().focus()},t.prototype.focusIn=function(){this.eSelect.getFocusableElement().focus()},t.prototype.getValue=function(){return this.eSelect.getValue()},t.prototype.isPopup=function(){return!1},Nn([ut("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),Nn([ut("valueFormatterService")],t.prototype,"valueFormatterService",void 0),Nn([co("eSelect")],t.prototype,"eSelect",void 0),t}(lo),Gn=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Vn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Gn(t,e),t.prototype.isPopup=function(){return!0},t}(yo),Hn=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Bn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Hn(t,e),t.prototype.isPopup=function(){return!0},t}(kn),Wn=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),jn=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},zn=function(e){function t(){return e.call(this,t.TEMPLATE)||this}return Wn(t,e),t.prototype.init=function(e){this.params=e,this.focusAfterAttached=e.cellStartedEdit,this.eTextArea.setMaxLength(e.maxLength||200).setCols(e.cols||60).setRows(e.rows||10),et.exists(e.value)&&this.eTextArea.setValue(e.value.toString(),!0),this.addGuiEventListener("keydown",this.onKeyDown.bind(this))},t.prototype.onKeyDown=function(e){var t=e.which||e.keyCode;(t==ze.KEY_LEFT||t==ze.KEY_UP||t==ze.KEY_RIGHT||t==ze.KEY_DOWN||e.shiftKey&&t==ze.KEY_ENTER)&&e.stopPropagation()},t.prototype.afterGuiAttached=function(){this.focusAfterAttached&&this.eTextArea.getFocusableElement().focus()},t.prototype.getValue=function(){return this.params.parseValue(this.eTextArea.getValue())},t.TEMPLATE='<div class="ag-large-text" tabindex="0">\n            <ag-input-text-area ref="eTextArea" class="ag-large-text-input"></ag-input-text-area>\n        </div>',jn([co("eTextArea")],t.prototype,"eTextArea",void 0),t}(lo),Un=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),$n=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Kn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Un(t,e),t.prototype.mapRangeFromModel=function(e){return{from:e.filter,to:e.filterTo}},t.prototype.getDefaultDebounceMs=function(){return 500},t.prototype.resetUiToDefaults=function(t){var o=this;return e.prototype.resetUiToDefaults.call(this,t).then((function(){[o.eValueFrom1,o.eValueFrom2,o.eValueTo1,o.eValueTo2].forEach((function(e){return e.setValue(null,t)})),o.resetPlaceholder()}))},t.prototype.setConditionIntoUi=function(e,t){var o=t===fo.One,n=o?this.eValueFrom1:this.eValueFrom2,i=o?this.eValueTo1:this.eValueTo2;n.setValue(e?""+e.filter:null),i.setValue(e?""+e.filterTo:null)},t.prototype.setValueFromFloatingFilter=function(e){this.eValueFrom1.setValue(e),this.eValueFrom2.setValue(null),this.eValueTo1.setValue(null),this.eValueTo2.setValue(null)},t.prototype.comparator=function(){return function(e,t){return e===t?0:e<t?1:-1}},t.prototype.setParams=function(t){e.prototype.setParams.call(this,t),this.addValueChangedListeners()},t.prototype.addValueChangedListeners=function(){var e=this,t=function(){return e.onUiChanged()};this.eValueFrom1.onValueChange(t),this.eValueFrom2.onValueChange(t),this.eValueTo1.onValueChange(t),this.eValueTo2.onValueChange(t)},t.prototype.resetPlaceholder=function(){var e=this.getCondition1Type()===Ao.IN_RANGE,t=this.getCondition2Type()===Ao.IN_RANGE;this.eValueFrom1.setInputPlaceholder(this.translate(e?"inRangeStart":"filterOoo")),this.eValueTo1.setInputPlaceholder(this.translate(e?"inRangeEnd":"filterOoo")),this.eValueFrom2.setInputPlaceholder(this.translate(t?"inRangeStart":"filterOoo")),this.eValueTo2.setInputPlaceholder(this.translate(t?"inRangeEnd":"filterOoo"))},t.prototype.afterGuiAttached=function(t){e.prototype.afterGuiAttached.call(this,t),this.resetPlaceholder(),this.eValueFrom1.getInputElement().focus()},t.prototype.getDefaultFilterOptions=function(){return t.DEFAULT_FILTER_OPTIONS},t.prototype.createValueTemplate=function(e){var t=e===fo.One?"1":"2";return'<div class="ag-filter-body" ref="eCondition'+t+'Body" role="presentation">\n                    <ag-input-number-field class="ag-filter-from ag-filter-filter" ref="eValueFrom'+t+'"></ag-input-number-field>\n                    <ag-input-number-field class="ag-filter-to ag-filter-filter" ref="eValueTo'+t+'"></ag-input-number-field>\n                </div>'},t.prototype.isConditionUiComplete=function(e){var t=e===fo.One,o=t?this.getCondition1Type():this.getCondition2Type(),n=t?this.eValueFrom1:this.eValueFrom2,i=t?this.eValueTo1:this.eValueTo2,r=this.stringToFloat(n.getValue()),s=this.stringToFloat(i.getValue());return o!==To.EMPTY&&(!!this.doesFilterHaveHiddenInput(o)||(o===To.IN_RANGE?null!=r&&null!=s:null!=r))},t.prototype.areSimpleModelsEqual=function(e,t){return e.filter===t.filter&&e.filterTo===t.filterTo&&e.type===t.type},t.prototype.getFilterType=function(){return t.FILTER_TYPE},t.prototype.stringToFloat=function(e){if("number"===typeof e)return e;var t=y(e);return t&&""===t.trim()&&(t=null),null!==t&&void 0!==t?parseFloat(t):null},t.prototype.createCondition=function(e){var o=e===fo.One,n=o?this.getCondition1Type():this.getCondition2Type(),i=o?this.eValueFrom1:this.eValueFrom2,r=this.stringToFloat(i.getValue()),s=o?this.eValueTo1:this.eValueTo2,a=this.stringToFloat(s.getValue()),l={filterType:t.FILTER_TYPE,type:n};return this.doesFilterHaveHiddenInput(n)||(l.filter=r,l.filterTo=a),l},t.prototype.updateUiVisibility=function(){e.prototype.updateUiVisibility.call(this),this.resetPlaceholder();var t=this.showValueFrom(this.getCondition1Type());M(this.eValueFrom1.getGui(),t);var o=this.showValueTo(this.getCondition1Type());M(this.eValueTo1.getGui(),o);var n=this.showValueFrom(this.getCondition2Type());M(this.eValueFrom2.getGui(),n);var i=this.showValueTo(this.getCondition2Type());M(this.eValueTo2.getGui(),i)},t.FILTER_TYPE="number",t.DEFAULT_FILTER_OPTIONS=[Ao.EQUALS,Ao.NOT_EQUAL,Ao.LESS_THAN,Ao.LESS_THAN_OR_EQUAL,Ao.GREATER_THAN,Ao.GREATER_THAN_OR_EQUAL,Ao.IN_RANGE],$n([co("eValueFrom1")],t.prototype,"eValueFrom1",void 0),$n([co("eValueFrom2")],t.prototype,"eValueFrom2",void 0),$n([co("eValueTo1")],t.prototype,"eValueTo1",void 0),$n([co("eValueTo2")],t.prototype,"eValueTo2",void 0),t}(Ao),Yn=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),qn=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Xn=function(e){function t(){return e.call(this)||this}return Yn(t,e),t.prototype.destroy=function(){e.prototype.destroy.call(this)},t.prototype.init=function(e){var o=this.gridOptionsWrapper.getOverlayLoadingTemplate()?this.gridOptionsWrapper.getOverlayLoadingTemplate():t.DEFAULT_LOADING_OVERLAY_TEMPLATE,n=this.gridOptionsWrapper.getLocaleTextFunc(),i=o.replace("[LOADING...]",n("loadingOoo","Loading..."));this.setTemplate(i)},t.DEFAULT_LOADING_OVERLAY_TEMPLATE='<span class="ag-overlay-loading-center">[LOADING...]</span>',qn([ut("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),t}(so),Qn=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Zn=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Jn=function(e){function t(){return e.call(this)||this}return Qn(t,e),t.prototype.destroy=function(){e.prototype.destroy.call(this)},t.prototype.init=function(e){var o=this.gridOptionsWrapper.getOverlayNoRowsTemplate()?this.gridOptionsWrapper.getOverlayNoRowsTemplate():t.DEFAULT_NO_ROWS_TEMPLATE,n=this.gridOptionsWrapper.getLocaleTextFunc(),i=o.replace("[NO_ROWS_TO_SHOW]",n("noRowsToShow","No Rows To Show"));this.setTemplate(i)},t.DEFAULT_NO_ROWS_TEMPLATE='<span class="ag-overlay-no-rows-center">[NO_ROWS_TO_SHOW]</span>',Zn([ut("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),t}(so),ei=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),ti=function(e){function t(){return e.call(this,'<div class="ag-tooltip"></div>')||this}return ei(t,e),t.prototype.init=function(e){var t=e.value;this.getGui().innerHTML=t},t}(lo),oi=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),ni=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},ii=function(e){function t(){return e.call(this,'\n            <div class="ag-filter-filter">\n                <ag-input-text-field class="ag-date-filter" ref="eDateInput"></ag-input-text-field>\n            </div>')||this}return oi(t,e),t.prototype.destroy=function(){e.prototype.destroy.call(this)},t.prototype.init=function(e){var t=this;this.shouldUseBrowserDatePicker(e)&&(h()?console.warn("ag-grid: browserDatePicker is specified to true, but it is not supported in IE 11, reverting to plain text date picker"):this.eDateInput.getInputElement().type="date"),this.listener=e.onDateChanged,this.addManagedListener(this.eDateInput.getInputElement(),"input",(function(e){e.target===document.activeElement&&t.listener()}))},t.prototype.getDate=function(){return Ce(this.eDateInput.getValue())},t.prototype.setDate=function(e){this.eDateInput.setValue(ye(e,!1))},t.prototype.setInputPlaceholder=function(e){this.eDateInput.setInputPlaceholder(e)},t.prototype.shouldUseBrowserDatePicker=function(e){return e.filterParams&&null!=e.filterParams.browserDatePicker?e.filterParams.browserDatePicker:f()||m()},ni([co("eDateInput")],t.prototype,"eDateInput",void 0),t}(so),ri=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),si=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ri(t,e),t.prototype.getDefaultDebounceMs=function(){return 0},t.prototype.destroy=function(){e.prototype.destroy.call(this)},t.prototype.getTextFromModel=function(e){if(!e)return null;if(e.operator){var t=e,o=this.conditionToString(t.condition1),n=this.conditionToString(t.condition2);return o+" "+t.operator+" "+n}var i=e;return this.conditionToString(i)},t.prototype.isEventFromFloatingFilter=function(e){return e&&e.afterFloatingFilter},t.prototype.getLastType=function(){return this.lastType},t.prototype.setLastTypeFromModel=function(e){if(e){var t;if(e.operator)t=e.condition1;else t=e;this.lastType=t.type}else this.lastType=this.optionsFactory.getDefaultOption()},t.prototype.canWeEditAfterModelFromParentFilter=function(e){if(!e)return this.isTypeEditable(this.lastType);if(e.operator)return!1;var t=e;return this.isTypeEditable(t.type)},t.prototype.init=function(e){this.optionsFactory=new wo,this.optionsFactory.init(e.filterParams,this.getDefaultFilterOptions()),this.lastType=this.optionsFactory.getDefaultOption();var t=this.isTypeEditable(this.lastType);this.setEditable(t)},t.prototype.doesFilterHaveHiddenInput=function(e){var t=this.optionsFactory.getCustomOption(e);return t&&t.hideFilterInput},t.prototype.isTypeEditable=function(e){return!this.doesFilterHaveHiddenInput(e)&&e&&e!==To.IN_RANGE&&e!==To.EMPTY},t}(so),ai=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),li=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},ci=function(e){function t(){return e.call(this,'\n            <div class="ag-floating-filter-input" role="presentation">\n                <ag-input-text-field ref="eReadOnlyText"></ag-input-text-field>\n                <div ref="eDateWrapper" style="display: flex; overflow: hidden;"></div>\n            </div>')||this}return ai(t,e),t.prototype.getDefaultFilterOptions=function(){return Mo.DEFAULT_FILTER_OPTIONS},t.prototype.conditionToString=function(e){return e.type===To.IN_RANGE?e.dateFrom+"-"+e.dateTo:null!=e.dateFrom?""+e.dateFrom:""+e.type},t.prototype.init=function(t){e.prototype.init.call(this,t),this.params=t,this.createDateComponent(),this.eReadOnlyText.setDisabled(!0).setInputAriaLabel("Date Filter Input")},t.prototype.setEditable=function(e){M(this.eDateWrapper,e),M(this.eReadOnlyText.getGui(),!e)},t.prototype.onParentModelChanged=function(t,o){if(!this.isEventFromFloatingFilter(o)){e.prototype.setLastTypeFromModel.call(this,t);var n=this.canWeEditAfterModelFromParentFilter(t);if(this.setEditable(n),n){if(t){var i=t;this.dateComp.setDate(Ce(i.dateFrom))}else this.dateComp.setDate(null);this.eReadOnlyText.setValue("")}else this.eReadOnlyText.setValue(this.getTextFromModel(t)),this.dateComp.setDate(null)}},t.prototype.onDateChanged=function(){var e=this,t=ye(this.dateComp.getDate());this.params.parentFilterInstance((function(o){o&&o.onFloatingFilterChanged(e.getLastType(),t)}))},t.prototype.createDateComponent=function(){var e=this,t=Eo.getDebounceMs(this.params.filterParams,this.getDefaultDebounceMs()),o={onDateChanged:Ie(this.onDateChanged.bind(this),t),filterParams:this.params.column.getColDef().filterParams};this.dateComp=new Co(this.getContext(),this.userComponentFactory,o,this.eDateWrapper),this.addDestroyFunc((function(){return e.dateComp.destroy()}))},li([ut("userComponentFactory")],t.prototype,"userComponentFactory",void 0),li([co("eReadOnlyText")],t.prototype,"eReadOnlyText",void 0),li([co("eDateWrapper")],t.prototype,"eDateWrapper",void 0),t}(si),ui=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),di=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},hi=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ui(t,e),t.prototype.getDefaultDebounceMs=function(){return 500},t.prototype.getValue=function(e){var t=e.getValue();return(t=y(t))&&""===t.trim()&&(t=null),t},t.prototype.addValueChangedListeners=function(){var e=this,t=function(){return e.onUiChanged()};this.eValue1.onValueChange(t),this.eValue2.onValueChange(t)},t.prototype.setParams=function(o){e.prototype.setParams.call(this,o),this.textFilterParams=o,this.comparator=this.textFilterParams.textCustomComparator||t.DEFAULT_COMPARATOR,this.formatter=this.textFilterParams.textFormatter||(1==this.textFilterParams.caseSensitive?t.DEFAULT_FORMATTER:t.DEFAULT_LOWERCASE_FORMATTER),this.addValueChangedListeners()},t.prototype.setConditionIntoUi=function(e,t){(t===fo.One?this.eValue1:this.eValue2).setValue(e?e.filter:null)},t.prototype.createCondition=function(e){var o=e===fo.One,n=o?this.getCondition1Type():this.getCondition2Type(),i=o?this.eValue1:this.eValue2,r=this.getValue(i),s={filterType:t.FILTER_TYPE,type:n};return this.doesFilterHaveHiddenInput(n)||(s.filter=r),s},t.prototype.getFilterType=function(){return t.FILTER_TYPE},t.prototype.areSimpleModelsEqual=function(e,t){return e.filter===t.filter&&e.type===t.type},t.prototype.resetUiToDefaults=function(t){var o=this;return e.prototype.resetUiToDefaults.call(this,t).then((function(){o.forEachInput((function(e){return e.setValue(null,t)})),o.resetPlaceholder()}))},t.prototype.resetPlaceholder=function(){var e=this.translate("filterOoo");this.forEachInput((function(t){return t.setInputPlaceholder(e)}))},t.prototype.forEachInput=function(e){ne([this.eValue1,this.eValue2],e)},t.prototype.setValueFromFloatingFilter=function(e){this.eValue1.setValue(e),this.eValue2.setValue(null)},t.prototype.getDefaultFilterOptions=function(){return t.DEFAULT_FILTER_OPTIONS},t.prototype.createValueTemplate=function(e){var t=e===fo.One?"1":"2";return'\n            <div class="ag-filter-body" ref="eCondition'+t+'Body" role="presentation">\n                <ag-input-text-field class="ag-filter-filter" ref="eValue'+t+'"></ag-input-text-field>\n            </div>'},t.prototype.updateUiVisibility=function(){e.prototype.updateUiVisibility.call(this);var t=this.showValueFrom(this.getCondition1Type());M(this.eValue1.getGui(),t);var o=this.showValueFrom(this.getCondition2Type());M(this.eValue2.getGui(),o)},t.prototype.afterGuiAttached=function(t){e.prototype.afterGuiAttached.call(this,t),this.resetPlaceholder(),this.eValue1.getInputElement().focus()},t.prototype.isConditionUiComplete=function(e){var t=e===fo.One,o=t?this.getCondition1Type():this.getCondition2Type();return o!==To.EMPTY&&(!!this.doesFilterHaveHiddenInput(o)||null!=this.getValue(t?this.eValue1:this.eValue2))},t.prototype.individualConditionPasses=function(e,t){var o=t.filter,n=t.type,i=this.textFilterParams.valueGetter(e.node),r=this.formatter(i),s=this.optionsFactory.getCustomOption(n);if(s&&(null!=o||s.hideFilterInput))return s.test(o,r);if(null==i)return n===To.NOT_EQUAL||n===To.NOT_CONTAINS;var a=this.formatter(o);return this.comparator(n,r,a)},t.FILTER_TYPE="text",t.DEFAULT_FILTER_OPTIONS=[To.CONTAINS,To.NOT_CONTAINS,To.EQUALS,To.NOT_EQUAL,To.STARTS_WITH,To.ENDS_WITH],t.DEFAULT_FORMATTER=function(e){return e},t.DEFAULT_LOWERCASE_FORMATTER=function(e){return null==e?null:e.toString().toLowerCase()},t.DEFAULT_COMPARATOR=function(e,o,n){switch(e){case t.CONTAINS:return o.indexOf(n)>=0;case t.NOT_CONTAINS:return-1===o.indexOf(n);case t.EQUALS:return o===n;case t.NOT_EQUAL:return o!=n;case t.STARTS_WITH:return 0===o.indexOf(n);case t.ENDS_WITH:var i=o.lastIndexOf(n);return i>=0&&i===o.length-n.length;default:return console.warn("invalid filter type "+e),!1}},di([co("eValue1")],t.prototype,"eValue1",void 0),di([co("eValue2")],t.prototype,"eValue2",void 0),t}(To),pi=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),gi=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},fi=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return pi(t,e),t.prototype.postConstruct=function(){this.setTemplate('\n            <div class="ag-floating-filter-input" role="presentation">\n                <ag-input-text-field ref="eFloatingFilterInput"></ag-input-text-field>\n            </div>')},t.prototype.getDefaultDebounceMs=function(){return 500},t.prototype.onParentModelChanged=function(e,t){if(!this.isEventFromFloatingFilter(t)){this.setLastTypeFromModel(e);var o=this.getTextFromModel(e);this.eFloatingFilterInput.setValue(o);var n=this.canWeEditAfterModelFromParentFilter(e);this.setEditable(n)}},t.prototype.init=function(t){e.prototype.init.call(this,t),this.params=t,this.applyActive=Eo.isUseApplyButton(this.params.filterParams);var o=Eo.getDebounceMs(this.params.filterParams,this.getDefaultDebounceMs()),n=Ie(this.syncUpWithParentFilter.bind(this),o),i=this.eFloatingFilterInput.getGui();this.addManagedListener(i,"input",n),this.addManagedListener(i,"keypress",n),this.addManagedListener(i,"keydown",n);var r=t.column.getDefinition();r.filterParams&&r.filterParams.filterOptions&&1===r.filterParams.filterOptions.length&&"inRange"===r.filterParams.filterOptions[0]&&this.eFloatingFilterInput.setDisabled(!0);var s=this.columnController.getDisplayNameForColumn(t.column,"header",!0);this.eFloatingFilterInput.setInputAriaLabel(s+" Filter Input")},t.prototype.syncUpWithParentFilter=function(e){var t=this,o=this.eFloatingFilterInput.getValue(),n=Ue(e,ze.KEY_ENTER);this.applyActive&&!n||this.params.parentFilterInstance((function(e){e&&e.onFloatingFilterChanged(t.getLastType(),o)}))},t.prototype.setEditable=function(e){this.eFloatingFilterInput.setDisabled(!e)},gi([ut("columnController")],t.prototype,"columnController",void 0),gi([co("eFloatingFilterInput")],t.prototype,"eFloatingFilterInput",void 0),gi([at],t.prototype,"postConstruct",null),t}(si),mi=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),vi=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return mi(t,e),t.prototype.getDefaultFilterOptions=function(){return Kn.DEFAULT_FILTER_OPTIONS},t.prototype.conditionToString=function(e){return e.type==To.IN_RANGE?e.filter+"-"+e.filterTo:null!=e.filter?""+e.filter:""+e.type},t}(fi),yi=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Ci=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return yi(t,e),t.prototype.conditionToString=function(e){return null!=e.filter?""+e.filter:""+e.type},t.prototype.getDefaultFilterOptions=function(){return hi.DEFAULT_FILTER_OPTIONS},t}(fi),wi=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),bi=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s};!function(e){e[e.DEFAULT=0]="DEFAULT",e[e.REGISTERED=1]="REGISTERED"}(bn||(bn={}));var Si,Ei,Ri=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.agGridDefaults={agDateInput:ii,agColumnHeader:ko,agColumnGroupHeader:Ho,agTextColumnFloatingFilter:Ci,agNumberColumnFloatingFilter:vi,agDateColumnFloatingFilter:ci,agAnimateShowChangeCellRenderer:Tn,agAnimateSlideCellRenderer:Fn,agGroupCellRenderer:Pn,agGroupRowRenderer:Pn,agLoadingCellRenderer:In,agCellEditor:yo,agTextCellEditor:yo,agSelectCellEditor:kn,agPopupTextCellEditor:Vn,agPopupSelectCellEditor:Bn,agLargeTextCellEditor:zn,agTextColumnFilter:hi,agNumberColumnFilter:Kn,agDateColumnFilter:Mo,agLoadingOverlay:Xn,agNoRowsOverlay:Jn,agTooltipComponent:ti},t.agDeprecatedNames={set:{newComponentName:"agSetColumnFilter",propertyHolder:"filter"},text:{newComponentName:"agTextColumnFilter",propertyHolder:"filter"},number:{newComponentName:"agNumberColumnFilter",propertyHolder:"filter"},date:{newComponentName:"agDateColumnFilter",propertyHolder:"filter"},group:{newComponentName:"agGroupCellRenderer",propertyHolder:"cellRenderer"},animateShowChange:{newComponentName:"agAnimateShowChangeCellRenderer",propertyHolder:"cellRenderer"},animateSlide:{newComponentName:"agAnimateSlideCellRenderer",propertyHolder:"cellRenderer"},select:{newComponentName:"agSelectCellEditor",propertyHolder:"cellEditor"},largeText:{newComponentName:"agLargeTextCellEditor",propertyHolder:"cellEditor"},popupSelect:{newComponentName:"agPopupSelectCellEditor",propertyHolder:"cellEditor"},popupText:{newComponentName:"agPopupTextCellEditor",propertyHolder:"cellEditor"},richSelect:{newComponentName:"agRichSelectCellEditor",propertyHolder:"cellEditor"},headerComponent:{newComponentName:"agColumnHeader",propertyHolder:"headerComponent"}},t.jsComponents={},t.frameworkComponents={},t}return wi(t,e),t.prototype.init=function(){var e=this;null!=this.gridOptions.components&&Object.keys(this.gridOptions.components).forEach((function(t){e.registerComponent(t,e.gridOptions.components[t])})),null!=this.gridOptions.frameworkComponents&&Object.keys(this.gridOptions.frameworkComponents).forEach((function(t){e.registerFwComponent(t,e.gridOptions.frameworkComponents[t])}))},t.prototype.registerDefaultComponent=function(e,t){var o=this.translateIfDeprecated(e);this.agGridDefaults[o]?console.error("Trying to overwrite a default component. You should call registerComponent"):this.agGridDefaults[o]=t},t.prototype.registerComponent=function(e,t){var o=this.translateIfDeprecated(e);this.frameworkComponents[o]?console.error("Trying to register a component that you have already registered for frameworks: "+o):this.jsComponents[o]=t},t.prototype.registerFwComponent=function(e,t){var o=this.translateIfDeprecated(e);this.jsComponents[o]?console.error("Trying to register a component that you have already registered for plain javascript: "+o):this.frameworkComponents[o]=t},t.prototype.retrieve=function(e){var t=this.translateIfDeprecated(e);return this.frameworkComponents[t]?{componentFromFramework:!0,component:this.frameworkComponents[t],source:bn.REGISTERED}:this.jsComponents[t]?{componentFromFramework:!1,component:this.jsComponents[t],source:bn.REGISTERED}:this.agGridDefaults[t]?this.agGridDefaults[t]?{componentFromFramework:!1,component:this.agGridDefaults[t],source:bn.DEFAULT}:null:(Object.keys(this.agGridDefaults).indexOf(t)<0&&console.warn("ag-Grid: Looking for component ["+t+"] but it wasn't found."),null)},t.prototype.translateIfDeprecated=function(e){var t=this.agDeprecatedNames[e];return null!=t?(et.doOnce((function(){console.warn("ag-grid. Since v15.0 component names have been renamed to be namespaced. You should rename "+t.propertyHolder+":"+e+" to "+t.propertyHolder+":"+t.newComponentName)}),"DEPRECATE_COMPONENT_"+e),t.newComponentName):e},bi([ut("gridOptions")],t.prototype,"gridOptions",void 0),bi([at],t.prototype,"init",null),t=bi([ct("userComponentRegistry")],t)}(xt),Pi=function(){function e(e,t){this.active=!0,this.nodeIdsToColumns={},this.mapToItems={},this.keepingColumns=e,this.pathRoot={rowNode:t,children:null},this.mapToItems[t.id]=this.pathRoot}return e.prototype.setInactive=function(){this.active=!1},e.prototype.isActive=function(){return this.active},e.prototype.depthFirstSearchChangedPath=function(e,t){if(e.children)for(var o=0;o<e.children.length;o++)this.depthFirstSearchChangedPath(e.children[o],t);t(e.rowNode)},e.prototype.depthFirstSearchEverything=function(e,t,o){if(e.childrenAfterGroup)for(var n=0;n<e.childrenAfterGroup.length;n++){var i=e.childrenAfterGroup[n];i.childrenAfterGroup?this.depthFirstSearchEverything(e.childrenAfterGroup[n],t,o):o&&t(i)}t(e)},e.prototype.forEachChangedNodeDepthFirst=function(e,t){void 0===t&&(t=!1),this.active?this.depthFirstSearchChangedPath(this.pathRoot,e):this.depthFirstSearchEverything(this.pathRoot.rowNode,e,t)},e.prototype.executeFromRootNode=function(e){e(this.pathRoot.rowNode)},e.prototype.createPathItems=function(e){for(var t=e,o=0;!this.mapToItems[t.id];){var n={rowNode:t,children:null};this.mapToItems[t.id]=n,o++,t=t.parent}return o},e.prototype.populateColumnsMap=function(e,t){var o=this;if(this.keepingColumns&&t)for(var n=e;n;)this.nodeIdsToColumns[n.id]||(this.nodeIdsToColumns[n.id]={}),t.forEach((function(e){return o.nodeIdsToColumns[n.id][e.getId()]=!0})),n=n.parent},e.prototype.linkPathItems=function(e,t){for(var o=e,n=0;n<t;n++){var i=this.mapToItems[o.id],r=this.mapToItems[o.parent.id];r.children||(r.children=[]),r.children.push(i),o=o.parent}},e.prototype.addParentNode=function(e,t){if(e&&!e.isRowPinned()){var o=this.createPathItems(e);this.linkPathItems(e,o),this.populateColumnsMap(e,t)}},e.prototype.canSkip=function(e){return this.active&&!this.mapToItems[e.id]},e.prototype.getValueColumnsForNode=function(e,t){if(!this.keepingColumns)return t;var o=this.nodeIdsToColumns[e.id];return t.filter((function(e){return o[e.getId()]}))},e.prototype.getNotValueColumnsForNode=function(e,t){if(!this.keepingColumns)return null;var o=this.nodeIdsToColumns[e.id];return t.filter((function(e){return!o[e.getId()]}))},e}(),Oi=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),xi=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Ti=function(e,t){return function(o,n){t(o,n,e)}},Di=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Oi(t,e),t.prototype.setBeans=function(e){this.logger=e.create("SelectionController"),this.reset(),this.gridOptionsWrapper.isRowModelDefault()&&this.addManagedListener(this.eventService,_t.EVENT_ROW_DATA_CHANGED,this.reset.bind(this))},t.prototype.init=function(){this.groupSelectsChildren=this.gridOptionsWrapper.isGroupSelectsChildren(),this.addManagedListener(this.eventService,_t.EVENT_ROW_SELECTED,this.onRowSelected.bind(this))},t.prototype.setLastSelectedNode=function(e){this.lastSelectedNode=e},t.prototype.getLastSelectedNode=function(){return this.lastSelectedNode},t.prototype.getSelectedNodes=function(){var e=[];return et.iterateObject(this.selectedNodes,(function(t,o){o&&e.push(o)})),e},t.prototype.getSelectedRows=function(){var e=[];return et.iterateObject(this.selectedNodes,(function(t,o){o&&o.data&&e.push(o.data)})),e},t.prototype.removeGroupsFromSelection=function(){var e=this;et.iterateObject(this.selectedNodes,(function(t,o){o&&o.group&&(e.selectedNodes[o.id]=void 0)}))},t.prototype.updateGroupsFromChildrenSelections=function(e){if(this.gridOptionsWrapper.isGroupSelectsChildren()&&this.rowModel.getType()===ze.ROW_MODEL_TYPE_CLIENT_SIDE){var t=this.rowModel.getRootNode();e||(e=new Pi(!0,t)).setInactive(),e.forEachChangedNodeDepthFirst((function(e){e!==t&&e.calculateSelectedFromChildren()}))}},t.prototype.getNodeForIdIfSelected=function(e){return this.selectedNodes[e]},t.prototype.clearOtherNodes=function(e){var t=this,o={},n=0;return et.iterateObject(this.selectedNodes,(function(i,r){if(r&&r.id!==e.id){var s=t.selectedNodes[r.id];n+=s.setSelectedParams({newValue:!1,clearSelection:!1,suppressFinishActions:!0}),t.groupSelectsChildren&&r.parent&&(o[r.parent.id]=r.parent)}})),et.iterateObject(o,(function(e,t){t.calculateSelectedFromChildren()})),n},t.prototype.onRowSelected=function(e){var t=e.node;this.groupSelectsChildren&&t.group||(t.isSelected()?this.selectedNodes[t.id]=t:this.selectedNodes[t.id]=void 0)},t.prototype.syncInRowNode=function(e,t){this.syncInOldRowNode(e,t),this.syncInNewRowNode(e)},t.prototype.syncInOldRowNode=function(e,t){et.exists(t)&&e.id!==t.id&&(et.exists(this.selectedNodes[t.id])&&(this.selectedNodes[t.id]=t))},t.prototype.syncInNewRowNode=function(e){et.exists(this.selectedNodes[e.id])?(e.setSelectedInitialValue(!0),this.selectedNodes[e.id]=e):e.setSelectedInitialValue(!1)},t.prototype.reset=function(){this.logger.log("reset"),this.selectedNodes={},this.lastSelectedNode=null},t.prototype.getBestCostNodeSelection=function(){if(this.rowModel.getType()===ze.ROW_MODEL_TYPE_CLIENT_SIDE){var e=this.rowModel.getTopLevelNodes();if(null!==e){var t=[];return function e(o){for(var n=0,i=o.length;n<i;n++){var r=o[n];r.isSelected()?t.push(r):r.group&&r.children&&e(r.children)}}(e),t}console.warn("selectAll not available doing rowModel=virtual")}else console.warn("getBestCostNodeSelection is only available when using normal row model")},t.prototype.setRowModel=function(e){this.rowModel=e},t.prototype.isEmpty=function(){var e=0;return et.iterateObject(this.selectedNodes,(function(t,o){o&&e++})),0===e},t.prototype.deselectAllRowNodes=function(e){void 0===e&&(e=!1);var t=function(e){return e.selectThisNode(!1)},o=this.rowModel.getType()===ze.ROW_MODEL_TYPE_CLIENT_SIDE;if(e){if(!o)return void console.error("ag-Grid: selecting just filtered only works with In Memory Row Model");this.rowModel.forEachNodeAfterFilter(t)}else et.iterateObject(this.selectedNodes,(function(e,o){o&&t(o)})),this.reset();o&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections();var n={type:_t.EVENT_SELECTION_CHANGED,api:this.gridApi,columnApi:this.columnApi};this.eventService.dispatchEvent(n)},t.prototype.selectAllRowNodes=function(e){if(void 0===e&&(e=!1),this.rowModel.getType()!==ze.ROW_MODEL_TYPE_CLIENT_SIDE)throw new Error("selectAll only available with normal row model, ie not "+this.rowModel.getType());var t=this.rowModel,o=function(e){return e.selectThisNode(!0)};e?t.forEachNodeAfterFilter(o):t.forEachNode(o),this.rowModel.getType()===ze.ROW_MODEL_TYPE_CLIENT_SIDE&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections();var n={type:_t.EVENT_SELECTION_CHANGED,api:this.gridApi,columnApi:this.columnApi};this.eventService.dispatchEvent(n)},t.prototype.selectNode=function(e,t){e&&e.setSelectedParams({newValue:!0,clearSelection:!t})},t.prototype.deselectIndex=function(e){var t=this.rowModel.getRow(e);this.deselectNode(t)},t.prototype.deselectNode=function(e){e&&e.setSelectedParams({newValue:!1,clearSelection:!1})},t.prototype.selectIndex=function(e,t){var o=this.rowModel.getRow(e);this.selectNode(o,t)},xi([ut("rowModel")],t.prototype,"rowModel",void 0),xi([ut("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),xi([ut("columnApi")],t.prototype,"columnApi",void 0),xi([ut("gridApi")],t.prototype,"gridApi",void 0),xi([Ti(0,pt("loggerFactory"))],t.prototype,"setBeans",null),xi([at],t.prototype,"init",null),t=xi([ct("selectionController")],t)}(xt),Ai=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Fi=function(){function e(){}return e.prototype.sizeColumnsToFit=function(e){"undefined"===typeof e&&console.error("ag-Grid: missing parameter to columnApi.sizeColumnsToFit(gridWidth)"),this.columnController.sizeColumnsToFit(e,"api")},e.prototype.setColumnGroupOpened=function(e,t){this.columnController.setColumnGroupOpened(e,t,"api")},e.prototype.getColumnGroup=function(e,t){return this.columnController.getColumnGroup(e,t)},e.prototype.getOriginalColumnGroup=function(e){return this.columnController.getOriginalColumnGroup(e)},e.prototype.getDisplayNameForColumn=function(e,t){return this.columnController.getDisplayNameForColumn(e,t)||""},e.prototype.getDisplayNameForColumnGroup=function(e,t){return this.columnController.getDisplayNameForColumnGroup(e,t)||""},e.prototype.getColumn=function(e){return this.columnController.getPrimaryColumn(e)},e.prototype.setColumnState=function(e){return this.columnController.setColumnState(e,!1,"api")},e.prototype.getColumnState=function(){return this.columnController.getColumnState()},e.prototype.resetColumnState=function(){this.columnController.resetColumnState(!1,"api")},e.prototype.getColumnGroupState=function(){return this.columnController.getColumnGroupState()},e.prototype.setColumnGroupState=function(e){this.columnController.setColumnGroupState(e,"api")},e.prototype.resetColumnGroupState=function(){this.columnController.resetColumnGroupState("api")},e.prototype.isPinning=function(){return this.columnController.isPinningLeft()||this.columnController.isPinningRight()},e.prototype.isPinningLeft=function(){return this.columnController.isPinningLeft()},e.prototype.isPinningRight=function(){return this.columnController.isPinningRight()},e.prototype.getDisplayedColAfter=function(e){return this.columnController.getDisplayedColAfter(e)},e.prototype.getDisplayedColBefore=function(e){return this.columnController.getDisplayedColBefore(e)},e.prototype.setColumnVisible=function(e,t){this.columnController.setColumnVisible(e,t,"api")},e.prototype.setColumnsVisible=function(e,t){this.columnController.setColumnsVisible(e,t,"api")},e.prototype.setColumnPinned=function(e,t){this.columnController.setColumnPinned(e,t,"api")},e.prototype.setColumnsPinned=function(e,t){this.columnController.setColumnsPinned(e,t,"api")},e.prototype.getAllColumns=function(){return this.columnController.getAllPrimaryColumns()},e.prototype.getAllGridColumns=function(){return this.columnController.getAllGridColumns()},e.prototype.getDisplayedLeftColumns=function(){return this.columnController.getDisplayedLeftColumns()},e.prototype.getDisplayedCenterColumns=function(){return this.columnController.getDisplayedCenterColumns()},e.prototype.getDisplayedRightColumns=function(){return this.columnController.getDisplayedRightColumns()},e.prototype.getAllDisplayedColumns=function(){return this.columnController.getAllDisplayedColumns()},e.prototype.getAllDisplayedVirtualColumns=function(){return this.columnController.getAllDisplayedVirtualColumns()},e.prototype.moveColumn=function(e,t){"number"===typeof e?(console.warn("ag-Grid: you are using moveColumn(fromIndex, toIndex) - moveColumn takes a column key and a destination index, not two indexes, to move with indexes use moveColumnByIndex(from,to) instead"),this.columnController.moveColumnByIndex(e,t,"api")):this.columnController.moveColumn(e,t,"api")},e.prototype.moveColumnByIndex=function(e,t){this.columnController.moveColumnByIndex(e,t,"api")},e.prototype.moveColumns=function(e,t){this.columnController.moveColumns(e,t,"api")},e.prototype.moveRowGroupColumn=function(e,t){this.columnController.moveRowGroupColumn(e,t)},e.prototype.setColumnAggFunc=function(e,t){this.columnController.setColumnAggFunc(e,t)},e.prototype.setColumnWidth=function(e,t,o){void 0===o&&(o=!0),this.columnController.setColumnWidths([{key:e,newWidth:t}],!1,o)},e.prototype.setColumnWidths=function(e,t){void 0===t&&(t=!0),this.columnController.setColumnWidths(e,!1,t)},e.prototype.setPivotMode=function(e){this.columnController.setPivotMode(e)},e.prototype.isPivotMode=function(){return this.columnController.isPivotMode()},e.prototype.getSecondaryPivotColumn=function(e,t){return this.columnController.getSecondaryPivotColumn(e,t)},e.prototype.setValueColumns=function(e){this.columnController.setValueColumns(e,"api")},e.prototype.getValueColumns=function(){return this.columnController.getValueColumns()},e.prototype.removeValueColumn=function(e){this.columnController.removeValueColumn(e,"api")},e.prototype.removeValueColumns=function(e){this.columnController.removeValueColumns(e,"api")},e.prototype.addValueColumn=function(e){this.columnController.addValueColumn(e,"api")},e.prototype.addValueColumns=function(e){this.columnController.addValueColumns(e,"api")},e.prototype.setRowGroupColumns=function(e){this.columnController.setRowGroupColumns(e,"api")},e.prototype.removeRowGroupColumn=function(e){this.columnController.removeRowGroupColumn(e,"api")},e.prototype.removeRowGroupColumns=function(e){this.columnController.removeRowGroupColumns(e,"api")},e.prototype.addRowGroupColumn=function(e){this.columnController.addRowGroupColumn(e,"api")},e.prototype.addRowGroupColumns=function(e){this.columnController.addRowGroupColumns(e,"api")},e.prototype.getRowGroupColumns=function(){return this.columnController.getRowGroupColumns()},e.prototype.setPivotColumns=function(e){this.columnController.setPivotColumns(e,"api")},e.prototype.removePivotColumn=function(e){this.columnController.removePivotColumn(e,"api")},e.prototype.removePivotColumns=function(e){this.columnController.removePivotColumns(e,"api")},e.prototype.addPivotColumn=function(e){this.columnController.addPivotColumn(e,"api")},e.prototype.addPivotColumns=function(e){this.columnController.addPivotColumns(e,"api")},e.prototype.getPivotColumns=function(){return this.columnController.getPivotColumns()},e.prototype.getLeftDisplayedColumnGroups=function(){return this.columnController.getLeftDisplayedColumnGroups()},e.prototype.getCenterDisplayedColumnGroups=function(){return this.columnController.getCenterDisplayedColumnGroups()},e.prototype.getRightDisplayedColumnGroups=function(){return this.columnController.getRightDisplayedColumnGroups()},e.prototype.getAllDisplayedColumnGroups=function(){return this.columnController.getAllDisplayedColumnGroups()},e.prototype.autoSizeColumn=function(e,t){return this.columnController.autoSizeColumn(e,t,"api")},e.prototype.autoSizeColumns=function(e,t){return this.columnController.autoSizeColumns(e,t,"api")},e.prototype.autoSizeAllColumns=function(e){this.columnController.autoSizeAllColumns(e,"api")},e.prototype.setSecondaryColumns=function(e){this.columnController.setSecondaryColumns(e,"api")},e.prototype.getSecondaryColumns=function(){return this.columnController.getSecondaryColumns()},e.prototype.getPrimaryColumns=function(){return this.columnController.getAllPrimaryColumns()},e.prototype.columnGroupOpened=function(e,t){console.error("ag-Grid: columnGroupOpened no longer exists, use setColumnGroupOpened"),this.setColumnGroupOpened(e,t)},e.prototype.hideColumns=function(e,t){console.error("ag-Grid: hideColumns is deprecated, use setColumnsVisible"),this.columnController.setColumnsVisible(e,!t,"api")},e.prototype.hideColumn=function(e,t){console.error("ag-Grid: hideColumn is deprecated, use setColumnVisible"),this.columnController.setColumnVisible(e,!t,"api")},e.prototype.setState=function(e){return console.error("ag-Grid: setState is deprecated, use setColumnState"),this.setColumnState(e)},e.prototype.getState=function(){return console.error("ag-Grid: getState is deprecated, use getColumnState"),this.getColumnState()},e.prototype.resetState=function(){console.error("ag-Grid: resetState is deprecated, use resetColumnState"),this.resetColumnState()},e.prototype.getAggregationColumns=function(){return console.error("ag-Grid: getAggregationColumns is deprecated, use getValueColumns"),this.columnController.getValueColumns()},e.prototype.removeAggregationColumn=function(e){console.error("ag-Grid: removeAggregationColumn is deprecated, use removeValueColumn"),this.columnController.removeValueColumn(e,"api")},e.prototype.removeAggregationColumns=function(e){console.error("ag-Grid: removeAggregationColumns is deprecated, use removeValueColumns"),this.columnController.removeValueColumns(e,"api")},e.prototype.addAggregationColumn=function(e){console.error("ag-Grid: addAggregationColumn is deprecated, use addValueColumn"),this.columnController.addValueColumn(e,"api")},e.prototype.addAggregationColumns=function(e){console.error("ag-Grid: addAggregationColumns is deprecated, use addValueColumns"),this.columnController.addValueColumns(e,"api")},e.prototype.setColumnAggFunction=function(e,t){console.error("ag-Grid: setColumnAggFunction is deprecated, use setColumnAggFunc"),this.columnController.setColumnAggFunc(e,t,"api")},e.prototype.getDisplayNameForCol=function(e){return console.error("ag-Grid: getDisplayNameForCol is deprecated, use getDisplayNameForColumn"),this.getDisplayNameForColumn(e,null)},Ai([ut("columnController")],e.prototype,"columnController",void 0),e=Ai([ct("columnApi")],e)}();(Si=t.SelectionHandleType||(t.SelectionHandleType={}))[Si.FILL=0]="FILL",Si[Si.RANGE=1]="RANGE",(Ei=t.CellRangeType||(t.CellRangeType={}))[Ei.VALUE=0]="VALUE",Ei[Ei.DIMENSION=1]="DIMENSION";var _i,Mi,Ii,Li=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Ni=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s};(_i=t.DragSourceType||(t.DragSourceType={}))[_i.ToolPanel=0]="ToolPanel",_i[_i.HeaderCell=1]="HeaderCell",_i[_i.RowDrag=2]="RowDrag",_i[_i.ChartPanel=3]="ChartPanel",(Mi=t.VerticalDirection||(t.VerticalDirection={}))[Mi.Up=0]="Up",Mi[Mi.Down=1]="Down",(Ii=t.HorizontalDirection||(t.HorizontalDirection={}))[Ii.Left=0]="Left",Ii[Ii.Right=1]="Right";var ki,Gi=function(e){function o(){var t=null!==e&&e.apply(this,arguments)||this;return t.dragSourceAndParamsList=[],t.dropTargets=[],t}var n;return Li(o,e),n=o,o.prototype.init=function(){this.ePinnedIcon=et.createIcon("columnMovePin",this.gridOptionsWrapper,null),this.eHideIcon=et.createIcon("columnMoveHide",this.gridOptionsWrapper,null),this.eMoveIcon=et.createIcon("columnMoveMove",this.gridOptionsWrapper,null),this.eLeftIcon=et.createIcon("columnMoveLeft",this.gridOptionsWrapper,null),this.eRightIcon=et.createIcon("columnMoveRight",this.gridOptionsWrapper,null),this.eGroupIcon=et.createIcon("columnMoveGroup",this.gridOptionsWrapper,null),this.eAggregateIcon=et.createIcon("columnMoveValue",this.gridOptionsWrapper,null),this.ePivotIcon=et.createIcon("columnMovePivot",this.gridOptionsWrapper,null),this.eDropNotAllowedIcon=et.createIcon("dropNotAllowed",this.gridOptionsWrapper,null)},o.prototype.addDragSource=function(e,t){void 0===t&&(t=!1);var o={eElement:e.eElement,dragStartPixels:e.dragStartPixels,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this),onDragging:this.onDragging.bind(this)};this.dragSourceAndParamsList.push({params:o,dragSource:e}),this.dragService.addDragSource(o,t)},o.prototype.removeDragSource=function(e){var t=et.find(this.dragSourceAndParamsList,(function(t){return t.dragSource===e}));t&&(this.dragService.removeDragSource(t.params),et.removeFromArray(this.dragSourceAndParamsList,t))},o.prototype.clearDragSourceParamsList=function(){var e=this;this.dragSourceAndParamsList.forEach((function(t){return e.dragService.removeDragSource(t.params)})),this.dragSourceAndParamsList.length=0},o.prototype.nudge=function(){this.dragging&&this.onDragging(this.eventLastTime,!0)},o.prototype.onDragStart=function(e,t){this.dragging=!0,this.dragSource=e,this.eventLastTime=t,this.dragItem=this.dragSource.getDragItem(),this.lastDropTarget=this.dragSource.dragSourceDropTarget,this.dragSource.onDragStarted&&this.dragSource.onDragStarted(),this.createGhost()},o.prototype.onDragStop=function(e){if(this.eventLastTime=null,this.dragging=!1,this.dragSource.onDragStopped&&this.dragSource.onDragStopped(),this.lastDropTarget&&this.lastDropTarget.onDragStop){var t=this.createDropTargetEvent(this.lastDropTarget,e,null,null,!1);this.lastDropTarget.onDragStop(t)}this.lastDropTarget=null,this.dragItem=null,this.removeGhost()},o.prototype.onDragging=function(e,t){var o=this.getHorizontalDirection(e),n=this.getVerticalDirection(e);this.eventLastTime=e,this.positionGhost(e);var i=et.find(this.dropTargets,this.isMouseOnDropTarget.bind(this,e));if(i!==this.lastDropTarget)this.leaveLastTargetIfExists(e,o,n,t),this.enterDragTargetIfExists(i,e,o,n,t),this.lastDropTarget=i;else if(i&&i.onDragging){var r=this.createDropTargetEvent(i,e,o,n,t);i.onDragging(r)}},o.prototype.enterDragTargetIfExists=function(e,t,o,n,i){if(e){if(e.onDragEnter){var r=this.createDropTargetEvent(e,t,o,n,i);e.onDragEnter(r)}this.setGhostIcon(e.getIconName?e.getIconName():null)}},o.prototype.leaveLastTargetIfExists=function(e,t,o,n){if(this.lastDropTarget){if(this.lastDropTarget.onDragLeave){var i=this.createDropTargetEvent(this.lastDropTarget,e,t,o,n);this.lastDropTarget.onDragLeave(i)}this.setGhostIcon(null)}},o.prototype.getAllContainersFromDropTarget=function(e){var t=[e.getContainer()],o=e.getSecondaryContainers?e.getSecondaryContainers():null;return o&&(t=t.concat(o)),t},o.prototype.isMouseOnDropTarget=function(e,t){var o=!1;return this.getAllContainersFromDropTarget(t).filter((function(e){return e})).forEach((function(t){var n=t.getBoundingClientRect();if(0!==n.width&&0!==n.height){var i=e.clientX>=n.left&&e.clientX<=n.right,r=e.clientY>=n.top&&e.clientY<=n.bottom;i&&r&&(o=!0)}})),o&&t.isInterestedIn(this.dragSource.type)},o.prototype.addDropTarget=function(e){this.dropTargets.push(e)},o.prototype.removeDropTarget=function(e){this.dropTargets=this.dropTargets.filter((function(t){return t.getContainer()!==e.getContainer()}))},o.prototype.hasExternalDropZones=function(){return this.dropTargets.some((function(e){return e.external}))},o.prototype.findExternalZone=function(e){var t=this.dropTargets.filter((function(e){return e.external}));return et.find(t,(function(t){return t.getContainer()===e.getContainer()}))},o.prototype.getHorizontalDirection=function(e){var o=this.eventLastTime.clientX,n=e.clientX;return o===n?null:o>n?t.HorizontalDirection.Left:t.HorizontalDirection.Right},o.prototype.getVerticalDirection=function(e){var o=this.eventLastTime.clientY,n=e.clientY;return o===n?null:o>n?t.VerticalDirection.Up:t.VerticalDirection.Down},o.prototype.createDropTargetEvent=function(e,t,o,n,i){var r=e.getContainer(),s=r.getBoundingClientRect(),a=this,l=a.gridApi,c=a.columnApi,u=a.dragItem,d=a.dragSource;return{event:t,x:t.clientX-s.left,y:t.clientY-s.top,vDirection:n,hDirection:o,dragSource:d,fromNudge:i,dragItem:u,api:l,columnApi:c,dropZoneTarget:r}},o.prototype.positionGhost=function(e){var t=this.eGhost,o=t.getBoundingClientRect().height,n=et.getBodyWidth()-2,i=et.getBodyHeight()-2,r=e.pageY-o/2,s=e.pageX-10,a=this.gridOptionsWrapper.getDocument(),l=window.pageYOffset||a.documentElement.scrollTop,c=window.pageXOffset||a.documentElement.scrollLeft;n>0&&s+t.clientWidth>n+c&&(s=n+c-t.clientWidth),s<0&&(s=0),i>0&&r+t.clientHeight>i+l&&(r=i+l-t.clientHeight),r<0&&(r=0),t.style.left=s+"px",t.style.top=r+"px"},o.prototype.removeGhost=function(){this.eGhost&&this.eGhostParent&&this.eGhostParent.removeChild(this.eGhost),this.eGhost=null},o.prototype.createGhost=function(){this.eGhost=et.loadTemplate(n.GHOST_TEMPLATE);var e=this.environment.getTheme().theme;e&&et.addCssClass(this.eGhost,e),this.eGhostIcon=this.eGhost.querySelector(".ag-dnd-ghost-icon"),this.setGhostIcon(null);var t=this.eGhost.querySelector(".ag-dnd-ghost-label"),o=this.dragSource.dragItemName;et.isFunction(o)&&(o=o()),t.innerHTML=et.escape(o),this.eGhost.style.height="25px",this.eGhost.style.top="20px",this.eGhost.style.left="20px";var i=this.gridOptionsWrapper.getDocument();this.eGhostParent=i.querySelector("body"),this.eGhostParent?this.eGhostParent.appendChild(this.eGhost):console.warn("ag-Grid: could not find document body, it is needed for dragging columns")},o.prototype.setGhostIcon=function(e,t){var o;switch(void 0===t&&(t=!1),et.clearElement(this.eGhostIcon),e||(e=this.dragSource.defaultIconName||n.ICON_NOT_ALLOWED),e){case n.ICON_PINNED:o=this.ePinnedIcon;break;case n.ICON_MOVE:o=this.eMoveIcon;break;case n.ICON_LEFT:o=this.eLeftIcon;break;case n.ICON_RIGHT:o=this.eRightIcon;break;case n.ICON_GROUP:o=this.eGroupIcon;break;case n.ICON_AGGREGATE:o=this.eAggregateIcon;break;case n.ICON_PIVOT:o=this.ePivotIcon;break;case n.ICON_NOT_ALLOWED:o=this.eDropNotAllowedIcon;break;case n.ICON_HIDE:o=this.eHideIcon}et.addOrRemoveCssClass(this.eGhostIcon,"ag-shake-left-to-right",t),o===this.eHideIcon&&this.gridOptionsWrapper.isSuppressDragLeaveHidesColumns()||o&&this.eGhostIcon.appendChild(o)},o.ICON_PINNED="pinned",o.ICON_MOVE="move",o.ICON_LEFT="left",o.ICON_RIGHT="right",o.ICON_GROUP="group",o.ICON_AGGREGATE="aggregate",o.ICON_PIVOT="pivot",o.ICON_NOT_ALLOWED="notAllowed",o.ICON_HIDE="hide",o.GHOST_TEMPLATE='<div class="ag-dnd-ghost ag-unselectable">\n            <span class="ag-dnd-ghost-icon ag-shake-left-to-right"></span>\n            <div class="ag-dnd-ghost-label"></div>\n        </div>',Ni([ut("gridOptionsWrapper")],o.prototype,"gridOptionsWrapper",void 0),Ni([ut("dragService")],o.prototype,"dragService",void 0),Ni([ut("environment")],o.prototype,"environment",void 0),Ni([ut("columnApi")],o.prototype,"columnApi",void 0),Ni([ut("gridApi")],o.prototype,"gridApi",void 0),Ni([at],o.prototype,"init",null),Ni([lt],o.prototype,"clearDragSourceParamsList",null),o=n=Ni([ct("dragAndDropService")],o)}(xt),Vi=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Hi=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Bi=function(e){function o(t,o,n,i){var r=e.call(this,'<div class="ag-drag-handle ag-row-drag" role="presentation"></div>')||this;return r.rowNode=t,r.column=o,r.cellValue=n,r.beans=i,r}return Vi(o,e),o.prototype.postConstruct=function(){this.getGui().appendChild(et.createIconNoSpan("rowDrag",this.beans.gridOptionsWrapper,null)),this.addDragSource(),this.checkCompatibility();var e=this.beans.gridOptionsWrapper.isRowDragManaged()?new zi(this,this.beans,this.rowNode,this.column):new ji(this,this.beans,this.rowNode,this.column);this.createManagedBean(e,this.beans.context)},o.prototype.getSelectedCount=function(){if(!this.beans.gridOptionsWrapper.isEnableMultiRowDragging())return 1;var e=this.beans.selectionController.getSelectedNodes();return-1!==e.indexOf(this.rowNode)?e.length:1},o.prototype.checkCompatibility=function(){var e=this.beans.gridOptionsWrapper.isRowDragManaged();this.beans.gridOptionsWrapper.isTreeData()&&e&&et.doOnce((function(){return console.warn("ag-Grid: If using row drag with tree data, you cannot have rowDragManaged=true")}),"RowDragComp.managedAndTreeData")},o.prototype.addDragSource=function(){var e=this,o={rowNode:this.rowNode,columns:[this.column],defaultTextValue:this.cellValue},n=this.column.getColDef().rowDragText,i={type:t.DragSourceType.RowDrag,eElement:this.getGui(),dragItemName:function(){var t=e.getSelectedCount();return n?n(o,t):1===t?e.cellValue:t+" rows"},getDragItem:function(){return o},dragStartPixels:0};this.beans.dragAndDropService.addDragSource(i,!0),this.addDestroyFunc((function(){return e.beans.dragAndDropService.removeDragSource(i)}))},Hi([at],o.prototype,"postConstruct",null),o}(so),Wi=function(e){function t(t,o,n){var i=e.call(this)||this;return i.parent=t,i.column=n,i.rowNode=o,i}return Vi(t,e),t.prototype.setDisplayedOrVisible=function(e){if(e)this.parent.setDisplayed(!1);else{var t=this.column.isRowDrag(this.rowNode);et.isFunction(this.column.getColDef().rowDrag)?(this.parent.setDisplayed(!0),this.parent.setVisible(t)):this.parent.setDisplayed(t)}},t}(xt),ji=function(e){function t(t,o,n,i){var r=e.call(this,t,n,i)||this;return r.beans=o,r}return Vi(t,e),t.prototype.postConstruct=function(){this.addManagedListener(this.beans.gridOptionsWrapper,"suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.addManagedListener(this.rowNode,Wo.EVENT_DATA_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,Wo.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.workOutVisibility()},t.prototype.onSuppressRowDrag=function(){this.workOutVisibility()},t.prototype.workOutVisibility=function(){var e=this.beans.gridOptionsWrapper.isSuppressRowDrag();this.setDisplayedOrVisible(e)},Hi([at],t.prototype,"postConstruct",null),t}(Wi),zi=function(e){function t(t,o,n,i){var r=e.call(this,t,n,i)||this;return r.beans=o,r}return Vi(t,e),t.prototype.postConstruct=function(){this.addManagedListener(this.beans.eventService,_t.EVENT_SORT_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,_t.EVENT_FILTER_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,_t.EVENT_COLUMN_ROW_GROUP_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,Wo.EVENT_DATA_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,Wo.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.gridOptionsWrapper,"suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.workOutVisibility()},t.prototype.onSuppressRowDrag=function(){this.workOutVisibility()},t.prototype.workOutVisibility=function(){var e=this.beans.gridPanel.getRowDragFeature(),t=e&&e.shouldPreventRowMove(),o=this.beans.gridOptionsWrapper.isSuppressRowDrag(),n=this.beans.dragAndDropService.hasExternalDropZones(),i=t&&!n||o;this.setDisplayedOrVisible(i)},Hi([at],t.prototype,"postConstruct",null),t}(Wi),Ui=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),$i=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Ki=function(e){function t(t){var o=e.call(this,'<div class="ag-popup-editor" tabindex="-1"/>')||this;return o.getGuiCalledOnChild=!1,o.cellEditor=t,o}return Ui(t,e),t.prototype.onKeyDown=function(e){et.isUserSuppressingKeyboardEvent(this.gridOptionsWrapper,e,this.params.node,this.params.column,!0)||this.params.onKeyDown(e)},t.prototype.getGui=function(){return this.getGuiCalledOnChild||(this.appendChild(this.cellEditor.getGui()),this.getGuiCalledOnChild=!0),e.prototype.getGui.call(this)},t.prototype.init=function(o){var n=this;this.params=o,this.gridOptionsWrapper.setDomData(this.getGui(),t.DOM_KEY_POPUP_EDITOR_WRAPPER,!0),this.addDestroyFunc((function(){return n.destroyBean(n.cellEditor)})),this.addManagedListener(e.prototype.getGui.call(this),"keydown",this.onKeyDown.bind(this))},t.prototype.afterGuiAttached=function(){this.cellEditor.afterGuiAttached&&this.cellEditor.afterGuiAttached()},t.prototype.getValue=function(){return this.cellEditor.getValue()},t.prototype.isCancelBeforeStart=function(){if(this.cellEditor.isCancelBeforeStart)return this.cellEditor.isCancelBeforeStart()},t.prototype.isCancelAfterEnd=function(){if(this.cellEditor.isCancelAfterEnd)return this.cellEditor.isCancelAfterEnd()},t.prototype.getPopupPosition=function(){if(this.cellEditor.getPopupPosition)return this.cellEditor.getPopupPosition()},t.prototype.focusIn=function(){this.cellEditor.focusIn&&this.cellEditor.focusIn()},t.prototype.focusOut=function(){this.cellEditor.focusOut&&this.cellEditor.focusOut()},t.DOM_KEY_POPUP_EDITOR_WRAPPER="popupEditorWrapper",$i([ut("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),t}(lo),Yi=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),qi=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Xi=function(e){function t(t,o,n,i,r){var s=e.call(this,'<div class="ag-drag-handle ag-row-drag" draggable="true"></div>')||this;return s.rowNode=t,s.column=o,s.cellValue=n,s.beans=i,s.eCell=r,s}return Yi(t,e),t.prototype.postConstruct=function(){this.getGui().appendChild(et.createIconNoSpan("rowDrag",this.beans.gridOptionsWrapper,null)),this.addDragSource(),this.checkVisibility()},t.prototype.addDragSource=function(){this.addGuiEventListener("dragstart",this.onDragStart.bind(this))},t.prototype.onDragStart=function(e){var t=this,o=this.column.getColDef().dndSourceOnRowDrag,n=et.isBrowserIE();n||e.dataTransfer.setDragImage(this.eCell,0,0);o?o({rowNode:this.rowNode,dragEvent:e}):function(){try{var o=JSON.stringify(t.rowNode.data);n?e.dataTransfer.setData("text",o):(e.dataTransfer.setData("application/json",o),e.dataTransfer.setData("text/plain",o))}catch(i){}}()},t.prototype.checkVisibility=function(){var e=this.column.isDndSource(this.rowNode);this.setDisplayed(e)},qi([at],t.prototype,"postConstruct",null),t}(so),Qi=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Zi=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s};!function(e){e[e.NOTHING=0]="NOTHING",e[e.WAITING_TO_SHOW=1]="WAITING_TO_SHOW",e[e.SHOWING=2]="SHOWING"}(ki||(ki={}));var Ji,er=function(e){function t(t,o){var n=e.call(this)||this;return n.DEFAULT_HIDE_TOOLTIP_TIMEOUT=1e4,n.SHOW_QUICK_TOOLTIP_DIFF=1e3,n.FADE_OUT_TOOLTIP_TIMEOUT=1e3,n.state=ki.NOTHING,n.tooltipInstanceCount=0,n.tooltipMouseTrack=!1,n.parentComp=t,n.location=o,n}return Qi(t,e),t.prototype.postConstruct=function(){this.tooltipShowDelay=this.gridOptionsWrapper.getTooltipShowDelay()||2e3,this.tooltipMouseTrack=this.gridOptionsWrapper.isTooltipMouseTrack();var e=this.parentComp.getGui();this.addManagedListener(e,"mouseenter",this.onMouseEnter.bind(this)),this.addManagedListener(e,"mouseleave",this.onMouseLeave.bind(this)),this.addManagedListener(e,"mousemove",this.onMouseMove.bind(this)),this.addManagedListener(e,"mousedown",this.onMouseDown.bind(this))},t.prototype.destroy=function(){this.setToDoNothing(),e.prototype.destroy.call(this)},t.prototype.onMouseEnter=function(e){var t=this.isLastTooltipHiddenRecently()?200:this.tooltipShowDelay;this.showTooltipTimeoutId=window.setTimeout(this.showTooltip.bind(this),t),this.lastMouseEvent=e,this.state=ki.WAITING_TO_SHOW},t.prototype.onMouseLeave=function(){this.setToDoNothing()},t.prototype.setToDoNothing=function(){this.state===ki.SHOWING&&this.hideTooltip(),this.clearTimeouts(),this.state=ki.NOTHING},t.prototype.onMouseMove=function(e){this.lastMouseEvent=e,this.tooltipMouseTrack&&this.state===ki.SHOWING&&this.tooltipComp&&this.positionTooltipUnderLastMouseEvent()},t.prototype.onMouseDown=function(){this.setToDoNothing()},t.prototype.hideTooltip=function(){this.tooltipComp&&(this.destroyTooltipComp(),t.lastTooltipHideTime=(new Date).getTime()),this.state=ki.NOTHING},t.prototype.destroyTooltipComp=function(){var e=this;et.addCssClass(this.tooltipComp.getGui(),"ag-tooltip-hiding");var t=this.tooltipPopupDestroyFunc,o=this.tooltipComp;window.setTimeout((function(){t(),e.getContext().destroyBean(o)}),this.FADE_OUT_TOOLTIP_TIMEOUT),this.tooltipPopupDestroyFunc=void 0,this.tooltipComp=void 0},t.prototype.isLastTooltipHiddenRecently=function(){return(new Date).getTime()-t.lastTooltipHideTime<this.SHOW_QUICK_TOOLTIP_DIFF},t.prototype.showTooltip=function(){var e=this.parentComp.getTooltipText();if(e){this.state=ki.SHOWING,this.tooltipInstanceCount++;var t={location:this.location,api:this.gridApi,columnApi:this.columnApi,colDef:this.parentComp.getComponentHolder(),column:this.parentComp.getColumn,context:this.gridOptionsWrapper.getContext(),rowIndex:this.parentComp.getCellPosition&&this.parentComp.getCellPosition().rowIndex,value:e},o=this.newTooltipComponentCallback.bind(this,this.tooltipInstanceCount);this.userComponentFactory.newTooltipComponent(t).then(o)}else this.setToDoNothing()},t.prototype.newTooltipComponentCallback=function(e,t){if(this.state!==ki.SHOWING||this.tooltipInstanceCount!==e)this.getContext().destroyBean(t);else{var o=t.getGui();this.tooltipComp=t,et.containsClass(o,"ag-tooltip")||et.addCssClass(o,"ag-tooltip-custom"),this.tooltipPopupDestroyFunc=this.popupService.addPopup(!1,o,!1),this.positionTooltipUnderLastMouseEvent(),this.hideTooltipTimeoutId=window.setTimeout(this.hideTooltip.bind(this),this.DEFAULT_HIDE_TOOLTIP_TIMEOUT)}},t.prototype.positionTooltipUnderLastMouseEvent=function(){this.popupService.positionPopupUnderMouseEvent({type:"tooltip",mouseEvent:this.lastMouseEvent,ePopup:this.tooltipComp.getGui(),nudgeY:18})},t.prototype.clearTimeouts=function(){this.showTooltipTimeoutId&&(window.clearTimeout(this.showTooltipTimeoutId),this.showTooltipTimeoutId=void 0),this.hideTooltipTimeoutId&&(window.clearTimeout(this.hideTooltipTimeoutId),this.hideTooltipTimeoutId=void 0)},Zi([ut("popupService")],t.prototype,"popupService",void 0),Zi([ut("userComponentFactory")],t.prototype,"userComponentFactory",void 0),Zi([ut("columnApi")],t.prototype,"columnApi",void 0),Zi([ut("gridApi")],t.prototype,"gridApi",void 0),Zi([ut("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),Zi([at],t.prototype,"postConstruct",null),t}(xt),tr=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),or=function(){return or=Object.assign||function(e){for(var t,o=1,n=arguments.length;o<n;o++)for(var i in t=arguments[o])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},or.apply(this,arguments)},nr=function(e){function o(t,o,n,i,r,s,a){var l=e.call(this)||this;if(l.hasChartRange=!1,l.editingCell=!1,l.suppressRefreshCell=!1,l.scope=null,l.cellEditorVersion=0,l.cellRendererVersion=0,l.scope=t,l.beans=o,l.column=n,l.rowNode=i,l.rowComp=r,l.autoHeightCell=s,l.printLayout=a,l.createGridCellVo(),l.rangeSelectionEnabled=l.beans.rangeController&&o.gridOptionsWrapper.isEnableRangeSelection(),l.cellFocused=l.beans.focusController.isCellFocused(l.cellPosition),l.firstRightPinned=l.column.isFirstRightPinned(),l.lastLeftPinned=l.column.isLastLeftPinned(),l.rangeSelectionEnabled&&l.beans.rangeController){var c=l.beans.rangeController;l.rangeCount=c.getCellRangeCount(l.cellPosition),l.hasChartRange=l.getHasChartRange()}return l.getValueAndFormat(),l.setUsingWrapper(),l.chooseCellRenderer(),l.setupColSpan(),l.rowSpan=l.column.getRowSpan(l.rowNode),l}return tr(o,e),o.prototype.getCreateTemplate=function(){var e=this.beans.gridOptionsWrapper.isEnableCellTextSelection()?"":'unselectable="on"',t=[],o=this.column,n=this.getCellWidth(),i=this.modifyLeftForPrintLayout(this.getCellLeft()),r=this.getInitialValueToRender(),s=et.get(this.column,"colDef.template",null)?r:et.escape(r);this.tooltip=this.getToolTip();var a=et.escape(this.tooltip),l=et.escape(o.getId()),c="",u="",d=this.preProcessStylesFromColDef(),h=this.getInitialCssClasses(),p=this.getStylesForRowSpanning(),g=et.escape(this.getAriaColumnIndex());return this.usingWrapper&&(c='<div ref="eCellWrapper" class="ag-cell-wrapper" role="presentation">\n                <span ref="eCellValue" role="gridcell" aria-colindex="'+g+'" class="ag-cell-value" '+e+">",u="</span></div>"),t.push("<div"),t.push(' tabindex="-1"'),t.push(" "+e),t.push(' role="'+(this.usingWrapper?"presentation":"gridcell")+'"'),this.usingWrapper||t.push(" aria-colindex="+g),t.push(' comp-id="'+this.getCompId()+'" '),t.push(' col-id="'+l+'"'),t.push(' class="'+et.escape(h.join(" "))+'"'),this.beans.gridOptionsWrapper.isEnableBrowserTooltips()&&et.exists(a)&&t.push('title="'+a+'"'),t.push(' style="width: '+Number(n)+"px; left: "+Number(i)+"px; "+et.escape(d)+" "+et.escape(p)+'" >'),t.push(c),et.exists(s,!0)&&t.push(s),t.push(u),t.push("</div>"),t.join("")},o.prototype.getStylesForRowSpanning=function(){return 1===this.rowSpan?"":"height: "+this.beans.gridOptionsWrapper.getRowHeightAsNumber()*this.rowSpan+"px; z-index: 1;"},o.prototype.afterAttached=function(){var e='[comp-id="'+this.getCompId()+'"]',t=this.eParentRow.querySelector(e);this.setGui(t),this.addDomData(),this.populateTemplate(),this.createCellRendererInstance(!0),this.angular1Compile(),this.refreshHandle(),et.exists(this.tooltip)&&!this.beans.gridOptionsWrapper.isEnableBrowserTooltips()&&this.createManagedBean(new er(this,"cell"),this.beans.context)},o.prototype.onColumnHover=function(){var e=this.beans.columnHoverService.isHovered(this.column);et.addOrRemoveCssClass(this.getGui(),"ag-column-hover",e)},o.prototype.onCellChanged=function(e){e.column===this.column&&this.refreshCell({})},o.prototype.getCellLeft=function(){return(this.beans.gridOptionsWrapper.isEnableRtl()&&this.colsSpanning?et.last(this.colsSpanning):this.column).getLeft()},o.prototype.getCellWidth=function(){return this.colsSpanning?this.colsSpanning.reduce((function(e,t){return e+t.getActualWidth()}),0):this.column.getActualWidth()},o.prototype.onFlashCells=function(e){var t=this.beans.cellPositionUtils.createId(this.cellPosition);e.cells[t]&&this.animateCell("highlight")},o.prototype.setupColSpan=function(){et.missing(this.getComponentHolder().colSpan)||(this.addManagedListener(this.beans.eventService,_t.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayColumnsChanged.bind(this)),this.addManagedListener(this.beans.eventService,_t.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onWidthChanged.bind(this)),this.colsSpanning=this.getColSpanningList())},o.prototype.getColSpanningList=function(){var e=this.column.getColSpan(this.rowNode),t=[];if(1===e)t.push(this.column);else for(var o=this.column,n=this.column.getPinned(),i=0;o&&i<e&&(t.push(o),(o=this.beans.columnController.getDisplayedColAfter(o))&&!et.missing(o))&&n===o.getPinned();i++);return t},o.prototype.onDisplayColumnsChanged=function(){var e=this.getColSpanningList();et.areEqual(this.colsSpanning,e)||(this.colsSpanning=e,this.onWidthChanged(),this.onLeftChanged())},o.prototype.getAriaColumnIndex=function(){return(this.beans.columnController.getAllDisplayedColumns().indexOf(this.column)+1).toString()},o.prototype.refreshAriaIndex=function(){var e=this.getAriaColumnIndex();(this.usingWrapper?this.eCellValue:this.getGui()).setAttribute("aria-colindex",e)},o.prototype.getInitialCssClasses=function(){var e=["ag-cell","ag-cell-not-inline-editing"];return this.autoHeightCell||e.push("ag-cell-auto-height"),!this.beans.gridOptionsWrapper.isSuppressCellSelection()&&this.cellFocused&&e.push("ag-cell-focus"),this.firstRightPinned&&e.push("ag-cell-first-right-pinned"),this.lastLeftPinned&&e.push("ag-cell-last-left-pinned"),this.beans.columnHoverService.isHovered(this.column)&&e.push("ag-column-hover"),et.pushAll(e,this.preProcessClassesFromColDef()),et.pushAll(e,this.preProcessCellClassRules()),et.pushAll(e,this.getInitialRangeClasses()),this.usingWrapper||e.push("ag-cell-value"),e},o.prototype.getInitialValueToRender=function(){if(this.usingCellRenderer)return"string"===typeof this.cellRendererGui?this.cellRendererGui:"";var e=this.getComponentHolder();return e.template?e.template:e.templateUrl?this.beans.templateService.getTemplate(e.templateUrl,this.refreshCell.bind(this,!0))||"":this.getValueToUse()},o.prototype.getRenderedRow=function(){return this.rowComp},o.prototype.isSuppressNavigable=function(){return this.column.isSuppressNavigable(this.rowNode)},o.prototype.getCellRenderer=function(){return this.cellRenderer},o.prototype.getCellEditor=function(){return this.cellEditor},o.prototype.refreshCell=function(e){if(!this.suppressRefreshCell&&!this.editingCell){var t=this.getComponentHolder(),o=e&&e.newData,n=e&&e.suppressFlash||t.suppressCellFlash,i=e&&e.forceRefresh,r=this.value;this.value=this.getValue();var s=!this.valuesAreEqual(r,this.value);if(i||s){this.valueFormatted=this.beans.valueFormatterService.formatValue(this.column,this.rowNode,this.scope,this.value),!o&&this.attemptCellRendererRefresh()||this.replaceContentsAfterRefresh();var a=this.beans.filterManager.isSuppressFlashingCellsBecauseFiltering();!n&&!a&&(this.beans.gridOptionsWrapper.isEnableCellChangeFlash()||t.enableCellChangeFlash)&&this.flashCell(),this.postProcessStylesFromColDef(),this.postProcessClassesFromColDef()}this.updateAngular1ScopeAndCompile(),this.refreshToolTip(),this.postProcessCellClassRules()}},o.prototype.flashCell=function(e){var t=e&&e.flashDelay,o=e&&e.fadeDelay;this.animateCell("data-changed",t,o)},o.prototype.animateCell=function(e,t,o){var n="ag-cell-"+e,i="ag-cell-"+e+"-animation",r=this.getGui(),s=this.beans.gridOptionsWrapper;t||(t=s.getCellFlashDelay()),o||(o=s.getCellFadeDelay()),et.addCssClass(r,n),et.removeCssClass(r,i),window.setTimeout((function(){et.removeCssClass(r,n),et.addCssClass(r,i),r.style.transition="background-color "+o+"ms",window.setTimeout((function(){et.removeCssClass(r,i),r.style.transition=null}),o)}),t)},o.prototype.replaceContentsAfterRefresh=function(){et.clearElement(this.eParentOfValue),this.cellRenderer=this.beans.context.destroyBean(this.cellRenderer),this.cellRendererGui=null,this.putDataIntoCellAfterRefresh(),this.updateAngular1ScopeAndCompile()},o.prototype.updateAngular1ScopeAndCompile=function(){this.beans.gridOptionsWrapper.isAngularCompileRows()&&this.scope&&(this.scope.data=or({},this.rowNode.data),this.angular1Compile())},o.prototype.angular1Compile=function(){if(this.beans.gridOptionsWrapper.isAngularCompileRows()){var e=this.getGui();if(!e.classList.contains("ng-scope")||0===e.childElementCount){var t=this.beans.$compile(e)(this.scope);this.addDestroyFunc((function(){return t.remove()}))}}},o.prototype.postProcessStylesFromColDef=function(){var e=this.processStylesFromColDef();e&&et.addStylesToElement(this.getGui(),e)},o.prototype.preProcessStylesFromColDef=function(){return et.cssStyleObjectToMarkup(this.processStylesFromColDef())},o.prototype.processStylesFromColDef=function(){var e=this.getComponentHolder();if(e.cellStyle){var t=void 0;if("function"===typeof e.cellStyle){var o={value:this.value,data:this.rowNode.data,node:this.rowNode,colDef:e,column:this.column,$scope:this.scope,context:this.beans.gridOptionsWrapper.getContext(),api:this.beans.gridOptionsWrapper.getApi()};t=(0,e.cellStyle)(o)}else t=e.cellStyle;return t}},o.prototype.postProcessClassesFromColDef=function(){var e=this;this.processClassesFromColDef((function(t){return et.addCssClass(e.getGui(),t)}))},o.prototype.preProcessClassesFromColDef=function(){var e=[];return this.processClassesFromColDef((function(t){return e.push(t)})),e},o.prototype.processClassesFromColDef=function(e){var t=this.getComponentHolder();this.beans.stylingService.processStaticCellClasses(t,{value:this.value,data:this.rowNode.data,node:this.rowNode,colDef:t,rowIndex:this.rowNode.rowIndex,$scope:this.scope,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext()},e)},o.prototype.putDataIntoCellAfterRefresh=function(){var e=this.getComponentHolder();if(e.template)this.eParentOfValue.innerHTML=e.template;else if(e.templateUrl){var t=this.beans.templateService.getTemplate(e.templateUrl,this.refreshCell.bind(this,!0));t&&(this.eParentOfValue.innerHTML=t)}else if(this.chooseCellRenderer(),this.usingCellRenderer)this.createCellRendererInstance();else{var o=this.getValueToUse();null!=o&&(this.eParentOfValue.innerHTML=et.escape(o))}},o.prototype.attemptCellRendererRefresh=function(){if(et.missing(this.cellRenderer)||!this.cellRenderer||et.missing(this.cellRenderer.refresh))return!1;var e=this.createCellRendererParams(),t=this.beans.userComponentFactory.createFinalParams(this.getComponentHolder(),this.cellRendererType,e),o=this.cellRenderer.refresh(t);return!0===o||void 0===o},o.prototype.refreshToolTip=function(){var e=this.getToolTip();if(this.tooltip!==e){var t=et.exists(e);if(!t||this.tooltip!==e.toString()){et.exists(this.tooltip);this.tooltip=e,this.beans.gridOptionsWrapper.isEnableBrowserTooltips()&&(t?this.eParentOfValue.setAttribute("title",this.tooltip):this.eParentOfValue.removeAttribute("title"))}}},o.prototype.valuesAreEqual=function(e,t){var o=this.getComponentHolder(),n=o?o.equals:null;return n?n(e,t):e===t},o.prototype.getToolTip=function(){var e=this.getComponentHolder(),t=this.rowNode.data;if(e.tooltipField&&et.exists(t))return et.getValueUsingField(t,e.tooltipField,this.column.isTooltipFieldContainsDots());var o=e.tooltipValueGetter||e.tooltip;return o?o({api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),colDef:e,column:this.getColumn(),context:this.beans.gridOptionsWrapper.getContext(),value:this.value,valueFormatted:this.valueFormatted,rowIndex:this.cellPosition.rowIndex,node:this.rowNode,data:this.rowNode.data}):null},o.prototype.getTooltipText=function(e){return void 0===e&&(e=!0),e?et.escape(this.tooltip):this.tooltip},o.prototype.processCellClassRules=function(e,t){var o=this.getComponentHolder();this.beans.stylingService.processClassRules(o.cellClassRules,{value:this.value,data:this.rowNode.data,node:this.rowNode,colDef:o,rowIndex:this.cellPosition.rowIndex,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),$scope:this.scope,context:this.beans.gridOptionsWrapper.getContext()},e,t)},o.prototype.postProcessCellClassRules=function(){var e=this;this.processCellClassRules((function(t){return et.addCssClass(e.getGui(),t)}),(function(t){return et.removeCssClass(e.getGui(),t)}))},o.prototype.preProcessCellClassRules=function(){var e=[];return this.processCellClassRules((function(t){return e.push(t)}),(function(e){})),e},o.prototype.setUsingWrapper=function(){var e=this.getComponentHolder();if(this.rowNode.rowPinned)return this.usingWrapper=!1,this.includeSelectionComponent=!1,this.includeRowDraggingComponent=!1,void(this.includeDndSourceComponent=!1);var t="function"===typeof e.checkboxSelection,o="function"===typeof e.rowDrag,n="function"===typeof e.dndSource;this.includeSelectionComponent=t||!0===e.checkboxSelection,this.includeRowDraggingComponent=o||!0===e.rowDrag,this.includeDndSourceComponent=n||!0===e.dndSource;var i=this.beans.gridOptionsWrapper.isEnableCellTextSelection();this.usingWrapper=i||this.includeRowDraggingComponent||this.includeSelectionComponent||this.includeDndSourceComponent},o.prototype.chooseCellRenderer=function(){var e=this.getComponentHolder();if(e.template||e.templateUrl)this.usingCellRenderer=!1;else{var t=this.createCellRendererParams(),n=this.beans.userComponentFactory.lookupComponentClassDef(e,"cellRenderer",t);this.beans.userComponentFactory.lookupComponentClassDef(e,"pinnedRowCellRenderer",t)&&this.rowNode.rowPinned?(this.cellRendererType=o.CELL_RENDERER_TYPE_PINNED,this.usingCellRenderer=!0):n?(this.cellRendererType=o.CELL_RENDERER_TYPE_NORMAL,this.usingCellRenderer=!0):this.usingCellRenderer=!1}},o.prototype.createCellRendererInstance=function(e){var t=this;if(void 0===e&&(e=!1),this.usingCellRenderer){var n=this.beans.gridOptionsWrapper.isAngularCompileRows(),i=this.beans.gridOptionsWrapper.isSuppressAnimationFrame();(n||i||this.autoHeightCell)&&(e=!1);var r=this.createCellRendererParams();this.cellRendererVersion++;var s=this.afterCellRendererCreated.bind(this,this.cellRendererVersion),a=this.cellRendererType===o.CELL_RENDERER_TYPE_NORMAL;this.createCellRendererFunc=function(){t.createCellRendererFunc=null;var e=t.beans.userComponentFactory.newCellRenderer(t.getComponentHolder(),r,!a);e&&e.then(s)},e?this.beans.taskQueue.createTask(this.createCellRendererFunc,this.rowNode.rowIndex,"createTasksP2"):this.createCellRendererFunc()}},o.prototype.afterCellRendererCreated=function(e,t){this.isAlive()&&e===this.cellRendererVersion?(this.cellRenderer=t,this.cellRendererGui=this.cellRenderer.getGui(),et.missing(this.cellRendererGui)||this.editingCell||this.eParentOfValue.appendChild(this.cellRendererGui)):this.beans.context.destroyBean(t)},o.prototype.createCellRendererParams=function(){var e=this;return{value:this.value,valueFormatted:this.valueFormatted,getValue:this.getValue.bind(this),setValue:function(t){return e.beans.valueService.setValue(e.rowNode,e.column,t)},formatValue:this.formatValue.bind(this),data:this.rowNode.data,node:this.rowNode,colDef:this.getComponentHolder(),column:this.column,$scope:this.scope,rowIndex:this.cellPosition.rowIndex,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext(),refreshCell:this.refreshCell.bind(this),eGridCell:this.getGui(),eParentOfValue:this.eParentOfValue,addRowCompListener:this.rowComp?this.rowComp.addEventListener.bind(this.rowComp):null,addRenderedRowListener:function(t,o){console.warn("ag-Grid: since ag-Grid .v11, params.addRenderedRowListener() is now params.addRowCompListener()"),e.rowComp&&e.rowComp.addEventListener(t,o)}}},o.prototype.formatValue=function(e){var t=this.beans.valueFormatterService.formatValue(this.column,this.rowNode,this.scope,e);return null!=t?t:e},o.prototype.getValueToUse=function(){return null!=this.valueFormatted?this.valueFormatted:this.value},o.prototype.getValueAndFormat=function(){this.value=this.getValue(),this.valueFormatted=this.beans.valueFormatterService.formatValue(this.column,this.rowNode,this.scope,this.value)},o.prototype.getValue=function(){var e=this.rowNode.leafGroup&&this.beans.columnController.isPivotMode(),t=this.rowNode.group&&this.rowNode.expanded&&!this.rowNode.footer&&!e,o=this.beans.gridOptionsWrapper.isGroupIncludeFooter(),n=this.beans.gridOptionsWrapper.isGroupSuppressBlankHeader(),i=t&&o&&!n;return this.beans.valueService.getValue(this.column,this.rowNode,!1,i)},o.prototype.onMouseEvent=function(e,t){if(!et.isStopPropagationForAgGrid(t))switch(e){case"click":this.onCellClicked(t);break;case"mousedown":this.onMouseDown(t);break;case"dblclick":this.onCellDoubleClicked(t);break;case"mouseout":this.onMouseOut(t);break;case"mouseover":this.onMouseOver(t)}},o.prototype.dispatchCellContextMenuEvent=function(e){var t=this.getComponentHolder(),o=this.createEvent(e,_t.EVENT_CELL_CONTEXT_MENU);this.beans.eventService.dispatchEvent(o),t.onCellContextMenu&&window.setTimeout((function(){return t.onCellContextMenu(o)}),0)},o.prototype.createEvent=function(e,t){var o={node:this.rowNode,data:this.rowNode.data,value:this.value,column:this.column,colDef:this.getComponentHolder(),context:this.beans.gridOptionsWrapper.getContext(),api:this.beans.gridApi,columnApi:this.beans.columnApi,rowPinned:this.rowNode.rowPinned,event:e,type:t,rowIndex:this.rowNode.rowIndex};return this.scope&&(o.$scope=this.scope),o},o.prototype.onMouseOut=function(e){var t=this.createEvent(e,_t.EVENT_CELL_MOUSE_OUT);this.beans.eventService.dispatchEvent(t),this.beans.columnHoverService.clearMouseOver()},o.prototype.onMouseOver=function(e){var t=this.createEvent(e,_t.EVENT_CELL_MOUSE_OVER);this.beans.eventService.dispatchEvent(t),this.beans.columnHoverService.setMouseOver([this.column])},o.prototype.onCellDoubleClicked=function(e){var t=this.getComponentHolder(),o=this.createEvent(e,_t.EVENT_CELL_DOUBLE_CLICKED);this.beans.eventService.dispatchEvent(o),"function"===typeof t.onCellDoubleClicked&&window.setTimeout((function(){return t.onCellDoubleClicked(o)}),0),!this.beans.gridOptionsWrapper.isSingleClickEdit()&&!this.beans.gridOptionsWrapper.isSuppressClickEdit()&&this.startRowOrCellEdit()},o.prototype.startRowOrCellEdit=function(e,t){this.beans.gridOptionsWrapper.isFullRowEdit()?this.rowComp.startRowEditing(e,t,this):this.startEditingIfEnabled(e,t,!0)},o.prototype.isCellEditable=function(){return this.column.isCellEditable(this.rowNode)},o.prototype.startEditingIfEnabled=function(e,t,o){if(void 0===e&&(e=null),void 0===t&&(t=null),void 0===o&&(o=!1),this.isCellEditable()&&!this.editingCell){this.editingCell=!0,this.cellEditorVersion++;var n=this.afterCellEditorCreated.bind(this,this.cellEditorVersion),i=this.createCellEditorParams(e,t,o);this.createCellEditor(i).then(n),et.missing(this.cellEditor)&&o&&this.focusCell(!0)}},o.prototype.createCellEditor=function(e){var t=this;return this.beans.userComponentFactory.newCellEditor(this.column.getColDef(),e).then((function(o){if(!(o.isPopup&&o.isPopup()))return o;t.beans.gridOptionsWrapper.isFullRowEdit()&&console.warn("ag-Grid: popup cellEditor does not work with fullRowEdit - you cannot use them both - either turn off fullRowEdit, or stop using popup editors.");var n=new Ki(o);return t.beans.context.createBean(n),n.init(e),n}))},o.prototype.afterCellEditorCreated=function(e,t){if(e!==this.cellEditorVersion||!this.editingCell)this.beans.context.destroyBean(t);else{if(t.isCancelBeforeStart&&t.isCancelBeforeStart())return this.beans.context.destroyBean(t),void(this.editingCell=!1);if(!t.getGui)return console.warn("ag-Grid: cellEditor for column "+this.column.getId()+" is missing getGui() method"),t.render&&console.warn("ag-Grid: we found 'render' on the component, are you trying to set a React renderer but added it as colDef.cellEditor instead of colDef.cellEditorFmk?"),this.beans.context.destroyBean(t),void(this.editingCell=!1);this.cellEditor=t,this.cellEditorInPopup=void 0!==t.isPopup&&t.isPopup(),this.setInlineEditingClass(),this.cellEditorInPopup?this.addPopupCellEditor():this.addInCellEditor(),t.afterGuiAttached&&t.afterGuiAttached();var o=this.createEvent(null,_t.EVENT_CELL_EDITING_STARTED);this.beans.eventService.dispatchEvent(o)}},o.prototype.addInCellEditor=function(){et.clearElement(this.getGui()),this.cellEditor&&this.getGui().appendChild(this.cellEditor.getGui()),this.angular1Compile()},o.prototype.addPopupCellEditor=function(){var e=this,t=this.cellEditor?this.cellEditor.getGui():null,o=this.beans.gridOptionsWrapper.isStopEditingWhenGridLosesFocus();this.hideEditorPopup=this.beans.popupService.addPopup(o,t,!0,(function(){e.onPopupEditorClosed()}));var n={column:this.column,rowNode:this.rowNode,type:"popupCellEditor",eventSource:this.getGui(),ePopup:t,keepWithinBounds:!0};"under"===(this.cellEditor&&this.cellEditor.getPopupPosition?this.cellEditor.getPopupPosition():"over")?this.beans.popupService.positionPopupUnderComponent(n):this.beans.popupService.positionPopupOverComponent(n),this.angular1Compile()},o.prototype.onPopupEditorClosed=function(){this.editingCell&&(this.stopRowOrCellEdit(),this.beans.focusController.isCellFocused(this.cellPosition)&&this.focusCell(!0))},o.prototype.setInlineEditingClass=function(){if(this.isAlive()){var e=this.editingCell&&!this.cellEditorInPopup,t=this.editingCell&&this.cellEditorInPopup;et.addOrRemoveCssClass(this.getGui(),"ag-cell-inline-editing",e),et.addOrRemoveCssClass(this.getGui(),"ag-cell-not-inline-editing",!e),et.addOrRemoveCssClass(this.getGui(),"ag-cell-popup-editing",t),et.addOrRemoveCssClass(this.getGui().parentNode,"ag-row-inline-editing",e),et.addOrRemoveCssClass(this.getGui().parentNode,"ag-row-not-inline-editing",!e)}},o.prototype.createCellEditorParams=function(e,t,o){return{value:this.getValue(),keyPress:e,charPress:t,column:this.column,colDef:this.column.getColDef(),rowIndex:this.cellPosition.rowIndex,node:this.rowNode,data:this.rowNode.data,api:this.beans.gridOptionsWrapper.getApi(),cellStartedEdit:o,columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext(),$scope:this.scope,onKeyDown:this.onKeyDown.bind(this),stopEditing:this.stopEditingAndFocus.bind(this),eGridCell:this.getGui(),parseValue:this.parseValue.bind(this),formatValue:this.formatValue.bind(this)}},o.prototype.stopEditingAndFocus=function(e){void 0===e&&(e=!1),this.stopRowOrCellEdit(),this.focusCell(!0),e||this.navigateAfterEdit()},o.prototype.parseValue=function(e){var t=this.getComponentHolder(),o={node:this.rowNode,data:this.rowNode.data,oldValue:this.value,newValue:e,colDef:t,column:this.column,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext()},n=t.valueParser;return et.exists(n)?this.beans.expressionService.evaluate(n,o):e},o.prototype.focusCell=function(e){void 0===e&&(e=!1),this.beans.focusController.setFocusedCell(this.cellPosition.rowIndex,this.column,this.rowNode.rowPinned,e)},o.prototype.setFocusInOnEditor=function(){this.editingCell&&(this.cellEditor&&this.cellEditor.focusIn?this.cellEditor.focusIn():this.focusCell(!0))},o.prototype.isEditing=function(){return this.editingCell},o.prototype.onKeyDown=function(e){var t=e.which||e.keyCode;switch(t){case ze.KEY_ENTER:this.onEnterKeyDown(e);break;case ze.KEY_F2:this.onF2KeyDown();break;case ze.KEY_ESCAPE:this.onEscapeKeyDown();break;case ze.KEY_TAB:this.onTabKeyDown(e);break;case ze.KEY_BACKSPACE:case ze.KEY_DELETE:this.onBackspaceOrDeleteKeyPressed(t);break;case ze.KEY_DOWN:case ze.KEY_UP:case ze.KEY_RIGHT:case ze.KEY_LEFT:this.onNavigationKeyPressed(e,t)}},o.prototype.setFocusOutOnEditor=function(){this.editingCell&&this.cellEditor&&this.cellEditor.focusOut&&this.cellEditor.focusOut()},o.prototype.onNavigationKeyPressed=function(e,t){this.editingCell||(e.shiftKey&&this.rangeSelectionEnabled?this.onShiftRangeSelect(t):this.beans.rowRenderer.navigateToNextCell(e,t,this.cellPosition,!0),e.preventDefault())},o.prototype.onShiftRangeSelect=function(e){if(this.beans.rangeController){var t=this.beans.rangeController.extendLatestRangeInDirection(e);t&&this.beans.rowRenderer.ensureCellVisible(t)}},o.prototype.onTabKeyDown=function(e){this.beans.rowRenderer.onTabKeyDown(this,e)},o.prototype.onBackspaceOrDeleteKeyPressed=function(e){this.editingCell||this.startRowOrCellEdit(e)},o.prototype.onEnterKeyDown=function(e){this.editingCell||this.rowComp.isEditing()?this.stopEditingAndFocus():this.beans.gridOptionsWrapper.isEnterMovesDown()?this.beans.rowRenderer.navigateToNextCell(null,ze.KEY_DOWN,this.cellPosition,!1):(e.preventDefault(),this.startRowOrCellEdit(ze.KEY_ENTER))},o.prototype.navigateAfterEdit=function(){this.beans.gridOptionsWrapper.isFullRowEdit()||this.beans.gridOptionsWrapper.isEnterMovesDownAfterEdit()&&this.beans.rowRenderer.navigateToNextCell(null,ze.KEY_DOWN,this.cellPosition,!1)},o.prototype.onF2KeyDown=function(){this.editingCell||this.startRowOrCellEdit(ze.KEY_F2)},o.prototype.onEscapeKeyDown=function(){this.editingCell&&(this.stopRowOrCellEdit(!0),this.focusCell(!0))},o.prototype.onKeyPress=function(e){if(!(et.getTarget(e)!==this.getGui())&&!this.editingCell){var t=String.fromCharCode(e.charCode);" "===t?this.onSpaceKeyPressed(e):et.isEventFromPrintableCharacter(e)&&(this.startRowOrCellEdit(null,t),e.preventDefault())}},o.prototype.onSpaceKeyPressed=function(e){var t=this.beans.gridOptionsWrapper;if(!this.editingCell&&t.isRowSelection()){var o=!this.rowNode.isSelected();(o||t.isRowDeselection())&&this.rowNode.setSelected(o)}e.preventDefault()},o.prototype.onMouseDown=function(e){var t=e.ctrlKey,o=e.metaKey,n=e.shiftKey,i=e.target,r=this.beans,s=r.eventService,a=r.rangeController;if(!this.isRightClickInExistingRange(e)){if(!n||a&&!a.getCellRanges().length){var l=(et.isBrowserIE()||et.isBrowserEdge())&&!this.editingCell;this.focusCell(l)}else e.preventDefault();if(!this.containsWidget(i)){if(a){var c=this.cellPosition;if(n)a.extendLatestRangeToCell(c);else{var u=t||o;a.setRangeToCell(c,u)}}s.dispatchEvent(this.createEvent(e,_t.EVENT_CELL_MOUSE_DOWN))}}},o.prototype.isRightClickInExistingRange=function(e){var t=this.beans.rangeController;if(t&&(t.isCellInAnyRange(this.getCellPosition())&&2===e.button))return!0;return!1},o.prototype.containsWidget=function(e){return et.isElementChildOfClass(e,"ag-selection-checkbox",3)},o.prototype.isDoubleClickOnIPad=function(){if(!et.isIOSUserAgent()||et.isEventSupported("dblclick"))return!1;var e=(new Date).getTime(),t=e-this.lastIPadMouseClickEvent<200;return this.lastIPadMouseClickEvent=e,t},o.prototype.onCellClicked=function(e){if(this.isDoubleClickOnIPad())return this.onCellDoubleClicked(e),void e.preventDefault();var t=this.beans,o=t.eventService,n=t.gridOptionsWrapper,i=this.createEvent(e,_t.EVENT_CELL_CLICKED);o.dispatchEvent(i);var r=this.getComponentHolder();r.onCellClicked&&window.setTimeout((function(){return r.onCellClicked(i)}),0),(n.isSingleClickEdit()||r.singleClickEdit)&&!n.isSuppressClickEdit()&&this.startRowOrCellEdit()},o.prototype.createGridCellVo=function(){this.cellPosition={rowIndex:this.rowNode.rowIndex,rowPinned:this.rowNode.rowPinned,column:this.column}},o.prototype.getCellPosition=function(){return this.cellPosition},o.prototype.getParentRow=function(){return this.eParentRow},o.prototype.setParentRow=function(e){this.eParentRow=e},o.prototype.getColumn=function(){return this.column},o.prototype.getComponentHolder=function(){return this.column.getColDef()},o.prototype.detach=function(){this.eParentRow.removeChild(this.getGui())},o.prototype.destroy=function(){this.createCellRendererFunc&&this.beans.taskQueue.cancelTask(this.createCellRendererFunc),this.stopEditing(),this.cellRenderer=this.beans.context.destroyBean(this.cellRenderer),this.beans.context.destroyBean(this.selectionHandle),e.prototype.destroy.call(this)},o.prototype.onLeftChanged=function(){var e=this.modifyLeftForPrintLayout(this.getCellLeft());this.getGui().style.left=e+"px",this.refreshAriaIndex()},o.prototype.modifyLeftForPrintLayout=function(e){return this.printLayout&&this.column.getPinned()!==ze.PINNED_LEFT?this.column.getPinned()===ze.PINNED_RIGHT?this.beans.columnController.getPinnedLeftContainerWidth()+this.beans.columnController.getBodyContainerWidth()+e:this.beans.columnController.getPinnedLeftContainerWidth()+e:e},o.prototype.onWidthChanged=function(){var e=this.getCellWidth();this.getGui().style.width=e+"px"},o.prototype.getRangeBorders=function(){var e,t,o=this,n=this.beans.gridOptionsWrapper.isEnableRtl(),i=!1,r=!1,s=!1,a=!1,l=this.cellPosition.column,c=this.beans,u=c.rangeController,d=c.columnController;n?(e=d.getDisplayedColAfter(l),t=d.getDisplayedColBefore(l)):(e=d.getDisplayedColBefore(l),t=d.getDisplayedColAfter(l));var h=u.getCellRanges().filter((function(e){return u.isCellInSpecificRange(o.cellPosition,e)}));e||(a=!0),t||(r=!0);for(var p=0;p<h.length&&!(i&&r&&s&&a);p++){var g=h[p],f=u.getRangeStartRow(g),m=u.getRangeEndRow(g);!i&&this.beans.rowPositionUtils.sameRow(f,this.cellPosition)&&(i=!0),!s&&this.beans.rowPositionUtils.sameRow(m,this.cellPosition)&&(s=!0),!a&&g.columns.indexOf(e)<0&&(a=!0),!r&&g.columns.indexOf(t)<0&&(r=!0)}return{top:i,right:r,bottom:s,left:a}},o.prototype.getInitialRangeClasses=function(){var e=[];if(!this.rangeSelectionEnabled||!this.rangeCount)return e;e.push("ag-cell-range-selected"),this.hasChartRange&&e.push("ag-cell-range-chart");var t=Math.min(this.rangeCount,4);if(e.push("ag-cell-range-selected-"+t),this.isSingleCell()&&e.push("ag-cell-range-single-cell"),this.rangeCount>0){var o=this.getRangeBorders();o.top&&e.push("ag-cell-range-top"),o.right&&e.push("ag-cell-range-right"),o.bottom&&e.push("ag-cell-range-bottom"),o.left&&e.push("ag-cell-range-left")}return this.selectionHandle&&e.push("ag-cell-range-handle"),e},o.prototype.onRowIndexChanged=function(){this.createGridCellVo(),this.onCellFocused(),this.onRangeSelectionChanged()},o.prototype.onRangeSelectionChanged=function(){var e=this.beans.rangeController;if(e){var t=this.cellPosition,o=this.rangeCount,n=e.getCellRangeCount(t),i=this.getGui();o!==n&&(et.addOrRemoveCssClass(i,"ag-cell-range-selected",0!==n),et.addOrRemoveCssClass(i,"ag-cell-range-selected-1",1===n),et.addOrRemoveCssClass(i,"ag-cell-range-selected-2",2===n),et.addOrRemoveCssClass(i,"ag-cell-range-selected-3",3===n),et.addOrRemoveCssClass(i,"ag-cell-range-selected-4",n>=4),this.rangeCount=n);var r=this.getHasChartRange();r!==this.hasChartRange&&(this.hasChartRange=r,et.addOrRemoveCssClass(i,"ag-cell-range-chart",this.hasChartRange)),this.updateRangeBorders(),et.addOrRemoveCssClass(i,"ag-cell-range-single-cell",this.isSingleCell()),this.refreshHandle()}},o.prototype.getHasChartRange=function(){var e=this.beans.rangeController;if(!this.rangeCount||!e)return!1;var o=e.getCellRanges();return o.length>0&&o.every((function(e){return et.includes([t.CellRangeType.DIMENSION,t.CellRangeType.VALUE],e.type)}))},o.prototype.shouldHaveSelectionHandle=function(){var e=this.beans,o=e.gridOptionsWrapper,n=e.rangeController,i=n.getCellRanges(),r=i.length;if(this.rangeCount<1||r<1)return!1;var s=et.last(i),a=this.getCellPosition(),l=1===r&&(o.isEnableFillHandle()||o.isEnableRangeHandle())&&!this.editingCell;if(this.hasChartRange){var c=i[0].type===t.CellRangeType.DIMENSION&&n.isCellInSpecificRange(a,i[0]);et.addOrRemoveCssClass(this.getGui(),"ag-cell-range-chart-category",c),l=s.type===t.CellRangeType.VALUE}return l&&null!=s.endRow&&n.isContiguousRange(s)&&n.isBottomRightCell(s,a)},o.prototype.addSelectionHandle=function(){var e=this.beans,o=e.gridOptionsWrapper,n=(e.context,e.rangeController),i=et.last(n.getCellRanges()).type,r=o.isEnableFillHandle()&&et.missing(i)?t.SelectionHandleType.FILL:t.SelectionHandleType.RANGE;this.selectionHandle&&this.selectionHandle.getType()!==r&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),this.selectionHandle||(this.selectionHandle=this.beans.selectionHandleFactory.createSelectionHandle(r)),this.selectionHandle.refresh(this)},o.prototype.updateRangeBordersIfRangeCount=function(){this.rangeCount>0&&(this.updateRangeBorders(),this.refreshHandle())},o.prototype.refreshHandle=function(){if(this.beans.rangeController){var e=this.shouldHaveSelectionHandle();this.selectionHandle&&!e&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),e&&this.addSelectionHandle(),et.addOrRemoveCssClass(this.getGui(),"ag-cell-range-handle",!!this.selectionHandle)}},o.prototype.updateRangeBorders=function(){var e=this.getRangeBorders(),t=this.isSingleCell(),o=!t&&e.top,n=!t&&e.right,i=!t&&e.bottom,r=!t&&e.left,s=this.getGui();et.addOrRemoveCssClass(s,"ag-cell-range-top",o),et.addOrRemoveCssClass(s,"ag-cell-range-right",n),et.addOrRemoveCssClass(s,"ag-cell-range-bottom",i),et.addOrRemoveCssClass(s,"ag-cell-range-left",r)},o.prototype.onFirstRightPinnedChanged=function(){var e=this.column.isFirstRightPinned();this.firstRightPinned!==e&&(this.firstRightPinned=e,et.addOrRemoveCssClass(this.getGui(),"ag-cell-first-right-pinned",e))},o.prototype.onLastLeftPinnedChanged=function(){var e=this.column.isLastLeftPinned();this.lastLeftPinned!==e&&(this.lastLeftPinned=e,et.addOrRemoveCssClass(this.getGui(),"ag-cell-last-left-pinned",e))},o.prototype.populateTemplate=function(){this.usingWrapper?(this.eParentOfValue=this.getRefElement("eCellValue"),this.eCellWrapper=this.getRefElement("eCellWrapper"),this.eCellValue=this.getRefElement("eCellValue"),this.includeRowDraggingComponent&&this.addRowDragging(),this.includeDndSourceComponent&&this.addDndSource(),this.includeSelectionComponent&&this.addSelectionCheckbox()):this.eParentOfValue=this.getGui()},o.prototype.getFrameworkOverrides=function(){return this.beans.frameworkOverrides},o.prototype.addRowDragging=function(){var e=this.beans.gridOptionsWrapper.isPagination(),t=this.beans.gridOptionsWrapper.isRowDragManaged(),o=this.beans.gridOptionsWrapper.isRowModelDefault();if(t){if(!o)return void et.doOnce((function(){return console.warn("ag-Grid: managed row dragging is only allowed in the Client Side Row Model")}),"CellComp.addRowDragging");if(e)return void et.doOnce((function(){return console.warn("ag-Grid: managed row dragging is not possible when doing pagination")}),"CellComp.addRowDragging")}var n=new Bi(this.rowNode,this.column,this.getValueToUse(),this.beans);this.createManagedBean(n,this.beans.context),this.eCellWrapper.insertBefore(n.getGui(),this.eParentOfValue)},o.prototype.addDndSource=function(){var e=new Xi(this.rowNode,this.column,this.getValueToUse(),this.beans,this.getGui());this.createManagedBean(e,this.beans.context),this.eCellWrapper.insertBefore(e.getGui(),this.eParentOfValue)},o.prototype.addSelectionCheckbox=function(){var e=this,t=new on;this.beans.context.createBean(t);var o=this.getComponentHolder().checkboxSelection;o="function"===typeof o?o:null,t.init({rowNode:this.rowNode,column:this.column,visibleFunc:o}),this.addDestroyFunc((function(){return e.beans.context.destroyBean(t)})),this.eCellWrapper.insertBefore(t.getGui(),this.eParentOfValue)},o.prototype.addDomData=function(){var e=this,t=this.getGui();this.beans.gridOptionsWrapper.setDomData(t,o.DOM_DATA_KEY_CELL_COMP,this),this.addDestroyFunc((function(){return e.beans.gridOptionsWrapper.setDomData(t,o.DOM_DATA_KEY_CELL_COMP,null)}))},o.prototype.isSingleCell=function(){var e=this.beans.rangeController;return 1===this.rangeCount&&e&&!e.isMoreThanOneCell()},o.prototype.onCellFocused=function(e){var t=this.beans.focusController.isCellFocused(this.cellPosition);t!==this.cellFocused&&(!this.beans.gridOptionsWrapper.isSuppressCellSelection()&&et.addOrRemoveCssClass(this.getGui(),"ag-cell-focus",t),this.cellFocused=t);if(t&&e&&e.forceBrowserFocus){var o=this.getFocusableElement();o.focus(),document.activeElement&&document.activeElement!==document.body||o.focus()}var n=this.beans.gridOptionsWrapper.isFullRowEdit();t||n||!this.editingCell||this.stopRowOrCellEdit()},o.prototype.stopRowOrCellEdit=function(e){void 0===e&&(e=!1),this.beans.gridOptionsWrapper.isFullRowEdit()?this.rowComp.stopRowEditing(e):this.stopEditing(e)},o.prototype.stopEditing=function(e){if(void 0===e&&(e=!1),this.editingCell)if(this.cellEditor){var t,o=this.getValue(),n=!1;if(!e)this.cellEditor.isCancelAfterEnd&&this.cellEditor.isCancelAfterEnd()||(t=this.cellEditor.getValue(),n=!0);if(this.editingCell=!1,this.cellEditor=this.beans.context.destroyBean(this.cellEditor),this.cellEditor=null,this.cellEditorInPopup&&this.hideEditorPopup)this.hideEditorPopup(),this.hideEditorPopup=null;else if(et.clearElement(this.getGui()),this.usingWrapper)this.getGui().appendChild(this.eCellWrapper);else if(this.cellRenderer){var i=this.cellRendererGui;i&&this.getGui().appendChild(i)}this.setInlineEditingClass(),this.refreshHandle(),n&&t!==o&&(this.suppressRefreshCell=!0,this.rowNode.setDataValue(this.column,t),this.suppressRefreshCell=!1),this.refreshCell({forceRefresh:!0,suppressFlash:!0});var r=this.createEvent(null,_t.EVENT_CELL_EDITING_STOPPED);this.beans.eventService.dispatchEvent(r)}else this.editingCell=!1},o.DOM_DATA_KEY_CELL_COMP="cellComp",o.CELL_RENDERER_TYPE_NORMAL="cellRenderer",o.CELL_RENDERER_TYPE_PINNED="pinnedRowCellRenderer",o}(so),ir=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),rr=function(){return rr=Object.assign||function(e){for(var t,o=1,n=arguments.length;o<n;o++)for(var i in t=arguments[o])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},rr.apply(this,arguments)},sr=function(e){function o(t,o,n,i,r,s,a,l,c,u,d){var h=e.call(this)||this;return h.eAllRowContainers=[],h.active=!0,h.rowContainerReadyCount=0,h.refreshNeeded=!1,h.columnRefreshPending=!1,h.cellComps={},h.createSecondPassFuncs=[],h.removeFirstPassFuncs=[],h.removeSecondPassFuncs=[],h.initialised=!1,h.elementOrderChanged=!1,h.lastMouseDownOnDragger=!1,h.parentScope=t,h.beans=a,h.bodyContainerComp=o,h.pinnedLeftContainerComp=n,h.pinnedRightContainerComp=i,h.fullWidthContainerComp=r,h.rowNode=s,h.rowIsEven=h.rowNode.rowIndex%2===0,h.paginationPage=h.beans.paginationProxy.getCurrentPage(),h.useAnimationFrameForCreate=c,h.printLayout=u,h.embedFullWidth=d,h.setAnimateFlags(l),h}return ir(o,e),o.prototype.init=function(){var e=this;this.rowFocused=this.beans.focusController.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned),this.scope=this.createChildScopeOrNull(this.rowNode.data),this.setupRowContainers(),this.addListeners(),this.slideRowIn&&this.createSecondPassFuncs.push((function(){e.onTopChanged()})),this.fadeRowIn&&this.createSecondPassFuncs.push((function(){e.eAllRowContainers.forEach((function(e){return et.removeCssClass(e,"ag-opacity-zero")}))}))},o.prototype.createTemplate=function(e,t){void 0===t&&(t=null);var o=[],n=this.rowNode.rowHeight,i=this.getInitialRowClasses(t).join(" "),r=et.escape(this.rowNode.id),s=this.preProcessStylesFromGridOptions(),a=this.getRowBusinessKey(),l=et.escape(a),c=this.getInitialRowTopStyle(),u=this.rowNode.getRowIndexString(),d=this.beans.headerNavigationService.getHeaderRowCount();return o.push("<div"),o.push(' role="row"'),o.push(' row-index="'+u+'" aria-rowindex="'+(d+this.rowNode.rowIndex+1)+'"'),o.push(r?' row-id="'+r+'"':""),o.push(a?' row-business-key="'+l+'"':""),o.push(' comp-id="'+this.getCompId()+'"'),o.push(' class="'+i+'"'),o.push(' style="height: '+n+"px; "+c+" "+s+'">'),o.push(e),o.push("</div>"),o.join("")},o.prototype.getCellForCol=function(e){var t=this.cellComps[e.getColId()];return t?t.getGui():null},o.prototype.afterFlush=function(){this.initialised||(this.initialised=!0,this.executeProcessRowPostCreateFunc())},o.prototype.executeProcessRowPostCreateFunc=function(){var e=this.beans.gridOptionsWrapper.getProcessRowPostCreateFunc();e&&e({eRow:this.eBodyRow,ePinnedLeftRow:this.ePinnedLeftRow,ePinnedRightRow:this.ePinnedRightRow,node:this.rowNode,api:this.beans.gridOptionsWrapper.getApi(),rowIndex:this.rowNode.rowIndex,addRenderedRowListener:this.addEventListener.bind(this),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext()})},o.prototype.getInitialRowTopStyle=function(){if(this.printLayout)return"";var e=this.slideRowIn?this.roundRowTopToBounds(this.rowNode.oldRowTop):this.rowNode.rowTop,t=this.applyPaginationOffset(e),o=this.beans.maxDivHeightScaler.getRealPixelPosition(t);return this.beans.gridOptionsWrapper.isSuppressRowTransform()?"top: "+o+"px; ":"transform: translateY("+o+"px);"},o.prototype.getRowBusinessKey=function(){var e=this.beans.gridOptionsWrapper.getBusinessKeyForNodeFunc();if("function"===typeof e)return e(this.rowNode)},o.prototype.areAllContainersReady=function(){return 3===this.rowContainerReadyCount},o.prototype.lazyCreateCells=function(e,t){if(this.active){var o=this.createCells(e);t.innerHTML=o.template,this.callAfterRowAttachedOnCells(o.cellComps,t),this.rowContainerReadyCount++,this.areAllContainersReady()&&this.refreshNeeded&&this.refreshCells()}},o.prototype.createRowContainer=function(e,t,o){var n=this,i=this.useAnimationFrameForCreate,r=i?{cellComps:[],template:""}:this.createCells(t),s=this.createTemplate(r.template);e.appendRowTemplate(s,(function(){var s=e.getRowElement(n.getCompId());n.afterRowAttached(e,s),o(s),i?n.beans.taskQueue.createTask(n.lazyCreateCells.bind(n,t,s),n.rowNode.rowIndex,"createTasksP1"):(n.callAfterRowAttachedOnCells(r.cellComps,s),n.rowContainerReadyCount=3)}))},o.prototype.createChildScopeOrNull=function(e){if(!this.beans.gridOptionsWrapper.isAngularCompileRows())return null;var t=this.parentScope.$new();return t.data=rr({},e),t.rowNode=this.rowNode,t.context=this.beans.gridOptionsWrapper.getContext(),this.addDestroyFunc((function(){t.$destroy(),t.data=null,t.rowNode=null,t.context=null})),t},o.prototype.setupRowContainers=function(){var e=this.rowNode.isFullWidthCell(),t=this.beans.doingMasterDetail&&this.rowNode.detail,n=this.beans.columnController.isPivotMode(),i=this.rowNode.group&&!this.rowNode.footer&&this.beans.gridOptionsWrapper.isGroupUseEntireRow(n);this.rowNode.stub?this.createFullWidthRows(o.LOADING_CELL_RENDERER,o.LOADING_CELL_RENDERER_COMP_NAME):t?this.createFullWidthRows(o.DETAIL_CELL_RENDERER,o.DETAIL_CELL_RENDERER_COMP_NAME):e?this.createFullWidthRows(o.FULL_WIDTH_CELL_RENDERER,null):i?this.createFullWidthRows(o.GROUP_ROW_RENDERER,o.GROUP_ROW_RENDERER_COMP_NAME):this.setupNormalRowContainers()},o.prototype.setupNormalRowContainers=function(){var e,t=this,o=[],n=[];this.printLayout?e=this.beans.columnController.getAllDisplayedColumns():(e=this.beans.columnController.getAllDisplayedCenterVirtualColumnsForRow(this.rowNode),o=this.beans.columnController.getDisplayedLeftColumnsForRow(this.rowNode),n=this.beans.columnController.getDisplayedRightColumnsForRow(this.rowNode)),this.createRowContainer(this.bodyContainerComp,e,(function(e){return t.eBodyRow=e})),this.createRowContainer(this.pinnedRightContainerComp,n,(function(e){return t.ePinnedRightRow=e})),this.createRowContainer(this.pinnedLeftContainerComp,o,(function(e){return t.ePinnedLeftRow=e}))},o.prototype.createFullWidthRows=function(e,t){var o=this;if(this.fullWidthRow=!0,this.embedFullWidth){if(this.createFullWidthRowContainer(this.bodyContainerComp,null,null,e,t,(function(e){o.eFullWidthRowBody=e}),(function(e){o.fullWidthRowComponentBody=e})),this.printLayout)return;this.createFullWidthRowContainer(this.pinnedLeftContainerComp,ze.PINNED_LEFT,"ag-cell-last-left-pinned",e,t,(function(e){o.eFullWidthRowLeft=e}),(function(e){o.fullWidthRowComponentLeft=e})),this.createFullWidthRowContainer(this.pinnedRightContainerComp,ze.PINNED_RIGHT,"ag-cell-first-right-pinned",e,t,(function(e){o.eFullWidthRowRight=e}),(function(e){o.fullWidthRowComponentRight=e}))}else this.createFullWidthRowContainer(this.fullWidthContainerComp,null,null,e,t,(function(e){o.eFullWidthRow=e}),(function(e){o.fullWidthRowComponent=e}))},o.prototype.setAnimateFlags=function(e){if(e){var t=et.exists(this.rowNode.oldRowTop);this.slideRowIn=t,this.fadeRowIn=!t}else this.slideRowIn=!1,this.fadeRowIn=!1},o.prototype.isEditing=function(){return this.editingRow},o.prototype.stopRowEditing=function(e){this.stopEditing(e)},o.prototype.isFullWidth=function(){return this.fullWidthRow},o.prototype.refreshFullWidth=function(){var e=this,t=function(t,o,n){if(!t||!o)return!0;if(!o.refresh)return!1;var i=e.createFullWidthParams(t,n);return o.refresh(i)},o=t(this.eFullWidthRow,this.fullWidthRowComponent,null),n=t(this.eFullWidthRowBody,this.fullWidthRowComponentBody,null),i=t(this.eFullWidthRowLeft,this.fullWidthRowComponentLeft,ze.PINNED_LEFT),r=t(this.eFullWidthRowRight,this.fullWidthRowComponentRight,ze.PINNED_RIGHT);return o&&n&&i&&r},o.prototype.addListeners=function(){this.addManagedListener(this.rowNode,Wo.EVENT_HEIGHT_CHANGED,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.rowNode,Wo.EVENT_ROW_SELECTED,this.onRowSelected.bind(this)),this.addManagedListener(this.rowNode,Wo.EVENT_ROW_INDEX_CHANGED,this.onRowIndexChanged.bind(this)),this.addManagedListener(this.rowNode,Wo.EVENT_TOP_CHANGED,this.onTopChanged.bind(this)),this.addManagedListener(this.rowNode,Wo.EVENT_EXPANDED_CHANGED,this.onExpandedChanged.bind(this)),this.addManagedListener(this.rowNode,Wo.EVENT_DATA_CHANGED,this.onRowNodeDataChanged.bind(this)),this.addManagedListener(this.rowNode,Wo.EVENT_CELL_CHANGED,this.onRowNodeCellChanged.bind(this)),this.addManagedListener(this.rowNode,Wo.EVENT_HIGHLIGHT_CHANGED,this.onRowNodeHighlightChanged.bind(this)),this.addManagedListener(this.rowNode,Wo.EVENT_DRAGGING_CHANGED,this.onRowNodeDraggingChanged.bind(this));var e=this.beans.eventService;this.addManagedListener(e,_t.EVENT_HEIGHT_SCALE_CHANGED,this.onTopChanged.bind(this)),this.addManagedListener(e,_t.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(e,_t.EVENT_VIRTUAL_COLUMNS_CHANGED,this.onVirtualColumnsChanged.bind(this)),this.addManagedListener(e,_t.EVENT_COLUMN_RESIZED,this.onColumnResized.bind(this)),this.addManagedListener(e,_t.EVENT_CELL_FOCUSED,this.onCellFocusChanged.bind(this)),this.addManagedListener(e,_t.EVENT_PAGINATION_CHANGED,this.onPaginationChanged.bind(this)),this.addManagedListener(e,_t.EVENT_MODEL_UPDATED,this.onModelUpdated.bind(this)),this.addManagedListener(e,_t.EVENT_COLUMN_MOVED,this.onColumnMoved.bind(this)),this.addListenersForCellComps()},o.prototype.addListenersForCellComps=function(){var e=this;this.addManagedListener(this.rowNode,Wo.EVENT_ROW_INDEX_CHANGED,(function(){e.forEachCellComp((function(e){return e.onRowIndexChanged()}))})),this.addManagedListener(this.rowNode,Wo.EVENT_CELL_CHANGED,(function(t){e.forEachCellComp((function(e){return e.onCellChanged(t)}))}))},o.prototype.onRowNodeDataChanged=function(e){this.forEachCellComp((function(t){return t.refreshCell({suppressFlash:!e.update,newData:!e.update})})),this.onRowSelected(),this.postProcessCss()},o.prototype.onRowNodeCellChanged=function(){this.postProcessCss()},o.prototype.postProcessCss=function(){this.postProcessStylesFromGridOptions(),this.postProcessClassesFromGridOptions(),this.postProcessRowClassRules(),this.postProcessRowDragging()},o.prototype.onRowNodeHighlightChanged=function(){var e=this.rowNode.highlighted;this.eAllRowContainers.forEach((function(t){et.removeCssClass(t,"ag-row-highlight-above"),et.removeCssClass(t,"ag-row-highlight-below"),e&&et.addCssClass(t,"ag-row-highlight-"+e)}))},o.prototype.onRowNodeDraggingChanged=function(){this.postProcessRowDragging()},o.prototype.postProcessRowDragging=function(){var e=this.rowNode.dragging;this.eAllRowContainers.forEach((function(t){return et.addOrRemoveCssClass(t,"ag-row-dragging",e)}))},o.prototype.onExpandedChanged=function(){var e=this.rowNode;this.eAllRowContainers.forEach((function(t){return et.addOrRemoveCssClass(t,"ag-row-group-expanded",e.expanded)})),this.eAllRowContainers.forEach((function(t){return et.addOrRemoveCssClass(t,"ag-row-group-contracted",!e.expanded)}))},o.prototype.onDisplayedColumnsChanged=function(){this.fullWidthRow||this.refreshCells()},o.prototype.destroyFullWidthComponents=function(){this.fullWidthRowComponent&&(this.beans.detailRowCompCache.addOrDestroy(this.rowNode,null,this.fullWidthRowComponent),this.fullWidthRowComponent=null),this.fullWidthRowComponentBody&&(this.beans.detailRowCompCache.addOrDestroy(this.rowNode,null,this.fullWidthRowComponentBody),this.fullWidthRowComponent=null),this.fullWidthRowComponentLeft&&(this.beans.detailRowCompCache.addOrDestroy(this.rowNode,ze.PINNED_LEFT,this.fullWidthRowComponentLeft),this.fullWidthRowComponentLeft=null),this.fullWidthRowComponentRight&&(this.beans.detailRowCompCache.addOrDestroy(this.rowNode,ze.PINNED_RIGHT,this.fullWidthRowComponentRight),this.fullWidthRowComponent=null)},o.prototype.getContainerForCell=function(e){switch(e){case ze.PINNED_LEFT:return this.ePinnedLeftRow;case ze.PINNED_RIGHT:return this.ePinnedRightRow;default:return this.eBodyRow}},o.prototype.onVirtualColumnsChanged=function(){this.fullWidthRow||this.refreshCells()},o.prototype.onColumnResized=function(){this.fullWidthRow||this.refreshCells()},o.prototype.refreshCells=function(){if(this.areAllContainersReady())if(this.beans.gridOptionsWrapper.isSuppressAnimationFrame()||this.printLayout)this.refreshCellsInAnimationFrame();else{if(this.columnRefreshPending)return;this.beans.taskQueue.createTask(this.refreshCellsInAnimationFrame.bind(this),this.rowNode.rowIndex,"createTasksP1")}else this.refreshNeeded=!0},o.prototype.refreshCellsInAnimationFrame=function(){if(this.active){var e,t,o;this.columnRefreshPending=!1,this.printLayout?(e=this.beans.columnController.getAllDisplayedColumns(),t=[],o=[]):(e=this.beans.columnController.getAllDisplayedCenterVirtualColumnsForRow(this.rowNode),t=this.beans.columnController.getDisplayedLeftColumnsForRow(this.rowNode),o=this.beans.columnController.getDisplayedRightColumnsForRow(this.rowNode)),this.insertCellsIntoContainer(this.eBodyRow,e),this.insertCellsIntoContainer(this.ePinnedLeftRow,t),this.insertCellsIntoContainer(this.ePinnedRightRow,o),this.elementOrderChanged=!1;var n=Object.keys(this.cellComps);e.forEach((function(e){return et.removeFromArray(n,e.getId())})),t.forEach((function(e){return et.removeFromArray(n,e.getId())})),o.forEach((function(e){return et.removeFromArray(n,e.getId())}));var i=n.filter(this.isCellEligibleToBeRemoved.bind(this));this.removeRenderedCells(i)}},o.prototype.onColumnMoved=function(){this.elementOrderChanged=!0},o.prototype.removeRenderedCells=function(e){var t=this;e.forEach((function(e){var o=t.cellComps[e];et.missing(o)||(o.detach(),o.destroy(),t.cellComps[e]=null)}))},o.prototype.isCellEligibleToBeRemoved=function(e){var t=this.beans.columnController.getAllDisplayedColumns(),o=!0,n=this.cellComps[e];if(!n||this.isCellInWrongRow(n))return o;var i=n.isEditing(),r=this.beans.focusController.isCellFocused(n.getCellPosition());if(i||r){var s=n.getColumn();return!(t.indexOf(s)>=0)&&o}return o},o.prototype.ensureCellInCorrectContainer=function(e){if(!this.printLayout){var t=e.getGui(),o=e.getColumn().getPinned(),n=this.getContainerForCell(o),i=e.getParentRow();i!==n&&(i&&i.removeChild(t),n.appendChild(t),e.setParentRow(n),this.elementOrderChanged=!0)}},o.prototype.isCellInWrongRow=function(e){var t=e.getColumn(),o=this.getContainerForCell(t.getPinned());return e.getParentRow()!==o},o.prototype.insertCellsIntoContainer=function(e,t){var o=this;if(e){var n=[],i=[];if(t.forEach((function(t){var r=t.getId(),s=o.cellComps[r];s?o.ensureCellInCorrectContainer(s):o.createNewCell(t,e,n,i)})),n.length>0&&(et.appendHtml(e,n.join("")),this.callAfterRowAttachedOnCells(i,e)),this.elementOrderChanged&&this.beans.gridOptionsWrapper.isEnsureDomOrder()){var r=t.map((function(e){return o.getCellForCol(e)}));et.setDomChildOrder(e,r)}}},o.prototype.addDomData=function(e){var t=this.beans.gridOptionsWrapper;t.setDomData(e,o.DOM_DATA_KEY_RENDERED_ROW,this),this.addDestroyFunc((function(){t.setDomData(e,o.DOM_DATA_KEY_RENDERED_ROW,null)}))},o.prototype.createNewCell=function(e,t,o,n){var i=new nr(this.scope,this.beans,e,this.rowNode,this,!1,this.printLayout),r=i.getCreateTemplate();o.push(r),n.push(i),this.cellComps[e.getId()]=i,i.setParentRow(t),this.elementOrderChanged=!0},o.prototype.onMouseEvent=function(e,t){switch(e){case"dblclick":this.onRowDblClick(t);break;case"click":this.onRowClick(t);break;case"mousedown":this.onRowMouseDown(t)}},o.prototype.createRowEvent=function(e,t){return{type:e,node:this.rowNode,data:this.rowNode.data,rowIndex:this.rowNode.rowIndex,rowPinned:this.rowNode.rowPinned,context:this.beans.gridOptionsWrapper.getContext(),api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),event:t}},o.prototype.createRowEventWithSource=function(e,t){var o=this.createRowEvent(e,t);return o.source=this,o},o.prototype.onRowDblClick=function(e){if(!et.isStopPropagationForAgGrid(e)){var t=this.createRowEventWithSource(_t.EVENT_ROW_DOUBLE_CLICKED,e);this.beans.eventService.dispatchEvent(t)}},o.prototype.onRowMouseDown=function(e){this.lastMouseDownOnDragger=et.isElementChildOfClass(e.target,"ag-row-drag",3)},o.prototype.onRowClick=function(e){if(!(et.isStopPropagationForAgGrid(e)||this.lastMouseDownOnDragger)){var t=this.createRowEventWithSource(_t.EVENT_ROW_CLICKED,e);this.beans.eventService.dispatchEvent(t);var o=e.ctrlKey||e.metaKey,n=e.shiftKey;if(!this.rowNode.group&&this.rowNode.selectable&&!this.rowNode.rowPinned&&this.beans.gridOptionsWrapper.isRowSelection()&&!this.beans.gridOptionsWrapper.isSuppressRowClickSelection()){var i=this.beans.gridOptionsWrapper.isRowMultiSelectWithClick(),r=this.beans.gridOptionsWrapper.isRowDeselection();if(this.rowNode.isSelected())i?this.rowNode.setSelectedParams({newValue:!1}):o?r&&this.rowNode.setSelectedParams({newValue:!1}):this.rowNode.setSelectedParams({newValue:!0,clearSelection:!0});else{var s=!i&&!o;this.rowNode.setSelectedParams({newValue:!0,clearSelection:s,rangeSelect:n})}}}},o.prototype.createFullWidthRowContainer=function(e,o,n,i,r,s,a){var l=this,c=this.createTemplate("",n);e.appendRowTemplate(c,(function(){var n=e.getRowElement(l.getCompId()),c=l.createFullWidthParams(n,o),u=function(e){if(l.isAlive()){var t=e.getGui();n.appendChild(t),a(e)}else l.beans.context.destroyBean(e)},d=l.beans.detailRowCompCache.get(l.rowNode,o);if(d)u(d);else{var h=l.beans.userComponentFactory.newFullWidthCellRenderer(c,i,r);if(!h){var p=Ct.isRegistered(t.ModuleNames.MasterDetailModule);return void("agDetailCellRenderer"!==r||p?console.error("ag-Grid: fullWidthCellRenderer "+r+" not found"):console.warn("ag-Grid: cell renderer agDetailCellRenderer (for master detail) not found. Did you forget to include the master detail module?"))}h.then(u)}l.afterRowAttached(e,n),s(n),l.angular1Compile(n)}))},o.prototype.angular1Compile=function(e){this.scope&&this.beans.$compile(e)(this.scope)},o.prototype.createFullWidthParams=function(e,t){return{fullWidth:!0,data:this.rowNode.data,node:this.rowNode,value:this.rowNode.key,$scope:this.scope?this.scope:this.parentScope,$compile:this.beans.$compile,rowIndex:this.rowNode.rowIndex,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext(),eGridCell:e,eParentOfValue:e,pinned:t,addRenderedRowListener:this.addEventListener.bind(this)}},o.prototype.getInitialRowClasses=function(e){var t=[],o=this.beans.gridOptionsWrapper.isTreeData(),n=this.rowNode;return et.exists(e)&&t.push(e),t.push("ag-row"),t.push(this.rowFocused?"ag-row-focus":"ag-row-no-focus"),this.fadeRowIn&&t.push("ag-opacity-zero"),t.push(this.rowIsEven?"ag-row-even":"ag-row-odd"),n.isRowPinned()&&t.push("ag-row-pinned"),n.isSelected()&&t.push("ag-row-selected"),n.group?(t.push("ag-row-group"),t.push("ag-row-level-"+n.level),n.footer&&t.push("ag-row-footer")):t.push("ag-row-level-"+(n.parent?n.parent.level+1:"0")),n.stub&&t.push("ag-row-loading"),this.fullWidthRow&&t.push("ag-full-width-row"),(o?n.allChildrenCount:n.group&&!n.footer)&&t.push(n.expanded?"ag-row-group-expanded":"ag-row-group-contracted"),n.dragging&&t.push("ag-row-dragging"),et.pushAll(t,this.processClassesFromGridOptions()),et.pushAll(t,this.preProcessRowClassRules()),t.push(this.printLayout?"ag-row-position-relative":"ag-row-position-absolute"),this.firstRowOnPage=this.isFirstRowOnPage(),this.lastRowOnPage=this.isLastRowOnPage(),this.firstRowOnPage&&t.push("ag-row-first"),this.lastRowOnPage&&t.push("ag-row-last"),t},o.prototype.isFirstRowOnPage=function(){return this.rowNode.rowIndex===this.beans.paginationProxy.getPageFirstRow()},o.prototype.isLastRowOnPage=function(){return this.rowNode.rowIndex===this.beans.paginationProxy.getPageLastRow()},o.prototype.onModelUpdated=function(){var e=this.isFirstRowOnPage(),t=this.isLastRowOnPage();this.firstRowOnPage!==e&&(this.firstRowOnPage=e,this.eAllRowContainers.forEach((function(t){return et.addOrRemoveCssClass(t,"ag-row-first",e)}))),this.lastRowOnPage!==t&&(this.lastRowOnPage=t,this.eAllRowContainers.forEach((function(e){return et.addOrRemoveCssClass(e,"ag-row-last",t)})))},o.prototype.preProcessRowClassRules=function(){var e=[];return this.processRowClassRules((function(t){e.push(t)}),(function(e){})),e},o.prototype.processRowClassRules=function(e,t){this.beans.stylingService.processClassRules(this.beans.gridOptionsWrapper.rowClassRules(),{value:void 0,colDef:void 0,data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),$scope:this.scope,context:this.beans.gridOptionsWrapper.getContext()},e,t)},o.prototype.stopEditing=function(e){if(void 0===e&&(e=!1),this.forEachCellComp((function(t){t.stopEditing(e)})),this.editingRow){if(!e){var t=this.createRowEvent(_t.EVENT_ROW_VALUE_CHANGED);this.beans.eventService.dispatchEvent(t)}this.setEditingRow(!1)}},o.prototype.setEditingRow=function(e){this.editingRow=e,this.eAllRowContainers.forEach((function(t){return et.addOrRemoveCssClass(t,"ag-row-editing",e)}));var t=e?this.createRowEvent(_t.EVENT_ROW_EDITING_STARTED):this.createRowEvent(_t.EVENT_ROW_EDITING_STOPPED);this.beans.eventService.dispatchEvent(t)},o.prototype.startRowEditing=function(e,t,o){void 0===e&&(e=null),void 0===t&&(t=null),void 0===o&&(o=null),this.editingRow||(this.forEachCellComp((function(n){var i=n===o;i?n.startEditingIfEnabled(e,t,i):n.startEditingIfEnabled(null,null,i)})),this.setEditingRow(!0))},o.prototype.forEachCellComp=function(e){et.iterateObject(this.cellComps,(function(t,o){o&&e(o)}))},o.prototype.postProcessClassesFromGridOptions=function(){var e=this,t=this.processClassesFromGridOptions();t&&t.length&&t.forEach((function(t){e.eAllRowContainers.forEach((function(e){return et.addCssClass(e,t)}))}))},o.prototype.postProcessRowClassRules=function(){var e=this;this.processRowClassRules((function(t){e.eAllRowContainers.forEach((function(e){return et.addCssClass(e,t)}))}),(function(t){e.eAllRowContainers.forEach((function(e){return et.removeCssClass(e,t)}))}))},o.prototype.processClassesFromGridOptions=function(){var e=[],t=function(t){"string"===typeof t?e.push(t):Array.isArray(t)&&t.forEach((function(t){return e.push(t)}))},o=this.beans.gridOptionsWrapper.getRowClass();if(o){if("function"===typeof o)return void console.warn("ag-Grid: rowClass should not be a function, please use getRowClass instead");t(o)}var n=this.beans.gridOptionsWrapper.getRowClassFunc();n&&t(n({node:this.rowNode,data:this.rowNode.data,rowIndex:this.rowNode.rowIndex,context:this.beans.gridOptionsWrapper.getContext(),api:this.beans.gridOptionsWrapper.getApi()}));return e},o.prototype.preProcessStylesFromGridOptions=function(){var e=this.processStylesFromGridOptions();return et.cssStyleObjectToMarkup(e)},o.prototype.postProcessStylesFromGridOptions=function(){var e=this.processStylesFromGridOptions();this.eAllRowContainers.forEach((function(t){return et.addStylesToElement(t,e)}))},o.prototype.processStylesFromGridOptions=function(){var e=this.beans.gridOptionsWrapper.getRowStyle();if(!e||"function"!==typeof e){var t,o=this.beans.gridOptionsWrapper.getRowStyleFunc();if(o)t=o({data:this.rowNode.data,node:this.rowNode,api:this.beans.gridOptionsWrapper.getApi(),context:this.beans.gridOptionsWrapper.getContext(),$scope:this.scope});return et.assign({},e,t)}console.warn("ag-Grid: rowStyle should be an object of key/value styles, not be a function, use getRowStyle() instead")},o.prototype.createCells=function(e){var t=this,o=[],n=[];return e.forEach((function(e){var i=new nr(t.scope,t.beans,e,t.rowNode,t,!1,t.printLayout),r=i.getCreateTemplate();o.push(r),n.push(i),t.cellComps[e.getId()]=i})),{template:o.join(""),cellComps:n}},o.prototype.onRowSelected=function(){var e=this.rowNode.isSelected();this.eAllRowContainers.forEach((function(t){return et.addOrRemoveCssClass(t,"ag-row-selected",e)}))},o.prototype.callAfterRowAttachedOnCells=function(e,t){var o=this;e.forEach((function(e){e.setParentRow(t),e.afterAttached(),o.editingRow&&e.startEditingIfEnabled()}))},o.prototype.afterRowAttached=function(e,t){var o=this;this.addDomData(t),this.removeSecondPassFuncs.push((function(){e.removeRowElement(t)})),this.removeFirstPassFuncs.push((function(){if(et.exists(o.rowNode.rowTop)){var e=o.roundRowTopToBounds(o.rowNode.rowTop);o.setRowTop(e)}else et.addCssClass(t,"ag-opacity-zero")})),this.eAllRowContainers.push(t),this.useAnimationFrameForCreate?this.beans.taskQueue.createTask(this.addHoverFunctionality.bind(this,t),this.rowNode.rowIndex,"createTasksP2"):this.addHoverFunctionality(t)},o.prototype.addHoverFunctionality=function(e){var t=this;this.active&&(this.addManagedListener(e,"mouseenter",(function(){return t.rowNode.onMouseEnter()})),this.addManagedListener(e,"mouseleave",(function(){return t.rowNode.onMouseLeave()})),this.addManagedListener(this.rowNode,Wo.EVENT_MOUSE_ENTER,(function(){t.beans.gridOptionsWrapper.isSuppressRowHoverHighlight()||et.addCssClass(e,"ag-row-hover")})),this.addManagedListener(this.rowNode,Wo.EVENT_MOUSE_LEAVE,(function(){et.removeCssClass(e,"ag-row-hover")})))},o.prototype.roundRowTopToBounds=function(e){var t=this.beans.gridPanel.getVScrollPosition(),o=this.applyPaginationOffset(t.top,!0)-100,n=this.applyPaginationOffset(t.bottom,!0)+100;return Math.min(Math.max(o,e),n)},o.prototype.getFrameworkOverrides=function(){return this.beans.frameworkOverrides},o.prototype.onRowHeightChanged=function(){if(et.exists(this.rowNode.rowHeight)){var e=this.rowNode.rowHeight+"px";this.eAllRowContainers.forEach((function(t){return t.style.height=e}))}},o.prototype.addEventListener=function(t,o){"renderedRowRemoved"!==t&&"rowRemoved"!==t||(t=_t.EVENT_VIRTUAL_ROW_REMOVED,console.warn("ag-Grid: Since version 11, event renderedRowRemoved is now called "+_t.EVENT_VIRTUAL_ROW_REMOVED)),e.prototype.addEventListener.call(this,t,o)},o.prototype.removeEventListener=function(t,o){"renderedRowRemoved"!==t&&"rowRemoved"!==t||(t=_t.EVENT_VIRTUAL_ROW_REMOVED,console.warn("ag-Grid: Since version 11, event renderedRowRemoved and rowRemoved is now called "+_t.EVENT_VIRTUAL_ROW_REMOVED)),e.prototype.removeEventListener.call(this,t,o)},o.prototype.destroy=function(t){(void 0===t&&(t=!1),this.active=!1,this.destroyFullWidthComponents(),t)?(this.removeFirstPassFuncs.forEach((function(e){return e()})),this.removeSecondPassFuncs.push(this.destroyContainingCells.bind(this))):(this.destroyContainingCells(),this.getAndClearDelayedDestroyFunctions().forEach((function(e){return e()})));var o=this.createRowEvent(_t.EVENT_VIRTUAL_ROW_REMOVED);this.dispatchEvent(o),this.beans.eventService.dispatchEvent(o),e.prototype.destroy.call(this)},o.prototype.destroyContainingCells=function(){this.forEachCellComp((function(e){return e.destroy()})),this.destroyFullWidthComponents()},o.prototype.getAndClearDelayedDestroyFunctions=function(){var e=this.removeSecondPassFuncs;return this.removeSecondPassFuncs=[],e},o.prototype.onCellFocusChanged=function(){var e=this.beans.focusController.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned);e!==this.rowFocused&&(this.eAllRowContainers.forEach((function(t){return et.addOrRemoveCssClass(t,"ag-row-focus",e)})),this.eAllRowContainers.forEach((function(t){return et.addOrRemoveCssClass(t,"ag-row-no-focus",!e)})),this.rowFocused=e),!e&&this.editingRow&&this.stopEditing(!1)},o.prototype.onPaginationChanged=function(){var e=this.beans.paginationProxy.getCurrentPage();this.paginationPage!==e&&(this.paginationPage=e,this.onTopChanged())},o.prototype.onTopChanged=function(){this.setRowTop(this.rowNode.rowTop)},o.prototype.applyPaginationOffset=function(e,t){return void 0===t&&(t=!1),this.rowNode.isRowPinned()?e:e+this.beans.paginationProxy.getPixelOffset()*(t?1:-1)},o.prototype.setRowTop=function(e){if(!this.printLayout&&et.exists(e)){var t=this.applyPaginationOffset(e),o=this.beans.maxDivHeightScaler.getRealPixelPosition(t)+"px";this.beans.gridOptionsWrapper.isSuppressRowTransform()?this.eAllRowContainers.forEach((function(e){return e.style.top=o})):this.eAllRowContainers.forEach((function(e){return e.style.transform="translateY("+o+")"}))}},o.prototype.getAndClearNextVMTurnFunctions=function(){var e=this.createSecondPassFuncs;return this.createSecondPassFuncs=[],e},o.prototype.getRowNode=function(){return this.rowNode},o.prototype.getRenderedCellForColumn=function(e){var t=this,o=this.cellComps[e.getColId()];if(o)return o;var n=Object.keys(this.cellComps).map((function(e){return t.cellComps[e]})).filter((function(t){return t&&-1!==t.getColSpanningList().indexOf(e)}));return n.length?n[0]:void 0},o.prototype.onRowIndexChanged=function(){null!=this.rowNode.rowIndex&&(this.onCellFocusChanged(),this.updateRowIndexes())},o.prototype.updateRowIndexes=function(){var e=this,t=this.rowNode.getRowIndexString(),o=this.rowNode.rowIndex%2===0,n=this.rowIsEven!==o,i=this.beans.headerNavigationService.getHeaderRowCount();n&&(this.rowIsEven=o),this.eAllRowContainers.forEach((function(r){r.setAttribute("row-index",t),r.setAttribute("aria-rowindex",(i+e.rowNode.rowIndex+1).toString()),n&&(et.addOrRemoveCssClass(r,"ag-row-even",o),et.addOrRemoveCssClass(r,"ag-row-odd",!o))}))},o.prototype.ensureDomOrder=function(){[{el:this.getBodyRowElement(),ct:this.bodyContainerComp},{el:this.getPinnedLeftRowElement(),ct:this.pinnedLeftContainerComp},{el:this.getPinnedRightRowElement(),ct:this.pinnedRightContainerComp},{el:this.getFullWidthRowElement(),ct:this.fullWidthContainerComp}].forEach((function(e){e.el&&e.ct.ensureDomOrder(e.el)}))},o.prototype.getPinnedLeftRowElement=function(){return this.ePinnedLeftRow?this.ePinnedLeftRow:this.eFullWidthRowLeft},o.prototype.getPinnedRightRowElement=function(){return this.ePinnedRightRow?this.ePinnedRightRow:this.eFullWidthRowRight},o.prototype.getBodyRowElement=function(){return this.eBodyRow?this.eBodyRow:this.eFullWidthRowBody},o.prototype.getFullWidthRowElement=function(){return this.eFullWidthRow},o.DOM_DATA_KEY_RENDERED_ROW="renderedRow",o.FULL_WIDTH_CELL_RENDERER="fullWidthCellRenderer",o.GROUP_ROW_RENDERER="groupRowRenderer",o.GROUP_ROW_RENDERER_COMP_NAME="agGroupRowRenderer",o.LOADING_CELL_RENDERER="loadingCellRenderer",o.LOADING_CELL_RENDERER_COMP_NAME="agLoadingCellRenderer",o.DETAIL_CELL_RENDERER="detailCellRenderer",o.DETAIL_CELL_RENDERER_COMP_NAME="agDetailCellRenderer",o}(so),ar=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),lr=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},cr=function(e,t){return function(o,n){t(o,n,e)}},ur=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.destroyFuncsForColumnListeners=[],t.rowCompsByIndex={},t.floatingTopRowComps=[],t.floatingBottomRowComps=[],t.refreshInProgress=!1,t}return ar(t,e),t.prototype.registerGridCore=function(e){this.gridCore=e},t.prototype.getGridCore=function(){return this.gridCore},t.prototype.agWire=function(e){this.logger=e.create("RowRenderer")},t.prototype.registerGridComp=function(e){this.gridPanel=e,this.rowContainers=this.gridPanel.getRowContainers(),this.addManagedListener(this.eventService,_t.EVENT_PAGINATION_CHANGED,this.onPageLoaded.bind(this)),this.addManagedListener(this.eventService,_t.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.addManagedListener(this.eventService,_t.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,_t.EVENT_BODY_SCROLL,this.redrawAfterScroll.bind(this)),this.addManagedListener(this.eventService,_t.EVENT_BODY_HEIGHT_CHANGED,this.redrawAfterScroll.bind(this)),this.addManagedListener(this.gridOptionsWrapper,Jt.PROP_DOM_LAYOUT,this.onDomLayoutChanged.bind(this)),this.registerCellEventListeners(),this.printLayout=this.gridOptionsWrapper.getDomLayout()===ze.DOM_LAYOUT_PRINT,this.embedFullWidthRows=this.printLayout||this.gridOptionsWrapper.isEmbedFullWidthRows(),this.redrawAfterModelUpdate()},t.prototype.registerCellEventListeners=function(){var e=this;this.addManagedListener(this.eventService,_t.EVENT_CELL_FOCUSED,(function(t){e.forEachCellComp((function(e){return e.onCellFocused(t)}))})),this.addManagedListener(this.eventService,_t.EVENT_FLASH_CELLS,(function(t){e.forEachCellComp((function(e){return e.onFlashCells(t)}))})),this.addManagedListener(this.eventService,_t.EVENT_COLUMN_HOVER_CHANGED,(function(){e.forEachCellComp((function(e){return e.onColumnHover()}))})),this.addManagedListener(this.eventService,_t.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,(function(){e.printLayout&&e.forEachCellComp((function(e){return e.onLeftChanged()}))})),this.gridOptionsWrapper.isEnableRangeSelection()&&(this.addManagedListener(this.eventService,_t.EVENT_RANGE_SELECTION_CHANGED,(function(){e.forEachCellComp((function(e){return e.onRangeSelectionChanged()}))})),this.addManagedListener(this.eventService,_t.EVENT_COLUMN_MOVED,(function(){e.forEachCellComp((function(e){return e.updateRangeBordersIfRangeCount()}))})),this.addManagedListener(this.eventService,_t.EVENT_COLUMN_PINNED,(function(){e.forEachCellComp((function(e){return e.updateRangeBordersIfRangeCount()}))})),this.addManagedListener(this.eventService,_t.EVENT_COLUMN_VISIBLE,(function(){e.forEachCellComp((function(e){return e.updateRangeBordersIfRangeCount()}))}))),this.refreshListenersToColumnsForCellComps(),this.addManagedListener(this.eventService,_t.EVENT_GRID_COLUMNS_CHANGED,this.refreshListenersToColumnsForCellComps.bind(this)),this.addDestroyFunc(this.removeGridColumnListeners.bind(this))},t.prototype.removeGridColumnListeners=function(){this.destroyFuncsForColumnListeners.forEach((function(e){return e()})),this.destroyFuncsForColumnListeners.length=0},t.prototype.refreshListenersToColumnsForCellComps=function(){var e=this;this.removeGridColumnListeners();var t=this.columnController.getAllGridColumns();t&&t.forEach((function(t){var o=function(o){e.forEachCellComp((function(e){e.getColumn()===t&&o(e)}))},n=function(){o((function(e){return e.onLeftChanged()}))},i=function(){o((function(e){return e.onWidthChanged()}))},r=function(){o((function(e){return e.onFirstRightPinnedChanged()}))},s=function(){o((function(e){return e.onLastLeftPinnedChanged()}))};t.addEventListener(bt.EVENT_LEFT_CHANGED,n),t.addEventListener(bt.EVENT_WIDTH_CHANGED,i),t.addEventListener(bt.EVENT_FIRST_RIGHT_PINNED_CHANGED,r),t.addEventListener(bt.EVENT_LAST_LEFT_PINNED_CHANGED,s),e.destroyFuncsForColumnListeners.push((function(){t.removeEventListener(bt.EVENT_LEFT_CHANGED,n),t.removeEventListener(bt.EVENT_WIDTH_CHANGED,i),t.removeEventListener(bt.EVENT_FIRST_RIGHT_PINNED_CHANGED,r),t.removeEventListener(bt.EVENT_LAST_LEFT_PINNED_CHANGED,s)}))}))},t.prototype.onDomLayoutChanged=function(){var e=this.gridOptionsWrapper.getDomLayout()===ze.DOM_LAYOUT_PRINT,t=e||this.gridOptionsWrapper.isEmbedFullWidthRows(),o=t!==this.embedFullWidthRows||this.printLayout!==e;this.printLayout=e,this.embedFullWidthRows=t,o&&this.redrawAfterModelUpdate()},t.prototype.datasourceChanged=function(){this.firstRenderedRow=0,this.lastRenderedRow=-1;var e=Object.keys(this.rowCompsByIndex);this.removeRowComps(e)},t.prototype.onPageLoaded=function(e){et.missing(e)&&(e={type:_t.EVENT_MODEL_UPDATED,api:this.gridApi,columnApi:this.columnApi,animate:!1,keepRenderedRows:!1,newData:!1,newPage:!1}),this.onModelUpdated(e)},t.prototype.getAllCellsForColumn=function(e){var t=[];function o(o,n){var i=n.getCellForCol(e);i&&t.push(i)}return et.iterateObject(this.rowCompsByIndex,o),et.iterateObject(this.floatingBottomRowComps,o),et.iterateObject(this.floatingTopRowComps,o),t},t.prototype.refreshFloatingRowComps=function(){this.refreshFloatingRows(this.floatingTopRowComps,this.pinnedRowModel.getPinnedTopRowData(),this.rowContainers.floatingTopPinnedLeft,this.rowContainers.floatingTopPinnedRight,this.rowContainers.floatingTop,this.rowContainers.floatingTopFullWidth),this.refreshFloatingRows(this.floatingBottomRowComps,this.pinnedRowModel.getPinnedBottomRowData(),this.rowContainers.floatingBottomPinnedLeft,this.rowContainers.floatingBottomPinnedRight,this.rowContainers.floatingBottom,this.rowContainers.floatingBottomFullWidth)},t.prototype.refreshFloatingRows=function(e,t,o,n,i,r){var s=this;e.forEach((function(e){e.destroy()})),e.length=0,t&&t.forEach((function(t){var a=new sr(s.$scope,i,o,n,r,t,s.beans,!1,!1,s.printLayout,s.embedFullWidthRows);a.init(),e.push(a)})),this.flushContainers(e)},t.prototype.onPinnedRowDataChanged=function(){this.redrawAfterModelUpdate({recycleRows:!0})},t.prototype.onModelUpdated=function(e){var t={recycleRows:e.keepRenderedRows,animate:e.animate,newData:e.newData,newPage:e.newPage,onlyBody:!0};this.redrawAfterModelUpdate(t)},t.prototype.getRenderedIndexesForRowNodes=function(e){var t=[];return et.missing(e)||et.iterateObject(this.rowCompsByIndex,(function(o,n){var i=n.getRowNode();e.indexOf(i)>=0&&t.push(o)})),t},t.prototype.redrawRows=function(e){if(e&&0!=e.length){var t=this.getRenderedIndexesForRowNodes(e);this.removeRowComps(t),this.redrawAfterModelUpdate({recycleRows:!0})}},t.prototype.getCellToRestoreFocusToAfterRefresh=function(e){var t=e.suppressKeepFocus?null:this.focusController.getFocusCellToUseAfterRefresh();if(et.missing(t))return null;var o=document.activeElement,n=this.gridOptionsWrapper.getDomData(o,nr.DOM_DATA_KEY_CELL_COMP);return et.missing(n)?null:t},t.prototype.redrawAfterModelUpdate=function(e){void 0===e&&(e={}),this.getLockOnRefresh();var t=this.getCellToRestoreFocusToAfterRefresh(e);this.sizeContainerToPageHeight(),this.scrollToTopIfNewData(e);var o=!this.printLayout&&e.recycleRows,n=e.animate&&this.gridOptionsWrapper.isAnimateRows(),i=this.binRowComps(o);this.redraw(i,n),e.onlyBody||this.refreshFloatingRowComps(),this.restoreFocusedCell(t),this.releaseLockOnRefresh()},t.prototype.scrollToTopIfNewData=function(e){var t=e.newData||e.newPage,o=this.gridOptionsWrapper.isSuppressScrollOnNewData();t&&!o&&this.gridPanel.scrollToTop()},t.prototype.sizeContainerToPageHeight=function(){var e=[this.rowContainers.body,this.rowContainers.fullWidth,this.rowContainers.pinnedLeft,this.rowContainers.pinnedRight];if(this.printLayout)e.forEach((function(e){return e.setHeight(null)}));else{var t=this.paginationProxy.getCurrentPageHeight();0===t&&(t=1),this.maxDivHeightScaler.setModelHeight(t);var o=this.maxDivHeightScaler.getUiContainerHeight();e.forEach((function(e){return e.setHeight(o)}))}},t.prototype.getLockOnRefresh=function(){if(this.refreshInProgress)throw new Error("ag-Grid: cannot get grid to draw rows when it is in the middle of drawing rows. Your code probably called a grid API method while the grid was in the render stage. To overcome this, put the API call into a timeout, eg instead of api.refreshView(), call setTimeout(function(){api.refreshView(),0}). To see what part of your code that caused the refresh check this stacktrace.");this.refreshInProgress=!0},t.prototype.releaseLockOnRefresh=function(){this.refreshInProgress=!1},t.prototype.restoreFocusedCell=function(e){e&&this.focusController.setFocusedCell(e.rowIndex,e.column,e.rowPinned,!0)},t.prototype.stopEditing=function(e){void 0===e&&(e=!1),this.forEachRowComp((function(t,o){o.stopEditing(e)}))},t.prototype.forEachCellComp=function(e){this.forEachRowComp((function(t,o){return o.forEachCellComp(e)}))},t.prototype.forEachRowComp=function(e){et.iterateObject(this.rowCompsByIndex,e),et.iterateObject(this.floatingTopRowComps,e),et.iterateObject(this.floatingBottomRowComps,e)},t.prototype.addRenderedRowListener=function(e,t,o){var n=this.rowCompsByIndex[t];n&&n.addEventListener(e,o)},t.prototype.flashCells=function(e){void 0===e&&(e={});var t=e.flashDelay,o=e.fadeDelay;this.forEachCellCompFiltered(e.rowNodes,e.columns,(function(e){return e.flashCell({flashDelay:t,fadeDelay:o})}))},t.prototype.refreshCells=function(e){void 0===e&&(e={});var t={forceRefresh:e.force,newData:!1,suppressFlash:e.suppressFlash};this.forEachCellCompFiltered(e.rowNodes,e.columns,(function(e){return e.refreshCell(t)}))},t.prototype.getCellRendererInstances=function(e){var t=[];return this.forEachCellCompFiltered(e.rowNodes,e.columns,(function(e){var o=e.getCellRenderer();o&&t.push(o)})),t},t.prototype.getCellEditorInstances=function(e){var t=[];return this.forEachCellCompFiltered(e.rowNodes,e.columns,(function(e){var o=e.getCellEditor();o&&t.push(o)})),t},t.prototype.getEditingCells=function(){var e=[];return this.forEachCellComp((function(t){if(t.isEditing()){var o=t.getCellPosition();e.push(o)}})),e},t.prototype.forEachCellCompFiltered=function(e,t,o){var n,i,r=this;et.exists(e)&&(n={top:{},bottom:{},normal:{}},e.forEach((function(e){e.rowPinned===ze.PINNED_TOP?n.top[e.id]=!0:e.rowPinned===ze.PINNED_BOTTOM?n.bottom[e.id]=!0:n.normal[e.id]=!0}))),et.exists(t)&&(i={},t.forEach((function(e){var t=r.columnController.getGridColumn(e);et.exists(t)&&(i[t.getId()]=!0)})));var s=function(e){var t=e.getRowNode(),r=t.id,s=t.rowPinned;if(et.exists(n))if(s===ze.PINNED_BOTTOM){if(!n.bottom[r])return}else if(s===ze.PINNED_TOP){if(!n.top[r])return}else if(!n.normal[r])return;e.forEachCellComp((function(e){var t=e.getColumn().getId();i&&!i[t]||o(e)}))};et.iterateObject(this.rowCompsByIndex,(function(e,t){s(t)})),this.floatingTopRowComps&&this.floatingTopRowComps.forEach(s),this.floatingBottomRowComps&&this.floatingBottomRowComps.forEach(s)},t.prototype.destroy=function(){var t=Object.keys(this.rowCompsByIndex);this.removeRowComps(t),e.prototype.destroy.call(this)},t.prototype.binRowComps=function(e){var t,o=this,n={};return e?(t=[],et.iterateObject(this.rowCompsByIndex,(function(e,i){var r=i.getRowNode();et.exists(r.id)?(n[r.id]=i,delete o.rowCompsByIndex[e]):t.push(e)}))):t=Object.keys(this.rowCompsByIndex),this.removeRowComps(t),n},t.prototype.removeRowComps=function(e){var t=this;e.forEach((function(e){t.rowCompsByIndex[e].destroy(),delete t.rowCompsByIndex[e]}))},t.prototype.redrawAfterScroll=function(){this.getLockOnRefresh(),this.redraw(null,!1,!0),this.releaseLockOnRefresh()},t.prototype.removeRowCompsNotToDraw=function(e){var t={};e.forEach((function(e){return t[e]=!0}));var o=Object.keys(this.rowCompsByIndex).filter((function(e){return!t[e]}));this.removeRowComps(o)},t.prototype.calculateIndexesToDraw=function(e){var t=this,o=et.createArrayOfNumbers(this.firstRenderedRow,this.lastRenderedRow),n=function(e,n){var i=Number(e);(i<t.firstRenderedRow||i>t.lastRenderedRow)&&t.doNotUnVirtualiseRow(n)&&o.push(i)};return et.iterateObject(this.rowCompsByIndex,n),et.iterateObject(e,n),o.sort((function(e,t){return e-t})),o},t.prototype.redraw=function(e,t,o){var n=this;void 0===t&&(t=!1),void 0===o&&(o=!1),this.maxDivHeightScaler.updateOffset(),this.workOutFirstAndLastRowsToRender();var i=this.calculateIndexesToDraw(e);this.removeRowCompsNotToDraw(i),this.printLayout&&(t=!1);var r=[],s=[];i.forEach((function(i){var a=n.createOrUpdateRowComp(i,e,t,o);et.exists(a)&&(s.push(a),et.pushAll(r,a.getAndClearNextVMTurnFunctions()))})),this.flushContainers(s),et.executeNextVMTurn(r),o&&!this.gridOptionsWrapper.isSuppressAnimationFrame()&&!this.printLayout?this.beans.taskQueue.addDestroyTask(this.destroyRowComps.bind(this,e,t)):this.destroyRowComps(e,t),this.checkAngularCompile(),this.gridPanel.updateRowCount()},t.prototype.flushContainers=function(e){et.iterateObject(this.rowContainers,(function(e,t){t&&t.flushRowTemplates()})),e.forEach((function(e){return e.afterFlush()}))},t.prototype.onDisplayedColumnsChanged=function(){var e=this.columnController.isPinningLeft(),t=this.columnController.isPinningRight();(this.pinningLeft!==e||t!==this.pinningRight)&&(this.pinningLeft=e,this.pinningRight=t,this.embedFullWidthRows&&this.redrawFullWidthEmbeddedRows())},t.prototype.redrawFullWidthEmbeddedRows=function(){var e=[];et.iterateObject(this.rowCompsByIndex,(function(t,o){if(o.isFullWidth()){var n=o.getRowNode().rowIndex;e.push(n.toString())}})),this.refreshFloatingRowComps(),this.removeRowComps(e),this.redrawAfterScroll()},t.prototype.refreshFullWidthRows=function(){var e=[];et.iterateObject(this.rowCompsByIndex,(function(t,o){if(o.isFullWidth()&&!o.refreshFullWidth()){var n=o.getRowNode().rowIndex;e.push(n.toString())}})),this.removeRowComps(e),this.redrawAfterScroll()},t.prototype.createOrUpdateRowComp=function(e,t,o,n){var i,r=this.rowCompsByIndex[e];if(r||(i=this.paginationProxy.getRow(e),et.exists(i)&&et.exists(t)&&t[i.id]&&i.alreadyRendered&&(r=t[i.id],t[i.id]=null)),!r){if(i||(i=this.paginationProxy.getRow(e)),!et.exists(i))return;r=this.createRowComp(i,o,n)}else r.ensureDomOrder();return i&&(i.alreadyRendered=!0),this.rowCompsByIndex[e]=r,r},t.prototype.destroyRowComps=function(e,t){var o=[];et.iterateObject(e,(function(e,n){n&&(n.destroy(t),et.pushAll(o,n.getAndClearDelayedDestroyFunctions()))})),et.executeInAWhile(o)},t.prototype.checkAngularCompile=function(){var e=this;this.gridOptionsWrapper.isAngularCompileRows()&&window.setTimeout((function(){e.$scope.$apply()}),0)},t.prototype.workOutFirstAndLastRowsToRender=function(){var e,t,o=this;if(this.paginationProxy.isRowsToRender())if(this.printLayout)e=this.paginationProxy.getPageFirstRow(),t=this.paginationProxy.getPageLastRow();else{var n=this.paginationProxy.getPixelOffset(),i=this.maxDivHeightScaler.getOffset(),r=this.gridPanel.getVScrollPosition(),s=r.top,a=r.bottom,l=this.gridOptionsWrapper.getRowBufferInPixels(),c=s+n+i-l,u=a+n+i+l;this.ensureAllRowsInRangeHaveHeightsCalculated(c,u);var d=this.paginationProxy.getRowIndexAtPixel(c),h=this.paginationProxy.getRowIndexAtPixel(u),p=this.paginationProxy.getPageFirstRow(),g=this.paginationProxy.getPageLastRow();d<p&&(d=p),h>g&&(h=g),e=d,t=h}else e=0,t=-1;var f=this.gridOptionsWrapper.getDomLayout()===ze.DOM_LAYOUT_NORMAL,m=this.gridOptionsWrapper.isSuppressMaxRenderedRowRestriction(),v=Math.max(this.gridOptionsWrapper.getRowBuffer(),500);f&&!m&&t-e>v&&(t=e+v);var y=e!==this.firstRenderedRow,C=t!==this.lastRenderedRow;if(y||C){this.firstRenderedRow=e,this.lastRenderedRow=t;var w={type:_t.EVENT_VIEWPORT_CHANGED,firstRow:e,lastRow:t,api:this.gridApi,columnApi:this.columnApi};this.eventService.dispatchEvent(w)}if(this.paginationProxy.isRowsToRender()){var b={type:_t.EVENT_FIRST_DATA_RENDERED,firstRow:e,lastRow:t,api:this.gridApi,columnApi:this.columnApi};window.setTimeout((function(){return o.eventService.dispatchEventOnce(b)}),50)}},t.prototype.ensureAllRowsInRangeHaveHeightsCalculated=function(e,t){this.paginationProxy.ensureRowHeightsValid(e,t,-1,-1)&&(this.sizeContainerToPageHeight(),this.maxDivHeightScaler.updateOffset())},t.prototype.getFirstVirtualRenderedRow=function(){return this.firstRenderedRow},t.prototype.getLastVirtualRenderedRow=function(){return this.lastRenderedRow},t.prototype.doNotUnVirtualiseRow=function(e){var t=!1,o=e.getRowNode(),n=this.focusController.isRowNodeFocused(o),i=e.isEditing(),r=o.detail;return(n||i||r)&&!!this.paginationProxy.isRowPresent(o)||t},t.prototype.createRowComp=function(e,t,o){var n=this.gridOptionsWrapper.isSuppressAnimationFrame(),i=o&&!n&&!this.printLayout,r=new sr(this.$scope,this.rowContainers.body,this.rowContainers.pinnedLeft,this.rowContainers.pinnedRight,this.rowContainers.fullWidth,e,this.beans,t,i,this.printLayout,this.embedFullWidthRows);return r.init(),r},t.prototype.getRenderedNodes=function(){var e=this.rowCompsByIndex;return Object.keys(e).map((function(t){return e[t].getRowNode()}))},t.prototype.navigateToNextCell=function(e,t,o,n){for(var i=o,r=!1;i&&(i===o||!this.isValidNavigateCell(i));)this.gridOptionsWrapper.isEnableRtl()?t===ze.KEY_LEFT&&(i=this.getLastCellOfColSpan(i)):t===ze.KEY_RIGHT&&(i=this.getLastCellOfColSpan(i)),i=this.cellNavigationService.getNextCellToFocus(t,i),r=et.missing(i);if(r&&e.keyCode===ze.KEY_UP&&(i={rowIndex:-1,rowPinned:null,column:o.column}),n){var s=this.gridOptionsWrapper.getNavigateToNextCellFunc();if(et.exists(s)){var a=s({key:t,previousCellPosition:o,nextCellPosition:i||null,event:e});et.exists(a)?(a.floating&&(et.doOnce((function(){console.warn("ag-Grid: tabToNextCellFunc return type should have attributes: rowIndex, rowPinned, column. However you had 'floating', maybe you meant 'rowPinned'?")}),"no floating in userCell"),a.rowPinned=a.floating),i={rowPinned:a.rowPinned,rowIndex:a.rowIndex,column:a.column}):i=null}}if(i)if(i.rowIndex<0){var l=this.beans.headerNavigationService.getHeaderRowCount();this.focusController.focusHeaderPosition({headerRowIndex:l+i.rowIndex,column:o.column})}else{this.ensureCellVisible(i);var c=this.getComponentForCell(i);c&&(i=c.getCellPosition(),this.ensureCellVisible(i),this.focusController.setFocusedCell(i.rowIndex,i.column,i.rowPinned,!0),this.rangeController&&this.rangeController.setRangeToCell(i))}},t.prototype.isValidNavigateCell=function(e){var t=this.rowPositionUtils.getRowNode(e);if(t.detail||t.isFullWidthCell())return!1;if(!t.group)return!0;var o=this.columnController.isPivotMode();return!this.gridOptionsWrapper.isGroupUseEntireRow(o)},t.prototype.getLastCellOfColSpan=function(e){var t=this.getComponentForCell(e);if(!t)return e;var o=t.getColSpanningList();return 1===o.length?e:{rowIndex:e.rowIndex,column:et.last(o),rowPinned:e.rowPinned}},t.prototype.ensureCellVisible=function(e){et.missing(e.rowPinned)&&this.gridPanel.ensureIndexVisible(e.rowIndex),e.column.isPinned()||this.gridPanel.ensureColumnVisible(e.column),this.gridPanel.horizontallyScrollHeaderCenterAndFloatingCenter(),this.animationFrameService.flushAllFrames()},t.prototype.startEditingCell=function(e,t,o){var n=this.getComponentForCell(e);n&&n.startRowOrCellEdit(t,o)},t.prototype.getComponentForCell=function(e){var t;switch(e.rowPinned){case ze.PINNED_TOP:t=this.floatingTopRowComps[e.rowIndex];break;case ze.PINNED_BOTTOM:t=this.floatingBottomRowComps[e.rowIndex];break;default:t=this.rowCompsByIndex[e.rowIndex]}return t?t.getRenderedCellForColumn(e.column):null},t.prototype.getRowNode=function(e){switch(e.rowPinned){case ze.PINNED_TOP:return this.pinnedRowModel.getPinnedTopRowData()[e.rowIndex];case ze.PINNED_BOTTOM:return this.pinnedRowModel.getPinnedBottomRowData()[e.rowIndex];default:return this.rowModel.getRow(e.rowIndex)}},t.prototype.onTabKeyDown=function(e,t){var o=t.shiftKey;if(this.moveToCellAfter(e,o))t.preventDefault();else if(t.shiftKey){0===e.getCellPosition().rowIndex&&(t.preventDefault(),this.focusController.focusHeaderPosition({headerRowIndex:this.beans.headerNavigationService.getHeaderRowCount()-1,column:et.last(this.columnController.getAllDisplayedColumns())}))}},t.prototype.tabToNextCell=function(e){var t=this.focusController.getFocusedCell();if(et.missing(t))return!1;var o=this.getComponentForCell(t);return!et.missing(o)&&this.moveToCellAfter(o,e)},t.prototype.moveToCellAfter=function(e,t){return e.isEditing()?this.gridOptionsWrapper.isFullRowEdit()?this.moveToNextEditingRow(e,t):this.moveToNextEditingCell(e,t):this.moveToNextCellNotEditing(e,t)},t.prototype.moveToNextEditingCell=function(e,t){var o=e.getCellPosition();e.stopEditing();var n=this.findNextCellToFocusOn(o,t,!0),i=et.exists(n);return i&&(n.startEditingIfEnabled(null,null,!0),n.focusCell(!1)),i},t.prototype.moveToNextEditingRow=function(e,t){var o=e.getCellPosition(),n=this.findNextCellToFocusOn(o,t,!0),i=et.exists(n);return i&&this.moveEditToNextCellOrRow(e,n),i},t.prototype.moveToNextCellNotEditing=function(e,t){var o=e.getCellPosition(),n=this.findNextCellToFocusOn(o,t,!1),i=et.exists(n);return i&&n.focusCell(!0),i},t.prototype.moveEditToNextCellOrRow=function(e,t){var o=e.getCellPosition(),n=t.getCellPosition();if(o.rowIndex===n.rowIndex&&o.rowPinned===n.rowPinned)e.setFocusOutOnEditor(),t.setFocusInOnEditor();else{var i=e.getRenderedRow(),r=t.getRenderedRow();e.setFocusOutOnEditor(),i.stopEditing(),r.startRowEditing(),t.setFocusInOnEditor()}t.focusCell()},t.prototype.findNextCellToFocusOn=function(e,t,o){for(var n=e;;){t||(n=this.getLastCellOfColSpan(n)),n=this.cellNavigationService.getNextTabbedCell(n,t);var i=this.gridOptionsWrapper.getTabToNextCellFunc();if(et.exists(i)){var r=i({backwards:t,editing:o,previousCellPosition:e,nextCellPosition:n||null});et.exists(r)?(r.floating&&(et.doOnce((function(){console.warn("ag-Grid: tabToNextCellFunc return type should have attributes: rowIndex, rowPinned, column. However you had 'floating', maybe you meant 'rowPinned'?")}),"no floating in userCell"),r.rowPinned=r.floating),n={rowIndex:r.rowIndex,column:r.column,rowPinned:r.rowPinned}):n=null}if(!n)return null;if(o){var s=this.lookupRowNodeForCell(n);if(!n.column.isCellEditable(s))continue}et.missing(n.rowPinned)&&this.gridPanel.ensureIndexVisible(n.rowIndex),n.column.isPinned()||this.gridPanel.ensureColumnVisible(n.column),this.gridPanel.horizontallyScrollHeaderCenterAndFloatingCenter(),this.animationFrameService.flushAllFrames();var a=this.getComponentForCell(n);if(!et.missing(a)&&!a.isSuppressNavigable())return this.rangeController&&this.rangeController.setRangeToCell(n),a}},t.prototype.lookupRowNodeForCell=function(e){return e.rowPinned===ze.PINNED_TOP?this.pinnedRowModel.getPinnedTopRow(e.rowIndex):e.rowPinned===ze.PINNED_BOTTOM?this.pinnedRowModel.getPinnedBottomRow(e.rowIndex):this.paginationProxy.getRow(e.rowIndex)},lr([ut("paginationProxy")],t.prototype,"paginationProxy",void 0),lr([ut("columnController")],t.prototype,"columnController",void 0),lr([ut("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),lr([ut("$scope")],t.prototype,"$scope",void 0),lr([ut("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),lr([ut("rowModel")],t.prototype,"rowModel",void 0),lr([ut("loggerFactory")],t.prototype,"loggerFactory",void 0),lr([ut("focusController")],t.prototype,"focusController",void 0),lr([ut("cellNavigationService")],t.prototype,"cellNavigationService",void 0),lr([ut("columnApi")],t.prototype,"columnApi",void 0),lr([ut("gridApi")],t.prototype,"gridApi",void 0),lr([ut("beans")],t.prototype,"beans",void 0),lr([ut("maxDivHeightScaler")],t.prototype,"maxDivHeightScaler",void 0),lr([ut("animationFrameService")],t.prototype,"animationFrameService",void 0),lr([ut("rowPositionUtils")],t.prototype,"rowPositionUtils",void 0),lr([dt("rangeController")],t.prototype,"rangeController",void 0),lr([cr(0,pt("loggerFactory"))],t.prototype,"agWire",null),t=lr([ct("rowRenderer")],t)}(xt),dr=function(){function e(){}return e.addHeaderClassesFromColDef=function(e,t,o,n,i){et.missing(e)||this.addColumnClassesFromCollDef(e.headerClass,e,t,o,n,i)},e.addToolPanelClassesFromColDef=function(e,t,o,n,i){et.missing(e)||this.addColumnClassesFromCollDef(e.toolPanelClass,e,t,o,n,i)},e.addColumnClassesFromCollDef=function(e,t,o,n,i,r){if(!et.missing(e)){var s;if("function"===typeof e)s=e({colDef:t,column:i,columnGroup:r,context:n.getContext(),api:n.getApi()});else s=e;"string"===typeof s?et.addCssClass(o,s):Array.isArray(s)&&s.forEach((function(e){et.addCssClass(o,e)}))}},e}(),hr=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),pr=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},gr=function(e){function t(t,o){var n=e.call(this)||this;return n.columns=t,n.element=o,n}return hr(t,e),t.prototype.postConstruct=function(){this.addMouseHoverListeners()},t.prototype.addMouseHoverListeners=function(){this.addManagedListener(this.element,"mouseout",this.onMouseOut.bind(this)),this.addManagedListener(this.element,"mouseover",this.onMouseOver.bind(this))},t.prototype.onMouseOut=function(){this.columnHoverService.clearMouseOver()},t.prototype.onMouseOver=function(){this.columnHoverService.setMouseOver(this.columns)},pr([ut("columnHoverService")],t.prototype,"columnHoverService",void 0),pr([at],t.prototype,"postConstruct",null),t}(xt),fr=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),mr=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},vr=function(e){function t(t,o,n,i){var r=e.call(this)||this;return r.columnOrGroup=t,r.eCell=o,r.ariaEl=r.eCell.querySelector("[role=columnheader]")||r.eCell,r.colsSpanning=i,r.beans=n,r.printLayout=n.gridOptionsWrapper.getDomLayout()===ze.DOM_LAYOUT_PRINT,r}return fr(t,e),t.prototype.setColsSpanning=function(e){this.colsSpanning=e,this.onLeftChanged()},t.prototype.getColumnOrGroup=function(){return this.beans.gridOptionsWrapper.isEnableRtl()&&this.colsSpanning?et.last(this.colsSpanning):this.columnOrGroup},t.prototype.postConstruct=function(){this.addManagedListener(this.columnOrGroup,bt.EVENT_LEFT_CHANGED,this.onLeftChanged.bind(this)),this.setLeftFirstTime()},t.prototype.setLeftFirstTime=function(){var e=this.beans.gridOptionsWrapper.isSuppressColumnMoveAnimation(),t=et.exists(this.columnOrGroup.getOldLeft());this.beans.columnAnimationService.isActive()&&t&&!e?this.animateInLeft():this.onLeftChanged()},t.prototype.animateInLeft=function(){var e=this,t=this.getColumnOrGroup().getLeft(),o=this.getColumnOrGroup().getOldLeft();this.setLeft(o),this.actualLeft=t,this.beans.columnAnimationService.executeNextVMTurn((function(){e.actualLeft===t&&e.setLeft(t)}))},t.prototype.onLeftChanged=function(){var e=this.getColumnOrGroup(),t=e.getLeft();this.actualLeft=this.modifyLeftForPrintLayout(e,t),this.setLeft(this.actualLeft)},t.prototype.modifyLeftForPrintLayout=function(e,t){return this.printLayout?e.getPinned()===ze.PINNED_LEFT?t:e.getPinned()===ze.PINNED_RIGHT?this.beans.columnController.getPinnedLeftContainerWidth()+this.beans.columnController.getBodyContainerWidth()+t:this.beans.columnController.getPinnedLeftContainerWidth()+t:t},t.prototype.setLeft=function(e){if(et.exists(e)&&(this.eCell.style.left=e+"px"),this.columnOrGroup instanceof bt){var t=this.beans.columnController.getAllDisplayedColumns().indexOf(this.columnOrGroup);this.ariaEl.setAttribute("aria-colindex",(t+1).toString())}else this.ariaEl.removeAttribute("aria-colindex")},mr([at],t.prototype,"postConstruct",null),t}(xt),yr=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Cr=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},wr=function(e){function t(t,o){var n=e.call(this)||this;n.cbSelectAllVisible=!1,n.processingEventFromCheckbox=!1,n.cbSelectAll=t,n.column=o;var i=o.getColDef();return n.filteredOnly=!!i&&!!i.headerCheckboxSelectionFilteredOnly,n}return yr(t,e),t.prototype.postConstruct=function(){this.showOrHideSelectAll(),this.addManagedListener(this.eventService,_t.EVENT_DISPLAYED_COLUMNS_CHANGED,this.showOrHideSelectAll.bind(this)),this.addManagedListener(this.eventService,_t.EVENT_SELECTION_CHANGED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.eventService,_t.EVENT_MODEL_UPDATED,this.onModelChanged.bind(this)),this.addManagedListener(this.cbSelectAll,Jo.EVENT_CHANGED,this.onCbSelectAll.bind(this))},t.prototype.showOrHideSelectAll=function(){this.cbSelectAllVisible=this.isCheckboxSelection(),this.cbSelectAll.setDisplayed(this.cbSelectAllVisible),this.cbSelectAllVisible&&(this.checkRightRowModelType(),this.updateStateOfCheckbox())},t.prototype.onModelChanged=function(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()},t.prototype.onSelectionChanged=function(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()},t.prototype.getNextCheckboxState=function(e){return(0!==e.selected||0!==e.notSelected)&&(e.selected>0&&e.notSelected>0?null:e.selected>0)},t.prototype.updateStateOfCheckbox=function(){if(!this.processingEventFromCheckbox){this.processingEventFromCheckbox=!0;var e=this.getSelectionCount(),t=this.getNextCheckboxState(e);this.cbSelectAll.setValue(t),this.processingEventFromCheckbox=!1}},t.prototype.getSelectionCount=function(){var e=this,t=0,o=0,n=function(n){e.gridOptionsWrapper.isGroupSelectsChildren()&&n.group||(n.isSelected()?t++:n.selectable&&o++)};return this.filteredOnly?this.gridApi.forEachNodeAfterFilter(n):this.gridApi.forEachNode(n),{notSelected:o,selected:t}},t.prototype.checkRightRowModelType=function(){var e=this.rowModel.getType();e===ze.ROW_MODEL_TYPE_CLIENT_SIDE||console.warn("ag-Grid: selectAllCheckbox is only available if using normal row model, you are using "+e)},t.prototype.onCbSelectAll=function(){this.processingEventFromCheckbox||this.cbSelectAllVisible&&(this.cbSelectAll.getValue()?this.selectionController.selectAllRowNodes(this.filteredOnly):this.selectionController.deselectAllRowNodes(this.filteredOnly))},t.prototype.isCheckboxSelection=function(){var e=this.column.getColDef().headerCheckboxSelection;"function"===typeof e&&(e=e({column:this.column,colDef:this.column.getColDef(),columnApi:this.columnApi,api:this.gridApi}));return!!e&&(this.gridOptionsWrapper.isRowModelServerSide()?(console.warn("headerCheckboxSelection is not supported for Server Side Row Model"),!1):this.gridOptionsWrapper.isRowModelInfinite()?(console.warn("headerCheckboxSelection is not supported for Infinite Row Model"),!1):!this.gridOptionsWrapper.isRowModelViewport()||(console.warn("headerCheckboxSelection is not supported for Viewport Row Model"),!1))},Cr([ut("gridApi")],t.prototype,"gridApi",void 0),Cr([ut("columnApi")],t.prototype,"columnApi",void 0),Cr([ut("rowModel")],t.prototype,"rowModel",void 0),Cr([ut("selectionController")],t.prototype,"selectionController",void 0),Cr([ut("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),Cr([at],t.prototype,"postConstruct",null),t}(xt),br=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Sr=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Er=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.skipTabGuardFocus=!1,t}return br(t,e),t.prototype.postConstruct=function(){this.getFocusableElement()&&this.wireFocusManagement()},t.prototype.wireFocusManagement=function(){var e=this,o=this.getFocusableElement();et.addCssClass(o,t.FOCUS_MANAGED_CLASS),this.isFocusableContainer()&&(this.topTabGuard=this.createTabGuard("top"),this.bottomTabGuard=this.createTabGuard("bottom"),this.addTabGuards(),this.activateTabGuards(),this.forEachTabGuard((function(t){e.addManagedListener(t,"focus",e.onFocus.bind(e))}))),(this.onTabKeyDown||this.handleKeyDown)&&this.addKeyDownListeners(o),this.addManagedListener(o,"focusin",this.onFocusIn.bind(this)),this.addManagedListener(o,"focusout",this.onFocusOut.bind(this))},t.prototype.isFocusableContainer=function(){return!1},t.prototype.focusInnerElement=function(e){var t=this.focusController.findFocusableElements(this.getFocusableElement(),'.ag-tab-guard, :not([tabindex="-1"])');t.length&&t[e?t.length-1:0].focus()},t.prototype.onFocusIn=function(e){this.isFocusableContainer()&&this.deactivateTabGuards()},t.prototype.onFocusOut=function(e){this.isFocusableContainer()&&(this.getFocusableElement().contains(e.relatedTarget)||this.activateTabGuards())},t.prototype.forceFocusOutOfContainer=function(){this.activateTabGuards(),this.skipTabGuardFocus=!0,this.bottomTabGuard.focus()},t.prototype.appendChild=function(t,o){if(this.isFocusableContainer()){et.isNodeOrElement(t)||(t=t.getGui());var n=this.bottomTabGuard;n?n.insertAdjacentElement("beforebegin",t):e.prototype.appendChild.call(this,t,o)}else e.prototype.appendChild.call(this,t,o)},t.prototype.createTabGuard=function(e){var t=document.createElement("div");return t.classList.add("ag-tab-guard"),t.classList.add("ag-tab-guard-"+e),t},t.prototype.addTabGuards=function(){var e=this.getFocusableElement();e.insertAdjacentElement("afterbegin",this.topTabGuard),e.insertAdjacentElement("beforeend",this.bottomTabGuard)},t.prototype.forEachTabGuard=function(e){[this.topTabGuard,this.bottomTabGuard].forEach(e)},t.prototype.addKeyDownListeners=function(e){var t=this;this.addManagedListener(e,"keydown",(function(e){e.defaultPrevented||(e.keyCode===ze.KEY_TAB&&t.onTabKeyDown?t.onTabKeyDown(e):t.handleKeyDown&&t.handleKeyDown(e))}))},t.prototype.onFocus=function(e){this.isFocusableContainer()&&(this.skipTabGuardFocus?this.skipTabGuardFocus=!1:this.focusInnerElement(e.target===this.bottomTabGuard))},t.prototype.activateTabGuards=function(){this.forEachTabGuard((function(e){return e.setAttribute("tabIndex","0")}))},t.prototype.deactivateTabGuards=function(){this.forEachTabGuard((function(e){return e.removeAttribute("tabindex")}))},t.FOCUS_MANAGED_CLASS="ag-focus-managed",Sr([ut("focusController")],t.prototype,"focusController",void 0),Sr([at],t.prototype,"postConstruct",null),t}(so),Rr=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Pr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Rr(t,e),t.prototype.getColumn=function(){return this.column},t.prototype.getPinned=function(){return this.pinned},t}(Er),Or=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),xr=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Tr=function(e){function o(t,n,i){var r=e.call(this,o.TEMPLATE)||this;return r.column=t,r.dragSourceDropTarget=n,r.pinned=i,r}return Or(o,e),o.prototype.postConstruct=function(){e.prototype.postConstruct.call(this);var t=this.getComponentHolder(),o=this.columnController.getDisplayNameForColumn(this.column,"header",!0),n=t.sortable,i=this.menuEnabled=this.menuFactory.isMenuEnabled(this.column)&&!t.suppressMenu;this.appendHeaderComp(o,n,i),this.setupWidth(),this.setupMovingCss(),this.setupTooltip(),this.setupResize(),this.setupMenuClass(),this.setupSortableClass(n),this.addColumnHoverListener(),this.addDisplayMenuListeners(),this.cbSelectAll.setInputAriaLabel("Toggle Selection of All Rows"),this.createManagedBean(new gr([this.column],this.getGui())),this.addManagedListener(this.column,bt.EVENT_FILTER_ACTIVE_CHANGED,this.onFilterChanged.bind(this)),this.onFilterChanged(),this.createManagedBean(new wr(this.cbSelectAll,this.column));var r=new vr(this.column,this.getGui(),this.beans);this.createManagedBean(r),this.addAttributes(),dr.addHeaderClassesFromColDef(t,this.getGui(),this.gridOptionsWrapper,this.column,null)},o.prototype.addDisplayMenuListeners=function(){var e=this.onMouseOverOut.bind(this);this.addGuiEventListener("mouseenter",e),this.addGuiEventListener("mouseleave",e)},o.prototype.onMouseOverOut=function(e){this.headerComp&&this.headerComp.setActiveParent&&this.headerComp.setActiveParent("mouseenter"===e.type)},o.prototype.onFocusIn=function(e){if(!this.getGui().contains(e.relatedTarget)){var t=this.getParentComponent();this.focusController.setFocusedHeader(t.getRowIndex(),this.getColumn())}this.headerComp&&this.headerComp.setActiveParent&&this.headerComp.setActiveParent(!0)},o.prototype.onFocusOut=function(e){this.headerComp&&this.headerComp.setActiveParent&&!this.getGui().contains(e.relatedTarget)&&this.headerComp.setActiveParent(!1)},o.prototype.handleKeyDown=function(e){var t=this.headerComp;if(t){if(e.keyCode===ze.KEY_SPACE){var o=this.cbSelectAll;o.isDisplayed()&&!o.getGui().contains(document.activeElement)&&o.setValue(!o.getValue())}if(e.keyCode===ze.KEY_ENTER)if(e.ctrlKey||e.metaKey)this.menuEnabled&&t.showMenu&&(e.preventDefault(),t.showMenu());else if(this.sortable){var n=e.shiftKey;this.sortController.progressSort(this.column,n,"uiColumnSorted")}}},o.prototype.getComponentHolder=function(){return this.column.getColDef()},o.prototype.addColumnHoverListener=function(){this.addManagedListener(this.eventService,_t.EVENT_COLUMN_HOVER_CHANGED,this.onColumnHover.bind(this)),this.onColumnHover()},o.prototype.onColumnHover=function(){var e=this.columnHoverService.isHovered(this.column);et.addOrRemoveCssClass(this.getGui(),"ag-column-hover",e)},o.prototype.setupSortableClass=function(e){if(e){var t=this.getGui();et.addCssClass(t,"ag-header-cell-sortable"),this.sortable=!0}},o.prototype.onFilterChanged=function(){var e=this.column.isFilterActive();et.addOrRemoveCssClass(this.getGui(),"ag-header-cell-filtered",e)},o.prototype.appendHeaderComp=function(e,t,o){var n=this,i={column:this.column,displayName:e,enableSorting:t,enableMenu:o,showColumnMenu:function(e){n.gridApi.showColumnMenuAfterButtonClick(n.column,e)},progressSort:function(e){n.sortController.progressSort(n.column,!!e,"uiColumnSorted")},setSort:function(e,t){n.sortController.setSortForColumn(n.column,e,!!t,"uiColumnSorted")},api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsWrapper.getContext()},r=this.afterHeaderCompCreated.bind(this,e);this.userComponentFactory.newHeaderComponent(i).then(r)},o.prototype.afterHeaderCompCreated=function(e,t){var o=this;this.getGui().appendChild(t.getGui()),this.addDestroyFunc((function(){o.getContext().destroyBean(t)})),this.setupMove(t.getGui(),e),this.headerComp=t},o.prototype.onColumnMovingChanged=function(){this.column.isMoving()?et.addCssClass(this.getGui(),"ag-header-cell-moving"):et.removeCssClass(this.getGui(),"ag-header-cell-moving")},o.prototype.setupMove=function(e,o){var n=this,i=this.column.getColDef(),r=this.gridOptionsWrapper.isSuppressMovableColumns()||this.getComponentHolder().suppressMovable||i.lockPosition;if((!r||i.enableRowGroup||i.enablePivot)&&e){var s={type:t.DragSourceType.HeaderCell,eElement:e,defaultIconName:Gi.ICON_HIDE,getDragItem:function(){return n.createDragItem()},dragItemName:o,dragSourceDropTarget:this.dragSourceDropTarget,onDragStarted:function(){return!r&&n.column.setMoving(!0,"uiColumnMoved")},onDragStopped:function(){return!r&&n.column.setMoving(!1,"uiColumnMoved")}};this.dragAndDropService.addDragSource(s,!0),this.addDestroyFunc((function(){return n.dragAndDropService.removeDragSource(s)}))}},o.prototype.createDragItem=function(){var e={};return e[this.column.getId()]=this.column.isVisible(),{columns:[this.column],visibleState:e}},o.prototype.setupResize=function(){var e=this,t=this.getComponentHolder();if(this.eResize)if(this.column.isResizable()){var o=this.horizontalResizeService.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});this.addDestroyFunc(o);var n=!this.gridOptionsWrapper.isSuppressAutoSize()&&!t.suppressAutoSize,i=this.gridOptionsWrapper.isSkipHeaderOnAutoSize();if(n){this.addManagedListener(this.eResize,"dblclick",(function(){e.columnController.autoSizeColumn(e.column,i,"uiColumnResized")}));var r=new Io(this.eResize);this.addManagedListener(r,Io.EVENT_DOUBLE_TAP,(function(){e.columnController.autoSizeColumn(e.column,i,"uiColumnResized")})),this.addDestroyFunc(r.destroy.bind(r))}}else et.removeFromParent(this.eResize)},o.prototype.onResizing=function(e,t){var o=this.normaliseResizeAmount(t),n=[{key:this.column,newWidth:this.resizeStartWidth+o}];this.columnController.setColumnWidths(n,this.resizeWithShiftKey,e,"uiColumnDragged"),e&&et.removeCssClass(this.getGui(),"ag-column-resizing")},o.prototype.onResizeStart=function(e){this.resizeStartWidth=this.column.getActualWidth(),this.resizeWithShiftKey=e,et.addCssClass(this.getGui(),"ag-column-resizing")},o.prototype.getTooltipText=function(){return this.getComponentHolder().headerTooltip},o.prototype.setupTooltip=function(){var e=this.getTooltipText();null!=e&&(this.gridOptionsWrapper.isEnableBrowserTooltips()?this.getGui().setAttribute("title",e):this.createManagedBean(new er(this,"header")))},o.prototype.setupMovingCss=function(){this.addManagedListener(this.column,bt.EVENT_MOVING_CHANGED,this.onColumnMovingChanged.bind(this)),this.onColumnMovingChanged()},o.prototype.addAttributes=function(){this.getGui().setAttribute("col-id",this.column.getColId())},o.prototype.setupWidth=function(){this.addManagedListener(this.column,bt.EVENT_WIDTH_CHANGED,this.onColumnWidthChanged.bind(this)),this.onColumnWidthChanged()},o.prototype.setupMenuClass=function(){this.addManagedListener(this.column,bt.EVENT_MENU_VISIBLE_CHANGED,this.onMenuVisible.bind(this)),this.onColumnWidthChanged()},o.prototype.onMenuVisible=function(){this.addOrRemoveCssClass("ag-column-menu-visible",this.column.isMenuVisible())},o.prototype.onColumnWidthChanged=function(){this.getGui().style.width=this.column.getActualWidth()+"px"},o.prototype.normaliseResizeAmount=function(e){var t=e;return this.gridOptionsWrapper.isEnableRtl()?this.pinned!==ze.PINNED_LEFT&&(t*=-1):this.pinned===ze.PINNED_RIGHT&&(t*=-1),t},o.TEMPLATE='<div class="ag-header-cell" role="presentation" unselectable="on" tabindex="-1">\n            <div ref="eResize" class="ag-header-cell-resize" role="presentation"></div>\n            <ag-checkbox ref="cbSelectAll" class="ag-header-select-all" role="presentation"></ag-checkbox>\n        </div>',xr([ut("gridOptionsWrapper")],o.prototype,"gridOptionsWrapper",void 0),xr([ut("dragAndDropService")],o.prototype,"dragAndDropService",void 0),xr([ut("columnController")],o.prototype,"columnController",void 0),xr([ut("horizontalResizeService")],o.prototype,"horizontalResizeService",void 0),xr([ut("menuFactory")],o.prototype,"menuFactory",void 0),xr([ut("gridApi")],o.prototype,"gridApi",void 0),xr([ut("columnApi")],o.prototype,"columnApi",void 0),xr([ut("sortController")],o.prototype,"sortController",void 0),xr([ut("userComponentFactory")],o.prototype,"userComponentFactory",void 0),xr([ut("columnHoverService")],o.prototype,"columnHoverService",void 0),xr([ut("beans")],o.prototype,"beans",void 0),xr([co("eResize")],o.prototype,"eResize",void 0),xr([co("cbSelectAll")],o.prototype,"cbSelectAll",void 0),o}(Pr),Dr=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Ar=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Fr=function(e){function o(t,n,i){var r=e.call(this,o.TEMPLATE)||this;return r.removeChildListenersFuncs=[],r.column=t,r.dragSourceDropTarget=n,r.pinned=i,r}return Dr(o,e),o.prototype.postConstruct=function(){e.prototype.postConstruct.call(this),dr.addHeaderClassesFromColDef(this.getComponentHolder(),this.getGui(),this.gridOptionsWrapper,null,this.column);var t=this.columnController.getDisplayNameForColumnGroup(this.column,"header");this.appendHeaderGroupComp(t),this.setupResize(),this.addClasses(),this.setupWidth(),this.addAttributes(),this.setupMovingCss(),this.setupTooltip(),this.createManagedBean(new gr(this.column.getOriginalColumnGroup().getLeafColumns(),this.getGui())),this.createManagedBean(new vr(this.column,this.getGui(),this.beans))},o.prototype.onFocusIn=function(e){if(!this.getGui().contains(e.relatedTarget)){var t=this.getParentComponent();this.beans.focusController.setFocusedHeader(t.getRowIndex(),this.getColumn())}},o.prototype.handleKeyDown=function(e){var t=document.activeElement===this.getGui();if(e.keyCode===ze.KEY_ENTER)if(t){var o=this.getColumn();if(o.isExpandable()){var n=!o.isExpanded();this.columnController.setColumnGroupOpened(o.getOriginalColumnGroup(),n,"uiColumnExpanded")}}},o.prototype.setupMovingCss=function(){var e=this;this.column.getOriginalColumnGroup().getLeafColumns().forEach((function(t){e.addManagedListener(t,bt.EVENT_MOVING_CHANGED,e.onColumnMovingChanged.bind(e))})),this.onColumnMovingChanged()},o.prototype.getComponentHolder=function(){return this.column.getColGroupDef()},o.prototype.getTooltipText=function(){var e=this.getComponentHolder();return e&&e.headerTooltip},o.prototype.setupTooltip=function(){var e=this.getTooltipText();null!=e&&(this.gridOptionsWrapper.isEnableBrowserTooltips()?this.getGui().setAttribute("title",e):this.createManagedBean(new er(this,"headerGroup")))},o.prototype.onColumnMovingChanged=function(){et.addOrRemoveCssClass(this.getGui(),"ag-header-cell-moving",this.column.isMoving())},o.prototype.addAttributes=function(){this.getGui().setAttribute("col-id",this.column.getUniqueId())},o.prototype.appendHeaderGroupComp=function(e){var t=this,o={displayName:e,columnGroup:this.column,setExpanded:function(e){t.columnController.setColumnGroupOpened(t.column.getOriginalColumnGroup(),e,"gridInitializing")},api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsWrapper.getContext()};if(!e){for(var n=this.column,i=n.getLeafColumns();n.getParent()&&n.getParent().getLeafColumns().length===i.length;)n=n.getParent();var r=n.getColGroupDef();r&&(e=r.headerName),e||(e=i?this.columnController.getDisplayNameForColumn(i[0],"header",!0):"")}var s=this.afterHeaderCompCreated.bind(this,e);this.userComponentFactory.newHeaderGroupComponent(o).then(s)},o.prototype.afterHeaderCompCreated=function(e,t){var o=this;this.getGui().appendChild(t.getGui()),this.addDestroyFunc((function(){o.getContext().destroyBean(t)})),this.setupMove(t.getGui(),e)},o.prototype.addClasses=function(){var e=this.column.isPadding()?"no":"with";this.addCssClass("ag-header-group-cell-"+e+"-group")},o.prototype.setupMove=function(e,o){var n=this;if(e&&!this.isSuppressMoving()){var i=this.column.getOriginalColumnGroup().getLeafColumns(),r={type:t.DragSourceType.HeaderCell,eElement:e,defaultIconName:Gi.ICON_HIDE,dragItemName:o,getDragItem:this.getDragItemForGroup.bind(this),dragSourceDropTarget:this.dragSourceDropTarget,onDragStarted:function(){return i.forEach((function(e){return e.setMoving(!0,"uiColumnDragged")}))},onDragStopped:function(){return i.forEach((function(e){return e.setMoving(!1,"uiColumnDragged")}))}};this.dragAndDropService.addDragSource(r,!0),this.addDestroyFunc((function(){return n.dragAndDropService.removeDragSource(r)}))}},o.prototype.getDragItemForGroup=function(){var e=this.column.getOriginalColumnGroup().getLeafColumns(),t={};e.forEach((function(e){return t[e.getId()]=e.isVisible()}));var o=[];return this.columnController.getAllDisplayedColumns().forEach((function(t){e.indexOf(t)>=0&&(o.push(t),et.removeFromArray(e,t))})),e.forEach((function(e){return o.push(e)})),{columns:o,visibleState:t}},o.prototype.isSuppressMoving=function(){var e=!1;return this.column.getLeafColumns().forEach((function(t){(t.getColDef().suppressMovable||t.getColDef().lockPosition)&&(e=!0)})),e||this.gridOptionsWrapper.isSuppressMovableColumns()},o.prototype.setupWidth=function(){this.addListenersToChildrenColumns(),this.addManagedListener(this.column,Et.EVENT_DISPLAYED_CHILDREN_CHANGED,this.onDisplayedChildrenChanged.bind(this)),this.onWidthChanged(),this.addDestroyFunc(this.removeListenersOnChildrenColumns.bind(this))},o.prototype.onDisplayedChildrenChanged=function(){this.addListenersToChildrenColumns(),this.onWidthChanged()},o.prototype.addListenersToChildrenColumns=function(){var e=this;this.removeListenersOnChildrenColumns();var t=this.onWidthChanged.bind(this);this.column.getLeafColumns().forEach((function(o){o.addEventListener(bt.EVENT_WIDTH_CHANGED,t),o.addEventListener(bt.EVENT_VISIBLE_CHANGED,t),e.removeChildListenersFuncs.push((function(){o.removeEventListener(bt.EVENT_WIDTH_CHANGED,t),o.removeEventListener(bt.EVENT_VISIBLE_CHANGED,t)}))}))},o.prototype.removeListenersOnChildrenColumns=function(){this.removeChildListenersFuncs.forEach((function(e){return e()})),this.removeChildListenersFuncs=[]},o.prototype.onWidthChanged=function(){this.getGui().style.width=this.column.getActualWidth()+"px"},o.prototype.setupResize=function(){var e=this;if(this.eHeaderCellResize=this.getRefElement("agResize"),this.column.isResizable()){var t=this.horizontalResizeService.addResizeBar({eResizeBar:this.eHeaderCellResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});if(this.addDestroyFunc(t),!this.gridOptionsWrapper.isSuppressAutoSize()){var o=this.gridOptionsWrapper.isSkipHeaderOnAutoSize();this.eHeaderCellResize.addEventListener("dblclick",(function(t){var n=[];e.column.getDisplayedLeafColumns().forEach((function(e){e.getColDef().suppressAutoSize||n.push(e.getColId())})),n.length>0&&e.columnController.autoSizeColumns(n,o,"uiColumnResized")}))}}else et.removeFromParent(this.eHeaderCellResize)},o.prototype.onResizeStart=function(e){var t=this,o=this.column.getDisplayedLeafColumns();this.resizeCols=o.filter((function(e){return e.isResizable()})),this.resizeStartWidth=0,this.resizeCols.forEach((function(e){return t.resizeStartWidth+=e.getActualWidth()})),this.resizeRatios=[],this.resizeCols.forEach((function(e){return t.resizeRatios.push(e.getActualWidth()/t.resizeStartWidth)}));var n=null;if(e&&(n=this.columnController.getDisplayedGroupAfter(this.column)),n){var i=n.getDisplayedLeafColumns();this.resizeTakeFromCols=i.filter((function(e){return e.isResizable()})),this.resizeTakeFromStartWidth=0,this.resizeTakeFromCols.forEach((function(e){return t.resizeTakeFromStartWidth+=e.getActualWidth()})),this.resizeTakeFromRatios=[],this.resizeTakeFromCols.forEach((function(e){return t.resizeTakeFromRatios.push(e.getActualWidth()/t.resizeTakeFromStartWidth)}))}else this.resizeTakeFromCols=null,this.resizeTakeFromStartWidth=null,this.resizeTakeFromRatios=null;et.addCssClass(this.getGui(),"ag-column-resizing")},o.prototype.onResizing=function(e,t){var o=[],n=this.normaliseDragChange(t);o.push({columns:this.resizeCols,ratios:this.resizeRatios,width:this.resizeStartWidth+n}),this.resizeTakeFromCols&&o.push({columns:this.resizeTakeFromCols,ratios:this.resizeTakeFromRatios,width:this.resizeTakeFromStartWidth-n}),this.columnController.resizeColumnSets(o,e,"uiColumnDragged"),e&&et.removeCssClass(this.getGui(),"ag-column-resizing")},o.prototype.normaliseDragChange=function(e){var t=e;return this.gridOptionsWrapper.isEnableRtl()?this.pinned!==ze.PINNED_LEFT&&(t*=-1):this.pinned===ze.PINNED_RIGHT&&(t*=-1),t},o.TEMPLATE='<div class="ag-header-group-cell" role="presentation" tabindex="-1">\n            <div ref="agResize" class="ag-header-cell-resize" role="presentation"></div>\n        </div>',Ar([ut("gridOptionsWrapper")],o.prototype,"gridOptionsWrapper",void 0),Ar([ut("columnController")],o.prototype,"columnController",void 0),Ar([ut("horizontalResizeService")],o.prototype,"horizontalResizeService",void 0),Ar([ut("dragAndDropService")],o.prototype,"dragAndDropService",void 0),Ar([ut("userComponentFactory")],o.prototype,"userComponentFactory",void 0),Ar([ut("beans")],o.prototype,"beans",void 0),Ar([ut("gridApi")],o.prototype,"gridApi",void 0),Ar([ut("columnApi")],o.prototype,"columnApi",void 0),o}(Pr),_r=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Mr=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Ir=function(e){function t(){return e.call(this,'\n            <div class="ag-floating-filter-input" role="presentation">\n                <ag-input-text-field ref="eFloatingFilterText"></ag-input-text-field>\n            </div>')||this}return _r(t,e),t.prototype.destroy=function(){e.prototype.destroy.call(this)},t.prototype.init=function(e){this.params=e;var t=this.columnController.getDisplayNameForColumn(e.column,"header",!0);this.eFloatingFilterText.setDisabled(!0).setInputAriaLabel(t+" Filter Input")},t.prototype.onParentModelChanged=function(e){var t=this;e?this.params.parentFilterInstance((function(o){if(o.getModelAsString){var n=o.getModelAsString(e);t.eFloatingFilterText.setValue(n)}})):this.eFloatingFilterText.setValue("")},Mr([co("eFloatingFilterText")],t.prototype,"eFloatingFilterText",void 0),Mr([ut("columnController")],t.prototype,"columnController",void 0),t}(so),Lr=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Nr=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},kr=function(e){function o(t,n){var i=e.call(this,o.TEMPLATE)||this;return i.column=t,i.pinned=n,i}return Lr(o,e),o.prototype.postConstruct=function(){e.prototype.postConstruct.call(this),this.setupFloatingFilter(),this.setupWidth(),this.setupLeftPositioning(),this.setupColumnHover(),this.createManagedBean(new gr([this.column],this.getGui())),this.addManagedListener(this.eButtonShowMainFilter,"click",this.showParentFilter.bind(this))},o.prototype.onTabKeyDown=function(e){var t=document.activeElement,o=this.getGui();if(!(t===o)){e.preventDefault();var n=this.focusController.findNextFocusableElement(o,null,e.shiftKey);n?n.focus():o.focus()}},o.prototype.handleKeyDown=function(e){var t=document.activeElement,o=this.getGui(),n=t===o;switch(e.keyCode){case ze.KEY_UP:case ze.KEY_DOWN:n||e.preventDefault();case ze.KEY_LEFT:case ze.KEY_RIGHT:if(n)return;e.stopPropagation();case ze.KEY_ENTER:n&&this.focusController.focusFirstFocusableElement(o)&&e.preventDefault();break;case ze.KEY_ESCAPE:n||this.getGui().focus()}},o.prototype.onFocusIn=function(e){if(!this.getGui().contains(e.relatedTarget)){var t=this.getParentComponent();this.beans.focusController.setFocusedHeader(t.getRowIndex(),this.getColumn())}},o.prototype.setupFloatingFilter=function(){var e=this,t=this.column.getColDef();t.filter&&t.floatingFilter?(this.floatingFilterCompPromise=this.getFloatingFilterInstance(),this.floatingFilterCompPromise?this.floatingFilterCompPromise.then((function(t){t?(e.setupWithFloatingFilter(t),e.setupSyncWithFilter()):e.setupEmpty()})):this.setupEmpty()):this.setupEmpty()},o.prototype.setupLeftPositioning=function(){var e=new vr(this.column,this.getGui(),this.beans);this.createManagedBean(e)},o.prototype.setupSyncWithFilter=function(){var e=this,t=function(t){var o=e.getFilterComponent().resolveNow(null,(function(e){return e.getModel()}));e.onParentModelChanged(o,t)};this.addManagedListener(this.column,bt.EVENT_FILTER_CHANGED,t),this.filterManager.isFilterActive(this.column)&&t(null)},o.prototype.showParentFilter=function(){this.menuFactory.showMenuAfterButtonClick(this.column,this.eButtonShowMainFilter,"filterMenuTab",["filterMenuTab"])},o.prototype.setupColumnHover=function(){this.addManagedListener(this.eventService,_t.EVENT_COLUMN_HOVER_CHANGED,this.onColumnHover.bind(this)),this.onColumnHover()},o.prototype.onColumnHover=function(){F(this.getGui(),"ag-column-hover",this.columnHoverService.isHovered(this.column))},o.prototype.setupWidth=function(){this.addManagedListener(this.column,bt.EVENT_WIDTH_CHANGED,this.onColumnWidthChanged.bind(this)),this.onColumnWidthChanged()},o.prototype.onColumnWidthChanged=function(){this.getGui().style.width=this.column.getActualWidth()+"px"},o.prototype.setupWithFloatingFilter=function(e){var t=this,o=function(){t.getContext().destroyBean(e)};if(this.isAlive()){this.addDestroyFunc(o);var n=e.getGui();F(this.eFloatingFilterBody,"ag-floating-filter-body",!this.suppressFilterButton),F(this.eFloatingFilterBody,"ag-floating-filter-full-body",this.suppressFilterButton),M(this.eButtonWrapper,!this.suppressFilterButton);var i=We("filter",this.gridOptionsWrapper,this.column);this.eButtonShowMainFilter.appendChild(i),this.eFloatingFilterBody.appendChild(n),e.afterGuiAttached&&e.afterGuiAttached()}else o()},o.prototype.parentFilterInstance=function(e){this.getFilterComponent().then(e)},o.prototype.getFilterComponent=function(){return this.filterManager.getFilterComponent(this.column,"NO_UI")},o.prototype.getFloatingFilterInstance=function(){var e,n=this.column.getColDef();if("string"===typeof n.filter)e=o.filterToFloatingFilterNames[n.filter];else if(n.filterFramework);else if(!0===n.filter){e=Ct.isRegistered(t.ModuleNames.SetFilterModule)?"agSetColumnFloatingFilter":"agTextColumnFloatingFilter"}var i=this.filterManager.createFilterParams(this.column,this.column.getColDef()),r=this.userComponentFactory.createFinalParams(n,"filter",i),s={api:this.gridApi,column:this.column,filterParams:r,currentParentModel:this.currentParentModel.bind(this),parentFilterInstance:this.parentFilterInstance.bind(this),onFloatingFilterChanged:this.onFloatingFilterChanged.bind(this),suppressFilterButton:!1};this.suppressFilterButton=!!n.floatingFilterComponentParams&&!!n.floatingFilterComponentParams.suppressFilterButton;var a=this.userComponentFactory.newFloatingFilterComponent(n,s,e);if(!a){var l=this.getFilterComponentPrototype(n);if(l&&l.prototype&&l.prototype.getModelAsString){var c=this.userComponentFactory.createUserComponentFromConcreteClass(Ir,s);a=ot.resolve(c)}}return a},o.prototype.createDynamicParams=function(){return{column:this.column,colDef:this.column.getColDef(),api:this.gridApi,columnApi:this.columnApi}},o.prototype.getFilterComponentPrototype=function(e){var t=this.userComponentFactory.lookupComponentClassDef(e,"filter",this.createDynamicParams());return t?t.component:null},o.prototype.setupEmpty=function(){M(this.eButtonWrapper,!1)},o.prototype.currentParentModel=function(){return this.getFilterComponent().resolveNow(null,(function(e){return e.getModel()}))},o.prototype.onParentModelChanged=function(e,t){this.floatingFilterCompPromise&&this.floatingFilterCompPromise.then((function(o){return o.onParentModelChanged(e,t)}))},o.prototype.onFloatingFilterChanged=function(){console.warn("ag-Grid: since version 21.x, how floating filters are implemented has changed. Instead of calling params.onFloatingFilterChanged(), get a reference to the main filter via params.parentFilterInstance() and then set a value on the parent filter directly.")},o.filterToFloatingFilterNames={set:"agSetColumnFloatingFilter",agSetColumnFilter:"agSetColumnFloatingFilter",number:"agNumberColumnFloatingFilter",agNumberColumnFilter:"agNumberColumnFloatingFilter",date:"agDateColumnFloatingFilter",agDateColumnFilter:"agDateColumnFloatingFilter",text:"agTextColumnFloatingFilter",agTextColumnFilter:"agTextColumnFloatingFilter"},o.TEMPLATE='<div class="ag-header-cell" role="presentation" tabindex="-1">\n            <div ref="eFloatingFilterBody" role="columnheader"></div>\n            <div class="ag-floating-filter-button" ref="eButtonWrapper" role="presentation">\n                <button type="button" aria-label="Open Filter Menu" class="ag-floating-filter-button-button" ref="eButtonShowMainFilter" tabindex="-1"></button>\n            </div>\n        </div>',Nr([ut("columnHoverService")],o.prototype,"columnHoverService",void 0),Nr([ut("gridOptionsWrapper")],o.prototype,"gridOptionsWrapper",void 0),Nr([ut("userComponentFactory")],o.prototype,"userComponentFactory",void 0),Nr([ut("gridApi")],o.prototype,"gridApi",void 0),Nr([ut("columnApi")],o.prototype,"columnApi",void 0),Nr([ut("filterManager")],o.prototype,"filterManager",void 0),Nr([ut("menuFactory")],o.prototype,"menuFactory",void 0),Nr([ut("beans")],o.prototype,"beans",void 0),Nr([co("eFloatingFilterBody")],o.prototype,"eFloatingFilterBody",void 0),Nr([co("eButtonWrapper")],o.prototype,"eButtonWrapper",void 0),Nr([co("eButtonShowMainFilter")],o.prototype,"eButtonShowMainFilter",void 0),o}(Pr),Gr=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Vr=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s};!function(e){e[e.COLUMN_GROUP=0]="COLUMN_GROUP",e[e.COLUMN=1]="COLUMN",e[e.FLOATING_FILTER=2]="FLOATING_FILTER"}(Ji||(Ji={}));var Hr,Br=function(e){function t(t,o,n,i){var r=e.call(this,'<div class="ag-header-row" role="row" />')||this;r.headerComps={},r.dept=t,r.type=o,r.pinned=n,r.dropTarget=i;var s=Ji[o].toLowerCase().replace(/_/g,"-");return r.addCssClass("ag-header-row-"+s),g()&&(r.getGui().style.transform="translateZ(0)"),r}return Gr(t,e),t.prototype.forEachHeaderElement=function(e){var t=this;Object.keys(this.headerComps).forEach((function(o){e(t.headerComps[o])}))},t.prototype.setRowIndex=function(e){this.rowIndex=e,this.getGui().setAttribute("aria-rowindex",(e+1).toString())},t.prototype.getRowIndex=function(){return this.rowIndex},t.prototype.getType=function(){return this.type},t.prototype.destroyAllChildComponents=function(){var e=Object.keys(this.headerComps);this.destroyChildComponents(e)},t.prototype.destroyChildComponents=function(e,t){var o=this;e.forEach((function(e){var n=o.headerComps[e];t&&!n.getColumn().isMoving()&&o.focusController.isHeaderWrapperFocused(n)||(o.getGui().removeChild(n.getGui()),o.destroyBean(n),delete o.headerComps[e])}))},t.prototype.onRowHeightChanged=function(){var e,t,o=this.columnController.getHeaderRowCount(),n=[],i=0;this.columnController.isPivotMode()?(e=this.gridOptionsWrapper.getPivotGroupHeaderHeight(),t=this.gridOptionsWrapper.getPivotHeaderHeight()):(this.columnController.hasFloatingFilters()&&(o++,i=1),e=this.gridOptionsWrapper.getGroupHeaderHeight(),t=this.gridOptionsWrapper.getHeaderHeight());for(var r=o-(1+i),s=0;s<r;s++)n.push(e);n.push(t);for(s=0;s<i;s++)n.push(this.gridOptionsWrapper.getFloatingFiltersHeight());var a=0;for(s=0;s<this.dept;s++)a+=n[s];this.getGui().style.top=a+"px",this.getGui().style.height=n[this.dept]+"px"},t.prototype.init=function(){this.onRowHeightChanged(),this.onVirtualColumnsChanged(),this.setWidth(),this.addManagedListener(this.gridOptionsWrapper,Jt.PROP_HEADER_HEIGHT,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.gridOptionsWrapper,Jt.PROP_PIVOT_HEADER_HEIGHT,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.gridOptionsWrapper,Jt.PROP_GROUP_HEADER_HEIGHT,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.gridOptionsWrapper,Jt.PROP_PIVOT_GROUP_HEADER_HEIGHT,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.gridOptionsWrapper,Jt.PROP_FLOATING_FILTERS_HEIGHT,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.eventService,_t.EVENT_VIRTUAL_COLUMNS_CHANGED,this.onVirtualColumnsChanged.bind(this)),this.addManagedListener(this.eventService,_t.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,_t.EVENT_COLUMN_RESIZED,this.onColumnResized.bind(this)),this.addManagedListener(this.eventService,_t.EVENT_GRID_COLUMNS_CHANGED,this.onGridColumnsChanged.bind(this))},t.prototype.onColumnResized=function(){this.setWidth()},t.prototype.setWidth=function(){var e=this.getWidthForRow();this.getGui().style.width=e+"px"},t.prototype.getWidthForRow=function(){return this.gridOptionsWrapper.getDomLayout()===ze.DOM_LAYOUT_PRINT?w(this.pinned)?this.columnController.getContainerWidth(ze.PINNED_RIGHT)+this.columnController.getContainerWidth(ze.PINNED_LEFT)+this.columnController.getContainerWidth(null):0:this.columnController.getContainerWidth(this.pinned)},t.prototype.onGridColumnsChanged=function(){this.removeAndDestroyAllChildComponents()},t.prototype.removeAndDestroyAllChildComponents=function(){var e=Object.keys(this.headerComps);this.destroyChildComponents(e)},t.prototype.onDisplayedColumnsChanged=function(){this.onVirtualColumnsChanged(),this.setWidth()},t.prototype.getItemsAtDepth=function(){var e=this;if(this.gridOptionsWrapper.getDomLayout()===ze.DOM_LAYOUT_PRINT){if(w(this.pinned)){var t=[];return[ze.PINNED_LEFT,null,ze.PINNED_RIGHT].forEach((function(o){var n=e.columnController.getVirtualHeaderGroupRow(o,e.type==Ji.FLOATING_FILTER?e.dept-1:e.dept);t=t.concat(n)})),t}return[]}return this.columnController.getVirtualHeaderGroupRow(this.pinned,this.type==Ji.FLOATING_FILTER?this.dept-1:this.dept)},t.prototype.onVirtualColumnsChanged=function(){var e=this,t=Object.keys(this.headerComps),o=[];if(this.getItemsAtDepth().forEach((function(n){if(!n.isEmptyGroup()){var i,r,s=n.getUniqueId(),a=e.getGui();t.indexOf(s)>=0?Q(t,s):(i=e.createHeaderComp(n),e.headerComps[s]=i,r=i.getGui(),a.appendChild(r)),o.push(s)}})),this.destroyChildComponents(t,!0),this.gridOptionsWrapper.isEnsureDomOrder()){var n=o.map((function(t){return e.headerComps[t].getGui()}));V(this.getGui(),n)}},t.prototype.createHeaderComp=function(e){var t;switch(this.type){case Ji.COLUMN:t=new Tr(e,this.dropTarget,this.pinned);break;case Ji.COLUMN_GROUP:t=new Fr(e,this.dropTarget,this.pinned);break;case Ji.FLOATING_FILTER:t=new kr(e,this.pinned)}return this.createBean(t),t.setParentComponent(this),t},t.prototype.getHeaderComps=function(){return this.headerComps},Vr([ut("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),Vr([ut("columnController")],t.prototype,"columnController",void 0),Vr([ut("focusController")],t.prototype,"focusController",void 0),Vr([lt],t.prototype,"destroyAllChildComponents",null),Vr([at],t.prototype,"init",null),t}(so),Wr=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},jr=function(){function e(e,t){this.needToMoveLeft=!1,this.needToMoveRight=!1,this.pinned=e,this.eContainer=t,this.centerContainer=!et.exists(e)}return e.prototype.registerGridComp=function(e){this.gridPanel=e},e.prototype.init=function(){this.logger=this.loggerFactory.create("MoveColumnController")},e.prototype.getIconName=function(){return this.pinned?Gi.ICON_PINNED:Gi.ICON_MOVE},e.prototype.onDragEnter=function(e){var o=e.dragItem.columns;if(e.dragSource.type===t.DragSourceType.ToolPanel)this.setColumnsVisible(o,!0,"uiColumnDragged");else{var n=e.dragItem.visibleState,i=o.filter((function(e){return n[e.getId()]}));this.setColumnsVisible(i,!0,"uiColumnDragged")}this.setColumnsPinned(o,this.pinned,"uiColumnDragged"),this.onDragging(e,!0)},e.prototype.onDragLeave=function(e){if(!this.gridOptionsWrapper.isSuppressDragLeaveHidesColumns()&&!e.fromNudge){var t=e.dragSource.getDragItem().columns;this.setColumnsVisible(t,!1,"uiColumnDragged")}this.ensureIntervalCleared()},e.prototype.setColumnsVisible=function(e,t,o){if(void 0===o&&(o="api"),e){var n=e.filter((function(e){return!e.getColDef().lockVisible}));this.columnController.setColumnsVisible(n,t,o)}},e.prototype.setColumnsPinned=function(e,t,o){if(void 0===o&&(o="api"),e){var n=e.filter((function(e){return!e.getColDef().lockPinned}));this.columnController.setColumnsPinned(n,t,o)}},e.prototype.onDragStop=function(){this.ensureIntervalCleared()},e.prototype.normaliseX=function(e){this.gridOptionsWrapper.isEnableRtl()&&(e=this.eContainer.clientWidth-e);return this.centerContainer&&(e+=this.gridPanel.getCenterViewportScrollLeft()),e},e.prototype.checkCenterForScrolling=function(e){if(this.centerContainer){var t=this.gridPanel.getCenterViewportScrollLeft(),o=t+this.gridPanel.getCenterWidth();this.gridOptionsWrapper.isEnableRtl()?(this.needToMoveRight=e<t+50,this.needToMoveLeft=e>o-50):(this.needToMoveLeft=e<t+50,this.needToMoveRight=e>o-50),this.needToMoveLeft||this.needToMoveRight?this.ensureIntervalStarted():this.ensureIntervalCleared()}},e.prototype.onDragging=function(e,t){var o=this;if(void 0===t&&(t=!1),this.lastDraggingEvent=e,!et.missing(e.hDirection)){var n=this.normaliseX(e.x);t||this.checkCenterForScrolling(n);var i=this.normaliseDirection(e.hDirection),r=e.dragSource.type,s=e.dragSource.getDragItem().columns;s=s.filter((function(e){return!e.getColDef().lockPinned||e.getPinned()==o.pinned})),this.attemptMoveColumns(r,s,i,n,t)}},e.prototype.normaliseDirection=function(e){if(!this.gridOptionsWrapper.isEnableRtl())return e;switch(e){case t.HorizontalDirection.Left:return t.HorizontalDirection.Right;case t.HorizontalDirection.Right:return t.HorizontalDirection.Left;default:console.error("ag-Grid: Unknown direction "+e)}},e.prototype.calculateOldIndex=function(e){var t=this.columnController.getAllGridColumns(),o=et.sortNumerically(e.map((function(e){return t.indexOf(e)}))),n=o[0];return et.last(o)-n!==o.length-1?null:n},e.prototype.attemptMoveColumns=function(e,o,n,i,r){var s=n===t.HorizontalDirection.Left,a=n===t.HorizontalDirection.Right,l=this.calculateValidMoves(o,a,i),c=this.calculateOldIndex(o);if(0!==l.length){var u=l[0],d=null!==c&&!r;if(e==t.DragSourceType.HeaderCell&&(d=null!==c),d){if(s&&u>=c)return;if(a&&u<=c)return}for(var h=0;h<l.length;h++){var p=l[h];if(this.columnController.doesMovePassRules(o,p))return void this.columnController.moveColumns(o,p,"uiColumnDragged")}}},e.prototype.calculateValidMoves=function(e,t,o){var n=this.gridOptionsWrapper.isSuppressMovableColumns()||e.some((function(e){return e.getColDef().suppressMovable}));if(n)return[];var i,r=this.columnController.getDisplayedColumns(this.pinned),s=this.columnController.getAllGridColumns(),a=r.filter((function(t){return et.includes(e,t)})),l=r.filter((function(t){return!et.includes(e,t)})),c=s.filter((function(t){return!et.includes(e,t)})),u=0,d=o;if(t){var h=0;a.forEach((function(e){return h+=e.getActualWidth()})),d-=h}if(d>0){for(var p=0;p<l.length;p++){if((d-=l[p].getActualWidth())<0)break;u++}t&&u++}if(u>0){var g=l[u-1];i=c.indexOf(g)+1}else-1===(i=c.indexOf(l[0]))&&(i=0);var f=[i];if(t)for(var m=i+1,v=s.length-1;m<=v;)f.push(m),m++;else{m=i,v=s.length-1;for(var y=s[m];m<=v&&this.isColumnHidden(r,y);)m++,f.push(m),y=s[m];m=i-1;for(;m>=0;)f.push(m),m--}return f},e.prototype.isColumnHidden=function(e,t){return e.indexOf(t)<0},e.prototype.ensureIntervalStarted=function(){this.movingIntervalId||(this.intervalCount=0,this.failedMoveAttempts=0,this.movingIntervalId=window.setInterval(this.moveInterval.bind(this),100),this.needToMoveLeft?this.dragAndDropService.setGhostIcon(Gi.ICON_LEFT,!0):this.dragAndDropService.setGhostIcon(Gi.ICON_RIGHT,!0))},e.prototype.ensureIntervalCleared=function(){this.moveInterval&&(window.clearInterval(this.movingIntervalId),this.movingIntervalId=null,this.dragAndDropService.setGhostIcon(Gi.ICON_MOVE))},e.prototype.moveInterval=function(){var e,t;if(this.intervalCount++,(e=10+5*this.intervalCount)>100&&(e=100),this.needToMoveLeft?t=this.gridPanel.scrollHorizontally(-e):this.needToMoveRight&&(t=this.gridPanel.scrollHorizontally(e)),0!==t)this.onDragging(this.lastDraggingEvent),this.failedMoveAttempts=0;else{this.failedMoveAttempts++;var o=this.lastDraggingEvent.dragItem.columns.filter((function(e){return!e.getColDef().lockPinned}));if(o.length>0&&(this.dragAndDropService.setGhostIcon(Gi.ICON_PINNED),this.failedMoveAttempts>7)){var n=this.needToMoveLeft?ze.PINNED_LEFT:ze.PINNED_RIGHT;this.setColumnsPinned(o,n,"uiColumnDragged"),this.dragAndDropService.nudge()}}},Wr([ut("loggerFactory")],e.prototype,"loggerFactory",void 0),Wr([ut("columnController")],e.prototype,"columnController",void 0),Wr([ut("dragAndDropService")],e.prototype,"dragAndDropService",void 0),Wr([ut("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),Wr([at],e.prototype,"init",null),e}(),zr=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Ur=function(){function e(e){this.columnsToAggregate=[],this.columnsToGroup=[],this.columnsToPivot=[],this.pinned=e}return e.prototype.onDragEnter=function(e){var t=this;(this.clearColumnsList(),this.gridOptionsWrapper.isFunctionsReadOnly())||e.dragItem.columns.forEach((function(e){e.isPrimary()&&(e.isAnyFunctionActive()||(e.isAllowValue()?t.columnsToAggregate.push(e):e.isAllowRowGroup()?t.columnsToGroup.push(e):e.isAllowRowGroup()&&t.columnsToPivot.push(e)))}))},e.prototype.getIconName=function(){return this.columnsToAggregate.length+this.columnsToGroup.length+this.columnsToPivot.length>0?this.pinned?Gi.ICON_PINNED:Gi.ICON_MOVE:null},e.prototype.onDragLeave=function(e){this.clearColumnsList()},e.prototype.clearColumnsList=function(){this.columnsToAggregate.length=0,this.columnsToGroup.length=0,this.columnsToPivot.length=0},e.prototype.onDragging=function(e){},e.prototype.onDragStop=function(e){this.columnsToAggregate.length>0&&this.columnController.addValueColumns(this.columnsToAggregate,"toolPanelDragAndDrop"),this.columnsToGroup.length>0&&this.columnController.addRowGroupColumns(this.columnsToGroup,"toolPanelDragAndDrop"),this.columnsToPivot.length>0&&this.columnController.addPivotColumns(this.columnsToPivot,"toolPanelDragAndDrop")},zr([ut("columnController")],e.prototype,"columnController",void 0),zr([ut("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),e}(),$r=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Kr=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s};!function(e){e[e.ColumnMove=0]="ColumnMove",e[e.Pivot=1]="Pivot"}(Hr||(Hr={}));var Yr,qr=function(e){function o(t,o){var n=e.call(this)||this;return n.dropListeners={},n.pinned=t,n.eContainer=o,n}return $r(o,e),o.prototype.registerGridComp=function(e){switch(this.gridPanel=e,this.moveColumnController.registerGridComp(e),this.pinned){case ze.PINNED_LEFT:this.eSecondaryContainers=this.gridPanel.getDropTargetLeftContainers();break;case ze.PINNED_RIGHT:this.eSecondaryContainers=this.gridPanel.getDropTargetRightContainers();break;default:this.eSecondaryContainers=this.gridPanel.getDropTargetBodyContainers()}},o.prototype.isInterestedIn=function(e){return e===t.DragSourceType.HeaderCell||e===t.DragSourceType.ToolPanel&&this.gridOptionsWrapper.isAllowDragFromColumnsToolPanel()},o.prototype.getSecondaryContainers=function(){return this.eSecondaryContainers},o.prototype.getContainer=function(){return this.eContainer},o.prototype.init=function(){this.moveColumnController=this.createBean(new jr(this.pinned,this.eContainer));var e=new Ur(this.pinned);this.createBean(e),this.dropListeners[Hr.ColumnMove]=this.moveColumnController,this.dropListeners[Hr.Pivot]=e,this.dragAndDropService.addDropTarget(this)},o.prototype.getIconName=function(){return this.currentDropListener.getIconName()},o.prototype.getDropType=function(e){return this.columnController.isPivotMode()&&e.dragSource.type===t.DragSourceType.ToolPanel?Hr.Pivot:Hr.ColumnMove},o.prototype.onDragEnter=function(e){var t=this.getDropType(e);this.currentDropListener=this.dropListeners[t],this.currentDropListener.onDragEnter(e)},o.prototype.onDragLeave=function(e){this.currentDropListener.onDragLeave(e)},o.prototype.onDragging=function(e){this.currentDropListener.onDragging(e)},o.prototype.onDragStop=function(e){this.currentDropListener.onDragStop(e)},Kr([ut("dragAndDropService")],o.prototype,"dragAndDropService",void 0),Kr([ut("columnController")],o.prototype,"columnController",void 0),Kr([ut("gridOptionsWrapper")],o.prototype,"gridOptionsWrapper",void 0),Kr([at],o.prototype,"init",null),o}(xt),Xr=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Qr=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Zr=function(e){function t(t,o,n){var i=e.call(this)||this;return i.headerRowComps=[],i.eContainer=t,i.pinned=n,i.eViewport=o,i}return Xr(t,e),t.prototype.forEachHeaderElement=function(e){this.headerRowComps.forEach((function(t){return t.forEachHeaderElement(e)}))},t.prototype.init=function(){this.scrollWidth=this.gridOptionsWrapper.getScrollbarWidth(),this.addManagedListener(this.eventService,_t.EVENT_COLUMN_VALUE_CHANGED,this.onColumnValueChanged.bind(this)),this.addManagedListener(this.eventService,_t.EVENT_COLUMN_ROW_GROUP_CHANGED,this.onColumnRowGroupChanged.bind(this)),this.addManagedListener(this.eventService,_t.EVENT_GRID_COLUMNS_CHANGED,this.onGridColumnsChanged.bind(this)),this.addManagedListener(this.eventService,_t.EVENT_SCROLL_VISIBILITY_CHANGED,this.onScrollVisibilityChanged.bind(this)),this.addManagedListener(this.eventService,_t.EVENT_COLUMN_RESIZED,this.onColumnResized.bind(this)),this.addManagedListener(this.eventService,_t.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this))},t.prototype.onColumnRowGroupChanged=function(){this.onGridColumnsChanged()},t.prototype.onColumnValueChanged=function(){this.onGridColumnsChanged()},t.prototype.onColumnResized=function(){this.setWidthOfPinnedContainer()},t.prototype.onDisplayedColumnsChanged=function(){this.setWidthOfPinnedContainer()},t.prototype.onScrollVisibilityChanged=function(){this.setWidthOfPinnedContainer()},t.prototype.setWidthOfPinnedContainer=function(){var e=this.pinned===ze.PINNED_LEFT,t=this.pinned===ze.PINNED_RIGHT,o=this.columnController,n=this.gridOptionsWrapper.isEnableRtl();if(e||t){var i=o[e?"getPinnedLeftContainerWidth":"getPinnedRightContainerWidth"]();this.scrollVisibleService.isVerticalScrollShowing()&&(n&&e||!n&&t)&&(i+=this.scrollWidth),B(this.eContainer,i)}},t.prototype.getRowComps=function(){return this.headerRowComps},t.prototype.onGridColumnsChanged=function(){this.removeAndCreateAllRowComps()},t.prototype.removeAndCreateAllRowComps=function(){this.removeHeaderRowComps(),this.createHeaderRowComps()},t.prototype.refresh=function(){this.removeAndCreateAllRowComps()},t.prototype.setupDragAndDrop=function(e){var t=this.eViewport?this.eViewport:this.eContainer,o=new qr(this.pinned,t);this.createManagedBean(o),o.registerGridComp(e)},t.prototype.removeHeaderRowComps=function(){var e=this;this.headerRowComps.forEach((function(t){return e.destroyBean(t)})),this.headerRowComps.length=0,N(this.eContainer)},t.prototype.createHeaderRowComps=function(){for(var e=this.columnController.getHeaderRowCount(),t=0;t<e;t++){var o=t!==e-1?Ji.COLUMN_GROUP:Ji.COLUMN,n=new Br(t,o,this.pinned,this.dropTarget);this.createBean(n),this.headerRowComps.push(n),n.setRowIndex(this.headerRowComps.length-1),this.eContainer.appendChild(n.getGui())}if(!this.columnController.isPivotMode()&&this.columnController.hasFloatingFilters()){n=new Br(e,Ji.FLOATING_FILTER,this.pinned,this.dropTarget);this.createBean(n),this.headerRowComps.push(n),n.setRowIndex(this.headerRowComps.length-1),this.eContainer.appendChild(n.getGui())}},Qr([ut("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),Qr([ut("columnController")],t.prototype,"columnController",void 0),Qr([ut("scrollVisibleService")],t.prototype,"scrollVisibleService",void 0),Qr([at],t.prototype,"init",null),Qr([lt],t.prototype,"removeHeaderRowComps",null),t}(xt),Jr=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),es=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s};(Yr=t.HeaderNavigationDirection||(t.HeaderNavigationDirection={}))[Yr.UP=0]="UP",Yr[Yr.DOWN=1]="DOWN",Yr[Yr.LEFT=2]="LEFT",Yr[Yr.RIGHT=3]="RIGHT";var ts,os=function(e){function o(){return null!==e&&e.apply(this,arguments)||this}return Jr(o,e),o.prototype.registerGridComp=function(e){this.gridPanel=e},o.prototype.registerHeaderRoot=function(e){this.headerRoot=e},o.prototype.getHeaderRowCount=function(){return 0===this.headerRoot.getHeaderContainers().size?0:this.getHeaderContainer().getRowComps().length},o.prototype.getHeaderRowType=function(e){if(this.getHeaderRowCount())return this.getHeaderContainer().getRowComps()[e].getType()},o.prototype.getHeaderContainer=function(e){return void 0===e&&(e="center"),null===e&&(e="center"),this.headerRoot.getHeaderContainers().get(e)},o.prototype.navigateVertically=function(e,o){if(o||(o=this.focusController.getFocusedHeader()),!o)return!1;var n=o.headerRowIndex,i=o.column,r=this.getHeaderRowCount(),s=e===t.HeaderNavigationDirection.UP,a=s?n-1:n+1;if(a<0)return!1;if(a>=r)return this.focusController.focusGridView();var l,c=this.getHeaderRowType(n);if(c===Ji.COLUMN_GROUP){var u=i;l=s?i.getParent():u.getDisplayedChildren()[0]}else if(c===Ji.FLOATING_FILTER)l=i;else{u=i;l=s?u.getParent():u}return!!l&&(this.focusController.focusHeaderPosition({headerRowIndex:a,column:l}),!0)},o.prototype.navigateHorizontally=function(e,o){var n,i,r=this.focusController.getFocusedHeader();return e===t.HeaderNavigationDirection.LEFT!==this.gridOptionsWrapper.isEnableRtl()?(i="Before",n=this.headerPositionUtils.findHeader(r,i)):(i="After",n=this.headerPositionUtils.findHeader(r,i)),n?(this.focusController.focusHeaderPosition(n,i),!0):!o||this.focusNextHeaderRow(r,i)},o.prototype.focusNextHeaderRow=function(e,t){var o,n,i=e.headerRowIndex;if("Before"===t){if(0===i)return!1;n=i-1,o=this.headerPositionUtils.findColAtEdgeForHeaderRow(n,"end")}else n=i+1,o=this.headerPositionUtils.findColAtEdgeForHeaderRow(n,"start");return!!o&&(-1===o.headerRowIndex?this.focusController.focusGridView(o.column):this.focusController.focusHeaderPosition(o,t))},o.prototype.scrollToColumn=function(e,t){if(void 0===t&&(t="After"),!e.getPinned()){var o;if(e instanceof Et){var n=e.getDisplayedLeafColumns();o="Before"===t?et.last(n):n[0]}else o=e;this.gridPanel.ensureColumnVisible(o),this.gridPanel.horizontallyScrollHeaderCenterAndFloatingCenter(),this.animationFrameService.flushAllFrames()}},es([ut("gridOptionsWrapper")],o.prototype,"gridOptionsWrapper",void 0),es([ut("focusController")],o.prototype,"focusController",void 0),es([ut("headerPositionUtils")],o.prototype,"headerPositionUtils",void 0),es([ut("animationFrameService")],o.prototype,"animationFrameService",void 0),o=es([ct("headerNavigationService")],o)}(xt),ns=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),is=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},rs=function(e){function o(){var t=e.call(this,o.TEMPLATE)||this;return t.headerContainers=new Map,t}return ns(o,e),o.prototype.postConstruct=function(){var t=this;e.prototype.postConstruct.call(this),this.printLayout=this.gridOptionsWrapper.getDomLayout()===ze.DOM_LAYOUT_PRINT,this.gridApi.registerHeaderRootComp(this),this.autoWidthCalculator.registerHeaderRootComp(this),this.registerHeaderContainer(new Zr(this.eHeaderContainer,this.eHeaderViewport,null),"center"),this.registerHeaderContainer(new Zr(this.ePinnedLeftHeader,null,ze.PINNED_LEFT),"left"),this.registerHeaderContainer(new Zr(this.ePinnedRightHeader,null,ze.PINNED_RIGHT),"right"),this.headerContainers.forEach((function(e){return t.createManagedBean(e)})),this.headerNavigationService.registerHeaderRoot(this),this.addManagedListener(this.eventService,_t.EVENT_COLUMN_VALUE_CHANGED,this.refreshHeader.bind(this)),this.addManagedListener(this.gridOptionsWrapper,Jt.PROP_DOM_LAYOUT,this.onDomLayoutChanged.bind(this)),this.addManagedListener(this.eventService,_t.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.onPivotModeChanged.bind(this)),this.onPivotModeChanged(),this.addPreventHeaderScroll(),this.columnController.isReady()&&this.refreshHeader()},o.prototype.registerGridComp=function(e){this.gridPanel=e,this.headerContainers.forEach((function(t){return t.setupDragAndDrop(e)}))},o.prototype.registerHeaderContainer=function(e,t){this.headerContainers.set(t,e)},o.prototype.onTabKeyDown=function(e){var o=this.gridOptionsWrapper.isEnableRtl(),n=e.shiftKey!==o?t.HeaderNavigationDirection.LEFT:t.HeaderNavigationDirection.RIGHT;(this.headerNavigationService.navigateHorizontally(n,!0)||this.focusController.focusNextGridCoreContainer(e.shiftKey))&&e.preventDefault()},o.prototype.handleKeyDown=function(e){var o;switch(e.keyCode){case ze.KEY_LEFT:o=t.HeaderNavigationDirection.LEFT;case ze.KEY_RIGHT:et.exists(o)||(o=t.HeaderNavigationDirection.RIGHT),this.headerNavigationService.navigateHorizontally(o);break;case ze.KEY_UP:o=t.HeaderNavigationDirection.UP;case ze.KEY_DOWN:et.exists(o)||(o=t.HeaderNavigationDirection.DOWN),this.headerNavigationService.navigateVertically(o)&&e.preventDefault();break;default:return}},o.prototype.onFocusOut=function(e){var t=e.relatedTarget,o=this.getGui();!t&&o.contains(document.activeElement)||o.contains(t)||this.focusController.clearFocusedHeader()},o.prototype.onDomLayoutChanged=function(){var e=this.gridOptionsWrapper.getDomLayout()===ze.DOM_LAYOUT_PRINT;this.printLayout!==e&&(this.printLayout=e,this.refreshHeader())},o.prototype.setHorizontalScroll=function(e){this.eHeaderContainer.style.transform="translateX("+e+"px)"},o.prototype.forEachHeaderElement=function(e){this.headerContainers.forEach((function(t){return t.forEachHeaderElement(e)}))},o.prototype.refreshHeader=function(){this.headerContainers.forEach((function(e){return e.refresh()}))},o.prototype.onPivotModeChanged=function(){var e=this.columnController.isPivotMode();F(this.getGui(),"ag-pivot-on",e),F(this.getGui(),"ag-pivot-off",!e)},o.prototype.setHeight=function(e){var t=e+1+"px";this.getGui().style.height=t,this.getGui().style.minHeight=t},o.prototype.addPreventHeaderScroll=function(){var e=this;this.addManagedListener(this.eHeaderViewport,"scroll",(function(){var t=e.eHeaderViewport.scrollLeft;0!==t&&(e.gridPanel.scrollHorizontally(t),e.eHeaderViewport.scrollLeft=0)}))},o.prototype.getHeaderContainers=function(){return this.headerContainers},o.prototype.setHeaderContainerWidth=function(e){this.eHeaderContainer.style.width=e+"px"},o.prototype.setLeftVisible=function(e){M(this.ePinnedLeftHeader,e)},o.prototype.setRightVisible=function(e){M(this.ePinnedRightHeader,e)},o.TEMPLATE='<div class="ag-header" role="presentation">\n            <div class="ag-pinned-left-header" ref="ePinnedLeftHeader" role="presentation"></div>\n            <div class="ag-header-viewport" ref="eHeaderViewport" role="presentation">\n                <div class="ag-header-container" ref="eHeaderContainer" role="rowgroup"></div>\n            </div>\n            <div class="ag-pinned-right-header" ref="ePinnedRightHeader" role="presentation"></div>\n        </div>',is([co("ePinnedLeftHeader")],o.prototype,"ePinnedLeftHeader",void 0),is([co("ePinnedRightHeader")],o.prototype,"ePinnedRightHeader",void 0),is([co("eHeaderContainer")],o.prototype,"eHeaderContainer",void 0),is([co("eHeaderViewport")],o.prototype,"eHeaderViewport",void 0),is([ut("gridOptionsWrapper")],o.prototype,"gridOptionsWrapper",void 0),is([ut("columnController")],o.prototype,"columnController",void 0),is([ut("gridApi")],o.prototype,"gridApi",void 0),is([ut("autoWidthCalculator")],o.prototype,"autoWidthCalculator",void 0),is([ut("headerNavigationService")],o.prototype,"headerNavigationService",void 0),o}(Er),ss=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),as=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},ls=function(e){function o(){var t=null!==e&&e.apply(this,arguments)||this;return t.allFilters=new Map,t.quickFilter=null,t.quickFilterParts=null,t.processingFilterChange=!1,t}var n;return ss(o,e),n=o,o.prototype.init=function(){this.addManagedListener(this.eventService,_t.EVENT_ROW_DATA_CHANGED,this.onNewRowsLoaded.bind(this)),this.addManagedListener(this.eventService,_t.EVENT_NEW_COLUMNS_LOADED,this.onNewColumnsLoaded.bind(this)),this.quickFilter=this.parseQuickFilter(this.gridOptionsWrapper.getQuickFilterText()),this.setQuickFilterParts(),this.allowShowChangeAfterFilter=this.gridOptionsWrapper.isAllowShowChangeAfterFilter(),this.checkExternalFilter()},o.prototype.setQuickFilterParts=function(){this.quickFilterParts=this.quickFilter?this.quickFilter.split(" "):null},o.prototype.setFilterModel=function(e){var t=this,o=[];if(e){var n=Xe(Object.keys(e));this.allFilters.forEach((function(i,r){var s=e[r];o.push(t.setModelOnFilterWrapper(i.filterPromise,s)),n.delete(r)})),n.forEach((function(n){var i=t.columnController.getPrimaryColumn(n);if(i){var r=t.getOrCreateFilterWrapper(i,"NO_UI");o.push(t.setModelOnFilterWrapper(r.filterPromise,e[n]))}else console.warn("Warning ag-grid setFilterModel - no column found for colId "+n)}))}else this.allFilters.forEach((function(e){o.push(t.setModelOnFilterWrapper(e.filterPromise,null))}));ot.all(o).then((function(){return t.onFilterChanged()}))},o.prototype.setModelOnFilterWrapper=function(e,t){return new ot((function(o){e.then((function(e){"function"!==typeof e.setModel&&(console.warn("Warning ag-grid - filter missing setModel method, which is needed for setFilterModel"),o());var n=e.setModel(t);null==n?o():n.then((function(){return o()}))}))}))},o.prototype.getFilterModel=function(){var e={};return this.allFilters.forEach((function(t,o){var n=t.filterPromise.resolveNow(null,(function(e){return e}));if(null==n)return null;if("function"===typeof n.getModel){var i=n.getModel();C(i)&&(e[o]=i)}else console.warn("Warning ag-grid - filter API missing getModel method, which is needed for getFilterModel")})),e},o.prototype.isAdvancedFilterPresent=function(){return this.advancedFilterPresent},o.prototype.setAdvancedFilterPresent=function(){var e=!1;this.allFilters.forEach((function(t){e||t.filterPromise.resolveNow(!1,(function(e){return e.isFilterActive()}))&&(e=!0)})),this.advancedFilterPresent=e},o.prototype.updateFilterFlagInColumns=function(e,t){this.allFilters.forEach((function(o){var n=o.filterPromise.resolveNow(!1,(function(e){return e.isFilterActive()}));o.column.setFilterActive(n,e,t)}))},o.prototype.isAnyFilterPresent=function(){return this.isQuickFilterPresent()||this.advancedFilterPresent||this.externalFilterPresent},o.prototype.doesFilterPass=function(e,t){var o=e.data,n=!0;return this.allFilters.forEach((function(i){if(n&&null!=i){var r=i.filterPromise.resolveNow(void 0,(function(e){return e}));if(null!=r&&r!==t&&r.isFilterActive()){if(!r.doesFilterPass)throw new Error("Filter is missing method doesFilterPass");n=r.doesFilterPass({node:e,data:o})}}})),n},o.prototype.parseQuickFilter=function(e){return C(e)?this.gridOptionsWrapper.isRowModelDefault()?e.toUpperCase():(console.warn("ag-grid: quick filtering only works with the Client-Side Row Model"),null):null},o.prototype.setQuickFilter=function(e){var t=this.parseQuickFilter(e);this.quickFilter!==t&&(this.quickFilter=t,this.setQuickFilterParts(),this.onFilterChanged())},o.prototype.checkExternalFilter=function(){this.externalFilterPresent=this.gridOptionsWrapper.isExternalFilterPresent()},o.prototype.onFilterChanged=function(e,t){this.setAdvancedFilterPresent(),this.updateFilterFlagInColumns("filterChanged",t),this.checkExternalFilter(),this.allFilters.forEach((function(t){t.filterPromise.then((function(t){t!==e&&t.onAnyFilterChanged&&t.onAnyFilterChanged()}))}));var o={type:_t.EVENT_FILTER_CHANGED,api:this.gridApi,columnApi:this.columnApi};t&&de(o,t),this.processingFilterChange=!0,this.eventService.dispatchEvent(o),this.processingFilterChange=!1},o.prototype.isSuppressFlashingCellsBecauseFiltering=function(){return!this.allowShowChangeAfterFilter&&this.processingFilterChange},o.prototype.isQuickFilterPresent=function(){return null!==this.quickFilter},o.prototype.doesRowPassOtherFilters=function(e,t){return this.doesRowPassFilter(t,e)},o.prototype.doesRowPassQuickFilterNoCache=function(e,t){var o=this;return oe(this.columnController.getAllColumnsForQuickFilter(),(function(n){var i=o.getQuickFilterTextForColumn(n,e);return C(i)&&i.indexOf(t)>=0}))},o.prototype.doesRowPassQuickFilterCache=function(e,t){return e.quickFilterAggregateText||this.aggregateRowForQuickFilter(e),e.quickFilterAggregateText.indexOf(t)>=0},o.prototype.doesRowPassQuickFilter=function(e){var t=this,o=this.gridOptionsWrapper.isCacheQuickFilter();return te(this.quickFilterParts,(function(n){return o?t.doesRowPassQuickFilterCache(e,n):t.doesRowPassQuickFilterNoCache(e,n)}))},o.prototype.doesRowPassFilter=function(e,t){return!(this.isQuickFilterPresent()&&!this.doesRowPassQuickFilter(e))&&(!(this.externalFilterPresent&&!this.gridOptionsWrapper.doesExternalFilterPass(e))&&!(this.advancedFilterPresent&&!this.doesFilterPass(e,t)))},o.prototype.getQuickFilterTextForColumn=function(e,t){var o=this.valueService.getValue(e,t,!0),n=e.getColDef();if(n.getQuickFilterText){var i={value:o,node:t,data:t.data,column:e,colDef:n,context:this.gridOptionsWrapper.getContext()};o=n.getQuickFilterText(i)}return C(o)?o.toString().toUpperCase():null},o.prototype.aggregateRowForQuickFilter=function(e){var t=this,o=[];ne(this.columnController.getAllColumnsForQuickFilter(),(function(n){var i=t.getQuickFilterTextForColumn(n,e);C(i)&&o.push(i)})),e.quickFilterAggregateText=o.join(n.QUICK_FILTER_SEPARATOR)},o.prototype.onNewRowsLoaded=function(e){this.allFilters.forEach((function(e){e.filterPromise.then((function(e){e.onNewRowsLoaded&&e.onNewRowsLoaded()}))})),this.updateFilterFlagInColumns(e),this.setAdvancedFilterPresent()},o.prototype.createValueGetter=function(e){var t=this;return function(o){return t.valueService.getValue(e,o,!0)}},o.prototype.getFilterComponent=function(e,t){return this.getOrCreateFilterWrapper(e,t).filterPromise},o.prototype.isFilterActive=function(e){var t=this.cachedFilter(e);return t&&t.filterPromise.resolveNow(!1,(function(e){return e.isFilterActive()}))},o.prototype.getOrCreateFilterWrapper=function(e,t){var o=this.cachedFilter(e);return o?"NO_UI"!==t&&this.putIntoGui(o,t):(o=this.createFilterWrapper(e,t),this.allFilters.set(e.getColId(),o)),o},o.prototype.cachedFilter=function(e){return this.allFilters.get(e.getColId())},o.prototype.createFilterInstance=function(e,o){var n,i=this,r=Ct.isRegistered(t.ModuleNames.SetFilterModule)?"agSetColumnFilter":"agTextColumnFilter",s=ae(e.getColDef()),a=this.createFilterParams(e,s,o);a.filterModifiedCallback=function(){var t={type:_t.EVENT_FILTER_MODIFIED,api:i.gridApi,columnApi:i.columnApi,column:e,filterInstance:n};i.eventService.dispatchEvent(t)};var l=this.userComponentFactory.newFilterComponent(s,a,r,(function(e,t){return he(e,{doesRowPassOtherFilter:function(e){return i.doesRowPassOtherFilters(t,e)},filterChangedCallback:function(e){return i.onFilterChanged(t,e)}})}));return l&&l.then((function(e){return n=e})),l},o.prototype.createFilterParams=function(e,t,o){void 0===o&&(o=null);var n={api:this.gridOptionsWrapper.getApi(),column:e,colDef:t,rowModel:this.rowModel,filterChangedCallback:null,filterModifiedCallback:null,valueGetter:this.createValueGetter(e),context:this.gridOptionsWrapper.getContext(),doesRowPassOtherFilter:null};return o&&(n.$scope=o),n},o.prototype.createFilterWrapper=function(e,t){var o={column:e,filterPromise:null,scope:null,compiledElement:null,guiPromise:ot.resolve(null)};return o.scope=this.gridOptionsWrapper.isAngularCompileFilters()?this.$scope.$new():null,o.filterPromise=this.createFilterInstance(e,o.scope),o.filterPromise&&this.putIntoGui(o,t),o},o.prototype.putIntoGui=function(e,t){var o=this,n=document.createElement("div");n.className="ag-filter",e.guiPromise=new ot((function(i){e.filterPromise.then((function(r){var s=r.getGui();if(C(s)||console.warn("getGui method from filter returned "+s+", it should be a DOM element or an HTML template string."),"string"===typeof s&&(s=G(s)),n.appendChild(s),e.scope){var a=o.$compile(n)(e.scope);e.compiledElement=a,window.setTimeout((function(){return e.scope.$apply()}),0)}i(n),o.eventService.dispatchEvent({type:_t.EVENT_FILTER_OPENED,column:e.column,source:t,eGui:n,api:o.gridApi,columnApi:o.columnApi})}))}))},o.prototype.onNewColumnsLoaded=function(){var e=this,t=!1;this.allFilters.forEach((function(o){!e.columnController.getPrimaryColumn(o.column)&&(t=!0,e.disposeFilterWrapper(o,"filterDestroyed"))})),t&&this.onFilterChanged()},o.prototype.destroyFilter=function(e,t){void 0===t&&(t="api");var o=this.allFilters.get(e.getColId());o&&(this.disposeFilterWrapper(o,t),this.onFilterChanged())},o.prototype.disposeFilterWrapper=function(e,t){var o=this;e.filterPromise.then((function(n){n.setModel(null),o.getContext().destroyBean(n),e.column.setFilterActive(!1,t),e.scope&&(e.compiledElement&&e.compiledElement.remove(),e.scope.$destroy()),o.allFilters.delete(e.column.getColId())}))},o.prototype.destroy=function(){var t=this;e.prototype.destroy.call(this),this.allFilters.forEach((function(e){return t.disposeFilterWrapper(e,"filterDestroyed")}))},o.QUICK_FILTER_SEPARATOR="\n",as([ut("$compile")],o.prototype,"$compile",void 0),as([ut("$scope")],o.prototype,"$scope",void 0),as([ut("gridOptionsWrapper")],o.prototype,"gridOptionsWrapper",void 0),as([ut("valueService")],o.prototype,"valueService",void 0),as([ut("columnController")],o.prototype,"columnController",void 0),as([ut("rowModel")],o.prototype,"rowModel",void 0),as([ut("columnApi")],o.prototype,"columnApi",void 0),as([ut("gridApi")],o.prototype,"gridApi",void 0),as([ut("userComponentFactory")],o.prototype,"userComponentFactory",void 0),as([at],o.prototype,"init",null),as([lt],o.prototype,"destroy",null),o=n=as([ct("filterManager")],o)}(xt),cs=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),us=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},ds=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.initialised=!1,t}return cs(t,e),t.prototype.init=function(){this.cellExpressions=this.gridOptionsWrapper.isEnableCellExpressions(),this.initialised=!0},t.prototype.getValue=function(e,t,o,n){if(void 0===o&&(o=!1),void 0===n&&(n=!1),this.initialised||this.init(),t){var i,r=e.getColDef(),s=r.field,a=e.getId(),l=t.data,c=t.groupData&&void 0!==t.groupData[a],u=!n&&t.aggData&&void 0!==t.aggData[a];if(o&&r.filterValueGetter?i=this.executeFilterValueGetter(r.filterValueGetter,l,e,t):this.gridOptionsWrapper.isTreeData()&&u?i=t.aggData[a]:this.gridOptionsWrapper.isTreeData()&&r.valueGetter?i=this.executeValueGetter(r.valueGetter,l,e,t):this.gridOptionsWrapper.isTreeData()&&s&&l?i=et.getValueUsingField(l,s,e.isFieldContainsDots()):c?i=t.groupData[a]:u?i=t.aggData[a]:r.valueGetter?i=this.executeValueGetter(r.valueGetter,l,e,t):s&&l&&(i=et.getValueUsingField(l,s,e.isFieldContainsDots())),this.cellExpressions&&"string"===typeof i&&0===i.indexOf("=")){var d=i.substring(1);i=this.executeValueGetter(d,l,e,t)}return i}},t.prototype.setValue=function(e,t,o,n){var i=this.columnController.getPrimaryColumn(t);if(e&&i){et.missing(e.data)&&(e.data={});var r=i.getColDef(),s=r.field,a=r.newValueHandler,l=r.valueSetter;if(et.missing(s)&&et.missing(a)&&et.missing(l))console.warn("ag-Grid: you need either field or valueSetter set on colDef for editing to work");else{var c,u={node:e,data:e.data,oldValue:this.getValue(i,e),newValue:o,colDef:i.getColDef(),column:i,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()};if(u.newValue=o,void 0===(c=a&&et.exists(a)?a(u):et.exists(l)?this.expressionService.evaluate(l,u):this.setValueUsingField(e.data,s,o,i.isFieldContainsDots()))&&(c=!0),c){e.resetQuickFilterAggregateText(),this.valueCache.onDataChanged(),u.newValue=this.getValue(i,e);var d=i.getColDef().onCellValueChanged;"function"===typeof d&&setTimeout((function(){return d(u)}),0);var h={type:_t.EVENT_CELL_VALUE_CHANGED,event:null,rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:u.column,api:u.api,colDef:u.colDef,columnApi:u.columnApi,context:u.context,data:e.data,node:e,oldValue:u.oldValue,newValue:u.newValue,value:u.newValue,source:n};this.eventService.dispatchEvent(h)}}}},t.prototype.setValueUsingField=function(e,t,o,n){if(!t)return!1;if(n)for(var i=t.split("."),r=e;i.length>0&&r;){var s=i.shift();0===i.length?r[s]=o:r=r[s]}else e[t]=o;return!0},t.prototype.executeFilterValueGetter=function(e,t,o,n){var i={data:t,node:n,column:o,colDef:o.getColDef(),api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext(),getValue:this.getValueCallback.bind(this,n)};return this.expressionService.evaluate(e,i)},t.prototype.executeValueGetter=function(e,t,o,n){var i=o.getId(),r=this.valueCache.getValue(n,i);if(void 0!==r)return r;var s={data:t,node:n,column:o,colDef:o.getColDef(),api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext(),getValue:this.getValueCallback.bind(this,n)},a=this.expressionService.evaluate(e,s);return this.valueCache.setValue(n,i,a),a},t.prototype.getValueCallback=function(e,t){var o=this.columnController.getPrimaryColumn(t);return o?this.getValue(o,e):null},t.prototype.getKeyForNode=function(e,t){var o=this.getValue(e,t),n=e.getColDef().keyCreator,i=n?n({value:o}):o;return"string"===typeof i||null==i||"[object Object]"===(i=String(i))&&et.doOnce((function(){console.warn("ag-Grid: a column you are grouping or pivoting by has objects as values. If you want to group by complex objects then either a) use a colDef.keyCreator (se ag-Grid docs) or b) to toString() on the object to return a key")}),"getKeyForNode - warn about [object,object]"),i},us([ut("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),us([ut("expressionService")],t.prototype,"expressionService",void 0),us([ut("columnController")],t.prototype,"columnController",void 0),us([ut("valueCache")],t.prototype,"valueCache",void 0),us([at],t.prototype,"init",null),t=us([ct("valueService")],t)}(xt),hs=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},ps=function(){function e(e){this.childCount=0,this.rowTemplatesToAdd=[],this.afterGuiAttachedCallbacks=[],this.lastMadeVisibleTime=0,this.eContainer=e.eContainer,this.eViewport=e.eViewport,e.eWrapper&&(this.eWrapper=e.eWrapper),this.hideWhenNoChildren=e.hideWhenNoChildren}return e.prototype.setVerticalScrollPosition=function(e){this.scrollTop=e},e.prototype.postConstruct=function(){this.checkDomOrder(),this.checkVisibility(),this.gridOptionsWrapper.addEventListener(Jt.PROP_DOM_LAYOUT,this.checkDomOrder.bind(this))},e.prototype.checkDomOrder=function(){this.domOrder=this.gridOptionsWrapper.isEnsureDomOrder()},e.prototype.getRowElement=function(e){return this.eContainer.querySelector('[comp-id="'+e+'"]')},e.prototype.setHeight=function(e){null!=e?(this.eContainer.style.height=e+"px",this.eWrapper&&(this.eWrapper.style.height=e+"px")):this.eContainer.style.height=""},e.prototype.flushRowTemplates=function(){if(0!==this.rowTemplatesToAdd.length){var e=this.rowTemplatesToAdd.join("");et.appendHtml(this.eContainer,e),this.rowTemplatesToAdd.length=0}this.afterGuiAttachedCallbacks.forEach((function(e){return e()})),this.afterGuiAttachedCallbacks.length=0,this.lastPlacedElement=null},e.prototype.appendRowTemplate=function(e,t){this.domOrder?this.lastPlacedElement=et.insertTemplateWithDomOrder(this.eContainer,e,this.lastPlacedElement):this.rowTemplatesToAdd.push(e),this.afterGuiAttachedCallbacks.push(t),this.childCount++,this.checkVisibility()},e.prototype.ensureDomOrder=function(e){this.domOrder&&(et.ensureDomOrder(this.eContainer,e,this.lastPlacedElement),this.lastPlacedElement=e)},e.prototype.removeRowElement=function(e){this.eContainer.removeChild(e),this.childCount--,this.checkVisibility()},e.prototype.checkVisibility=function(){if(this.hideWhenNoChildren){var e=this.eViewport?this.eViewport:this.eContainer,t=this.childCount>0;this.visible!==t&&(this.visible=t,this.lastMadeVisibleTime=(new Date).getTime(),et.setDisplayed(e,t),t&&this.eViewport&&(this.eViewport.scrollTop=this.scrollTop))}},e.prototype.isMadeVisibleRecently=function(){return(new Date).getTime()-this.lastMadeVisibleTime<500},hs([ut("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),hs([at],e.prototype,"postConstruct",null),e}(),gs=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),fs=function(){return fs=Object.assign||function(e){for(var t,o=1,n=arguments.length;o<n;o++)for(var i in t=arguments[o])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},fs.apply(this,arguments)},ms=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},vs=function(){for(var e=0,t=0,o=arguments.length;t<o;t++)e+=arguments[t].length;var n=Array(e),i=0;for(t=0;t<o;t++)for(var r=arguments[t],s=0,a=r.length;s<a;s++,i++)n[i]=r[s];return n},ys=function(e){function o(t,o){var n=e.call(this)||this;return n.isMultiRowDrag=!1,n.isGridSorted=!1,n.isGridFiltered=!1,n.isRowGroupActive=!1,n.eContainer=t,n.gridPanel=o,n}return gs(o,e),o.prototype.postConstruct=function(){this.gridOptionsWrapper.isRowModelDefault()&&(this.clientSideRowModel=this.rowModel),this.addManagedListener(this.eventService,_t.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,_t.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,_t.EVENT_COLUMN_ROW_GROUP_CHANGED,this.onRowGroupChanged.bind(this)),this.onSortChanged(),this.onFilterChanged(),this.onRowGroupChanged()},o.prototype.onSortChanged=function(){var e=this.sortController.getSortModel();this.isGridSorted=!et.missingOrEmpty(e)},o.prototype.onFilterChanged=function(){this.isGridFiltered=this.filterManager.isAnyFilterPresent()},o.prototype.onRowGroupChanged=function(){var e=this.columnController.getRowGroupColumns();this.isRowGroupActive=!et.missingOrEmpty(e)},o.prototype.getContainer=function(){return this.eContainer},o.prototype.isInterestedIn=function(e){return e===t.DragSourceType.RowDrag},o.prototype.getIconName=function(){return this.gridOptionsWrapper.isRowDragManaged()&&this.shouldPreventRowMove()?Gi.ICON_NOT_ALLOWED:Gi.ICON_MOVE},o.prototype.shouldPreventRowMove=function(){return this.isGridSorted||this.isGridFiltered||this.isRowGroupActive},o.prototype.getRowNodes=function(e){if(!this.isFromThisGrid(e))return e.dragItem.rowNodes;var t=this.gridOptionsWrapper.isEnableMultiRowDragging(),o=this.selectionController.getSelectedNodes(),n=e.dragItem.rowNode;return t&&-1!==o.indexOf(n)?(this.isMultiRowDrag=!0,vs(o)):(this.isMultiRowDrag=!1,[n])},o.prototype.onDragEnter=function(e){this.dispatchGridEvent(_t.EVENT_ROW_DRAG_ENTER,e),this.getRowNodes(e).forEach((function(e){e.setDragging(!0)})),this.onEnterOrDragging(e)},o.prototype.onDragging=function(e){this.onEnterOrDragging(e)},o.prototype.isFromThisGrid=function(e){return this.gridPanel.getGui().contains(e.dragSource.eElement)},o.prototype.isDropZoneWithinThisGrid=function(e){var t=this.gridPanel.getGui(),o=e.dropZoneTarget;return!t.contains(o)},o.prototype.onEnterOrDragging=function(e){this.dispatchGridEvent(_t.EVENT_ROW_DRAG_MOVE,e),this.lastDraggingEvent=e;var t=this.mouseEventService.getNormalisedPosition(e).y;this.gridOptionsWrapper.isRowDragManaged()&&this.doManagedDrag(e,t),this.checkCenterForScrolling(t)},o.prototype.doManagedDrag=function(e,t){var o,n=this,i=this.isFromThisGrid(e);i?(o=[e.dragItem.rowNode],this.isMultiRowDrag&&(o=vs(this.selectionController.getSelectedNodes()).sort((function(e,t){return n.getRowIndexNumber(e)-n.getRowIndexNumber(t)}))),e.dragItem.rowNodes=o):o=e.dragItem.rowNodes,this.gridOptionsWrapper.isRowDragManaged()&&this.shouldPreventRowMove()||(this.gridOptionsWrapper.isSuppressMoveWhenRowDragging()||!i?this.isDropZoneWithinThisGrid(e)||this.clientSideRowModel.highlightRowAtPixel(o[0],t):this.moveRows(o,t))},o.prototype.getRowIndexNumber=function(e){return parseInt(q(e.getRowIndexString().split("-")),10)},o.prototype.moveRowAndClearHighlight=function(e){var t=this,o=this.clientSideRowModel.getLastHighlightedRowNode(),n=o&&"below"===o.highlighted,i=this.mouseEventService.getNormalisedPosition(e).y,r=e.dragItem.rowNodes,s=n?1:0;if(this.isFromThisGrid(e))r.forEach((function(e){e.rowTop<i&&(s-=1)})),this.moveRows(r,i,s);else{var a=this.gridOptionsWrapper.getRowNodeIdFunc(),l=this.clientSideRowModel.getRowIndexAtPixel(i)+1;"above"===this.clientSideRowModel.getHighlightPosition(i)&&l--,this.clientSideRowModel.updateRowData({add:r.map((function(e){return e.data})).filter((function(e){return!t.clientSideRowModel.getRowNode(a?a(e):e.id)})),addIndex:l})}this.clearRowHighlight()},o.prototype.clearRowHighlight=function(){this.clientSideRowModel.highlightRowAtPixel(null)},o.prototype.moveRows=function(e,t,o){void 0===o&&(o=0),this.clientSideRowModel.ensureRowsAtPixel(e,t,o)&&(this.focusController.clearFocusedCell(),this.rangeController&&this.rangeController.removeAllCellRanges())},o.prototype.checkCenterForScrolling=function(e){var t=this.gridPanel.getVScrollPosition();this.needToMoveUp=e<t.top+50,this.needToMoveDown=e>t.bottom-50,this.needToMoveUp||this.needToMoveDown?this.ensureIntervalStarted():this.ensureIntervalCleared()},o.prototype.ensureIntervalStarted=function(){this.movingIntervalId||(this.intervalCount=0,this.movingIntervalId=window.setInterval(this.moveInterval.bind(this),100))},o.prototype.ensureIntervalCleared=function(){this.moveInterval&&(window.clearInterval(this.movingIntervalId),this.movingIntervalId=null)},o.prototype.moveInterval=function(){var e,t;this.intervalCount++,(e=10+5*this.intervalCount)>100&&(e=100),this.needToMoveDown?t=this.gridPanel.scrollVertically(e):this.needToMoveUp&&(t=this.gridPanel.scrollVertically(-e)),0!==t&&this.onDragging(this.lastDraggingEvent)},o.prototype.addRowDropZone=function(e){var o=this;if(e.getContainer())if(this.dragAndDropService.findExternalZone(e))console.warn("ag-Grid: addRowDropZone - target already exists in the list of DropZones. Use `removeRowDropZone` before adding it again.");else{var n={getContainer:e.getContainer};e.fromGrid?(e.fromGrid=void 0,n=e):(e.onDragEnter&&(n.onDragEnter=function(t){e.onDragEnter(o.draggingToRowDragEvent(_t.EVENT_ROW_DRAG_ENTER,t))}),e.onDragLeave&&(n.onDragLeave=function(t){e.onDragLeave(o.draggingToRowDragEvent(_t.EVENT_ROW_DRAG_LEAVE,t))}),e.onDragging&&(n.onDragging=function(t){e.onDragging(o.draggingToRowDragEvent(_t.EVENT_ROW_DRAG_MOVE,t))}),e.onDragStop&&(n.onDragStop=function(t){e.onDragStop(o.draggingToRowDragEvent(_t.EVENT_ROW_DRAG_END,t))})),this.dragAndDropService.addDropTarget(fs({isInterestedIn:function(e){return e===t.DragSourceType.RowDrag},getIconName:function(){return Gi.ICON_MOVE},external:!0},n))}else et.doOnce((function(){return console.warn("ag-Grid: addRowDropZone - A container target needs to be provided")}),"add-drop-zone-empty-target")},o.prototype.getRowDropZone=function(e){var t=this,o=this.getContainer.bind(this),n=this.onDragEnter.bind(this),i=this.onDragLeave.bind(this),r=this.onDragging.bind(this),s=this.onDragStop.bind(this);return e?{getContainer:o,onDragEnter:e.onDragEnter?function(o){n(o),e.onDragEnter(t.draggingToRowDragEvent(_t.EVENT_ROW_DRAG_ENTER,o))}:n,onDragLeave:e.onDragLeave?function(o){i(o),e.onDragLeave(t.draggingToRowDragEvent(_t.EVENT_ROW_DRAG_LEAVE,o))}:i,onDragging:e.onDragging?function(o){r(o),e.onDragging(t.draggingToRowDragEvent(_t.EVENT_ROW_DRAG_MOVE,o))}:r,onDragStop:e.onDragStop?function(o){s(o),e.onDragStop(t.draggingToRowDragEvent(_t.EVENT_ROW_DRAG_END,o))}:s,fromGrid:!0}:{getContainer:o,onDragEnter:n,onDragLeave:i,onDragging:r,onDragStop:s,fromGrid:!0}},o.prototype.draggingToRowDragEvent=function(e,o){var n,i=this.mouseEventService.getNormalisedPosition(o).y,r=-1,s=null;switch(i>this.rowModel.getCurrentPageHeight()||(r=this.rowModel.getRowIndexAtPixel(i),s=this.rowModel.getRow(r)),o.vDirection){case t.VerticalDirection.Down:n="down";break;case t.VerticalDirection.Up:n="up";break;default:n=null}return{type:e,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),event:o.event,node:o.dragItem.rowNode,nodes:o.dragItem.rowNodes,overIndex:r,overNode:s,y:i,vDirection:n}},o.prototype.dispatchGridEvent=function(e,t){var o=this.draggingToRowDragEvent(e,t);this.eventService.dispatchEvent(o)},o.prototype.onDragLeave=function(e){this.dispatchGridEvent(_t.EVENT_ROW_DRAG_LEAVE,e),this.stopDragging(e),this.clearRowHighlight(),this.isFromThisGrid(e)&&(this.isMultiRowDrag=!1)},o.prototype.onDragStop=function(e){this.dispatchGridEvent(_t.EVENT_ROW_DRAG_END,e),this.stopDragging(e),!this.gridOptionsWrapper.isRowDragManaged()||!this.gridOptionsWrapper.isSuppressMoveWhenRowDragging()&&this.isFromThisGrid(e)||this.isDropZoneWithinThisGrid(e)||this.moveRowAndClearHighlight(e)},o.prototype.stopDragging=function(e){this.ensureIntervalCleared(),this.getRowNodes(e).forEach((function(e){e.setDragging(!1)}))},ms([ut("dragAndDropService")],o.prototype,"dragAndDropService",void 0),ms([ut("rowModel")],o.prototype,"rowModel",void 0),ms([ut("columnController")],o.prototype,"columnController",void 0),ms([ut("focusController")],o.prototype,"focusController",void 0),ms([ut("sortController")],o.prototype,"sortController",void 0),ms([ut("filterManager")],o.prototype,"filterManager",void 0),ms([ut("gridOptionsWrapper")],o.prototype,"gridOptionsWrapper",void 0),ms([ut("selectionController")],o.prototype,"selectionController",void 0),ms([dt("rangeController")],o.prototype,"rangeController",void 0),ms([ut("mouseEventService")],o.prototype,"mouseEventService",void 0),ms([at],o.prototype,"postConstruct",null),o}(xt),Cs=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),ws=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},bs=function(e){function o(){var t=e.call(this,'<div class="ag-root ag-unselectable" role="grid" unselectable="on">\n        <ag-header-root ref="headerRoot" unselectable="on"></ag-header-root>\n        <div class="ag-floating-top" ref="eTop" role="presentation" unselectable="on">\n            <div class="ag-pinned-left-floating-top" ref="eLeftTop" role="presentation" unselectable="on"></div>\n            <div class="ag-floating-top-viewport" ref="eTopViewport" role="presentation" unselectable="on">\n                <div class="ag-floating-top-container" ref="eTopContainer" role="presentation" unselectable="on"></div>\n            </div>\n            <div class="ag-pinned-right-floating-top" ref="eRightTop" role="presentation" unselectable="on"></div>\n            <div class="ag-floating-top-full-width-container" ref="eTopFullWidthContainer" role="presentation" unselectable="on"></div>\n        </div>\n        <div class="ag-body-viewport" ref="eBodyViewport" role="presentation">\n            <div class="ag-pinned-left-cols-container" ref="eLeftContainer" role="presentation" unselectable="on"></div>\n            <div class="ag-center-cols-clipper" ref="eCenterColsClipper" role="presentation" unselectable="on">\n                <div class="ag-center-cols-viewport" ref="eCenterViewport" role="presentation">\n                    <div class="ag-center-cols-container" ref="eCenterContainer" role="rowgroup" unselectable="on"></div>\n                </div>\n            </div>\n            <div class="ag-pinned-right-cols-container" ref="eRightContainer" role="presentation" unselectable="on"></div>\n            <div class="ag-full-width-container" ref="eFullWidthContainer" role="presentation" unselectable="on"></div>\n        </div>\n        <div class="ag-floating-bottom" ref="eBottom" role="presentation" unselectable="on">\n            <div class="ag-pinned-left-floating-bottom" ref="eLeftBottom" role="presentation" unselectable="on"></div>\n            <div class="ag-floating-bottom-viewport" ref="eBottomViewport" role="presentation" unselectable="on">\n                <div class="ag-floating-bottom-container" ref="eBottomContainer" role="presentation" unselectable="on"></div>\n            </div>\n            <div class="ag-pinned-right-floating-bottom" ref="eRightBottom" role="presentation" unselectable="on"></div>\n            <div class="ag-floating-bottom-full-width-container" ref="eBottomFullWidthContainer" role="presentation" unselectable="on"></div>\n        </div>\n        <div class="ag-body-horizontal-scroll" ref="eHorizontalScrollBody" aria-hidden="true">\n            <div class="ag-horizontal-left-spacer" ref="eHorizontalLeftSpacer"></div>\n            <div class="ag-body-horizontal-scroll-viewport" ref="eBodyHorizontalScrollViewport">\n                <div class="ag-body-horizontal-scroll-container" ref="eBodyHorizontalScrollContainer"></div>\n            </div>\n            <div class="ag-horizontal-right-spacer" ref="eHorizontalRightSpacer"></div>\n        </div>\n        <ag-overlay-wrapper ref="overlayWrapper"></ag-overlay-wrapper>\n    </div>')||this;return t.scrollLeft=-1,t.scrollTop=-1,t.resetLastHorizontalScrollElementDebounced=et.debounce(t.resetLastHorizontalScrollElement.bind(t),500),t}return Cs(o,e),o.prototype.getVScrollPosition=function(){return{top:this.eBodyViewport.scrollTop,bottom:this.eBodyViewport.scrollTop+this.eBodyViewport.offsetHeight}},o.prototype.getHScrollPosition=function(){return{left:this.eCenterViewport.scrollLeft,right:this.eCenterViewport.scrollLeft+this.eCenterViewport.offsetWidth}},o.prototype.onRowDataChanged=function(){this.showOrHideOverlay()},o.prototype.showOrHideOverlay=function(){var e=this.paginationProxy.isEmpty(),t=this.gridOptionsWrapper.isSuppressNoRowsOverlay();this[e&&!t?"showNoRowsOverlay":"hideOverlay"]()},o.prototype.onNewColumnsLoaded=function(){this.beans.columnController.isReady()&&!this.paginationProxy.isEmpty()&&this.hideOverlay()},o.prototype.init=function(){var e=this;this.scrollWidth=this.gridOptionsWrapper.getScrollbarWidth(),this.enableRtl=this.gridOptionsWrapper.isEnableRtl(),this.printLayout=this.gridOptionsWrapper.getDomLayout()===ze.DOM_LAYOUT_PRINT,this.gridOptionsWrapper.addLayoutElement(this.getGui()),this.gridOptionsWrapper.addLayoutElement(this.eBodyViewport),this.suppressScrollOnFloatingRow(),this.setupRowAnimationCssClass(),this.buildRowContainerComponents(),this.addEventListeners(),this.addDragListeners(),this.addScrollListener(),this.gridOptionsWrapper.isRowModelDefault()&&!this.gridOptionsWrapper.getRowData()&&this.showLoadingOverlay(),this.setCellTextSelection(this.gridOptionsWrapper.isEnableCellTextSelect()),this.setPinnedContainerSize(),this.setHeaderAndFloatingHeights(),this.disableBrowserDragging(),this.addMouseListeners(),this.addKeyboardEvents(),this.addBodyViewportListener(),this.addStopEditingWhenGridLosesFocus(),this.mockContextMenuForIPad(),this.addRowDragListener(),this.$scope&&this.addAngularApplyCheck(),this.onDisplayedColumnsWidthChanged(),this.gridApi.registerGridComp(this),this.alignedGridsService.registerGridComp(this),this.headerRootComp.registerGridComp(this),this.navigationService.registerGridComp(this),this.headerNavigationService.registerGridComp(this),this.heightScaler.registerGridComp(this),this.autoHeightCalculator.registerGridComp(this),this.columnAnimationService.registerGridComp(this),this.autoWidthCalculator.registerGridComp(this),this.paginationAutoPageSizeService.registerGridComp(this),this.mouseEventService.registerGridComp(this),this.beans.registerGridComp(this),this.rowRenderer.registerGridComp(this),this.rangeController&&this.rangeController.registerGridComp(this),[this.eCenterViewport,this.eBodyViewport].forEach((function(t){var o=e.resizeObserverService.observeResize(t,e.onCenterViewportResized.bind(e));e.addDestroyFunc((function(){return o()}))})),[this.eTop,this.eBodyViewport,this.eBottom].forEach((function(t){e.addManagedListener(t,"focusin",(function(){et.addCssClass(t,"ag-has-focus")})),e.addManagedListener(t,"focusout",(function(e){t.contains(e.relatedTarget)||et.removeCssClass(t,"ag-has-focus")}))}))},o.prototype.onDomLayoutChanged=function(){var e=this.gridOptionsWrapper.getDomLayout()===ze.DOM_LAYOUT_PRINT;this.printLayout!==e&&(this.printLayout=e,this.setWidthsOfContainers(),this.setPinnedContainerSize())},o.prototype.onCenterViewportResized=function(){et.isVisible(this.eCenterViewport)?(this.checkViewportAndScrolls(),this.beans.columnController.refreshFlexedColumns(this.getCenterWidth())):this.bodyHeight=0},o.prototype.setColumnMovingCss=function(e){this.addOrRemoveCssClass("ag-column-moving",e)},o.prototype.setCellTextSelection=function(e){void 0===e&&(e=!1),[this.eTop,this.eBodyViewport,this.eBottom].forEach((function(t){return et.addOrRemoveCssClass(t,"ag-selectable",e)}))},o.prototype.addRowDragListener=function(){this.rowDragFeature=this.createManagedBean(new ys(this.eBodyViewport,this)),this.dragAndDropService.addDropTarget(this.rowDragFeature)},o.prototype.getRowDragFeature=function(){return this.rowDragFeature},o.prototype.addStopEditingWhenGridLosesFocus=function(){var e=this;if(this.gridOptionsWrapper.isStopEditingWhenGridLosesFocus()){var t=[this.eBodyViewport,this.eBottom,this.eTop],o=function(o){var n=o.relatedTarget;if(null!==et.getTabIndex(n)){var i=t.some((function(e){return e.contains(n)}));if(!i){var r=e.beans.popupService;i=r.getActivePopups().some((function(e){return e.contains(n)}))||r.isElementWithinCustomPopup(n)}i||e.rowRenderer.stopEditing()}else e.rowRenderer.stopEditing()};t.forEach((function(t){return e.addManagedListener(t,"focusout",o)}))}},o.prototype.addAngularApplyCheck=function(){var e=this,t=!1,o=function(){t||(t=!0,window.setTimeout((function(){t=!1,e.$scope.$apply()}),0))};this.addManagedListener(this.eventService,_t.EVENT_DISPLAYED_COLUMNS_CHANGED,o),this.addManagedListener(this.eventService,_t.EVENT_VIRTUAL_COLUMNS_CHANGED,o)},o.prototype.disableBrowserDragging=function(){this.addGuiEventListener("dragstart",(function(e){if(e.target instanceof HTMLImageElement)return e.preventDefault(),!1}))},o.prototype.addEventListeners=function(){this.addManagedListener(this.eventService,_t.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,_t.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onDisplayedColumnsWidthChanged.bind(this)),this.addManagedListener(this.eventService,_t.EVENT_PINNED_ROW_DATA_CHANGED,this.setHeaderAndFloatingHeights.bind(this)),this.addManagedListener(this.eventService,_t.EVENT_ROW_DATA_CHANGED,this.onRowDataChanged.bind(this)),this.addManagedListener(this.eventService,_t.EVENT_ROW_DATA_UPDATED,this.onRowDataChanged.bind(this)),this.addManagedListener(this.eventService,_t.EVENT_NEW_COLUMNS_LOADED,this.onNewColumnsLoaded.bind(this)),this.addManagedListener(this.gridOptionsWrapper,Jt.PROP_HEADER_HEIGHT,this.setHeaderAndFloatingHeights.bind(this)),this.addManagedListener(this.gridOptionsWrapper,Jt.PROP_PIVOT_HEADER_HEIGHT,this.setHeaderAndFloatingHeights.bind(this)),this.addManagedListener(this.gridOptionsWrapper,Jt.PROP_GROUP_HEADER_HEIGHT,this.setHeaderAndFloatingHeights.bind(this)),this.addManagedListener(this.gridOptionsWrapper,Jt.PROP_PIVOT_GROUP_HEADER_HEIGHT,this.setHeaderAndFloatingHeights.bind(this)),this.addManagedListener(this.gridOptionsWrapper,Jt.PROP_FLOATING_FILTERS_HEIGHT,this.setHeaderAndFloatingHeights.bind(this)),this.addManagedListener(this.gridOptionsWrapper,Jt.PROP_DOM_LAYOUT,this.onDomLayoutChanged.bind(this))},o.prototype.addDragListeners=function(){var e=this;this.gridOptionsWrapper.isEnableRangeSelection()&&!et.missing(this.rangeController)&&[this.eLeftContainer,this.eRightContainer,this.eCenterContainer,this.eTop,this.eBottom].forEach((function(t){var o={eElement:t,onDragStart:e.rangeController.onDragStart.bind(e.rangeController),onDragStop:e.rangeController.onDragStop.bind(e.rangeController),onDragging:e.rangeController.onDragging.bind(e.rangeController)};e.dragService.addDragSource(o),e.addDestroyFunc((function(){return e.dragService.removeDragSource(o)}))}))},o.prototype.addMouseListeners=function(){var e=this;["click","mousedown","dblclick","contextmenu","mouseover","mouseout"].forEach((function(t){var o=e.processMouseEvent.bind(e,t);e.eAllCellContainers.forEach((function(n){return e.addManagedListener(n,t,o)}))}))},o.prototype.addKeyboardEvents=function(){var e=this;["keydown","keypress"].forEach((function(t){var o=e.processKeyboardEvent.bind(e,t);e.eAllCellContainers.forEach((function(n){e.addManagedListener(n,t,o)}))}))},o.prototype.addBodyViewportListener=function(){var e=this;this.addManagedListener(this.eBodyViewport,"contextmenu",(function(t){var o=et.getTarget(t);o!==e.eBodyViewport&&o!==e.eCenterViewport||(e.onContextMenu(t,null,null,null,null),e.preventDefaultOnContextMenu(t))}))},o.prototype.getBodyClientRect=function(){if(this.eBodyViewport)return this.eBodyViewport.getBoundingClientRect()},o.prototype.getRowForEvent=function(e){for(var t=et.getTarget(e);t;){var o=this.gridOptionsWrapper.getDomData(t,sr.DOM_DATA_KEY_RENDERED_ROW);if(o)return o;t=t.parentElement}return null},o.prototype.processKeyboardEvent=function(e,t){var o=et.getCellCompForEvent(this.gridOptionsWrapper,t);if(o&&!t.defaultPrevented){var n=o.getRenderedRow().getRowNode(),i=o.getColumn(),r=o.isEditing();if(!et.isUserSuppressingKeyboardEvent(this.gridOptionsWrapper,t,n,i,r))switch(e){case"keydown":!r&&this.navigationService.handlePageScrollingKey(t)||o.onKeyDown(t),this.doGridOperations(t,o);break;case"keypress":o.onKeyPress(t)}if("keydown"===e){var s=o.createEvent(t,_t.EVENT_CELL_KEY_DOWN);this.beans.eventService.dispatchEvent(s)}if("keypress"===e){var a=o.createEvent(t,_t.EVENT_CELL_KEY_PRESS);this.beans.eventService.dispatchEvent(a)}}},o.prototype.doGridOperations=function(e,t){if((e.ctrlKey||e.metaKey)&&!t.isEditing()&&this.mouseEventService.isEventFromThisGrid(e))switch(e.which){case ze.KEY_A:return this.onCtrlAndA(e);case ze.KEY_C:return this.onCtrlAndC(e);case ze.KEY_V:return this.onCtrlAndV();case ze.KEY_D:return this.onCtrlAndD(e);case ze.KEY_Z:return e.shiftKey?this.undoRedoService.redo():this.undoRedoService.undo();case ze.KEY_Y:return this.undoRedoService.redo()}},o.prototype.scrollToTop=function(){this.eBodyViewport.scrollTop=0},o.prototype.processMouseEvent=function(e,t){if(this.mouseEventService.isEventFromThisGrid(t)&&!et.isStopPropagationForAgGrid(t)){var o=this.getRowForEvent(t),n=this.mouseEventService.getRenderedCellForEvent(t);"contextmenu"===e?(this.preventDefaultOnContextMenu(t),this.handleContextMenuMouseEvent(t,null,o,n)):(n&&n.onMouseEvent(e,t),o&&o.onMouseEvent(e,t))}},o.prototype.mockContextMenuForIPad=function(){var e=this;et.isIOSUserAgent()&&this.eAllCellContainers.forEach((function(t){var o=new Io(t);e.addManagedListener(o,Io.EVENT_LONG_TAP,(function(t){var o=e.getRowForEvent(t.touchEvent),n=e.mouseEventService.getRenderedCellForEvent(t.touchEvent);e.handleContextMenuMouseEvent(null,t.touchEvent,o,n)})),e.addDestroyFunc((function(){return o.destroy()}))}))},o.prototype.handleContextMenuMouseEvent=function(e,t,o,n){var i=o?o.getRowNode():null,r=n?n.getColumn():null,s=null;if(r){var a=e||t;n.dispatchCellContextMenuEvent(a),s=this.valueService.getValue(r,i)}this.onContextMenu(e,t,i,r,s)},o.prototype.onContextMenu=function(e,t,o,n,i){if((this.gridOptionsWrapper.isAllowContextMenuWithControlKey()||!e||!e.ctrlKey&&!e.metaKey)&&this.contextMenuFactory&&!this.gridOptionsWrapper.isSuppressContextMenu()){var r=e||t.touches[0];if(this.contextMenuFactory.showMenu(o,n,i,r))(e||t).preventDefault()}},o.prototype.preventDefaultOnContextMenu=function(e){var t=this.gridOptionsWrapper,o=e.which;(t.isPreventDefaultOnContextMenu()||t.isSuppressMiddleClickScrolls()&&2===o)&&e.preventDefault()},o.prototype.onCtrlAndA=function(e){var t=this,o=t.beans,n=t.pinnedRowModel,i=t.paginationProxy,r=t.rangeController,s=ze.PINNED_BOTTOM,a=ze.PINNED_TOP;if(r&&i.isRowsToRender()){var l=[n.isEmpty(a),n.isEmpty(s)],c=l[0]?null:a,u=void 0,d=void 0;l[1]?(u=null,d=this.paginationProxy.getRowCount()-1):(u=s,d=n.getPinnedBottomRowData().length-1);var h=o.columnController.getAllDisplayedColumns();if(et.missingOrEmpty(h))return;r.setCellRange({rowStartIndex:0,rowStartPinned:c,rowEndIndex:d,rowEndPinned:u,columnStart:h[0],columnEnd:et.last(h)})}e.preventDefault()},o.prototype.onCtrlAndC=function(e){this.clipboardService&&!this.gridOptionsWrapper.isEnableCellTextSelection()&&(this.clipboardService.copyToClipboard(),e.preventDefault())},o.prototype.onCtrlAndV=function(){Ct.isRegistered(t.ModuleNames.ClipboardModule)&&!this.gridOptionsWrapper.isSuppressClipboardPaste()&&this.clipboardService.pasteFromClipboard()},o.prototype.onCtrlAndD=function(e){Ct.isRegistered(t.ModuleNames.ClipboardModule)&&!this.gridOptionsWrapper.isSuppressClipboardPaste()&&this.clipboardService.copyRangeDown(),e.preventDefault()},o.prototype.ensureIndexVisible=function(e,t){if(!this.printLayout){var o=this.paginationProxy.getRowCount();if("number"!==typeof e||e<0||e>=o)console.warn("invalid row index for ensureIndexVisible: "+e);else{this.paginationProxy.goToPageWithIndex(e);var n,i=this.paginationProxy.getRow(e);do{var r=i.rowTop,s=i.rowHeight,a=this.paginationProxy.getPixelOffset(),l=i.rowTop-a,c=l+i.rowHeight,u=this.getVScrollPosition(),d=this.heightScaler.getOffset(),h=u.top+d,p=u.bottom+d,g=p-h,f=this.heightScaler.getScrollPositionForPixel(l),m=this.heightScaler.getScrollPositionForPixel(c-g),v=Math.min((f+m)/2,l),y=null;"top"===t?y=f:"bottom"===t?y=m:"middle"===t?y=v:h>l?y=f:p<c&&(y=m),null!==y&&(this.eBodyViewport.scrollTop=y,this.rowRenderer.redrawAfterScroll()),n=r!==i.rowTop||s!==i.rowHeight}while(n);this.animationFrameService.flushAllFrames()}}},o.prototype.getCenterWidth=function(){return this.eCenterViewport.clientWidth},o.prototype.isVerticalScrollShowing=function(){var e=this.gridOptionsWrapper.isAlwaysShowVerticalScroll();return et.addOrRemoveCssClass(this.eBodyViewport,"ag-force-vertical-scroll",e),e||et.isVerticalScrollShowing(this.eBodyViewport)},o.prototype.isHorizontalScrollShowing=function(){return et.isHorizontalScrollShowing(this.eCenterViewport)},o.prototype.checkViewportAndScrolls=function(){this.updateScrollVisibleService(),this.checkBodyHeight(),this.onHorizontalViewportChanged(),this.setPinnedContainerSize(),this.scrollLeft!==this.getCenterViewportScrollLeft()&&this.onBodyHorizontalScroll(this.eCenterViewport)},o.prototype.updateScrollVisibleService=function(){this.updateScrollVisibleServiceImpl(),setTimeout(this.updateScrollVisibleServiceImpl.bind(this),500)},o.prototype.updateScrollVisibleServiceImpl=function(){var e={horizontalScrollShowing:!1,verticalScrollShowing:!1};e.verticalScrollShowing=this.isVerticalScrollShowing(),e.horizontalScrollShowing=this.isHorizontalScrollShowing(),this.scrollVisibleService.setScrollsVisible(e),this.setHorizontalScrollVisible(e.horizontalScrollShowing),this.setVerticalScrollPaddingVisible(e.verticalScrollShowing)},o.prototype.setHorizontalScrollVisible=function(e){var t=this.gridOptionsWrapper.isSuppressHorizontalScroll(),o=e&&this.gridOptionsWrapper.getScrollbarWidth()||0,n=t?0:o,i=et.isBrowserIE()&&e;this.eCenterViewport.style.height="calc(100% + "+o+"px)",et.setFixedHeight(this.eHorizontalScrollBody,n),et.setFixedHeight(this.eBodyHorizontalScrollViewport,n+(i?1:0)),et.setFixedHeight(this.eBodyHorizontalScrollContainer,n)},o.prototype.setVerticalScrollPaddingVisible=function(e){var t=e?"scroll":"hidden";this.eTop.style.overflowY=this.eBottom.style.overflowY=t,this.setFakeHScrollSpacerWidths()},o.prototype.updateRowCount=function(){var e=(this.headerNavigationService.getHeaderRowCount()+this.paginationProxy.getRowCount()).toString();this.getGui().setAttribute("aria-rowcount",e)},o.prototype.updateColumnCount=function(){var e=this.columnController.getAllDisplayedColumns();this.getGui().setAttribute("aria-colcount",e.length.toString())},o.prototype.ensureColumnVisible=function(e){var t=this.columnController.getGridColumn(e);if(t)if(t.isPinned())console.warn("calling ensureIndexVisible on a "+t.getPinned()+" pinned column doesn't make sense for column "+t.getColId());else if(this.columnController.isColumnDisplayed(t)){var o,n,i=t.getLeft(),r=i+t.getActualWidth(),s=this.eCenterViewport.clientWidth,a=this.getCenterViewportScrollLeft(),l=this.columnController.getBodyContainerWidth();this.enableRtl?(o=l-a-s,n=l-a):(o=a,n=s+a);var c=o>i,u=n<r,d=s<t.getActualWidth(),h=c||d,p=u,g=this.getCenterViewportScrollLeft();(h||p)&&(g=this.enableRtl?h?l-s-i:l-r:h?i:r-s,this.setCenterViewportScrollLeft(g)),this.onHorizontalViewportChanged(),this.animationFrameService.flushAllFrames()}else console.warn("column is not currently visible")},o.prototype.showLoadingOverlay=function(){this.gridOptionsWrapper.isSuppressLoadingOverlay()||this.overlayWrapper.showLoadingOverlay()},o.prototype.showNoRowsOverlay=function(){this.gridOptionsWrapper.isSuppressNoRowsOverlay()||this.overlayWrapper.showNoRowsOverlay()},o.prototype.hideOverlay=function(){this.overlayWrapper.hideOverlay()},o.prototype.sizeColumnsToFit=function(e){var t=this,o=this.eBodyViewport.clientWidth;o>0?this.columnController.sizeColumnsToFit(o,"sizeColumnsToFit"):void 0===e?window.setTimeout((function(){t.sizeColumnsToFit(100)}),0):100===e?window.setTimeout((function(){t.sizeColumnsToFit(500)}),100):500===e?window.setTimeout((function(){t.sizeColumnsToFit(-1)}),500):console.warn("ag-Grid: tried to call sizeColumnsToFit() but the grid is coming back with zero width, maybe the grid is not visible yet on the screen?")},o.prototype.getCenterContainer=function(){return this.eCenterContainer},o.prototype.getDropTargetBodyContainers=function(){return[this.eCenterViewport,this.eTopViewport,this.eBottomViewport]},o.prototype.getDropTargetLeftContainers=function(){return[this.eLeftContainer,this.eLeftBottom,this.eLeftTop]},o.prototype.getDropTargetRightContainers=function(){return[this.eRightContainer,this.eRightBottom,this.eRightTop]},o.prototype.buildRowContainerComponents=function(){var e=this;this.eAllCellContainers=[this.eLeftContainer,this.eRightContainer,this.eCenterContainer,this.eTop,this.eBottom,this.eFullWidthContainer],this.rowContainerComponents={body:new ps({eContainer:this.eCenterContainer,eWrapper:this.eCenterColsClipper,eViewport:this.eBodyViewport}),fullWidth:new ps({eContainer:this.eFullWidthContainer}),pinnedLeft:new ps({eContainer:this.eLeftContainer}),pinnedRight:new ps({eContainer:this.eRightContainer}),floatingTop:new ps({eContainer:this.eTopContainer}),floatingTopPinnedLeft:new ps({eContainer:this.eLeftTop}),floatingTopPinnedRight:new ps({eContainer:this.eRightTop}),floatingTopFullWidth:new ps({eContainer:this.eTopFullWidthContainer,hideWhenNoChildren:!0}),floatingBottom:new ps({eContainer:this.eBottomContainer}),floatingBottomPinnedLeft:new ps({eContainer:this.eLeftBottom}),floatingBottomPinnedRight:new ps({eContainer:this.eRightBottom}),floatingBottomFullWidth:new ps({eContainer:this.eBottomFullWidthContainer,hideWhenNoChildren:!0})},et.iterateObject(this.rowContainerComponents,(function(t,o){o&&e.getContext().createBean(o)}))},o.prototype.setupRowAnimationCssClass=function(){var e=this,t=function(){var t=e.gridOptionsWrapper.isAnimateRows()&&!e.heightScaler.isScaling();et.addOrRemoveCssClass(e.eBodyViewport,"ag-row-animation",t),et.addOrRemoveCssClass(e.eBodyViewport,"ag-row-no-animation",!t)};t(),this.addManagedListener(this.eventService,_t.EVENT_HEIGHT_SCALE_CHANGED,t)},o.prototype.suppressScrollOnFloatingRow=function(){var e=this;this.addManagedListener(this.eTopViewport,"scroll",(function(){return e.eTopViewport.scrollLeft=0})),this.addManagedListener(this.eBottomViewport,"scroll",(function(){return e.eTopViewport.scrollLeft=0}))},o.prototype.getRowContainers=function(){return this.rowContainerComponents},o.prototype.getFloatingTopBottom=function(){return[this.eTop,this.eBottom]},o.prototype.onDisplayedColumnsChanged=function(){this.setPinnedContainerSize(),this.setHeaderAndFloatingHeights(),this.onHorizontalViewportChanged(),this.updateScrollVisibleService(),this.updateColumnCount()},o.prototype.onDisplayedColumnsWidthChanged=function(){this.setWidthsOfContainers(),this.onHorizontalViewportChanged(),this.updateScrollVisibleService(),this.enableRtl&&this.horizontallyScrollHeaderCenterAndFloatingCenter()},o.prototype.setWidthsOfContainers=function(){this.setCenterWidth(),this.setPinnedContainerSize()},o.prototype.setCenterWidth=function(){var e=this.headerRootComp,t=this.columnController,o=t.getBodyContainerWidth();this.printLayout&&(o+=t.getPinnedLeftContainerWidth()+t.getPinnedRightContainerWidth());e.setHeaderContainerWidth(o);var n=o+"px";this.eCenterContainer.style.width=n,this.eBottomContainer.style.width=n,this.eTopContainer.style.width=n,this.printLayout||(this.eBodyHorizontalScrollContainer.style.width=n)},o.prototype.setPinnedLeftWidth=function(){var e=this,t=this.pinningLeft,o=this.columnController.getPinnedLeftContainerWidth(),n=this.pinningLeft=!this.printLayout&&o>0,i=[this.eLeftContainer,this.eLeftTop,this.eLeftBottom];t!==n&&this.headerRootComp.setLeftVisible(n),i.forEach((function(t){return et.setDisplayed(t,e.pinningLeft)})),n&&i.forEach((function(e){return et.setFixedWidth(e,o)}))},o.prototype.setPinnedRightWidth=function(){var e=this.pinningRight,t=this.columnController.getPinnedRightContainerWidth(),o=this.pinningRight=!this.printLayout&&t>0,n=[this.eRightContainer,this.eRightTop,this.eRightBottom];e!==o&&this.headerRootComp.setRightVisible(o),n.forEach((function(e){return et.setDisplayed(e,o)})),o&&n.forEach((function(e){return et.setFixedWidth(e,t)}))},o.prototype.setPinnedContainerSize=function(){this.setPinnedLeftWidth(),this.setPinnedRightWidth(),this.setFakeHScrollSpacerWidths()},o.prototype.setFakeHScrollSpacerWidths=function(){var e=this.columnController.getPinnedRightContainerWidth();!this.enableRtl&&this.isVerticalScrollShowing()&&(e+=this.scrollWidth),et.setFixedWidth(this.eHorizontalRightSpacer,e),et.addOrRemoveCssClass(this.eHorizontalRightSpacer,"ag-scroller-corner",e<=this.scrollWidth);var t=this.columnController.getPinnedLeftContainerWidth();this.enableRtl&&this.isVerticalScrollShowing()&&(t+=this.scrollWidth),et.setFixedWidth(this.eHorizontalLeftSpacer,t),et.addOrRemoveCssClass(this.eHorizontalLeftSpacer,"ag-scroller-corner",t<=this.scrollWidth)},o.prototype.checkBodyHeight=function(){var e=this.eBodyViewport.clientHeight;if(this.bodyHeight!==e){this.bodyHeight=e;var t={type:_t.EVENT_BODY_HEIGHT_CHANGED,api:this.gridApi,columnApi:this.columnApi};this.eventService.dispatchEvent(t)}},o.prototype.setHeaderAndFloatingHeights=function(){var e,t,o,n=this,i=n.columnController,r=n.gridOptionsWrapper,s=n.pinnedRowModel,a=n.eTop,l=n.eBottom,c=0,u=i.getHeaderRowCount();i.isPivotMode()?(t=r.getPivotGroupHeaderHeight(),o=r.getPivotHeaderHeight()):(i.hasFloatingFilters()&&(u++,c=1),t=r.getGroupHeaderHeight(),o=r.getHeaderHeight());var d=u-(1+c);e=c*r.getFloatingFiltersHeight(),e+=d*t,e+=o,this.headerRootComp.setHeight(e);var h=s.getPinnedTopTotalHeight();h&&(h+=1);var p=s.getPinnedBottomTotalHeight();p&&(p+=1);var g=h+"px",f=p+"px";a.style.minHeight=g,a.style.height=g,a.style.display=h?"inherit":"none",l.style.minHeight=f,l.style.height=f,l.style.display=p?"inherit":"none",this.checkBodyHeight()},o.prototype.getBodyHeight=function(){return this.bodyHeight},o.prototype.setHorizontalScrollPosition=function(e){this.eCenterViewport.scrollLeft=e,this.doHorizontalScroll(e)},o.prototype.setVerticalScrollPosition=function(e){this.eBodyViewport.scrollTop=e},o.prototype.scrollHorizontally=function(e){var t=this.eCenterViewport.scrollLeft;return this.setHorizontalScrollPosition(t+e),this.eCenterViewport.scrollLeft-t},o.prototype.scrollVertically=function(e){var t=this.eBodyViewport.scrollTop;return this.setVerticalScrollPosition(t+e),this.eBodyViewport.scrollTop-t},o.prototype.addScrollListener=function(){this.addManagedListener(this.eCenterViewport,"scroll",this.onCenterViewportScroll.bind(this)),this.addManagedListener(this.eBodyHorizontalScrollViewport,"scroll",this.onFakeHorizontalScroll.bind(this)),this.addManagedListener(this.eBodyViewport,"scroll",this.onVerticalScroll.bind(this))},o.prototype.onVerticalScroll=function(){var e=this.eBodyViewport.scrollTop;this.animationFrameService.setScrollTop(e),this.scrollTop=e,this.redrawRowsAfterScroll()},o.prototype.isControllingScroll=function(e){return this.lastHorizontalScrollElement?e===this.lastHorizontalScrollElement:(this.lastHorizontalScrollElement=e,!0)},o.prototype.onFakeHorizontalScroll=function(){this.isControllingScroll(this.eBodyHorizontalScrollViewport)&&this.onBodyHorizontalScroll(this.eBodyHorizontalScrollViewport)},o.prototype.onCenterViewportScroll=function(){this.isControllingScroll(this.eCenterViewport)&&this.onBodyHorizontalScroll(this.eCenterViewport)},o.prototype.onBodyHorizontalScroll=function(e){var t=this.eCenterViewport,o=t.scrollWidth,n=t.clientWidth,i=Math.floor(et.getScrollLeft(e,this.enableRtl)),r=o-n;i<0?i=0:i>r&&(i=r),this.doHorizontalScroll(i),this.resetLastHorizontalScrollElementDebounced()},o.prototype.resetLastHorizontalScrollElement=function(){this.lastHorizontalScrollElement=null},o.prototype.doHorizontalScroll=function(e){this.scrollLeft=e;var t={type:_t.EVENT_BODY_SCROLL,api:this.gridApi,columnApi:this.columnApi,direction:"horizontal",left:this.scrollLeft,top:this.scrollTop};this.eventService.dispatchEvent(t),this.horizontallyScrollHeaderCenterAndFloatingCenter(e),this.onHorizontalViewportChanged()},o.prototype.redrawRowsAfterScroll=function(){var e={type:_t.EVENT_BODY_SCROLL,direction:"vertical",api:this.gridApi,columnApi:this.columnApi,left:this.scrollLeft,top:this.scrollTop};this.eventService.dispatchEvent(e)},o.prototype.onHorizontalViewportChanged=function(){var e=this.eCenterViewport.clientWidth,t=this.getCenterViewportScrollLeft();this.columnController.setVirtualViewportPosition(e,t)},o.prototype.getCenterViewportScrollLeft=function(){return et.getScrollLeft(this.eCenterViewport,this.enableRtl)},o.prototype.setCenterViewportScrollLeft=function(e){et.setScrollLeft(this.eCenterViewport,e,this.enableRtl)},o.prototype.horizontallyScrollHeaderCenterAndFloatingCenter=function(e){void 0===e&&(e=this.getCenterViewportScrollLeft());var t=this.enableRtl?e:-e,o=this.eCenterViewport,n=o.clientWidth,i=o.scrollWidth;if(!(Math.abs(t)+n>i||this.enableRtl&&t<0||!this.enableRtl&&t>0)){this.headerRootComp.setHorizontalScroll(t),this.eBottomContainer.style.transform="translateX("+t+"px)",this.eTopContainer.style.transform="translateX("+t+"px)";var r=this.lastHorizontalScrollElement===this.eCenterViewport?this.eBodyHorizontalScrollViewport:this.eCenterViewport;et.setScrollLeft(r,e,this.enableRtl)}},o.prototype.addScrollEventListener=function(e){this.eBodyViewport.addEventListener("scroll",e)},o.prototype.removeScrollEventListener=function(e){this.eBodyViewport.removeEventListener("scroll",e)},ws([ut("alignedGridsService")],o.prototype,"alignedGridsService",void 0),ws([ut("gridOptionsWrapper")],o.prototype,"gridOptionsWrapper",void 0),ws([ut("rowRenderer")],o.prototype,"rowRenderer",void 0),ws([ut("pinnedRowModel")],o.prototype,"pinnedRowModel",void 0),ws([ut("animationFrameService")],o.prototype,"animationFrameService",void 0),ws([ut("navigationService")],o.prototype,"navigationService",void 0),ws([ut("autoHeightCalculator")],o.prototype,"autoHeightCalculator",void 0),ws([ut("columnAnimationService")],o.prototype,"columnAnimationService",void 0),ws([ut("autoWidthCalculator")],o.prototype,"autoWidthCalculator",void 0),ws([ut("paginationAutoPageSizeService")],o.prototype,"paginationAutoPageSizeService",void 0),ws([ut("beans")],o.prototype,"beans",void 0),ws([ut("paginationProxy")],o.prototype,"paginationProxy",void 0),ws([ut("columnApi")],o.prototype,"columnApi",void 0),ws([ut("gridApi")],o.prototype,"gridApi",void 0),ws([ut("dragService")],o.prototype,"dragService",void 0),ws([ut("mouseEventService")],o.prototype,"mouseEventService",void 0),ws([ut("$scope")],o.prototype,"$scope",void 0),ws([ut("scrollVisibleService")],o.prototype,"scrollVisibleService",void 0),ws([ut("valueService")],o.prototype,"valueService",void 0),ws([ut("dragAndDropService")],o.prototype,"dragAndDropService",void 0),ws([ut("maxDivHeightScaler")],o.prototype,"heightScaler",void 0),ws([ut("resizeObserverService")],o.prototype,"resizeObserverService",void 0),ws([ut("undoRedoService")],o.prototype,"undoRedoService",void 0),ws([ut("columnController")],o.prototype,"columnController",void 0),ws([ut("headerNavigationService")],o.prototype,"headerNavigationService",void 0),ws([dt("rangeController")],o.prototype,"rangeController",void 0),ws([dt("contextMenuFactory")],o.prototype,"contextMenuFactory",void 0),ws([dt("clipboardService")],o.prototype,"clipboardService",void 0),ws([co("eBodyViewport")],o.prototype,"eBodyViewport",void 0),ws([co("eCenterContainer")],o.prototype,"eCenterContainer",void 0),ws([co("eCenterViewport")],o.prototype,"eCenterViewport",void 0),ws([co("eLeftContainer")],o.prototype,"eLeftContainer",void 0),ws([co("eRightContainer")],o.prototype,"eRightContainer",void 0),ws([co("eCenterColsClipper")],o.prototype,"eCenterColsClipper",void 0),ws([co("eHorizontalScrollBody")],o.prototype,"eHorizontalScrollBody",void 0),ws([co("eHorizontalLeftSpacer")],o.prototype,"eHorizontalLeftSpacer",void 0),ws([co("eHorizontalRightSpacer")],o.prototype,"eHorizontalRightSpacer",void 0),ws([co("eBodyHorizontalScrollViewport")],o.prototype,"eBodyHorizontalScrollViewport",void 0),ws([co("eBodyHorizontalScrollContainer")],o.prototype,"eBodyHorizontalScrollContainer",void 0),ws([co("eFullWidthContainer")],o.prototype,"eFullWidthContainer",void 0),ws([co("eTop")],o.prototype,"eTop",void 0),ws([co("eLeftTop")],o.prototype,"eLeftTop",void 0),ws([co("eRightTop")],o.prototype,"eRightTop",void 0),ws([co("eTopContainer")],o.prototype,"eTopContainer",void 0),ws([co("eTopViewport")],o.prototype,"eTopViewport",void 0),ws([co("eTopFullWidthContainer")],o.prototype,"eTopFullWidthContainer",void 0),ws([co("eBottom")],o.prototype,"eBottom",void 0),ws([co("eLeftBottom")],o.prototype,"eLeftBottom",void 0),ws([co("eRightBottom")],o.prototype,"eRightBottom",void 0),ws([co("eBottomContainer")],o.prototype,"eBottomContainer",void 0),ws([co("eBottomViewport")],o.prototype,"eBottomViewport",void 0),ws([co("eBottomFullWidthContainer")],o.prototype,"eBottomFullWidthContainer",void 0),ws([co("headerRoot")],o.prototype,"headerRootComp",void 0),ws([co("overlayWrapper")],o.prototype,"overlayWrapper",void 0),ws([at],o.prototype,"init",null),o}(so),Ss=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Es=function(){function e(){this.detailGridInfoMap={},this.destroyCalled=!1}return e.prototype.registerGridComp=function(e){this.gridPanel=e},e.prototype.registerGridCore=function(e){this.gridCore=e},e.prototype.registerHeaderRootComp=function(e){this.headerRootComp=e},e.prototype.init=function(){switch(this.rowModel.getType()){case ze.ROW_MODEL_TYPE_CLIENT_SIDE:this.clientSideRowModel=this.rowModel;break;case ze.ROW_MODEL_TYPE_INFINITE:this.infiniteRowModel=this.rowModel;break;case ze.ROW_MODEL_TYPE_SERVER_SIDE:this.serverSideRowModel=this.rowModel}},e.prototype.__getAlignedGridService=function(){return this.alignedGridsService},e.prototype.addDetailGridInfo=function(e,t){this.detailGridInfoMap[e]=t},e.prototype.removeDetailGridInfo=function(e){this.detailGridInfoMap[e]=void 0},e.prototype.getDetailGridInfo=function(e){return this.detailGridInfoMap[e]},e.prototype.forEachDetailGridInfo=function(e){var t=0;et.iterateObject(this.detailGridInfoMap,(function(o,n){et.exists(n)&&(e(n,t),t++)}))},e.prototype.getDataAsCsv=function(e){if(Ct.assertRegistered(t.ModuleNames.CsvExportModule,"api.getDataAsCsv"))return this.csvCreator.getDataAsCsv(e)},e.prototype.exportDataAsCsv=function(e){Ct.assertRegistered(t.ModuleNames.CsvExportModule,"api.exportDataAsCSv")&&this.csvCreator.exportDataAsCsv(e)},e.prototype.getDataAsExcel=function(e){if(Ct.assertRegistered(t.ModuleNames.ExcelExportModule,"api.getDataAsExcel"))return this.excelCreator.getDataAsExcelXml(e)},e.prototype.exportDataAsExcel=function(e){Ct.assertRegistered(t.ModuleNames.ExcelExportModule,"api.exportDataAsExcel")&&this.excelCreator.exportDataAsExcel(e)},e.prototype.setEnterpriseDatasource=function(e){console.warn("ag-grid: since version 18.x, api.setEnterpriseDatasource() should be replaced with api.setServerSideDatasource()"),this.setServerSideDatasource(e)},e.prototype.setServerSideDatasource=function(e){this.gridOptionsWrapper.isRowModelServerSide()?this.rowModel.setDatasource(e):console.warn("ag-Grid: you can only use an enterprise datasource when gridOptions.rowModelType is '"+ze.ROW_MODEL_TYPE_SERVER_SIDE+"'")},e.prototype.setDatasource=function(e){this.gridOptionsWrapper.isRowModelInfinite()?this.rowModel.setDatasource(e):console.warn("ag-Grid: you can only use a datasource when gridOptions.rowModelType is '"+ze.ROW_MODEL_TYPE_INFINITE+"'")},e.prototype.setViewportDatasource=function(e){this.gridOptionsWrapper.isRowModelViewport()?this.rowModel.setViewportDatasource(e):console.warn("ag-Grid: you can only use a viewport datasource when gridOptions.rowModelType is '"+ze.ROW_MODEL_TYPE_VIEWPORT+"'")},e.prototype.setRowData=function(e){if(this.gridOptionsWrapper.isRowModelDefault())if(this.gridOptionsWrapper.isImmutableData()){var t=this.immutableService.createTransactionForRowData(e);if(!t)return;var o=t[0],n=t[1];this.clientSideRowModel.updateRowData(o,n),this.rowRenderer.refreshFullWidthRows()}else this.selectionController.reset(),this.clientSideRowModel.setRowData(e);else console.warn("cannot call setRowData unless using normal row model")},e.prototype.setFloatingTopRowData=function(e){console.warn("ag-Grid: since v12, api.setFloatingTopRowData() is now api.setPinnedTopRowData()"),this.setPinnedTopRowData(e)},e.prototype.setFloatingBottomRowData=function(e){console.warn("ag-Grid: since v12, api.setFloatingBottomRowData() is now api.setPinnedBottomRowData()"),this.setPinnedBottomRowData(e)},e.prototype.getFloatingTopRowCount=function(){return console.warn("ag-Grid: since v12, api.getFloatingTopRowCount() is now api.getPinnedTopRowCount()"),this.getPinnedTopRowCount()},e.prototype.getFloatingBottomRowCount=function(){return console.warn("ag-Grid: since v12, api.getFloatingBottomRowCount() is now api.getPinnedBottomRowCount()"),this.getPinnedBottomRowCount()},e.prototype.getFloatingTopRow=function(e){return console.warn("ag-Grid: since v12, api.getFloatingTopRow() is now api.getPinnedTopRow()"),this.getPinnedTopRow(e)},e.prototype.getFloatingBottomRow=function(e){return console.warn("ag-Grid: since v12, api.getFloatingBottomRow() is now api.getPinnedBottomRow()"),this.getPinnedBottomRow(e)},e.prototype.setPinnedTopRowData=function(e){this.pinnedRowModel.setPinnedTopRowData(e)},e.prototype.setPinnedBottomRowData=function(e){this.pinnedRowModel.setPinnedBottomRowData(e)},e.prototype.getPinnedTopRowCount=function(){return this.pinnedRowModel.getPinnedTopRowCount()},e.prototype.getPinnedBottomRowCount=function(){return this.pinnedRowModel.getPinnedBottomRowCount()},e.prototype.getPinnedTopRow=function(e){return this.pinnedRowModel.getPinnedTopRow(e)},e.prototype.getPinnedBottomRow=function(e){return this.pinnedRowModel.getPinnedBottomRow(e)},e.prototype.setColumnDefs=function(e,t){void 0===t&&(t="api"),this.columnController.setColumnDefs(e,t)},e.prototype.setAutoGroupColumnDef=function(e,t){this.gridOptionsWrapper.setProperty("autoGroupColumnDef",e,!0)},e.prototype.expireValueCache=function(){this.valueCache.expire()},e.prototype.getVerticalPixelRange=function(){return this.gridPanel.getVScrollPosition()},e.prototype.getHorizontalPixelRange=function(){return this.gridPanel.getHScrollPosition()},e.prototype.setAlwaysShowVerticalScroll=function(e){this.gridOptionsWrapper.setProperty("alwaysShowVerticalScroll",e)},e.prototype.refreshToolPanel=function(){this.gridCore.refreshSideBar()},e.prototype.refreshCells=function(e){void 0===e&&(e={}),Array.isArray(e)?console.warn("since ag-Grid v11.1, refreshCells() now takes parameters, please see the documentation."):this.rowRenderer.refreshCells(e)},e.prototype.flashCells=function(e){void 0===e&&(e={}),this.rowRenderer.flashCells(e)},e.prototype.redrawRows=function(e){void 0===e&&(e={}),e&&e.rowNodes?this.rowRenderer.redrawRows(e.rowNodes):this.rowRenderer.redrawAfterModelUpdate()},e.prototype.timeFullRedraw=function(e){void 0===e&&(e=1);var t=0,o=0,n=0,i=this;!function r(){var s=(new Date).getTime();i.rowRenderer.redrawAfterModelUpdate();var a=(new Date).getTime();window.setTimeout((function(){var i=(new Date).getTime(),l=a-s,c=i-a;console.log("duration:  processing = "+l+"ms, reflow = "+c+"ms"),t++,o+=l,n+=c,t<e?window.setTimeout(r,1e3):(console.log("tests complete. iteration count = "+t),console.log("average processing = "+o/t+"ms"),console.log("average reflow = "+n/t+"ms"))}),0)}()},e.prototype.refreshView=function(){console.warn("ag-Grid: since v11.1, refreshView() is deprecated, please call refreshCells() or redrawRows() instead"),this.redrawRows()},e.prototype.refreshRows=function(e){console.warn("since ag-Grid v11.1, refreshRows() is deprecated, please use refreshCells({rowNodes: rows}) or redrawRows({rowNodes: rows}) instead"),this.refreshCells({rowNodes:e})},e.prototype.rowDataChanged=function(e){console.warn("ag-Grid: rowDataChanged is deprecated, either call refreshView() to refresh everything, or call rowNode.setRowData(newData) to set value on a particular node"),this.redrawRows()},e.prototype.softRefreshView=function(){console.error("ag-Grid: since v16, softRefreshView() is no longer supported. Please check the documentation on how to refresh.")},e.prototype.refreshGroupRows=function(){console.warn("ag-Grid: since v11.1, refreshGroupRows() is no longer supported, call refreshCells() instead. Because refreshCells() now does dirty checking, it will only refresh cells that have changed, so it should not be necessary to only refresh the group rows."),this.refreshCells()},e.prototype.setFunctionsReadOnly=function(e){this.gridOptionsWrapper.setProperty("functionsReadOnly",e)},e.prototype.refreshHeader=function(){this.headerRootComp.refreshHeader(),this.gridPanel.setHeaderAndFloatingHeights()},e.prototype.isAnyFilterPresent=function(){return this.filterManager.isAnyFilterPresent()},e.prototype.isAdvancedFilterPresent=function(){return console.warn("ag-Grid: isAdvancedFilterPresent() is deprecated, please use isColumnFilterPresent()"),this.isColumnFilterPresent()},e.prototype.isColumnFilterPresent=function(){return this.filterManager.isAdvancedFilterPresent()},e.prototype.isQuickFilterPresent=function(){return this.filterManager.isQuickFilterPresent()},e.prototype.getModel=function(){return this.rowModel},e.prototype.setRowNodeExpanded=function(e,t){e&&e.setExpanded(t)},e.prototype.onGroupExpandedOrCollapsed=function(e){et.missing(this.clientSideRowModel)&&console.warn("ag-Grid: cannot call onGroupExpandedOrCollapsed unless using normal row model"),et.exists(e)&&console.warn("ag-Grid: api.onGroupExpandedOrCollapsed - refreshFromIndex parameter is no longer used, the grid will refresh all rows"),this.clientSideRowModel.refreshModel({step:ze.STEP_MAP})},e.prototype.refreshInMemoryRowModel=function(e){console.warn("ag-grid: since version 18.x, api.refreshInMemoryRowModel() should be replaced with api.refreshClientSideRowModel()"),this.refreshClientSideRowModel(e)},e.prototype.refreshClientSideRowModel=function(e){et.missing(this.clientSideRowModel)&&console.warn("cannot call refreshClientSideRowModel unless using normal row model");var t=ze.STEP_EVERYTHING,o={group:ze.STEP_EVERYTHING,filter:ze.STEP_FILTER,map:ze.STEP_MAP,aggregate:ze.STEP_AGGREGATE,sort:ze.STEP_SORT,pivot:ze.STEP_PIVOT};if(et.exists(e)&&(t=o[e]),et.missing(t))console.error("ag-Grid: invalid step "+e+", available steps are "+Object.keys(o).join(", "));else{var n={step:t,keepRenderedRows:!0,animate:!0,keepEditingRows:!0};this.clientSideRowModel.refreshModel(n)}},e.prototype.isAnimationFrameQueueEmpty=function(){return this.animationFrameService.isQueueEmpty()},e.prototype.getRowNode=function(e){return this.rowModel.getRowNode(e)},e.prototype.getSizesForCurrentTheme=function(){return{rowHeight:this.gridOptionsWrapper.getRowHeightAsNumber(),headerHeight:this.gridOptionsWrapper.getHeaderHeight()}},e.prototype.expandAll=function(){et.missing(this.clientSideRowModel)?console.warn("ag-Grid: cannot call expandAll unless using normal row model"):this.clientSideRowModel.expandOrCollapseAll(!0)},e.prototype.collapseAll=function(){et.missing(this.clientSideRowModel)?console.warn("ag-Grid: cannot call collapseAll unless using normal row model"):this.clientSideRowModel.expandOrCollapseAll(!1)},e.prototype.getToolPanelInstance=function(e){return this.gridCore.getToolPanelInstance(e)},e.prototype.addVirtualRowListener=function(e,t,o){"string"!==typeof e&&console.warn("ag-Grid: addVirtualRowListener is deprecated, please use addRenderedRowListener."),this.addRenderedRowListener(e,t,o)},e.prototype.addRenderedRowListener=function(e,t,o){"virtualRowSelected"===e&&console.warn("ag-Grid: event virtualRowSelected is deprecated, to register for individual row\n                selection events, add a listener directly to the row node."),this.rowRenderer.addRenderedRowListener(e,t,o)},e.prototype.setQuickFilter=function(e){this.filterManager.setQuickFilter(e)},e.prototype.selectIndex=function(e,t,o){console.warn("ag-Grid: do not use api for selection, call node.setSelected(value) instead"),o&&console.warn("ag-Grid: suppressEvents is no longer supported, stop listening for the event if you no longer want it"),this.selectionController.selectIndex(e,t)},e.prototype.deselectIndex=function(e,t){void 0===t&&(t=!1),console.warn("ag-Grid: do not use api for selection, call node.setSelected(value) instead"),t&&console.warn("ag-Grid: suppressEvents is no longer supported, stop listening for the event if you no longer want it"),this.selectionController.deselectIndex(e)},e.prototype.selectNode=function(e,t,o){void 0===t&&(t=!1),void 0===o&&(o=!1),console.warn("ag-Grid: API for selection is deprecated, call node.setSelected(value) instead"),o&&console.warn("ag-Grid: suppressEvents is no longer supported, stop listening for the event if you no longer want it"),e.setSelectedParams({newValue:!0,clearSelection:!t})},e.prototype.deselectNode=function(e,t){void 0===t&&(t=!1),console.warn("ag-Grid: API for selection is deprecated, call node.setSelected(value) instead"),t&&console.warn("ag-Grid: suppressEvents is no longer supported, stop listening for the event if you no longer want it"),e.setSelectedParams({newValue:!1})},e.prototype.selectAll=function(){this.selectionController.selectAllRowNodes()},e.prototype.deselectAll=function(){this.selectionController.deselectAllRowNodes()},e.prototype.selectAllFiltered=function(){this.selectionController.selectAllRowNodes(!0)},e.prototype.deselectAllFiltered=function(){this.selectionController.deselectAllRowNodes(!0)},e.prototype.recomputeAggregates=function(){et.missing(this.clientSideRowModel)&&console.warn("cannot call recomputeAggregates unless using normal row model"),console.warn("recomputeAggregates is deprecated, please call api.refreshClientSideRowModel('aggregate') instead"),this.clientSideRowModel.refreshModel({step:ze.STEP_AGGREGATE})},e.prototype.sizeColumnsToFit=function(){this.gridPanel.sizeColumnsToFit()},e.prototype.showLoadingOverlay=function(){this.gridPanel.showLoadingOverlay()},e.prototype.showNoRowsOverlay=function(){this.gridPanel.showNoRowsOverlay()},e.prototype.hideOverlay=function(){this.gridPanel.hideOverlay()},e.prototype.isNodeSelected=function(e){return console.warn("ag-Grid: no need to call api.isNodeSelected(), just call node.isSelected() instead"),e.isSelected()},e.prototype.getSelectedNodesById=function(){return console.error("ag-Grid: since version 3.4, getSelectedNodesById no longer exists, use getSelectedNodes() instead"),null},e.prototype.getSelectedNodes=function(){return this.selectionController.getSelectedNodes()},e.prototype.getSelectedRows=function(){return this.selectionController.getSelectedRows()},e.prototype.getBestCostNodeSelection=function(){return this.selectionController.getBestCostNodeSelection()},e.prototype.getRenderedNodes=function(){return this.rowRenderer.getRenderedNodes()},e.prototype.ensureColIndexVisible=function(e){console.warn("ag-Grid: ensureColIndexVisible(index) no longer supported, use ensureColumnVisible(colKey) instead.")},e.prototype.ensureColumnVisible=function(e){this.gridPanel.ensureColumnVisible(e)},e.prototype.ensureIndexVisible=function(e,t){this.gridPanel.ensureIndexVisible(e,t)},e.prototype.ensureNodeVisible=function(e,t){this.gridCore.ensureNodeVisible(e,t)},e.prototype.forEachLeafNode=function(e){et.missing(this.clientSideRowModel)&&console.warn("cannot call forEachNode unless using normal row model"),this.clientSideRowModel.forEachLeafNode(e)},e.prototype.forEachNode=function(e){this.rowModel.forEachNode(e)},e.prototype.forEachNodeAfterFilter=function(e){et.missing(this.clientSideRowModel)&&console.warn("cannot call forEachNodeAfterFilter unless using normal row model"),this.clientSideRowModel.forEachNodeAfterFilter(e)},e.prototype.forEachNodeAfterFilterAndSort=function(e){et.missing(this.clientSideRowModel)&&console.warn("cannot call forEachNodeAfterFilterAndSort unless using normal row model"),this.clientSideRowModel.forEachNodeAfterFilterAndSort(e)},e.prototype.getFilterApiForColDef=function(e){return console.warn("ag-grid API method getFilterApiForColDef deprecated, use getFilterInstance instead"),this.getFilterInstance(e)},e.prototype.getFilterInstance=function(e,t){var o=this.columnController.getPrimaryColumn(e);if(o){var n=this.filterManager.getFilterComponent(o,"NO_UI"),i=n.resolveNow(null,(function(e){return e}));return t&&(i?setTimeout(t,0,i):n.then(t)),i}},e.prototype.getFilterApi=function(e){return console.warn("ag-Grid: getFilterApi is deprecated, use getFilterInstance instead"),this.getFilterInstance(e)},e.prototype.destroyFilter=function(e){var t=this.columnController.getPrimaryColumn(e);if(t)return this.filterManager.destroyFilter(t,"filterDestroyed")},e.prototype.getStatusPanel=function(e){if(this.statusBarService)return this.statusBarService.getStatusPanel(e)},e.prototype.getColumnDef=function(e){var t=this.columnController.getPrimaryColumn(e);return t?t.getColDef():null},e.prototype.onFilterChanged=function(){this.filterManager.onFilterChanged()},e.prototype.onSortChanged=function(){this.sortController.onSortChanged()},e.prototype.setSortModel=function(e,t){void 0===t&&(t="api"),this.sortController.setSortModel(e,t)},e.prototype.getSortModel=function(){return this.sortController.getSortModel()},e.prototype.setFilterModel=function(e){this.filterManager.setFilterModel(e)},e.prototype.getFilterModel=function(){return this.filterManager.getFilterModel()},e.prototype.getFocusedCell=function(){return this.focusController.getFocusedCell()},e.prototype.clearFocusedCell=function(){return this.focusController.clearFocusedCell()},e.prototype.setFocusedCell=function(e,t,o){this.focusController.setFocusedCell(e,t,o,!0)},e.prototype.setSuppressRowDrag=function(e){this.gridOptionsWrapper.setProperty(Jt.PROP_SUPPRESS_ROW_DRAG,e)},e.prototype.setSuppressMoveWhenRowDragging=function(e){this.gridOptionsWrapper.setProperty(Jt.PROP_SUPPRESS_MOVE_WHEN_ROW_DRAG,e)},e.prototype.setSuppressRowClickSelection=function(e){this.gridOptionsWrapper.setProperty(Jt.PROP_SUPPRESS_ROW_CLICK_SELECTION,e)},e.prototype.addRowDropZone=function(e){this.gridPanel.getRowDragFeature().addRowDropZone(e)},e.prototype.removeRowDropZone=function(e){var t=this.dragAndDropService.findExternalZone(e);t&&this.dragAndDropService.removeDropTarget(t)},e.prototype.getRowDropZoneParams=function(e){return this.gridPanel.getRowDragFeature().getRowDropZone(e)},e.prototype.setHeaderHeight=function(e){this.gridOptionsWrapper.setProperty(Jt.PROP_HEADER_HEIGHT,e),this.doLayout()},e.prototype.setGridAutoHeight=function(e){console.warn("api.setGridAutoHeight(boolean) is deprecated, please use api.setDomLayout() instead"),this.setDomLayout(e?"autoHeight":"normal")},e.prototype.setDomLayout=function(e){this.gridOptionsWrapper.setProperty(Jt.PROP_DOM_LAYOUT,e)},e.prototype.setEnableCellTextSelection=function(e){this.gridPanel.setCellTextSelection(e)},e.prototype.setGroupHeaderHeight=function(e){this.gridOptionsWrapper.setProperty(Jt.PROP_GROUP_HEADER_HEIGHT,e),this.doLayout()},e.prototype.setFloatingFiltersHeight=function(e){this.gridOptionsWrapper.setProperty(Jt.PROP_FLOATING_FILTERS_HEIGHT,e),this.doLayout()},e.prototype.setPivotGroupHeaderHeight=function(e){this.gridOptionsWrapper.setProperty(Jt.PROP_PIVOT_GROUP_HEADER_HEIGHT,e),this.doLayout()},e.prototype.setPivotHeaderHeight=function(e){this.gridOptionsWrapper.setProperty(Jt.PROP_PIVOT_HEADER_HEIGHT,e),this.doLayout()},e.prototype.isSideBarVisible=function(){return this.gridCore.isSideBarVisible()},e.prototype.setSideBarVisible=function(e){this.gridCore.setSideBarVisible(e)},e.prototype.setSideBarPosition=function(e){this.gridCore.setSideBarPosition(e)},e.prototype.showToolPanel=function(e){console.warn("ag-grid: from v19 api.showToolPanel has been deprecated in favour of api.setSideBarVisible"),this.setSideBarVisible(e)},e.prototype.openToolPanel=function(e){this.gridCore.openToolPanel(e)},e.prototype.closeToolPanel=function(){this.gridCore.closeToolPanel()},e.prototype.getOpenedToolPanel=function(){return this.gridCore.getOpenedToolPanel()},e.prototype.getSideBar=function(){return this.gridCore.getSideBar()},e.prototype.setSideBar=function(e){return this.gridCore.setSideBar(e)},e.prototype.setSuppressClipboardPaste=function(e){this.gridOptionsWrapper.setProperty(Jt.PROP_SUPPRESS_CLIPBOARD_PASTE,e)},e.prototype.isToolPanelShowing=function(){return this.gridCore.isToolPanelShowing()},e.prototype.doLayout=function(){this.gridPanel.checkViewportAndScrolls()},e.prototype.resetRowHeights=function(){et.exists(this.clientSideRowModel)&&this.clientSideRowModel.resetRowHeights()},e.prototype.setGroupRemoveSingleChildren=function(e){this.gridOptionsWrapper.setProperty(Jt.PROP_GROUP_REMOVE_SINGLE_CHILDREN,e)},e.prototype.setGroupRemoveLowestSingleChildren=function(e){this.gridOptionsWrapper.setProperty(Jt.PROP_GROUP_REMOVE_LOWEST_SINGLE_CHILDREN,e)},e.prototype.onRowHeightChanged=function(){this.clientSideRowModel?this.clientSideRowModel.onRowHeightChanged():this.serverSideRowModel&&this.serverSideRowModel.onRowHeightChanged()},e.prototype.getValue=function(e,t){var o=this.columnController.getPrimaryColumn(e);return et.missing(o)&&(o=this.columnController.getGridColumn(e)),et.missing(o)?null:this.valueService.getValue(o,t)},e.prototype.addEventListener=function(e,t){var o=this.gridOptionsWrapper.useAsyncEvents();this.eventService.addEventListener(e,t,o)},e.prototype.addGlobalListener=function(e){var t=this.gridOptionsWrapper.useAsyncEvents();this.eventService.addGlobalListener(e,t)},e.prototype.removeEventListener=function(e,t){var o=this.gridOptionsWrapper.useAsyncEvents();this.eventService.removeEventListener(e,t,o)},e.prototype.removeGlobalListener=function(e){var t=this.gridOptionsWrapper.useAsyncEvents();this.eventService.removeGlobalListener(e,t)},e.prototype.dispatchEvent=function(e){this.eventService.dispatchEvent(e)},e.prototype.destroy=function(){this.destroyCalled||(this.destroyCalled=!0,this.context.destroyBean(this.gridCore),this.context.destroy())},e.prototype.resetQuickFilter=function(){this.rowModel.forEachNode((function(e){return e.quickFilterAggregateText=null}))},e.prototype.getRangeSelections=function(){return console.warn("ag-Grid: in v20.1.x, api.getRangeSelections() is gone, please use getCellRanges() instead.\n        We had to change how cell selections works a small bit to allow charting to integrate. The return type of\n        getCellRanges() is a bit different, please check the ag-Grid documentation."),null},e.prototype.getCellRanges=function(){return this.rangeController?this.rangeController.getCellRanges():(console.warn("ag-Grid: cell range selection is only available in ag-Grid Enterprise"),null)},e.prototype.camelCaseToHumanReadable=function(e){return et.camelCaseToHumanText(e)},e.prototype.addRangeSelection=function(e){console.warn("ag-Grid: As of version 21.x, range selection changed slightly to allow charting integration. Please call api.addCellRange() instead of api.addRangeSelection()")},e.prototype.addCellRange=function(e){this.rangeController||console.warn("ag-Grid: cell range selection is only available in ag-Grid Enterprise"),this.rangeController.addCellRange(e)},e.prototype.clearRangeSelection=function(){this.rangeController||console.warn("ag-Grid: cell range selection is only available in ag-Grid Enterprise"),this.rangeController.removeAllCellRanges()},e.prototype.undoCellEditing=function(){this.undoRedoService.undo()},e.prototype.redoCellEditing=function(){this.undoRedoService.redo()},e.prototype.getChartModels=function(){if(Ct.assertRegistered(t.ModuleNames.RangeSelectionModule,"api.getChartModels")&&Ct.assertRegistered(t.ModuleNames.GridChartsModule,"api.getChartModels"))return this.chartService.getChartModels()},e.prototype.createRangeChart=function(e){if(Ct.assertRegistered(t.ModuleNames.RangeSelectionModule,"api.createRangeChart")&&Ct.assertRegistered(t.ModuleNames.GridChartsModule,"api.createRangeChart"))return this.chartService.createRangeChart(e)},e.prototype.createPivotChart=function(e){if(Ct.assertRegistered(t.ModuleNames.RangeSelectionModule,"api.createPivotChart")&&Ct.assertRegistered(t.ModuleNames.GridChartsModule,"api.createPivotChart"))return this.chartService.createPivotChart(e)},e.prototype.copySelectedRowsToClipboard=function(e,t){this.clipboardService||console.warn("ag-Grid: clipboard is only available in ag-Grid Enterprise"),this.clipboardService.copySelectedRowsToClipboard(e,t)},e.prototype.copySelectedRangeToClipboard=function(e){this.clipboardService||console.warn("ag-Grid: clipboard is only available in ag-Grid Enterprise"),this.clipboardService.copySelectedRangeToClipboard(e)},e.prototype.copySelectedRangeDown=function(){this.clipboardService||console.warn("ag-Grid: clipboard is only available in ag-Grid Enterprise"),this.clipboardService.copyRangeDown()},e.prototype.showColumnMenuAfterButtonClick=function(e,t){var o=this.columnController.getGridColumn(e);this.menuFactory.showMenuAfterButtonClick(o,t)},e.prototype.showColumnMenuAfterMouseClick=function(e,t){var o=this.columnController.getGridColumn(e);o||(o=this.columnController.getPrimaryColumn(e)),o?this.menuFactory.showMenuAfterMouseEvent(o,t):console.error("ag-Grid: column '"+e+"' not found")},e.prototype.hidePopupMenu=function(){this.contextMenuFactory&&this.contextMenuFactory.hideActiveMenu(),this.menuFactory.hideActiveMenu()},e.prototype.setPopupParent=function(e){this.gridOptionsWrapper.setProperty(Jt.PROP_POPUP_PARENT,e)},e.prototype.tabToNextCell=function(){return this.rowRenderer.tabToNextCell(!1)},e.prototype.tabToPreviousCell=function(){return this.rowRenderer.tabToNextCell(!0)},e.prototype.getCellRendererInstances=function(e){return void 0===e&&(e={}),this.rowRenderer.getCellRendererInstances(e)},e.prototype.getCellEditorInstances=function(e){return void 0===e&&(e={}),this.rowRenderer.getCellEditorInstances(e)},e.prototype.getEditingCells=function(){return this.rowRenderer.getEditingCells()},e.prototype.stopEditing=function(e){void 0===e&&(e=!1),this.rowRenderer.stopEditing(e)},e.prototype.startEditingCell=function(e){var t=this.columnController.getGridColumn(e.colKey);if(t){var o={rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:t};et.missing(e.rowPinned)&&this.gridPanel.ensureIndexVisible(e.rowIndex),this.rowRenderer.startEditingCell(o,e.keyPress,e.charPress)}else console.warn("ag-Grid: no column found for "+e.colKey)},e.prototype.addAggFunc=function(e,t){this.aggFuncService&&this.aggFuncService.addAggFunc(e,t)},e.prototype.addAggFuncs=function(e){this.aggFuncService&&this.aggFuncService.addAggFuncs(e)},e.prototype.clearAggFuncs=function(){this.aggFuncService&&this.aggFuncService.clear()},e.prototype.applyTransaction=function(e){var t=null;if(this.clientSideRowModel){if(e&&null!=e.addIndex){et.doOnce((function(){return console.warn("ag-Grid: as of v23.1, transaction.addIndex is deprecated. If you want precision control of adding data, use immutableData instead")}),"transaction.addIndex deprecated")}t=this.clientSideRowModel.updateRowData(e)}else if(this.infiniteRowModel){et.doOnce((function(){return console.warn("ag-Grid: as of v23.1, transactions for Infinite Row Model are deprecated. If you want to make updates to data in Infinite Row Models, then refresh the data.")}),"applyTransaction infiniteRowModel deprecated"),this.infiniteRowModel.updateRowData(e)}else console.error("ag-Grid: updateRowData() only works with ClientSideRowModel and InfiniteRowModel.");return this.rowRenderer.refreshFullWidthRows(),this.gridOptionsWrapper.isSuppressChangeDetection()||this.rowRenderer.refreshCells(),t},e.prototype.updateRowData=function(e){return et.doOnce((function(){return console.warn("ag-Grid: as of v23.1, grid API updateRowData(transaction) is now called applyTransaction(transaction). updateRowData is deprecated and will be removed in a future major release.")}),"updateRowData deprecated"),this.applyTransaction(e)},e.prototype.applyTransactionAsync=function(e,t){this.clientSideRowModel?this.clientSideRowModel.batchUpdateRowData(e,t):console.error("ag-Grid: api.applyTransactionAsync() only works with ClientSideRowModel.")},e.prototype.batchUpdateRowData=function(e,t){et.doOnce((function(){return console.warn("ag-Grid: as of v23.1, grid API batchUpdateRowData(transaction, callback) is now called applyTransactionAsync(transaction, callback). batchUpdateRowData is deprecated and will be removed in a future major release.")}),"batchUpdateRowData deprecated"),this.applyTransactionAsync(e,t)},e.prototype.insertItemsAtIndex=function(e,t,o){console.warn("ag-Grid: insertItemsAtIndex() is deprecated, use updateRowData(transaction) instead."),this.updateRowData({add:t,addIndex:e,update:null,remove:null})},e.prototype.removeItems=function(e,t){console.warn("ag-Grid: removeItems() is deprecated, use updateRowData(transaction) instead.");var o=e.map((function(e){return e.data}));this.updateRowData({add:null,addIndex:null,update:null,remove:o})},e.prototype.addItems=function(e,t){console.warn("ag-Grid: addItems() is deprecated, use updateRowData(transaction) instead."),this.updateRowData({add:e,addIndex:null,update:null,remove:null})},e.prototype.refreshVirtualPageCache=function(){console.warn("ag-Grid: refreshVirtualPageCache() is now called refreshInfiniteCache(), please call refreshInfiniteCache() instead"),this.refreshInfiniteCache()},e.prototype.refreshInfinitePageCache=function(){console.warn("ag-Grid: refreshInfinitePageCache() is now called refreshInfiniteCache(), please call refreshInfiniteCache() instead"),this.refreshInfiniteCache()},e.prototype.refreshInfiniteCache=function(){this.infiniteRowModel?this.infiniteRowModel.refreshCache():console.warn("ag-Grid: api.refreshInfiniteCache is only available when rowModelType='infinite'.")},e.prototype.purgeVirtualPageCache=function(){console.warn("ag-Grid: purgeVirtualPageCache() is now called purgeInfiniteCache(), please call purgeInfiniteCache() instead"),this.purgeInfinitePageCache()},e.prototype.purgeInfinitePageCache=function(){console.warn("ag-Grid: purgeInfinitePageCache() is now called purgeInfiniteCache(), please call purgeInfiniteCache() instead"),this.purgeInfiniteCache()},e.prototype.purgeInfiniteCache=function(){this.infiniteRowModel?this.infiniteRowModel.purgeCache():console.warn("ag-Grid: api.purgeInfiniteCache is only available when rowModelType='infinite'.")},e.prototype.purgeEnterpriseCache=function(e){console.warn("ag-grid: since version 18.x, api.purgeEnterpriseCache() should be replaced with api.purgeServerSideCache()"),this.purgeServerSideCache(e)},e.prototype.purgeServerSideCache=function(e){this.serverSideRowModel?this.serverSideRowModel.purgeCache(e):console.warn("ag-Grid: api.purgeServerSideCache is only available when rowModelType='enterprise'.")},e.prototype.getVirtualRowCount=function(){return console.warn("ag-Grid: getVirtualRowCount() is now called getInfiniteRowCount(), please call getInfiniteRowCount() instead"),this.getInfiniteRowCount()},e.prototype.getInfiniteRowCount=function(){if(this.infiniteRowModel)return this.infiniteRowModel.getVirtualRowCount();console.warn("ag-Grid: api.getVirtualRowCount is only available when rowModelType='virtual'.")},e.prototype.isMaxRowFound=function(){if(this.infiniteRowModel)return this.infiniteRowModel.isMaxRowFound();console.warn("ag-Grid: api.isMaxRowFound is only available when rowModelType='virtual'.")},e.prototype.setVirtualRowCount=function(e,t){console.warn("ag-Grid: setVirtualRowCount() is now called setInfiniteRowCount(), please call setInfiniteRowCount() instead"),this.setInfiniteRowCount(e,t)},e.prototype.setInfiniteRowCount=function(e,t){this.infiniteRowModel?this.infiniteRowModel.setVirtualRowCount(e,t):console.warn("ag-Grid: api.setVirtualRowCount is only available when rowModelType='virtual'.")},e.prototype.getVirtualPageState=function(){return console.warn("ag-Grid: getVirtualPageState() is now called getCacheBlockState(), please call getCacheBlockState() instead"),this.getCacheBlockState()},e.prototype.getInfinitePageState=function(){return console.warn("ag-Grid: getInfinitePageState() is now called getCacheBlockState(), please call getCacheBlockState() instead"),this.getCacheBlockState()},e.prototype.getCacheBlockState=function(){return this.infiniteRowModel?this.infiniteRowModel.getBlockState():this.serverSideRowModel?this.serverSideRowModel.getBlockState():void console.warn("ag-Grid: api.getCacheBlockState() is only available when rowModelType='infinite' or rowModelType='serverSide'.")},e.prototype.checkGridSize=function(){this.gridPanel.setHeaderAndFloatingHeights()},e.prototype.getFirstRenderedRow=function(){return console.warn("in ag-Grid v12, getFirstRenderedRow() was renamed to getFirstDisplayedRow()"),this.getFirstDisplayedRow()},e.prototype.getFirstDisplayedRow=function(){return this.rowRenderer.getFirstVirtualRenderedRow()},e.prototype.getLastRenderedRow=function(){return console.warn("in ag-Grid v12, getLastRenderedRow() was renamed to getLastDisplayedRow()"),this.getLastDisplayedRow()},e.prototype.getLastDisplayedRow=function(){return this.rowRenderer.getLastVirtualRenderedRow()},e.prototype.getDisplayedRowAtIndex=function(e){return this.rowModel.getRow(e)},e.prototype.getDisplayedRowCount=function(){return this.rowModel.getRowCount()},e.prototype.paginationIsLastPageFound=function(){return this.paginationProxy.isLastPageFound()},e.prototype.paginationGetPageSize=function(){return this.paginationProxy.getPageSize()},e.prototype.paginationSetPageSize=function(e){this.gridOptionsWrapper.setProperty("paginationPageSize",e)},e.prototype.paginationGetCurrentPage=function(){return this.paginationProxy.getCurrentPage()},e.prototype.paginationGetTotalPages=function(){return this.paginationProxy.getTotalPages()},e.prototype.paginationGetRowCount=function(){return this.paginationProxy.getMasterRowCount()},e.prototype.paginationGoToNextPage=function(){this.paginationProxy.goToNextPage()},e.prototype.paginationGoToPreviousPage=function(){this.paginationProxy.goToPreviousPage()},e.prototype.paginationGoToFirstPage=function(){this.paginationProxy.goToFirstPage()},e.prototype.paginationGoToLastPage=function(){this.paginationProxy.goToLastPage()},e.prototype.paginationGoToPage=function(e){this.paginationProxy.goToPage(e)},Ss([dt("immutableService")],e.prototype,"immutableService",void 0),Ss([dt("csvCreator")],e.prototype,"csvCreator",void 0),Ss([dt("excelCreator")],e.prototype,"excelCreator",void 0),Ss([ut("rowRenderer")],e.prototype,"rowRenderer",void 0),Ss([ut("filterManager")],e.prototype,"filterManager",void 0),Ss([ut("columnController")],e.prototype,"columnController",void 0),Ss([ut("selectionController")],e.prototype,"selectionController",void 0),Ss([ut("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),Ss([ut("valueService")],e.prototype,"valueService",void 0),Ss([ut("alignedGridsService")],e.prototype,"alignedGridsService",void 0),Ss([ut("eventService")],e.prototype,"eventService",void 0),Ss([ut("pinnedRowModel")],e.prototype,"pinnedRowModel",void 0),Ss([ut("context")],e.prototype,"context",void 0),Ss([ut("rowModel")],e.prototype,"rowModel",void 0),Ss([ut("sortController")],e.prototype,"sortController",void 0),Ss([ut("paginationProxy")],e.prototype,"paginationProxy",void 0),Ss([ut("focusController")],e.prototype,"focusController",void 0),Ss([ut("dragAndDropService")],e.prototype,"dragAndDropService",void 0),Ss([dt("rangeController")],e.prototype,"rangeController",void 0),Ss([dt("clipboardService")],e.prototype,"clipboardService",void 0),Ss([dt("aggFuncService")],e.prototype,"aggFuncService",void 0),Ss([ut("menuFactory")],e.prototype,"menuFactory",void 0),Ss([dt("contextMenuFactory")],e.prototype,"contextMenuFactory",void 0),Ss([ut("cellRendererFactory")],e.prototype,"cellRendererFactory",void 0),Ss([ut("valueCache")],e.prototype,"valueCache",void 0),Ss([ut("animationFrameService")],e.prototype,"animationFrameService",void 0),Ss([dt("statusBarService")],e.prototype,"statusBarService",void 0),Ss([dt("chartService")],e.prototype,"chartService",void 0),Ss([dt("undoRedoService")],e.prototype,"undoRedoService",void 0),Ss([at],e.prototype,"init",null),e=Ss([ct("gridApi")],e)}(),Rs=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Ps=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Os=function(e,t){return function(o,n){t(o,n,e)}},xs=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.expressionToFunctionCache={},t}return Rs(t,e),t.prototype.setBeans=function(e){this.logger=e.create("ExpressionService")},t.prototype.evaluate=function(e,t){if("function"===typeof e)return e(t);if("string"===typeof e){var o=e;return this.evaluateExpression(o,t)}console.error("ag-Grid: value should be either a string or a function",e)},t.prototype.evaluateExpression=function(e,t){try{return this.createExpressionFunction(e)(t.value,t.context,t.oldValue,t.newValue,t.value,t.node,t.data,t.colDef,t.rowIndex,t.api,t.columnApi,t.getValue,t.column,t.columnGroup)}catch(o){return console.log("Processing of the expression failed"),console.log("Expression = "+e),console.log("Params =",t),console.log("Exception = "+o),null}},t.prototype.createExpressionFunction=function(e){if(this.expressionToFunctionCache[e])return this.expressionToFunctionCache[e];var t=this.createFunctionBody(e),o=new Function("x, ctx, oldValue, newValue, value, node, data, colDef, rowIndex, api, columnApi, getValue, column, columnGroup",t);return this.expressionToFunctionCache[e]=o,o},t.prototype.createFunctionBody=function(e){return e.indexOf("return")>=0?e:"return "+e+";"},Ps([Os(0,pt("loggerFactory"))],t.prototype,"setBeans",null),t=Ps([ct("expressionService")],t)}(xt),Ts=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Ds=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},As=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.templateCache={},t.waitingCallbacks={},t}return Ts(t,e),t.prototype.getTemplate=function(e,t){var o=this.templateCache[e];if(o)return o;var n=this.waitingCallbacks[e],i=this;if(!n){n=[],this.waitingCallbacks[e]=n;var r=new XMLHttpRequest;r.onload=function(){i.handleHttpResult(this,e)},r.open("GET",e),r.send()}return t&&n.push(t),null},t.prototype.handleHttpResult=function(e,t){if(200===e.status&&null!==e.response){this.templateCache[t]=e.response||e.responseText;for(var o=this.waitingCallbacks[t],n=0;n<o.length;n++){(0,o[n])()}if(this.$scope){var i=this;window.setTimeout((function(){i.$scope.$apply()}),0)}}else console.warn("Unable to get template error "+e.status+" - "+t)},Ds([ut("$scope")],t.prototype,"$scope",void 0),t=Ds([ct("templateService")],t)}(xt),Fs=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),_s=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Ms=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.popupList=[],t}return Fs(t,e),t.prototype.init=function(){var e=this;this.addManagedListener(this.eventService,_t.EVENT_KEYBOARD_FOCUS,(function(){e.popupList.forEach((function(e){et.addCssClass(e.element,"ag-keyboard-focus")}))})),this.addManagedListener(this.eventService,_t.EVENT_MOUSE_FOCUS,(function(){e.popupList.forEach((function(e){et.removeCssClass(e.element,"ag-keyboard-focus")}))}))},t.prototype.registerGridCore=function(e){this.gridCore=e},t.prototype.getPopupParent=function(){var e=this.gridOptionsWrapper.getPopupParent();return e||this.gridCore.getRootGui()},t.prototype.positionPopupForMenu=function(e){var t=e.eventSource.getBoundingClientRect(),o=this.getParentRect(),n=this.keepYWithinBounds(e,t.top-o.top),i=e.ePopup.clientWidth>0?e.ePopup.clientWidth:200;e.ePopup.style.minWidth=i+"px";var r,s=o.right-o.left-i;function a(){return t.right-o.left-2}function l(){return t.left-o.left-i}this.gridOptionsWrapper.isEnableRtl()?((r=l())<0&&(r=a()),r>s&&(r=0)):((r=a())>s&&(r=l()),r<0&&(r=0)),e.ePopup.style.left=r+"px",e.ePopup.style.top=n+"px"},t.prototype.positionPopupUnderMouseEvent=function(e){var t=this.calculatePointerAlign(e.mouseEvent),o=t.x,n=t.y,i=e.ePopup,r=e.nudgeX,s=e.nudgeY;this.positionPopup({ePopup:i,x:o,y:n,nudgeX:r,nudgeY:s,keepWithinBounds:!0}),this.callPostProcessPopup(e.type,e.ePopup,null,e.mouseEvent,e.column,e.rowNode)},t.prototype.calculatePointerAlign=function(e){var t=this.getParentRect();return{x:e.clientX-t.left,y:e.clientY-t.top}},t.prototype.positionPopupUnderComponent=function(e){var t=e.eventSource.getBoundingClientRect(),o=e.alignSide||"left",n=this.getParentRect(),i=t.left-n.left;"right"===o&&(i-=e.ePopup.offsetWidth-t.width),this.positionPopup({ePopup:e.ePopup,minWidth:e.minWidth,minHeight:e.minHeight,nudgeX:e.nudgeX,nudgeY:e.nudgeY,x:i,y:t.top-n.top+t.height,keepWithinBounds:e.keepWithinBounds}),this.callPostProcessPopup(e.type,e.ePopup,e.eventSource,null,e.column,e.rowNode)},t.prototype.positionPopupOverComponent=function(e){var t=e.eventSource.getBoundingClientRect(),o=this.getParentRect();this.positionPopup({ePopup:e.ePopup,minWidth:e.minWidth,nudgeX:e.nudgeX,nudgeY:e.nudgeY,x:t.left-o.left,y:t.top-o.top,keepWithinBounds:e.keepWithinBounds}),this.callPostProcessPopup(e.type,e.ePopup,e.eventSource,null,e.column,e.rowNode)},t.prototype.callPostProcessPopup=function(e,t,o,n,i,r){var s=this.gridOptionsWrapper.getPostProcessPopupFunc();s&&s({column:i,rowNode:r,ePopup:t,type:e,eventSource:o,mouseEvent:n})},t.prototype.positionPopup=function(e){var t=e.x,o=e.y;e.nudgeX&&(t+=e.nudgeX),e.nudgeY&&(o+=e.nudgeY),e.keepWithinBounds&&(t=this.keepXWithinBounds(e,t),o=this.keepYWithinBounds(e,o)),e.ePopup.style.left=t+"px",e.ePopup.style.top=o+"px"},t.prototype.getActivePopups=function(){return this.popupList.map((function(e){return e.element}))},t.prototype.getParentRect=function(){var e=this.getPopupParent(),t=this.gridOptionsWrapper.getDocument();e===t.body&&(e=t.documentElement);var o=getComputedStyle(e),n=e.getBoundingClientRect();return{top:n.top+parseFloat(o.borderTopWidth)||0,left:n.left+parseFloat(o.borderLeftWidth)||0,right:n.right+parseFloat(o.borderRightWidth)||0,bottom:n.bottom+parseFloat(o.borderBottomWidth)||0}},t.prototype.keepYWithinBounds=function(e,t){var o=this.gridOptionsWrapper.getDocument(),n=o.documentElement,i=this.getPopupParent(),r=i.getBoundingClientRect(),s=o.documentElement.getBoundingClientRect(),a=i===o.body,l=Math.min(200,r.height),c=0;e.minHeight&&e.minHeight<l?l=e.minHeight:e.ePopup.offsetHeight>0&&(l=e.ePopup.clientHeight,c=et.getAbsoluteHeight(e.ePopup)-l);var u=a?et.getAbsoluteHeight(n)+n.scrollTop:r.height;a&&(u-=Math.abs(s.top-r.top));var d=u-l-c;return Math.min(Math.max(t,0),Math.abs(d))},t.prototype.keepXWithinBounds=function(e,t){var o=this.gridOptionsWrapper.getDocument(),n=o.documentElement,i=this.getPopupParent(),r=i.getBoundingClientRect(),s=o.documentElement.getBoundingClientRect(),a=i===o.body,l=e.ePopup,c=Math.min(200,r.width),u=0;e.minWidth&&e.minWidth<c?c=e.minWidth:l.offsetWidth>0&&(c=l.offsetWidth,l.style.minWidth=c+"px",u=et.getAbsoluteWidth(l)-c);var d=a?et.getAbsoluteWidth(n)+n.scrollLeft:r.width;a&&(d-=Math.abs(s.left-r.left));var h=d-c-u;return Math.min(Math.max(t,0),Math.abs(h))},t.prototype.addAsModalPopup=function(e,t,o,n){return this.addPopup(!0,e,t,o,n)},t.prototype.addPopup=function(e,t,o,n,i,r){var s=this,a=this.gridOptionsWrapper.getDocument();if(!a)return console.warn("ag-grid: could not find the document, document is empty"),function(){};var l=et.findIndex(this.popupList,(function(e){return e.element===t}));if(-1!==l)return this.popupList[l].hideFunc;var c=this.getPopupParent();c.appendChild(t),t.style.top="0px",t.style.left="0px";var u=document.createElement("div"),d=this.environment.getTheme().theme;d&&et.addCssClass(u,d),et.addCssClass(u,"ag-popup"),et.addCssClass(t,this.gridOptionsWrapper.isEnableRtl()?"ag-rtl":"ag-ltr"),et.addCssClass(t,"ag-popup-child"),u.appendChild(t),c.appendChild(u),r?this.setAlwaysOnTop(u,!0):this.bringPopupToFront(u);var h=!1,p=function(e){var t=e.which||e.keyCode;if(u.contains(document.activeElement)&&t===ze.KEY_ESCAPE)m({keyboardEvent:e})},g=function(e){m({mouseEvent:e})},f=function(e){m({touchEvent:e})},m=function(e){void 0===e&&(e={});var o=e.mouseEvent,r=e.touchEvent,l=e.keyboardEvent;s.isEventFromCurrentPopup({mouseEvent:o,touchEvent:r},t)||s.isEventSameChainAsOriginalEvent({originalMouseEvent:i,mouseEvent:o,touchEvent:r})||h||(h=!0,c.removeChild(u),a.removeEventListener("keydown",p),a.removeEventListener("mousedown",g),a.removeEventListener("touchstart",f),a.removeEventListener("contextmenu",g),s.eventService.removeEventListener(_t.EVENT_DRAG_STARTED,g),n&&n(o||r||l),s.popupList=s.popupList.filter((function(e){return e.element!==t})))};return window.setTimeout((function(){o&&a.addEventListener("keydown",p),e&&(a.addEventListener("mousedown",g),s.eventService.addEventListener(_t.EVENT_DRAG_STARTED,g),a.addEventListener("touchstart",f),a.addEventListener("contextmenu",g))}),0),this.popupList.push({element:t,hideFunc:m}),m},t.prototype.isEventFromCurrentPopup=function(e,t){var o=e.mouseEvent,n=e.touchEvent,i=o||n;if(!i)return!1;var r=et.findIndex(this.popupList,(function(e){return e.element===t}));if(-1===r)return!1;for(var s=r;s<this.popupList.length;s++){var a=this.popupList[s];if(et.isElementInEventPath(a.element,i))return!0}return this.isElementWithinCustomPopup(i.target)},t.prototype.isElementWithinCustomPopup=function(e){if(!this.popupList.length)return!1;for(;e&&e!==document.body;){if(e.classList.contains("ag-custom-component-popup")||null===e.parentElement)return!0;e=e.parentElement}return!1},t.prototype.isEventSameChainAsOriginalEvent=function(e){var t=e.originalMouseEvent,o=e.mouseEvent,n=e.touchEvent,i=null;if(o?i=o:n&&(i=n.touches[0]),i&&t){var r=o?o.screenX:0,s=o?o.screenY:0,a=Math.abs(t.screenX-r)<5,l=Math.abs(t.screenY-s)<5;if(a&&l)return!0}return!1},t.prototype.getWrapper=function(e){for(;!et.containsClass(e,"ag-popup")&&e.parentElement;)e=e.parentElement;return et.containsClass(e,"ag-popup")?e:null},t.prototype.setAlwaysOnTop=function(e,t){var o=this.getWrapper(e);o&&(et.addOrRemoveCssClass(o,"ag-always-on-top",!!t),t&&this.bringPopupToFront(o))},t.prototype.bringPopupToFront=function(e){var t=this.getPopupParent(),o=Array.prototype.slice.call(t.querySelectorAll(".ag-popup")),n=o.length,i=Array.prototype.slice.call(t.querySelectorAll(".ag-popup.ag-always-on-top")),r=i.length,s=this.getWrapper(e);if(s&&!(n<=1)&&t.contains(e)){var a=o.indexOf(s);if(r)et.containsClass(s,"ag-always-on-top")?a!==n-1&&et.last(i).insertAdjacentElement("afterend",s):a!==n-r-1&&i[0].insertAdjacentElement("beforebegin",s);else a!==n-1&&et.last(o).insertAdjacentElement("afterend",s);var l={type:"popupToFront",api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),eWrapper:s};this.eventService.dispatchEvent(l)}},_s([ut("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),_s([ut("environment")],t.prototype,"environment",void 0),_s([at],t.prototype,"init",null),t=_s([ct("popupService")],t)}(xt),Is=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Ls=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Ns=function(e,t){return function(o,n){t(o,n,e)}},ks=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Is(t,e),t.prototype.setBeans=function(e){this.logging=e.isDebug()},t.prototype.create=function(e){return new Gs(e,this.isLogging.bind(this))},t.prototype.isLogging=function(){return this.logging},Ls([Ns(0,pt("gridOptionsWrapper"))],t.prototype,"setBeans",null),t=Ls([ct("loggerFactory")],t)}(xt),Gs=function(){function e(e,t){this.name=e,this.isLoggingFunc=t}return e.prototype.isLogging=function(){return this.isLoggingFunc()},e.prototype.log=function(e){this.isLoggingFunc()&&console.log("ag-Grid."+this.name+": "+e)},e}(),Vs=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Hs=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Bs=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Vs(t,e),t.prototype.registerGridComp=function(e){this.gridPanel=e},t.prototype.registerHeaderRootComp=function(e){this.headerRootComp=e},t.prototype.getPreferredWidthForColumn=function(e,t){var o=this.getHeaderCellForColumn(e);if(!o)return-1;var n=document.createElement("span");n.style.position="fixed";var i=this.gridPanel.getCenterContainer();i.appendChild(n),this.putRowCellsIntoDummyContainer(e,n),t||this.cloneItemIntoDummy(o,n);var r=n.offsetWidth;return i.removeChild(n),r+this.gridOptionsWrapper.getAutoSizePadding()},t.prototype.getHeaderCellForColumn=function(e){var t=null;return this.headerRootComp.forEachHeaderElement((function(o){if(o instanceof Tr){var n=o;n.getColumn()===e&&(t=n)}})),t?t.getGui():null},t.prototype.putRowCellsIntoDummyContainer=function(e,t){var o=this;this.rowRenderer.getAllCellsForColumn(e).forEach((function(e){return o.cloneItemIntoDummy(e,t)}))},t.prototype.cloneItemIntoDummy=function(e,t){var o=e.cloneNode(!0);o.style.width="",o.style.position="static",o.style.left="";var n=document.createElement("div");et.containsClass(o,"ag-header-cell")&&(et.addCssClass(n,"ag-header"),et.addCssClass(n,"ag-header-row"),n.style.position="static"),n.style.display="table-row",n.appendChild(o),t.appendChild(n)},Hs([ut("rowRenderer")],t.prototype,"rowRenderer",void 0),Hs([ut("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),t=Hs([ct("autoWidthCalculator")],t)}(xt),Ws=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),js=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},zs=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ws(t,e),t.prototype.addResizeBar=function(e){var t=this,o={dragStartPixels:e.dragStartPixels||0,eElement:e.eResizeBar,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this,e),onDragging:this.onDragging.bind(this,e)};this.dragService.addDragSource(o,!0);return function(){return t.dragService.removeDragSource(o)}},t.prototype.onDragStart=function(e,t){this.dragStartX=t.clientX,this.setResizeIcons();var o=t instanceof MouseEvent&&!0===t.shiftKey;e.onResizeStart(o)},t.prototype.setResizeIcons=function(){this.oldBodyCursor=this.eGridDiv.style.cursor,this.oldMsUserSelect=this.eGridDiv.style.msUserSelect,this.oldWebkitUserSelect=this.eGridDiv.style.webkitUserSelect,this.eGridDiv.style.cursor="ew-resize",this.eGridDiv.style.msUserSelect="none",this.eGridDiv.style.webkitUserSelect="none"},t.prototype.onDragStop=function(e,t){e.onResizeEnd(this.resizeAmount),this.resetIcons()},t.prototype.resetIcons=function(){this.eGridDiv.style.cursor=this.oldBodyCursor,this.eGridDiv.style.msUserSelect=this.oldMsUserSelect,this.eGridDiv.style.webkitUserSelect=this.oldWebkitUserSelect},t.prototype.onDragging=function(e,t){this.resizeAmount=t.clientX-this.dragStartX,e.onResizing(this.resizeAmount)},js([ut("dragService")],t.prototype,"dragService",void 0),js([ut("eGridDiv")],t.prototype,"eGridDiv",void 0),t=js([ct("horizontalResizeService")],t)}(xt),Us=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),$s=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Ks=function(e){function o(){return null!==e&&e.apply(this,arguments)||this}return Us(o,e),o.prototype.postConstruct=function(){var o=this;this.logger=this.loggerFactory.create("GridCore");var n=this.createTemplate();if(this.setTemplate(n),[this.gridApi,this.rowRenderer,this.popupService,this.focusController].forEach((function(e){return e.registerGridCore(o)})),Ct.isRegistered(t.ModuleNames.ClipboardModule)&&this.clipboardService.registerGridCore(this),this.gridOptionsWrapper.addLayoutElement(this.getGui()),this.eGridDiv.appendChild(this.getGui()),this.addDestroyFunc((function(){o.eGridDiv.removeChild(o.getGui())})),this.$scope){var i=this.$scope.$watch(this.quickFilterOnScope,(function(e){return o.filterManager.setQuickFilter(e)}));this.addDestroyFunc(i)}this.addRtlSupport(),this.logger.log("ready"),this.gridOptionsWrapper.addLayoutElement(this.eRootWrapperBody);var r=this.resizeObserverService.observeResize(this.eGridDiv,this.onGridSizeChanged.bind(this));this.addDestroyFunc((function(){return r()}));var s=this.getGui();this.addManagedListener(this.eventService,_t.EVENT_KEYBOARD_FOCUS,(function(){et.addCssClass(s,"ag-keyboard-focus")})),this.addManagedListener(this.eventService,_t.EVENT_MOUSE_FOCUS,(function(){et.removeCssClass(s,"ag-keyboard-focus")})),e.prototype.postConstruct.call(this)},o.prototype.getFocusableElement=function(){return this.eRootWrapperBody},o.prototype.createTemplate=function(){var e=Ct.isRegistered(t.ModuleNames.SideBarModule),o=Ct.isRegistered(t.ModuleNames.StatusBarModule);return'<div ref="eRootWrapper" class="ag-root-wrapper">\n                '+(Ct.isRegistered(t.ModuleNames.RowGroupingModule)?"<ag-grid-header-drop-zones></ag-grid-header-drop-zones>":"")+'\n                <div class="ag-root-wrapper-body" ref="rootWrapperBody">\n                    <ag-grid-comp ref="gridPanel"></ag-grid-comp>\n                    '+(e?'<ag-side-bar ref="sideBar"></ag-side-bar>':"")+"\n                </div>\n                "+(o?'<ag-status-bar ref="statusBar"></ag-status-bar>':"")+"\n                <ag-pagination></ag-pagination>\n                "+(Ct.isRegistered(t.ModuleNames.EnterpriseCoreModule)?"<ag-watermark></ag-watermark>":"")+"\n            </div>"},o.prototype.isFocusableContainer=function(){return!0},o.prototype.getFocusableContainers=function(){var e=[this.gridPanel.getGui()];return this.sideBarComp&&e.push(this.sideBarComp.getGui()),e.filter((function(e){return et.isVisible(e)}))},o.prototype.focusNextInnerContainer=function(e){var t=this.getFocusableContainers(),o=et.findIndex(t,(function(e){return e.contains(document.activeElement)}))+(e?-1:1);return!(o<0||o>=t.length)&&(0===o?this.focusGridHeader():this.focusController.focusFirstFocusableElement(t[o]))},o.prototype.focusInnerElement=function(e){var t=this.getFocusableContainers();return e&&t.length>1?this.focusController.focusFirstFocusableElement(et.last(t)):this.focusGridHeader()},o.prototype.focusGridHeader=function(){var e=this.columnController.getAllDisplayedColumns()[0];return!!e&&(e.getParent()&&(e=this.columnController.getColumnGroupAtLevel(e,0)),this.focusController.focusHeaderPosition({headerRowIndex:0,column:e}),!0)},o.prototype.onGridSizeChanged=function(){var e={type:_t.EVENT_GRID_SIZE_CHANGED,api:this.gridApi,columnApi:this.columnApi,clientWidth:this.eGridDiv.clientWidth,clientHeight:this.eGridDiv.clientHeight};this.eventService.dispatchEvent(e)},o.prototype.addRtlSupport=function(){var e=this.gridOptionsWrapper.isEnableRtl()?"ag-rtl":"ag-ltr";et.addCssClass(this.getGui(),e)},o.prototype.getRootGui=function(){return this.getGui()},o.prototype.isSideBarVisible=function(){return!!this.sideBarComp&&this.sideBarComp.isDisplayed()},o.prototype.setSideBarVisible=function(e){this.sideBarComp?this.sideBarComp.setDisplayed(e):e&&console.warn("ag-Grid: sideBar is not loaded")},o.prototype.setSideBarPosition=function(e){this.sideBarComp?this.sideBarComp.setSideBarPosition(e):console.warn("ag-Grid: sideBar is not loaded")},o.prototype.closeToolPanel=function(){this.sideBarComp?this.sideBarComp.close():console.warn("ag-Grid: toolPanel is only available in ag-Grid Enterprise")},o.prototype.getSideBar=function(){return this.gridOptions.sideBar},o.prototype.getToolPanelInstance=function(e){if(this.sideBarComp)return this.sideBarComp.getToolPanelInstance(e);console.warn("ag-Grid: toolPanel is only available in ag-Grid Enterprise")},o.prototype.refreshSideBar=function(){this.sideBarComp&&this.sideBarComp.refresh()},o.prototype.setSideBar=function(e){this.sideBarComp&&(this.eRootWrapperBody.removeChild(this.sideBarComp.getGui()),this.gridOptions.sideBar=Yt.parse(e),this.sideBarComp.reset(),this.eRootWrapperBody.appendChild(this.sideBarComp.getGui()))},o.prototype.getOpenedToolPanel=function(){return this.sideBarComp?this.sideBarComp.openedItem():null},o.prototype.openToolPanel=function(e){this.sideBarComp?this.sideBarComp.openToolPanel(e):console.warn("ag-Grid: toolPanel is only available in ag-Grid Enterprise")},o.prototype.isToolPanelShowing=function(){return this.sideBarComp.isToolPanelShowing()},o.prototype.destroy=function(){this.logger.log("Grid DOM removed"),e.prototype.destroy.call(this)},o.prototype.ensureNodeVisible=function(e,t){if(void 0===t&&(t=null),this.doingVirtualPaging)throw new Error("Cannot use ensureNodeVisible when doing virtual paging, as we cannot check rows that are not in memory");for(var o=this.rowModel.getRowCount(),n="function"===typeof e,i=-1,r=0;r<o;r++){var s=this.rowModel.getRow(r);if(n){if(e(s)){i=r;break}}else if(e===s||e===s.data){i=r;break}}i>=0&&this.gridPanel.ensureIndexVisible(i,t)},$s([ut("gridOptions")],o.prototype,"gridOptions",void 0),$s([ut("gridOptionsWrapper")],o.prototype,"gridOptionsWrapper",void 0),$s([ut("rowModel")],o.prototype,"rowModel",void 0),$s([ut("resizeObserverService")],o.prototype,"resizeObserverService",void 0),$s([ut("rowRenderer")],o.prototype,"rowRenderer",void 0),$s([ut("filterManager")],o.prototype,"filterManager",void 0),$s([ut("eGridDiv")],o.prototype,"eGridDiv",void 0),$s([ut("$scope")],o.prototype,"$scope",void 0),$s([ut("quickFilterOnScope")],o.prototype,"quickFilterOnScope",void 0),$s([ut("popupService")],o.prototype,"popupService",void 0),$s([ut("columnController")],o.prototype,"columnController",void 0),$s([ut("loggerFactory")],o.prototype,"loggerFactory",void 0),$s([ut("columnApi")],o.prototype,"columnApi",void 0),$s([ut("gridApi")],o.prototype,"gridApi",void 0),$s([dt("clipboardService")],o.prototype,"clipboardService",void 0),$s([co("gridPanel")],o.prototype,"gridPanel",void 0),$s([co("sideBar")],o.prototype,"sideBarComp",void 0),$s([co("rootWrapperBody")],o.prototype,"eRootWrapperBody",void 0),o}(Er),Ys=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),qs=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Xs=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ys(t,e),t.prototype.hideActiveMenu=function(){this.hidePopup&&this.hidePopup()},t.prototype.showMenuAfterMouseEvent=function(e,t){var o=this;this.showPopup(e,(function(n){o.popupService.positionPopupUnderMouseEvent({column:e,type:"columnMenu",mouseEvent:t,ePopup:n})}),t.target)},t.prototype.showMenuAfterButtonClick=function(e,t){var o=this;this.showPopup(e,(function(n){o.popupService.positionPopupUnderComponent({type:"columnMenu",eventSource:t,ePopup:n,keepWithinBounds:!0,column:e})}),t)},t.prototype.showPopup=function(e,t,o){var n,i=this,r=this.filterManager.getOrCreateFilterWrapper(e,"COLUMN_MENU"),s=document.createElement("div");et.addCssClass(s,"ag-menu"),this.tabListener=this.addManagedListener(s,"keydown",(function(e){return i.trapFocusWithin(e,s)})),r.guiPromise.then((function(e){return s.appendChild(e)}));var a=function(e){"horizontal"===e.direction&&n()};this.eventService.addEventListener("bodyScroll",a);n=this.popupService.addAsModalPopup(s,!0,(function(t){i.eventService.removeEventListener("bodyScroll",a),e.setMenuVisible(!1,"contextMenu");var n=t instanceof KeyboardEvent;if(i.tabListener&&(i.tabListener=i.tabListener()),n&&o&&et.isVisible(o)){var r=i.focusController.findTabbableParent(o);r&&r.focus()}})),t(s),r.filterPromise.then((function(e){if(e.afterGuiAttached){var t={hidePopup:n};e.afterGuiAttached(t)}})),this.hidePopup=n,e.setMenuVisible(!0,"contextMenu")},t.prototype.trapFocusWithin=function(e,t){e.keyCode===ze.KEY_TAB&&(this.focusController.findNextFocusableElement(t,!1,e.shiftKey)||(e.preventDefault(),e.shiftKey?this.focusController.focusLastFocusableElement(t):this.focusController.focusFirstFocusableElement(t)))},t.prototype.isMenuEnabled=function(e){return e.isFilterAllowed()},qs([ut("filterManager")],t.prototype,"filterManager",void 0),qs([ut("popupService")],t.prototype,"popupService",void 0),qs([ut("focusController")],t.prototype,"focusController",void 0),t=qs([ct("menuFactory")],t)}(xt),Qs=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Zs=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Js=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.dragEndFunctions=[],t.dragSources=[],t}return Qs(t,e),t.prototype.init=function(){this.logger=this.loggerFactory.create("DragService")},t.prototype.removeAllListeners=function(){this.dragSources.forEach(this.removeListener.bind(this)),this.dragSources.length=0},t.prototype.removeListener=function(e){var t=e.dragSource.eElement,o=e.mouseDownListener;if(t.removeEventListener("mousedown",o),e.touchEnabled){var n=e.touchStartListener;t.removeEventListener("touchstart",n,{passive:!0})}},t.prototype.removeDragSource=function(e){var t=et.find(this.dragSources,(function(t){return t.dragSource===e}));t&&(this.removeListener(t),et.removeFromArray(this.dragSources,t))},t.prototype.setNoSelectToBody=function(e){var t=this.gridOptionsWrapper.getDocument().querySelector("body");et.exists(t)&&et.addOrRemoveCssClass(t,"ag-unselectable",e)},t.prototype.addDragSource=function(e,t){void 0===t&&(t=!1);var o=this.onMouseDown.bind(this,e);e.eElement.addEventListener("mousedown",o);var n=null,i=this.gridOptionsWrapper.isSuppressTouch();t&&!i&&(n=this.onTouchStart.bind(this,e),e.eElement.addEventListener("touchstart",n,{passive:!1})),this.dragSources.push({dragSource:e,mouseDownListener:o,touchStartListener:n,touchEnabled:t})},t.prototype.onTouchStart=function(e,t){var o=this;this.currentDragParams=e,this.dragging=!1;var n=t.touches[0];this.touchLastTime=n,this.touchStart=n,t.cancelable&&t.preventDefault();var i=function(t){return o.onTouchUp(t,e.eElement)},r=e.eElement,s=[{target:r,type:"touchmove",listener:function(t){return o.onTouchMove(t,e.eElement)},options:{passive:!0}},{target:r,type:"touchend",listener:i,options:{passive:!0}},{target:r,type:"touchcancel",listener:i,options:{passive:!0}}];this.addTemporaryEvents(s),0===e.dragStartPixels&&this.onCommonMove(n,this.touchStart,e.eElement)},t.prototype.onMouseDown=function(e,t){var o=this,n=t;if((!e.skipMouseEvent||!e.skipMouseEvent(t))&&!n._alreadyProcessedByDragService&&(n._alreadyProcessedByDragService=!0,0===t.button)){this.currentDragParams=e,this.dragging=!1,this.mouseStartEvent=t;var i=this.gridOptionsWrapper.getDocument();this.setNoSelectToBody(!0);var r=[{target:i,type:"mousemove",listener:function(t,n){return o.onMouseMove(t,e.eElement)}},{target:i,type:"mouseup",listener:function(t,n){return o.onMouseUp(t,e.eElement)}},{target:i,type:"contextmenu",listener:function(e){return e.preventDefault()}}];this.addTemporaryEvents(r),0===e.dragStartPixels&&this.onMouseMove(t,e.eElement)}},t.prototype.addTemporaryEvents=function(e){e.forEach((function(e){var t=e.target,o=e.type,n=e.listener,i=e.options;t.addEventListener(o,n,i)})),this.dragEndFunctions.push((function(){e.forEach((function(e){var t=e.target,o=e.type,n=e.listener,i=e.options;t.removeEventListener(o,n,i)}))}))},t.prototype.isEventNearStartEvent=function(e,t){var o=this.currentDragParams.dragStartPixels,n=et.exists(o)?o:4;return et.areEventsNear(e,t,n)},t.prototype.getFirstActiveTouch=function(e){for(var t=0;t<e.length;t++)if(e[t].identifier===this.touchStart.identifier)return e[t];return null},t.prototype.onCommonMove=function(e,t,o){if(!this.dragging){if(!this.dragging&&this.isEventNearStartEvent(e,t))return;this.dragging=!0;var n={type:_t.EVENT_DRAG_STARTED,api:this.gridApi,columnApi:this.columnApi,target:o};this.eventService.dispatchEvent(n),this.currentDragParams.onDragStart(t)}this.currentDragParams.onDragging(e)},t.prototype.onTouchMove=function(e,t){var o=this.getFirstActiveTouch(e.touches);o&&this.onCommonMove(o,this.touchStart,t)},t.prototype.onMouseMove=function(e,t){this.onCommonMove(e,this.mouseStartEvent,t)},t.prototype.onTouchUp=function(e,t){var o=this.getFirstActiveTouch(e.changedTouches);o||(o=this.touchLastTime),this.onUpCommon(o,t)},t.prototype.onMouseUp=function(e,t){this.onUpCommon(e,t)},t.prototype.onUpCommon=function(e,t){if(this.dragging){this.dragging=!1,this.currentDragParams.onDragStop(e);var o={type:_t.EVENT_DRAG_STOPPED,api:this.gridApi,columnApi:this.columnApi,target:t};this.eventService.dispatchEvent(o)}this.setNoSelectToBody(!1),this.mouseStartEvent=null,this.touchStart=null,this.touchLastTime=null,this.currentDragParams=null,this.dragEndFunctions.forEach((function(e){return e()})),this.dragEndFunctions.length=0},Zs([ut("loggerFactory")],t.prototype,"loggerFactory",void 0),Zs([ut("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),Zs([ut("columnApi")],t.prototype,"columnApi",void 0),Zs([ut("gridApi")],t.prototype,"gridApi",void 0),Zs([at],t.prototype,"init",null),Zs([lt],t.prototype,"removeAllListeners",null),t=Zs([ct("dragService")],t)}(xt),ea=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),ta=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},oa=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.getSortModel=function(){return t.getColumnsWithSortingOrdered().map((function(e){return{colId:e.getColId(),sort:e.getSort()}}))},t}var o;return ea(t,e),o=t,t.prototype.progressSort=function(e,t,o){void 0===o&&(o="api");var n=this.getNextSortDirection(e);this.setSortForColumn(e,n,t,o)},t.prototype.setSortForColumn=function(e,t,o,n){if(void 0===n&&(n="api"),t!==ze.SORT_ASC&&t!==ze.SORT_DESC&&(t=null),e.setSort(t,n),e.getSort()){var i=Number((new Date).valueOf());e.setSortedAt(i)}else e.setSortedAt(null);o&&!this.gridOptionsWrapper.isSuppressMultiSort()||this.clearSortBarThisColumn(e,n),this.dispatchSortChangedEvents()},t.prototype.onSortChanged=function(){this.dispatchSortChangedEvents()},t.prototype.dispatchSortChangedEvents=function(){var e={type:_t.EVENT_SORT_CHANGED,api:this.gridApi,columnApi:this.columnApi};this.eventService.dispatchEvent(e)},t.prototype.clearSortBarThisColumn=function(e,t){this.columnController.getPrimaryAndSecondaryAndAutoColumns().forEach((function(o){o!==e&&o.setSort(void 0,t)}))},t.prototype.getNextSortDirection=function(e){var t;if(t=e.getColDef().sortingOrder?e.getColDef().sortingOrder:this.gridOptionsWrapper.getSortingOrder()?this.gridOptionsWrapper.getSortingOrder():o.DEFAULT_SORTING_ORDER,!Array.isArray(t)||t.length<=0)return console.warn("ag-grid: sortingOrder must be an array with at least one element, currently it's "+t),null;var n,i=t.indexOf(e.getSort()),r=i<0,s=i==t.length-1;return n=r||s?t[0]:t[i+1],o.DEFAULT_SORTING_ORDER.indexOf(n)<0?(console.warn("ag-grid: invalid sort type "+n),null):n},t.prototype.setSortModel=function(e,t){var o=this;void 0===t&&(t="api");var n=e&&e.length>0;this.columnController.getPrimaryAndSecondaryAndAutoColumns().forEach((function(i){var r=null,s=-1;if(n&&i.getColDef().sortable)for(var a=0;a<e.length;a++){var l=e[a];"string"===typeof l.colId&&"string"===typeof i.getColId()&&o.compareColIds(l,i)&&(r=l.sort,s=a)}r?(i.setSort(r,t),i.setSortedAt(s)):(i.setSort(null,t),i.setSortedAt(null))})),this.dispatchSortChangedEvents()},t.prototype.compareColIds=function(e,t){return e.colId===t.getColId()},t.prototype.getColumnsWithSortingOrdered=function(){var e=this.columnController.getPrimaryAndSecondaryAndAutoColumns().filter((function(e){return!!e.getSort()}));return e.sort((function(e,t){return e.sortedAt-t.sortedAt})),e},t.prototype.getSortForRowController=function(){return this.getColumnsWithSortingOrdered().map((function(e){return{inverter:e.getSort()===ze.SORT_ASC?1:-1,column:e}}))},t.DEFAULT_SORTING_ORDER=[ze.SORT_ASC,ze.SORT_DESC,null],ta([ut("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),ta([ut("columnController")],t.prototype,"columnController",void 0),ta([ut("columnApi")],t.prototype,"columnApi",void 0),ta([ut("gridApi")],t.prototype,"gridApi",void 0),t=o=ta([ct("sortController")],t)}(xt),na=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),ia=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},ra=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.keyboardFocusActive=!1,t}var o;return na(t,e),o=t,t.prototype.init=function(){var e=this.gridOptionsWrapper.getDocument(),t=this.clearFocusedCell.bind(this);this.addManagedListener(this.eventService,_t.EVENT_COLUMN_PIVOT_MODE_CHANGED,t),this.addManagedListener(this.eventService,_t.EVENT_COLUMN_EVERYTHING_CHANGED,this.onColumnEverythingChanged.bind(this)),this.addManagedListener(this.eventService,_t.EVENT_COLUMN_GROUP_OPENED,t),this.addManagedListener(this.eventService,_t.EVENT_COLUMN_ROW_GROUP_CHANGED,t),this.addManagedListener(e,"keydown",this.activateKeyboardMode.bind(this)),this.addManagedListener(e,"mousedown",this.activateMouseMode.bind(this))},t.prototype.registerGridCore=function(e){this.gridCore=e},t.prototype.onColumnEverythingChanged=function(){if(this.focusedCellPosition){var e=this.focusedCellPosition.column,t=this.columnController.getGridColumn(e.getId());e!==t&&this.clearFocusedCell()}},t.prototype.isKeyboardFocus=function(){return this.keyboardFocusActive},t.prototype.activateMouseMode=function(){this.keyboardFocusActive=!1,this.eventService.dispatchEvent({type:_t.EVENT_MOUSE_FOCUS})},t.prototype.activateKeyboardMode=function(){this.keyboardFocusActive=!0,this.eventService.dispatchEvent({type:_t.EVENT_KEYBOARD_FOCUS})},t.prototype.getFocusCellToUseAfterRefresh=function(){return this.gridOptionsWrapper.isSuppressFocusAfterRefresh()||!this.focusedCellPosition?null:this.getGridCellForDomElement(document.activeElement)?this.focusedCellPosition:null},t.prototype.getGridCellForDomElement=function(e){for(var t=e;t;){var o=this.gridOptionsWrapper.getDomData(t,nr.DOM_DATA_KEY_CELL_COMP);if(o)return o.getCellPosition();t=t.parentNode}return null},t.prototype.clearFocusedCell=function(){this.focusedCellPosition=null,this.onCellFocused(!1)},t.prototype.getFocusedCell=function(){return this.focusedCellPosition},t.prototype.setFocusedCell=function(e,t,o,n){void 0===n&&(n=!1);var i=et.makeNull(this.columnController.getGridColumn(t));this.focusedCellPosition={rowIndex:e,rowPinned:et.makeNull(o),column:i},this.onCellFocused(n)},t.prototype.isCellFocused=function(e){return!et.missing(this.focusedCellPosition)&&(this.focusedCellPosition.column===e.column&&this.isRowFocused(e.rowIndex,e.rowPinned))},t.prototype.isRowNodeFocused=function(e){return this.isRowFocused(e.rowIndex,e.rowPinned)},t.prototype.isHeaderWrapperFocused=function(e){if(et.missing(this.focusedHeaderPosition))return!1;var t=e.getColumn(),o=e.getParentComponent().getRowIndex(),n=e.getPinned(),i=this.focusedHeaderPosition,r=i.column,s=i.headerRowIndex;return t===r&&o===s&&n==r.getPinned()},t.prototype.clearFocusedHeader=function(){this.focusedHeaderPosition=null},t.prototype.getFocusedHeader=function(){return this.focusedHeaderPosition},t.prototype.setFocusedHeader=function(e,t){this.focusedHeaderPosition={headerRowIndex:e,column:t}},t.prototype.focusHeaderPosition=function(e,t){this.headerNavigationService.scrollToColumn(e.column,t);var o=this.headerNavigationService.getHeaderContainer(e.column.getPinned()).getRowComps()[e.headerRowIndex].getHeaderComps()[e.column.getUniqueId()];return!!o&&(o.getFocusableElement().focus(),!0)},t.prototype.isAnyCellFocused=function(){return!!this.focusedCellPosition},t.prototype.isRowFocused=function(e,t){if(et.missing(this.focusedCellPosition))return!1;var o=et.makeNull(t);return this.focusedCellPosition.rowIndex===e&&this.focusedCellPosition.rowPinned===o},t.prototype.findFocusableElements=function(e,t,n){var i=o.FOCUSABLE_SELECTOR,r=o.FOCUSABLE_EXCLUDE;t&&(r+=", "+t),n&&(r+=', [tabindex="-1"]');var s=Array.prototype.slice.apply(e.querySelectorAll(i)),a=Array.prototype.slice.apply(e.querySelectorAll(r));if(!a.length)return s;var l;return l=a,s.filter((function(e){return-1===l.indexOf(e)}))},t.prototype.focusFirstFocusableElement=function(e,t){var o=this.findFocusableElements(e,null,t)[0];return!!o&&(o.focus(),!0)},t.prototype.focusLastFocusableElement=function(e,t){var o=et.last(this.findFocusableElements(e,null,t));return!!o&&(o.focus(),!0)},t.prototype.findNextFocusableElement=function(e,t,o){var n=this.findFocusableElements(e,t?':not([tabindex="-1"])':null),i=(t?et.findIndex(n,(function(e){return e.contains(document.activeElement)})):n.indexOf(document.activeElement))+(o?-1:1);if(!(i<0||i>n.length))return n[i]},t.prototype.isFocusUnderManagedComponent=function(e){var t=e.querySelectorAll("."+Er.FOCUS_MANAGED_CLASS);if(!t.length)return!1;for(var o=0;o<t.length;o++)if(t[o].contains(document.activeElement))return!0;return!1},t.prototype.findTabbableParent=function(e,t){void 0===t&&(t=5);for(var o=0;e&&null===et.getTabIndex(e)&&++o<=t;)e=e.parentElement;return null===et.getTabIndex(e)?null:e},t.prototype.onCellFocused=function(e){var t={type:_t.EVENT_CELL_FOCUSED,forceBrowserFocus:e,rowIndex:null,column:null,floating:null,api:this.gridApi,columnApi:this.columnApi,rowPinned:null};this.focusedCellPosition&&(t.rowIndex=this.focusedCellPosition.rowIndex,t.column=this.focusedCellPosition.column,t.rowPinned=this.focusedCellPosition.rowPinned),this.eventService.dispatchEvent(t)},t.prototype.focusGridView=function(e){var t=this.rowPositionUtils.getFirstRow();if(!t)return!1;var o=t.rowIndex,n=t.rowPinned,i=this.getFocusedHeader();if(e||(e=i.column),!et.exists(o))return!1;if(this.rowRenderer.ensureCellVisible({rowIndex:o,column:e,rowPinned:n}),this.setFocusedCell(o,e,et.makeNull(n),!0),this.rangeController){var r={rowIndex:o,rowPinned:n,column:e};this.rangeController.setRangeToCell(r)}return!0},t.prototype.focusNextGridCoreContainer=function(e){if(this.gridCore.focusNextInnerContainer(e))return!0;e||this.gridCore.forceFocusOutOfContainer()},t.FOCUSABLE_SELECTOR="[tabindex], input, select, button, textarea",t.FOCUSABLE_EXCLUDE=".ag-hidden, .ag-hidden *, .ag-disabled, .ag-disabled *",ia([ut("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),ia([ut("columnController")],t.prototype,"columnController",void 0),ia([ut("headerNavigationService")],t.prototype,"headerNavigationService",void 0),ia([ut("columnApi")],t.prototype,"columnApi",void 0),ia([ut("gridApi")],t.prototype,"gridApi",void 0),ia([ut("rowRenderer")],t.prototype,"rowRenderer",void 0),ia([ut("rowPositionUtils")],t.prototype,"rowPositionUtils",void 0),ia([dt("rangeController")],t.prototype,"rangeController",void 0),ia([at],t.prototype,"init",null),t=o=ia([ct("focusController")],t)}(xt),sa=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),aa=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},la=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.gridInstanceId=o.gridInstanceSequence.next(),t}var o;return sa(t,e),o=t,t.prototype.init=function(){this.stampDomElementWithGridInstance()},t.prototype.registerGridComp=function(e){this.gridPanel=e},t.prototype.stampDomElementWithGridInstance=function(){this.eGridDiv[o.GRID_DOM_KEY]=this.gridInstanceId},t.prototype.getRenderedCellForEvent=function(e){return et.getCellCompForEvent(this.gridOptionsWrapper,e)},t.prototype.isEventFromThisGrid=function(e){for(var t=et.getEventPath(e),n=0;n<t.length;n++){var i=t[n][o.GRID_DOM_KEY];if(et.exists(i))return i===this.gridInstanceId}return!1},t.prototype.getCellPositionForEvent=function(e){var t=this.getRenderedCellForEvent(e);return t?t.getCellPosition():null},t.prototype.getNormalisedPosition=function(e){var t=this.gridOptionsWrapper.getDomLayout()===ze.DOM_LAYOUT_NORMAL,o=e.x,n=e.y;if(t){var i=this.gridPanel.getVScrollPosition();return{x:o+this.gridPanel.getHScrollPosition().left,y:n+i.top}}return{x:o,y:n}},t.gridInstanceSequence=new tt,t.GRID_DOM_KEY="__ag_grid_instance",aa([ut("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),aa([ut("eGridDiv")],t.prototype,"eGridDiv",void 0),aa([at],t.prototype,"init",null),t=o=aa([ct("mouseEventService")],t)}(xt),ca=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),ua=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},da=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ca(t,e),t.prototype.getNextCellToFocus=function(e,t){for(var o=t,n=!1;!n;){switch(e){case ze.KEY_UP:o=this.getCellAbove(o);break;case ze.KEY_DOWN:o=this.getCellBelow(o);break;case ze.KEY_RIGHT:o=this.gridOptionsWrapper.isEnableRtl()?this.getCellToLeft(o):this.getCellToRight(o);break;case ze.KEY_LEFT:o=this.gridOptionsWrapper.isEnableRtl()?this.getCellToRight(o):this.getCellToLeft(o);break;default:o=null,console.warn("ag-Grid: unknown key for navigation "+e)}n=!o||this.isCellGoodToFocusOn(o)}return o},t.prototype.isCellGoodToFocusOn=function(e){var t,o=e.column;switch(e.rowPinned){case ze.PINNED_TOP:t=this.pinnedRowModel.getPinnedTopRow(e.rowIndex);break;case ze.PINNED_BOTTOM:t=this.pinnedRowModel.getPinnedBottomRow(e.rowIndex);break;default:t=this.rowModel.getRow(e.rowIndex)}return!o.isSuppressNavigable(t)},t.prototype.getCellToLeft=function(e){if(!e)return null;var t=this.columnController.getDisplayedColBefore(e.column);return t?{rowIndex:e.rowIndex,column:t,rowPinned:e.rowPinned}:null},t.prototype.getCellToRight=function(e){if(!e)return null;var t=this.columnController.getDisplayedColAfter(e.column);return t?{rowIndex:e.rowIndex,column:t,rowPinned:e.rowPinned}:null},t.prototype.getRowBelow=function(e){var t=e.rowIndex,o=e.rowPinned;if(this.isLastRowInContainer(e))switch(o){case ze.PINNED_BOTTOM:return null;case ze.PINNED_TOP:return this.rowModel.isRowsToRender()?{rowIndex:0,rowPinned:null}:this.pinnedRowModel.isRowsToRender(ze.PINNED_BOTTOM)?{rowIndex:0,rowPinned:ze.PINNED_BOTTOM}:null;default:return this.pinnedRowModel.isRowsToRender(ze.PINNED_BOTTOM)?{rowIndex:0,rowPinned:ze.PINNED_BOTTOM}:null}return{rowIndex:t+1,rowPinned:o}},t.prototype.getCellBelow=function(e){if(!e)return null;var t=this.getRowBelow(e);return t?{rowIndex:t.rowIndex,column:e.column,rowPinned:t.rowPinned}:null},t.prototype.isLastRowInContainer=function(e){var t=e.rowPinned,o=e.rowIndex;return t===ze.PINNED_TOP?this.pinnedRowModel.getPinnedTopRowData().length-1<=o:t===ze.PINNED_BOTTOM?this.pinnedRowModel.getPinnedBottomRowData().length-1<=o:this.rowModel.getRowCount()-1<=o},t.prototype.getRowAbove=function(e){var t=e.rowIndex,o=e.rowPinned;return 0===t?o===ze.PINNED_TOP?null:o&&this.rowModel.isRowsToRender()?this.getLastBodyCell():this.pinnedRowModel.isRowsToRender(ze.PINNED_TOP)?this.getLastFloatingTopRow():null:{rowIndex:t-1,rowPinned:o}},t.prototype.getCellAbove=function(e){if(!e)return null;var t=this.getRowAbove({rowIndex:e.rowIndex,rowPinned:e.rowPinned});return t?{rowIndex:t.rowIndex,column:e.column,rowPinned:t.rowPinned}:null},t.prototype.getLastBodyCell=function(){return{rowIndex:this.rowModel.getRowCount()-1,rowPinned:null}},t.prototype.getLastFloatingTopRow=function(){return{rowIndex:this.pinnedRowModel.getPinnedTopRowData().length-1,rowPinned:ze.PINNED_TOP}},t.prototype.getNextTabbedCell=function(e,t){return t?this.getNextTabbedCellBackwards(e):this.getNextTabbedCellForwards(e)},t.prototype.getNextTabbedCellForwards=function(e){var t=this.columnController.getAllDisplayedColumns(),o=e.rowIndex,n=e.rowPinned,i=this.columnController.getDisplayedColAfter(e.column);if(!i){i=t[0];var r=this.getRowBelow(e);if(et.missing(r))return null;o=r?r.rowIndex:null,n=r?r.rowPinned:null}return{rowIndex:o,column:i,rowPinned:n}},t.prototype.getNextTabbedCellBackwards=function(e){var t=this.columnController.getAllDisplayedColumns(),o=e.rowIndex,n=e.rowPinned,i=this.columnController.getDisplayedColBefore(e.column);if(!i){i=et.last(t);var r=this.getRowAbove({rowIndex:e.rowIndex,rowPinned:e.rowPinned});if(et.missing(r))return null;o=r?r.rowIndex:null,n=r?r.rowPinned:null}return{rowIndex:o,column:i,rowPinned:n}},ua([ut("columnController")],t.prototype,"columnController",void 0),ua([ut("rowModel")],t.prototype,"rowModel",void 0),ua([ut("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),ua([ut("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),t=ua([ct("cellNavigationService")],t)}(xt),ha=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},pa=function(){function e(){this.cellRendererMap={}}var t;return t=e,e.prototype.init=function(){this.cellRendererMap[t.ANIMATE_SLIDE]=Fn,this.cellRendererMap[t.ANIMATE_SHOW_CHANGE]=Tn,this.cellRendererMap[t.GROUP]=Pn},e.prototype.addCellRenderer=function(e,t){this.cellRendererMap[e]=t},e.prototype.getCellRenderer=function(e){var t=this.cellRendererMap[e];return et.missing(t)?(console.warn("ag-Grid: unable to find cellRenderer for key "+e),null):t},e.ANIMATE_SLIDE="animateSlide",e.ANIMATE_SHOW_CHANGE="animateShowChange",e.GROUP="group",ha([ut("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),ha([ut("expressionService")],e.prototype,"expressionService",void 0),ha([ut("eventService")],e.prototype,"eventService",void 0),ha([at],e.prototype,"init",null),e=t=ha([ct("cellRendererFactory")],e)}(),ga=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),fa=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},ma=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ga(t,e),t.prototype.formatValue=function(e,t,o,n,i,r){void 0===r&&(r=!0);var s,a=null,l=e.getColDef();if(i?s=i:r&&(s=t&&t.rowPinned&&l.pinnedRowValueFormatter?l.pinnedRowValueFormatter:l.valueFormatter),s){var c={value:n,node:t,data:t?t.data:null,colDef:l,column:e,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()};c.$scope=o,a=this.expressionService.evaluate(s,c)}else if(l.refData)return l.refData[n]||"";return null==a&&Array.isArray(n)&&(a=n.join(", ")),a},fa([ut("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),fa([ut("expressionService")],t.prototype,"expressionService",void 0),t=fa([ct("valueFormatterService")],t)}(xt),va=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),ya=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.className="ag-radio-button",t.inputType="radio",t}return va(t,e),t.prototype.isSelected=function(){return this.eInput.checked},t.prototype.toggle=function(){var e=this.getNextValue();this.setValue(e)},t.prototype.addInputListeners=function(){e.prototype.addInputListeners.call(this),this.addManagedListener(this.eventService,_t.EVENT_CHECKBOX_CHANGED,this.onChange.bind(this))},t.prototype.onChange=function(e){e.selected&&e.name&&this.eInput.name&&this.eInput.name===e.name&&e.id&&this.eInput.id!==e.id&&this.setValue(!1,!0)},t}(Jo),Ca=function(){function e(){}return e.prototype.setTimeout=function(e,t){window.setTimeout(e,t)},e.prototype.addEventListenerOutsideAngular=function(e,t,o,n){e.addEventListener(t,o,n)},e}(),wa=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),ba=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Sa=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return wa(t,e),t.prototype.setScrollsVisible=function(e){if(this.horizontalScrollShowing!==e.horizontalScrollShowing||this.verticalScrollShowing!==e.verticalScrollShowing){this.horizontalScrollShowing=e.horizontalScrollShowing,this.verticalScrollShowing=e.verticalScrollShowing;var t={type:_t.EVENT_SCROLL_VISIBILITY_CHANGED,api:this.gridApi,columnApi:this.columnApi};this.eventService.dispatchEvent(t)}},t.prototype.isHorizontalScrollShowing=function(){return this.horizontalScrollShowing},t.prototype.isVerticalScrollShowing=function(){return this.verticalScrollShowing},ba([ut("columnController")],t.prototype,"columnController",void 0),ba([ut("columnApi")],t.prototype,"columnApi",void 0),ba([ut("gridApi")],t.prototype,"gridApi",void 0),ba([ut("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),t=ba([ct("scrollVisibleService")],t)}(xt),Ea=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Ra=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Pa=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ea(t,e),t.prototype.processAllCellClasses=function(e,t,o,n){this.processClassRules(e.cellClassRules,t,o,n),this.processStaticCellClasses(e,t,o)},t.prototype.processClassRules=function(e,t,o,n){if("object"===typeof e&&null!==e)for(var i=Object.keys(e),r=0;r<i.length;r++){var s=i[r],a=e[s],l=void 0;"string"===typeof a?l=this.expressionService.evaluate(a,t):"function"===typeof a&&(l=a(t)),l?o(s):n&&n(s)}},t.prototype.processStaticCellClasses=function(e,t,o){if(e.cellClass){var n=void 0;if("function"===typeof e.cellClass)n=(0,e.cellClass)(t);else n=e.cellClass;"string"===typeof n?o(n):Array.isArray(n)&&n.forEach((function(e){o(e)}))}},Ra([ut("expressionService")],t.prototype,"expressionService",void 0),t=Ra([ct("stylingService")],t)}(xt),Oa=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),xa=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Ta=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Oa(t,e),t.prototype.setMouseOver=function(e){this.selectedColumns=e;var t={type:_t.EVENT_COLUMN_HOVER_CHANGED,api:this.gridApi,columnApi:this.columnApi};this.eventService.dispatchEvent(t)},t.prototype.clearMouseOver=function(){this.selectedColumns=null;var e={type:_t.EVENT_COLUMN_HOVER_CHANGED,api:this.gridApi,columnApi:this.columnApi};this.eventService.dispatchEvent(e)},t.prototype.isHovered=function(e){return this.selectedColumns&&this.selectedColumns.indexOf(e)>=0},xa([ut("columnApi")],t.prototype,"columnApi",void 0),xa([ut("gridApi")],t.prototype,"gridApi",void 0),t=xa([ct("columnHoverService")],t)}(xt),Da=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Aa=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Fa=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.executeNextFuncs=[],t.executeLaterFuncs=[],t.active=!1,t.animationThreadCount=0,t}return Da(t,e),t.prototype.registerGridComp=function(e){this.gridPanel=e},t.prototype.isActive=function(){return this.active},t.prototype.start=function(){this.active||this.gridOptionsWrapper.isSuppressColumnMoveAnimation()||this.gridOptionsWrapper.isEnableRtl()||(this.ensureAnimationCssClassPresent(),this.active=!0)},t.prototype.finish=function(){this.active&&(this.flush(),this.active=!1)},t.prototype.executeNextVMTurn=function(e){this.active?this.executeNextFuncs.push(e):e()},t.prototype.executeLaterVMTurn=function(e){this.active?this.executeLaterFuncs.push(e):e()},t.prototype.ensureAnimationCssClassPresent=function(){var e=this;this.animationThreadCount++;var t=this.animationThreadCount;this.gridPanel.setColumnMovingCss(!0),this.executeLaterFuncs.push((function(){e.animationThreadCount===t&&e.gridPanel.setColumnMovingCss(!1)}))},t.prototype.flush=function(){var e=this.executeNextFuncs;this.executeNextFuncs=[];var t=this.executeLaterFuncs;this.executeLaterFuncs=[],0===e.length&&0===t.length||(window.setTimeout((function(){return e.forEach((function(e){return e()}))}),0),window.setTimeout((function(){return t.forEach((function(e){return e()}))}),300))},Aa([ut("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),t=Aa([ct("columnAnimationService")],t)}(xt),_a=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Ma=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Ia=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}var o;return _a(t,e),o=t,t.prototype.createAutoGroupColumns=function(e){var t=this,o=[],n=this.gridOptionsWrapper.isTreeData(),i=this.gridOptionsWrapper.isGroupMultiAutoColumn();return n&&i&&(console.warn("ag-Grid: you cannot mix groupMultiAutoColumn with treeData, only one column can be used to display groups when doing tree data"),i=!1),i?e.forEach((function(e,n){o.push(t.createOneAutoGroupColumn(e,n))})):o.push(this.createOneAutoGroupColumn()),o},t.prototype.createOneAutoGroupColumn=function(e,t){var n,i=this.generateDefaultColDef(e);n=e?ze.GROUP_AUTO_COLUMN_ID+"-"+e.getId():o.GROUP_AUTO_COLUMN_BUNDLE_ID;var r=this.gridOptionsWrapper.getAutoGroupColumnDef();(et.mergeDeep(i,r),(i=this.columnFactory.mergeColDefs(i)).colId=n,this.gridOptionsWrapper.isTreeData())||et.missing(i.field)&&et.missing(i.valueGetter)&&et.missing(i.filterValueGetter)&&(i.filter=!1);t&&t>0&&(i.headerCheckboxSelection=!1);var s=new bt(i,null,n,!0);return this.context.createBean(s),s},t.prototype.generateDefaultColDef=function(e){var t=this.gridOptionsWrapper.getAutoGroupColumnDef(),o={headerName:this.gridOptionsWrapper.getLocaleTextFunc()("group","Group")};if(t&&(t.cellRenderer||t.cellRendererFramework)||(o.cellRenderer="agGroupCellRenderer"),e){var n=e.getColDef();et.assign(o,{headerName:this.columnController.getDisplayNameForColumn(e,"header"),headerValueGetter:n.headerValueGetter}),n.cellRenderer&&et.assign(o,{cellRendererParams:{innerRenderer:n.cellRenderer,innerRendererParams:n.cellRendererParams}}),o.showRowGroup=e.getColId()}else o.showRowGroup=!0;return o},t.GROUP_AUTO_COLUMN_BUNDLE_ID=ze.GROUP_AUTO_COLUMN_ID,Ma([ut("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),Ma([ut("columnController")],t.prototype,"columnController",void 0),Ma([ut("columnFactory")],t.prototype,"columnFactory",void 0),t=o=Ma([ct("autoGroupColService")],t)}(xt),La=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Na=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},ka=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.currentPage=0,t.topDisplayedRowIndex=0,t.bottomDisplayedRowIndex=0,t.pixelOffset=0,t.masterRowCount=0,t}return La(t,e),t.prototype.postConstruct=function(){this.active=this.gridOptionsWrapper.isPagination(),this.paginateChildRows=this.gridOptionsWrapper.isPaginateChildRows(),this.addManagedListener(this.eventService,_t.EVENT_MODEL_UPDATED,this.onModelUpdated.bind(this)),this.addManagedListener(this.gridOptionsWrapper,"paginationPageSize",this.onModelUpdated.bind(this)),this.onModelUpdated()},t.prototype.ensureRowHeightsValid=function(e,t,o,n){var i=this.rowModel.ensureRowHeightsValid(e,t,this.getPageFirstRow(),this.getPageLastRow());return i&&this.calculatePages(),i},t.prototype.onModelUpdated=function(e){this.calculatePages();var t={type:_t.EVENT_PAGINATION_CHANGED,animate:!!e&&e.animate,newData:!!e&&e.newData,newPage:!!e&&e.newPage,keepRenderedRows:!!e&&e.keepRenderedRows,api:this.gridApi,columnApi:this.columnApi};this.eventService.dispatchEvent(t)},t.prototype.goToPage=function(e){if(this.active&&this.currentPage!==e){this.currentPage=e;var t={type:_t.EVENT_MODEL_UPDATED,animate:!1,keepRenderedRows:!1,newData:!1,newPage:!0,api:this.gridApi,columnApi:this.columnApi};this.onModelUpdated(t)}},t.prototype.getPixelOffset=function(){return this.pixelOffset},t.prototype.getRow=function(e){return this.rowModel.getRow(e)},t.prototype.getRowNode=function(e){return this.rowModel.getRowNode(e)},t.prototype.getRowIndexAtPixel=function(e){return this.rowModel.getRowIndexAtPixel(e)},t.prototype.getCurrentPageHeight=function(){return et.missing(this.topRowBounds)||et.missing(this.bottomRowBounds)?0:Math.max(this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight-this.topRowBounds.rowTop,0)},t.prototype.isRowPresent=function(e){return!!this.rowModel.isRowPresent(e)&&(e.rowIndex>=this.topDisplayedRowIndex&&e.rowIndex<=this.bottomDisplayedRowIndex)},t.prototype.isEmpty=function(){return this.rowModel.isEmpty()},t.prototype.isRowsToRender=function(){return this.rowModel.isRowsToRender()},t.prototype.getNodesInRangeForSelection=function(e,t){return this.rowModel.getNodesInRangeForSelection(e,t)},t.prototype.forEachNode=function(e){return this.rowModel.forEachNode(e)},t.prototype.getType=function(){return this.rowModel.getType()},t.prototype.getRowBounds=function(e){var t=this.rowModel.getRowBounds(e);return t.rowIndex=e,t},t.prototype.getPageFirstRow=function(){return this.topRowBounds?this.topRowBounds.rowIndex:-1},t.prototype.getPageLastRow=function(){return this.bottomRowBounds?this.bottomRowBounds.rowIndex:-1},t.prototype.getRowCount=function(){return this.rowModel.getRowCount()},t.prototype.goToPageWithIndex=function(e){if(this.active){var t=Math.floor(e/this.pageSize);this.goToPage(t)}},t.prototype.isLastPageFound=function(){return this.rowModel.isLastRowFound()},t.prototype.getCurrentPage=function(){return this.currentPage},t.prototype.goToNextPage=function(){this.goToPage(this.currentPage+1)},t.prototype.goToPreviousPage=function(){this.goToPage(this.currentPage-1)},t.prototype.goToFirstPage=function(){this.goToPage(0)},t.prototype.goToLastPage=function(){var e=this.rowModel.getRowCount(),t=Math.floor(e/this.pageSize);this.goToPage(t)},t.prototype.getPageSize=function(){return this.pageSize},t.prototype.getTotalPages=function(){return this.totalPages},t.prototype.setPageSize=function(){this.pageSize=this.gridOptionsWrapper.getPaginationPageSize(),this.pageSize>=1||(this.pageSize=100)},t.prototype.calculatePages=function(){this.active?(this.setPageSize(),this.paginateChildRows?this.calculatePagesAllRows():this.calculatePagesMasterRowsOnly()):this.calculatedPagesNotActive(),this.topRowBounds=this.rowModel.getRowBounds(this.topDisplayedRowIndex),this.topRowBounds&&(this.topRowBounds.rowIndex=this.topDisplayedRowIndex),this.bottomRowBounds=this.rowModel.getRowBounds(this.bottomDisplayedRowIndex),this.bottomRowBounds&&(this.bottomRowBounds.rowIndex=this.bottomDisplayedRowIndex),this.pixelOffset=et.exists(this.topRowBounds)?this.topRowBounds.rowTop:0},t.prototype.setZeroRows=function(){this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=-1,this.currentPage=0,this.totalPages=0},t.prototype.calculatePagesMasterRowsOnly=function(){if(this.masterRowCount=this.rowModel.getTopLevelRowCount(),0!==this.masterRowCount){var e=this.masterRowCount-1;this.totalPages=Math.floor(e/this.pageSize)+1,this.currentPage>=this.totalPages&&(this.currentPage=this.totalPages-1),(!et.isNumeric(this.currentPage)||this.currentPage<0)&&(this.currentPage=0);var t=this.pageSize*this.currentPage,o=this.pageSize*(this.currentPage+1)-1;if(o>e&&(o=e),this.topDisplayedRowIndex=this.rowModel.getTopLevelRowDisplayedIndex(t),o===e)this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1;else{var n=this.rowModel.getTopLevelRowDisplayedIndex(o+1);this.bottomDisplayedRowIndex=n-1}}else this.setZeroRows()},t.prototype.getMasterRowCount=function(){return this.masterRowCount},t.prototype.calculatePagesAllRows=function(){if(this.masterRowCount=this.rowModel.getRowCount(),0!==this.masterRowCount){var e=this.masterRowCount-1;this.totalPages=Math.floor(e/this.pageSize)+1,this.currentPage>=this.totalPages&&(this.currentPage=this.totalPages-1),(!et.isNumeric(this.currentPage)||this.currentPage<0)&&(this.currentPage=0),this.topDisplayedRowIndex=this.pageSize*this.currentPage,this.bottomDisplayedRowIndex=this.pageSize*(this.currentPage+1)-1,this.bottomDisplayedRowIndex>e&&(this.bottomDisplayedRowIndex=e)}else this.setZeroRows()},t.prototype.calculatedPagesNotActive=function(){this.pageSize=this.rowModel.getRowCount(),this.totalPages=1,this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1},Na([ut("rowModel")],t.prototype,"rowModel",void 0),Na([ut("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),Na([ut("selectionController")],t.prototype,"selectionController",void 0),Na([ut("columnApi")],t.prototype,"columnApi",void 0),Na([ut("gridApi")],t.prototype,"gridApi",void 0),Na([at],t.prototype,"postConstruct",null),t=Na([ct("paginationProxy")],t)}(xt),Ga=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Va=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Ha=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ga(t,e),t.prototype.registerGridComp=function(e){this.gridPanel=e,this.addManagedListener(this.eventService,_t.EVENT_BODY_HEIGHT_CHANGED,this.onBodyHeightChanged.bind(this)),this.addManagedListener(this.eventService,_t.EVENT_SCROLL_VISIBILITY_CHANGED,this.onScrollVisibilityChanged.bind(this)),this.checkPageSize()},t.prototype.notActive=function(){return!this.gridOptionsWrapper.isPaginationAutoPageSize()},t.prototype.onScrollVisibilityChanged=function(){this.checkPageSize()},t.prototype.onBodyHeightChanged=function(){this.checkPageSize()},t.prototype.checkPageSize=function(){if(!this.notActive()){var e=this.gridOptionsWrapper.getRowHeightAsNumber(),t=this.gridPanel.getBodyHeight();if(t>0){var o=Math.floor(t/e);this.gridOptionsWrapper.setProperty("paginationPageSize",o)}}},Va([ut("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),t=Va([ct("paginationAutoPageSizeService")],t)}(xt),Ba=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Wa=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},ja=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.cacheVersion=0,t}return Ba(t,e),t.prototype.init=function(){this.active=this.gridOptionsWrapper.isValueCache(),this.neverExpires=this.gridOptionsWrapper.isValueCacheNeverExpires()},t.prototype.onDataChanged=function(){this.neverExpires||this.expire()},t.prototype.expire=function(){this.cacheVersion++},t.prototype.setValue=function(e,t,o){this.active&&(e.__cacheVersion!==this.cacheVersion&&(e.__cacheVersion=this.cacheVersion,e.__cacheData={}),e.__cacheData[t]=o)},t.prototype.getValue=function(e,t){if(this.active&&e.__cacheVersion===this.cacheVersion)return e.__cacheData[t]},Wa([ut("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),Wa([at],t.prototype,"init",null),t=Wa([ct("valueCache")],t)}(xt),za=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Ua=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},$a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return za(t,e),t.prototype.init=function(){this.rowModel.getType()===ze.ROW_MODEL_TYPE_CLIENT_SIDE&&(this.clientSideRowModel=this.rowModel),this.addManagedListener(this.eventService,_t.EVENT_CELL_VALUE_CHANGED,this.onCellValueChanged.bind(this))},t.prototype.onCellValueChanged=function(e){e.source!==ze.SOURCE_PASTE&&this.doChangeDetection(e.node,e.column)},t.prototype.doChangeDetection=function(e,t){if(!this.gridOptionsWrapper.isSuppressChangeDetection()){if(this.clientSideRowModel&&!e.isRowPinned()){var o=this.gridOptionsWrapper.isAggregateOnlyChangedColumns(),n=new Pi(o,this.clientSideRowModel.getRootNode());n.addParentNode(e.parent,[t]),this.clientSideRowModel.doAggregate(n)}this.rowRenderer.refreshCells()}},Ua([ut("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),Ua([ut("rowModel")],t.prototype,"rowModel",void 0),Ua([ut("rowRenderer")],t.prototype,"rowRenderer",void 0),Ua([at],t.prototype,"init",null),t=Ua([ct("changeDetectionService")],t)}(xt),Ka=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Ya=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},qa=function(e,t){return function(o,n){t(o,n,e)}},Xa=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.consuming=!1,t}return Ka(t,e),t.prototype.setBeans=function(e){this.logger=e.create("AlignedGridsService")},t.prototype.registerGridComp=function(e){this.gridPanel=e},t.prototype.init=function(){this.addManagedListener(this.eventService,_t.EVENT_COLUMN_MOVED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,_t.EVENT_COLUMN_VISIBLE,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,_t.EVENT_COLUMN_PINNED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,_t.EVENT_COLUMN_GROUP_OPENED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,_t.EVENT_COLUMN_RESIZED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,_t.EVENT_BODY_SCROLL,this.fireScrollEvent.bind(this))},t.prototype.fireEvent=function(e){if(!this.consuming){var t=this.gridOptionsWrapper.getAlignedGrids();t&&t.forEach((function(t){if(t.api){var o=t.api.__getAlignedGridService();e(o)}}))}},t.prototype.onEvent=function(e){this.consuming=!0,e(),this.consuming=!1},t.prototype.fireColumnEvent=function(e){this.fireEvent((function(t){t.onColumnEvent(e)}))},t.prototype.fireScrollEvent=function(e){"horizontal"===e.direction&&this.fireEvent((function(t){t.onScrollEvent(e)}))},t.prototype.onScrollEvent=function(e){var t=this;this.onEvent((function(){t.gridPanel.setHorizontalScrollPosition(e.left)}))},t.prototype.getMasterColumns=function(e){var t=[];return e.columns?e.columns.forEach((function(e){t.push(e)})):e.column&&t.push(e.column),t},t.prototype.getColumnIds=function(e){var t=[];return e.columns?e.columns.forEach((function(e){t.push(e.getColId())})):e.column&&t.push(e.column.getColId()),t},t.prototype.onColumnEvent=function(e){var t=this;this.onEvent((function(){switch(e.type){case _t.EVENT_COLUMN_MOVED:case _t.EVENT_COLUMN_VISIBLE:case _t.EVENT_COLUMN_PINNED:case _t.EVENT_COLUMN_RESIZED:var o=e;t.processColumnEvent(o);break;case _t.EVENT_COLUMN_GROUP_OPENED:var n=e;t.processGroupOpenedEvent(n);break;case _t.EVENT_COLUMN_PIVOT_CHANGED:console.warn("ag-Grid: pivoting is not supported with aligned grids. You can only use one of these features at a time in a grid.")}}))},t.prototype.processGroupOpenedEvent=function(e){var t,o=e.columnGroup;if(o){var n=o.getGroupId();t=this.columnController.getOriginalColumnGroup(n)}o&&!t||(this.logger.log("onColumnEvent-> processing "+e+" expanded = "+o.isExpanded()),this.columnController.setColumnGroupOpened(t,o.isExpanded(),"alignedGridChanged"))},t.prototype.processColumnEvent=function(e){var t,o=this,n=e.column;if(n&&(t=this.columnController.getPrimaryColumn(n.getColId())),!n||t){var i=this.getColumnIds(e),r=this.getMasterColumns(e);switch(e.type){case _t.EVENT_COLUMN_MOVED:var s=e;this.logger.log("onColumnEvent-> processing "+e.type+" toIndex = "+s.toIndex),this.columnController.moveColumns(i,s.toIndex,"alignedGridChanged");break;case _t.EVENT_COLUMN_VISIBLE:var a=e;this.logger.log("onColumnEvent-> processing "+e.type+" visible = "+a.visible),this.columnController.setColumnsVisible(i,a.visible,"alignedGridChanged");break;case _t.EVENT_COLUMN_PINNED:var l=e;this.logger.log("onColumnEvent-> processing "+e.type+" pinned = "+l.pinned),this.columnController.setColumnsPinned(i,l.pinned,"alignedGridChanged");break;case _t.EVENT_COLUMN_RESIZED:var c=e;r.forEach((function(t){o.logger.log("onColumnEvent-> processing "+e.type+" actualWidth = "+t.getActualWidth());var n=[{key:t.getColId(),newWidth:t.getActualWidth()}];o.columnController.setColumnWidths(n,!1,c.finished,"alignedGridChanged")}))}var u=this.gridPanel.isVerticalScrollShowing();this.gridOptionsWrapper.getAlignedGrids().forEach((function(e){e.api.setAlwaysShowVerticalScroll(u)}))}},Ya([ut("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),Ya([ut("columnController")],t.prototype,"columnController",void 0),Ya([qa(0,pt("loggerFactory"))],t.prototype,"setBeans",null),Ya([at],t.prototype,"init",null),t=Ya([ct("alignedGridsService")],t)}(xt),Qa=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Za=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Ja=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Qa(t,e),t.prototype.adaptFunction=function(e,t,o,n){if(null==t)return{component:null,componentFromFramework:o,source:n,paramsFromSelector:null};var i=this.componentMetadataProvider.retrieve(e);return i&&i.functionAdapter?{componentFromFramework:o,component:i.functionAdapter(t),source:n,paramsFromSelector:null}:null},t.prototype.adaptCellRendererFunction=function(e){return function(){function t(){}return t.prototype.refresh=function(e){return!1},t.prototype.getGui=function(){var t=e(this.params),o=typeof t;return"string"===o||"number"===o||"boolean"===o?et.loadTemplate("<span>"+t+"</span>"):t},t.prototype.init=function(e){this.params=e},t}()},t.prototype.doesImplementIComponent=function(e){return!!e&&(e.prototype&&"getGui"in e.prototype)},Za([ut("componentMetadataProvider")],t.prototype,"componentMetadataProvider",void 0),t=Za([ct("agComponentUtils")],t)}(xt),el=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),tl=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},ol=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return el(t,e),t.prototype.postConstruct=function(){this.componentMetaData={dateComponent:{mandatoryMethodList:["getDate","setDate"],optionalMethodList:["afterGuiAttached","setInputPlaceholder"]},detailCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh"]},headerComponent:{mandatoryMethodList:[],optionalMethodList:[]},headerGroupComponent:{mandatoryMethodList:[],optionalMethodList:[]},loadingCellRenderer:{mandatoryMethodList:[],optionalMethodList:[]},loadingOverlayComponent:{mandatoryMethodList:[],optionalMethodList:[]},noRowsOverlayComponent:{mandatoryMethodList:[],optionalMethodList:[]},floatingFilterComponent:{mandatoryMethodList:["onParentModelChanged"],optionalMethodList:["afterGuiAttached"]},floatingFilterWrapperComponent:{mandatoryMethodList:[],optionalMethodList:[]},cellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},cellEditor:{mandatoryMethodList:["getValue"],optionalMethodList:["isPopup","isCancelBeforeStart","isCancelAfterEnd","getPopupPosition","focusIn","focusOut","afterGuiAttached"]},innerRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},fullWidthCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},pinnedRowCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},groupRowInnerRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},groupRowRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},filter:{mandatoryMethodList:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethodList:["afterGuiAttached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged"]},filterComponent:{mandatoryMethodList:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethodList:["afterGuiAttached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged"]},statusPanel:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"]},toolPanel:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"]},tooltipComponent:{mandatoryMethodList:[],optionalMethodList:[]}}},t.prototype.retrieve=function(e){return this.componentMetaData[e]},tl([ut("agComponentUtils")],t.prototype,"agComponentUtils",void 0),tl([at],t.prototype,"postConstruct",null),t=tl([ct("componentMetadataProvider")],t)}(xt),nl=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},il=function(){function e(){}return e.prototype.registerGridComp=function(e){this.gridPanel=e},e.prototype.postConstruct=function(){this.doingMasterDetail=this.gridOptionsWrapper.isMasterDetail()},nl([ut("paginationProxy")],e.prototype,"paginationProxy",void 0),nl([ut("context")],e.prototype,"context",void 0),nl([ut("columnApi")],e.prototype,"columnApi",void 0),nl([ut("gridApi")],e.prototype,"gridApi",void 0),nl([ut("gridOptionsWrapper")],e.prototype,"gridOptionsWrapper",void 0),nl([ut("expressionService")],e.prototype,"expressionService",void 0),nl([ut("rowRenderer")],e.prototype,"rowRenderer",void 0),nl([ut("$compile")],e.prototype,"$compile",void 0),nl([ut("templateService")],e.prototype,"templateService",void 0),nl([ut("valueService")],e.prototype,"valueService",void 0),nl([ut("eventService")],e.prototype,"eventService",void 0),nl([ut("columnController")],e.prototype,"columnController",void 0),nl([ut("headerNavigationService")],e.prototype,"headerNavigationService",void 0),nl([ut("columnAnimationService")],e.prototype,"columnAnimationService",void 0),nl([dt("rangeController")],e.prototype,"rangeController",void 0),nl([ut("focusController")],e.prototype,"focusController",void 0),nl([dt("contextMenuFactory")],e.prototype,"contextMenuFactory",void 0),nl([ut("cellRendererFactory")],e.prototype,"cellRendererFactory",void 0),nl([ut("popupService")],e.prototype,"popupService",void 0),nl([ut("valueFormatterService")],e.prototype,"valueFormatterService",void 0),nl([ut("stylingService")],e.prototype,"stylingService",void 0),nl([ut("columnHoverService")],e.prototype,"columnHoverService",void 0),nl([ut("userComponentFactory")],e.prototype,"userComponentFactory",void 0),nl([ut("animationFrameService")],e.prototype,"taskQueue",void 0),nl([ut("dragAndDropService")],e.prototype,"dragAndDropService",void 0),nl([ut("sortController")],e.prototype,"sortController",void 0),nl([ut("filterManager")],e.prototype,"filterManager",void 0),nl([ut("maxDivHeightScaler")],e.prototype,"maxDivHeightScaler",void 0),nl([ut("frameworkOverrides")],e.prototype,"frameworkOverrides",void 0),nl([ut("detailRowCompCache")],e.prototype,"detailRowCompCache",void 0),nl([ut("cellPositionUtils")],e.prototype,"cellPositionUtils",void 0),nl([ut("rowPositionUtils")],e.prototype,"rowPositionUtils",void 0),nl([ut("selectionController")],e.prototype,"selectionController",void 0),nl([dt("selectionHandleFactory")],e.prototype,"selectionHandleFactory",void 0),nl([at],e.prototype,"postConstruct",null),e=nl([ct("beans")],e)}(),rl=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),sl=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},al={"ag-theme-custom":{headerHeight:25,headerCellMinWidth:24,listItemHeight:20,rowHeight:25,chartMenuPanelWidth:220},"ag-theme-material":{headerHeight:56,headerCellMinWidth:48,listItemHeight:40,rowHeight:48,chartMenuPanelWidth:240},"ag-theme-balham":{headerHeight:32,headerCellMinWidth:24,listItemHeight:28,rowHeight:28,chartMenuPanelWidth:220},"ag-theme-alpine":{headerHeight:48,headerCellMinWidth:36,listItemHeight:30,rowHeight:42,chartMenuPanelWidth:240}},ll={headerHeight:["ag-header-row"],headerCellMinWidth:["ag-header-cell"],listItemHeight:["ag-virtual-list-item"],rowHeight:["ag-row"],chartMenuPanelWidth:["ag-chart-docked-container"]},cl={},ul=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return rl(t,e),t.prototype.getSassVariable=function(e,t){var o="ag-theme-"+(e.match("material")?"material":e.match("balham")?"balham":e.match("alpine")?"alpine":"custom"),n=al[o][t],i=0;if(cl[e]||(cl[e]={}),cl[e][t])return cl[e][t];if(ll[t]){var r=ll[t],s=document.createElement("div");s.style.position="absolute";var a=r.reduce((function(t,o,n){0===n&&et.addCssClass(t,e);var i=document.createElement("div");return i.style.position="static",et.addCssClass(i,o),t.appendChild(i),i}),s);if(document.body){document.body.appendChild(s);var l=-1!==t.toLowerCase().indexOf("height")?"height":"width";i=parseInt(window.getComputedStyle(a)[l],10),document.body.removeChild(s)}}return cl[e][t]=i||n,cl[e][t]},t.prototype.isThemeDark=function(){var e=this.getTheme().theme;return!!e&&e.indexOf("dark")>=0},t.prototype.chartMenuPanelWidth=function(){var e=this.getTheme().themeFamily;return this.getSassVariable(e,"chartMenuPanelWidth")},t.prototype.getTheme=function(){for(var e,t=/\bag-(material|(?:theme-([\w\-]*)))\b/,o=this.eGridDiv;o&&!(e=t.exec(o.className));)o=o.parentElement;if(!e)return{};var n=e[0];if(void 0===e[2]){var i=n.replace("ag-","ag-theme-");et.doOnce((function(){return console.warn("ag-Grid: As of v19 old theme are no longer provided. Please replace "+n+" with "+i+".")}),"using-old-theme")}return{theme:n,el:o,themeFamily:n.replace(/-dark$/,"")}},sl([ut("eGridDiv")],t.prototype,"eGridDiv",void 0),t=sl([ct("environment")],t)}(xt),dl=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),hl=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},pl=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.createTasksP1={list:[],sorted:!1},t.createTasksP2={list:[],sorted:!1},t.destroyTasks=[],t.ticking=!1,t.scrollGoingDown=!0,t.lastScrollTop=0,t.taskCount=0,t.cancelledTasks=new Set,t}return dl(t,e),t.prototype.setScrollTop=function(e){this.scrollGoingDown=e>this.lastScrollTop,this.lastScrollTop=e},t.prototype.init=function(){this.useAnimationFrame=!this.gridOptionsWrapper.isSuppressAnimationFrame()},t.prototype.verifyAnimationFrameOn=function(e){!1===this.useAnimationFrame&&console.warn("ag-Grid: AnimationFrameService."+e+" called but animation frames are off")},t.prototype.createTask=function(e,t,o){this.verifyAnimationFrameOn(o);var n={task:e,index:t,createOrder:++this.taskCount};this.addTaskToList(this[o],n),this.schedule()},t.prototype.cancelTask=function(e){this.cancelledTasks.add(e)},t.prototype.addTaskToList=function(e,t){e.list.push(t),e.sorted=!1},t.prototype.sortTaskList=function(e){if(!e.sorted){var t=this.scrollGoingDown?1:-1;e.list.sort((function(e,o){return e.index!==o.index?t*(o.index-e.index):o.createOrder-e.createOrder})),e.sorted=!0}},t.prototype.addDestroyTask=function(e){this.verifyAnimationFrameOn("createTasksP3"),this.destroyTasks.push(e),this.schedule()},t.prototype.executeFrame=function(e){this.verifyAnimationFrameOn("executeFrame");for(var t=this.createTasksP1,o=t.list,n=this.createTasksP2,i=n.list,r=this.destroyTasks,s=(new Date).getTime(),a=(new Date).getTime()-s,l=e<=0;l||a<e;){var c=void 0;if(o.length)this.sortTaskList(t),c=o.pop().task;else if(i.length)this.sortTaskList(n),c=i.pop().task;else{if(!r.length){this.cancelledTasks.clear();break}c=r.pop()}this.cancelledTasks.has(c)||c(),a=(new Date).getTime()-s}o.length||i.length||r.length?this.requestFrame():this.stopTicking()},t.prototype.stopTicking=function(){this.ticking=!1;var e={type:_t.EVENT_ANIMATION_QUEUE_EMPTY,columnApi:this.gridOptionsWrapper.getColumnApi(),api:this.gridOptionsWrapper.getApi()};this.eventService.dispatchEvent(e)},t.prototype.flushAllFrames=function(){this.useAnimationFrame&&this.executeFrame(-1)},t.prototype.schedule=function(){this.useAnimationFrame&&(this.ticking||(this.ticking=!0,this.requestFrame()))},t.prototype.requestFrame=function(){var e=this.executeFrame.bind(this,60);window.requestAnimationFrame?window.requestAnimationFrame(e):window.webkitRequestAnimationFrame?window.webkitRequestAnimationFrame(e):window.setTimeout(e,0)},t.prototype.isQueueEmpty=function(){return!this.ticking},hl([ut("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),hl([at],t.prototype,"init",null),t=hl([ct("animationFrameService")],t)}(xt),gl=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),fl=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},ml=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.timeLastPageEventProcessed=0,t}return gl(t,e),t.prototype.init=function(){this.scrollWidth=this.gridOptionsWrapper.getScrollbarWidth()},t.prototype.registerGridComp=function(e){this.gridPanel=e},t.prototype.handlePageScrollingKey=function(e){var t=e.which||e.keyCode,o=e.altKey,n=e.ctrlKey,i=this.mouseEventService.getCellPositionForEvent(e);if(!i)return!1;var r=!1;switch(t){case ze.KEY_PAGE_HOME:case ze.KEY_PAGE_END:n||o||(this.onHomeOrEndKey(t),r=!0);break;case ze.KEY_LEFT:case ze.KEY_RIGHT:n&&!o&&(this.onCtrlLeftOrRight(t,i),r=!0);break;case ze.KEY_UP:case ze.KEY_DOWN:n&&!o&&(this.onCtrlUpOrDown(t,i),r=!0);break;case ze.KEY_PAGE_DOWN:n||o||(this.onPageDown(i),r=!0);break;case ze.KEY_PAGE_UP:n||o||(this.onPageUp(i),r=!0)}return r&&e.preventDefault(),r},t.prototype.isTimeSinceLastPageEventToRecent=function(){return(new Date).getTime()-this.timeLastPageEventProcessed<100},t.prototype.setTimeLastPageEventProcessed=function(){this.timeLastPageEventProcessed=(new Date).getTime()},t.prototype.onPageDown=function(e){if(!this.isTimeSinceLastPageEventToRecent()){var t=this.gridPanel.getVScrollPosition(),o=t.bottom-t.top;this.gridPanel.isHorizontalScrollShowing()&&(o-=this.scrollWidth);var n=this.paginationProxy.getPixelOffset(),i=t.top+o,r=this.paginationProxy.getRowIndexAtPixel(i+n),s=this.paginationProxy.getRow(e.rowIndex).rowTop+o-n,a=this.paginationProxy.getRowIndexAtPixel(s+n),l=this.paginationProxy.getPageLastRow();a>l&&(a=l),r>l&&(r=l),this.navigateTo(r,"top",null,a,e.column),this.setTimeLastPageEventProcessed()}},t.prototype.onPageUp=function(e){if(!this.isTimeSinceLastPageEventToRecent()){var t=this.gridPanel.getVScrollPosition(),o=t.bottom-t.top;this.gridPanel.isHorizontalScrollShowing()&&(o-=this.scrollWidth);var n=this.paginationProxy.getPixelOffset(),i=t.top,r=this.paginationProxy.getRowIndexAtPixel(i+n),s=this.paginationProxy.getRow(e.rowIndex),a=s.rowTop+s.rowHeight-o-n,l=this.paginationProxy.getRowIndexAtPixel(a+n),c=this.paginationProxy.getPageFirstRow();l<c&&(l=c),r<c&&(r=c),this.navigateTo(r,"bottom",null,l,e.column),this.setTimeLastPageEventProcessed()}},t.prototype.navigateTo=function(e,t,o,n,i){if(et.exists(o)&&this.gridPanel.ensureColumnVisible(o),et.exists(e)&&this.gridPanel.ensureIndexVisible(e,t),this.animationFrameService.flushAllFrames(),this.focusController.setFocusedCell(n,i,null,!0),this.rangeController){var r={rowIndex:n,rowPinned:null,column:i};this.rangeController.setRangeToCell(r)}},t.prototype.onCtrlUpOrDown=function(e,t){var o=e===ze.KEY_UP?0:this.paginationProxy.getPageLastRow();this.navigateTo(o,null,t.column,o,t.column)},t.prototype.onCtrlLeftOrRight=function(e,t){var o=e===ze.KEY_LEFT,n=this.columnController.getAllDisplayedColumns(),i=o?n[0]:et.last(n);this.navigateTo(t.rowIndex,null,i,t.rowIndex,i)},t.prototype.onHomeOrEndKey=function(e){var t=e===ze.KEY_PAGE_HOME,o=this.columnController.getAllDisplayedColumns(),n=t?o[0]:et.last(o),i=t?0:this.paginationProxy.getPageLastRow();this.navigateTo(i,null,n,i,n)},fl([ut("mouseEventService")],t.prototype,"mouseEventService",void 0),fl([ut("paginationProxy")],t.prototype,"paginationProxy",void 0),fl([ut("focusController")],t.prototype,"focusController",void 0),fl([ut("animationFrameService")],t.prototype,"animationFrameService",void 0),fl([dt("rangeController")],t.prototype,"rangeController",void 0),fl([ut("columnController")],t.prototype,"columnController",void 0),fl([ut("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),fl([at],t.prototype,"init",null),t=fl([ct("navigationService")],t)}(xt),vl=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),yl=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Cl=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.scrollY=0,t.uiBodyHeight=0,t}return vl(t,e),t.prototype.postConstruct=function(){this.addManagedListener(this.eventService,_t.EVENT_BODY_HEIGHT_CHANGED,this.updateOffset.bind(this)),this.scrollBarWidth=this.gridOptionsWrapper.getScrollbarWidth(),this.maxDivHeight=et.getMaxDivHeight()},t.prototype.registerGridComp=function(e){this.gridPanel=e},t.prototype.isScaling=function(){return this.scaling},t.prototype.getOffset=function(){return this.offset},t.prototype.updateOffset=function(){if(this.scaling){var e=this.gridPanel.getVScrollPosition().top,t=this.getUiBodyHeight();(e!==this.scrollY||t!==this.uiBodyHeight)&&(this.scrollY=e,this.uiBodyHeight=t,this.calculateOffset())}},t.prototype.calculateOffset=function(){this.uiContainerHeight=this.maxDivHeight,this.pixelsToShave=this.modelHeight-this.uiContainerHeight,this.maxScrollY=this.uiContainerHeight-this.uiBodyHeight;var e=this.scrollY/this.maxScrollY;this.setOffset(e*this.pixelsToShave)},t.prototype.clearOffset=function(){this.uiContainerHeight=this.modelHeight,this.pixelsToShave=0,this.setOffset(0)},t.prototype.setOffset=function(e){var t="number"===typeof e?Math.floor(e):null;this.offset!==t&&(this.offset=t,this.eventService.dispatchEvent({type:_t.EVENT_HEIGHT_SCALE_CHANGED}))},t.prototype.setModelHeight=function(e){this.modelHeight=e,this.scaling=this.maxDivHeight>0&&e>this.maxDivHeight,this.scaling?this.calculateOffset():this.clearOffset()},t.prototype.getUiContainerHeight=function(){return this.uiContainerHeight},t.prototype.getRealPixelPosition=function(e){return e-this.offset},t.prototype.getUiBodyHeight=function(){var e=this.gridPanel.getVScrollPosition();return e.bottom-e.top},t.prototype.getScrollPositionForPixel=function(e){if(this.pixelsToShave<=0)return e;var t=e/(this.modelHeight-this.getUiBodyHeight());return this.maxScrollY*t},yl([ut("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),yl([at],t.prototype,"postConstruct",null),t=yl([ct("maxDivHeightScaler")],t)}(xt),wl=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),bl=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Sl=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return wl(t,e),t.prototype.init=function(){this.groupSelectsChildren=this.gridOptionsWrapper.isGroupSelectsChildren(),this.isRowSelectableFunc=this.gridOptionsWrapper.getIsRowSelectableFunc()},t.prototype.updateSelectableAfterGrouping=function(e){if(this.isRowSelectableFunc){this.recurseDown(e.childrenAfterGroup,(function(e){return e.childrenAfterGroup}))}},t.prototype.updateSelectableAfterFiltering=function(e){if(this.isRowSelectableFunc){this.recurseDown(e.childrenAfterGroup,(function(e){return e.childrenAfterFilter}))}},t.prototype.recurseDown=function(e,t){var o=this;e.forEach((function(e){if(e.group){var n;if(e.hasChildren()&&o.recurseDown(t(e),t),o.groupSelectsChildren){var i=et.find(t(e),"selectable",!0);n=et.exists(i)}else n=!!o.isRowSelectableFunc&&o.isRowSelectableFunc(e);e.setRowSelectable(n)}}))},bl([ut("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),bl([at],t.prototype,"init",null),t=bl([ct("selectableService")],t)}(xt),El=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Rl=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Pl=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return El(t,e),t.prototype.registerGridComp=function(e){this.gridPanel=e},t.prototype.getPreferredHeightForRow=function(e){var t=this;this.eDummyContainer||(this.eDummyContainer=document.createElement("div"),et.addCssClass(this.eDummyContainer,"ag-row ag-row-no-focus"));var o=this.gridPanel.getCenterContainer();o.appendChild(this.eDummyContainer);var n=[];this.columnController.getAllAutoRowHeightCols().filter((function(e){return e.isVisible()})).forEach((function(o){var i=new nr(t.$scope,t.beans,o,e,null,!0,!1);i.setParentRow(t.eDummyContainer),n.push(i)}));var i=n.map((function(e){return e.getCreateTemplate()})).join(" ");this.eDummyContainer.innerHTML=i,n.forEach((function(e){return e.afterAttached()}));for(var r=0,s=0;s<this.eDummyContainer.children.length;s++){var a=this.eDummyContainer.children[s];a.offsetHeight>r&&(r=a.offsetHeight)}return o.removeChild(this.eDummyContainer),n.forEach((function(e){e.detach(),e.destroy()})),et.clearElement(this.eDummyContainer),r},Rl([ut("beans")],t.prototype,"beans",void 0),Rl([ut("$scope")],t.prototype,"$scope",void 0),Rl([ut("columnController")],t.prototype,"columnController",void 0),t=Rl([ct("autoHeightCalculator")],t)}(xt),Ol=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),xl=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Tl=function(e){function t(){var t=e.call(this)||this;return t.previousAndFirstButtonsDisabled=!1,t.nextButtonDisabled=!1,t.lastButtonDisabled=!1,t}return Ol(t,e),t.prototype.postConstruct=function(){var e=this.gridOptionsWrapper.isEnableRtl();this.setTemplate(this.getTemplate()),this.btFirst.insertAdjacentElement("afterbegin",et.createIconNoSpan(e?"last":"first",this.gridOptionsWrapper)),this.btPrevious.insertAdjacentElement("afterbegin",et.createIconNoSpan(e?"next":"previous",this.gridOptionsWrapper)),this.btNext.insertAdjacentElement("afterbegin",et.createIconNoSpan(e?"previous":"next",this.gridOptionsWrapper)),this.btLast.insertAdjacentElement("afterbegin",et.createIconNoSpan(e?"first":"last",this.gridOptionsWrapper)),this.rowModel.getType()===ze.ROW_MODEL_TYPE_SERVER_SIDE&&(this.serverSideRowModel=this.rowModel),this.gridOptionsWrapper.isPagination()&&!this.gridOptionsWrapper.isSuppressPaginationPanel()?(this.addManagedListener(this.eventService,_t.EVENT_PAGINATION_CHANGED,this.onPaginationChanged.bind(this)),this.addManagedListener(this.btFirst,"click",this.onBtFirst.bind(this)),this.addManagedListener(this.btLast,"click",this.onBtLast.bind(this)),this.addManagedListener(this.btNext,"click",this.onBtNext.bind(this)),this.addManagedListener(this.btPrevious,"click",this.onBtPrevious.bind(this)),this.onPaginationChanged()):this.setDisplayed(!1)},t.prototype.onPaginationChanged=function(){this.enableOrDisableButtons(),this.updateRowLabels(),this.setCurrentPageLabel(),this.setTotalLabels()},t.prototype.onBtFirst=function(){this.previousAndFirstButtonsDisabled||this.paginationProxy.goToFirstPage()},t.prototype.setCurrentPageLabel=function(){var e=this.paginationProxy.getTotalPages()>0,t=this.paginationProxy.getCurrentPage(),o=e?t+1:0;this.lbCurrent.innerHTML=this.formatNumber(o)},t.prototype.formatNumber=function(e){var t=this.gridOptionsWrapper.getPaginationNumberFormatterFunc();return t?t({value:e}):et.formatNumberCommas(e)},t.prototype.getTemplate=function(){var e=this.gridOptionsWrapper.getLocaleTextFunc(),t=e("page","Page"),o=e("to","to"),n=e("of","of");return'<div class="ag-paging-panel ag-unselectable">\n                <span ref="eSummaryPanel" class="ag-paging-row-summary-panel">\n                    <span ref="lbFirstRowOnPage" class="ag-paging-row-summary-panel-number"></span>\n                    '+o+'\n                    <span ref="lbLastRowOnPage" class="ag-paging-row-summary-panel-number"></span>\n                    '+n+'\n                    <span ref="lbRecordCount" class="ag-paging-row-summary-panel-number"></span>\n                </span>\n                <span class="ag-paging-page-summary-panel">\n                    <div ref="btFirst" class="ag-paging-button-wrapper">\n                        <button type="button" class="ag-paging-button">'+e("first","First")+'</button>\n                    </div>\n                    <div ref="btPrevious" class="ag-paging-button-wrapper">\n                        <button type="button" class="ag-paging-button">'+e("previous","Previous")+'</button>\n                    </div>\n                    <span class="ag-paging-description">\n                        '+t+'\n                        <span ref="lbCurrent" class="ag-paging-number"></span>\n                        '+n+'\n                        <span ref="lbTotal" class="ag-paging-number"></span>\n                    </span>\n                    <span ref="lbTotal" class="ag-paging-number"></span>\n                    <div ref="btNext" class="ag-paging-button-wrapper">\n                        <button type="button" class="ag-paging-button">'+e("next","Next")+'</button>\n                    </div>\n                    <div ref="btLast" class="ag-paging-button-wrapper">\n                        <button type="button" class="ag-paging-button">'+e("last","Last")+"</button>\n                    </div>\n                </span>\n            </div>"},t.prototype.onBtNext=function(){this.nextButtonDisabled||this.paginationProxy.goToNextPage()},t.prototype.onBtPrevious=function(){this.previousAndFirstButtonsDisabled||this.paginationProxy.goToPreviousPage()},t.prototype.onBtLast=function(){this.lastButtonDisabled||this.paginationProxy.goToLastPage()},t.prototype.enableOrDisableButtons=function(){var e=this.paginationProxy.getCurrentPage(),t=this.paginationProxy.isLastPageFound(),o=this.paginationProxy.getTotalPages();this.previousAndFirstButtonsDisabled=0===e,et.addOrRemoveCssClass(this.btPrevious,"ag-disabled",this.previousAndFirstButtonsDisabled),et.addOrRemoveCssClass(this.btFirst,"ag-disabled",this.previousAndFirstButtonsDisabled);var n=this.isZeroPagesToDisplay(),i=t&&e===o-1;this.nextButtonDisabled=i||n,et.addOrRemoveCssClass(this.btNext,"ag-disabled",this.nextButtonDisabled),this.lastButtonDisabled=!t||n||e===o-1,et.addOrRemoveCssClass(this.btLast,"ag-disabled",this.lastButtonDisabled)},t.prototype.updateRowLabels=function(){var e,t,o=this.paginationProxy.getCurrentPage(),n=this.paginationProxy.getPageSize(),i=this.paginationProxy.isLastPageFound(),r=this.paginationProxy.isLastPageFound()?this.paginationProxy.getMasterRowCount():null;this.isZeroPagesToDisplay()?(e=0,t=0):(t=(e=n*o+1)+n-1,i&&t>r&&(t=r)),this.lbFirstRowOnPage.innerHTML=this.formatNumber(e),this.serverSideRowModel&&this.serverSideRowModel.isLoading()?this.lbLastRowOnPage.innerHTML="?":this.lbLastRowOnPage.innerHTML=this.formatNumber(t)},t.prototype.isZeroPagesToDisplay=function(){var e=this.paginationProxy.isLastPageFound(),t=this.paginationProxy.getTotalPages();return e&&0===t},t.prototype.setTotalLabels=function(){var e=this.paginationProxy.isLastPageFound(),t=this.paginationProxy.getTotalPages(),o=this.paginationProxy.isLastPageFound()?this.paginationProxy.getMasterRowCount():null;if(e)this.lbTotal.innerHTML=this.formatNumber(t),this.lbRecordCount.innerHTML=this.formatNumber(o);else{var n=this.gridOptionsWrapper.getLocaleTextFunc()("more","more");this.lbTotal.innerHTML=n,this.lbRecordCount.innerHTML=n}},xl([ut("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),xl([ut("paginationProxy")],t.prototype,"paginationProxy",void 0),xl([ut("rowRenderer")],t.prototype,"rowRenderer",void 0),xl([ut("rowModel")],t.prototype,"rowModel",void 0),xl([co("btFirst")],t.prototype,"btFirst",void 0),xl([co("btPrevious")],t.prototype,"btPrevious",void 0),xl([co("btNext")],t.prototype,"btNext",void 0),xl([co("btLast")],t.prototype,"btLast",void 0),xl([co("lbRecordCount")],t.prototype,"lbRecordCount",void 0),xl([co("lbFirstRowOnPage")],t.prototype,"lbFirstRowOnPage",void 0),xl([co("lbLastRowOnPage")],t.prototype,"lbLastRowOnPage",void 0),xl([co("eSummaryPanel")],t.prototype,"eSummaryPanel",void 0),xl([co("lbCurrent")],t.prototype,"lbCurrent",void 0),xl([co("lbTotal")],t.prototype,"lbTotal",void 0),xl([at],t.prototype,"postConstruct",null),t}(so),Dl=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Al=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Fl=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Dl(t,e),t.prototype.observeResize=function(e,t,o){void 0===o&&(o=50);var n=this.getFrameworkOverrides(),i=et.debounce(t,o),r=this.gridOptionsWrapper.isSuppressBrowserResizeObserver();return!!window.ResizeObserver&&!r?function(){var t=new window.ResizeObserver(i);return t.observe(e),function(){return t.disconnect()}}():function(){var i=et.offsetWidth(e),r=et.offsetHeight(e),s=!0,a=function(){if(s){var l=et.offsetWidth(e),c=et.offsetHeight(e);(l!==i||c!==r)&&(i=l,r=c,t()),n.setTimeout(a,o)}};return a(),function(){return s=!1}}()},Al([ut("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),t=Al([ct("resizeObserverService")],t)}(xt),_l=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Ml=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s};!function(e){e[e.Loading=0]="Loading",e[e.NoRows=1]="NoRows"}(ts||(ts={}));var Il=function(e){function t(){var o=e.call(this,t.TEMPLATE)||this;return o.inProgress=!1,o.destroyRequested=!1,o}return _l(t,e),t.prototype.postConstruct=function(){this.gridOptionsWrapper.addLayoutElement(this.eOverlayWrapper),this.setDisplayed(!1)},t.prototype.setWrapperTypeClass=function(e){et.addOrRemoveCssClass(this.eOverlayWrapper,"ag-overlay-loading-wrapper",e===ts.Loading),et.addOrRemoveCssClass(this.eOverlayWrapper,"ag-overlay-no-rows-wrapper",e===ts.NoRows)},t.prototype.showLoadingOverlay=function(){var e=this.userComponentFactory.newLoadingOverlayComponent({api:this.gridOptionsWrapper.getApi()});this.showOverlay(e,ts.Loading)},t.prototype.showNoRowsOverlay=function(){var e=this.userComponentFactory.newNoRowsOverlayComponent({api:this.gridOptionsWrapper.getApi()});this.showOverlay(e,ts.NoRows)},t.prototype.showOverlay=function(e,t){var o=this;this.inProgress||(this.setWrapperTypeClass(t),this.destroyActiveOverlay(),this.inProgress=!0,e.then((function(e){o.inProgress=!1,o.eOverlayWrapper.appendChild(e.getGui()),o.activeOverlay=e,o.destroyRequested&&(o.destroyRequested=!1,o.destroyActiveOverlay())})),this.setDisplayed(!0))},t.prototype.destroyActiveOverlay=function(){this.inProgress?this.destroyRequested=!0:this.activeOverlay&&(this.activeOverlay=this.getContext().destroyBean(this.activeOverlay),et.clearElement(this.eOverlayWrapper))},t.prototype.hideOverlay=function(){this.destroyActiveOverlay(),this.setDisplayed(!1)},t.prototype.destroy=function(){this.destroyActiveOverlay(),e.prototype.destroy.call(this)},t.TEMPLATE='\n        <div class="ag-overlay" aria-hidden="true">\n            <div class="ag-overlay-panel">\n                <div class="ag-overlay-wrapper" ref="eOverlayWrapper"></div>\n            </div>\n        </div>',Ml([ut("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),Ml([ut("userComponentFactory")],t.prototype,"userComponentFactory",void 0),Ml([co("eOverlayWrapper")],t.prototype,"eOverlayWrapper",void 0),Ml([at],t.prototype,"postConstruct",null),t}(so),Ll=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Nl=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},kl=function(e){function t(o){void 0===o&&(o={});var n=e.call(this,t.getTemplate(o))||this;n.suppressEnabledCheckbox=!0,n.suppressOpenCloseIcons=!1;var i=o.title,r=o.enabled,s=o.items,a=o.suppressEnabledCheckbox,l=o.suppressOpenCloseIcons;return n.title=i,n.cssIdentifier=o.cssIdentifier||"default",n.enabled=null==r||r,n.items=s||[],n.alignItems=o.alignItems||"center",null!=a&&(n.suppressEnabledCheckbox=a),null!=l&&(n.suppressOpenCloseIcons=l),n}return Ll(t,e),t.getTemplate=function(e){var t=e.cssIdentifier||"default";return'<div class="ag-group ag-'+t+'-group">\n            <div class="ag-group-title-bar ag-'+t+'-group-title-bar ag-unselectable" ref="eTitleBar">\n                <span class="ag-group-title-bar-icon ag-'+t+'-group-title-bar-icon" ref="eGroupOpenedIcon"></span>\n                <span class="ag-group-title-bar-icon ag-'+t+'-group-title-bar-icon" ref="eGroupClosedIcon"></span>\n                <span ref="eTitle" class="ag-group-title ag-'+t+'-group-title"></span>\n            </div>\n            <div ref="eToolbar" class="ag-group-toolbar ag-'+t+'-group-toolbar">\n                <ag-checkbox ref="cbGroupEnabled"></ag-checkbox>\n            </div>\n            <div ref="eContainer" class="ag-group-container ag-group-container-'+(e.direction||"vertical")+" ag-"+t+'-group-container"></div>\n        </div>'},t.prototype.postConstruct=function(){if(this.items.length){var e=this.items;this.items=[],this.addItems(e)}var t=this.gridOptionsWrapper.getLocaleTextFunc();this.cbGroupEnabled.setLabel(t("enabled","Enabled")),this.title&&this.setTitle(this.title),this.enabled&&this.setEnabled(this.enabled),this.setAlignItems(this.alignItems),this.hideEnabledCheckbox(this.suppressEnabledCheckbox),this.hideOpenCloseIcons(this.suppressOpenCloseIcons),this.setupExpandContract(),this.refreshChildDisplay()},t.prototype.setupExpandContract=function(){var e=this;this.eGroupClosedIcon.appendChild(et.createIcon("columnSelectClosed",this.gridOptionsWrapper,null)),this.eGroupOpenedIcon.appendChild(et.createIcon("columnSelectOpen",this.gridOptionsWrapper,null)),this.addManagedListener(this.eTitleBar,"click",(function(){return e.toggleGroupExpand()})),this.addManagedListener(this.eTitleBar,"keydown",(function(t){t.keyCode===ze.KEY_ENTER&&e.toggleGroupExpand()}))},t.prototype.refreshChildDisplay=function(){var e=!this.suppressOpenCloseIcons;et.setDisplayed(this.eGroupClosedIcon,e&&!this.expanded),et.setDisplayed(this.eGroupOpenedIcon,e&&this.expanded),et.setDisplayed(this.eToolbar,this.expanded&&!this.suppressEnabledCheckbox)},t.prototype.isExpanded=function(){return this.expanded},t.prototype.setAlignItems=function(e){var t=this.getGui();this.alignItems!==e&&et.removeCssClass(t,"ag-group-item-alignment-"+this.alignItems),this.alignItems=e;var o="ag-group-item-alignment-"+this.alignItems;return et.addCssClass(t,o),this},t.prototype.toggleGroupExpand=function(e){return this.suppressOpenCloseIcons?(this.expanded=!0,this.refreshChildDisplay(),et.setDisplayed(this.eContainer,!0),this):(e=null!=e?e:!this.expanded,this.expanded===e||(this.expanded=e,this.refreshChildDisplay(),et.setDisplayed(this.eContainer,e),this.expanded?this.dispatchEvent({type:t.EVENT_EXPANDED}):this.dispatchEvent({type:t.EVENT_COLLAPSED})),this)},t.prototype.addItems=function(e){var t=this;e.forEach((function(e){return t.addItem(e)}))},t.prototype.addItem=function(e){var t=this.eContainer,o=e instanceof so?e.getGui():e;et.addCssClass(o,"ag-group-item"),et.addCssClass(o,"ag-"+this.cssIdentifier+"-group-item"),t.appendChild(o),this.items.push(o)},t.prototype.hideItem=function(e,t){var o=this.items[t];et.addOrRemoveCssClass(o,"ag-hidden",e)},t.prototype.setTitle=function(e){return this.eTitle.innerText=e,this},t.prototype.addCssClassToTitleBar=function(e){et.addCssClass(this.eTitleBar,e)},t.prototype.setEnabled=function(e,t){return this.enabled=e,this.refreshDisabledStyles(),this.toggleGroupExpand(e),t||this.cbGroupEnabled.setValue(e),this},t.prototype.isEnabled=function(){return this.enabled},t.prototype.onEnableChange=function(e){var t=this;return this.cbGroupEnabled.onValueChange((function(o){t.setEnabled(o,!0),e(o)})),this},t.prototype.hideEnabledCheckbox=function(e){return this.suppressEnabledCheckbox=e,this.refreshChildDisplay(),this.refreshDisabledStyles(),this},t.prototype.hideOpenCloseIcons=function(e){return this.suppressOpenCloseIcons=e,e&&this.toggleGroupExpand(!0),this},t.prototype.refreshDisabledStyles=function(){et.addOrRemoveCssClass(this.getGui(),"ag-disabled",!this.enabled),this.suppressEnabledCheckbox&&!this.enabled?(et.addCssClass(this.eTitleBar,"ag-disabled-group-title-bar"),this.eTitleBar.removeAttribute("tabindex")):(et.removeCssClass(this.eTitleBar,"ag-disabled-group-title-bar"),this.eTitleBar.setAttribute("tabindex","0")),et.addOrRemoveCssClass(this.eContainer,"ag-disabled-group-container",!this.enabled)},t.EVENT_EXPANDED="expanded",t.EVENT_COLLAPSED="collapsed",Nl([ut("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),Nl([co("eTitleBar")],t.prototype,"eTitleBar",void 0),Nl([co("eGroupOpenedIcon")],t.prototype,"eGroupOpenedIcon",void 0),Nl([co("eGroupClosedIcon")],t.prototype,"eGroupClosedIcon",void 0),Nl([co("eToolbar")],t.prototype,"eToolbar",void 0),Nl([co("cbGroupEnabled")],t.prototype,"cbGroupEnabled",void 0),Nl([co("eTitle")],t.prototype,"eTitle",void 0),Nl([co("eContainer")],t.prototype,"eContainer",void 0),Nl([at],t.prototype,"postConstruct",null),t}(so),Gl=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Vl=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Hl=function(e){function t(o){var n=e.call(this,t.getTemplate(o))||this;return n.closable=!0,n.positioned=!1,n.dragStartPosition={x:0,y:0},n.position={x:0,y:0},n.size={width:void 0,height:void 0},n.config=o,n}return Gl(t,e),t.getTemplate=function(e){var t=e&&e.cssIdentifier||"default";return'<div class="ag-panel ag-'+t+'-panel" tabindex="-1">\n            <div ref="eTitleBar" class="ag-panel-title-bar ag-'+t+'-panel-title-bar ag-unselectable">\n                <span ref="eTitle" class="ag-panel-title-bar-title ag-'+t+'-panel-title-bar-title"></span>\n                <div ref="eTitleBarButtons" class="ag-panel-title-bar-buttons ag-'+t+'-panel-title-bar-buttons"></div>\n            </div>\n            <div ref="eContentWrapper" class="ag-panel-content-wrapper ag-'+t+'-panel-content-wrapper"></div>\n        </div>'},t.prototype.postConstruct=function(){var e=this,t=this.config,o=t.component,n=t.closable,i=t.hideTitleBar,r=t.title,s=t.minWidth,a=t.width,l=t.minHeight,c=t.height,u=t.centered,d=t.x,h=t.y,p=this.getGui();o&&this.setBodyComponent(o),i?et.addCssClass(this.eTitleBar,"ag-hidden"):(r&&this.setTitle(r),this.setClosable(null!=n?n:this.closable)),this.addManagedListener(this.eTitleBar,"mousedown",(function(t){if(p.contains(t.relatedTarget)||p.contains(document.activeElement)||e.eTitleBarButtons.contains(t.target))t.preventDefault();else{var o=e.eContentWrapper.querySelector("button, [href], input, select, textarea, [tabindex]");o&&o.focus()}})),this.positioned||(this.minHeight=null!=l?l:250,this.minWidth=null!=s?s:250,this.popupParent=this.popupService.getPopupParent(),a&&this.setWidth(a),c&&this.setHeight(c),this.renderComponent&&this.renderComponent(),a&&c||this.refreshSize(),u?this.center():(d||h)&&this.offsetElement(d,h),this.positioned=!0,this.eContentWrapper.style.height="0")},t.prototype.renderComponent=function(){var e=this,t=this.getGui();t.focus(),this.close=function(){t.parentElement.removeChild(t),e.destroy()}},t.prototype.updateDragStartPosition=function(e,t){this.dragStartPosition={x:e,y:t}},t.prototype.calculateMouseMovement=function(e){var t=this.popupParent.getBoundingClientRect(),o=e.e,n=e.isLeft,i=e.isTop,r=e.anywhereWithin,s=e.topBuffer,a=o.clientX-this.dragStartPosition.x,l=o.clientY-this.dragStartPosition.y,c=this.getWidth(),u=this.getHeight(),d=t.left>=o.clientX&&this.position.x<=0||t.right<=o.clientX&&t.right<=this.position.x+t.left+c;return d||(d=n?a<0&&o.clientX>this.position.x+t.left||a>0&&o.clientX<this.position.x+t.left:r?a<0&&o.clientX>this.position.x+t.left+c||a>0&&o.clientX<this.position.x+t.left:a<0&&o.clientX>this.position.x+t.left+c||a>0&&o.clientX<this.position.x+t.left+c),{movementX:a=d?0:a,movementY:l=t.top>=o.clientY&&this.position.y<=0||t.bottom<=o.clientY&&t.bottom<=this.position.y+t.top+u||i&&(l<0&&o.clientY>this.position.y+t.top+(s||0)||l>0&&o.clientY<this.position.y+t.top)||!i&&(l<0&&o.clientY>this.position.y+t.top+u||l>0&&o.clientY<this.position.y+t.top+u)?0:l}},t.prototype.refreshSize=function(){var e=this.size,t=e.width,o=e.height;t||this.setWidth(this.getGui().offsetWidth),o||this.setHeight(this.getGui().offsetHeight)},t.prototype.offsetElement=function(e,t){void 0===e&&(e=0),void 0===t&&(t=0);var o=this.getGui();this.popupService.positionPopup({ePopup:o,x:e,y:t,minWidth:this.minWidth,minHeight:this.minHeight,keepWithinBounds:!0}),this.position.x=parseInt(o.style.left,10),this.position.y=parseInt(o.style.top,10)},t.prototype.getHeight=function(){return this.size.height},t.prototype.setHeight=function(e){var t=this.getGui(),o=!1;if("string"===typeof e&&-1!==e.indexOf("%"))et.setFixedHeight(t,e),e=et.getAbsoluteHeight(t),o=!0;else{e=Math.max(this.minHeight,e);var n=t.offsetParent;n&&n.clientHeight&&e+this.position.y>n.clientHeight&&(e=n.clientHeight-this.position.y)}this.size.height!==e&&(this.size.height=e,o?(t.style.maxHeight="unset",t.style.minHeight="unset"):et.setFixedHeight(t,e))},t.prototype.getWidth=function(){return this.size.width},t.prototype.setWidth=function(e){var t=this.getGui(),o=!1;if("string"===typeof e&&-1!==e.indexOf("%"))et.setFixedWidth(t,e),e=et.getAbsoluteWidth(t),o=!0;else{e=Math.max(this.minWidth,e);var n=t.offsetParent;n&&n.clientWidth&&e+this.position.x>n.clientWidth&&(e=n.clientWidth-this.position.x)}this.size.width!==e&&(this.size.width=e,o?(t.style.maxWidth="unset",t.style.minWidth="unset"):et.setFixedWidth(t,e))},t.prototype.center=function(){var e=this.getGui(),t=e.offsetParent.clientWidth/2-this.getWidth()/2,o=e.offsetParent.clientHeight/2-this.getHeight()/2;this.offsetElement(t,o)},t.prototype.setClosable=function(e){if(e!==this.closable&&(this.closable=e),e){var o=this.closeButtonComp=new so(t.CLOSE_BTN_TEMPLATE);this.getContext().createBean(o),(n=o.getGui()).appendChild(et.addCssClass(et.createIconNoSpan("close",this.gridOptionsWrapper),"ag-panel-title-bar-button-icon")),this.addTitleBarButton(o),o.addManagedListener(n,"click",this.onBtClose.bind(this))}else if(this.closeButtonComp){var n;(n=this.closeButtonComp.getGui()).parentElement.removeChild(n),this.closeButtonComp=this.destroyBean(this.closeButtonComp)}},t.prototype.setBodyComponent=function(e){e.setParentComponent(this),this.eContentWrapper.appendChild(e.getGui())},t.prototype.addTitleBarButton=function(e,t){var o=this.eTitleBarButtons,n=o.children,i=n.length;null==t&&(t=i),t=Math.max(0,Math.min(t,i));var r=e.getGui();et.addCssClass(r,"ag-panel-title-bar-button"),0===t?o.insertAdjacentElement("afterbegin",r):t===i?o.insertAdjacentElement("beforeend",r):n[t-1].insertAdjacentElement("afterend",r),e.setParentComponent(this)},t.prototype.getBodyHeight=function(){return et.getInnerHeight(this.eContentWrapper)},t.prototype.getBodyWidth=function(){return et.getInnerWidth(this.eContentWrapper)},t.prototype.setTitle=function(e){this.eTitle.innerText=e},t.prototype.onBtClose=function(){this.close()},t.prototype.destroy=function(){this.closeButtonComp&&(this.closeButtonComp=this.destroyBean(this.closeButtonComp));var t=this.getGui();t&&t.offsetParent&&this.close(),e.prototype.destroy.call(this)},t.CLOSE_BTN_TEMPLATE='<div class="ag-button"></div>',Vl([ut("popupService")],t.prototype,"popupService",void 0),Vl([ut("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),Vl([co("eContentWrapper")],t.prototype,"eContentWrapper",void 0),Vl([co("eTitleBar")],t.prototype,"eTitleBar",void 0),Vl([co("eTitleBarButtons")],t.prototype,"eTitleBarButtons",void 0),Vl([co("eTitle")],t.prototype,"eTitle",void 0),Vl([at],t.prototype,"postConstruct",null),t}(so),Bl=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Wl=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},jl=function(e){function t(t){var o=e.call(this,t)||this;return o.RESIZE_TEMPLATE='<div class="ag-resizer-wrapper">\n            <div ref="eTopLeftResizer" class="ag-resizer ag-resizer-topLeft"></div>\n            <div ref="eTopResizer" class="ag-resizer ag-resizer-top"></div>\n            <div ref="eTopRightResizer" class="ag-resizer ag-resizer-topRight"></div>\n            <div ref="eRightResizer" class="ag-resizer ag-resizer-right"></div>\n            <div ref="eBottomRightResizer" class="ag-resizer ag-resizer-bottomRight"></div>\n            <div ref="eBottomResizer" class="ag-resizer ag-resizer-bottom"></div>\n            <div ref="eBottomLeftResizer" class="ag-resizer ag-resizer-bottomLeft"></div>\n            <div ref="eLeftResizer" class="ag-resizer ag-resizer-left"></div>\n        </div>',o.MAXIMIZE_BTN_TEMPLATE='<div class="ag-dialog-button"></span>',o.resizable={},o.movable=!1,o.isMoving=!1,o.isMaximizable=!1,o.isMaximized=!1,o.maximizeListeners=[],o.resizeListenerDestroy=null,o.isResizing=!1,o.lastPosition={x:0,y:0,width:0,height:0},o}return Bl(t,e),t.prototype.postConstruct=function(){var t=this,o=this.getGui(),n=this.config,i=n.movable,r=n.resizable,s=n.maximizable;et.addCssClass(o,"ag-dialog"),this.moveElement=this.eTitleBar,e.prototype.postConstruct.call(this),this.addManagedListener(o,"focusin",(function(e){o.contains(e.relatedTarget)||t.popupService.bringPopupToFront(o)})),i&&this.setMovable(i),s&&this.setMaximizable(s),this.addResizers(),r&&this.setResizable(r)},t.prototype.renderComponent=function(){var e=this.getGui(),t=this.config,o=t.alwaysOnTop,n=t.modal;this.close=this.popupService.addPopup(n,e,!0,this.destroy.bind(this),void 0,o),e.focus()},t.prototype.addResizers=function(){var e=this.getGui();if(e){var t=(new DOMParser).parseFromString(this.RESIZE_TEMPLATE,"text/html").body;e.appendChild(t.firstChild),this.createMap()}},t.prototype.createMap=function(){var e=this.getGui();this.resizerMap={topLeft:{element:e.querySelector("[ref=eTopLeftResizer]")},top:{element:e.querySelector("[ref=eTopResizer]")},topRight:{element:e.querySelector("[ref=eTopRightResizer]")},right:{element:e.querySelector("[ref=eRightResizer]")},bottomRight:{element:e.querySelector("[ref=eBottomRightResizer]")},bottom:{element:e.querySelector("[ref=eBottomResizer]")},bottomLeft:{element:e.querySelector("[ref=eBottomLeftResizer]")},left:{element:e.querySelector("[ref=eLeftResizer]")}}},t.prototype.getResizerElement=function(e){return this.resizerMap[e].element},t.prototype.onResizeStart=function(e){this.isResizing=!0,this.updateDragStartPosition(e.clientX,e.clientY)},t.prototype.onResize=function(e,t){if(this.isResizing){var o=!!t.match(/left/i),n=!!t.match(/right/i),i=!!t.match(/top/i),r=!!t.match(/bottom/i),s=o||n,a=i||r,l=this.calculateMouseMovement({e:e,isLeft:o,isTop:i}),c=l.movementX,u=l.movementY,d=0,h=0;if(s&&c){var p=o?-1:1,g=this.getWidth(),f=g+c*p,m=!1;o&&(d=g-f,(this.position.x+d<=0||f<=this.minWidth)&&(m=!0,d=0)),m||this.setWidth(f)}if(a&&u){p=i?-1:1;var v=this.getHeight(),y=v+u*p,C=!1;i&&(h=v-y,(this.position.y+h<=0||y<=this.minHeight)&&(C=!0,h=0)),C||this.setHeight(y)}this.updateDragStartPosition(e.clientX,e.clientY),(d||h)&&this.offsetElement(this.position.x+d,this.position.y+h)}},t.prototype.onResizeEnd=function(){this.isResizing=!1;var e={type:"resize",api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi()};this.dispatchEvent(e)},t.prototype.onMoveStart=function(e){this.isMoving=!0,this.updateDragStartPosition(e.clientX,e.clientY)},t.prototype.onMove=function(e){if(this.isMoving){var t=this.position,o=t.x,n=t.y,i=this.calculateMouseMovement({e:e,isTop:!0,anywhereWithin:!0,topBuffer:this.getHeight()-this.getBodyHeight()}),r=i.movementX,s=i.movementY;this.offsetElement(o+r,n+s),this.updateDragStartPosition(e.clientX,e.clientY)}},t.prototype.onMoveEnd=function(){this.isMoving=!1},t.prototype.toggleMaximize=function(){if(this.isMaximized){var e=this.lastPosition,t=e.x,o=e.y,n=e.width,i=e.height;this.setWidth(n),this.setHeight(i),this.offsetElement(t,o)}else this.lastPosition.width=this.getWidth(),this.lastPosition.height=this.getHeight(),this.lastPosition.x=this.position.x,this.lastPosition.y=this.position.y,this.offsetElement(0,0),this.setHeight("100%"),this.setWidth("100%");this.isMaximized=!this.isMaximized,this.refreshMaximizeIcon()},t.prototype.refreshMaximizeIcon=function(){et.addOrRemoveCssClass(this.maximizeIcon,"ag-hidden",this.isMaximized),et.addOrRemoveCssClass(this.minimizeIcon,"ag-hidden",!this.isMaximized)},t.prototype.clearMaximizebleListeners=function(){this.maximizeListeners.length&&(this.maximizeListeners.forEach((function(e){return e()})),this.maximizeListeners.length=0),this.resizeListenerDestroy&&(this.resizeListenerDestroy(),this.resizeListenerDestroy=null)},t.prototype.destroy=function(){this.setResizable(!1),this.setMovable(!1),this.maximizeButtonComp=this.destroyBean(this.maximizeButtonComp),this.clearMaximizebleListeners(),e.prototype.destroy.call(this)},t.prototype.setResizable=function(e){var t=this;"boolean"===typeof e&&(e={topLeft:e,top:e,topRight:e,right:e,bottomRight:e,bottom:e,bottomLeft:e,left:e}),Object.keys(e).forEach((function(o){var n=o,i=!!e[n],r=t.getResizerElement(n),s=t.resizerMap[n].dragSource||{eElement:r,onDragStart:t.onResizeStart.bind(t),onDragging:function(e){return t.onResize(e,n)},onDragStop:t.onResizeEnd.bind(t)};!!t.resizable[n]===i&&(t.isAlive()||i)||(i?(t.dragService.addDragSource(s),r.style.pointerEvents="all"):(t.dragService.removeDragSource(s),r.style.pointerEvents="none"),t.resizerMap[n].dragSource=i?s:void 0)}))},t.prototype.setMovable=function(e){if(e!==this.movable){this.movable=e;var t=this.moveElementDragListener||{eElement:this.moveElement,onDragStart:this.onMoveStart.bind(this),onDragging:this.onMove.bind(this),onDragStop:this.onMoveEnd.bind(this)};e?(this.dragService.addDragSource(t),this.moveElementDragListener=t):(this.dragService.removeDragSource(t),this.moveElementDragListener=void 0)}},t.prototype.setMaximizable=function(e){var t=this;if(!1===e)return this.clearMaximizebleListeners(),void(this.maximizeButtonComp&&(this.destroyBean(this.maximizeButtonComp),this.maximizeButtonComp=this.maximizeIcon=this.minimizeIcon=void 0));var o=this.eTitleBar;if(o&&e!==this.isMaximizable){var n=this.maximizeButtonComp=new so(this.MAXIMIZE_BTN_TEMPLATE);this.getContext().createBean(n);var i=n.getGui();i.appendChild(this.maximizeIcon=et.createIconNoSpan("maximize",this.gridOptionsWrapper)),et.addCssClass(this.maximizeIcon,"ag-panel-title-bar-button-icon"),i.appendChild(this.minimizeIcon=et.createIconNoSpan("minimize",this.gridOptionsWrapper)),et.addCssClass(this.minimizeIcon,"ag-panel-title-bar-button-icon"),et.addCssClass(this.minimizeIcon,"ag-hidden"),n.addManagedListener(i,"click",this.toggleMaximize.bind(this)),this.addTitleBarButton(n,0),this.maximizeListeners.push(this.addManagedListener(o,"dblclick",this.toggleMaximize.bind(this))),this.resizeListenerDestroy=this.addManagedListener(this,"resize",(function(){t.isMaximized=!1,t.refreshMaximizeIcon()}))}},Wl([ut("dragService")],t.prototype,"dragService",void 0),t}(Hl),zl=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Ul=function(e){function t(t){var o=e.call(this)||this;return o.className="ag-text-field",o.displayTag="input",o.inputType="text",o.setTemplate(o.TEMPLATE.replace(/%displayField%/g,o.displayTag)),t&&(o.config=t),o}return zl(t,e),t.prototype.setValue=function(t,o){var n=e.prototype.setValue.call(this,t,o);return this.eInput.value!==t&&(this.eInput.value=et.exists(t)?t:""),n},t}(Xo),$l=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Kl=function(e){function t(t){var o=e.call(this)||this;return o.className="ag-text-area",o.displayTag="textarea",o.inputType="",o.setTemplate(o.TEMPLATE.replace(/%displayField%/g,o.displayTag)),t&&(o.config=t),o}return $l(t,e),t.prototype.setValue=function(t,o){var n=e.prototype.setValue.call(this,t,o);return this.eInput.value=t,n},t.prototype.setCols=function(e){return this.eInput.cols=e,this},t.prototype.setRows=function(e){return this.eInput.rows=e,this},t}(Xo),Yl=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),ql=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Xl=function(e){function t(){var o=e.call(this,t.TEMPLATE)||this;return o.labelAlignment="top",o}return Yl(t,e),t.prototype.init=function(){et.addCssClass(this.eSlider.getGui(),"ag-slider-field")},t.prototype.onValueChange=function(e){var t=this,o=Ko.EVENT_CHANGED;return this.addManagedListener(this.eText,o,(function(){var o=parseFloat(t.eText.getValue());t.eSlider.setValue(o.toString(),!0),e(o||0)})),this.addManagedListener(this.eSlider,o,(function(){var o=t.eSlider.getValue();t.eText.setValue(o,!0),e(parseFloat(o))})),this},t.prototype.setSliderWidth=function(e){return this.eSlider.setWidth(e),this},t.prototype.setTextFieldWidth=function(e){return this.eText.setWidth(e),this},t.prototype.setMinValue=function(e){return this.eSlider.setMinValue(e),this.eText.setMin(e),this},t.prototype.setMaxValue=function(e){return this.eSlider.setMaxValue(e),this.eText.setMax(e),this},t.prototype.getValue=function(){return this.eText.getValue()},t.prototype.setValue=function(e){return this.getValue()===e||(this.eText.setValue(e,!0),this.eSlider.setValue(e,!0),this.dispatchEvent({type:Ko.EVENT_CHANGED})),this},t.prototype.setStep=function(e){return this.eSlider.setStep(e),this.eText.setStep(e),this},t.TEMPLATE='<div class="ag-slider">\n            <label ref="eLabel"></label>\n            <div class="ag-wrapper ag-slider-wrapper">\n                <ag-input-range ref="eSlider"></ag-input-range>\n                <ag-input-number-field ref="eText"></ag-input-number-field>\n            </div>\n        </div>',ql([co("eLabel")],t.prototype,"eLabel",void 0),ql([co("eSlider")],t.prototype,"eSlider",void 0),ql([co("eText")],t.prototype,"eText",void 0),ql([at],t.prototype,"init",null),t}(Uo),Ql=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Zl=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Jl=function(e){function t(o){var n=e.call(this,t.TEMPLATE)||this;return n.H=1,n.S=1,n.B=1,n.A=1,n.isSpectrumDragging=!1,n.isSpectrumHueDragging=!1,n.isSpectrumAlphaDragging=!1,n.colorChanged=!1,n.picker=o.picker,n}return Ql(t,e),t.prototype.postConstruct=function(){var e=this.getGui();this.initRecentColors(),this.addManagedListener(this.spectrumVal,"mousedown",this.onSpectrumDraggerDown.bind(this)),this.addManagedListener(e,"mousemove",this.onSpectrumDraggerMove.bind(this)),this.addManagedListener(this.spectrumHue,"mousedown",this.onSpectrumHueDown.bind(this)),this.addManagedListener(e,"mousemove",this.onSpectrumHueMove.bind(this)),this.addManagedListener(this.spectrumAlpha,"mousedown",this.onSpectrumAlphaDown.bind(this)),this.addManagedListener(e,"mousemove",this.onSpectrumAlphaMove.bind(this)),this.addManagedListener(document,"mouseup",this.onMouseUp.bind(this)),this.addManagedListener(this.recentColors,"click",this.onRecentColorClick.bind(this))},t.prototype.refreshSpectrumRect=function(){return this.spectrumValRect=this.spectrumVal.getBoundingClientRect()},t.prototype.refreshHueRect=function(){return this.spectrumHueRect=this.spectrumHue.getBoundingClientRect()},t.prototype.refreshAlphaRect=function(){return this.spectrumAlphaRect=this.spectrumAlpha.getBoundingClientRect()},t.prototype.onSpectrumDraggerDown=function(e){this.refreshSpectrumRect(),this.isSpectrumDragging=!0,this.moveDragger(e)},t.prototype.onSpectrumDraggerMove=function(e){this.isSpectrumDragging&&this.moveDragger(e)},t.prototype.onSpectrumHueDown=function(e){this.refreshHueRect(),this.isSpectrumHueDragging=!0,this.moveHueSlider(e)},t.prototype.onSpectrumHueMove=function(e){this.isSpectrumHueDragging&&this.moveHueSlider(e)},t.prototype.onSpectrumAlphaDown=function(e){this.refreshAlphaRect(),this.isSpectrumAlphaDragging=!0,this.moveAlphaSlider(e)},t.prototype.onSpectrumAlphaMove=function(e){this.isSpectrumAlphaDragging&&this.moveAlphaSlider(e)},t.prototype.onMouseUp=function(){this.isSpectrumDragging=!1,this.isSpectrumHueDragging=!1,this.isSpectrumAlphaDragging=!1},t.prototype.moveDragger=function(e){var t=this.spectrumValRect;if(t){var o=e.clientX-t.left,n=e.clientY-t.top;o=Math.max(o,0),o=Math.min(o,t.width),n=Math.max(n,0),n=Math.min(n,t.height),this.setSpectrumValue(o/t.width,1-n/t.height)}},t.prototype.moveHueSlider=function(e){var t=this.spectrumHueRect;if(t){var o=this.spectrumHueSlider,n=o.getBoundingClientRect(),i=e.clientX-t.left;i=Math.max(i,0),i=Math.min(i,t.width),this.H=1-i/t.width,o.style.left=i+n.width/2+"px",this.update()}},t.prototype.moveAlphaSlider=function(e){var t=this.spectrumAlphaRect;if(t){var o=this.spectrumAlphaSlider,n=o.getBoundingClientRect(),i=e.clientX-t.left;i=Math.max(i,0),i=Math.min(i,t.width),this.A=i/t.width,o.style.left=i+n.width/2+"px",this.update()}},t.prototype.update=function(){var e=n.fromHSB(360*this.H,this.S,this.B,this.A),t=n.fromHSB(360*this.H,1,1),o=e.toRgbaString(),i=this.picker;n.fromString(i.getValue()).toRgbaString()!==o&&(this.colorChanged=!0),i.setValue(o),this.spectrumColor.style.backgroundColor=t.toRgbaString(),this.spectrumDragger.style.backgroundColor=o},t.prototype.setSpectrumValue=function(e,t){var o=this.spectrumValRect||this.refreshSpectrumRect();if(o){var n=this.spectrumDragger,i=n.getBoundingClientRect();e=Math.max(0,e),e=Math.min(1,e),t=Math.max(0,t),t=Math.min(1,t),this.S=e,this.B=t,n.style.left=e*o.width-i.width/2+"px",n.style.top=(1-t)*o.height-i.height/2+"px",this.update()}},t.prototype.initRecentColors=function(){var e=t.recentColors.map((function(e,t){return'<div class="ag-recent-color" id='+t+' style="background-color: '+e+'; width: 15px; height: 15px;" recent-color="'+e+'"></div>'}));this.recentColors.innerHTML=e.join("")},t.prototype.setValue=function(e){var t=n.fromString(e),o=t.toHSB(),i=o[0],r=o[1],s=o[2];this.H=(isNaN(i)?0:i)/360,this.A=t.a;var a=this.spectrumHueRect||this.refreshHueRect(),l=this.spectrumAlphaRect||this.refreshAlphaRect();this.spectrumHueSlider.style.left=(this.H-1)*-a.width+"px",this.spectrumAlphaSlider.style.left=this.A*l.width+"px",this.setSpectrumValue(r,s)},t.prototype.onRecentColorClick=function(e){var o=e.target;if(et.exists(o.id)){var n=parseInt(o.id,10);this.setValue(t.recentColors[n]),this.destroy()}},t.prototype.addRecentColor=function(){var e=n.fromHSB(360*this.H,this.S,this.B,this.A).toRgbaString(),o=t.recentColors;this.colorChanged&&o[0]!==e&&(o=o.filter((function(t){return t!=e})),(o=[e].concat(o)).length>t.maxRecentColors&&(o=o.slice(0,t.maxRecentColors)),t.recentColors=o)},t.prototype.destroy=function(){this.addRecentColor(),e.prototype.destroy.call(this)},t.maxRecentColors=8,t.recentColors=[],t.TEMPLATE='<div class="ag-color-panel">\n            <div ref="spectrumColor" class="ag-spectrum-color">\n                <div class="ag-spectrum-sat ag-spectrum-fill">\n                    <div ref="spectrumVal" class="ag-spectrum-val ag-spectrum-fill">\n                        <div ref="spectrumDragger" class="ag-spectrum-dragger"></div>\n                    </div>\n                </div>\n            </div>\n            <div class="ag-spectrum-tools">\n                <div ref="spectrumHue" class="ag-spectrum-hue ag-spectrum-tool">\n                    <div class="ag-spectrum-hue-background"></div>\n                    <div ref="spectrumHueSlider" class="ag-spectrum-slider"></div>\n                </div>\n                <div ref="spectrumAlpha" class="ag-spectrum-alpha ag-spectrum-tool">\n                    <div class="ag-spectrum-alpha-background"></div>\n                    <div ref="spectrumAlphaSlider" class="ag-spectrum-slider"></div>\n                </div>\n                <div ref="recentColors" class="ag-recent-colors"></div>\n            </div>\n        </div>',Zl([co("spectrumColor")],t.prototype,"spectrumColor",void 0),Zl([co("spectrumVal")],t.prototype,"spectrumVal",void 0),Zl([co("spectrumDragger")],t.prototype,"spectrumDragger",void 0),Zl([co("spectrumHue")],t.prototype,"spectrumHue",void 0),Zl([co("spectrumHueSlider")],t.prototype,"spectrumHueSlider",void 0),Zl([co("spectrumAlpha")],t.prototype,"spectrumAlpha",void 0),Zl([co("spectrumAlphaSlider")],t.prototype,"spectrumAlphaSlider",void 0),Zl([co("recentColors")],t.prototype,"recentColors",void 0),Zl([at],t.prototype,"postConstruct",null),t}(so),ec=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),tc=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},oc=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.TEMPLATE='<div class="ag-picker-field" role="presentation">\n            <label ref="eLabel"></label>\n            <div ref="eWrapper" class="ag-wrapper ag-picker-field-wrapper" tabIndex="-1">\n                <%displayField% ref="eDisplayField" class="ag-picker-field-display"></%displayField%>\n                <div ref="eIcon" class="ag-picker-field-icon"></div>\n            </div>\n        </div>',t.isDestroyingPicker=!1,t.skipClick=!1,t}return ec(t,e),t.prototype.postConstruct=function(){var t=this;e.prototype.postConstruct.call(this);var o=function(){t.skipClick?t.skipClick=!1:t.isDisabled()||(t.pickerComponent=t.showPicker())},n=this.getGui();this.addManagedListener(n,"mousedown",(function(e){!t.skipClick&&t.pickerComponent&&t.pickerComponent.isAlive()&&et.isVisible(t.pickerComponent.getGui())&&n.contains(e.target)&&(t.skipClick=!0)})),this.addManagedListener(n,"keydown",(function(e){switch(e.keyCode){case ze.KEY_UP:case ze.KEY_DOWN:case ze.KEY_ENTER:case ze.KEY_SPACE:o();case ze.KEY_ESCAPE:e.preventDefault()}})),this.addManagedListener(this.eWrapper,"click",o),this.addManagedListener(this.eLabel,"click",o),this.pickerIcon&&this.eIcon.appendChild(et.createIconNoSpan(this.pickerIcon,this.gridOptionsWrapper,null))},t.prototype.setInputWidth=function(e){return et.setElementWidth(this.eWrapper,e),this},t.prototype.getFocusableElement=function(){return this.eWrapper},tc([ut("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),tc([co("eLabel")],t.prototype,"eLabel",void 0),tc([co("eWrapper")],t.prototype,"eWrapper",void 0),tc([co("eDisplayField")],t.prototype,"eDisplayField",void 0),tc([co("eIcon")],t.prototype,"eIcon",void 0),t}(Ko),nc=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),ic=function(e){function t(t){var o=e.call(this)||this;return o.displayTag="div",o.className="ag-color-picker",o.pickerIcon="colorPicker",o.setTemplate(o.TEMPLATE.replace(/%displayField%/g,o.displayTag)),t&&t.color&&(o.value=t.color),o}return nc(t,e),t.prototype.postConstruct=function(){e.prototype.postConstruct.call(this),this.value&&this.setValue(this.value)},t.prototype.showPicker=function(){var e=this,t=this.getGui().getBoundingClientRect(),o=new jl({closable:!1,modal:!0,hideTitleBar:!0,minWidth:190,width:190,height:250,x:t.right-190,y:t.top-250});this.createBean(o),et.addCssClass(o.getGui(),"ag-color-dialog");var n=new Jl({picker:this});return this.createBean(n),n.addDestroyFunc((function(){o.isAlive()&&e.destroyBean(o)})),o.setParentComponent(this),o.setBodyComponent(n),n.setValue(this.getValue()),o.addDestroyFunc((function(){e.isDestroyingPicker?e.isDestroyingPicker=!1:(e.isDestroyingPicker=!0,n.isAlive()&&e.destroyBean(n)),e.isAlive()&&e.getFocusableElement().focus()})),o},t.prototype.setValue=function(e){return this.value===e||(this.value=e,this.eDisplayField.style.backgroundColor=e,this.dispatchEvent({type:Ko.EVENT_CHANGED})),this},t.prototype.getValue=function(){return this.value},t}(oc),rc=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),sc=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.className="ag-number-field",t.inputType="number",t}return rc(t,e),t.prototype.postConstruct=function(){var t=this;e.prototype.postConstruct.call(this),this.addManagedListener(this.eInput,"blur",(function(){var e=parseFloat(t.eInput.value),o=isNaN(e)?"":t.normalizeValue(e.toString());t.value!==o&&t.setValue(o)}))},t.prototype.normalizeValue=function(e){if(""===e)return"";this.precision&&(e=this.adjustPrecision(e));var t=parseFloat(e);return null!=this.min&&t<this.min?e=this.min.toString():null!=this.max&&t>this.max&&(e=this.max.toString()),e},t.prototype.adjustPrecision=function(e){if(this.precision){var t=parseFloat(e).toFixed(this.precision);e=parseFloat(t).toString()}return e},t.prototype.setMin=function(e){return this.min===e||(this.min=e,null!=this.min?this.eInput.setAttribute("min",e.toString()):this.eInput.removeAttribute("min")),this},t.prototype.setMax=function(e){return this.max===e||(this.max=e,null!=this.max?this.eInput.setAttribute("max",e.toString()):this.eInput.removeAttribute("max")),this},t.prototype.setPrecision=function(e){return this.precision=e,this},t.prototype.setStep=function(e){return this.step===e||(this.step=e,null!=e?this.eInput.setAttribute("step",e.toString()):this.eInput.removeAttribute("step")),this},t.prototype.setValue=function(t,o){return(t=this.adjustPrecision(t))!=this.normalizeValue(t)?this:e.prototype.setValue.call(this,t,o)},t}(Ul),ac=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),lc=function(e){function t(t){var o=e.call(this)||this;return o.className="ag-range-field",o.displayTag="input",o.inputType="range",o.setTemplate(o.TEMPLATE.replace(/%displayField%/g,o.displayTag)),t&&(o.config=t),o}return ac(t,e),t.prototype.postConstruct=function(){e.prototype.postConstruct.call(this);var t=this.config,o=t.min,n=t.max,i=t.step;null!=o&&this.setMinValue(o),null!=n&&this.setMaxValue(n),this.setStep(i||1)},t.prototype.addInputListeners=function(){var e=this,t=et.isBrowserIE()?"change":"input";this.addManagedListener(this.eInput,t,(function(t){var o=t.target.value;e.setValue(o)}))},t.prototype.setMinValue=function(e){return this.min=e,this.eInput.setAttribute("min",e.toString()),this},t.prototype.setMaxValue=function(e){return this.max=e,this.eInput.setAttribute("max",e.toString()),this},t.prototype.setStep=function(e){return this.step=e,this.eInput.setAttribute("step",e.toString()),this},t.prototype.setValue=function(t,o){null!=this.min&&(t=Math.max(parseFloat(t),this.min).toString()),null!=this.max&&(t=Math.min(parseFloat(t),this.max).toString());var n=e.prototype.setValue.call(this,t,o);return this.eInput.value=t,n},t}(Xo),cc=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),uc=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},dc=function(e){function t(o){void 0===o&&(o="default");var n=e.call(this,t.getTemplate(o))||this;return n.cssIdentifier=o,n.options=[],n.itemEls=[],n}return cc(t,e),t.prototype.init=function(){this.addManagedListener(this.getGui(),"keydown",this.handleKeyDown.bind(this))},t.getTemplate=function(e){return'<div class="ag-list ag-'+e+'-list"></div>'},t.prototype.handleKeyDown=function(e){var t=e.keyCode;switch(t){case ze.KEY_ENTER:if(this.highlightedEl){var o=this.itemEls.indexOf(this.highlightedEl);this.setValueByIndex(o)}else this.setValue(this.getValue());break;case ze.KEY_DOWN:case ze.KEY_UP:var n=t===ze.KEY_DOWN,i=void 0;if(e.preventDefault(),this.highlightedEl){var r=this.itemEls.indexOf(this.highlightedEl)+(n?1:-1);r=Math.min(Math.max(r,0),this.itemEls.length-1),i=this.itemEls[r]}else i=this.itemEls[n?0:this.itemEls.length-1];this.highlightItem(i)}},t.prototype.addOptions=function(e){var t=this;return e.forEach((function(e){return t.addOption(e)})),this},t.prototype.addOption=function(e){var t=e.value,o=e.text,n=et.escape(void 0===o?t:o);return this.options.push({value:t,text:n}),this.renderOption(n),this},t.prototype.renderOption=function(e){var t=this,o=document.createElement("div"),n=document.createElement("span");et.addCssClass(o,"ag-list-item"),et.addCssClass(o,"ag-"+this.cssIdentifier+"-list-item"),o.tabIndex=-1,n.innerHTML=e,this.itemEls.push(o),this.addManagedListener(o,"mouseover",(function(e){return t.highlightItem(o)})),this.addManagedListener(o,"mouseleave",(function(){return t.clearHighlighted()})),this.addManagedListener(o,"click",(function(){var e=t.itemEls.indexOf(o);t.setValueByIndex(e)})),o.appendChild(n),this.getGui().appendChild(o)},t.prototype.setValue=function(e,t){if(this.value===e)return this.fireItemSelected(),this;if(null==e)return this.reset(),this;var o=et.findIndex(this.options,(function(t){return t.value===e}));if(-1!==o){var n=this.options[o];this.value=n.value,this.displayValue=null!=n.text?n.text:n.value,this.highlightItem(this.itemEls[o]),t||this.fireChangeEvent()}return this},t.prototype.setValueByIndex=function(e){return this.setValue(this.options[e].value)},t.prototype.getValue=function(){return this.value},t.prototype.getDisplayValue=function(){return this.displayValue},t.prototype.refreshHighlighted=function(){var e=this;this.clearHighlighted();var t=et.findIndex(this.options,(function(t){return t.value===e.value}));-1!==t&&this.highlightItem(this.itemEls[t])},t.prototype.reset=function(){this.value=null,this.displayValue=null,this.clearHighlighted(),this.fireChangeEvent()},t.prototype.highlightItem=function(e){e.offsetParent&&(et.radioCssClass(e,"ag-active-item"),this.highlightedEl=e,this.highlightedEl.focus())},t.prototype.clearHighlighted=function(){this.highlightedEl&&this.highlightedEl.offsetParent&&(et.removeCssClass(this.highlightedEl,"ag-active-item"),this.highlightedEl=null)},t.prototype.fireChangeEvent=function(){this.dispatchEvent({type:Ko.EVENT_CHANGED}),this.fireItemSelected()},t.prototype.fireItemSelected=function(){this.dispatchEvent({type:t.EVENT_ITEM_SELECTED})},t.EVENT_ITEM_SELECTED="selectedItem",uc([at],t.prototype,"init",null),t}(so),hc=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),pc=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},gc=function(e){function t(t){var o=e.call(this)||this;return o.displayTag="div",o.className="ag-select",o.pickerIcon="smallDown",o.setTemplate(o.TEMPLATE.replace(/%displayField%/g,o.displayTag)),o}return hc(t,e),t.prototype.init=function(){var e=this;this.listComponent=new dc("select"),this.getContext().createBean(this.listComponent),this.listComponent.setParentComponent(this),this.eWrapper.tabIndex=0,this.listComponent.addManagedListener(this.listComponent,dc.EVENT_ITEM_SELECTED,(function(){e.hideList&&e.hideList()})),this.listComponent.addManagedListener(this.listComponent,Ko.EVENT_CHANGED,(function(){e.setValue(e.listComponent.getValue(),!1,!0),e.hideList&&e.hideList()}))},t.prototype.showPicker=function(){var e=this,t=this.listComponent.getGui(),o=this.addManagedListener(document.body,"wheel",(function(o){!t.contains(o.target)&&e.hideList&&e.hideList()})),n=this.addManagedListener(t,"focusout",(function(o){!t.contains(o.relatedTarget)&&e.hideList&&e.hideList()}));return this.hideList=this.popupService.addPopup(!0,t,!0,(function(){e.hideList=null,n(),o(),e.isAlive()&&e.getFocusableElement().focus()})),et.setElementWidth(t,et.getAbsoluteWidth(this.eWrapper)),t.style.maxHeight=et.getInnerHeight(this.popupService.getPopupParent())+"px",t.style.position="absolute",this.popupService.positionPopupUnderComponent({type:"ag-list",eventSource:this.eWrapper,ePopup:t,keepWithinBounds:!0}),this.listComponent.refreshHighlighted(),this.listComponent},t.prototype.addOptions=function(e){var t=this;return e.forEach((function(e){return t.addOption(e)})),this},t.prototype.addOption=function(e){return this.listComponent.addOption(e),this},t.prototype.setValue=function(t,o,n){if(this.value!==t&&(n||this.listComponent.setValue(t,!0),this.listComponent.getValue()!==this.getValue()))return this.eDisplayField.innerHTML=this.listComponent.getDisplayValue(),e.prototype.setValue.call(this,t,o)},t.prototype.destroy=function(){this.hideList&&this.hideList(),this.getContext().destroyBean(this.listComponent),e.prototype.destroy.call(this)},pc([ut("popupService")],t.prototype,"popupService",void 0),pc([at],t.prototype,"init",null),t}(oc),fc=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),mc=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},vc=function(e){function t(){var o=e.call(this,t.TEMPLATE)||this;return o.radius=0,o.offsetX=0,o.offsetY=0,o}return fc(t,e),t.prototype.postConstruct=function(){var t=this;e.prototype.postConstruct.call(this),this.dragListener={eElement:this.eParentCircle,dragStartPixels:0,onDragStart:function(e){t.parentCircleRect=t.eParentCircle.getBoundingClientRect()},onDragging:function(e){return t.calculateAngleDrag(e)},onDragStop:function(){}},this.dragService.addDragSource(this.dragListener),this.eAngleValue.setLabel("").setLabelWidth(5).setInputWidth(45).setMin(0).setMax(360).setValue(""+this.degrees).onValueChange((function(e){null!=e&&""!==e||(e="0"),e=t.eAngleValue.normalizeValue(e);var o=parseFloat(e);o>180&&(o-=360),t.setValue(o)})),this.updateNumberInput(),et.exists(this.getValue())&&this.eAngleValue.setValue(this.normalizeNegativeValue(this.getValue()).toString()),this.addManagedListener(this,Ko.EVENT_CHANGED,(function(){t.eAngleValue.getInputElement().contains(document.activeElement)||t.updateNumberInput()}))},t.prototype.updateNumberInput=function(){var e=this.normalizeNegativeValue(this.getValue());this.eAngleValue.setValue(e.toString())},t.prototype.positionChildCircle=function(e){var t=this.parentCircleRect||{width:24,height:24},o=this.eChildCircle,n=t.width/2,i=t.height/2;o.style.left=n+8*Math.cos(e)+"px",o.style.top=i+8*Math.sin(e)+"px"},t.prototype.calculatePolar=function(){var e=this.offsetX,t=this.offsetY,o=Math.atan2(t,e);this.degrees=this.toDegrees(o),this.radius=Math.sqrt(e*e+t*t),this.positionChildCircle(o)},t.prototype.calculateCartesian=function(){var e=this.toRadians(this.getValue()),t=this.getRadius();this.setOffsetX(Math.cos(e)*t).setOffsetY(Math.sin(e)*t)},t.prototype.setOffsetX=function(e){return this.offsetX!==e&&(this.offsetX=e,this.calculatePolar()),this},t.prototype.setOffsetY=function(e){return this.offsetY!==e&&(this.offsetY=e,this.calculatePolar()),this},t.prototype.calculateAngleDrag=function(e){var t=this.parentCircleRect,o=t.width/2,n=t.height/2,i=e.clientX-t.left-o,r=e.clientY-t.top-n,s=Math.atan2(r,i);this.setValue(s,!0)},t.prototype.toDegrees=function(e){return e/Math.PI*180},t.prototype.toRadians=function(e){return e/180*Math.PI},t.prototype.normalizeNegativeValue=function(e){return e<0?360+e:e},t.prototype.normalizeAngle180=function(e){return(e%=2*Math.PI)<-Math.PI?e+=2*Math.PI:e>=Math.PI&&(e-=2*Math.PI),e},t.prototype.getRadius=function(){return this.radius},t.prototype.setRadius=function(e){return this.radius===e||(this.radius=e,this.calculateCartesian()),this},t.prototype.onValueChange=function(e){var t=this;return this.addManagedListener(this,Ko.EVENT_CHANGED,(function(){e(t.degrees)})),this},t.prototype.getValue=function(e){return e?this.toRadians(this.degrees):this.degrees},t.prototype.setValue=function(e,t){var o;return o=t?e:this.normalizeAngle180(this.toRadians(e)),e=this.toDegrees(o),this.degrees!==e&&(this.degrees=Math.floor(e),this.calculateCartesian(),this.positionChildCircle(o),this.dispatchEvent({type:Ko.EVENT_CHANGED})),this},t.prototype.setWidth=function(e){return et.setFixedWidth(this.getGui(),e),this},t.prototype.destroy=function(){this.dragService.removeDragSource(this.dragListener),e.prototype.destroy.call(this)},t.TEMPLATE='<div class="ag-angle-select">\n            <label ref="eLabel"></label>\n            <div class="ag-wrapper ag-angle-select-wrapper">\n                <div ref="eAngleSelectField" class="ag-angle-select-field">\n                    <div ref="eParentCircle" class="ag-angle-select-parent-circle">\n                        <div ref="eChildCircle" class="ag-angle-select-child-circle"></div>\n                    </div>\n                </div>\n                <ag-input-number-field ref="eAngleValue"></ag-input-number-field>\n            </div>\n        </div>',mc([co("eLabel")],t.prototype,"eLabel",void 0),mc([co("eParentCircle")],t.prototype,"eParentCircle",void 0),mc([co("eChildCircle")],t.prototype,"eChildCircle",void 0),mc([co("eAngleValue")],t.prototype,"eAngleValue",void 0),mc([ut("dragService")],t.prototype,"dragService",void 0),t}(Uo),yc=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Cc=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.className="ag-toggle-button",t.inputType="checkbox",t}return yc(t,e),t.prototype.setValue=function(t,o){return e.prototype.setValue.call(this,t,o),et.addOrRemoveCssClass(this.getGui(),"ag-selected",this.getValue()),this},t}(ya),wc=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),bc=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Sc=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.cacheItems=[],t}return wc(t,e),t.prototype.postConstruct=function(){this.active=this.gridOptionsWrapper.isKeepDetailRows(),this.maxCacheSize=this.gridOptionsWrapper.getKeepDetailRowsCount()},t.prototype.addOrDestroy=function(e,t,o){if(!this.active||!e.detail)this.destroyFullWidthRow(o);else{var n=this.getCacheItem(e,!0);switch(t){case ze.PINNED_LEFT:this.destroyFullWidthRow(n.left),n.left=o;break;case ze.PINNED_RIGHT:this.destroyFullWidthRow(n.right),n.right=o;break;default:this.destroyFullWidthRow(n.center),n.center=o}this.cacheItems.sort((function(e,t){return t.lastAccessedTime-e.lastAccessedTime})),this.purgeCache(this.maxCacheSize)}},t.prototype.getCacheItem=function(e,t){var o;void 0===t&&(t=!1);for(var n=0;n<this.cacheItems.length;n++){var i=this.cacheItems[n];if(i.rowNode===e){o=i;break}}return!o&&t&&(o={rowNode:e},this.cacheItems.push(o)),o&&this.stampCacheItem(o),o},t.prototype.stampCacheItem=function(e){e.lastAccessedTime=(new Date).getTime()},t.prototype.destroyFullWidthRow=function(e){this.getContext().destroyBean(e)},t.prototype.purgeCache=function(e){for(var t=e;t<this.cacheItems.length;t++){var o=this.cacheItems[t];this.destroyFullWidthRow(o.center),this.destroyFullWidthRow(o.left),this.destroyFullWidthRow(o.right)}this.cacheItems.length>e&&(this.cacheItems.length=e)},t.prototype.get=function(e,t){if(e.detail){var o,n=this.getCacheItem(e);if(n)switch(t){case ze.PINNED_LEFT:n.left&&(o=n.left,n.left=void 0);break;case ze.PINNED_RIGHT:n.right&&(o=n.right,n.right=void 0);break;default:n.center&&(o=n.center,n.center=void 0)}return o}},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.purgeCache(0)},bc([ut("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),bc([at],t.prototype,"postConstruct",null),bc([lt],t.prototype,"destroy",null),t=bc([ct("detailRowCompCache")],t)}(xt),Ec=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Rc=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Pc=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ec(t,e),t.prototype.getFirstRow=function(){var e;return this.pinnedRowModel.getPinnedTopRowCount()?e=ze.PINNED_TOP:this.rowModel.getRowCount()?e=null:this.pinnedRowModel.getPinnedBottomRowCount()&&(e=ze.PINNED_BOTTOM),void 0===e?null:{rowIndex:0,rowPinned:e}},t.prototype.getRowNode=function(e){switch(e.rowPinned){case ze.PINNED_TOP:return this.pinnedRowModel.getPinnedTopRowData()[e.rowIndex];case ze.PINNED_BOTTOM:return this.pinnedRowModel.getPinnedBottomRowData()[e.rowIndex];default:return this.rowModel.getRow(e.rowIndex)}},t.prototype.sameRow=function(e,t){return!e&&!t||!(e&&!t||!e&&t)&&(e.rowIndex===t.rowIndex&&e.rowPinned==t.rowPinned)},t.prototype.before=function(e,t){switch(e.rowPinned){case ze.PINNED_TOP:if(t.rowPinned!==ze.PINNED_TOP)return!0;break;case ze.PINNED_BOTTOM:if(t.rowPinned!==ze.PINNED_BOTTOM)return!1;break;default:if(et.exists(t.rowPinned))return t.rowPinned!==ze.PINNED_TOP}return e.rowIndex<t.rowIndex},Rc([ut("rowModel")],t.prototype,"rowModel",void 0),Rc([ut("rowRenderer")],t.prototype,"rowRenderer",void 0),Rc([ut("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),t=Rc([ct("rowPositionUtils")],t)}(xt),Oc=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),xc=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Tc=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Oc(t,e),t.prototype.createId=function(e){var t=e.rowIndex,o=e.rowPinned,n=e.column;return this.createIdFromValues(t,n,o)},t.prototype.createIdFromValues=function(e,t,o){return e+"."+(null==o?"null":o)+"."+t.getId()},t.prototype.equals=function(e,t){var o=e.column===t.column,n=e.rowPinned===t.rowPinned,i=e.rowIndex===t.rowIndex;return o&&n&&i},t=xc([ct("cellPositionUtils")],t)}(xt),Dc=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Ac=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Fc=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Dc(t,e),t.prototype.init=function(){this.setPinnedTopRowData(this.gridOptionsWrapper.getPinnedTopRowData()),this.setPinnedBottomRowData(this.gridOptionsWrapper.getPinnedBottomRowData())},t.prototype.isEmpty=function(e){var t=e===ze.PINNED_TOP?this.pinnedTopRows:this.pinnedBottomRows;return et.missingOrEmpty(t)},t.prototype.isRowsToRender=function(e){return!this.isEmpty(e)},t.prototype.getRowAtPixel=function(e,t){var o=t===ze.PINNED_TOP?this.pinnedTopRows:this.pinnedBottomRows;if(et.missingOrEmpty(o))return 0;for(var n=0;n<o.length;n++){var i=o[n];if(i.rowTop+i.rowHeight-1>=e)return n}return o.length-1},t.prototype.setPinnedTopRowData=function(e){this.pinnedTopRows=this.createNodesFromData(e,!0);var t={type:_t.EVENT_PINNED_ROW_DATA_CHANGED,api:this.gridApi,columnApi:this.columnApi};this.eventService.dispatchEvent(t)},t.prototype.setPinnedBottomRowData=function(e){this.pinnedBottomRows=this.createNodesFromData(e,!1);var t={type:_t.EVENT_PINNED_ROW_DATA_CHANGED,api:this.gridApi,columnApi:this.columnApi};this.eventService.dispatchEvent(t)},t.prototype.createNodesFromData=function(e,t){var o=this,n=[];if(e){var i=0;e.forEach((function(e,r){var s=new Wo;o.context.createBean(s),s.data=e;var a=t?Wo.ID_PREFIX_TOP_PINNED:Wo.ID_PREFIX_BOTTOM_PINNED;s.id=a+r,s.rowPinned=t?ze.PINNED_TOP:ze.PINNED_BOTTOM,s.setRowTop(i),s.setRowHeight(o.gridOptionsWrapper.getRowHeightForNode(s).height),s.setRowIndex(r),i+=s.rowHeight,n.push(s)}))}return n},t.prototype.getPinnedTopRowData=function(){return this.pinnedTopRows},t.prototype.getPinnedBottomRowData=function(){return this.pinnedBottomRows},t.prototype.getPinnedTopTotalHeight=function(){return this.getTotalHeight(this.pinnedTopRows)},t.prototype.getPinnedTopRowCount=function(){return this.pinnedTopRows?this.pinnedTopRows.length:0},t.prototype.getPinnedBottomRowCount=function(){return this.pinnedBottomRows?this.pinnedBottomRows.length:0},t.prototype.getPinnedTopRow=function(e){return this.pinnedTopRows[e]},t.prototype.getPinnedBottomRow=function(e){return this.pinnedBottomRows[e]},t.prototype.forEachPinnedTopRow=function(e){et.missingOrEmpty(this.pinnedTopRows)||this.pinnedTopRows.forEach(e)},t.prototype.forEachPinnedBottomRow=function(e){et.missingOrEmpty(this.pinnedBottomRows)||this.pinnedBottomRows.forEach(e)},t.prototype.getPinnedBottomTotalHeight=function(){return this.getTotalHeight(this.pinnedBottomRows)},t.prototype.getTotalHeight=function(e){if(e&&0!==e.length){var t=et.last(e);return t.rowTop+t.rowHeight}return 0},Ac([ut("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),Ac([ut("columnApi")],t.prototype,"columnApi",void 0),Ac([ut("gridApi")],t.prototype,"gridApi",void 0),Ac([at],t.prototype,"init",null),t=Ac([ct("pinnedRowModel")],t)}(xt),_c=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Mc=function(e){this.cellValueChanges=e},Ic=function(e){function t(t,o,n){var i=e.call(this,t)||this;return i.initialRange=o,i.finalRange=n,i}return _c(t,e),t}(Mc),Lc=function(){function e(t){this.actionStack=[],this.maxStackSize=t||e.DEFAULT_STACK_SIZE,this.actionStack=new Array(this.maxStackSize)}return e.prototype.pop=function(){return this.actionStack.pop()},e.prototype.push=function(e){e.cellValueChanges&&e.cellValueChanges.length>0&&(this.actionStack.length===this.maxStackSize&&this.actionStack.shift(),this.actionStack.push(e))},e.prototype.clear=function(){this.actionStack=[]},e.DEFAULT_STACK_SIZE=10,e}(),Nc=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),kc=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Gc=function(e){function o(){var t=null!==e&&e.apply(this,arguments)||this;return t.cellValueChanges=[],t.isCellEditing=!1,t.isRowEditing=!1,t.isPasting=!1,t.isFilling=!1,t.onCellValueChanged=function(e){if(t.isCellEditing||t.isRowEditing||t.isPasting||t.isFilling){var o=e.rowPinned,n=e.rowIndex,i=e.column,r=e.oldValue,s=e.value,a={rowPinned:o,rowIndex:n,columnId:i.getColId(),oldValue:r,newValue:s};t.cellValueChanges.push(a)}},t.clearStacks=function(){t.undoStack.clear(),t.redoStack.clear()},t}return Nc(o,e),o.prototype.init=function(){if(this.gridOptionsWrapper.isUndoRedoCellEditing()){var e=this.gridOptionsWrapper.getUndoRedoCellEditingLimit();e<=0||(this.undoStack=new Lc(e),this.redoStack=new Lc(e),this.addRowEditingListeners(),this.addCellEditingListeners(),this.addPasteListeners(),this.addFillListeners(),this.addManagedListener(this.eventService,_t.EVENT_CELL_VALUE_CHANGED,this.onCellValueChanged),this.addManagedListener(this.eventService,_t.EVENT_MODEL_UPDATED,this.clearStacks),this.addManagedListener(this.eventService,_t.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.clearStacks),this.addManagedListener(this.eventService,_t.EVENT_COLUMN_EVERYTHING_CHANGED,this.clearStacks),this.addManagedListener(this.eventService,_t.EVENT_COLUMN_GROUP_OPENED,this.clearStacks),this.addManagedListener(this.eventService,_t.EVENT_COLUMN_ROW_GROUP_CHANGED,this.clearStacks),this.addManagedListener(this.eventService,_t.EVENT_COLUMN_MOVED,this.clearStacks),this.addManagedListener(this.eventService,_t.EVENT_COLUMN_PINNED,this.clearStacks),this.addManagedListener(this.eventService,_t.EVENT_COLUMN_VISIBLE,this.clearStacks),this.addManagedListener(this.eventService,_t.EVENT_ROW_DRAG_END,this.clearStacks))}},o.prototype.undo=function(){if(this.undoStack){var e=this.undoStack.pop();e&&e.cellValueChanges&&(this.processAction(e,(function(e){return e.oldValue})),e instanceof Ic?this.processRangeAndCellFocus(e.cellValueChanges,e.initialRange):this.processRangeAndCellFocus(e.cellValueChanges),this.redoStack.push(e))}},o.prototype.redo=function(){if(this.redoStack){var e=this.redoStack.pop();e&&e.cellValueChanges&&(this.processAction(e,(function(e){return e.newValue})),e instanceof Ic?this.processRangeAndCellFocus(e.cellValueChanges,e.finalRange):this.processRangeAndCellFocus(e.cellValueChanges),this.undoStack.push(e))}},o.prototype.processAction=function(e,t){var o=this;e.cellValueChanges.forEach((function(e){var n=e.rowIndex,i=e.rowPinned,r=e.columnId,s={rowIndex:n,rowPinned:i},a=o.getRowNode(s);null!=a.rowTop&&a.setDataValue(r,t(e))}))},o.prototype.processRangeAndCellFocus=function(e,t){if(t){var o=t.startRow,n=t.endRow,i={rowPinned:o.rowPinned,rowIndex:o.rowIndex,columnId:t.startColumn.getColId()};this.setLastFocusedCell(i);var r={rowStartIndex:o.rowIndex,rowStartPinned:o.rowPinned,rowEndIndex:n.rowIndex,rowEndPinned:n.rowPinned,columnStart:t.startColumn,columns:t.columns};this.gridApi.addCellRange(r)}else{var s=e[0],a={rowIndex:s.rowIndex,rowPinned:s.rowPinned},l=this.getRowNode(a),c={rowPinned:s.rowPinned,rowIndex:l.rowIndex,columnId:s.columnId};this.setLastFocusedCell(c)}},o.prototype.setLastFocusedCell=function(e){var o=e.rowIndex,n=e.columnId,i=e.rowPinned;this.gridApi.ensureIndexVisible(o),this.gridApi.ensureColumnVisible(n),Ct.isRegistered(t.ModuleNames.RangeSelectionModule)&&this.gridApi.clearRangeSelection(),this.focusController.setFocusedCell(o,n,i,!0)},o.prototype.addRowEditingListeners=function(){var e=this;this.addManagedListener(this.eventService,_t.EVENT_ROW_EDITING_STARTED,(function(){e.isRowEditing=!0})),this.addManagedListener(this.eventService,_t.EVENT_ROW_EDITING_STOPPED,(function(){var t=new Mc(e.cellValueChanges);e.pushActionsToUndoStack(t),e.isRowEditing=!1}))},o.prototype.addCellEditingListeners=function(){var e=this;this.addManagedListener(this.eventService,_t.EVENT_CELL_EDITING_STARTED,(function(){e.isCellEditing=!0})),this.addManagedListener(this.eventService,_t.EVENT_CELL_EDITING_STOPPED,(function(){if(e.isCellEditing=!1,!e.isRowEditing&&!e.isPasting&&!e.isFilling){var t=new Mc(e.cellValueChanges);e.pushActionsToUndoStack(t)}}))},o.prototype.addPasteListeners=function(){var e=this;this.addManagedListener(this.eventService,_t.EVENT_PASTE_START,(function(){e.isPasting=!0})),this.addManagedListener(this.eventService,_t.EVENT_PASTE_END,(function(){var t=new Mc(e.cellValueChanges);e.pushActionsToUndoStack(t),e.isPasting=!1}))},o.prototype.addFillListeners=function(){var e=this;this.addManagedListener(this.eventService,_t.EVENT_FILL_START,(function(){e.isFilling=!0})),this.addManagedListener(this.eventService,_t.EVENT_FILL_END,(function(t){var o=new Ic(e.cellValueChanges,t.initialRange,t.finalRange);e.pushActionsToUndoStack(o),e.isFilling=!1}))},o.prototype.pushActionsToUndoStack=function(e){this.undoStack.push(e),this.cellValueChanges=[],this.redoStack.clear()},o.prototype.getRowNode=function(e){switch(e.rowPinned){case ze.PINNED_TOP:return this.pinnedRowModel.getPinnedTopRowData()[e.rowIndex];case ze.PINNED_BOTTOM:return this.pinnedRowModel.getPinnedBottomRowData()[e.rowIndex];default:return this.rowModel.getRow(e.rowIndex)}},kc([ut("gridOptionsWrapper")],o.prototype,"gridOptionsWrapper",void 0),kc([ut("focusController")],o.prototype,"focusController",void 0),kc([ut("gridApi")],o.prototype,"gridApi",void 0),kc([ut("rowModel")],o.prototype,"rowModel",void 0),kc([ut("pinnedRowModel")],o.prototype,"pinnedRowModel",void 0),kc([at],o.prototype,"init",null),o=kc([ct("undoRedoService")],o)}(xt),Vc=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Hc=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Bc=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.componentsMappedByName={},t}return Vc(t,e),t.prototype.setupComponents=function(e){var t=this;e&&e.forEach((function(e){return t.addComponent(e)}))},t.prototype.addComponent=function(e){var t=e.componentName.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase().toUpperCase();this.componentsMappedByName[t]=e.componentClass},t.prototype.getComponentClass=function(e){return this.componentsMappedByName[e]},t=Hc([ct("agStackComponentsRegistry")],t)}(xt),Wc=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),jc=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},zc=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Wc(t,e),t.prototype.findHeader=function(e,t){var o,n,i;if(e.column instanceof Et?(n="getDisplayedGroup"+t,o=this.columnController[n](e.column)):(i="getDisplayedCol"+t,o=this.columnController[i](e.column)),o)return{column:o,headerRowIndex:e.headerRowIndex}},t.prototype.findColAtEdgeForHeaderRow=function(e,t){var o=this.columnController.getAllDisplayedColumns(),n=o["start"===t?0:o.length-1];if(n){var i=this.headerNavigationService.getHeaderContainer(n.getPinned()).getRowComps()[e];return(i&&i.getType())==Ji.COLUMN_GROUP?{headerRowIndex:e,column:this.columnController.getColumnGroupAtLevel(n,e)}:{headerRowIndex:i?e:-1,column:n}}},jc([ut("columnController")],t.prototype,"columnController",void 0),jc([ut("headerNavigationService")],t.prototype,"headerNavigationService",void 0),t=jc([ct("headerPositionUtils")],t)}(xt),Uc=function(){function e(e,o,n){if(e)if(o){var i=!!o.debug;this.gridOptions=o;var r=this.getRegisteredModules(n),s=this.createBeansList(r),a=this.createProvidedBeans(e,n);if(s){var l={providedBeanInstances:a,beanClasses:s,debug:i};this.logger=new Gs("ag-Grid",(function(){return o.debug}));var c=new Gs("Context",(function(){return l.debug}));this.context=new rt(l,c),this.registerModuleUserComponents(r),this.registerStackComponents(r);var u=new(n&&n.rootComponent||Ks);this.context.createBean(u),this.setColumnsAndData(),this.dispatchGridReadyEvent(o);var d=Ct.isRegistered(t.ModuleNames.EnterpriseCoreModule);this.logger.log("initialised successfully, enterprise = "+d)}}else console.error("ag-Grid: no gridOptions provided to the grid");else console.error("ag-Grid: no div element provided to the grid")}return e.prototype.registerStackComponents=function(e){var t=this.createAgStackComponentsList(e);this.context.getBean("agStackComponentsRegistry").setupComponents(t)},e.prototype.getRegisteredModules=function(e){var t=e?e.modules:null,o=Ct.getRegisteredModules(),n=[],i={};function r(e,t){!function(t){i[t.moduleName]||(i[t.moduleName]=!0,n.push(t),Ct.register(t,e))}(t),t.dependantModules&&t.dependantModules.forEach(r.bind(null,e))}return t&&t.forEach(r.bind(null,!0)),o&&o.forEach(r.bind(null,!Ct.isPackageBased())),n},e.prototype.registerModuleUserComponents=function(e){var t=this.context.getBean("userComponentRegistry");this.extractModuleEntity(e,(function(e){return e.userComponents?e.userComponents:[]})).forEach((function(e){t.registerDefaultComponent(e.componentName,e.componentClass)}))},e.prototype.createProvidedBeans=function(e,t){var o=t?t.frameworkOverrides:null;et.missing(o)&&(o=new Ca);var n={gridOptions:this.gridOptions,eGridDiv:e,$scope:t?t.$scope:null,$compile:t?t.$compile:null,quickFilterOnScope:t?t.quickFilterOnScope:null,globalEventListener:t?t.globalEventListener:null,frameworkOverrides:o};return t&&t.providedBeanInstances&&et.assign(n,t.providedBeanInstances),n},e.prototype.createAgStackComponentsList=function(e){var t=[{componentName:"AgCheckbox",componentClass:Jo},{componentName:"AgRadioButton",componentClass:ya},{componentName:"AgToggleButton",componentClass:Cc},{componentName:"AgInputTextField",componentClass:Ul},{componentName:"AgInputTextArea",componentClass:Kl},{componentName:"AgInputNumberField",componentClass:sc},{componentName:"AgInputRange",componentClass:lc},{componentName:"AgSelect",componentClass:gc},{componentName:"AgSlider",componentClass:Xl},{componentName:"AgAngleSelect",componentClass:vc},{componentName:"AgColorPicker",componentClass:ic},{componentName:"AgGridComp",componentClass:bs},{componentName:"AgHeaderRoot",componentClass:rs},{componentName:"AgPagination",componentClass:Tl},{componentName:"AgOverlayWrapper",componentClass:Il},{componentName:"AgGroupComponent",componentClass:kl},{componentName:"AgPanel",componentClass:Hl},{componentName:"AgDialog",componentClass:jl}],o=this.extractModuleEntity(e,(function(e){return e.agStackComponents?e.agStackComponents:[]}));return t=t.concat(o)},e.prototype.createBeansList=function(e){var t=this.getRowModelClass(e);if(t){var o=[t,il,Pc,Tc,zc,Ha,Es,Ri,Ja,ol,Fl,Sn,Cl,Pl,pa,zs,Fc,Js,jt,yt,Jt,Ms,Di,ls,kt,os,ka,ur,xs,Ft,As,Xa,ml,ja,ds,ks,Ht,Bs,Xs,Gi,Fi,ra,la,ul,da,ma,Pa,Sa,oa,Ta,Fa,Sl,Ia,$a,pl,Sc,Gc,Bc],n=this.extractModuleEntity(e,(function(e){return e.beans?e.beans:[]}));o.push.apply(o,n);var i=[];return o.forEach((function(e){i.indexOf(e)<0&&i.push(e)})),i}},e.prototype.extractModuleEntity=function(e,t){return[].concat.apply([],e.map(t))},e.prototype.setColumnsAndData=function(){var e=this.context.getBean("gridOptionsWrapper"),t=this.context.getBean("columnController"),o=e.getColumnDefs();et.exists(o)&&t.setColumnDefs(o,"gridInitializing"),this.context.getBean("rowModel").start()},e.prototype.dispatchGridReadyEvent=function(e){var t=this.context.getBean("eventService"),o={type:_t.EVENT_GRID_READY,api:e.api,columnApi:e.columnApi};t.dispatchEvent(o)},e.prototype.getRowModelClass=function(e){var o=this.gridOptions.rowModelType;"enterprise"===o&&(console.warn("ag-Grid: enterprise rowModel deprecated. Should now be called server side row model instead."),o=ze.ROW_MODEL_TYPE_SERVER_SIDE),"normal"===o&&(console.warn("ag-Grid: normal rowModel deprecated. Should now be called client side row model instead."),o=ze.ROW_MODEL_TYPE_CLIENT_SIDE),o||(o=ze.ROW_MODEL_TYPE_CLIENT_SIDE);var n={};e.forEach((function(e){et.iterateObject(e.rowModels,(function(e,t){n[e]=t}))}));var i=n[o];return et.exists(i)?i:(o===ze.ROW_MODEL_TYPE_INFINITE&&console.error('ag-Grid: Row Model "Infinite" not found. Please ensure the '+t.ModuleNames.InfiniteRowModelModule+" is registered.';"),console.error("ag-Grid: could not find matching row model for rowModelType "+o),o===ze.ROW_MODEL_TYPE_VIEWPORT&&console.error('ag-Grid: Row Model "Viewport" not found. Please ensure the ag-Grid Enterprise Module '+t.ModuleNames.ViewportRowModelModule+" is registered.';"),o===ze.ROW_MODEL_TYPE_SERVER_SIDE&&console.error('ag-Grid: Row Model "Server Side" not found. Please ensure the ag-Grid Enterprise Module '+t.ModuleNames.ServerSideRowModelModule+" is registered.';"),void(o===ze.ROW_MODEL_TYPE_CLIENT_SIDE&&console.error('ag-Grid: Row Model "Client Side" not found. Please ensure the '+t.ModuleNames.ClientSideRowModelModule+" is registered.';")))},e.prototype.destroy=function(){this.gridOptions.api.destroy()},e}();function $c(e,t,o,n){var i,r,s=n.agGrid;if(r=s+".quickFilterText",i=t.$eval(s)){var a=e[0],l=new Uc(a,i,{$scope:t,$compile:o,quickFilterOnScope:r});t.$on("$destroy",(function(){l.destroy(),l=null}))}else console.warn("WARNING - grid options for ag-Grid not found. Please ensure the attribute ag-grid points to a valid object on the scope")}var Kc=!1;var Yc=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),qc=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Xc=function(e){function t(o){var n=e.call(this,t.getTemplate(o.cssClass))||this;return n.items=[],n.params=o,o.items&&o.items.forEach((function(e){return n.addItem(e)})),n}return Yc(t,e),t.getTemplate=function(e){return'<div class="ag-tabs '+e+'">\n            <div ref="eHeader" class="ag-tabs-header '+(e?e+"-header":"")+'"></div>\n            <div ref="eBody" class="ag-tabs-body '+(e?e+"-body":"")+'"></div>\n        </div>'},t.prototype.handleKeyDown=function(e){switch(e.keyCode){case ze.KEY_RIGHT:case ze.KEY_LEFT:if(!this.eHeader.contains(document.activeElement))return;var t=this.items.indexOf(this.activeItem),o=e.keyCode===ze.KEY_RIGHT?Math.min(t+1,this.items.length-1):Math.max(t-1,0);if(t===o)return;e.preventDefault();var n=this.items[o];this.showItemWrapper(n),n.eHeaderButton.focus();break;case ze.KEY_UP:case ze.KEY_DOWN:e.stopPropagation()}},t.prototype.onTabKeyDown=function(e){var t=this,o=t.focusController,n=t.eHeader,i=t.eBody,r=t.activeItem,s=document.activeElement,a=n.contains(s);if(e.preventDefault(),a)e.shiftKey?o.focusLastFocusableElement(i):o.focusFirstFocusableElement(i);else if(o.isFocusUnderManagedComponent(i))r.eHeaderButton.focus();else{var l=o.findNextFocusableElement(i,!1,e.shiftKey);l?l.focus():r.eHeaderButton.focus()}},t.prototype.setAfterAttachedParams=function(e){this.afterAttachedParams=e},t.prototype.getMinDimensions=function(){var e=this.getGui().cloneNode(!0),t=e.querySelector('[ref="eBody"]');e.style.position="fixed",this.getGui().appendChild(e);var o=0,n=0;return this.items.forEach((function(i){et.clearElement(t);var r=i.tabbedItem.bodyPromise.resolveNow(null,(function(e){return e.cloneNode(!0)}));null!=r&&(t.appendChild(r),o<e.offsetWidth&&(o=e.offsetWidth),n<e.offsetHeight&&(n=e.offsetHeight))})),this.getGui().removeChild(e),{height:n,width:o}},t.prototype.showFirstItem=function(){this.items.length>0&&this.showItemWrapper(this.items[0])},t.prototype.addItem=function(e){var t=document.createElement("span");t.tabIndex=-1,t.appendChild(e.title),et.addCssClass(t,"ag-tab"),this.eHeader.appendChild(t),t.setAttribute("aria-label",e.titleLabel);var o={tabbedItem:e,eHeaderButton:t};this.items.push(o),t.addEventListener("click",this.showItemWrapper.bind(this,o))},t.prototype.showItem=function(e){var t=et.find(this.items,(function(t){return t.tabbedItem===e}));t&&this.showItemWrapper(t)},t.prototype.showItemWrapper=function(e){var t=this;this.params.onItemClicked&&this.params.onItemClicked({item:e.tabbedItem}),this.activeItem!==e?(et.clearElement(this.eBody),e.tabbedItem.bodyPromise.then((function(e){t.eBody.appendChild(e);var o=!t.focusController.isKeyboardFocus();t.focusController.focusFirstFocusableElement(t.eBody,o)})),this.activeItem&&et.removeCssClass(this.activeItem.eHeaderButton,"ag-tab-selected"),et.addCssClass(e.eHeaderButton,"ag-tab-selected"),this.activeItem=e,e.tabbedItem.afterAttachedCallback&&e.tabbedItem.afterAttachedCallback(this.afterAttachedParams)):et.callIfPresent(this.params.onActiveItemClicked)},qc([co("eHeader")],t.prototype,"eHeader",void 0),qc([co("eBody")],t.prototype,"eBody",void 0),t}(Er);var Qc=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Zc=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Jc=function(e){function t(o,n){var i=e.call(this)||this;return i.version=0,i.state=t.STATE_DIRTY,i.rowNodeCacheParams=n,i.blockNumber=o,i.startRow=o*n.blockSize,i.endRow=i.startRow+n.blockSize,i}return Qc(t,e),t.prototype.isAnyNodeOpen=function(e){var t=!1;return this.forEachNodeCallback((function(e){e.expanded&&(t=!0)}),e),t},t.prototype.forEachNodeCallback=function(e,t){for(var o=this.startRow;o<this.endRow;o++){if(o<t)e(this.getRowUsingLocalIndex(o),o)}},t.prototype.forEachNode=function(e,t,o,n){this.forEachNodeCallback((function(o){e(o,t.next()),n&&o.childrenCache&&o.childrenCache.forEachNodeDeep(e,t)}),o)},t.prototype.forEachNodeDeep=function(e,t,o){this.forEachNode(e,t,o,!0)},t.prototype.forEachNodeShallow=function(e,t,o){this.forEachNode(e,t,o,!1)},t.prototype.getVersion=function(){return this.version},t.prototype.getLastAccessed=function(){return this.lastAccessed},t.prototype.getRowUsingLocalIndex=function(e,t){void 0===t&&(t=!1),t||(this.lastAccessed=this.rowNodeCacheParams.lastAccessedSequence.next());var o=e-this.startRow;return this.rowNodes[o]},t.prototype.init=function(e){this.beans=e,this.createRowNodes()},t.prototype.getStartRow=function(){return this.startRow},t.prototype.getEndRow=function(){return this.endRow},t.prototype.getBlockNumber=function(){return this.blockNumber},t.prototype.setDirty=function(){this.version++,this.state=t.STATE_DIRTY},t.prototype.setDirtyAndPurge=function(){this.setDirty(),this.rowNodes.forEach((function(e){e.setData(null)}))},t.prototype.getState=function(){return this.state},t.prototype.setRowNode=function(e,t){var o=e-this.startRow;this.rowNodes[o]=t},t.prototype.setBlankRowNode=function(e){var t=e-this.startRow,o=this.createBlankRowNode(e);return this.rowNodes[t]=o,o},t.prototype.setNewData=function(e,t){var o=this.setBlankRowNode(e);return this.setDataAndId(o,t,this.startRow+e),o},t.prototype.createBlankRowNode=function(e){var t=new Wo;return this.beans.context.createBean(t),t.setRowHeight(this.rowNodeCacheParams.rowHeight),t},t.prototype.createRowNodes=function(){this.rowNodes=[];for(var e=0;e<this.rowNodeCacheParams.blockSize;e++){var t=this.startRow+e,o=this.createBlankRowNode(t);this.rowNodes.push(o)}},t.prototype.load=function(){this.state=t.STATE_LOADING,this.loadFromDatasource()},t.prototype.pageLoadFailed=function(){this.state=t.STATE_FAILED;var e={type:t.EVENT_LOAD_COMPLETE,success:!1,page:this,lastRow:null};this.dispatchEvent(e)},t.prototype.populateWithRowData=function(e){var t=this,o=[];this.rowNodes.forEach((function(n,i){var r=e[i];n.stub&&o.push(n),t.setDataAndId(n,r,t.startRow+i)})),o.length>0&&this.beans.rowRenderer.redrawRows(o)},t.prototype.destroyRowNodes=function(){var e=this;this.rowNodes.forEach((function(t){t.childrenCache&&(e.destroyBean(t.childrenCache),t.childrenCache=null),t.clearRowTop()}))},t.prototype.pageLoaded=function(e,o,n){e===this.version&&(this.state=t.STATE_LOADED,this.populateWithRowData(o)),n=et.cleanNumber(n);var i={type:t.EVENT_LOAD_COMPLETE,success:!0,page:this,lastRow:n};this.dispatchEvent(i)},t.EVENT_LOAD_COMPLETE="loadComplete",t.STATE_DIRTY="dirty",t.STATE_LOADING="loading",t.STATE_LOADED="loaded",t.STATE_FAILED="failed",Zc([lt],t.prototype,"destroyRowNodes",null),t}(xt),eu=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),tu=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},ou=function(e,t){return function(o,n){t(o,n,e)}},nu=function(e){function t(t,o){var n=e.call(this)||this;return n.activeBlockLoadsCount=0,n.blocks=[],n.active=!0,n.maxConcurrentRequests=t,o&&o>0&&(n.checkBlockToLoadDebounce=et.debounce(n.performCheckBlocksToLoad.bind(n),o)),n}return eu(t,e),t.prototype.setBeans=function(e){this.logger=e.create("RowNodeBlockLoader")},t.prototype.addBlock=function(e){this.blocks.push(e)},t.prototype.removeBlock=function(e){et.removeFromArray(this.blocks,e)},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.active=!1},t.prototype.loadComplete=function(){this.activeBlockLoadsCount--},t.prototype.checkBlockToLoad=function(){this.checkBlockToLoadDebounce?this.checkBlockToLoadDebounce():this.performCheckBlocksToLoad()},t.prototype.performCheckBlocksToLoad=function(){if(this.active)if(this.printCacheStatus(),this.activeBlockLoadsCount>=this.maxConcurrentRequests)this.logger.log("checkBlockToLoad: max loads exceeded");else{var e=null;this.blocks.forEach((function(t){t.getState()===Jc.STATE_DIRTY&&(e=t)})),e?(e.load(),this.activeBlockLoadsCount++,this.logger.log("checkBlockToLoad: loading page "+e.getBlockNumber()),this.printCacheStatus()):this.logger.log("checkBlockToLoad: no pages to load")}},t.prototype.getBlockState=function(){var e={};return this.blocks.forEach((function(t){var o=t.getNodeIdPrefix(),n={blockNumber:t.getBlockNumber(),startRow:t.getStartRow(),endRow:t.getEndRow(),pageStatus:t.getState()};et.exists(o)?e[o+t.getBlockNumber()]=n:e[t.getBlockNumber()]=n})),e},t.prototype.printCacheStatus=function(){this.logger.isLogging()&&this.logger.log("printCacheStatus: activePageLoadsCount = "+this.activeBlockLoadsCount+", blocks = "+JSON.stringify(this.getBlockState()))},t.prototype.isLoading=function(){return this.activeBlockLoadsCount>0},tu([ou(0,pt("loggerFactory"))],t.prototype,"setBeans",null),t}(xt),iu=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),ru=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},su=function(e){function t(t){var o=e.call(this)||this;return o.maxRowFound=!1,o.blocks={},o.blockCount=0,o.virtualRowCount=t.initialRowCount,o.cacheParams=t,o}return iu(t,e),t.prototype.destroyAllBlocks=function(){var e=this;this.forEachBlockInOrder((function(t){return e.destroyBlock(t)}))},t.prototype.init=function(){var e=this;this.active=!0,this.addDestroyFunc((function(){return e.active=!1}))},t.prototype.isActive=function(){return this.active},t.prototype.getVirtualRowCount=function(){return this.virtualRowCount},t.prototype.hack_setVirtualRowCount=function(e){this.virtualRowCount=e},t.prototype.isMaxRowFound=function(){return this.maxRowFound},t.prototype.onPageLoaded=function(e){this.cacheParams.rowNodeBlockLoader.loadComplete(),this.checkBlockToLoad(),this.isActive()&&(this.logger.log("onPageLoaded: page = "+e.page.getBlockNumber()+", lastRow = "+e.lastRow),e.success&&this.checkVirtualRowCount(e.page,e.lastRow))},t.prototype.purgeBlocksIfNeeded=function(e){var o=this,n=[];this.forEachBlockInOrder((function(t){t!==e&&n.push(t)})),n.sort((function(e,t){return t.getLastAccessed()-e.getLastAccessed()}));var i=this.cacheParams.maxBlocksInCache>0,r=i?this.cacheParams.maxBlocksInCache-1:null,s=t.MAX_EMPTY_BLOCKS_TO_KEEP-1;n.forEach((function(e,t){if(e.getState()===Jc.STATE_DIRTY&&t>=s||!!i&&t>=r){if(e.isAnyNodeOpen(o.virtualRowCount))return;if(o.isBlockCurrentlyDisplayed(e))return;o.removeBlockFromCache(e)}}))},t.prototype.isBlockCurrentlyDisplayed=function(e){var t=this.rowRenderer.getFirstVirtualRenderedRow(),o=this.rowRenderer.getLastVirtualRenderedRow(),n=e.getDisplayIndexStart(),i=e.getDisplayIndexEnd()-1;return null!=n&&null!=i&&(!(n>o)&&!(i<t))},t.prototype.postCreateBlock=function(e){e.addEventListener(Jc.EVENT_LOAD_COMPLETE,this.onPageLoaded.bind(this)),this.setBlock(e.getBlockNumber(),e),this.purgeBlocksIfNeeded(e),this.checkBlockToLoad()},t.prototype.removeBlockFromCache=function(e){e&&this.destroyBlock(e)},t.prototype.checkBlockToLoad=function(){this.cacheParams.rowNodeBlockLoader.checkBlockToLoad()},t.prototype.checkVirtualRowCount=function(e,t){if("number"===typeof t&&t>=0)this.virtualRowCount=t,this.maxRowFound=!0,this.onCacheUpdated();else if(!this.maxRowFound){var o=(e.getBlockNumber()+1)*this.cacheParams.blockSize+this.cacheParams.overflowSize;this.virtualRowCount<o?(this.virtualRowCount=o,this.onCacheUpdated()):this.cacheParams.dynamicRowHeight&&this.onCacheUpdated()}},t.prototype.setVirtualRowCount=function(e,t){this.virtualRowCount=e,et.exists(t)&&(this.maxRowFound=t),this.maxRowFound||this.virtualRowCount%this.cacheParams.blockSize===0&&this.virtualRowCount++,this.onCacheUpdated()},t.prototype.forEachNodeDeep=function(e,t){var o=this;void 0===t&&(t=new tt),this.forEachBlockInOrder((function(n){n.forEachNodeDeep(e,t,o.virtualRowCount)}))},t.prototype.forEachBlockInOrder=function(e){var t=this.getBlockIdsSorted();this.forEachBlockId(t,e)},t.prototype.forEachBlockInReverseOrder=function(e){var t=this.getBlockIdsSorted().reverse();this.forEachBlockId(t,e)},t.prototype.forEachBlockId=function(e,t){var o=this;e.forEach((function(e){var n=o.blocks[e];t(n,e)}))},t.prototype.getBlockIdsSorted=function(){return Object.keys(this.blocks).map((function(e){return parseInt(e,10)})).sort((function(e,t){return e-t}))},t.prototype.getBlock=function(e){return this.blocks[e]},t.prototype.setBlock=function(e,t){this.blocks[e]=t,this.blockCount++,this.cacheParams.rowNodeBlockLoader.addBlock(t)},t.prototype.destroyBlock=function(e){delete this.blocks[e.getBlockNumber()],this.destroyBean(e),this.blockCount--,this.cacheParams.rowNodeBlockLoader.removeBlock(e)},t.prototype.onCacheUpdated=function(){if(this.isActive()){this.destroyAllBlocksPastVirtualRowCount();var e={type:t.EVENT_CACHE_UPDATED};this.dispatchEvent(e)}},t.prototype.destroyAllBlocksPastVirtualRowCount=function(){var e=this,t=[];this.forEachBlockInOrder((function(o,n){n*e.cacheParams.blockSize>=e.virtualRowCount&&t.push(o)})),t.length>0&&t.forEach((function(t){return e.destroyBlock(t)}))},t.prototype.purgeCache=function(){var e=this;this.forEachBlockInOrder((function(t){return e.removeBlockFromCache(t)})),this.maxRowFound=!1,0===this.virtualRowCount&&(this.virtualRowCount=this.cacheParams.initialRowCount),this.onCacheUpdated()},t.prototype.getRowNodesInRange=function(e,t){var o=this,n=[],i=-1,r=!1,s=new tt;et.missing(e)&&(r=!0);var a=!1;return this.forEachBlockInOrder((function(l,c){a||(r&&i+1!==c?a=!0:(i=c,l.forEachNodeShallow((function(o){var i=o===e||o===t;(r||i)&&n.push(o),i&&(r=!r)}),s,o.virtualRowCount)))})),a||r?[]:n},t.EVENT_CACHE_UPDATED="cacheUpdated",t.MAX_EMPTY_BLOCKS_TO_KEEP=2,ru([ut("rowRenderer")],t.prototype,"rowRenderer",void 0),ru([lt],t.prototype,"destroyAllBlocks",null),ru([at],t.prototype,"init",null),t}(xt),au=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),lu=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},cu=function(e){function t(o){void 0===o&&(o="default");var n=e.call(this,t.getTemplate(o))||this;return n.cssIdentifier=o,n.renderedRows=new Map,n.rowHeight=20,n}return au(t,e),t.prototype.postConstruct=function(){this.addScrollListener(),this.rowHeight=this.getItemHeight(),e.prototype.postConstruct.call(this)},t.prototype.isFocusableContainer=function(){return!0},t.prototype.focusInnerElement=function(e){var t=this.model.getRowCount();this.focusRow(e?t-1:0)},t.prototype.onFocusIn=function(t){e.prototype.onFocusIn.call(this,t);var o=t.target;et.containsClass(o,"ag-virtual-list-item")&&(this.lastFocusedRow=parseInt(o.getAttribute("aria-rowindex"),10)-1)},t.prototype.onFocusOut=function(t){e.prototype.onFocusOut.call(this,t),this.getFocusableElement().contains(t.relatedTarget)||(this.lastFocusedRow=null)},t.prototype.handleKeyDown=function(e){switch(e.keyCode){case ze.KEY_UP:case ze.KEY_DOWN:case ze.KEY_TAB:this.navigate(e.keyCode===ze.KEY_UP||e.keyCode===ze.KEY_TAB&&e.shiftKey)&&e.preventDefault()}},t.prototype.navigate=function(e){if(!et.exists(this.lastFocusedRow))return!1;var t=this.lastFocusedRow+(e?-1:1);return!(t<0||t>=this.model.getRowCount())&&(this.focusRow(t),!0)},t.prototype.getLastFocusedRow=function(){return this.lastFocusedRow},t.prototype.focusRow=function(e){var t=this;this.ensureIndexVisible(e),window.setTimeout((function(){var o=t.renderedRows.get(e);o&&o.eDiv.focus()}),10)},t.prototype.getComponentAt=function(e){var t=this.renderedRows.get(e);return t&&t.rowComponent},t.getTemplate=function(e){return'\n            <div class="ag-virtual-list-viewport ag-'+e+'-virtual-list-viewport">\n                <div class="ag-virtual-list-container ag-'+e+'-virtual-list-container" ref="eContainer"></div>\n            </div>'},t.prototype.getItemHeight=function(){return this.gridOptionsWrapper.getListItemHeight()},t.prototype.ensureIndexVisible=function(e){var t=this.model.getRowCount();if("number"!==typeof e||e<0||e>=t)console.warn("invalid row index for ensureIndexVisible: "+e);else{var o=e*this.rowHeight,n=o+this.rowHeight,i=this.getGui(),r=i.scrollTop,s=i.offsetHeight,a=r+s<n;if(r>o)i.scrollTop=o;else if(a){var l=n-s;i.scrollTop=l}}},t.prototype.setComponentCreator=function(e){this.componentCreator=e},t.prototype.getRowHeight=function(){return this.rowHeight},t.prototype.getScrollTop=function(){return this.getGui().scrollTop},t.prototype.setRowHeight=function(e){this.rowHeight=e,this.refresh()},t.prototype.refresh=function(){var e=this;if(null!=this.model){var t=this.model.getRowCount();this.eContainer.style.height=t*this.rowHeight+"px",this.eContainer.setAttribute("aria-rowcount",t.toString()),setTimeout((function(){e.clearVirtualRows(),e.drawVirtualRows()}),0)}},t.prototype.clearVirtualRows=function(){var e=this;this.renderedRows.forEach((function(t,o){return e.removeRow(o)}))},t.prototype.drawVirtualRows=function(){var e=this.getGui(),t=e.scrollTop,o=t+e.offsetHeight,n=Math.floor(t/this.rowHeight),i=Math.floor(o/this.rowHeight);this.ensureRowsRendered(n,i)},t.prototype.ensureRowsRendered=function(e,t){var o=this;this.renderedRows.forEach((function(n,i){(i<e||i>t)&&i!==o.lastFocusedRow&&o.removeRow(i)}));for(var n=e;n<=t;n++)if(!this.renderedRows.has(n)&&n<this.model.getRowCount()){var i=this.model.getRow(n);this.insertRow(i,n)}},t.prototype.insertRow=function(e,t){var o=document.createElement("div");et.addCssClass(o,"ag-virtual-list-item"),et.addCssClass(o,"ag-"+this.cssIdentifier+"-virtual-list-item"),o.setAttribute("aria-rowindex",(t+1).toString()),o.setAttribute("tabindex","-1"),o.style.height=this.rowHeight+"px",o.style.top=this.rowHeight*t+"px";var n=this.componentCreator(e);o.appendChild(n.getGui()),this.eContainer.appendChild(o),this.renderedRows.set(t,{rowComponent:n,eDiv:o})},t.prototype.removeRow=function(e){var t=this.renderedRows.get(e);this.eContainer.removeChild(t.eDiv),this.destroyBean(t.rowComponent),this.renderedRows.delete(e)},t.prototype.addScrollListener=function(){var e=this;this.addGuiEventListener("scroll",(function(){return e.drawVirtualRows()}))},t.prototype.setModel=function(e){this.model=e},lu([ut("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),lu([co("eContainer")],t.prototype,"eContainer",void 0),t}(Er);var uu,du,hu=function(){function e(){}return e.prototype.wrap=function(e,t,o,n,i){var r=this;void 0===o&&(o=[]);var s=this.createWrapper(e,n,i);return t.forEach((function(e){r.createMethod(s,e,!0)})),o.forEach((function(e){r.createMethod(s,e,!1)})),s},e.prototype.createMethod=function(e,t,o){e.addMethod(t,this.createMethodProxy(e,t,o))},e.prototype.createMethodProxy=function(e,t,o){return function(){return e.hasMethod(t)?e.callMethod(t,arguments):(o&&console.warn("ag-Grid: Framework component is missing the method "+t+"()"),null)}},e}();(uu=t.ChartType||(t.ChartType={})).GroupedColumn="groupedColumn",uu.StackedColumn="stackedColumn",uu.NormalizedColumn="normalizedColumn",uu.GroupedBar="groupedBar",uu.StackedBar="stackedBar",uu.NormalizedBar="normalizedBar",uu.Line="line",uu.Scatter="scatter",uu.Bubble="bubble",uu.Pie="pie",uu.Doughnut="doughnut",uu.Area="area",uu.StackedArea="stackedArea",uu.NormalizedArea="normalizedArea",uu.Histogram="histogram",(du=t.LegendPosition||(t.LegendPosition={})).Top="top",du.Right="right",du.Bottom="bottom",du.Left="left";var pu="undefined"===typeof o.g?{}:o.g;pu.HTMLElement="undefined"===typeof HTMLElement?{}:HTMLElement,pu.HTMLButtonElement="undefined"===typeof HTMLButtonElement?{}:HTMLButtonElement,pu.HTMLSelectElement="undefined"===typeof HTMLSelectElement?{}:HTMLSelectElement,pu.HTMLInputElement="undefined"===typeof HTMLInputElement?{}:HTMLInputElement,pu.Node="undefined"===typeof Node?{}:Node,pu.MouseEvent="undefined"===typeof MouseEvent?{}:MouseEvent;var gu,fu=function(){function e(t,o,n,i,r,s,a,l){this.nextId=0,this.allNodesMap={},this.rootNode=t,this.gridOptionsWrapper=o,this.context=n,this.eventService=i,this.columnController=r,this.gridApi=s,this.columnApi=a,this.selectionController=l,this.rootNode.group=!0,this.rootNode.level=-1,this.rootNode.id=e.ROOT_NODE_ID,this.rootNode.allLeafChildren=[],this.rootNode.childrenAfterGroup=[],this.rootNode.childrenAfterSort=[],this.rootNode.childrenAfterFilter=[],this.postConstruct()}return e.prototype.postConstruct=function(){this.getNodeChildDetails=this.gridOptionsWrapper.getNodeChildDetailsFunc(),this.suppressParentsInRowNodes=this.gridOptionsWrapper.isSuppressParentsInRowNodes(),this.doesDataFlower=this.gridOptionsWrapper.getDoesDataFlowerFunc(),this.isRowMasterFunc=this.gridOptionsWrapper.getIsRowMasterFunc(),this.doingTreeData=this.gridOptionsWrapper.isTreeData(),this.doingLegacyTreeData=!this.doingTreeData&&et.exists(this.getNodeChildDetails),this.doingMasterDetail=this.gridOptionsWrapper.isMasterDetail(),this.getNodeChildDetails&&console.warn("ag-Grid: the callback nodeChildDetailsFunc() is now deprecated. The new way of doing\n                                    tree data in ag-Grid was introduced in v14 (released November 2017). In the next\n                                    major release of ag-Grid we will be dropping support for the old version of\n                                    tree data. If you are reading this message, please go to the docs to see how\n                                    to implement Tree Data without using nodeChildDetailsFunc().")},e.prototype.getCopyOfNodesMap=function(){return et.cloneObject(this.allNodesMap)},e.prototype.getRowNode=function(e){return this.allNodesMap[e]},e.prototype.setRowData=function(t){if(this.rootNode.childrenAfterFilter=null,this.rootNode.childrenAfterGroup=null,this.rootNode.childrenAfterSort=null,this.rootNode.childrenMapped=null,this.nextId=0,this.allNodesMap={},!t)return this.rootNode.allLeafChildren=[],void(this.rootNode.childrenAfterGroup=[]);var o=this.recursiveFunction(t,this.rootNode,e.TOP_LEVEL);this.doingLegacyTreeData?(this.rootNode.childrenAfterGroup=o,this.setLeafChildren(this.rootNode)):this.rootNode.allLeafChildren=o},e.prototype.updateRowData=function(e,t){if(this.isLegacyTreeData())return null;var o={remove:[],update:[],add:[]},n=[];return this.executeAdd(e,o),this.executeRemove(e,o,n),this.executeUpdate(e,o,n),this.updateSelection(n),t&&et.sortRowNodesByOrder(this.rootNode.allLeafChildren,t),o},e.prototype.updateSelection=function(e){var t=e.length>0;if(t&&e.forEach((function(e){e.setSelected(!1,!1,!0)})),this.selectionController.updateGroupsFromChildrenSelections(),t){var o={type:_t.EVENT_SELECTION_CHANGED,api:this.gridApi,columnApi:this.columnApi};this.eventService.dispatchEvent(o)}},e.prototype.executeAdd=function(e,t){var o=this,n=e.add,i=e.addIndex;n&&("number"===typeof i&&i>=0?n.reverse().forEach((function(e){var n=o.addRowNode(e,i);t.add.push(n)})):n.forEach((function(e){var n=o.addRowNode(e);t.add.push(n)})))},e.prototype.executeRemove=function(e,t,o){var n=this,i=e.remove;if(i){var r={};i.forEach((function(e){var i=n.lookupRowNode(e);i&&(i.isSelected()&&o.push(i),i.clearRowTop(),r[i.id]=!0,delete n.allNodesMap[i.id],t.remove.push(i))})),this.rootNode.allLeafChildren=this.rootNode.allLeafChildren.filter((function(e){return!r[e.id]}))}},e.prototype.executeUpdate=function(t,o,n){var i=this,r=t.update;r&&r.forEach((function(t){var r=i.lookupRowNode(t);r&&(r.updateData(t),!r.selectable&&r.isSelected()&&n.push(r),i.setMasterForRow(r,t,e.TOP_LEVEL,!1),o.update.push(r))}))},e.prototype.addRowNode=function(t,o){var n=this.createNode(t,this.rootNode,e.TOP_LEVEL);return et.exists(o)?et.insertIntoArray(this.rootNode.allLeafChildren,n,o):this.rootNode.allLeafChildren.push(n),n},e.prototype.lookupRowNode=function(e){var t,o=this.gridOptionsWrapper.getRowNodeIdFunc();if(et.exists(o)){var n=o(e);if(!(t=this.allNodesMap[n]))return console.error("ag-Grid: could not find row id="+n+", data item was not found for this id"),null}else if(!(t=et.find(this.rootNode.allLeafChildren,(function(t){return t.data===e}))))return console.error("ag-Grid: could not find data item as object was not found",e),null;return t},e.prototype.recursiveFunction=function(e,t,o){var n=this;if("string"!==typeof e){var i=[];return e.forEach((function(e){var r=n.createNode(e,t,o);i.push(r)})),i}console.warn("ag-Grid: rowData must be an array, however you passed in a string. If you are loading JSON, make sure you convert the JSON string to JavaScript objects first")},e.prototype.createNode=function(e,t,o){var n=new Wo;this.context.createBean(n);var i=this.doingLegacyTreeData?this.getNodeChildDetails(e):null;return i&&i.group?(n.group=!0,n.childrenAfterGroup=this.recursiveFunction(i.children,n,o+1),n.expanded=!0===i.expanded,n.field=i.field,n.key=i.key,this.setLeafChildren(n)):(n.group=!1,this.setMasterForRow(n,e,o,!0)),n.canFlower=n.master,t&&!this.suppressParentsInRowNodes&&(n.parent=t),n.level=o,n.setDataAndId(e,this.nextId.toString()),this.allNodesMap[n.id]&&console.warn("ag-grid: duplicate node id '"+n.id+"' detected from getRowNodeId callback, this could cause issues in your grid."),this.allNodesMap[n.id]=n,this.nextId++,n},e.prototype.setMasterForRow=function(e,t,o,n){if(this.doingTreeData)e.setMaster(!1),n&&(e.expanded=!1);else if(this.doesDataFlower?e.setMaster(this.doesDataFlower(t)):this.doingMasterDetail?this.isRowMasterFunc?e.setMaster(this.isRowMasterFunc(t)):e.setMaster(!0):e.setMaster(!1),n){var i=this.columnController.getRowGroupColumns(),r=o+(i?i.length:0);e.expanded=!!e.master&&this.isExpanded(r)}},e.prototype.isExpanded=function(e){var t=this.gridOptionsWrapper.getGroupDefaultExpanded();return-1===t||e<t},e.prototype.setLeafChildren=function(e){e.allLeafChildren=[],e.childrenAfterGroup&&e.childrenAfterGroup.forEach((function(t){t.group?t.allLeafChildren&&t.allLeafChildren.forEach((function(t){return e.allLeafChildren.push(t)})):e.allLeafChildren.push(t)}))},e.prototype.isLegacyTreeData=function(){return!!et.exists(this.gridOptionsWrapper.getNodeChildDetailsFunc())&&(console.warn("ag-Grid: adding and removing rows is not supported when using nodeChildDetailsFunc, ie it is not supported for legacy tree data. Please see the docs on the new preferred way of providing tree data that works with delta updates."),!0)},e.TOP_LEVEL=0,e.ROOT_NODE_ID="ROOT_NODE_ID",e}(),mu=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),vu=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s};!function(e){e[e.Normal=0]="Normal",e[e.AfterFilter=1]="AfterFilter",e[e.AfterFilterAndSort=2]="AfterFilterAndSort",e[e.PivotNodes=3]="PivotNodes"}(gu||(gu={}));var yu,Cu=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return mu(t,e),t.prototype.init=function(){var e=this.refreshModel.bind(this,{step:ze.STEP_EVERYTHING}),t=this.refreshModel.bind(this,{step:ze.STEP_EVERYTHING,afterColumnsChanged:!0,keepRenderedRows:!0});this.addManagedListener(this.eventService,_t.EVENT_COLUMN_EVERYTHING_CHANGED,t),this.addManagedListener(this.eventService,_t.EVENT_COLUMN_ROW_GROUP_CHANGED,e),this.addManagedListener(this.eventService,_t.EVENT_COLUMN_VALUE_CHANGED,this.onValueChanged.bind(this)),this.addManagedListener(this.eventService,_t.EVENT_COLUMN_PIVOT_CHANGED,this.refreshModel.bind(this,{step:ze.STEP_PIVOT})),this.addManagedListener(this.eventService,_t.EVENT_ROW_GROUP_OPENED,this.onRowGroupOpened.bind(this)),this.addManagedListener(this.eventService,_t.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,_t.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,_t.EVENT_COLUMN_PIVOT_MODE_CHANGED,e);var o=this.refreshModel.bind(this,{step:ze.STEP_MAP,keepRenderedRows:!0,animate:!0});this.addManagedListener(this.gridOptionsWrapper,Jt.PROP_GROUP_REMOVE_SINGLE_CHILDREN,o),this.addManagedListener(this.gridOptionsWrapper,Jt.PROP_GROUP_REMOVE_LOWEST_SINGLE_CHILDREN,o),this.rootNode=new Wo,this.nodeManager=new fu(this.rootNode,this.gridOptionsWrapper,this.getContext(),this.eventService,this.columnController,this.gridApi,this.columnApi,this.selectionController),this.createBean(this.rootNode)},t.prototype.start=function(){var e=this.gridOptionsWrapper.getRowData();e&&this.setRowData(e)},t.prototype.ensureRowHeightsValid=function(e,t,o,n){var i,r=!1;do{i=!1;for(var s=this.getRowIndexAtPixel(e),a=this.getRowIndexAtPixel(t),l=Math.max(s,o),c=Math.min(a,n),u=l;u<=c;u++){var d=this.getRow(u);if(d.rowHeightEstimated){var h=this.gridOptionsWrapper.getRowHeightForNode(d);d.setRowHeight(h.height),i=!0,r=!0}}i&&this.setRowTops()}while(i);return r},t.prototype.setRowTops=function(){for(var e=0,t=0;t<this.rowsToDisplay.length;t++){var o=this.gridOptionsWrapper.getDomLayout()===ze.DOM_LAYOUT_NORMAL,n=this.rowsToDisplay[t];if(et.missing(n.rowHeight)){var i=this.gridOptionsWrapper.getRowHeightForNode(n,o);n.setRowHeight(i.height,i.estimated)}n.setRowTop(e),n.setRowIndex(t),e+=n.rowHeight}},t.prototype.resetRowTops=function(e,t){if(e.clearRowTop(),e.hasChildren()){if(e.childrenAfterGroup)if(!(t.isActive()&&!e.expanded))for(var o=0;o<e.childrenAfterGroup.length;o++)this.resetRowTops(e.childrenAfterGroup[o],t);e.sibling&&e.sibling.clearRowTop()}e.detailNode&&e.detailNode.clearRowTop()},t.prototype.ensureRowsAtPixel=function(e,t,o){var n=this;void 0===o&&(o=0);var i=this.getRowIndexAtPixel(t);return this.getRow(i)!==e[0]&&(e.forEach((function(e){et.removeFromArray(n.rootNode.allLeafChildren,e)})),e.forEach((function(e,t){et.insertIntoArray(n.rootNode.allLeafChildren,e,i+o+t)})),this.refreshModel({step:ze.STEP_EVERYTHING,keepRenderedRows:!0,animate:!0,keepEditingRows:!0}),!0)},t.prototype.highlightRowAtPixel=function(e,t){var o=null!=t?this.getRowIndexAtPixel(t):null,n=null!=o?this.getRow(o):null;if(n&&e&&n!==e&&null!=t){var i=this.getHighlightPosition(t,n);this.lastHighlightedRow&&this.lastHighlightedRow!==n&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null),n.setHighlighted(i),this.lastHighlightedRow=n}else this.lastHighlightedRow&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null)},t.prototype.getHighlightPosition=function(e,t){if(!t){var o=this.getRowIndexAtPixel(e);if(!(t=this.getRow(o||0)))return"below"}return e-t.rowTop<t.rowHeight/2?"above":"below"},t.prototype.getLastHighlightedRowNode=function(){return this.lastHighlightedRow},t.prototype.isLastRowFound=function(){return!0},t.prototype.getRowCount=function(){return this.rowsToDisplay?this.rowsToDisplay.length:0},t.prototype.getTopLevelRowCount=function(){return this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode?1:this.rootNode.childrenAfterFilter?this.rootNode.childrenAfterFilter.length:0},t.prototype.getTopLevelRowDisplayedIndex=function(e){if(this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode)return e;var t=this.rootNode.childrenAfterSort[e];if(this.gridOptionsWrapper.isGroupHideOpenParents())for(;t.expanded&&t.childrenAfterSort&&t.childrenAfterSort.length>0;)t=t.childrenAfterSort[0];return t.rowIndex},t.prototype.getRowBounds=function(e){if(et.missing(this.rowsToDisplay))return null;var t=this.rowsToDisplay[e];return t?{rowTop:t.rowTop,rowHeight:t.rowHeight}:null},t.prototype.onRowGroupOpened=function(){var e=this.gridOptionsWrapper.isAnimateRows();this.refreshModel({step:ze.STEP_MAP,keepRenderedRows:!0,animate:e})},t.prototype.onFilterChanged=function(e){if(!e.afterDataChange){var t=this.gridOptionsWrapper.isAnimateRows();this.refreshModel({step:ze.STEP_FILTER,keepRenderedRows:!0,animate:t})}},t.prototype.onSortChanged=function(){var e=this.gridOptionsWrapper.isAnimateRows();this.refreshModel({step:ze.STEP_SORT,keepRenderedRows:!0,animate:e,keepEditingRows:!0})},t.prototype.getType=function(){return ze.ROW_MODEL_TYPE_CLIENT_SIDE},t.prototype.onValueChanged=function(){this.columnController.isPivotActive()?this.refreshModel({step:ze.STEP_PIVOT}):this.refreshModel({step:ze.STEP_AGGREGATE})},t.prototype.createChangePath=function(e){var t=et.missingOrEmpty(e),o=new Pi(!1,this.rootNode);return(t||this.gridOptionsWrapper.isTreeData())&&o.setInactive(),o},t.prototype.refreshModel=function(e){var t=this,o=this.createChangePath(e.rowNodeTransactions);switch(e.step){case ze.STEP_EVERYTHING:this.doRowGrouping(e.groupState,e.rowNodeTransactions,e.rowNodeOrder,o,e.afterColumnsChanged);case ze.STEP_FILTER:this.doFilter(o);case ze.STEP_PIVOT:this.doPivot(o);case ze.STEP_AGGREGATE:this.doAggregate(o);case ze.STEP_SORT:this.doSort(e.rowNodeTransactions,o);case ze.STEP_MAP:this.doRowsToDisplay()}this.resetRowTops(this.rootNode,o),this.setRowTops();var n={type:_t.EVENT_MODEL_UPDATED,api:this.gridApi,columnApi:this.columnApi,animate:e.animate,keepRenderedRows:e.keepRenderedRows,newData:e.newData,newPage:!1};this.eventService.dispatchEvent(n),this.$scope&&window.setTimeout((function(){t.$scope.$apply()}),0)},t.prototype.isEmpty=function(){var e;return e=et.exists(this.gridOptionsWrapper.getNodeChildDetailsFunc())?et.missing(this.rootNode.childrenAfterGroup)||0===this.rootNode.childrenAfterGroup.length:et.missing(this.rootNode.allLeafChildren)||0===this.rootNode.allLeafChildren.length,et.missing(this.rootNode)||e||!this.columnController.isReady()},t.prototype.isRowsToRender=function(){return et.exists(this.rowsToDisplay)&&this.rowsToDisplay.length>0},t.prototype.getNodesInRangeForSelection=function(e,t){var o,n=!t,i=!1,r=[],s=this.gridOptionsWrapper.isGroupSelectsChildren();return this.forEachNodeAfterFilterAndSort((function(a){var l=n&&!i;if(n||a!==t&&a!==e||(n=!0),!(a.group&&s)){var c=n&&!i,u=a.isParentOfNode(o);(c||u)&&r.push(a)}l&&(a!==t&&a!==e||(i=!0,o=a===t?t:e))})),r},t.prototype.setDatasource=function(e){console.error("ag-Grid: should never call setDatasource on clientSideRowController")},t.prototype.getTopLevelNodes=function(){return this.rootNode?this.rootNode.childrenAfterGroup:null},t.prototype.getRootNode=function(){return this.rootNode},t.prototype.getRow=function(e){return this.rowsToDisplay[e]},t.prototype.isRowPresent=function(e){return this.rowsToDisplay.indexOf(e)>=0},t.prototype.getRowIndexAtPixel=function(e){if(this.isEmpty())return-1;var t=0,o=this.rowsToDisplay.length-1;if(e<=0)return 0;if(et.last(this.rowsToDisplay).rowTop<=e)return this.rowsToDisplay.length-1;for(;;){var n=Math.floor((t+o)/2),i=this.rowsToDisplay[n];if(this.isRowInPixel(i,e))return n;i.rowTop<e?t=n+1:i.rowTop>e&&(o=n-1)}},t.prototype.isRowInPixel=function(e,t){var o=e.rowTop,n=e.rowTop+e.rowHeight;return o<=t&&n>t},t.prototype.getCurrentPageHeight=function(){if(this.rowsToDisplay&&this.rowsToDisplay.length>0){var e=et.last(this.rowsToDisplay);return e.rowTop+e.rowHeight}return 0},t.prototype.forEachLeafNode=function(e){this.rootNode.allLeafChildren&&this.rootNode.allLeafChildren.forEach((function(t,o){return e(t,o)}))},t.prototype.forEachNode=function(e){this.recursivelyWalkNodesAndCallback(this.rootNode.childrenAfterGroup,e,gu.Normal,0)},t.prototype.forEachNodeAfterFilter=function(e){this.recursivelyWalkNodesAndCallback(this.rootNode.childrenAfterFilter,e,gu.AfterFilter,0)},t.prototype.forEachNodeAfterFilterAndSort=function(e){this.recursivelyWalkNodesAndCallback(this.rootNode.childrenAfterSort,e,gu.AfterFilterAndSort,0)},t.prototype.forEachPivotNode=function(e){this.recursivelyWalkNodesAndCallback([this.rootNode],e,gu.PivotNodes,0)},t.prototype.recursivelyWalkNodesAndCallback=function(e,t,o,n){if(!e)return n;for(var i=0;i<e.length;i++){var r=e[i];if(t(r,n++),r.hasChildren()){var s=null;switch(o){case gu.Normal:s=r.childrenAfterGroup;break;case gu.AfterFilter:s=r.childrenAfterFilter;break;case gu.AfterFilterAndSort:s=r.childrenAfterSort;break;case gu.PivotNodes:s=r.leafGroup?null:r.childrenAfterSort}s&&(n=this.recursivelyWalkNodesAndCallback(s,t,o,n))}}return n},t.prototype.doAggregate=function(e){this.aggregationStage&&this.aggregationStage.execute({rowNode:this.rootNode,changedPath:e})},t.prototype.expandOrCollapseAll=function(e){var t=this.gridOptionsWrapper.isTreeData();this.rootNode&&function o(n){if(!n)return;n.forEach((function(n){(t?et.exists(n.childrenAfterGroup):n.group)&&(n.expanded=e,o(n.childrenAfterGroup))}))}(this.rootNode.childrenAfterGroup),this.refreshModel({step:ze.STEP_MAP});var o=e?"expandAll":"collapseAll",n={api:this.gridApi,columnApi:this.columnApi,type:_t.EVENT_EXPAND_COLLAPSE_ALL,source:o};this.eventService.dispatchEvent(n)},t.prototype.doSort=function(e,t){this.sortStage.execute({rowNode:this.rootNode,rowNodeTransactions:e,changedPath:t})},t.prototype.doRowGrouping=function(e,t,o,n,i){et.exists(this.gridOptionsWrapper.getNodeChildDetailsFunc())||(this.groupStage?(t?this.groupStage.execute({rowNode:this.rootNode,rowNodeTransactions:t,rowNodeOrder:o,changedPath:n}):(this.selectionController.removeGroupsFromSelection(),this.groupStage.execute({rowNode:this.rootNode,changedPath:n,afterColumnsChanged:i}),this.restoreGroupState(e)),this.gridOptionsWrapper.isGroupSelectsChildren()&&this.selectionController.updateGroupsFromChildrenSelections(n)):this.rootNode.childrenAfterGroup=this.rootNode.allLeafChildren)},t.prototype.restoreGroupState=function(e){e&&et.traverseNodesWithKey(this.rootNode.childrenAfterGroup,(function(t,o){"boolean"===typeof e[o]&&(t.expanded=e[o])}))},t.prototype.doFilter=function(e){this.filterStage.execute({rowNode:this.rootNode,changedPath:e})},t.prototype.doPivot=function(e){this.pivotStage&&this.pivotStage.execute({rowNode:this.rootNode,changedPath:e})},t.prototype.getGroupState=function(){if(!this.rootNode.childrenAfterGroup||!this.gridOptionsWrapper.isRememberGroupStateWhenNewData())return null;var e={};return et.traverseNodesWithKey(this.rootNode.childrenAfterGroup,(function(t,o){return e[o]=t.expanded})),e},t.prototype.getCopyOfNodesMap=function(){return this.nodeManager.getCopyOfNodesMap()},t.prototype.getRowNode=function(e){return this.nodeManager.getRowNode(e)},t.prototype.setRowData=function(e){var t=this.getGroupState();this.nodeManager.setRowData(e);var o={type:_t.EVENT_ROW_DATA_CHANGED,api:this.gridApi,columnApi:this.columnApi};this.eventService.dispatchEvent(o),this.refreshModel({step:ze.STEP_EVERYTHING,groupState:t,newData:!0})},t.prototype.batchUpdateRowData=function(e,t){var o=this;if(!this.rowDataTransactionBatch){this.rowDataTransactionBatch=[];var n=this.gridOptionsWrapper.getAsyncTransactionWaitMillis();window.setTimeout((function(){o.executeBatchUpdateRowData(),o.rowDataTransactionBatch=null}),n)}this.rowDataTransactionBatch.push({rowDataTransaction:e,callback:t})},t.prototype.executeBatchUpdateRowData=function(){var e=this;this.valueCache.onDataChanged();var t=[],o=[];this.rowDataTransactionBatch&&this.rowDataTransactionBatch.forEach((function(n){var i=e.nodeManager.updateRowData(n.rowDataTransaction,null);o.push(i),n.callback&&t.push(n.callback.bind(null,i))})),this.commonUpdateRowData(o),t.length>0&&window.setTimeout((function(){t.forEach((function(e){return e()}))}),0)},t.prototype.updateRowData=function(e,t){this.valueCache.onDataChanged();var o=this.nodeManager.updateRowData(e,t);return this.commonUpdateRowData([o],t),o},t.prototype.commonUpdateRowData=function(e,t){this.refreshModel({step:ze.STEP_EVERYTHING,rowNodeTransactions:e,rowNodeOrder:t,keepRenderedRows:!0,animate:!0,keepEditingRows:!0});var o={type:_t.EVENT_ROW_DATA_UPDATED,api:this.gridApi,columnApi:this.columnApi};this.eventService.dispatchEvent(o)},t.prototype.doRowsToDisplay=function(){this.rowsToDisplay=this.flattenStage.execute({rowNode:this.rootNode})},t.prototype.onRowHeightChanged=function(){this.refreshModel({step:ze.STEP_MAP,keepRenderedRows:!0,keepEditingRows:!0})},t.prototype.resetRowHeights=function(){this.forEachNode((function(e){e.setRowHeight(null),e.detailNode&&e.detailNode.setRowHeight(null)})),this.onRowHeightChanged()},vu([ut("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),vu([ut("columnController")],t.prototype,"columnController",void 0),vu([ut("filterManager")],t.prototype,"filterManager",void 0),vu([ut("$scope")],t.prototype,"$scope",void 0),vu([ut("selectionController")],t.prototype,"selectionController",void 0),vu([ut("valueService")],t.prototype,"valueService",void 0),vu([ut("valueCache")],t.prototype,"valueCache",void 0),vu([ut("columnApi")],t.prototype,"columnApi",void 0),vu([ut("gridApi")],t.prototype,"gridApi",void 0),vu([ut("filterStage")],t.prototype,"filterStage",void 0),vu([ut("sortStage")],t.prototype,"sortStage",void 0),vu([ut("flattenStage")],t.prototype,"flattenStage",void 0),vu([dt("groupStage")],t.prototype,"groupStage",void 0),vu([dt("aggregationStage")],t.prototype,"aggregationStage",void 0),vu([dt("pivotStage")],t.prototype,"pivotStage",void 0),vu([at],t.prototype,"init",null),t=vu([ct("rowModel")],t)}(xt),wu=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),bu=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Su=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return wu(t,e),t.prototype.execute=function(e){var t=e.rowNode,o=e.changedPath;this.filterService.filter(o),this.selectableService.updateSelectableAfterFiltering(t)},bu([ut("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),bu([ut("selectableService")],t.prototype,"selectableService",void 0),bu([ut("filterService")],t.prototype,"filterService",void 0),t=bu([ct("filterStage")],t)}(xt),Eu=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Ru=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Pu=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Eu(t,e),t.prototype.execute=function(e){var t=this.sortController.getSortForRowController(),o=et.exists(t)&&t.length>0,n=o&&et.exists(e.rowNodeTransactions)&&this.gridOptionsWrapper.isDeltaSort(),i=n?this.calculateDirtyNodes(e.rowNodeTransactions):null,r=this.columnController.getValueColumns(),s=et.missingOrEmpty(r);this.sortService.sort(t,o,n,i,e.changedPath,s)},t.prototype.calculateDirtyNodes=function(e){var t={},o=function(e){e&&e.forEach((function(e){return t[e.id]=!0}))};return e.forEach((function(e){o(e.add),o(e.update),o(e.remove)})),t},Ru([ut("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),Ru([ut("sortService")],t.prototype,"sortService",void 0),Ru([ut("sortController")],t.prototype,"sortController",void 0),Ru([ut("columnController")],t.prototype,"columnController",void 0),t=Ru([ct("sortStage")],t)}(xt),Ou=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),xu=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Tu=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ou(t,e),t.prototype.execute=function(e){var t=e.rowNode,o=[],n={value:0},i=this.columnController.isPivotMode(),r=i&&t.leafGroup,s=r?[t]:t.childrenAfterSort;return this.recursivelyAddToRowsToDisplay(s,o,n,i,0),!r&&o.length>0&&this.gridOptionsWrapper.isGroupIncludeTotalFooter()&&(this.ensureFooterNodeExists(t),this.addRowNodeToRowsToDisplay(t.sibling,o,n,0)),o},t.prototype.recursivelyAddToRowsToDisplay=function(e,t,o,n,i){if(!et.missingOrEmpty(e))for(var r=this.gridOptionsWrapper.isGroupSuppressRow(),s=this.gridOptionsWrapper.isGroupHideOpenParents(),a=this.gridOptionsWrapper.isGroupRemoveSingleChildren(),l=!a&&this.gridOptionsWrapper.isGroupRemoveLowestSingleChildren(),c=0;c<e.length;c++){var u=e[c],d=u.hasChildren(),h=r&&d,p=n&&!d,g=a&&d&&1===u.childrenAfterGroup.length,f=l&&d&&u.leafGroup&&1===u.childrenAfterGroup.length,m=n&&u.leafGroup,v=s&&u.expanded&&!m;if(!p&&!h&&!v&&!g&&!f&&this.addRowNodeToRowsToDisplay(u,t,o,i),!n||!u.leafGroup)if(d){var y=g||f;if(u.expanded||y){var C=y?i:i+1;this.recursivelyAddToRowsToDisplay(u.childrenAfterSort,t,o,n,C),this.gridOptionsWrapper.isGroupIncludeFooter()&&(this.ensureFooterNodeExists(u),this.addRowNodeToRowsToDisplay(u.sibling,t,o,i))}}else if(u.master&&u.expanded){var w=this.createDetailNode(u);this.addRowNodeToRowsToDisplay(w,t,o,i)}}},t.prototype.addRowNodeToRowsToDisplay=function(e,t,o,n){var i=this.gridOptionsWrapper.isGroupMultiAutoColumn();t.push(e),e.setUiLevel(i?0:n)},t.prototype.ensureFooterNodeExists=function(e){if(!et.exists(e.sibling)){var t=new Wo;this.context.createBean(t),Object.keys(e).forEach((function(o){t[o]=e[o]})),t.footer=!0,t.rowTop=null,t.oldRowTop=null,et.exists(t.id)&&(t.id="rowGroupFooter_"+t.id),t.sibling=e,e.sibling=t}},t.prototype.createDetailNode=function(e){if(et.exists(e.detailNode))return e.detailNode;var t=new Wo;return this.context.createBean(t),t.detail=!0,t.selectable=!1,t.flower=t.detail,t.parent=e,et.exists(e.id)&&(t.id="detail_"+e.id),t.data=e.data,t.level=e.level+1,e.detailNode=t,e.childFlower=e.detailNode,t},xu([ut("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),xu([ut("selectionController")],t.prototype,"selectionController",void 0),xu([ut("columnController")],t.prototype,"columnController",void 0),t=xu([ct("flattenStage")],t)}(xt),Du=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Au=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Fu=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Du(t,e),t.prototype.init=function(){this.postSortFunc=this.gridOptionsWrapper.getPostSortFunc()},t.prototype.sort=function(e,t,o,n,i,r){var s=this;i.forEachChangedNodeDepthFirst((function(a){if(s.pullDownGroupDataForHideOpenParents(a.childrenAfterFilter,!0),t){var l=o?s.doDeltaSort(a,e,n,i,r):s.doFullSort(a,e);a.childrenAfterSort=l.map((function(e){return e.rowNode}))}else a.childrenAfterSort=a.childrenAfterFilter.slice(0);s.updateChildIndexes(a),s.postSortFunc&&s.postSortFunc(a.childrenAfterSort)})),this.updateGroupDataForHiddenOpenParents(i)},t.prototype.doFullSort=function(e,t){var o=e.childrenAfterFilter.map(this.mapNodeToSortedNode.bind(this));return o.sort(this.compareRowNodes.bind(this,t)),o},t.prototype.mapNodeToSortedNode=function(e,t){return{currentPos:t,rowNode:e}},t.prototype.doDeltaSort=function(e,t,o,n,i){var r=e.childrenAfterSort.filter((function(e){var t=!o[e.id],r=i||n.canSkip(e);return t&&r})).map(this.mapNodeToSortedNode.bind(this)),s={};r.forEach((function(e){return s[e.rowNode.id]=e.rowNode}));var a=e.childrenAfterFilter.filter((function(e){return!s[e.id]})).map(this.mapNodeToSortedNode.bind(this));return a.sort(this.compareRowNodes.bind(this,t)),0===a.length?r:0===r.length?a:this.mergeSortedArrays(t,r,a)},t.prototype.mergeSortedArrays=function(e,t,o){for(var n=[],i=0,r=0;i<t.length&&r<o.length;){this.compareRowNodes(e,t[i],o[r])<0?n.push(t[i++]):n.push(o[r++])}for(;i<t.length;)n.push(t[i++]);for(;r<o.length;)n.push(o[r++]);return n},t.prototype.compareRowNodes=function(e,t,o){for(var n=t.rowNode,i=o.rowNode,r=0,s=e.length;r<s;r++){var a=e[r],l=-1===a.inverter,c=this.getValue(n,a.column),u=this.getValue(i,a.column),d=void 0;if(0!==(d=a.column.getColDef().comparator?a.column.getColDef().comparator(c,u,n,i,l):et.defaultComparator(c,u,this.gridOptionsWrapper.isAccentedSort())))return d*a.inverter}return t.currentPos-o.currentPos},t.prototype.getValue=function(e,t){return this.valueService.getValue(t,e)},t.prototype.updateChildIndexes=function(e){if(!et.missing(e.childrenAfterSort))for(var t=e.childrenAfterSort,o=0;o<t.length;o++){var n=t[o],i=0===o,r=o===e.childrenAfterSort.length-1;n.setFirstChild(i),n.setLastChild(r),n.setChildIndex(o)}},t.prototype.updateGroupDataForHiddenOpenParents=function(e){var t=this;if(this.gridOptionsWrapper.isGroupHideOpenParents()){var o=function(e){t.pullDownGroupDataForHideOpenParents(e.childrenAfterSort,!1),e.childrenAfterSort.forEach((function(e){e.hasChildren()&&o(e)}))};e.executeFromRootNode((function(e){return o(e)}))}},t.prototype.pullDownGroupDataForHideOpenParents=function(e,t){var o=this;et.missing(e)||this.gridOptionsWrapper.isGroupHideOpenParents()&&e.forEach((function(e){o.columnController.getGroupDisplayColumns().forEach((function(n){var i=n.getColDef().showRowGroup;if("string"===typeof i){var r=i,s=o.columnController.getPrimaryColumn(r);if(!(s===e.rowGroupColumn))if(t)e.setGroupValue(n.getId(),null);else{var a=e.getFirstChildOfFirstChild(s);a&&e.setGroupValue(n.getId(),a.key)}}else console.error("ag-Grid: groupHideOpenParents only works when specifying specific columns for colDef.showRowGroup")}))}))},Au([ut("sortController")],t.prototype,"sortController",void 0),Au([ut("columnController")],t.prototype,"columnController",void 0),Au([ut("valueService")],t.prototype,"valueService",void 0),Au([ut("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),Au([at],t.prototype,"init",null),t=Au([ct("sortService")],t)}(xt),_u=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Mu=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Iu=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return _u(t,e),t.prototype.postConstruct=function(){this.doingTreeData=this.gridOptionsWrapper.isTreeData()},t.prototype.filter=function(e){var t=this.filterManager.isAnyFilterPresent();this.filterNodes(t,e)},t.prototype.filterNodes=function(e,t){var o=this,n=function(t,n){t.hasChildren()?(t.childrenAfterFilter=e&&!n?t.childrenAfterGroup.filter((function(e){var t=e.childrenAfterFilter&&e.childrenAfterFilter.length>0,n=e.data&&o.filterManager.doesRowPassFilter(e);return t||n})):t.childrenAfterGroup,o.setAllChildrenCount(t)):(t.childrenAfterFilter=t.childrenAfterGroup,t.setAllChildrenCount(null))};if(this.doingTreeDataFiltering()){var i=function(e,t){if(e.childrenAfterGroup)for(var r=0;r<e.childrenAfterGroup.length;r++){var s=e.childrenAfterGroup[r],a=t||o.filterManager.doesRowPassFilter(s);s.childrenAfterGroup?i(e.childrenAfterGroup[r],a):n(s,a)}n(e,t)};t.executeFromRootNode((function(e){return i(e,!1)}))}else{t.forEachChangedNodeDepthFirst((function(e){return n(e,!1)}),!0)}},t.prototype.setAllChildrenCountTreeData=function(e){var t=0;e.childrenAfterFilter.forEach((function(e){t++,t+=e.allChildrenCount})),e.setAllChildrenCount(t)},t.prototype.setAllChildrenCountGridGrouping=function(e){var t=0;e.childrenAfterFilter.forEach((function(e){e.group?t+=e.allChildrenCount:t++})),e.setAllChildrenCount(t)},t.prototype.setAllChildrenCount=function(e){this.doingTreeData?this.setAllChildrenCountTreeData(e):this.setAllChildrenCountGridGrouping(e)},t.prototype.doingTreeDataFiltering=function(){return this.gridOptionsWrapper.isTreeData()&&!this.gridOptionsWrapper.isExcludeChildrenWhenTreeDataFiltering()},Mu([ut("filterManager")],t.prototype,"filterManager",void 0),Mu([ut("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),Mu([at],t.prototype,"postConstruct",null),t=Mu([ct("filterService")],t)}(xt),Lu=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Nu=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},ku=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Lu(t,e),t.prototype.postConstruct=function(){this.rowModel.getType()===ze.ROW_MODEL_TYPE_CLIENT_SIDE&&(this.clientSideRowModel=this.rowModel)},t.prototype.createTransactionForRowData=function(e){if(et.missing(this.clientSideRowModel))console.error("ag-Grid: ImmutableService only works with ClientSideRowModel");else{var t=this.gridOptionsWrapper.getRowNodeIdFunc();if(t&&!et.missing(t)){var o={remove:[],update:[],add:[]},n=this.clientSideRowModel.getCopyOfNodesMap(),i=this.gridOptionsWrapper.isSuppressMaintainUnsortedOrder()?null:{};return et.exists(e)&&e.forEach((function(e,r){var s=t(e),a=n[s];(i&&(i[s]=r),a)?(a.data!==e&&o.update.push(e),n[s]=void 0):o.add.push(e)})),et.iterateObject(n,(function(e,t){t&&o.remove.push(t.data)})),[o,i]}console.error("ag-Grid: ImmutableService requires getRowNodeId() callback to be implemented, your row data need IDs!")}},Nu([ut("rowModel")],t.prototype,"rowModel",void 0),Nu([ut("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),Nu([at],t.prototype,"postConstruct",null),t=Nu([ct("immutableService")],t)}(xt),Gu={moduleName:t.ModuleNames.ClientSideRowModelModule,beans:[Su,Pu,Tu,Fu,Iu,ku],rowModels:{clientSide:Cu}},Vu=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Hu=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Bu=function(e){function t(t,o){var n=e.call(this,t,o)||this;return n.cacheParams=o,n}return Vu(t,e),t.prototype.getDisplayIndexStart=function(){return this.getBlockNumber()*this.cacheParams.blockSize},t.prototype.getDisplayIndexEnd=function(){return this.getDisplayIndexStart()+this.cacheParams.blockSize},t.prototype.createBlankRowNode=function(t){var o=e.prototype.createBlankRowNode.call(this,t);return o.uiLevel=0,this.setIndexAndTopOnRowNode(o,t),o},t.prototype.setDataAndId=function(e,t,o){et.exists(t)?e.setDataAndId(t,o.toString()):e.setDataAndId(void 0,void 0)},t.prototype.setRowNode=function(t,o){e.prototype.setRowNode.call(this,t,o),this.setIndexAndTopOnRowNode(o,t)},t.prototype.init=function(){e.prototype.init.call(this,{context:this.getContext(),rowRenderer:this.rowRenderer})},t.prototype.getNodeIdPrefix=function(){return null},t.prototype.getRow=function(e){return this.getRowUsingLocalIndex(e)},t.prototype.setIndexAndTopOnRowNode=function(e,t){e.setRowIndex(t),e.rowTop=this.cacheParams.rowHeight*t},t.prototype.loadFromDatasource=function(){var e=this,t={startRow:this.getStartRow(),endRow:this.getEndRow(),successCallback:this.pageLoaded.bind(this,this.getVersion()),failCallback:this.pageLoadFailed.bind(this),sortModel:this.cacheParams.sortModel,filterModel:this.cacheParams.filterModel,context:this.gridOptionsWrapper.getContext()};et.missing(this.cacheParams.datasource.getRows)?console.warn("ag-Grid: datasource is missing getRows method"):window.setTimeout((function(){e.cacheParams.datasource.getRows(t)}),0)},Hu([ut("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),Hu([ut("rowRenderer")],t.prototype,"rowRenderer",void 0),Hu([at],t.prototype,"init",null),t}(Jc),Wu=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),ju=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},zu=function(e,t){return function(o,n){t(o,n,e)}},Uu=function(e){function t(t){return e.call(this,t)||this}return Wu(t,e),t.prototype.setBeans=function(e){this.logger=e.create("InfiniteCache")},t.prototype.moveItemsDown=function(e,t,o){for(var n=e.getStartRow(),i=t+o,r=e.getEndRow()-1;r>=n;r--)if(!(r<i)){var s=r-o,a=this.getRow(s,!0);a?e.setRowNode(r,a):(e.setBlankRowNode(r),e.setDirty())}},t.prototype.insertItems=function(e,t,o){for(var n=e.getStartRow(),i=e.getEndRow(),r=[],s=0;s<o.length;s++){var a=t+s;if(a>=n&&a<i){var l=o[s],c=e.setNewData(a,l);r.push(c)}}return r},t.prototype.insertItemsAtIndex=function(e,t){var o=this,n=[];this.forEachBlockInReverseOrder((function(i){i.getEndRow()<=e||(o.moveItemsDown(i,e,t.length),o.insertItems(i,e,t).forEach((function(e){return n.push(e)})))})),this.isMaxRowFound()&&this.hack_setVirtualRowCount(this.getVirtualRowCount()+t.length),this.onCacheUpdated();var i={type:_t.EVENT_ROW_DATA_UPDATED,api:this.gridApi,columnApi:this.columnApi};this.eventService.dispatchEvent(i)},t.prototype.getRow=function(e,t){void 0===t&&(t=!1);var o=Math.floor(e/this.cacheParams.blockSize),n=this.getBlock(o);if(!n){if(t)return null;n=this.createBlock(o)}return n.getRow(e)},t.prototype.createBlock=function(e){var t=new Bu(e,this.cacheParams);return this.getContext().createBean(t),this.postCreateBlock(t),t},t.prototype.refreshCache=function(){this.forEachBlockInOrder((function(e){return e.setDirty()})),this.checkBlockToLoad()},ju([ut("columnApi")],t.prototype,"columnApi",void 0),ju([ut("gridApi")],t.prototype,"gridApi",void 0),ju([zu(0,pt("loggerFactory"))],t.prototype,"setBeans",null),t}(su),$u=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Ku=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Yu=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return $u(t,e),t.prototype.getRowBounds=function(e){return{rowHeight:this.rowHeight,rowTop:this.rowHeight*e}},t.prototype.ensureRowHeightsValid=function(e,t,o,n){return!1},t.prototype.init=function(){var e=this;this.gridOptionsWrapper.isRowModelInfinite()&&(this.rowHeight=this.gridOptionsWrapper.getRowHeightAsNumber(),this.addEventListeners(),this.addDestroyFunc((function(){return e.destroyCache()})))},t.prototype.start=function(){this.setDatasource(this.gridOptionsWrapper.getDatasource())},t.prototype.destroyDatasource=function(){this.datasource&&(this.getContext().destroyBean(this.datasource),this.rowRenderer.datasourceChanged(),this.datasource=null)},t.prototype.isLastRowFound=function(){return!!this.infiniteCache&&this.infiniteCache.isMaxRowFound()},t.prototype.addEventListeners=function(){this.addManagedListener(this.eventService,_t.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,_t.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,_t.EVENT_COLUMN_EVERYTHING_CHANGED,this.onColumnEverything.bind(this))},t.prototype.onFilterChanged=function(){this.reset()},t.prototype.onSortChanged=function(){this.reset()},t.prototype.onColumnEverything=function(){(!this.cacheParams||this.isSortModelDifferent())&&this.reset()},t.prototype.isSortModelDifferent=function(){return!et.jsonEquals(this.cacheParams.sortModel,this.sortController.getSortModel())},t.prototype.getType=function(){return ze.ROW_MODEL_TYPE_INFINITE},t.prototype.setDatasource=function(e){this.destroyDatasource(),this.datasource=e,e&&(this.checkForDeprecated(),this.reset())},t.prototype.checkForDeprecated=function(){var e=this.datasource;et.exists(e.maxConcurrentRequests)&&console.error("ag-Grid: since version 5.1.x, maxConcurrentRequests is replaced with grid property maxConcurrentDatasourceRequests"),et.exists(e.maxPagesInCache)&&console.error("ag-Grid: since version 5.1.x, maxPagesInCache is replaced with grid property maxPagesInPaginationCache"),et.exists(e.overflowSize)&&console.error("ag-Grid: since version 5.1.x, overflowSize is replaced with grid property paginationOverflowSize"),et.exists(e.blockSize)&&console.error("ag-Grid: since version 5.1.x, pageSize/blockSize is replaced with grid property infinitePageSize")},t.prototype.isEmpty=function(){return et.missing(this.infiniteCache)},t.prototype.isRowsToRender=function(){return et.exists(this.infiniteCache)},t.prototype.getNodesInRangeForSelection=function(e,t){return this.infiniteCache?this.infiniteCache.getRowNodesInRange(e,t):[]},t.prototype.reset=function(){if(!et.missing(this.datasource)){et.exists(this.gridOptionsWrapper.getRowNodeIdFunc())||this.selectionController.reset(),this.resetCache();var e=this.createModelUpdatedEvent();this.eventService.dispatchEvent(e)}},t.prototype.createModelUpdatedEvent=function(){return{type:_t.EVENT_MODEL_UPDATED,api:this.gridApi,columnApi:this.columnApi,newPage:!1,newData:!1,keepRenderedRows:!1,animate:!1}},t.prototype.resetCache=function(){this.destroyCache();var e=this.gridOptionsWrapper.getMaxConcurrentDatasourceRequests(),t=this.gridOptionsWrapper.getBlockLoadDebounceMillis();this.rowNodeBlockLoader=new nu(e,t),this.getContext().createBean(this.rowNodeBlockLoader),this.cacheParams={datasource:this.datasource,filterModel:this.filterManager.getFilterModel(),sortModel:this.sortController.getSortModel(),rowNodeBlockLoader:this.rowNodeBlockLoader,maxConcurrentRequests:e,overflowSize:this.gridOptionsWrapper.getCacheOverflowSize(),initialRowCount:this.gridOptionsWrapper.getInfiniteInitialRowCount(),maxBlocksInCache:this.gridOptionsWrapper.getMaxBlocksInCache(),blockSize:this.gridOptionsWrapper.getCacheBlockSize(),rowHeight:this.gridOptionsWrapper.getRowHeightAsNumber(),lastAccessedSequence:new tt},this.cacheParams.maxConcurrentRequests&&this.cacheParams.maxConcurrentRequests>=1||(this.cacheParams.maxConcurrentRequests=2),this.cacheParams.blockSize&&this.cacheParams.blockSize>=1||(this.cacheParams.blockSize=100),this.cacheParams.initialRowCount>=1||(this.cacheParams.initialRowCount=1),this.cacheParams.overflowSize>=1||(this.cacheParams.overflowSize=1),this.infiniteCache=new Uu(this.cacheParams),this.getContext().createBean(this.infiniteCache),this.infiniteCache.addEventListener(su.EVENT_CACHE_UPDATED,this.onCacheUpdated.bind(this))},t.prototype.destroyCache=function(){this.infiniteCache&&(this.infiniteCache=this.destroyBean(this.infiniteCache)),this.rowNodeBlockLoader&&(this.rowNodeBlockLoader=this.destroyBean(this.rowNodeBlockLoader))},t.prototype.onCacheUpdated=function(){var e=this.createModelUpdatedEvent();this.eventService.dispatchEvent(e)},t.prototype.getRow=function(e){return this.infiniteCache?this.infiniteCache.getRow(e):null},t.prototype.getRowNode=function(e){var t=null;return this.forEachNode((function(o){o.id===e&&(t=o)})),t},t.prototype.forEachNode=function(e){this.infiniteCache&&this.infiniteCache.forEachNodeDeep(e,new tt)},t.prototype.getCurrentPageHeight=function(){return this.getRowCount()*this.rowHeight},t.prototype.getTopLevelRowCount=function(){return this.getRowCount()},t.prototype.getTopLevelRowDisplayedIndex=function(e){return e},t.prototype.getRowIndexAtPixel=function(e){if(0!==this.rowHeight){var t=Math.floor(e/this.rowHeight),o=this.getRowCount()-1;return t>o?o:t}return 0},t.prototype.getRowCount=function(){return this.infiniteCache?this.infiniteCache.getVirtualRowCount():0},t.prototype.updateRowData=function(e){et.exists(e.remove)||et.exists(e.update)?console.warn("ag-Grid: updateRowData for InfiniteRowModel does not support remove or update, only add"):et.missing(e.addIndex)?console.warn("ag-Grid: updateRowData for InfiniteRowModel requires add and addIndex to be set"):this.infiniteCache&&this.infiniteCache.insertItemsAtIndex(e.addIndex,e.add)},t.prototype.isRowPresent=function(e){return!1},t.prototype.refreshCache=function(){this.infiniteCache&&this.infiniteCache.refreshCache()},t.prototype.purgeCache=function(){this.infiniteCache&&this.infiniteCache.purgeCache()},t.prototype.getVirtualRowCount=function(){return this.infiniteCache?this.infiniteCache.getVirtualRowCount():null},t.prototype.isMaxRowFound=function(){if(this.infiniteCache)return this.infiniteCache.isMaxRowFound()},t.prototype.setVirtualRowCount=function(e,t){this.infiniteCache&&this.infiniteCache.setVirtualRowCount(e,t)},t.prototype.getBlockState=function(){return this.rowNodeBlockLoader?this.rowNodeBlockLoader.getBlockState():null},Ku([ut("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),Ku([ut("filterManager")],t.prototype,"filterManager",void 0),Ku([ut("sortController")],t.prototype,"sortController",void 0),Ku([ut("selectionController")],t.prototype,"selectionController",void 0),Ku([ut("gridApi")],t.prototype,"gridApi",void 0),Ku([ut("columnApi")],t.prototype,"columnApi",void 0),Ku([ut("rowRenderer")],t.prototype,"rowRenderer",void 0),Ku([at],t.prototype,"init",null),Ku([lt],t.prototype,"destroyDatasource",null),t=Ku([ct("rowModel")],t)}(xt),qu={moduleName:t.ModuleNames.InfiniteRowModelModule,rowModels:{infinite:Yu}},Xu=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Qu=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Zu=function(){function e(e){var t=e.columnController,o=e.valueService,n=e.gridOptionsWrapper,i=e.processCellCallback,r=e.processHeaderCallback,s=e.processGroupHeaderCallback,a=e.processRowGroupCallback;this.columnController=t,this.valueService=o,this.gridOptionsWrapper=n,this.processCellCallback=i,this.processHeaderCallback=r,this.processGroupHeaderCallback=s,this.processRowGroupCallback=a}return e.prototype.prepare=function(e){this.firstGroupColumn=et.find(e,(function(e){return!!e.getColDef().showRowGroup}))},e.prototype.extractHeaderValue=function(e){var t=this.getHeaderName(this.processHeaderCallback,e);return null!=t?t:""},e.prototype.extractRowCellValue=function(e,t,o,n){var i;i=n&&n.group&&(e===this.firstGroupColumn||0===t&&this.gridOptionsWrapper.isGroupUseEntireRow(this.columnController.isPivotMode()))?this.createValueForGroupNode(n):this.valueService.getValue(e,n);var r=this.processCell(n,e,i,this.processCellCallback,o);return null!=r?r:""},e.prototype.getHeaderName=function(e,t){return e?e({column:t,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()}):this.columnController.getDisplayNameForColumn(t,"csv",!0)},e.prototype.createValueForGroupNode=function(e){if(this.processRowGroupCallback)return this.processRowGroupCallback({node:e,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()});for(var t=[e.key];e.parent;)e=e.parent,t.push(e.key);return t.reverse().join(" -> ")},e.prototype.processCell=function(e,t,o,n,i){return n?n({column:t,node:e,value:o,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext(),type:i}):o},e}(),Ju=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Xu(t,e),t.prototype.serialize=function(e,t){void 0===t&&(t={});var o=t.shouldRowBeSkipped||function(){return!1},n=this.gridOptionsWrapper.getApi(),i=this.gridOptionsWrapper.getColumnApi(),r=this.gridOptionsWrapper.isGroupRemoveSingleChildren(),s=this.gridOptionsWrapper.isGroupRemoveLowestSingleChildren(),a=this.gridOptionsWrapper.getContext(),l=this.columnController.isPivotMode(),c=this.rowModel.getType()===ze.ROW_MODEL_TYPE_CLIENT_SIDE,u=!c&&t.onlySelected,d=[];if(d=et.existsAndNotEmpty(t.columnKeys)?this.columnController.getGridColumns(t.columnKeys):t.allColumns&&!l?(d=this.gridOptionsWrapper.isTreeData()?this.columnController.getGridColumns([ze.GROUP_AUTO_COLUMN_ID]):[]).concat(this.columnController.getAllPrimaryColumns()||[]):this.columnController.getAllDisplayedColumns(),t.customHeader&&e.addCustomContent(t.customHeader),e.prepare(d),t.columnGroups){var h=new Mt,p=this.displayedGroupCreator.createDisplayedGroups(d,this.columnController.getGridBalancedTree(),h,null);this.recursivelyAddHeaderGroups(p,e,t.processGroupHeaderCallback)}if(!t.skipHeader){var g=e.onNewHeaderRow();d.forEach((function(e,t){g.onColumn(e,t,void 0)}))}(this.pinnedRowModel.forEachPinnedTopRow(f),l)?this.rowModel.forEachPivotNode?this.rowModel.forEachPivotNode(f):this.rowModel.forEachNode(f):t.onlySelectedAllPages||u?this.selectionController.getSelectedNodes().forEach((function(e){f(e)})):c?this.rowModel.forEachNodeAfterFilterAndSort(f):this.rowModel.forEachNode(f);function f(l){var c=s&&l.leafGroup,u=1===l.allChildrenCount&&(r||c);if((!l.group||!t.skipGroups&&!u)&&((!t.skipFooters||!l.footer)&&(!t.onlySelected||l.isSelected())&&(!t.skipPinnedTop||"top"!==l.rowPinned)&&(!t.skipPinnedBottom||"bottom"!==l.rowPinned)&&(!(-1===l.level)||l.leafGroup)&&!o({node:l,api:n,context:a}))){var h=e.onNewBodyRow();if(d.forEach((function(e,t){h.onColumn(e,t,l)})),t.getCustomContentBelowRow){var p=t.getCustomContentBelowRow({node:l,api:n,columnApi:i,context:a});p&&e.addCustomContent(p)}}}return this.pinnedRowModel.forEachPinnedBottomRow(f),t.customFooter&&e.addCustomContent(t.customFooter),e.parse()},t.prototype.recursivelyAddHeaderGroups=function(e,t,o){var n=[];e.forEach((function(e){var t=e;t.getChildren&&t.getChildren().forEach((function(e){return n.push(e)}))})),e.length>0&&e[0]instanceof Et&&this.doAddHeaderHeader(t,e,o),n&&n.length>0&&this.recursivelyAddHeaderGroups(n,t,o)},t.prototype.doAddHeaderHeader=function(e,t,o){var n=this,i=e.onNewHeaderGroupingRow(),r=0;t.forEach((function(e){var t,s=e;t=o?o({columnGroup:s,api:n.gridOptionsWrapper.getApi(),columnApi:n.gridOptionsWrapper.getColumnApi(),context:n.gridOptionsWrapper.getContext()}):n.columnController.getDisplayNameForColumnGroup(s,"header"),i.onColumn(t||"",r++,s.getLeafColumns().length-1)}))},Qu([ut("displayedGroupCreator")],t.prototype,"displayedGroupCreator",void 0),Qu([ut("columnController")],t.prototype,"columnController",void 0),Qu([ut("rowModel")],t.prototype,"rowModel",void 0),Qu([ut("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),Qu([ut("selectionController")],t.prototype,"selectionController",void 0),Qu([ut("columnFactory")],t.prototype,"columnFactory",void 0),Qu([ut("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),t=Qu([ct("gridSerializer")],t)}(xt);!function(e){e[e.HEADER_GROUPING=0]="HEADER_GROUPING",e[e.HEADER=1]="HEADER",e[e.BODY=2]="BODY"}(yu||(yu={}));var ed=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),td=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},od=function(e){function t(t){var o=e.call(this,t)||this;o.isFirstLine=!0,o.result="";var n=t.suppressQuotes,i=t.columnSeparator;return o.suppressQuotes=n,o.columnSeparator=i,o}return ed(t,e),t.prototype.addCustomContent=function(e){var t=this;e&&("string"===typeof e?(/^\s*\n/.test(e)||this.beginNewLine(),e=e.replace(/\r?\n/g,"\r\n"),this.result+=e):e.forEach((function(e){t.beginNewLine(),e.forEach((function(e,o){0!==o&&(t.result+=t.columnSeparator),t.result+=t.putInQuotes(e.data.value||""),e.mergeAcross&&t.appendEmptyCells(e.mergeAcross)}))})))},t.prototype.onNewHeaderGroupingRow=function(){return this.beginNewLine(),{onColumn:this.onNewHeaderGroupingRowColumn.bind(this)}},t.prototype.onNewHeaderGroupingRowColumn=function(e,t,o){0!=t&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(e),this.appendEmptyCells(o)},t.prototype.appendEmptyCells=function(e){for(var t=1;t<=e;t++)this.result+=this.columnSeparator+this.putInQuotes("")},t.prototype.onNewHeaderRow=function(){return this.beginNewLine(),{onColumn:this.onNewHeaderRowColumn.bind(this)}},t.prototype.onNewHeaderRowColumn=function(e,t,o){0!=t&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractHeaderValue(e))},t.prototype.onNewBodyRow=function(){return this.beginNewLine(),{onColumn:this.onNewBodyRowColumn.bind(this)}},t.prototype.onNewBodyRowColumn=function(e,t,o){0!=t&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractRowCellValue(e,t,ze.EXPORT_TYPE_CSV,o))},t.prototype.putInQuotes=function(e){return this.suppressQuotes?e:null===e||void 0===e?'""':("string"===typeof e?t=e:"function"===typeof e.toString?t=e.toString():(console.warn("unknown value type during csv conversion"),t=""),'"'+t.replace(/"/g,'""')+'"');var t},t.prototype.parse=function(){return this.result},t.prototype.beginNewLine=function(){this.isFirstLine||(this.result+="\r\n"),this.isFirstLine=!1},t}(Zu),nd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ed(t,e),t.prototype.postConstruct=function(){this.setBeans({downloader:this.downloader,gridSerializer:this.gridSerializer,gridOptionsWrapper:this.gridOptionsWrapper})},t.prototype.exportDataAsCsv=function(e){return this.export(e)},t.prototype.getDataAsCsv=function(e){return this.getData(e)},t.prototype.getMimeType=function(){return"text/csv;charset=utf-8;"},t.prototype.getDefaultFileName=function(){return"export.csv"},t.prototype.getDefaultFileExtension=function(){return"csv"},t.prototype.createSerializingSession=function(e){var t=this,o=t.columnController,n=t.valueService,i=t.gridOptionsWrapper,r=e.processCellCallback,s=e.processHeaderCallback,a=e.processGroupHeaderCallback,l=e.processRowGroupCallback,c=e.suppressQuotes,u=e.columnSeparator;return new od({columnController:o,valueService:n,gridOptionsWrapper:i,processCellCallback:r||void 0,processHeaderCallback:s||void 0,processGroupHeaderCallback:a||void 0,processRowGroupCallback:l||void 0,suppressQuotes:c||!1,columnSeparator:u||","})},t.prototype.isExportSuppressed=function(){return this.gridOptionsWrapper.isSuppressCsvExport()},td([ut("columnController")],t.prototype,"columnController",void 0),td([ut("valueService")],t.prototype,"valueService",void 0),td([ut("downloader")],t.prototype,"downloader",void 0),td([ut("gridSerializer")],t.prototype,"gridSerializer",void 0),td([ut("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),td([at],t.prototype,"postConstruct",null),t=td([ct("csvCreator")],t)}(function(){function e(){}return e.prototype.setBeans=function(e){this.beans=e},e.prototype.export=function(e){if(this.isExportSuppressed())return console.warn("ag-grid: Export cancelled. Export is not allowed as per your configuration."),"";var t=this.getMergedParamsAndData(e),o=t.mergedParams,n=t.data,i=o&&o.fileName&&0!==o.fileName.length?o.fileName:this.getDefaultFileName();return-1===i.indexOf(".")&&(i=i+"."+this.getDefaultFileExtension()),this.beans.downloader.download(i,this.packageFile(n)),n},e.prototype.getData=function(e){return this.getMergedParamsAndData(e).data},e.prototype.getMergedParamsAndData=function(e){var t=this.mergeDefaultParams(e);return{mergedParams:t,data:this.beans.gridSerializer.serialize(this.createSerializingSession(t),t)}},e.prototype.mergeDefaultParams=function(e){var t=this.beans.gridOptionsWrapper.getDefaultExportParams(),o={};return et.assign(o,t),et.assign(o,e),o},e.prototype.packageFile=function(e){return new Blob(["\ufeff",e],{type:window.navigator.msSaveOrOpenBlob?this.getMimeType():"octet/stream"})},e}()),id=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},rd=function(){function e(){}return e.prototype.download=function(e,t){if(window.navigator.msSaveOrOpenBlob)window.navigator.msSaveOrOpenBlob(t,e);else{var o=document.createElement("a"),n=window.URL.createObjectURL(t);o.setAttribute("href",n),o.setAttribute("download",e),o.style.display="none",document.body.appendChild(o),o.dispatchEvent(new MouseEvent("click",{bubbles:!1,cancelable:!0,view:window})),document.body.removeChild(o),window.setTimeout((function(){window.URL.revokeObjectURL(n)}),0)}},e=id([ct("downloader")],e)}(),sd=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),ad=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},ld="\r\n",cd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return sd(t,e),t.prototype.createHeader=function(e){void 0===e&&(e={});var t=["version"];return e.version||(e.version="1.0"),e.encoding&&t.push("encoding"),e.standalone&&t.push("standalone"),"<?xml "+t.map((function(t){return t+'="'+e[t]+'"'})).join(" ")+" ?>"},t.prototype.createXml=function(e,t){var o=this,n="";e.properties&&(e.properties.prefixedAttributes&&e.properties.prefixedAttributes.forEach((function(e){Object.keys(e.map).forEach((function(i){n+=o.returnAttributeIfPopulated(e.prefix+i,e.map[i],t)}))})),e.properties.rawMap&&Object.keys(e.properties.rawMap).forEach((function(i){n+=o.returnAttributeIfPopulated(i,e.properties.rawMap[i],t)})));var i="<"+e.name+n;return e.children||null!=e.textNode?null!=e.textNode?i+">"+e.textNode+"</"+e.name+">"+ld:(i+=">\r\n",e.children&&e.children.forEach((function(e){i+=o.createXml(e,t)})),i+"</"+e.name+">"+ld):i+"/>"+ld},t.prototype.returnAttributeIfPopulated=function(e,t,o){if(!t&&""!==t&&0!==t)return"";var n=t;return"boolean"===typeof t&&o&&(n=o(t))," "+e+'="'+n+'"'},t=ad([ct("xmlFactory")],t)}(xt),ud=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),dd=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},hd=[0,1996959894,-301047508,-1727442502,124634137,1886057615,-379345611,-1637575261,249268274,2044508324,-522852066,-1747789432,162941995,2125561021,-407360249,-1866523247,498536548,1789927666,-205950648,-2067906082,450548861,1843258603,-187386543,-2083289657,325883990,1684777152,-43845254,-1973040660,335633487,1661365465,-99664541,-1928851979,997073096,1281953886,-715111964,-1570279054,1006888145,1258607687,-770865667,-1526024853,901097722,1119000684,-608450090,-1396901568,853044451,1172266101,-589951537,-1412350631,651767980,1373503546,-925412992,-1076862698,565507253,1454621731,-809855591,-1195530993,671266974,1594198024,-972236366,-1324619484,795835527,1483230225,-1050600021,-1234817731,1994146192,31158534,-1731059524,-271249366,1907459465,112637215,-1614814043,-390540237,2013776290,251722036,-1777751922,-519137256,2137656763,141376813,-1855689577,-429695999,1802195444,476864866,-2056965928,-228458418,1812370925,453092731,-2113342271,-183516073,1706088902,314042704,-1950435094,-54949764,1658658271,366619977,-1932296973,-69972891,1303535960,984961486,-1547960204,-725929758,1256170817,1037604311,-1529756563,-740887301,1131014506,879679996,-1385723834,-631195440,1141124467,855842277,-1442165665,-586318647,1342533948,654459306,-1106571248,-921952122,1466479909,544179635,-1184443383,-832445281,1591671054,702138776,-1328506846,-942167884,1504918807,783551873,-1212326853,-1061524307,-306674912,-1698712650,62317068,1957810842,-355121351,-1647151185,81470997,1943803523,-480048366,-1805370492,225274430,2053790376,-468791541,-1828061283,167816743,2097651377,-267414716,-2029476910,503444072,1762050814,-144550051,-2140837941,426522225,1852507879,-19653770,-1982649376,282753626,1742555852,-105259153,-1900089351,397917763,1622183637,-690576408,-1580100738,953729732,1340076626,-776247311,-1497606297,1068828381,1219638859,-670225446,-1358292148,906185462,1090812512,-547295293,-1469587627,829329135,1181335161,-882789492,-1134132454,628085408,1382605366,-871598187,-1156888829,570562233,1426400815,-977650754,-1296233688,733239954,1555261956,-1026031705,-1244606671,752459403,1541320221,-1687895376,-328994266,1969922972,40735498,-1677130071,-351390145,1913087877,83908371,-1782625662,-491226604,2075208622,213261112,-1831694693,-438977011,2094854071,198958881,-2032938284,-237706686,1759359992,534414190,-2118248755,-155638181,1873836001,414664567,-2012718362,-15766928,1711684554,285281116,-1889165569,-127750551,1634467795,376229701,-1609899400,-686959890,1308918612,956543938,-1486412191,-799009033,1231636301,1047427035,-1362007478,-640263460,1088359270,936918e3,-1447252397,-558129467,1202900863,817233897,-1111625188,-893730166,1404277552,615818150,-1160759803,-841546093,1423857449,601450431,-1285129682,-1000256840,1567103746,711928724,-1274298825,-1022587231,1510334235,755167117],pd=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.folders=[],t.files=[],t.addFolder=function(e){t.folders.push({path:e,created:new Date})},t}return ud(t,e),t.prototype.addFolders=function(e){e.forEach(this.addFolder)},t.prototype.addFile=function(e,t){this.files.push({path:e,created:new Date,content:t})},t.prototype.clearStream=function(){this.folders=[],this.files=[]},t.prototype.getContent=function(e){void 0===e&&(e="application/zip");var t=this.buildFileStream(),o=this.buildUint8Array(t);return this.clearStream(),new Blob([o],{type:e})},t.prototype.buildFileStream=function(e){void 0===e&&(e="");for(var t=this.folders.concat(this.files),o=t.length,n="",i=0,r=0,s=0,a=t;s<a.length;s++){var l=a[s],c=this.getHeader(l,i),u=c.fileHeader,d=c.folderHeader,h=c.content;i+=u.length+h.length,r+=d.length,e+=u+h,n+=d}return e+n+this.buildFolderEnd(o,r,i)},t.prototype.getHeader=function(e,t){var o=e.content,n=e.path,i=e.created,r=et.utf8_encode,s=et.decToHex,a=r(n),l=a!==n,c=this.convertTime(i),u=this.convertDate(i),d="";if(l){var h=s(1,1)+s(this.getFromCrc32Table(a),4)+a;d="up"+s(h.length,2)+h}var p="\n\0"+(l?"\0\b":"\0\0")+"\0\0"+s(c,2)+s(u,2)+s(o?this.getFromCrc32Table(o):0,4)+s(o?o.length:0,4)+s(o?o.length:0,4)+s(a.length,2)+s(d.length,2);return{fileHeader:"PK\x03\x04"+p+a+d,folderHeader:"PK\x01\x02\x14\0"+p+"\0\0\0\0\0\0"+(o?"\0\0\0\0":"\x10\0\0\0")+s(t,4)+a+d,content:o||""}},t.prototype.buildFolderEnd=function(e,t,o){var n=et.decToHex;return"PK\x05\x06\0\0\0\0"+n(e,2)+n(e,2)+n(t,4)+n(o,4)+"\0\0"},t.prototype.buildUint8Array=function(e){for(var t=new Uint8Array(e.length),o=0;o<t.length;o++)t[o]=e.charCodeAt(o);return t},t.prototype.getFromCrc32Table=function(e,t){if(void 0===t&&(t=0),!e.length)return 0;t^=-1;for(var o=0,n=0;n<e.length;n++)o=e.charCodeAt(n),t=t>>>8^hd[255&(t^o)];return~t},t.prototype.convertTime=function(e){var t=e.getHours();return t<<=6,t|=e.getMinutes(),t<<=5,t|=e.getSeconds()/2},t.prototype.convertDate=function(e){var t=e.getFullYear()-1980;return t<<=4,t|=e.getMonth()+1,t<<=5,t|=e.getDate()},t=dd([ct("zipContainer")],t)}(xt),gd={moduleName:t.ModuleNames.CsvExportModule,beans:[nd,rd,cd,Ju,pd]};Ct.register(Gu,!1),Ct.register(qu,!1),Ct.register(gd,!1),t.AgAbstractField=Ko,t.AgAngleSelect=vc,t.AgCheckbox=Jo,t.AgColorPicker=ic,t.AgDialog=jl,t.AgGroupComponent=kl,t.AgInputNumberField=sc,t.AgInputRange=lc,t.AgInputTextArea=Kl,t.AgInputTextField=Ul,t.AgPanel=Hl,t.AgRadioButton=ya,t.AgSelect=gc,t.AgSlider=Xl,t.AgToggleButton=Cc,t.AlignedGridsService=Xa,t.AnimateShowChangeCellRenderer=Tn,t.AnimateSlideCellRenderer=Fn,t.AutoWidthCalculator=Bs,t.Autowired=ut,t.BaseComponentWrapper=hu,t.Bean=ct,t.BeanStub=xt,t.BodyDropPivotTarget=Ur,t.BodyDropTarget=qr,t.CellComp=nr,t.CellNavigationService=da,t.CellPositionUtils=Tc,t.CellRendererFactory=pa,t.ChangedPath=Pi,t.CheckboxSelectionComponent=on,t.ColDefUtil=Kt,t.Color=n,t.Column=bt,t.ColumnApi=Fi,t.ColumnController=kt,t.ColumnFactory=Ft,t.ColumnGroup=Et,t.ColumnKeyCreator=it,t.ColumnUtils=Ht,t.Component=so,t.ComponentUtil=to,t.Constants=ze,t.Context=rt,t.CssClassApplier=dr,t.DateFilter=Mo,t.DisplayedGroupCreator=jt,t.DragAndDropService=Gi,t.DragService=Js,t.Environment=ul,t.EventService=yt,t.Events=_t,t.ExpressionService=xs,t.FilterManager=ls,t.FocusController=ra,t.Grid=Uc,t.GridApi=Es,t.GridCore=Ks,t.GridListener=function(e){return ho.bind(this,e)},t.GridOptionsWrapper=Jt,t.GridPanel=bs,t.GroupCellRenderer=Pn,t.GroupInstanceIdCreator=Mt,t.GuiListener=function(e,t){return po.bind(this,e,t)},t.HeaderContainer=Zr,t.HeaderNavigationService=os,t.HeaderPositionUtils=zc,t.HeaderRootComp=rs,t.HeaderRowComp=Br,t.HorizontalResizeService=zs,t.LargeTextCellEditor=zn,t.Logger=Gs,t.LoggerFactory=ks,t.ManagedFocusComponent=Er,t.ModuleRegistry=Ct,t.MouseEventService=la,t.MoveColumnController=jr,t.NumberFilter=Kn,t.NumberSequence=tt,t.Optional=dt,t.OriginalColumnGroup=Rt,t.PaginationProxy=ka,t.PinnedRowModel=Fc,t.PopupComponent=lo,t.PopupEditorWrapper=Ki,t.PopupSelectCellEditor=Bn,t.PopupService=Ms,t.PopupTextCellEditor=Vn,t.PostConstruct=at,t.PreConstruct=st,t.PreDestroy=lt,t.Promise=ot,t.PropertyKeys=Ut,t.ProvidedFilter=Eo,t.Qualifier=pt,t.QuerySelector=function(e){return uo.bind(this,e)},t.RefSelector=co,t.ResizeObserverService=Fl,t.RowComp=sr,t.RowNode=Wo,t.RowNodeBlock=Jc,t.RowNodeBlockLoader=nu,t.RowNodeCache=su,t.RowPositionUtils=Pc,t.RowRenderer=ur,t.ScalarFilter=Ao,t.ScrollVisibleService=Sa,t.SelectCellEditor=kn,t.SelectableService=Sl,t.SelectionController=Di,t.SetLeftFeature=vr,t.SimpleFilter=To,t.SortController=oa,t.StandardMenuFactory=Xs,t.StylingService=Pa,t.TabbedLayout=Xc,t.TemplateService=As,t.TextCellEditor=yo,t.TextFilter=hi,t.Timer=nt,t.TooltipFeature=er,t.TouchListener=Io,t.UserComponentFactory=Sn,t.UserComponentRegistry=Ri,t.ValueCache=ja,t.ValueFormatterService=ma,t.ValueService=ds,t.VanillaFrameworkOverrides=Ca,t.VirtualList=cu,t._=et,t.defaultGroupComparator=function(e,t,o,n,i){void 0===i&&(i=!1),console.warn("ag-Grid: Since ag-grid 11.0.0 defaultGroupComparator is not necessary. You can remove this from your colDef");var r=et.exists(o)&&o.group,s=et.exists(n)&&n.group,a=!r&&!s;return r&&s?et.defaultComparator(o.key,n.key,i):a?et.defaultComparator(e,t,i):r?1:-1},t.initialiseAgGridWithAngular1=function(e){e.module("agGrid",[]).directive("agGrid",(function(){return{restrict:"A",controller:["$element","$scope","$compile","$attrs",$c],scope:!0}}))},t.initialiseAgGridWithWebComponents=function(){if(console.warn("ag-grid: initialiseAgGridWithWebComponents is deprecated. Please use the ag-grid-webcomponent dependency instead. "),!Kc){Kc=!0,"undefined"!==typeof document&&document.registerElement||console.error("ag-Grid: unable to find document.registerElement() function, unable to initialise ag-Grid as a Web Component");var e=Object.create(HTMLElement.prototype);to.ALL_PROPERTIES.forEach((function(t){Object.defineProperty(e,t,{set:function(e){this.__agGridSetProperty(t,e)},get:function(){return this.__agGridGetProperty(t)},enumerable:!0,configurable:!0})}));var t=e;t.__agGridSetProperty=function(e,t){this.__attributes||(this.__attributes={}),this.__attributes[e]=t;var o={};o[e]={currentValue:t},this.onChange(o)},t.onChange=function(e){this._initialised&&to.processOnChange(e,this._gridOptions,this.api,this.columnApi)},t.__agGridGetProperty=function(e){return this.__attributes||(this.__attributes={}),this.__attributes[e]},t.setGridOptions=function(e){var t=this.globalEventListener.bind(this);this._gridOptions=to.copyAttributesToGridOptions(e,this);var o={globalEventListener:t};this._agGrid=new Uc(this,this._gridOptions,o),this.api=e.api,this.columnApi=e.columnApi,this._initialised=!0},t.createdCallback=function(){for(var e=0;e<this.attributes.length;e++){var t=this.attributes[e];this.setPropertyFromAttribute(t)}},t.setPropertyFromAttribute=function(e){var t,o="string"===typeof(t=e.nodeName)?t.replace(/-([a-z])/g,(function(e){return e[1].toUpperCase()})):t,n=e.nodeValue;to.ALL_PROPERTIES.indexOf(o)>=0&&(this[o]=n)},t.attachedCallback=function(e){},t.detachedCallback=function(e){},t.attributeChangedCallback=function(e){var t=this.attributes[e];this.setPropertyFromAttribute(t)},t.globalEventListener=function(e,t){var o=e.toLowerCase(),n=new Event(o);n.agGridDetails=t,this.dispatchEvent(n);var i="on"+o;"function"===typeof this[i]&&this[i](n)},document.registerElement("ag-grid",{prototype:e})}},t.simpleHttpRequest=function(e){return new ot((function(t){var o=new XMLHttpRequest;o.open("GET",e.url),o.send(),o.onreadystatechange=function(){4===o.readyState&&200===o.status&&t(JSON.parse(o.responseText))}}))},t.stringToArray=i},673:(e,t,o)=>{"use strict";var n,i=o(647),r=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),s=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.watermarkMessage=void 0,t}var o;return r(t,e),o=t,t.prototype.validateLicense=function(){if(i._.missingOrEmpty(o.licenseKey))this.outputMissingLicenseKey();else if(o.licenseKey.length>32){var e=o.extractLicenseComponents(o.licenseKey),t=e.md5,n=e.license,r=e.version,s=e.isTrial;t===this.md5.md5(n)?i._.exists(r)&&r?this.validateLicenseKeyForVersion(r,!!s,n):this.validateLegacyKey(n):this.outputInvalidLicenseKey()}else this.outputInvalidLicenseKey()},t.extractExpiry=function(e){var t=e.substring(e.lastIndexOf("_")+1,e.length);return new Date(parseInt(o.decode(t),10))},t.extractLicenseComponents=function(e){var t=e.replace(/[\u200B-\u200D\uFEFF]/g,""),n=(t=t.replace(/\r?\n|\r/g,"")).length-32,i=t.substring(n),r=t.substring(0,n),s=o.extractBracketedInformation(t);return{md5:i,license:r,version:s[0],isTrial:s[1]}},t.prototype.getLicenseDetails=function(e){var t=o.extractLicenseComponents(e),n=t.md5,i=t.license,r=t.version,s=t.isTrial,a=n===this.md5.md5(i),l=null;return a&&(l=o.extractExpiry(i),a=!isNaN(l.getTime())),{licenseKey:e,valid:a,expiry:a?o.formatDate(l):null,version:r||"legacy",isTrial:s}},t.prototype.isDisplayWatermark=function(){return!i._.missingOrEmpty(this.watermarkMessage)},t.prototype.getWatermarkMessage=function(){return this.watermarkMessage},t.formatDate=function(e){var t=e.getDate(),o=e.getMonth(),n=e.getFullYear();return t+" "+["January","February","March","April","May","June","July","August","September","October","November","December"][o]+" "+n},t.getGridReleaseDate=function(){return new Date(parseInt(o.decode(o.RELEASE_INFORMATION),10))},t.decode=function(e){for(var t,n,i,r,s,a,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",c="",u=0,d=e.replace(/[^A-Za-z0-9+/=]/g,"");u<d.length;)t=l.indexOf(d.charAt(u++))<<2|(r=l.indexOf(d.charAt(u++)))>>4,n=(15&r)<<4|(s=l.indexOf(d.charAt(u++)))>>2,i=(3&s)<<6|(a=l.indexOf(d.charAt(u++))),c+=String.fromCharCode(t),64!=s&&(c+=String.fromCharCode(n)),64!=a&&(c+=String.fromCharCode(i));return c=o.utf8_decode(c)},t.utf8_decode=function(e){e=e.replace(/rn/g,"n");for(var t="",o=0;o<e.length;o++){var n=e.charCodeAt(o);n<128?t+=String.fromCharCode(n):n>127&&n<2048?(t+=String.fromCharCode(n>>6|192),t+=String.fromCharCode(63&n|128)):(t+=String.fromCharCode(n>>12|224),t+=String.fromCharCode(n>>6&63|128),t+=String.fromCharCode(63&n|128))}return t},t.setLicenseKey=function(e){o.licenseKey=e},t.extractBracketedInformation=function(e){var t=e.split("[").filter((function(e){return e.indexOf("]")>-1})).map((function(e){return e.split("]")[0]}));if(!t||0===t.length)return[null,null];var o=1===t.filter((function(e){return"TRIAL"===e})).length;return[t.filter((function(e){return 0===e.indexOf("v")})).map((function(e){return e.replace(/^v/,"")}))[0],o]},t.prototype.validateLicenseKeyForVersion=function(e,t,o){if("2"===e)t?this.validateForTrial(o):this.validateLegacyKey(o)},t.prototype.validateLegacyKey=function(e){var t=o.getGridReleaseDate(),n=o.extractExpiry(e),i=!1,r=!1;if(isNaN(n.getTime())||(i=!0,r=t<n),i){if(!r){var s=o.formatDate(n),a=o.formatDate(t);this.outputIncompatibleVersion(s,a)}}else this.outputInvalidLicenseKey()},t.prototype.validateForTrial=function(e){var t=o.extractExpiry(e),n=new Date,i=!1,r=!1;if(isNaN(t.getTime())||(i=!0,r=t>n),i){if(!r){var s=o.formatDate(t);this.outputExpiredTrialKey(s)}}else this.outputInvalidLicenseKey()},t.prototype.outputInvalidLicenseKey=function(){console.error("*****************************************************************************************************************"),console.error("***************************************** ag-Grid Enterprise License ********************************************"),console.error("********************************************* Invalid License ***************************************************"),console.error("* Your license for ag-Grid Enterprise is not valid - please contact info@ag-grid.com to obtain a valid license. *"),console.error("*****************************************************************************************************************"),console.error("*****************************************************************************************************************"),this.watermarkMessage="Invalid License"},t.prototype.outputExpiredTrialKey=function(e){console.error("****************************************************************************************************************"),console.error("***************************************** ag-Grid Enterprise License *******************************************"),console.error("*****************************************   Trial Period Expired.    *******************************************"),console.error("* Your license for ag-Grid Enterprise expired on "+e+".                                                *"),console.error("* Please email info@ag-grid.com to purchase a license.                                                         *"),console.error("****************************************************************************************************************"),console.error("****************************************************************************************************************"),this.watermarkMessage="Trial Period Expired"},t.prototype.outputMissingLicenseKey=function(){console.error("****************************************************************************************************************"),console.error("***************************************** ag-Grid Enterprise License *******************************************"),console.error("****************************************** License Key Not Found ***********************************************"),console.error("* All ag-Grid Enterprise features are unlocked.                                                                *"),console.error("* This is an evaluation only version, it is not licensed for development projects intended for production.     *"),console.error("* If you want to hide the watermark, please email info@ag-grid.com for a trial license.                        *"),console.error("****************************************************************************************************************"),console.error("****************************************************************************************************************"),this.watermarkMessage="For Trial Use Only"},t.prototype.outputIncompatibleVersion=function(e,t){console.error("****************************************************************************************************************************"),console.error("****************************************************************************************************************************"),console.error("*                                             ag-Grid Enterprise License                                                   *"),console.error("*                           License not compatible with installed version of ag-Grid Enterprise.                           *"),console.error("*                                                                                                                          *"),console.error("* Your ag-Grid License entitles you to all versions of ag-Grid that we release within the time covered by your license     *"),console.error("* - typically we provide one year licenses which entitles you to all releases / updates of ag-Grid within that year.       *"),console.error("* Your license has an end (expiry) date which stops the license key working with versions of ag-Grid released after the    *"),console.error("* license end date. The license key that you have expires on "+e+", however the version of ag-Grid you    *"),console.error("* are trying to use was released on "+t+".                                                               *"),console.error("*                                                                                                                          *"),console.error("* Please contact info@ag-grid.com to renew your subscription to new versions and get a new license key to work with this   *"),console.error("* version of ag-Grid.                                                                                                      *"),console.error("****************************************************************************************************************************"),console.error("****************************************************************************************************************************"),this.watermarkMessage="License Expired"},t.RELEASE_INFORMATION="MTU5MjQ3NDAyODIxMQ==",s([i.Autowired("md5")],t.prototype,"md5",void 0),s([i.PreConstruct],t.prototype,"validateLicense",null),t=o=s([i.Bean("licenseManager")],t)}(i.BeanStub),l=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),c=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ieCompatibility=!1,t}return l(t,e),t.prototype.init=function(){this.ieCompatibility="5d41402abc4b2a76b9719d911017c592"!=this.md5("hello")},t.prototype.md5cycle=function(e,t){var o=e[0],n=e[1],i=e[2],r=e[3];o=this.ff(o,n,i,r,t[0],7,-680876936),r=this.ff(r,o,n,i,t[1],12,-389564586),i=this.ff(i,r,o,n,t[2],17,606105819),n=this.ff(n,i,r,o,t[3],22,-1044525330),o=this.ff(o,n,i,r,t[4],7,-176418897),r=this.ff(r,o,n,i,t[5],12,1200080426),i=this.ff(i,r,o,n,t[6],17,-1473231341),n=this.ff(n,i,r,o,t[7],22,-45705983),o=this.ff(o,n,i,r,t[8],7,1770035416),r=this.ff(r,o,n,i,t[9],12,-1958414417),i=this.ff(i,r,o,n,t[10],17,-42063),n=this.ff(n,i,r,o,t[11],22,-1990404162),o=this.ff(o,n,i,r,t[12],7,1804603682),r=this.ff(r,o,n,i,t[13],12,-40341101),i=this.ff(i,r,o,n,t[14],17,-1502002290),n=this.ff(n,i,r,o,t[15],22,1236535329),o=this.gg(o,n,i,r,t[1],5,-165796510),r=this.gg(r,o,n,i,t[6],9,-1069501632),i=this.gg(i,r,o,n,t[11],14,643717713),n=this.gg(n,i,r,o,t[0],20,-373897302),o=this.gg(o,n,i,r,t[5],5,-701558691),r=this.gg(r,o,n,i,t[10],9,38016083),i=this.gg(i,r,o,n,t[15],14,-660478335),n=this.gg(n,i,r,o,t[4],20,-405537848),o=this.gg(o,n,i,r,t[9],5,568446438),r=this.gg(r,o,n,i,t[14],9,-1019803690),i=this.gg(i,r,o,n,t[3],14,-187363961),n=this.gg(n,i,r,o,t[8],20,1163531501),o=this.gg(o,n,i,r,t[13],5,-1444681467),r=this.gg(r,o,n,i,t[2],9,-51403784),i=this.gg(i,r,o,n,t[7],14,1735328473),n=this.gg(n,i,r,o,t[12],20,-1926607734),o=this.hh(o,n,i,r,t[5],4,-378558),r=this.hh(r,o,n,i,t[8],11,-2022574463),i=this.hh(i,r,o,n,t[11],16,1839030562),n=this.hh(n,i,r,o,t[14],23,-35309556),o=this.hh(o,n,i,r,t[1],4,-1530992060),r=this.hh(r,o,n,i,t[4],11,1272893353),i=this.hh(i,r,o,n,t[7],16,-155497632),n=this.hh(n,i,r,o,t[10],23,-1094730640),o=this.hh(o,n,i,r,t[13],4,681279174),r=this.hh(r,o,n,i,t[0],11,-358537222),i=this.hh(i,r,o,n,t[3],16,-722521979),n=this.hh(n,i,r,o,t[6],23,76029189),o=this.hh(o,n,i,r,t[9],4,-640364487),r=this.hh(r,o,n,i,t[12],11,-421815835),i=this.hh(i,r,o,n,t[15],16,530742520),n=this.hh(n,i,r,o,t[2],23,-995338651),o=this.ii(o,n,i,r,t[0],6,-198630844),r=this.ii(r,o,n,i,t[7],10,1126891415),i=this.ii(i,r,o,n,t[14],15,-1416354905),n=this.ii(n,i,r,o,t[5],21,-57434055),o=this.ii(o,n,i,r,t[12],6,1700485571),r=this.ii(r,o,n,i,t[3],10,-1894986606),i=this.ii(i,r,o,n,t[10],15,-1051523),n=this.ii(n,i,r,o,t[1],21,-2054922799),o=this.ii(o,n,i,r,t[8],6,1873313359),r=this.ii(r,o,n,i,t[15],10,-30611744),i=this.ii(i,r,o,n,t[6],15,-1560198380),n=this.ii(n,i,r,o,t[13],21,1309151649),o=this.ii(o,n,i,r,t[4],6,-145523070),r=this.ii(r,o,n,i,t[11],10,-1120210379),i=this.ii(i,r,o,n,t[2],15,718787259),n=this.ii(n,i,r,o,t[9],21,-343485551),e[0]=this.add32(o,e[0]),e[1]=this.add32(n,e[1]),e[2]=this.add32(i,e[2]),e[3]=this.add32(r,e[3])},t.prototype.cmn=function(e,t,o,n,i,r){return t=this.add32(this.add32(t,e),this.add32(n,r)),this.add32(t<<i|t>>>32-i,o)},t.prototype.ff=function(e,t,o,n,i,r,s){return this.cmn(t&o|~t&n,e,t,i,r,s)},t.prototype.gg=function(e,t,o,n,i,r,s){return this.cmn(t&n|o&~n,e,t,i,r,s)},t.prototype.hh=function(e,t,o,n,i,r,s){return this.cmn(t^o^n,e,t,i,r,s)},t.prototype.ii=function(e,t,o,n,i,r,s){return this.cmn(o^(t|~n),e,t,i,r,s)},t.prototype.md51=function(e){var t,o=e.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)this.md5cycle(n,this.md5blk(e.substring(t-64,t)));e=e.substring(t-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)i[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(i[t>>2]|=128<<(t%4<<3),t>55)for(this.md5cycle(n,i),t=0;t<16;t++)i[t]=0;return i[14]=8*o,this.md5cycle(n,i),n},t.prototype.md5blk=function(e){for(var t=[],o=0;o<64;o+=4)t[o>>2]=e.charCodeAt(o)+(e.charCodeAt(o+1)<<8)+(e.charCodeAt(o+2)<<16)+(e.charCodeAt(o+3)<<24);return t},t.prototype.rhex=function(e){for(var t="0123456789abcdef".split(""),o="",n=0;n<4;n++)o+=t[e>>8*n+4&15]+t[e>>8*n&15];return o},t.prototype.hex=function(e){for(var t=0;t<e.length;t++)e[t]=this.rhex(e[t]);return e.join("")},t.prototype.md5=function(e){return this.hex(this.md51(e))},t.prototype.add32=function(e,t){return this.ieCompatibility?this.add32Compat(e,t):this.add32Std(e,t)},t.prototype.add32Std=function(e,t){return e+t&4294967295},t.prototype.add32Compat=function(e,t){var o=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(o>>16)<<16|65535&o},c([i.PostConstruct],t.prototype,"init",null),t=c([i.Bean("md5")],t)}(i.BeanStub),d=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),h=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},p=function(e){function t(){return e.call(this,'<div class="ag-watermark">\n                    <div ref="eLicenseTextRef" class="ag-watermark-text"></div>\n               </div>')||this}return d(t,e),t.prototype.postConstruct=function(){var e=this,t=this.shouldDisplayWatermark();i._.addOrRemoveCssClass(this.getGui(),"ag-hidden",!t),t&&(this.eLicenseTextRef.innerText=this.licenseManager.getWatermarkMessage(),window.setTimeout((function(){return e.addCssClass("ag-opacity-zero")}),0),window.setTimeout((function(){return e.addCssClass("ag-hidden")}),5e3))},t.prototype.shouldDisplayWatermark=function(){var e=this.licenseManager.isDisplayWatermark(),t=null!=location.hostname.match("^127.0.0.1|localhost|www.ag-grid.com$");return-1!==location.search.indexOf("forceWatermark")||e&&!t},h([i.Autowired("licenseManager")],t.prototype,"licenseManager",void 0),h([i.RefSelector("eLicenseTextRef")],t.prototype,"eLicenseTextRef",void 0),h([i.PostConstruct],t.prototype,"postConstruct",null),t}(i.Component),g={moduleName:i.ModuleNames.EnterpriseCoreModule,beans:[a,u],agStackComponents:[{componentName:"AgWatermark",componentClass:p}]},f=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),m=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s};!function(e){e[e.EXPANDED=0]="EXPANDED",e[e.COLLAPSED=1]="COLLAPSED",e[e.INDETERMINATE=2]="INDETERMINATE"}(n||(n={}));var v=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return f(t,e),t.prototype.preConstruct=function(){this.setTemplate('<div class="ag-column-select-header" role="presentation" tabindex="-1">\n                <div ref="eExpand" class="ag-column-select-header-icon" tabindex="0"></div>\n                <ag-checkbox ref="eSelect" class="ag-column-select-header-checkbox"></ag-checkbox>\n                <ag-input-text-field class="ag-column-select-header-filter-wrapper" ref="eFilterTextField"></ag-input-text-field>\n            </div>')},t.prototype.postConstruct=function(){var t=this;this.createExpandIcons(),this.addManagedListener(this.eExpand,"click",this.onExpandClicked.bind(this)),this.addManagedListener(this.eExpand,"keydown",(function(e){e.keyCode===i.Constants.KEY_SPACE&&t.onExpandClicked()})),this.addManagedListener(this.eSelect.getInputElement(),"click",this.onSelectClicked.bind(this)),this.eFilterTextField.onValueChange((function(){return t.onFilterTextChanged()})),this.addManagedListener(this.eFilterTextField.getInputElement(),"keypress",this.onMiniFilterKeyPress.bind(this)),this.addManagedListener(this.eventService,i.Events.EVENT_NEW_COLUMNS_LOADED,this.showOrHideOptions.bind(this)),this.eSelect.setInputAriaLabel("Toggle Select All Columns"),this.eFilterTextField.setInputAriaLabel("Filter Columns Input"),e.prototype.postConstruct.call(this)},t.prototype.init=function(e){this.params=e,this.columnController.isReady()&&this.showOrHideOptions()},t.prototype.onTabKeyDown=function(e){var t=this.focusController.findNextFocusableElement(this.getFocusableElement(),!1,e.shiftKey);t&&(e.preventDefault(),t.focus())},t.prototype.createExpandIcons=function(){this.eExpand.appendChild(this.eExpandChecked=i._.createIconNoSpan("columnSelectOpen",this.gridOptionsWrapper)),this.eExpand.appendChild(this.eExpandUnchecked=i._.createIconNoSpan("columnSelectClosed",this.gridOptionsWrapper)),this.eExpand.appendChild(this.eExpandIndeterminate=i._.createIconNoSpan("columnSelectIndeterminate",this.gridOptionsWrapper)),this.setExpandState(n.EXPANDED)},t.prototype.showOrHideOptions=function(){var e=!this.params.suppressColumnFilter,t=!this.params.suppressColumnSelectAll,o=!this.params.suppressColumnExpandAll,n=this.columnController.isPrimaryColumnGroupsPresent(),r=this.gridOptionsWrapper.getLocaleTextFunc();this.eFilterTextField.setInputPlaceholder(r("searchOoo","Search...")),i._.setDisplayed(this.eFilterTextField.getGui(),e),i._.setDisplayed(this.eSelect.getGui(),t),i._.setDisplayed(this.eExpand,o&&n)},t.prototype.onFilterTextChanged=function(){var e=this;this.onFilterTextChangedDebounced||(this.onFilterTextChangedDebounced=i._.debounce((function(){var t=e.eFilterTextField.getValue();e.dispatchEvent({type:"filterChanged",filterText:t})}),300)),this.onFilterTextChangedDebounced()},t.prototype.onMiniFilterKeyPress=function(e){i._.isKeyPressed(e,i.Constants.KEY_ENTER)&&this.onSelectClicked()},t.prototype.onSelectClicked=function(){var e=!0===this.selectState?"unselectAll":"selectAll";this.dispatchEvent({type:e})},t.prototype.onExpandClicked=function(){var e=this.expandState===n.EXPANDED?"collapseAll":"expandAll";this.dispatchEvent({type:e})},t.prototype.setExpandState=function(e){this.expandState=e,i._.setDisplayed(this.eExpandChecked,this.expandState===n.EXPANDED),i._.setDisplayed(this.eExpandUnchecked,this.expandState===n.COLLAPSED),i._.setDisplayed(this.eExpandIndeterminate,this.expandState===n.INDETERMINATE)},t.prototype.setSelectionState=function(e){this.selectState=e,this.eSelect.setValue(this.selectState)},m([i.Autowired("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),m([i.Autowired("columnController")],t.prototype,"columnController",void 0),m([i.RefSelector("eExpand")],t.prototype,"eExpand",void 0),m([i.RefSelector("eSelect")],t.prototype,"eSelect",void 0),m([i.RefSelector("eFilterTextField")],t.prototype,"eFilterTextField",void 0),m([i.PreConstruct],t.prototype,"preConstruct",null),t}(i.ManagedFocusComponent),y=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),C=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},w=function(e){function t(t,o,n,i,r,s){var a=e.call(this)||this;return a.processingColumnStateChange=!1,a.columnGroup=t,a.columnDept=o,a.allowDragging=n,a.expanded=i,a.expandedCallback=r,a.getFilterResultsCallback=s,a}return y(t,e),t.prototype.init=function(){this.setTemplate(t.TEMPLATE),this.eDragHandle=i._.createIconNoSpan("columnDrag",this.gridOptionsWrapper),i._.addCssClass(this.eDragHandle,"ag-drag-handle"),i._.addCssClass(this.eDragHandle,"ag-column-select-column-group-drag-handle"),this.cbSelect.getGui().insertAdjacentElement("afterend",this.eDragHandle),this.displayName=this.columnController.getDisplayNameForOriginalColumnGroup(null,this.columnGroup,"toolPanel"),i._.missing(this.displayName)&&(this.displayName=">>"),this.cbSelect.setInputAriaLabel(this.displayName+" Toggle Selection"),this.eLabel.innerHTML=this.displayName?this.displayName:"",this.setupExpandContract(),this.addCssClass("ag-column-select-indent-"+this.columnDept),this.addManagedListener(this.eventService,i.Events.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.onColumnStateChanged.bind(this)),this.addManagedListener(this.eLabel,"click",this.onLabelClicked.bind(this)),this.addManagedListener(this.cbSelect,i.AgCheckbox.EVENT_CHANGED,this.onCheckboxChanged.bind(this)),this.setOpenClosedIcons(),this.setupDragging(),this.onColumnStateChanged(),this.addVisibilityListenersToAllChildren(),i.CssClassApplier.addToolPanelClassesFromColDef(this.columnGroup.getColGroupDef(),this.getGui(),this.gridOptionsWrapper,null,this.columnGroup)},t.prototype.handleKeyDown=function(e){switch(e.keyCode){case i.Constants.KEY_LEFT:case i.Constants.KEY_RIGHT:e.preventDefault(),this.isExpandable()&&this.toggleExpandOrContract(e.keyCode===i.Constants.KEY_RIGHT);break;case i.Constants.KEY_SPACE:e.preventDefault(),this.isSelectable()&&this.onSelectAllChanged(!this.isSelected())}},t.prototype.addVisibilityListenersToAllChildren=function(){var e=this;this.columnGroup.getLeafColumns().forEach((function(t){e.addManagedListener(t,i.Column.EVENT_VISIBLE_CHANGED,e.onColumnStateChanged.bind(e)),e.addManagedListener(t,i.Column.EVENT_VALUE_CHANGED,e.onColumnStateChanged.bind(e)),e.addManagedListener(t,i.Column.EVENT_PIVOT_CHANGED,e.onColumnStateChanged.bind(e)),e.addManagedListener(t,i.Column.EVENT_ROW_GROUP_CHANGED,e.onColumnStateChanged.bind(e))}))},t.prototype.setupDragging=function(){var e=this;if(this.allowDragging){var t={type:i.DragSourceType.ToolPanel,eElement:this.eDragHandle,dragItemName:this.displayName,getDragItem:function(){return e.createDragItem()}};this.dragAndDropService.addDragSource(t,!0),this.addDestroyFunc((function(){return e.dragAndDropService.removeDragSource(t)}))}else i._.setDisplayed(this.eDragHandle,!1)},t.prototype.createDragItem=function(){var e={};return this.columnGroup.getLeafColumns().forEach((function(t){e[t.getId()]=t.isVisible()})),{columns:this.columnGroup.getLeafColumns(),visibleState:e}},t.prototype.setupExpandContract=function(){this.eGroupClosedIcon.appendChild(i._.createIcon("columnSelectClosed",this.gridOptionsWrapper,null)),this.eGroupOpenedIcon.appendChild(i._.createIcon("columnSelectOpen",this.gridOptionsWrapper,null)),this.addManagedListener(this.eGroupClosedIcon,"click",this.onExpandOrContractClicked.bind(this)),this.addManagedListener(this.eGroupOpenedIcon,"click",this.onExpandOrContractClicked.bind(this));var e=new i.TouchListener(this.eColumnGroupIcons,!0);this.addManagedListener(e,i.TouchListener.EVENT_TAP,this.onExpandOrContractClicked.bind(this)),this.addDestroyFunc(e.destroy.bind(e))},t.prototype.onLabelClicked=function(){var e=!this.cbSelect.getValue();this.onChangeCommon(e)},t.prototype.onCheckboxChanged=function(e){this.onChangeCommon(e.selected)},t.prototype.onChangeCommon=function(e){if(!this.processingColumnStateChange){var t=this.columnGroup.getLeafColumns();if(this.columnController.isPivotMode())e?this.actionCheckedReduce(t):this.actionUnCheckedReduce(t);else{var o=t.filter((function(e){return!e.getColDef().lockVisible&&!e.getColDef().suppressColumnsToolPanel})),n=this.getFilterResultsCallback(),i=o.filter((function(e){return!n||n[e.getColId()]}));this.columnController.setColumnsVisible(i,e,"toolPanelUi")}}},t.prototype.actionUnCheckedReduce=function(e){var t=[],o=[],n=[];e.forEach((function(e){e.isPivotActive()&&t.push(e),e.isRowGroupActive()&&n.push(e),e.isValueActive()&&o.push(e)})),t.length>0&&this.columnController.removePivotColumns(t,"toolPanelUi"),n.length>0&&this.columnController.removeRowGroupColumns(n,"toolPanelUi"),o.length>0&&this.columnController.removeValueColumns(o,"toolPanelUi")},t.prototype.actionCheckedReduce=function(e){var t=[],o=[],n=[];e.forEach((function(e){if(!e.isAnyFunctionActive()){if(!e.isAllowValue())return e.isAllowRowGroup()?(o.push(e),void n.push(e)):void 0;t.push(e)}})),t.length>0&&this.columnController.addValueColumns(t,"toolPanelUi"),o.length>0&&this.columnController.addRowGroupColumns(o,"toolPanelUi"),n.length>0&&this.columnController.addPivotColumns(n,"toolPanelUi")},t.prototype.onColumnStateChanged=function(){var e=this.workOutSelectedValue(),t=this.workOutReadOnlyValue();this.processingColumnStateChange=!0,this.cbSelect.setValue(e),this.cbSelect.setReadOnly(t),i._.addOrRemoveCssClass(this.getGui(),"ag-column-select-column-group-readonly",t),this.processingColumnStateChange=!1},t.prototype.workOutSelectedValue=function(){for(var e,t=this.columnController.isPivotMode(),o=this.columnGroup.getLeafColumns(),n=this.getFilterResultsCallback(),i=o.length,r={visible:0,hidden:0},s={visible:0,hidden:0},a=0;a<i;a++){var l=o[a],c=l.getColDef().lockVisible||l.getColDef().suppressColumnsToolPanel,u=this.isColumnVisible(l,t)?"visible":"hidden";if(r[u]++,n)n[l.getColId()]||(c=!0);c&&s[u]++}return s.visible+s.hidden!==i&&(r.visible-=s.visible,r.hidden-=s.hidden),null==(e=r.visible>0&&r.hidden>0?null:r.visible>0)?void 0:e},t.prototype.workOutReadOnlyValue=function(){var e=this.columnController.isPivotMode(),t=0;return this.columnGroup.getLeafColumns().forEach((function(o){e?o.isAnyFunctionAllowed()&&t++:o.getColDef().lockVisible||t++})),0===t},t.prototype.isColumnVisible=function(e,t){if(t){var o=e.isPivotActive(),n=e.isRowGroupActive(),i=e.isValueActive();return o||n||i}return e.isVisible()},t.prototype.onExpandOrContractClicked=function(){this.toggleExpandOrContract()},t.prototype.toggleExpandOrContract=function(e){void 0===e&&(e=!this.expanded),this.expanded=e,this.setOpenClosedIcons(),this.expandedCallback()},t.prototype.setOpenClosedIcons=function(){var e=this.expanded;i._.setDisplayed(this.eGroupClosedIcon,!e),i._.setDisplayed(this.eGroupOpenedIcon,e)},t.prototype.isExpanded=function(){return this.expanded},t.prototype.getDisplayName=function(){return this.displayName},t.prototype.onSelectAllChanged=function(e){(e&&!this.cbSelect.getValue()||!e&&this.cbSelect.getValue())&&(this.cbSelect.isReadOnly()||this.cbSelect.toggle())},t.prototype.isSelected=function(){return this.cbSelect.getValue()},t.prototype.isSelectable=function(){return!this.cbSelect.isReadOnly()},t.prototype.isExpandable=function(){return!0},t.prototype.setExpanded=function(e){this.expanded!==e&&this.onExpandOrContractClicked()},t.prototype.setSelected=function(e){this.cbSelect.setValue(e,!0)},t.TEMPLATE='<div class="ag-column-select-column-group" tabindex="-1">\n            <span class="ag-column-group-icons" ref="eColumnGroupIcons" >\n                <span class="ag-column-group-closed-icon" ref="eGroupClosedIcon"></span>\n                <span class="ag-column-group-opened-icon" ref="eGroupOpenedIcon"></span>\n            </span>\n            <ag-checkbox ref="cbSelect" class="ag-column-select-checkbox"></ag-checkbox>\n            <span class="ag-column-select-column-label" ref="eLabel"></span>\n        </div>',C([i.Autowired("columnController")],t.prototype,"columnController",void 0),C([i.Autowired("dragAndDropService")],t.prototype,"dragAndDropService",void 0),C([i.Autowired("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),C([i.RefSelector("cbSelect")],t.prototype,"cbSelect",void 0),C([i.RefSelector("eLabel")],t.prototype,"eLabel",void 0),C([i.RefSelector("eGroupOpenedIcon")],t.prototype,"eGroupOpenedIcon",void 0),C([i.RefSelector("eGroupClosedIcon")],t.prototype,"eGroupClosedIcon",void 0),C([i.RefSelector("eColumnGroupIcons")],t.prototype,"eColumnGroupIcons",void 0),C([i.PostConstruct],t.prototype,"init",null),t}(i.ManagedFocusComponent),b=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),S=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},E=function(e){function t(t,o,n,i){var r=e.call(this)||this;return r.processingColumnStateChange=!1,r.column=t,r.columnDept=o,r.allowDragging=n,r.groupsExist=i,r}return b(t,e),t.prototype.init=function(){this.setTemplate(t.TEMPLATE),this.eDragHandle=i._.createIconNoSpan("columnDrag",this.gridOptionsWrapper),i._.addCssClass(this.eDragHandle,"ag-drag-handle"),i._.addCssClass(this.eDragHandle,"ag-column-select-column-drag-handle"),this.cbSelect.getGui().insertAdjacentElement("afterend",this.eDragHandle),this.displayName=this.columnController.getDisplayNameForColumn(this.column,"toolPanel");var e=i._.escape(this.displayName);this.eLabel.innerHTML=e,this.cbSelect.setInputAriaLabel(this.displayName+" Toggle Selection");var o=this.columnDept;this.groupsExist&&this.addCssClass("ag-column-select-add-group-indent"),this.addCssClass("ag-column-select-indent-"+o),this.setupDragging(),this.addManagedListener(this.eventService,i.Events.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.onColumnStateChanged.bind(this)),this.addManagedListener(this.column,i.Column.EVENT_VALUE_CHANGED,this.onColumnStateChanged.bind(this)),this.addManagedListener(this.column,i.Column.EVENT_PIVOT_CHANGED,this.onColumnStateChanged.bind(this)),this.addManagedListener(this.column,i.Column.EVENT_ROW_GROUP_CHANGED,this.onColumnStateChanged.bind(this)),this.addManagedListener(this.column,i.Column.EVENT_VISIBLE_CHANGED,this.onColumnStateChanged.bind(this)),this.addManagedListener(this.gridOptionsWrapper,"functionsReadOnly",this.onColumnStateChanged.bind(this)),this.addManagedListener(this.cbSelect,i.AgCheckbox.EVENT_CHANGED,this.onCheckboxChanged.bind(this)),this.addManagedListener(this.eLabel,"click",this.onLabelClicked.bind(this)),this.onColumnStateChanged(),i.CssClassApplier.addToolPanelClassesFromColDef(this.column.getColDef(),this.getGui(),this.gridOptionsWrapper,this.column,null)},t.prototype.handleKeyDown=function(e){if(e.keyCode===i.Constants.KEY_SPACE)e.preventDefault(),this.isSelectable()&&this.onSelectAllChanged(!this.isSelected())},t.prototype.onLabelClicked=function(){if(!this.gridOptionsWrapper.isFunctionsReadOnly()){var e=!this.cbSelect.getValue();this.onChangeCommon(e)}},t.prototype.onCheckboxChanged=function(e){this.onChangeCommon(e.selected)},t.prototype.onChangeCommon=function(e){this.column.getColDef().lockVisible||this.processingColumnStateChange||(this.columnController.isPivotMode()?e?this.actionCheckedPivotMode():this.actionUnCheckedPivotMode():this.columnController.setColumnVisible(this.column,e,"columnMenu"))},t.prototype.actionUnCheckedPivotMode=function(){var e=this.gridOptionsWrapper.isFunctionsPassive(),t=this.column,o=this.columnController;if(t.isPivotActive())if(e){var n=this.columnController.getPivotColumns().slice();n.push(t);var r={type:i.Events.EVENT_COLUMN_PIVOT_CHANGE_REQUEST,columns:n,api:this.gridApi,columnApi:this.columnApi};this.eventService.dispatchEvent(r)}else o.removePivotColumn(t,"columnMenu");if(t.isValueActive())if(e){var s=this.columnController.getValueColumns().slice();s.push(t);var a={type:i.Events.EVENT_COLUMN_VALUE_CHANGE_REQUEST,columns:s,api:this.gridApi,columnApi:this.columnApi};this.eventService.dispatchEvent(a)}else o.removeValueColumn(t,"columnMenu");if(t.isRowGroupActive())if(e){var l=this.columnController.getRowGroupColumns().slice();l.push(t);var c={type:i.Events.EVENT_COLUMN_ROW_GROUP_CHANGE_REQUEST,columns:l,api:this.gridApi,columnApi:this.columnApi};this.eventService.dispatchEvent(c)}else o.removeRowGroupColumn(t,"columnMenu")},t.prototype.actionCheckedPivotMode=function(){var e=this.column;if(!(e.isValueActive()||e.isPivotActive()||e.isRowGroupActive())){var t=this.gridOptionsWrapper.isFunctionsPassive();if(e.isAllowValue())if(t){var o=this.columnController.getValueColumns().slice();i._.removeFromArray(o,e);var n={type:i.Events.EVENT_COLUMN_VALUE_CHANGE_REQUEST,api:this.gridApi,columnApi:this.columnApi,columns:o};this.eventService.dispatchEvent(n)}else this.columnController.addValueColumn(e,"columnMenu");else if(e.isAllowRowGroup())if(t){var r=this.columnController.getRowGroupColumns().slice();i._.removeFromArray(r,e);var s={type:i.Events.EVENT_COLUMN_ROW_GROUP_CHANGE_REQUEST,api:this.gridApi,columnApi:this.columnApi,columns:r};this.eventService.dispatchEvent(s)}else this.columnController.addRowGroupColumn(e,"columnMenu");else if(e.isAllowPivot())if(t){var a=this.columnController.getPivotColumns().slice();i._.removeFromArray(a,e);var l={type:i.Events.EVENT_COLUMN_PIVOT_CHANGE_REQUEST,api:this.gridApi,columnApi:this.columnApi,columns:a};this.eventService.dispatchEvent(l)}else this.columnController.addPivotColumn(e,"columnMenu")}},t.prototype.setupDragging=function(){var e=this;if(this.allowDragging){var t={type:i.DragSourceType.ToolPanel,eElement:this.eDragHandle,dragItemName:this.displayName,getDragItem:function(){return e.createDragItem()}};this.dragAndDropService.addDragSource(t,!0),this.addDestroyFunc((function(){return e.dragAndDropService.removeDragSource(t)}))}else i._.setDisplayed(this.eDragHandle,!1)},t.prototype.createDragItem=function(){var e={};return e[this.column.getId()]=this.column.isVisible(),{columns:[this.column],visibleState:e}},t.prototype.onColumnStateChanged=function(){this.processingColumnStateChange=!0;var e,t=this.columnController.isPivotMode();if(t){var o=this.column.isAnyFunctionActive();this.cbSelect.setValue(o)}else this.cbSelect.setValue(this.column.isVisible());if(t){var n=this.gridOptionsWrapper.isFunctionsReadOnly(),r=!this.column.isAnyFunctionAllowed();e=n||r}else e=!!this.column.getColDef().lockVisible;this.cbSelect.setReadOnly(e),i._.addOrRemoveCssClass(this.getGui(),"ag-column-select-column-readonly",e);var s=t&&this.gridOptionsWrapper.isFunctionsPassive();this.cbSelect.setPassive(s),this.processingColumnStateChange=!1},t.prototype.getDisplayName=function(){return this.displayName},t.prototype.onSelectAllChanged=function(e){e!==this.cbSelect.getValue()&&(this.cbSelect.isReadOnly()||this.cbSelect.toggle())},t.prototype.isSelected=function(){return this.cbSelect.getValue()},t.prototype.isSelectable=function(){return!this.cbSelect.isReadOnly()},t.prototype.isExpandable=function(){return!1},t.prototype.setExpanded=function(e){console.warn("ag-grid: can not expand a column item that does not represent a column group header")},t.TEMPLATE='<div class="ag-column-select-column" tabindex="-1">\n            <ag-checkbox ref="cbSelect" class="ag-column-select-checkbox"></ag-checkbox>\n            <span class="ag-column-select-column-label" ref="eLabel"></span>\n        </div>',S([i.Autowired("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),S([i.Autowired("columnController")],t.prototype,"columnController",void 0),S([i.Autowired("dragAndDropService")],t.prototype,"dragAndDropService",void 0),S([i.Autowired("columnApi")],t.prototype,"columnApi",void 0),S([i.Autowired("gridApi")],t.prototype,"gridApi",void 0),S([i.RefSelector("eLabel")],t.prototype,"eLabel",void 0),S([i.RefSelector("cbSelect")],t.prototype,"cbSelect",void 0),S([i.PostConstruct],t.prototype,"init",null),t}(i.ManagedFocusComponent),R=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),P=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},O=function(e){function t(){var o=e.call(this,t.TEMPLATE)||this;return o.selectAllChecked=!0,o.columnComps=new Map,o.getColumnCompId=function(e){if(e instanceof i.OriginalColumnGroup){var t=e.getLeafColumns().map((function(e){return e.getId()})).join("-");return e.getId()+"-"+t}return e.getId()},o}return R(t,e),t.prototype.init=function(e,t){var o=this;this.params=e,this.allowDragging=t,this.params.suppressSyncLayoutWithGrid||this.addManagedListener(this.eventService,i.Events.EVENT_COLUMN_MOVED,this.onColumnsChanged.bind(this)),this.addManagedListener(this.eventService,i.Events.EVENT_COLUMN_EVERYTHING_CHANGED,this.onColumnsChanged.bind(this)),[i.Events.EVENT_COLUMN_EVERYTHING_CHANGED,i.Events.EVENT_COLUMN_PIVOT_CHANGED,i.Events.EVENT_COLUMN_PIVOT_MODE_CHANGED,i.Events.EVENT_COLUMN_ROW_GROUP_CHANGED,i.Events.EVENT_COLUMN_VALUE_CHANGED,i.Events.EVENT_COLUMN_VISIBLE,i.Events.EVENT_NEW_COLUMNS_LOADED].forEach((function(e){o.addManagedListener(o.eventService,e,o.fireSelectionChangedEvent.bind(o))})),this.expandGroupsByDefault=!this.params.contractColumnSelection,this.columnController.isReady()&&this.onColumnsChanged()},t.prototype.handleKeyDown=function(e){switch(e.keyCode){case i.Constants.KEY_UP:case i.Constants.KEY_DOWN:e.preventDefault(),this.nagivateToNextItem(e.keyCode===i.Constants.KEY_UP)}},t.prototype.nagivateToNextItem=function(e){var t=this.focusController.findNextFocusableElement(this.getFocusableElement(),!0,e);t&&t.focus()},t.prototype.onColumnsChanged=function(){var e=this.columnController.isPivotMode();!this.params.suppressSyncLayoutWithGrid&&!e?this.syncColumnLayout():this.buildTreeFromProvidedColumnDefs(),this.setFilterText(this.filterText)},t.prototype.syncColumnLayout=function(){this.colDefService.syncLayoutWithGrid(this.setColumnLayout.bind(this))},t.prototype.setColumnLayout=function(e){this.destroyColumnComps(),this.columnTree=this.colDefService.createColumnTree(e);var t=e.some((function(e){return e&&"undefined"!==typeof e.children}));this.recursivelyAddComps(this.columnTree,0,t),this.recursivelySetVisibility(this.columnTree,!0),this.notifyListeners()},t.prototype.buildTreeFromProvidedColumnDefs=function(){this.destroyColumnComps(),this.columnTree=this.columnController.getPrimaryColumnTree();var e=this.columnController.isPrimaryColumnGroupsPresent();this.recursivelyAddComps(this.columnTree,0,e),this.recursivelySetVisibility(this.columnTree,!0),this.notifyListeners()},t.prototype.recursivelyAddComps=function(e,t,o){var n=this;e.forEach((function(e){e instanceof i.OriginalColumnGroup?n.recursivelyAddGroupComps(e,t,o):n.addColumnComps(e,t,o)}))},t.prototype.recursivelyAddGroupComps=function(e,t,o){var n,i=this;if(!e.getColGroupDef()||!e.getColGroupDef().suppressColumnsToolPanel){if(e.isPadding())n=t;else{var r=new w(e,t,this.allowDragging,this.expandGroupsByDefault,this.onGroupExpanded.bind(this),(function(){return i.filterResults}));this.getContext().createBean(r);var s=r.getGui();this.appendChild(s),n=t+1;var a=this.getColumnCompId(e);this.columnComps.set(a,r)}this.recursivelyAddComps(e.getChildren(),n,o)}},t.prototype.addColumnComps=function(e,t,o){if(!e.getColDef()||!e.getColDef().suppressColumnsToolPanel){var n=new E(e,t,this.allowDragging,o);this.getContext().createBean(n);var i=n.getGui();this.appendChild(i),this.columnComps.set(e.getId(),n)}},t.prototype.onGroupExpanded=function(){this.recursivelySetVisibility(this.columnTree,!0),this.fireGroupExpandedEvent()},t.prototype.doSetExpandedAll=function(e){this.columnComps.forEach((function(t){t.isExpandable()&&t.setExpanded(e)}))},t.prototype.setGroupsExpanded=function(e,t){var o=this,n=[];if(t){t.forEach((function(t){o.columnComps.forEach((function(o,i){0===i.indexOf(t)&&(o.setExpanded(e),n.push(t))}))}));var r=t.filter((function(e){return!i._.includes(n,e)}));r.length>0&&console.warn("ag-Grid: unable to find group(s) for supplied groupIds:",r)}else this.doSetExpandedAll(e)},t.prototype.getExpandState=function(){var e=this,t=0,o=0,r=function(n){n.forEach((function(n){if(n instanceof i.OriginalColumnGroup){var s=e.getColumnCompId(n),a=e.columnComps.get(s);a&&(a.isExpanded()?t++:o++);var l=n.getChildren();r(l)}}))};return r(this.columnTree),t>0&&o>0?n.INDETERMINATE:o>0?n.COLLAPSED:n.EXPANDED},t.prototype.doSetSelectedAll=function(e){this.selectAllChecked=e,this.updateSelections()},t.prototype.updateSelections=function(){var e=this;if(this.columnApi.isPivotMode())this.columnComps.forEach((function(t){return t.onSelectAllChanged(e.selectAllChecked)}));else{var t=this.columnApi.getPrimaryColumns().filter((function(e){return!e.getColDef().lockVisible}));if(!i._.exists(this.filterText))return void this.columnController.setColumnsVisible(t,this.selectAllChecked,"columnMenu");var o=[];if(i._.iterateObject(this.filterResults,(function(e,t){t&&o.push(e)})),o.length>0){var n=t.filter((function(e){return i._.includes(o,e.getColId())}));this.columnController.setColumnsVisible(n,this.selectAllChecked,"columnMenu");var r=!!this.selectAllChecked;this.dispatchEvent({type:"selectionChanged",state:r})}}},t.prototype.getSelectionState=function(){var e=this,t=this.columnController.getAllPrimaryColumns(),o=[];null!==t&&(o=t.filter((function(e){return!e.getColDef().lockVisible})));var n=this.columnController.isPivotMode(),i=0,r=0;if(o.forEach((function(t){if(!t.getColDef().lockVisible){var o=t.getColDef();if((!o||!o.suppressColumnsToolPanel)&&(!e.filterResults||e.filterResults[t.getColId()])){var s;if(n){if(!t.isAllowPivot()&&!t.isAllowRowGroup()&&!t.isAllowValue())return;s=t.isValueActive()||t.isPivotActive()||t.isRowGroupActive()}else s=t.isVisible();s?i++:r++}}})),!(i>0&&r>0))return!(0===i||r>0)},t.prototype.setFilterText=function(e){this.filterText=i._.exists(e)?e.toLowerCase():null,this.filterColumns(),this.recursivelySetVisibility(this.columnTree,!0),this.columnComps.forEach((function(e){e instanceof w&&e.onColumnStateChanged()})),this.fireSelectionChangedEvent(),this.fireGroupExpandedEvent()},t.prototype.filterColumns=function(){var e=this,t={},o=function(t){if(!i._.exists(e.filterText))return!0;var o=e.getColumnCompId(t),n=e.columnComps.get(o);if(!n)return!1;if(t instanceof i.OriginalColumnGroup&&t.isPadding())return!1;var r=n.getDisplayName();return null===r||r.toLowerCase().indexOf(e.filterText)>=0},n=function(r,s){var a=!1;if(r instanceof i.OriginalColumnGroup){var l=o(r);r.getChildren().forEach((function(e){var t=n(e,l||s);t&&(a=t)}))}var c=!(!s&&!a)||o(r),u=e.getColumnCompId(r);return t[u]=c,c};this.columnTree.forEach((function(e){return n(e,!1)})),this.filterResults=t},t.prototype.recursivelySetVisibility=function(e,t){var o=this;e.forEach((function(e){var n=o.getColumnCompId(e),r=o.columnComps.get(n);if(r){var s=!(o.filterResults&&i._.exists(o.filterResults[n]))||o.filterResults[n];r.setDisplayed(t&&s)}if(e instanceof i.OriginalColumnGroup){var a=e,l=void 0;if(r){var c=r.isExpanded();l=!!t&&c}else l=t;var u=a.getChildren();o.recursivelySetVisibility(u,l)}}))},t.prototype.notifyListeners=function(){this.fireGroupExpandedEvent(),this.fireSelectionChangedEvent()},t.prototype.fireGroupExpandedEvent=function(){var e=this.getExpandState();this.dispatchEvent({type:"groupExpanded",state:e})},t.prototype.fireSelectionChangedEvent=function(){var e=this.getSelectionState();this.dispatchEvent({type:"selectionChanged",state:e})},t.prototype.destroyColumnComps=function(){var e=this,t=this.getGui();this.columnComps&&this.columnComps.forEach((function(o){t.removeChild(o.getGui()),e.destroyBean(o)})),this.columnComps=new Map},t.prototype.destroy=function(){this.destroyColumnComps(),e.prototype.destroy.call(this)},t.TEMPLATE='<div class="ag-column-select-list"></div>',P([i.Autowired("columnController")],t.prototype,"columnController",void 0),P([i.Autowired("toolPanelColDefService")],t.prototype,"colDefService",void 0),P([i.Autowired("columnApi")],t.prototype,"columnApi",void 0),t}(i.ManagedFocusComponent),x=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),T=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},D=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return x(t,e),t.prototype.createTemplate=function(){return'<div class="ag-pivot-mode-panel">\n                <ag-toggle-button ref="cbPivotMode" class="ag-pivot-mode-select"></ag-toggle-button>\n            </div>'},t.prototype.init=function(){this.setTemplate(this.createTemplate()),this.cbPivotMode.setInputAriaLabel("Toggle Pivot Mode"),this.cbPivotMode.setValue(this.columnController.isPivotMode());var e=this.gridOptionsWrapper.getLocaleTextFunc();this.cbPivotMode.setLabel(e("pivotMode","Pivot Mode")),this.addManagedListener(this.cbPivotMode,i.AgCheckbox.EVENT_CHANGED,this.onBtPivotMode.bind(this)),this.addManagedListener(this.eventService,i.Events.EVENT_COLUMN_EVERYTHING_CHANGED,this.onPivotModeChanged.bind(this)),this.addManagedListener(this.eventService,i.Events.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.onPivotModeChanged.bind(this))},t.prototype.onBtPivotMode=function(){var e=this.cbPivotMode.getValue();if(e!==this.columnController.isPivotMode()){this.columnController.setPivotMode(e,"toolPanelUi");var t=this.gridOptionsWrapper.getApi();t&&t.refreshHeader()}},t.prototype.onPivotModeChanged=function(){var e=this.columnController.isPivotMode();this.cbPivotMode.setValue(e)},T([i.Autowired("columnController")],t.prototype,"columnController",void 0),T([i.Autowired("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),T([i.RefSelector("cbPivotMode")],t.prototype,"cbPivotMode",void 0),T([i.PreConstruct],t.prototype,"init",null),t}(i.Component),A=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),F=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},_=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return A(t,e),t.prototype.execute=function(e){if(i._.exists(this.gridOptionsWrapper.getNodeChildDetailsFunc()))return null;var t=i._.missingOrEmpty(this.columnController.getValueColumns()),o=!this.gridOptionsWrapper.getGroupRowAggNodesFunc(),n=e.changedPath&&e.changedPath.isActive();if(!(t&&o&&n)){var r=this.createAggDetails(e);this.recursivelyCreateAggData(r)}},t.prototype.createAggDetails=function(e){var t=this.columnController.isPivotActive(),o=this.columnController.getValueColumns(),n=t?this.columnController.getPivotColumns():[];return{changedPath:e.changedPath,valueColumns:o,pivotColumns:n}},t.prototype.recursivelyCreateAggData=function(e){var t=this;e.changedPath.forEachChangedNodeDepthFirst((function(o){if(!o.hasChildren())o.aggData&&o.setAggData(null);else{if(-1===o.level){var n=!t.columnController.isPivotMode();if(t.gridOptionsWrapper.isSuppressAggAtRootLevel()&&n)return}t.aggregateRowNode(o,e)}}),!0)},t.prototype.aggregateRowNode=function(e,t){var o,n=0===t.valueColumns.length,i=0===t.pivotColumns.length,r=this.gridOptionsWrapper.getGroupRowAggNodesFunc();o=r?r(e.childrenAfterFilter):n?null:i?this.aggregateRowNodeUsingValuesOnly(e,t):this.aggregateRowNodeUsingValuesAndPivot(e),e.setAggData(o),e.sibling&&e.sibling.setAggData(o)},t.prototype.aggregateRowNodeUsingValuesAndPivot=function(e){var t=this,o={},n=this.pivotStage.getPivotColumnDefs();return n.filter((function(e){return!i._.exists(e.pivotTotalColumnIds)})).forEach((function(n){var i,r=n.pivotKeys||[],s=n.pivotValueColumn,a=n.colId;i=e.leafGroup?t.getValuesFromMappedSet(e.childrenMapped,r,s):t.getValuesPivotNonLeaf(e,a),o[a]=t.aggregateValues(i,s.getAggFunc(),s,e)})),n.filter((function(e){return i._.exists(e.pivotTotalColumnIds)})).forEach((function(n){var i=[],r=n.pivotValueColumn,s=n.pivotTotalColumnIds,a=n.colId;s&&s.length&&(s.forEach((function(e){i.push(o[e])})),o[a]=t.aggregateValues(i,r.getAggFunc(),r,e))})),o},t.prototype.aggregateRowNodeUsingValuesOnly=function(e,t){var o=this,n={},i=t.changedPath.isActive()?t.changedPath.getValueColumnsForNode(e,t.valueColumns):t.valueColumns,r=t.changedPath.isActive()?t.changedPath.getNotValueColumnsForNode(e,t.valueColumns):null,s=this.getValuesNormal(e,i),a=e.aggData;return i.forEach((function(t,i){n[t.getId()]=o.aggregateValues(s[i],t.getAggFunc(),t,e)})),r&&a&&r.forEach((function(e){n[e.getId()]=a[e.getId()]})),n},t.prototype.getValuesPivotNonLeaf=function(e,t){var o=[];return e.childrenAfterFilter.forEach((function(e){var n=e.aggData[t];o.push(n)})),o},t.prototype.getValuesFromMappedSet=function(e,t,o){var n=this,i=e;if(t.forEach((function(e){return i=i?i[e]:null})),!i)return[];var r=[];return i.forEach((function(e){var t=n.valueService.getValue(o,e);r.push(t)})),r},t.prototype.getValuesNormal=function(e,t){var o=[];t.forEach((function(){return o.push([])}));for(var n=t.length,i=e.childrenAfterFilter.length,r=0;r<i;r++)for(var s=e.childrenAfterFilter[r],a=0;a<n;a++){var l=t[a],c=this.valueService.getValue(l,s);o[a].push(c)}return o},t.prototype.aggregateValues=function(e,t,o,n){var i="string"===typeof t?this.aggFuncService.getAggFunc(t):t;return"function"!==typeof i?(console.error("ag-Grid: unrecognised aggregation function "+t),null):i(e,{values:e,column:o,colDef:o?o.getColDef():void 0,rowNode:n,data:n?n.data:void 0,api:this.gridApi,columnApi:this.columnApi})},F([i.Autowired("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),F([i.Autowired("columnController")],t.prototype,"columnController",void 0),F([i.Autowired("valueService")],t.prototype,"valueService",void 0),F([i.Autowired("pivotStage")],t.prototype,"pivotStage",void 0),F([i.Autowired("aggFuncService")],t.prototype,"aggFuncService",void 0),F([i.Autowired("aggFuncService")],t.prototype,"gridApi",void 0),F([i.Autowired("aggFuncService")],t.prototype,"columnApi",void 0),t=F([i.Bean("aggregationStage")],t)}(i.BeanStub),M=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),I=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},L=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.groupIdSequence=new i.NumberSequence,t}return M(t,e),t.prototype.postConstruct=function(){this.usingTreeData=this.gridOptionsWrapper.isTreeData(),this.usingTreeData&&(this.getDataPath=this.gridOptionsWrapper.getDataPathFunc())},t.prototype.execute=function(e){var t=this.createGroupingDetails(e);if(t.transactions)this.handleTransaction(t);else{var o=!0===e.afterColumnsChanged;this.shotgunResetEverything(t,o)}this.sortGroupsWithComparator(t.rootNode),this.selectableService.updateSelectableAfterGrouping(t.rootNode)},t.prototype.createGroupingDetails=function(e){var t=e.rowNode,o=e.changedPath,n=e.rowNodeTransactions,i=e.rowNodeOrder,r=this.usingTreeData?null:this.columnController.getRowGroupColumns();return{includeParents:!this.gridOptionsWrapper.isSuppressParentsInRowNodes(),expandByDefault:this.gridOptionsWrapper.isGroupSuppressRow()?-1:this.gridOptionsWrapper.getGroupDefaultExpanded(),groupedCols:r,rootNode:t,pivotMode:this.columnController.isPivotMode(),groupedColCount:this.usingTreeData||!r?0:r.length,rowNodeOrder:i,transactions:n,changedPath:o}},t.prototype.handleTransaction=function(e){var t=this;e.transactions.forEach((function(o){i._.existsAndNotEmpty(o.add)&&t.insertNodes(o.add,e,!1),i._.existsAndNotEmpty(o.remove)&&t.removeNodes(o.remove,e),i._.existsAndNotEmpty(o.update)&&t.moveNodesInWrongPath(o.update,e)})),e.rowNodeOrder&&this.sortChildren(e)},t.prototype.sortChildren=function(e){e.changedPath.forEachChangedNodeDepthFirst((function(t){i._.sortRowNodesByOrder(t.childrenAfterGroup,e.rowNodeOrder)}))},t.prototype.sortGroupsWithComparator=function(e){if(!this.usingTreeData){var t=this.gridOptionsWrapper.getDefaultGroupSortComparator();i._.exists(t)&&function e(o){i._.exists(o.childrenAfterGroup)&&!o.leafGroup&&(o.childrenAfterGroup.sort(t),o.childrenAfterGroup.forEach((function(t){return e(t)})))}(e)}},t.prototype.getExistingPathForNode=function(e,t){for(var o=[],n=this.usingTreeData?e:e.parent;n&&n!==t.rootNode;)o.push({key:n.key,rowGroupColumn:n.rowGroupColumn,field:n.field}),n=n.parent;return o.reverse(),o},t.prototype.moveNodesInWrongPath=function(e,t){var o=this;e.forEach((function(e){t.changedPath.isActive()&&t.changedPath.addParentNode(e.parent);var n=function(e){return e.key},r=o.getExistingPathForNode(e,t).map(n),s=o.getGroupInfo(e,t).map(n);i._.areEqual(r,s)||o.moveNode(e,t)}))},t.prototype.moveNode=function(e,t){if(this.removeNodesInStages([e],t),this.insertOneNode(e,t,!0),e.setData(e.data),t.changedPath.isActive()){var o=e.parent;t.changedPath.addParentNode(o)}},t.prototype.removeNodes=function(e,t){this.removeNodesInStages(e,t),t.changedPath.isActive()&&e.forEach((function(e){return t.changedPath.addParentNode(e.parent)}))},t.prototype.removeNodesInStages=function(e,t){this.removeNodesFromParents(e,t),this.postRemoveCreateFillerNodes(e,t),this.postRemoveRemoveEmptyGroups(e,t)},t.prototype.forEachParentGroup=function(e,t,o){for(var n=t.parent;n&&n!==e.rootNode;)o(n),n=n.parent},t.prototype.removeNodesFromParents=function(e,t){var o=this,n=new N;e.forEach((function(e){o.removeFromParent(e,n),o.forEachParentGroup(t,e,(function(t){n.removeFromAllLeafChildren(t,e)}))})),n.flush()},t.prototype.postRemoveCreateFillerNodes=function(e,t){var o=this;e.forEach((function(e){if(e.hasChildren()){var n=o.getExistingPathForNode(e,t),i=o.findParentForNode(e,n,t);i.expanded=e.expanded,i.allLeafChildren=e.allLeafChildren,i.childrenAfterGroup=e.childrenAfterGroup,i.childrenMapped=e.childrenMapped,i.childrenAfterGroup.forEach((function(e){return e.parent=i}))}}))},t.prototype.postRemoveRemoveEmptyGroups=function(e,t){for(var o=this,n=!0,i=function(){n=!1;var i=new N;e.forEach((function(e){o.forEachParentGroup(t,e,(function(e){(function(e){var t=o.getChildrenMappedKey(e.key,e.rowGroupColumn),n=e.parent;return!(!n||!n.childrenMapped||!n.childrenMapped[t])&&e.isEmptyRowGroupNode()})(e)&&(n=!0,o.removeFromParent(e,i),e.setSelected(!1))}))})),i.flush()};n;)i()},t.prototype.removeFromParent=function(e,t){e.parent&&(t?t.removeFromChildrenAfterGroup(e.parent,e):i._.removeFromArray(e.parent.childrenAfterGroup,e));var o=this.getChildrenMappedKey(e.key,e.rowGroupColumn);e.parent&&e.parent.childrenMapped&&(e.parent.childrenMapped[o]=void 0),e.setRowTop(null)},t.prototype.addToParent=function(e,t){var o=this.getChildrenMappedKey(e.key,e.rowGroupColumn);t&&(t.childrenMapped&&(t.childrenMapped[o]=e),t.childrenAfterGroup.push(e))},t.prototype.areGroupColsEqual=function(e,t){return null!=e&&null!=t&&e.pivotMode===t.pivotMode&&i._.areEqual(e.groupedCols,t.groupedCols)},t.prototype.shotgunResetEverything=function(e,t){var o=!!t&&(this.usingTreeData||this.areGroupColsEqual(e,this.oldGroupingDetails));this.oldGroupingDetails=e,o||(e.rootNode.leafGroup=!this.usingTreeData&&0===e.groupedCols.length,e.rootNode.childrenAfterGroup=[],e.rootNode.childrenMapped={},this.insertNodes(e.rootNode.allLeafChildren,e,!1))},t.prototype.insertNodes=function(e,t,o){var n=this;e.forEach((function(e){n.insertOneNode(e,t,o),t.changedPath.isActive()&&t.changedPath.addParentNode(e.parent)}))},t.prototype.insertOneNode=function(e,t,o){var n=this.getGroupInfo(e,t),i=this.findParentForNode(e,n,t);i.group||console.warn("ag-Grid: duplicate group keys for row data, keys should be unique",[i.data,e.data]),this.usingTreeData?this.swapGroupWithUserNode(i,e,o):(e.parent=i,e.level=n.length,i.childrenAfterGroup.push(e))},t.prototype.findParentForNode=function(e,t,o){var n=this,i=o.rootNode;return t.forEach((function(t,r){(i=n.getOrCreateNextNode(i,t,r,o)).allLeafChildren.push(e)})),i},t.prototype.swapGroupWithUserNode=function(e,t,o){t.parent=e.parent,t.key=e.key,t.field=e.field,t.groupData=e.groupData,t.level=e.level,o||(t.expanded=e.expanded),t.leafGroup=e.leafGroup,t.rowGroupIndex=e.rowGroupIndex,t.allLeafChildren=e.allLeafChildren,t.childrenAfterGroup=e.childrenAfterGroup,t.childrenMapped=e.childrenMapped,this.removeFromParent(e),t.childrenAfterGroup.forEach((function(e){return e.parent=t})),this.addToParent(t,e.parent)},t.prototype.getOrCreateNextNode=function(e,t,o,n){var i=this.getChildrenMappedKey(t.key,t.rowGroupColumn),r=e.childrenMapped?e.childrenMapped[i]:void 0;return r||(r=this.createGroup(t,e,o,n),this.addToParent(r,e)),r},t.prototype.createGroup=function(e,t,o,n){var r=this,s=new i.RowNode;return this.context.createBean(s),s.group=!0,s.field=e.field,s.rowGroupColumn=e.rowGroupColumn,s.groupData={},this.columnController.getGroupDisplayColumns().forEach((function(t){(r.usingTreeData||!!s.rowGroupColumn&&t.isRowGroupDisplayed(s.rowGroupColumn.getId()))&&(s.groupData[t.getColId()]=e.key)})),s.id=i.RowNode.ID_PREFIX_ROW_GROUP+this.groupIdSequence.next(),s.key=e.key,s.level=o,s.leafGroup=!this.usingTreeData&&o===n.groupedColCount-1,n.pivotMode&&s.leafGroup?s.expanded=!1:s.expanded=this.isExpanded(n.expandByDefault,o),s.allLeafChildren=[],s.setAllChildrenCount(0),s.rowGroupIndex=this.usingTreeData?null:o,s.childrenAfterGroup=[],s.childrenMapped={},s.parent=n.includeParents?t:null,s},t.prototype.getChildrenMappedKey=function(e,t){return t?t.getId()+"-"+e:e},t.prototype.isExpanded=function(e,t){return-1===e||t<e},t.prototype.getGroupInfo=function(e,t){return this.usingTreeData?this.getGroupInfoFromCallback(e):this.getGroupInfoFromGroupColumns(e,t)},t.prototype.getGroupInfoFromCallback=function(e){var t=this.getDataPath?this.getDataPath(e.data):null;null!==t&&void 0!==t&&0!==t.length||i._.doOnce((function(){return console.warn("getDataPath() should not return an empty path for data",e.data)}),"groupStage.getGroupInfoFromCallback");return t?t.map((function(e){return{key:e,field:null,rowGroupColumn:null}})):[]},t.prototype.getGroupInfoFromGroupColumns=function(e,t){var o=this,n=[];return t.groupedCols.forEach((function(i){var r=o.valueService.getKeyForNode(i,e),s=null!==r&&void 0!==r;if(t.pivotMode&&!s&&(r=" ",s=!0),s){var a={key:r,field:i.getColDef().field,rowGroupColumn:i};n.push(a)}})),n},I([i.Autowired("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),I([i.Autowired("columnController")],t.prototype,"columnController",void 0),I([i.Autowired("selectableService")],t.prototype,"selectableService",void 0),I([i.Autowired("valueService")],t.prototype,"valueService",void 0),I([i.PostConstruct],t.prototype,"postConstruct",null),t=I([i.Bean("groupStage")],t)}(i.BeanStub),N=function(){function e(){this.allSets={},this.allParents=[]}return e.prototype.removeFromChildrenAfterGroup=function(e,t){this.getSet(e).removeFromChildrenAfterGroup[t.id]=!0},e.prototype.removeFromAllLeafChildren=function(e,t){this.getSet(e).removeFromAllLeafChildren[t.id]=!0},e.prototype.getSet=function(e){return this.allSets[e.id]||(this.allSets[e.id]={removeFromAllLeafChildren:{},removeFromChildrenAfterGroup:{}},this.allParents.push(e)),this.allSets[e.id]},e.prototype.flush=function(){var e=this;this.allParents.forEach((function(t){var o=e.allSets[t.id];t.childrenAfterGroup=t.childrenAfterGroup.filter((function(e){return!o.removeFromChildrenAfterGroup[e.id]})),t.allLeafChildren=t.allLeafChildren.filter((function(e){return!o.removeFromAllLeafChildren[e.id]}))})),this.allSets={},this.allParents.length=0},e}(),k=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),G=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},V=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return k(t,e),t.prototype.createPivotColumnDefs=function(e){var t=[],o=[],n=this.columnController.getPivotColumns(),r=this.columnController.getValueColumns(),s=n.length,a=new i.NumberSequence;return this.recursivelyAddGroup(t,o,1,e,[],a,s,n),this.addRowGroupTotals(t,o,r,n,a),this.addPivotTotalsToGroups(t,o,a),{pivotColumnGroupDefs:t,pivotColumnDefs:o.map((function(e){return i._.cloneObject(e)}))}},t.prototype.recursivelyAddGroup=function(e,t,o,n,r,s,a,l){var c=this;i._.iterateObject(n,(function(n,i){var u=r.slice(0);if(u.push(n),o!==a){var d={children:[],headerName:n,pivotKeys:u,columnGroupShow:"open",groupId:"pivot"+s.next()};e.push(d),c.recursivelyAddGroup(d.children,t,o+1,i,u,s,a,l)}else{var h=c.columnController.getValueColumns(),p={children:[],headerName:n,pivotKeys:u,columnGroupShow:"open",groupId:"pivot"+s.next()};if(0===h.length){var g=c.createColDef(null,"-",u,s);p.children.push(g),t.push(g)}else h.forEach((function(e){var o=c.columnController.getDisplayNameForColumn(e,"header"),n=c.createColDef(e,o,u,s);n.columnGroupShow="open",p.children.push(n),t.push(n)}));e.push(p)}}));var u=l[o-1].getColDef().pivotComparator,d=this.headerNameComparator.bind(this,u);e.sort(d)},t.prototype.addPivotTotalsToGroups=function(e,t,o){var n=this;if(this.gridOptionsWrapper.getPivotColumnGroupTotals()){var i="after"===this.gridOptionsWrapper.getPivotColumnGroupTotals(),r=this.columnController.getValueColumns(),s=r.map((function(e){return e.getAggFunc()}));if(s&&!(s.length<1)&&this.sameAggFuncs(s)){var a=r[0];e.forEach((function(e){n.recursivelyAddPivotTotal(e,t,o,a,i)}))}}},t.prototype.recursivelyAddPivotTotal=function(e,t,o,n,i){var r=this,s=e;if(!s.children){var a=e;return a.colId?[a.colId]:null}var l=[];if(s.children.forEach((function(e){var s=r.recursivelyAddPivotTotal(e,t,o,n,i);s&&(l=l.concat(s))})),s.children.length>1){var c=this.createColDef(n,"Total",e.pivotKeys,o);c.pivotTotalColumnIds=l,c.aggFunc=n.getAggFunc();var u=e.children;i?u.push(c):u.unshift(c),t.push(c)}return l},t.prototype.addRowGroupTotals=function(e,t,o,n,i){var r=this;if(this.gridOptionsWrapper.getPivotRowTotals())for(var s="after"===this.gridOptionsWrapper.getPivotRowTotals(),a=s?o.slice():o.slice().reverse(),l=function(o){var l=a[o],u=[];e.forEach((function(e){u=u.concat(r.extractColIdsForValueColumn(e,l))}));var d=n.length;c.createRowGroupTotal(e,t,1,[],i,d,n,l,u,s)},c=this,u=0;u<a.length;u++)l(u)},t.prototype.extractColIdsForValueColumn=function(e,t){var o=this,n=e;if(!n.children){var i=n;return i.pivotValueColumn===t&&i.colId?[i.colId]:[]}var r=[];return n.children.forEach((function(e){o.extractColIdsForValueColumn(e,t);var n=o.extractColIdsForValueColumn(e,t);r=r.concat(n)})),r},t.prototype.createRowGroupTotal=function(e,t,o,n,i,r,s,a,l,c){var u=n.slice(0);if(o!==r){var d={children:[],pivotKeys:u,groupId:"pivot"+i.next()};c?e.push(d):e.unshift(d),this.createRowGroupTotal(d.children,t,o+1,u,i,r,s,a,l,c)}else{var h=this.columnController.getValueColumns(),p={children:[],pivotKeys:u,groupId:"pivot"+i.next()};if(0===h.length){var g=this.createColDef(null,"-",u,i);p.children.push(g),t.push(g)}else{var f=this.columnController.getDisplayNameForColumn(a,"header");(g=this.createColDef(a,f,u,i)).pivotTotalColumnIds=l,p.children.push(g),t.push(g)}c?e.push(p):e.unshift(p)}},t.prototype.createColDef=function(e,t,o,n){var r={};if(e){var s=e.getColDef();i._.assign(r,s),r.hide=!1}return r.headerName=t,r.colId="pivot_"+n.next(),r.field=r.colId,r.pivotKeys=o,r.pivotValueColumn=e,r.filter=!1,r},t.prototype.sameAggFuncs=function(e){if(1==e.length)return!0;for(var t=1;t<e.length;t++)if(e[t]!==e[0])return!1;return!0},t.prototype.headerNameComparator=function(e,t,o){return e?e(t.headerName,o.headerName):t.headerName&&!o.headerName?1:!t.headerName&&o.headerName?-1:t.headerName&&o.headerName?t.headerName<o.headerName?-1:t.headerName>o.headerName?1:0:0},G([i.Autowired("columnController")],t.prototype,"columnController",void 0),G([i.Autowired("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),t=G([i.Bean("pivotColDefService")],t)}(i.BeanStub),H=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),B=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},W=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.uniqueValues={},t}return H(t,e),t.prototype.execute=function(e){var t=e.rowNode,o=e.changedPath;this.columnController.isPivotActive()?this.executePivotOn(t,o):this.executePivotOff(o)},t.prototype.executePivotOff=function(e){this.aggregationColumnsHashLastTime=null,this.uniqueValues={},this.columnController.isSecondaryColumnsPresent()&&(this.columnController.setSecondaryColumns(null,"rowModelUpdated"),e&&e.setInactive())},t.prototype.executePivotOn=function(e,t){var o=this.bucketUpRowNodes(e),n=this.setUniqueValues(o),i=this.columnController.getValueColumns(),r=i.map((function(e){return e.getId()})).join("#"),s=i.map((function(e){return e.getAggFunc().toString()})).join("#"),a=this.aggregationColumnsHashLastTime!==r,l=this.aggregationFuncsHashLastTime!==s;if(this.aggregationColumnsHashLastTime=r,this.aggregationFuncsHashLastTime=s,n||a||l){var c=this.pivotColDefService.createPivotColumnDefs(this.uniqueValues);this.pivotColumnGroupDefs=c.pivotColumnGroupDefs,this.pivotColumnDefs=c.pivotColumnDefs,this.columnController.setSecondaryColumns(this.pivotColumnGroupDefs,"rowModelUpdated"),t&&t.setInactive()}},t.prototype.setUniqueValues=function(e){return!!(JSON.stringify(e)!==JSON.stringify(this.uniqueValues))&&(this.uniqueValues=e,!0)},t.prototype.bucketUpRowNodes=function(e){var t=this,o={},n=function(e){e.leafGroup?t.bucketRowNode(e,o):e.childrenAfterFilter.forEach((function(e){n(e)}))};return n(e),o},t.prototype.bucketRowNode=function(e,t){var o=this.columnController.getPivotColumns();0!==o.length?e.childrenMapped=this.bucketChildren(e.childrenAfterFilter,o,0,t):e.childrenMapped=null},t.prototype.bucketChildren=function(e,t,o,n){var r=this,s={},a=t[o];if(e.forEach((function(e){var t=r.valueService.getKeyForNode(a,e);i._.missing(t)&&(t=""),n[t]||(n[t]={}),s[t]||(s[t]=[]),s[t].push(e)})),o===t.length-1)return s;var l={};return i._.iterateObject(s,(function(e,i){l[e]=r.bucketChildren(i,t,o+1,n[e])})),l},t.prototype.getPivotColumnDefs=function(){return this.pivotColumnDefs},B([i.Autowired("valueService")],t.prototype,"valueService",void 0),B([i.Autowired("columnController")],t.prototype,"columnController",void 0),B([i.Autowired("pivotColDefService")],t.prototype,"pivotColDefService",void 0),t=B([i.Bean("pivotStage")],t)}(i.BeanStub),j=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),z=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},U=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.aggFuncsMap={},t.initialised=!1,t}var o;return j(t,e),o=t,t.prototype.init=function(){this.initialised||(this.initialiseWithDefaultAggregations(),this.addAggFuncs(this.gridOptionsWrapper.getAggFuncs()))},t.prototype.initialiseWithDefaultAggregations=function(){this.aggFuncsMap[o.AGG_SUM]=$,this.aggFuncsMap[o.AGG_FIRST]=K,this.aggFuncsMap[o.AGG_LAST]=Y,this.aggFuncsMap[o.AGG_MIN]=q,this.aggFuncsMap[o.AGG_MAX]=X,this.aggFuncsMap[o.AGG_COUNT]=Q,this.aggFuncsMap[o.AGG_AVG]=Z,this.initialised=!0},t.prototype.getDefaultAggFunc=function(e){var t=this.getFuncNames(e),n=i._.includes(t,o.AGG_SUM),r=i._.exists(this.aggFuncsMap[o.AGG_SUM]);return n&&r?o.AGG_SUM:i._.existsAndNotEmpty(t)?t[0]:null},t.prototype.addAggFuncs=function(e){i._.iterateObject(e,this.addAggFunc.bind(this))},t.prototype.addAggFunc=function(e,t){this.init(),this.aggFuncsMap[e]=t},t.prototype.getAggFunc=function(e){return this.init(),this.aggFuncsMap[e]},t.prototype.getFuncNames=function(e){var t=e.getColDef().allowedAggFuncs;return i._.exists(t)&&t?t:Object.keys(this.aggFuncsMap).sort()},t.prototype.clear=function(){this.aggFuncsMap={}},t.AGG_SUM="sum",t.AGG_FIRST="first",t.AGG_LAST="last",t.AGG_MIN="min",t.AGG_MAX="max",t.AGG_COUNT="count",t.AGG_AVG="avg",z([i.Autowired("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),z([i.PostConstruct],t.prototype,"init",null),t=o=z([i.Bean("aggFuncService")],t)}(i.BeanStub);function $(e){return e.filter((function(e){return"number"===typeof e})).reduce((function(e,t){return null===e?t:e+t}),null)}function K(e){return e.length>0?e[0]:null}function Y(e){return e.length>0?i._.last(e):null}function q(e){return e.filter((function(e){return"number"===typeof e})).reduce((function(e,t){return null===e||t<e?t:e}),null)}function X(e){return e.filter((function(e){return"number"===typeof e})).reduce((function(e,t){return null===e||t>e?t:e}),null)}function Q(e){var t=e.reduce((function(e,t){return e+(i._.exists(t)&&"number"===typeof t.value?t.value:1)}),0);return{value:t,toString:function(){return this.value.toString()},toNumber:function(){return this.value}}}function Z(e){var t=e.reduce((function(e,t){var o=e.sum,n=e.count,r=i._.exists(t)&&"number"===typeof t.value&&"number"===typeof t.count;return"number"===typeof t?{sum:o+t,count:n+1}:r?{sum:o+t.value*t.count,count:n+t.count}:{sum:o,count:n}}),{sum:0,count:0}),o=t.sum,n=t.count;return{count:n,value:n>0?o/n:null,toString:function(){return"number"===typeof this.value?this.value.toString():""},toNumber:function(){return this.value}}}var J,ee,te,oe,ne,ie,re,se,ae,le=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),ce=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},ue=function(e){function t(t,o,n,i,r){var s=e.call(this)||this;return s.column=t,s.dragSourceDropTarget=o,s.ghost=n,s.valueColumn=i,s.horizontal=r,s.popupShowing=!1,s}return le(t,e),t.prototype.init=function(){this.setTemplate(t.TEMPLATE),this.addElementClasses(this.getGui()),this.addElementClasses(this.eDragHandle,"drag-handle"),this.addElementClasses(this.eText,"text"),this.addElementClasses(this.eButton,"button"),this.eDragHandle.appendChild(i._.createIconNoSpan("columnDrag",this.gridOptionsWrapper)),this.eButton.appendChild(i._.createIconNoSpan("cancel",this.gridOptionsWrapper)),this.displayName=this.columnController.getDisplayNameForColumn(this.column,"columnDrop"),this.setupComponents(),this.ghost||this.gridOptionsWrapper.isFunctionsReadOnly()||this.addDragSource()},t.prototype.addDragSource=function(){var e=this,t={type:i.DragSourceType.ToolPanel,eElement:this.eDragHandle,defaultIconName:i.DragAndDropService.ICON_HIDE,getDragItem:function(){return e.createDragItem()},dragItemName:this.displayName,dragSourceDropTarget:this.dragSourceDropTarget};this.dragAndDropService.addDragSource(t,!0),this.addDestroyFunc((function(){return e.dragAndDropService.removeDragSource(t)}))},t.prototype.createDragItem=function(){var e={};return e[this.column.getId()]=this.column.isVisible(),{columns:[this.column],visibleState:e}},t.prototype.setupComponents=function(){this.setTextValue(),this.setupRemove(),this.ghost&&i._.addCssClass(this.getGui(),"ag-column-drop-cell-ghost"),this.valueColumn&&!this.gridOptionsWrapper.isFunctionsReadOnly()&&this.addGuiEventListener("click",this.onShowAggFuncSelection.bind(this))},t.prototype.setupRemove=function(){var e=this;i._.setDisplayed(this.eButton,!this.gridOptionsWrapper.isFunctionsReadOnly()),this.addManagedListener(this.eButton,"click",(function(o){var n={type:t.EVENT_COLUMN_REMOVE};e.dispatchEvent(n),o.stopPropagation()}));var o=new i.TouchListener(this.eButton);this.addManagedListener(o,i.TouchListener.EVENT_TAP,(function(o){var n={type:t.EVENT_COLUMN_REMOVE};e.dispatchEvent(n)})),this.addDestroyFunc(o.destroy.bind(o))},t.prototype.setTextValue=function(){var e;if(this.valueColumn){var t=this.column.getAggFunc(),o="string"===typeof t?t:"agg";e=this.gridOptionsWrapper.getLocaleTextFunc()(o,o)+"("+this.displayName+")"}else e=this.displayName;var n=i._.escape(e);this.eText.innerHTML=n},t.prototype.onShowAggFuncSelection=function(){var e=this;if(!this.popupShowing){this.popupShowing=!0;var t=new i.VirtualList("select-agg-func"),o=this.aggFuncService.getFuncNames(this.column);t.setModel({getRow:function(e){return o[e]},getRowCount:function(){return o.length}}),this.getContext().createBean(t);var n=i._.loadTemplate('<div class="ag-select-agg-func-popup"></div>');n.style.top="0px",n.style.left="0px",n.appendChild(t.getGui()),n.style.width=this.getGui().clientWidth+"px";var r=this.popupService.addAsModalPopup(n,!0,(function(){e.destroyBean(t),e.popupShowing=!1}));t.setComponentCreator(this.createAggSelect.bind(this,r)),this.popupService.positionPopupUnderComponent({type:"aggFuncSelect",eventSource:this.getGui(),ePopup:n,keepWithinBounds:!0,column:this.column}),t.refresh()}},t.prototype.createAggSelect=function(e,t){var o=this,n=this.gridOptionsWrapper.getLocaleTextFunc(),r=t.toString(),s=n(r,r);return new de((function(){if(e(),o.gridOptionsWrapper.isFunctionsPassive()){var n={type:i.Events.EVENT_COLUMN_AGG_FUNC_CHANGE_REQUEST,columns:[o.column],aggFunc:t,api:o.gridApi,columnApi:o.columnApi};o.eventService.dispatchEvent(n)}else o.columnController.setColumnAggFunc(o.column,t,"toolPanelDragAndDrop")}),s)},t.prototype.addElementClasses=function(e,t){t=t?"-"+t:"",i._.addCssClass(e,"ag-column-drop-cell"+t);var o=this.horizontal?"horizontal":"vertical";i._.addCssClass(e,"ag-column-drop-"+o+"-cell"+t)},t.EVENT_COLUMN_REMOVE="columnRemove",t.TEMPLATE='<span>\n          <span ref="eDragHandle" class="ag-drag-handle ag-column-drop-cell-drag-handle"></span>\n          <span ref="eText" class="ag-column-drop-cell-text"></span>\n          <span ref="eButton" class="ag-column-drop-cell-button"></span>\n        </span>',ce([i.Autowired("dragAndDropService")],t.prototype,"dragAndDropService",void 0),ce([i.Autowired("columnController")],t.prototype,"columnController",void 0),ce([i.Autowired("popupService")],t.prototype,"popupService",void 0),ce([i.Optional("aggFuncService")],t.prototype,"aggFuncService",void 0),ce([i.Autowired("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),ce([i.Autowired("columnApi")],t.prototype,"columnApi",void 0),ce([i.Autowired("gridApi")],t.prototype,"gridApi",void 0),ce([i.RefSelector("eText")],t.prototype,"eText",void 0),ce([i.RefSelector("eDragHandle")],t.prototype,"eDragHandle",void 0),ce([i.RefSelector("eButton")],t.prototype,"eButton",void 0),ce([i.PostConstruct],t.prototype,"init",null),t}(i.Component),de=function(e){function t(t,o){var n=e.call(this,'<div class="ag-select-agg-func-item"/>')||this;return n.getGui().innerText=o,n.value=o,n.addGuiEventListener("click",t),n}return le(t,e),t}(i.Component),he=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),pe=function(e){function t(o,n){var i=e.call(this,'<div class="ag-unselectable"></div>')||this;return i.horizontal=o,i.valueColumn=n,i.state=t.STATE_NOT_DRAGGING,i.guiDestroyFunctions=[],i.childColumnComponents=[],i.addElementClasses(i.getGui()),i.eColumnDropList=document.createElement("div"),i.addElementClasses(i.eColumnDropList,"list"),i}return he(t,e),t.prototype.isHorizontal=function(){return this.horizontal},t.prototype.setBeans=function(e){this.beans=e},t.prototype.destroy=function(){this.destroyGui(),e.prototype.destroy.call(this)},t.prototype.destroyGui=function(){this.guiDestroyFunctions.forEach((function(e){return e()})),this.guiDestroyFunctions.length=0,this.childColumnComponents.length=0,i._.clearElement(this.getGui()),i._.clearElement(this.eColumnDropList)},t.prototype.init=function(e){this.params=e,this.addManagedListener(this.beans.eventService,i.Events.EVENT_COLUMN_EVERYTHING_CHANGED,this.refreshGui.bind(this)),this.addManagedListener(this.beans.gridOptionsWrapper,"functionsReadOnly",this.refreshGui.bind(this)),this.setupDropTarget(),this.refreshGui()},t.prototype.addElementClasses=function(e,t){t=t?"-"+t:"",i._.addCssClass(e,"ag-column-drop"+t);var o=this.horizontal?"horizontal":"vertical";i._.addCssClass(e,"ag-column-drop-"+o+t)},t.prototype.setupDropTarget=function(){this.dropTarget={getContainer:this.getGui.bind(this),getIconName:this.getIconName.bind(this),onDragging:this.onDragging.bind(this),onDragEnter:this.onDragEnter.bind(this),onDragLeave:this.onDragLeave.bind(this),onDragStop:this.onDragStop.bind(this),isInterestedIn:this.isInterestedIn.bind(this)},this.beans.dragAndDropService.addDropTarget(this.dropTarget)},t.prototype.isInterestedIn=function(e){return e===i.DragSourceType.HeaderCell||e===i.DragSourceType.ToolPanel},t.prototype.checkInsertIndex=function(e){var t=this.horizontal?this.getNewHorizontalInsertIndex(e):this.getNewVerticalInsertIndex(e);if(t<0)return!1;var o=t!==this.insertIndex;return o&&(this.insertIndex=t),o},t.prototype.getNewHorizontalInsertIndex=function(e){if(i._.missing(e.hDirection))return-1;var t=0,o=e.event,n=this.beans.gridOptionsWrapper.isEnableRtl(),r=e.hDirection===i.HorizontalDirection.Left,s=o.clientX;return this.childColumnComponents.forEach((function(e){var o=e.getGui().getBoundingClientRect(),i=r?o.right:o.left;(n?s<=i:s>=i)&&t++})),t},t.prototype.getNewVerticalInsertIndex=function(e){if(i._.missing(e.vDirection))return-1;var t=0,o=e.event;return this.childColumnComponents.forEach((function(n){var r=n.getGui().getBoundingClientRect();o.clientY>=(e.vDirection===i.VerticalDirection.Down?r.top:r.bottom)&&t++})),t},t.prototype.checkDragStartedBySelf=function(e){this.state===t.STATE_NOT_DRAGGING&&(this.state=t.STATE_REARRANGE_COLUMNS,this.potentialDndColumns=e.dragSource.getDragItem().columns||[],this.refreshGui(),this.checkInsertIndex(e),this.refreshGui())},t.prototype.onDragging=function(e){this.checkDragStartedBySelf(e),this.checkInsertIndex(e)&&this.refreshGui()},t.prototype.onDragEnter=function(e){var o=e.dragSource.getDragItem().columns||[];this.state=t.STATE_NEW_COLUMNS_IN;var n=o.filter(this.isColumnDroppable.bind(this));n.length>0&&(this.potentialDndColumns=n,this.checkInsertIndex(e),this.refreshGui())},t.prototype.isPotentialDndColumns=function(){return i._.existsAndNotEmpty(this.potentialDndColumns)},t.prototype.onDragLeave=function(e){if(this.state===t.STATE_REARRANGE_COLUMNS){var o=e.dragSource.getDragItem().columns||[];this.removeColumns(o)}this.isPotentialDndColumns()&&(this.potentialDndColumns=[],this.refreshGui()),this.state=t.STATE_NOT_DRAGGING},t.prototype.onDragStop=function(){if(this.isPotentialDndColumns()){var e=!1;this.state===t.STATE_NEW_COLUMNS_IN?(this.addColumns(this.potentialDndColumns),e=!0):e=this.rearrangeColumns(this.potentialDndColumns),this.potentialDndColumns=[],this.beans.gridOptionsWrapper.isFunctionsPassive()&&e||this.refreshGui()}this.state=t.STATE_NOT_DRAGGING},t.prototype.removeColumns=function(e){var t=this.getExistingColumns().filter((function(t){return!i._.includes(e,t)}));this.updateColumns(t)},t.prototype.addColumns=function(e){var t=this.getExistingColumns().slice();i._.insertArrayIntoArray(t,e,this.insertIndex),this.updateColumns(t)},t.prototype.rearrangeColumns=function(e){var t=this.getNonGhostColumns().slice();return i._.insertArrayIntoArray(t,e,this.insertIndex),!i._.areEqual(t,this.getExistingColumns())&&(this.updateColumns(t),!0)},t.prototype.refreshGui=function(){var e=this.eColumnDropList.scrollTop;this.destroyGui(),this.addIconAndTitleToGui(),this.addEmptyMessageToGui(),this.addColumnsToGui(),this.isHorizontal()||(this.eColumnDropList.scrollTop=e)},t.prototype.getNonGhostColumns=function(){var e=this,t=this.getExistingColumns();return this.isPotentialDndColumns()?t.filter((function(t){return!i._.includes(e.potentialDndColumns,t)})):t},t.prototype.addColumnsToGui=function(){var e=this,t=this.getNonGhostColumns(),o=this.isPotentialDndColumns(),n=[];t.forEach((function(t,i){if(!(o&&i>=e.insertIndex)){var r=e.createColumnComponent(t,!1);n.push(r)}})),this.isPotentialDndColumns()&&(this.potentialDndColumns.forEach((function(t){var o=e.createColumnComponent(t,!0);n.push(o)})),t.forEach((function(t,o){if(!(o<e.insertIndex)){var i=e.createColumnComponent(t,!1);n.push(i)}}))),this.getGui().appendChild(this.eColumnDropList),n.forEach((function(t,o){o>0&&e.addArrow(e.eColumnDropList),e.eColumnDropList.appendChild(t.getGui())}))},t.prototype.createColumnComponent=function(e,t){var o=this,n=new ue(e,this.dropTarget,t,this.valueColumn,this.horizontal);return n.addEventListener(ue.EVENT_COLUMN_REMOVE,this.removeColumns.bind(this,[e])),this.beans.context.createBean(n),this.guiDestroyFunctions.push((function(){return o.destroyBean(n)})),t||this.childColumnComponents.push(n),n},t.prototype.addIconAndTitleToGui=function(){var e=this.params.icon,t=document.createElement("div");if(this.addElementClasses(t,"title-bar"),this.addElementClasses(e,"icon"),i._.addOrRemoveCssClass(this.getGui(),"ag-column-drop-empty",this.isExistingColumnsEmpty()),t.appendChild(e),!this.horizontal){var o=document.createElement("span");this.addElementClasses(o,"title"),o.innerHTML=this.params.title,t.appendChild(o)}this.getGui().appendChild(t)},t.prototype.isExistingColumnsEmpty=function(){return 0===this.getExistingColumns().length},t.prototype.addEmptyMessageToGui=function(){if(this.isExistingColumnsEmpty()&&!this.isPotentialDndColumns()){var e=document.createElement("span");e.innerHTML=this.params.emptyMessage,this.addElementClasses(e,"empty-message"),this.eColumnDropList.appendChild(e)}},t.prototype.addArrow=function(e){if(this.horizontal){var t=this.beans.gridOptionsWrapper.isEnableRtl(),o=i._.createIconNoSpan(t?"smallLeft":"smallRight",this.beans.gridOptionsWrapper);this.addElementClasses(o,"cell-separator"),e.appendChild(o)}},t.STATE_NOT_DRAGGING="notDragging",t.STATE_NEW_COLUMNS_IN="newColumnsIn",t.STATE_REARRANGE_COLUMNS="rearrangeColumns",t}(i.Component),ge=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),fe=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},me=function(e){function t(t){return e.call(this,t,!1)||this}return ge(t,e),t.prototype.passBeansUp=function(){e.prototype.setBeans.call(this,{gridOptionsWrapper:this.gridOptionsWrapper,eventService:this.eventService,context:this.getContext(),loggerFactory:this.loggerFactory,dragAndDropService:this.dragAndDropService});var t=this.gridOptionsWrapper.getLocaleTextFunc(),o=t("rowGroupColumnsEmptyMessage","Drag here to set row groups"),n=t("groups","Row Groups");e.prototype.init.call(this,{dragAndDropIcon:i.DragAndDropService.ICON_GROUP,icon:i._.createIconNoSpan("rowGroupPanel",this.gridOptionsWrapper,null),emptyMessage:o,title:n}),this.addManagedListener(this.eventService,i.Events.EVENT_COLUMN_ROW_GROUP_CHANGED,this.refreshGui.bind(this))},t.prototype.isColumnDroppable=function(e){return!(this.gridOptionsWrapper.isFunctionsReadOnly()||!e.isPrimary())&&(e.isAllowRowGroup()&&!e.isRowGroupActive())},t.prototype.updateColumns=function(e){if(this.gridOptionsWrapper.isFunctionsPassive()){var t={type:i.Events.EVENT_COLUMN_ROW_GROUP_CHANGE_REQUEST,columns:e,api:this.gridApi,columnApi:this.columnApi};this.eventService.dispatchEvent(t)}else this.columnController.setRowGroupColumns(e,"toolPanelUi")},t.prototype.getIconName=function(){return this.isPotentialDndColumns()?i.DragAndDropService.ICON_GROUP:i.DragAndDropService.ICON_NOT_ALLOWED},t.prototype.getExistingColumns=function(){return this.columnController.getRowGroupColumns()},fe([i.Autowired("columnController")],t.prototype,"columnController",void 0),fe([i.Autowired("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),fe([i.Autowired("loggerFactory")],t.prototype,"loggerFactory",void 0),fe([i.Autowired("dragAndDropService")],t.prototype,"dragAndDropService",void 0),fe([i.Autowired("columnApi")],t.prototype,"columnApi",void 0),fe([i.Autowired("gridApi")],t.prototype,"gridApi",void 0),fe([i.PostConstruct],t.prototype,"passBeansUp",null),t}(pe),ve=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),ye=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Ce=function(e){function t(t){return e.call(this,t,!1)||this}return ve(t,e),t.prototype.passBeansUp=function(){e.prototype.setBeans.call(this,{gridOptionsWrapper:this.gridOptionsWrapper,eventService:this.eventService,context:this.getContext(),loggerFactory:this.loggerFactory,dragAndDropService:this.dragAndDropService});var t=this.gridOptionsWrapper.getLocaleTextFunc(),o=t("pivotColumnsEmptyMessage","Drag here to set column labels"),n=t("pivots","Column Labels");e.prototype.init.call(this,{dragAndDropIcon:i.DragAndDropService.ICON_GROUP,icon:i._.createIconNoSpan("pivotPanel",this.gridOptionsWrapper,null),emptyMessage:o,title:n}),this.addManagedListener(this.eventService,i.Events.EVENT_COLUMN_EVERYTHING_CHANGED,this.refresh.bind(this)),this.addManagedListener(this.eventService,i.Events.EVENT_COLUMN_PIVOT_CHANGED,this.refresh.bind(this)),this.addManagedListener(this.eventService,i.Events.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.checkVisibility.bind(this)),this.refresh()},t.prototype.refresh=function(){this.checkVisibility(),this.refreshGui()},t.prototype.checkVisibility=function(){var e=this.columnController.isPivotMode();if(this.isHorizontal())switch(this.gridOptionsWrapper.getPivotPanelShow()){case"always":this.setDisplayed(e);break;case"onlyWhenPivoting":var t=this.columnController.isPivotActive();this.setDisplayed(e&&t);break;default:this.setDisplayed(!1)}else this.setDisplayed(e)},t.prototype.isColumnDroppable=function(e){return!(this.gridOptionsWrapper.isFunctionsReadOnly()||!e.isPrimary())&&(e.isAllowPivot()&&!e.isPivotActive())},t.prototype.updateColumns=function(e){if(this.gridOptionsWrapper.isFunctionsPassive()){var t={type:i.Events.EVENT_COLUMN_PIVOT_CHANGE_REQUEST,columns:e,api:this.gridApi,columnApi:this.columnApi};this.eventService.dispatchEvent(t)}else this.columnController.setPivotColumns(e,"toolPanelUi")},t.prototype.getIconName=function(){return this.isPotentialDndColumns()?i.DragAndDropService.ICON_PIVOT:i.DragAndDropService.ICON_NOT_ALLOWED},t.prototype.getExistingColumns=function(){return this.columnController.getPivotColumns()},ye([i.Autowired("columnController")],t.prototype,"columnController",void 0),ye([i.Autowired("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),ye([i.Autowired("loggerFactory")],t.prototype,"loggerFactory",void 0),ye([i.Autowired("dragAndDropService")],t.prototype,"dragAndDropService",void 0),ye([i.Autowired("columnApi")],t.prototype,"columnApi",void 0),ye([i.Autowired("gridApi")],t.prototype,"gridApi",void 0),ye([i.PostConstruct],t.prototype,"passBeansUp",null),t}(pe),we=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),be=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Se=function(e){function t(){return e.call(this)||this}return we(t,e),t.prototype.postConstruct=function(){this.setGui(this.createNorthPanel()),this.addManagedListener(this.eventService,i.Events.EVENT_COLUMN_ROW_GROUP_CHANGED,this.onRowGroupChanged.bind(this)),this.addManagedListener(this.eventService,i.Events.EVENT_COLUMN_EVERYTHING_CHANGED,this.onRowGroupChanged.bind(this)),this.onRowGroupChanged()},t.prototype.createNorthPanel=function(){var e=this,t=document.createElement("div"),o=this.onDropPanelVisible.bind(this);return i._.addCssClass(t,"ag-column-drop-wrapper"),this.rowGroupComp=new me(!0),this.createManagedBean(this.rowGroupComp),this.pivotComp=new Ce(!0),this.createManagedBean(this.pivotComp),t.appendChild(this.rowGroupComp.getGui()),t.appendChild(this.pivotComp.getGui()),this.rowGroupComp.addEventListener(i.Component.EVENT_DISPLAYED_CHANGED,o),this.pivotComp.addEventListener(i.Component.EVENT_DISPLAYED_CHANGED,o),this.addDestroyFunc((function(){e.rowGroupComp.removeEventListener(i.Component.EVENT_DISPLAYED_CHANGED,o),e.pivotComp.removeEventListener(i.Component.EVENT_DISPLAYED_CHANGED,o)})),this.onDropPanelVisible(),t},t.prototype.onDropPanelVisible=function(){var e=this.rowGroupComp.isDisplayed()&&this.pivotComp.isDisplayed();this.rowGroupComp.addOrRemoveCssClass("ag-column-drop-horizontal-half-width",e),this.pivotComp.addOrRemoveCssClass("ag-column-drop-horizontal-half-width",e)},t.prototype.onRowGroupChanged=function(){if(this.rowGroupComp){var e=this.gridOptionsWrapper.getRowGroupPanelShow();if(e===i.Constants.ALWAYS)this.rowGroupComp.setDisplayed(!0);else if(e===i.Constants.ONLY_WHEN_GROUPING){var t=!this.columnController.isRowGroupEmpty();this.rowGroupComp.setDisplayed(t)}else this.rowGroupComp.setDisplayed(!1)}},be([i.Autowired("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),be([i.Autowired("columnController")],t.prototype,"columnController",void 0),be([i.PostConstruct],t.prototype,"postConstruct",null),t}(i.Component),Ee={moduleName:i.ModuleNames.RowGroupingModule,beans:[_,L,V,W,U],agStackComponents:[{componentName:"AgGridHeaderDropZones",componentClass:Se}],dependantModules:[g]},Re=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Pe=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Oe=function(e){function t(t){return e.call(this,t,!0)||this}return Re(t,e),t.prototype.passBeansUp=function(){e.prototype.setBeans.call(this,{gridOptionsWrapper:this.gridOptionsWrapper,eventService:this.eventService,context:this.getContext(),loggerFactory:this.loggerFactory,dragAndDropService:this.dragAndDropService});var t=this.gridOptionsWrapper.getLocaleTextFunc(),o=t("valueColumnsEmptyMessage","Drag here to aggregate"),n=t("values","Values");e.prototype.init.call(this,{dragAndDropIcon:i.DragAndDropService.ICON_AGGREGATE,icon:i._.createIconNoSpan("valuePanel",this.gridOptionsWrapper,null),emptyMessage:o,title:n}),this.addManagedListener(this.eventService,i.Events.EVENT_COLUMN_VALUE_CHANGED,this.refreshGui.bind(this))},t.prototype.getIconName=function(){return this.isPotentialDndColumns()?i.DragAndDropService.ICON_AGGREGATE:i.DragAndDropService.ICON_NOT_ALLOWED},t.prototype.isColumnDroppable=function(e){return!(this.gridOptionsWrapper.isFunctionsReadOnly()||!e.isPrimary())&&(e.isAllowValue()&&!e.isValueActive())},t.prototype.updateColumns=function(e){if(this.gridOptionsWrapper.isFunctionsPassive()){var t={type:i.Events.EVENT_COLUMN_VALUE_CHANGE_REQUEST,columns:e,api:this.gridApi,columnApi:this.columnApi};this.eventService.dispatchEvent(t)}else this.columnController.setValueColumns(e,"toolPanelUi")},t.prototype.getExistingColumns=function(){return this.columnController.getValueColumns()},Pe([i.Autowired("columnController")],t.prototype,"columnController",void 0),Pe([i.Autowired("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),Pe([i.Autowired("loggerFactory")],t.prototype,"loggerFactory",void 0),Pe([i.Autowired("dragAndDropService")],t.prototype,"dragAndDropService",void 0),Pe([i.Autowired("columnApi")],t.prototype,"columnApi",void 0),Pe([i.Autowired("gridApi")],t.prototype,"gridApi",void 0),Pe([i.PostConstruct],t.prototype,"passBeansUp",null),t}(pe),xe=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Te=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},De=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return xe(t,e),t.prototype.init=function(e,o){this.setTemplate(t.TEMPLATE),this.allowDragging=e,this.params=o,this.primaryColsHeaderPanel.init(this.params);var n=this.params.suppressColumnFilter,i=this.params.suppressColumnSelectAll;this.params.suppressColumnExpandAll&&n&&i&&this.primaryColsHeaderPanel.setDisplayed(!1),this.addManagedListener(this.primaryColsListPanel,"groupExpanded",this.onGroupExpanded.bind(this)),this.addManagedListener(this.primaryColsListPanel,"selectionChanged",this.onSelectionChange.bind(this)),this.primaryColsListPanel.init(this.params,this.allowDragging),this.addManagedListener(this.primaryColsHeaderPanel,"expandAll",this.onExpandAll.bind(this)),this.addManagedListener(this.primaryColsHeaderPanel,"collapseAll",this.onCollapseAll.bind(this)),this.addManagedListener(this.primaryColsHeaderPanel,"selectAll",this.onSelectAll.bind(this)),this.addManagedListener(this.primaryColsHeaderPanel,"unselectAll",this.onUnselectAll.bind(this)),this.addManagedListener(this.primaryColsHeaderPanel,"filterChanged",this.onFilterChanged.bind(this)),this.wireFocusManagement()},t.prototype.isFocusableContainer=function(){return!0},t.prototype.onTabKeyDown=function(e){var t=this.focusController.findNextFocusableElement(this.getFocusableElement(),!1,e.shiftKey);t&&(e.preventDefault(),t.focus())},t.prototype.onExpandAll=function(){this.primaryColsListPanel.doSetExpandedAll(!0)},t.prototype.onCollapseAll=function(){this.primaryColsListPanel.doSetExpandedAll(!1)},t.prototype.expandGroups=function(e){this.primaryColsListPanel.setGroupsExpanded(!0,e)},t.prototype.collapseGroups=function(e){this.primaryColsListPanel.setGroupsExpanded(!1,e)},t.prototype.setColumnLayout=function(e){this.primaryColsListPanel.setColumnLayout(e)},t.prototype.onFilterChanged=function(e){this.primaryColsListPanel.setFilterText(e.filterText)},t.prototype.syncLayoutWithGrid=function(){this.primaryColsListPanel.syncColumnLayout()},t.prototype.onSelectAll=function(){this.primaryColsListPanel.doSetSelectedAll(!0)},t.prototype.onUnselectAll=function(){this.primaryColsListPanel.doSetSelectedAll(!1)},t.prototype.onGroupExpanded=function(e){this.primaryColsHeaderPanel.setExpandState(e.state)},t.prototype.onSelectionChange=function(e){this.primaryColsHeaderPanel.setSelectionState(e.state)},t.TEMPLATE='<div class="ag-column-select">\n            <ag-primary-cols-header ref="primaryColsHeaderPanel"></ag-primary-cols-header>\n            <ag-primary-cols-list ref="primaryColsListPanel"></ag-primary-cols-list>\n        </div>',Te([i.RefSelector("primaryColsHeaderPanel")],t.prototype,"primaryColsHeaderPanel",void 0),Te([i.RefSelector("primaryColsListPanel")],t.prototype,"primaryColsListPanel",void 0),t}(i.ManagedFocusComponent),Ae=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Fe=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},_e=function(e){function t(){var o=e.call(this,t.TEMPLATE)||this;return o.initialised=!1,o.childDestroyFuncs=[],o}return Ae(t,e),t.prototype.setVisible=function(t){e.prototype.setDisplayed.call(this,t),t&&!this.initialised&&this.init(this.params)},t.prototype.init=function(e){var t={suppressSideButtons:!1,suppressColumnSelectAll:!1,suppressColumnFilter:!1,suppressColumnExpandAll:!1,contractColumnSelection:!1,suppressPivotMode:!1,suppressRowGroups:!1,suppressValues:!1,suppressPivots:!1,suppressSyncLayoutWithGrid:!1,api:this.gridApi,columnApi:this.columnApi};i._.mergeDeep(t,e),this.params=t,this.isRowGroupingModuleLoaded()&&!this.params.suppressPivotMode&&(this.pivotModePanel=this.createManagedBean(new D),this.appendChild(this.pivotModePanel)),this.primaryColsPanel=this.createManagedBean(new De),this.primaryColsPanel.init(!0,this.params),i._.addCssClass(this.primaryColsPanel.getGui(),"ag-column-panel-column-select"),this.appendChild(this.primaryColsPanel),this.isRowGroupingModuleLoaded()&&(this.params.suppressRowGroups||(this.rowGroupDropZonePanel=this.createManagedBean(new me(!1)),this.appendChild(this.rowGroupDropZonePanel)),this.params.suppressValues||(this.valuesDropZonePanel=this.createManagedBean(new Oe(!1)),this.appendChild(this.valuesDropZonePanel)),this.params.suppressPivots||(this.pivotDropZonePanel=this.createManagedBean(new Ce(!1)),this.appendChild(this.pivotDropZonePanel)),this.setLastVisible(),this.addManagedListener(this.eventService,i.Events.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.setLastVisible.bind(this))),this.initialised=!0},t.prototype.setPivotModeSectionVisible=function(e){var t=this;this.isRowGroupingModuleLoaded()&&(this.pivotModePanel?this.pivotModePanel.setDisplayed(e):e&&(this.pivotModePanel=this.createBean(new D),this.getGui().insertBefore(this.pivotModePanel.getGui(),this.getGui().firstChild),this.childDestroyFuncs.push((function(){return t.destroyBean(t.pivotModePanel)}))),this.setLastVisible())},t.prototype.setRowGroupsSectionVisible=function(e){this.isRowGroupingModuleLoaded()&&(this.rowGroupDropZonePanel?this.rowGroupDropZonePanel.setDisplayed(e):e&&(this.rowGroupDropZonePanel=this.createManagedBean(new me(!1)),this.appendChild(this.rowGroupDropZonePanel)),this.setLastVisible())},t.prototype.setValuesSectionVisible=function(e){this.isRowGroupingModuleLoaded()&&(this.valuesDropZonePanel?this.valuesDropZonePanel.setDisplayed(e):e&&(this.valuesDropZonePanel=this.createManagedBean(new Oe(!1)),this.appendChild(this.valuesDropZonePanel)),this.setLastVisible())},t.prototype.setPivotSectionVisible=function(e){this.isRowGroupingModuleLoaded()&&(this.pivotDropZonePanel?this.pivotDropZonePanel.setDisplayed(e):e&&(this.pivotDropZonePanel=this.createManagedBean(new Ce(!1)),this.appendChild(this.pivotDropZonePanel),this.pivotDropZonePanel.setDisplayed(e)),this.setLastVisible())},t.prototype.setLastVisible=function(){var e=this.getGui();Array.prototype.slice.call(e.querySelectorAll(".ag-column-drop")).forEach((function(e){return i._.removeCssClass(e,"ag-last-column-drop")}));var t=i._.last(e.querySelectorAll(".ag-column-drop:not(.ag-hidden)"));t&&i._.addCssClass(t,"ag-last-column-drop")},t.prototype.isRowGroupingModuleLoaded=function(){return i.ModuleRegistry.assertRegistered(i.ModuleNames.RowGroupingModule,"Row Grouping")},t.prototype.expandColumnGroups=function(e){this.primaryColsPanel.expandGroups(e)},t.prototype.collapseColumnGroups=function(e){this.primaryColsPanel.collapseGroups(e)},t.prototype.setColumnLayout=function(e){this.primaryColsPanel.setColumnLayout(e)},t.prototype.syncLayoutWithGrid=function(){this.primaryColsPanel.syncLayoutWithGrid()},t.prototype.destroyChildren=function(){this.childDestroyFuncs.forEach((function(e){return e()})),this.childDestroyFuncs.length=0,i._.clearElement(this.getGui())},t.prototype.refresh=function(){this.destroyChildren(),this.init(this.params)},t.prototype.destroy=function(){this.destroyChildren(),e.prototype.destroy.call(this)},t.TEMPLATE='<div class="ag-column-panel"></div>',Fe([i.Autowired("gridApi")],t.prototype,"gridApi",void 0),Fe([i.Autowired("columnApi")],t.prototype,"columnApi",void 0),t}(i.Component),Me=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Ie=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Le=function(e){function t(){return e.call(this,'<div class="ag-tool-panel-horizontal-resize"></div>')||this}return Me(t,e),t.prototype.setElementToResize=function(e){this.elementToResize=e},t.prototype.postConstruct=function(){var e=this.horizontalResizeService.addResizeBar({eResizeBar:this.getGui(),dragStartPixels:1,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this),onResizeEnd:this.onResizing.bind(this)});this.addDestroyFunc(e),this.setInverted(this.gridOptionsWrapper.isEnableRtl())},t.prototype.onResizeStart=function(){this.startingWidth=this.elementToResize.offsetWidth},t.prototype.onResizing=function(e){var t=this.inverted?-1:1,o=Math.max(100,Math.floor(this.startingWidth-e*t));this.elementToResize.style.width=o+"px"},t.prototype.setInverted=function(e){this.inverted=e},Ie([i.Autowired("horizontalResizeService")],t.prototype,"horizontalResizeService",void 0),Ie([i.Autowired("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),Ie([i.PostConstruct],t.prototype,"postConstruct",null),t}(i.Component),Ne=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),ke=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Ge=function(e){function t(){var o=e.call(this,t.TEMPLATE)||this;return o.buttonComps=[],o}return Ne(t,e),t.prototype.postConstruct=function(){this.addManagedListener(this.getFocusableElement(),"keydown",this.handleKeyDown.bind(this))},t.prototype.handleKeyDown=function(e){if(e.keyCode===i.Constants.KEY_TAB&&e.shiftKey&&!this.focusController.findNextFocusableElement(this.getFocusableElement(),null,!0)){var t=this.headerPositionUtils.findColAtEdgeForHeaderRow(0,"start");if(!t)return;e.preventDefault(),this.focusController.focusHeaderPosition(t)}},t.prototype.setToolPanelDefs=function(e){e.forEach(this.addButtonComp.bind(this))},t.prototype.setActiveButton=function(e){this.buttonComps.forEach((function(t){t.setSelected(e===t.getToolPanelId())}))},t.prototype.addButtonComp=function(e){var o=this,n=this.createBean(new Ve(e));this.buttonComps.push(n),this.appendChild(n),n.addEventListener(Ve.EVENT_TOGGLE_BUTTON_CLICKED,(function(){o.dispatchEvent({type:t.EVENT_SIDE_BAR_BUTTON_CLICKED,toolPanelId:e.id})}))},t.prototype.clearButtons=function(){this.buttonComps=this.destroyBeans(this.buttonComps),i._.clearElement(this.getGui())},t.EVENT_SIDE_BAR_BUTTON_CLICKED="sideBarButtonClicked",t.TEMPLATE='<div class="ag-side-buttons"></div>',ke([i.Autowired("focusController")],t.prototype,"focusController",void 0),ke([i.Autowired("headerPositionUtils")],t.prototype,"headerPositionUtils",void 0),ke([i.PostConstruct],t.prototype,"postConstruct",null),ke([i.PreDestroy],t.prototype,"clearButtons",null),t}(i.Component),Ve=function(e){function t(t){var o=e.call(this)||this;return o.toolPanelDef=t,o}return Ne(t,e),t.prototype.getToolPanelId=function(){return this.toolPanelDef.id},t.prototype.postConstruct=function(){var e=this.createTemplate();this.setTemplate(e),this.eIconWrapper.insertAdjacentElement("afterbegin",i._.createIconNoSpan(this.toolPanelDef.iconKey,this.gridOptionsWrapper)),this.addManagedListener(this.eToggleButton,"click",this.onButtonPressed.bind(this))},t.prototype.createTemplate=function(){var e=this.gridOptionsWrapper.getLocaleTextFunc(),t=this.toolPanelDef;return'<div class="ag-side-button">\n                <button type="button" ref="eToggleButton" class="ag-side-button-button">\n                    <div ref="eIconWrapper" class="ag-side-button-icon-wrapper"></div>\n                    <span class="ag-side-button-label">'+e(t.labelKey,t.labelDefault)+"</span>\n                </button>\n            </div>"},t.prototype.onButtonPressed=function(){this.dispatchEvent({type:t.EVENT_TOGGLE_BUTTON_CLICKED})},t.prototype.setSelected=function(e){this.addOrRemoveCssClass("ag-selected",e)},t.EVENT_TOGGLE_BUTTON_CLICKED="toggleButtonClicked",ke([i.Autowired("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),ke([i.RefSelector("eToggleButton")],t.prototype,"eToggleButton",void 0),ke([i.RefSelector("eIconWrapper")],t.prototype,"eIconWrapper",void 0),ke([i.PostConstruct],t.prototype,"postConstruct",null),t}(i.Component),He=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Be=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},We=function(e){function t(){return e.call(this,t.TEMPLATE)||this}return He(t,e),t.prototype.getToolPanelId=function(){return this.toolPanelId},t.prototype.setToolPanelDef=function(e){this.toolPanelId=e.id;var t={api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi()},o=this.userComponentFactory.newToolPanelComponent(e,t);null!=o?o.then(this.setToolPanelComponent.bind(this)):console.warn("ag-grid: error processing tool panel component "+e.id+". You need to specify either 'toolPanel' or 'toolPanelFramework'")},t.prototype.setupResize=function(){var e=this.resizeBar=new Le;this.getContext().createBean(e),e.setElementToResize(this.getGui()),this.appendChild(e)},t.prototype.setToolPanelComponent=function(e){var t=this;this.toolPanelCompInstance=e,this.appendChild(e.getGui()),this.addDestroyFunc((function(){t.destroyBean(e)}))},t.prototype.getToolPanelInstance=function(){return this.toolPanelCompInstance},t.prototype.setResizerSizerSide=function(e){var t="left"===e,o=this.gridOptionsWrapper.isEnableRtl()?t:!t;this.resizeBar.setInverted(o)},t.prototype.refresh=function(){this.toolPanelCompInstance.refresh()},t.TEMPLATE='<div class="ag-tool-panel-wrapper"/>',Be([i.Autowired("userComponentFactory")],t.prototype,"userComponentFactory",void 0),Be([i.Autowired("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),Be([i.PostConstruct],t.prototype,"setupResize",null),t}(i.Component),je=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),ze=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Ue=function(e){function t(){var o=e.call(this,t.TEMPLATE)||this;return o.toolPanelWrappers=[],o}return je(t,e),t.prototype.postConstruct=function(){this.sideBarButtonsComp.addEventListener(Ge.EVENT_SIDE_BAR_BUTTON_CLICKED,this.onToolPanelButtonClicked.bind(this)),this.setSideBarDef()},t.prototype.onToolPanelButtonClicked=function(e){var t=e.toolPanelId;this.openedItem()===t?this.openToolPanel(void 0):this.openToolPanel(t)},t.prototype.clearDownUi=function(){this.sideBarButtonsComp.clearButtons(),this.destroyToolPanelWrappers()},t.prototype.setSideBarDef=function(){this.setDisplayed(!1);var e=this.gridOptionsWrapper.getSideBar(),t=!!e&&!!e.toolPanels;if(t){var o=t&&!e.hiddenByDefault;this.setDisplayed(o);var n=e.toolPanels;this.sideBarButtonsComp.setToolPanelDefs(n),this.setupToolPanels(n),this.setSideBarPosition(e.position),e.hiddenByDefault||this.openToolPanel(e.defaultToolPanel)}},t.prototype.setSideBarPosition=function(e){e||(e="right");var t="left"===e,o=t?"right":"left",n=this.getGui();return i._.addOrRemoveCssClass(n,"ag-side-bar-left",t),i._.addOrRemoveCssClass(n,"ag-side-bar-right",!t),this.toolPanelWrappers.forEach((function(e){e.setResizerSizerSide(o)})),this},t.prototype.setupToolPanels=function(e){var t=this;e.forEach((function(e){if(null!=e.id){if("agColumnsToolPanel"===e.toolPanel)if(!i.ModuleRegistry.assertRegistered(i.ModuleNames.ColumnToolPanelModule,"Column Tool Panel"))return;if("agFiltersToolPanel"===e.toolPanel)if(!i.ModuleRegistry.assertRegistered(i.ModuleNames.FiltersToolPanelModule,"Filters Tool Panel"))return;var o=new We;t.getContext().createBean(o),o.setToolPanelDef(e),o.setDisplayed(!1),t.getGui().appendChild(o.getGui()),t.toolPanelWrappers.push(o)}else console.warn("ag-grid: please review all your toolPanel components, it seems like at least one of them doesn't have an id")}))},t.prototype.refresh=function(){this.toolPanelWrappers.forEach((function(e){return e.refresh()}))},t.prototype.openToolPanel=function(e){var t=this.openedItem();t!==e&&(this.toolPanelWrappers.forEach((function(t){var o=e===t.getToolPanelId();t.setDisplayed(o)})),t!==this.openedItem()&&(this.sideBarButtonsComp.setActiveButton(e),this.raiseToolPanelVisibleEvent(e)))},t.prototype.getToolPanelInstance=function(e){var t=this.toolPanelWrappers.filter((function(t){return t.getToolPanelId()===e}))[0];if(t)return t.getToolPanelInstance();console.warn("ag-grid: unable to lookup Tool Panel as invalid key supplied: "+e)},t.prototype.raiseToolPanelVisibleEvent=function(e){var t={type:i.Events.EVENT_TOOL_PANEL_VISIBLE_CHANGED,source:e,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi()};this.eventService.dispatchEvent(t)},t.prototype.close=function(){this.openToolPanel(void 0)},t.prototype.isToolPanelShowing=function(){return!!this.openedItem()},t.prototype.openedItem=function(){var e=null;return this.toolPanelWrappers.forEach((function(t){t.isDisplayed()&&(e=t.getToolPanelId())})),e},t.prototype.reset=function(){this.clearDownUi(),this.setSideBarDef()},t.prototype.destroyToolPanelWrappers=function(){var e=this;this.toolPanelWrappers.forEach((function(t){i._.removeFromParent(t.getGui()),e.destroyBean(t)})),this.toolPanelWrappers.length=0},t.prototype.destroy=function(){this.destroyToolPanelWrappers(),e.prototype.destroy.call(this)},t.TEMPLATE='<div class="ag-side-bar ag-unselectable">\n            <ag-side-bar-buttons ref="sideBarButtons"></ag-side-bar-buttons>\n        </div>',ze([i.Autowired("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),ze([i.RefSelector("sideBarButtons")],t.prototype,"sideBarButtonsComp",void 0),ze([i.PostConstruct],t.prototype,"postConstruct",null),t}(i.Component),$e=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Ke=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Ye=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isColGroupDef=function(e){return e&&"undefined"!==typeof e.children},t.getId=function(e){return t.isColGroupDef(e)?e.groupId:e.colId},t}return $e(t,e),t.prototype.createColumnTree=function(e){var t=this,o=[],n=function(e,r){if(t.isColGroupDef(e)){var s=e,a="undefined"!==typeof s.groupId?s.groupId:s.headerName,l=new i.OriginalColumnGroup(s,a,!1,r),c=[];return s.children.forEach((function(e){var t=n(e,r+1);t&&c.push(t)})),l.setChildren(c),l}var u=e,d=u.colId?u.colId:u.field,h=t.columnController.getPrimaryColumn(d);return h||o.push(u),h},r=[];return e.forEach((function(e){var t=n(e,0);t&&r.push(t)})),o.length>0&&console.warn("ag-Grid: unable to find grid columns for the supplied colDef(s):",o),r},t.prototype.syncLayoutWithGrid=function(e){var t=this.getLeafPathTrees();e(this.mergeLeafPathTrees(t))},t.prototype.getLeafPathTrees=function(){var e=function(t,o){var n;if(t instanceof i.OriginalColumnGroup)if(t.isPadding())n=o;else{var r=i._.assign({},t.getColGroupDef());r.groupId=t.getGroupId(),r.children=[o],n=r}else{var s=i._.assign({},t.getColDef());s.colId=t.getColId(),n=s}var a=t.getOriginalParent();return a?e(a,n):n},t=this.columnController.getAllGridColumns().filter((function(e){var t=e.getColDef();return e.isPrimary()&&!t.showRowGroup}));return t.map((function(t){return e(t,t.getColDef())}))},t.prototype.mergeLeafPathTrees=function(e){for(var t,o,n=this,i=function(e,t){if(!n.isColGroupDef(t))return e;var o=e,r=t;if(r.children&&r.groupId&&n.addChildrenToGroup(o,r.groupId,r.children[0]))return o;return r.children.forEach((function(e){return i(o,e)})),o},r=[],s=1;s<=e.length;s++){var a=e[s-1],l=e[s];t=a,o=l,n.isColGroupDef(t)&&n.isColGroupDef(o)&&n.getId(t)===n.getId(o)?e[s]=i(a,l):r.push(a)}return r},t.prototype.addChildrenToGroup=function(e,t,o){var n=this;if(!this.isColGroupDef(e))return!0;var r=e,s=o;if(function(e,t){var o=e.children.map(n.getId),r=i._.includes(o,n.getId(t)),s=i._.last(e.children),a=s&&n.getId(s)!==n.getId(t);return r&&a}(r,s))return r.children.push(s),!0;if(r.groupId===t){var a=r.children.map(this.getId);if(!i._.includes(a,this.getId(s)))return r.children.push(s),!0}return r.children.forEach((function(e){return n.addChildrenToGroup(e,t,o)})),!1},Ke([i.Autowired("columnController")],t.prototype,"columnController",void 0),t=Ke([i.Bean("toolPanelColDefService")],t)}(i.BeanStub),qe={moduleName:i.ModuleNames.SideBarModule,beans:[Ye],agStackComponents:[{componentName:"AgHorizontalResize",componentClass:Le},{componentName:"AgSideBar",componentClass:Ue},{componentName:"AgSideBarButtons",componentClass:Ge}],dependantModules:[g]},Xe={moduleName:i.ModuleNames.ColumnToolPanelModule,beans:[],agStackComponents:[{componentName:"AgPrimaryColsHeader",componentClass:v},{componentName:"AgPrimaryColsList",componentClass:O},{componentName:"AgPrimaryCols",componentClass:De}],userComponents:[{componentName:"agColumnsToolPanel",componentClass:_e}],dependantModules:[g,Ee,qe]},Qe=function(){var e=(new Date).toJSON();return{name:"cp:coreProperties",properties:{prefixedAttributes:[{prefix:"xmlns:",map:{cp:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",xsi:"http://www.w3.org/2001/XMLSchema-instance"}}]},children:[{name:"dc:creator",textNode:"ag-Grid"},{name:"dc:title",textNode:"Workbook"},{name:"dcterms:created",properties:{rawMap:{"xsi:type":"dcterms:W3CDTF"}},textNode:e},{name:"dcterms:modified",properties:{rawMap:{"xsi:type":"dcterms:W3CDTF"}},textNode:e}]}},Ze=function(e){var t=e.name,o=e.ContentType;return{name:t,properties:{rawMap:{Extension:e.Extension,PartName:e.PartName,ContentType:o}}}},Je=function(){return{name:"Types",properties:{rawMap:{xmlns:"http://schemas.openxmlformats.org/package/2006/content-types"}},children:[{name:"Default",Extension:"rels",ContentType:"application/vnd.openxmlformats-package.relationships+xml"},{name:"Default",ContentType:"application/xml",Extension:"xml"},{name:"Override",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",PartName:"/xl/workbook.xml"},{name:"Override",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",PartName:"/xl/worksheets/sheet1.xml"},{name:"Override",ContentType:"application/vnd.openxmlformats-officedocument.theme+xml",PartName:"/xl/theme/theme1.xml"},{name:"Override",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",PartName:"/xl/styles.xml"},{name:"Override",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",PartName:"/xl/sharedStrings.xml"},{name:"Override",ContentType:"application/vnd.openxmlformats-package.core-properties+xml",PartName:"/docProps/core.xml"}].map(Ze)}},et=function(e){return{name:"a:"+e[0],children:[{name:"a:"+e[1],properties:{rawMap:{val:e[2],lastClr:e[3]}}}]}},tt=function(){return{name:"a:clrScheme",properties:{rawMap:{name:"Office"}},children:[et(["dk1","sysClr","windowText","000000"]),et(["lt1","sysClr","window","FFFFFF"]),et(["dk2","srgbClr","44546A"]),et(["lt2","srgbClr","E7E6E6"]),et(["accent1","srgbClr","4472C4"]),et(["accent2","srgbClr","ED7D31"]),et(["accent3","srgbClr","A5A5A5"]),et(["accent4","srgbClr","FFC000"]),et(["accent5","srgbClr","5B9BD5"]),et(["accent6","srgbClr","70AD47"]),et(["hlink","srgbClr","0563C1"]),et(["folHlink","srgbClr","954F72"])]}},ot=function(e){var t=e[0],o=e[1];return{name:"a:"+t,properties:{rawMap:{script:e[2],typeface:o,panose:e[3]}}}},nt=function(){var e=i._.utf8_encode;return{name:"a:fontScheme",properties:{rawMap:{name:"Office"}},children:[{name:"a:majorFont",children:[ot(["latin","Calibri Light",void 0,"020F0302020204030204"]),ot(["ea",""]),ot(["cs",""]),ot(["font",e("\u6e38\u30b4\u30b7\u30c3\u30af Light"),"Jpan"]),ot(["font",e("\ub9d1\uc740 \uace0\ub515"),"Hang"]),ot(["font",e("\u7b49\u7ebf Light"),"Hans"]),ot(["font",e("\u65b0\u7d30\u660e\u9ad4"),"Hant"]),ot(["font","Times New Roman","Arab"]),ot(["font","Times New Roman","Hebr"]),ot(["font","Tahoma","Thai"]),ot(["font","Nyala","Ethi"]),ot(["font","Vrinda","Beng"]),ot(["font","Shruti","Gujr"]),ot(["font","MoolBoran","Khmr"]),ot(["font","Tunga","Knda"]),ot(["font","Raavi","Guru"]),ot(["font","Euphemia","Cans"]),ot(["font","Plantagenet Cherokee","Cher"]),ot(["font","Microsoft Yi Baiti","Yiii"]),ot(["font","Microsoft Himalaya","Tibt"]),ot(["font","MV Boli","Thaa"]),ot(["font","Mangal","Deva"]),ot(["font","Gautami","Telu"]),ot(["font","Latha","Taml"]),ot(["font","Estrangelo Edessa","Syrc"]),ot(["font","Kalinga","Orya"]),ot(["font","Kartika","Mlym"]),ot(["font","DokChampa","Laoo"]),ot(["font","Iskoola Pota","Sinh"]),ot(["font","Mongolian Baiti","Mong"]),ot(["font","Times New Roman","Viet"]),ot(["font","Microsoft Uighur","Uigh"]),ot(["font","Sylfaen","Geor"]),ot(["font","Arial","Armn"]),ot(["font","Leelawadee UI","Bugi"]),ot(["font","Microsoft JhengHei","Bopo"]),ot(["font","Javanese Text","Java"]),ot(["font","Segoe UI","Lisu"]),ot(["font","Myanmar Text","Mymr"]),ot(["font","Ebrima","Nkoo"]),ot(["font","Nirmala UI","Olck"]),ot(["font","Ebrima","Osma"]),ot(["font","Phagspa","Phag"]),ot(["font","Estrangelo Edessa","Syrn"]),ot(["font","Estrangelo Edessa","Syrj"]),ot(["font","Estrangelo Edessa","Syre"]),ot(["font","Nirmala UI","Sora"]),ot(["font","Microsoft Tai Le","Tale"]),ot(["font","Microsoft New Tai Lue","Talu"]),ot(["font","Ebrima","Tfng"])]},{name:"a:minorFont",children:[ot(["latin","Calibri",void 0,"020F0502020204030204"]),ot(["ea",""]),ot(["cs",""]),ot(["font",e("\u6e38\u30b4\u30b7\u30c3\u30af"),"Jpan"]),ot(["font",e("\ub9d1\uc740 \uace0\ub515"),"Hang"]),ot(["font",e("\u7b49\u7ebf"),"Hans"]),ot(["font",e("\u65b0\u7d30\u660e\u9ad4"),"Hant"]),ot(["font","Arial","Arab"]),ot(["font","Arial","Hebr"]),ot(["font","Tahoma","Thai"]),ot(["font","Nyala","Ethi"]),ot(["font","Vrinda","Beng"]),ot(["font","Shruti","Gujr"]),ot(["font","DaunPenh","Khmr"]),ot(["font","Tunga","Knda"]),ot(["font","Raavi","Guru"]),ot(["font","Euphemia","Cans"]),ot(["font","Plantagenet Cherokee","Cher"]),ot(["font","Microsoft Yi Baiti","Yiii"]),ot(["font","Microsoft Himalaya","Tibt"]),ot(["font","MV Boli","Thaa"]),ot(["font","Mangal","Deva"]),ot(["font","Gautami","Telu"]),ot(["font","Latha","Taml"]),ot(["font","Estrangelo Edessa","Syrc"]),ot(["font","Kalinga","Orya"]),ot(["font","Kartika","Mlym"]),ot(["font","DokChampa","Laoo"]),ot(["font","Iskoola Pota","Sinh"]),ot(["font","Mongolian Baiti","Mong"]),ot(["font","Arial","Viet"]),ot(["font","Microsoft Uighur","Uigh"]),ot(["font","Sylfaen","Geor"]),ot(["font","Arial","Armn"]),ot(["font","Leelawadee UI","Bugi"]),ot(["font","Microsoft JhengHei","Bopo"]),ot(["font","Javanese Text","Java"]),ot(["font","Segoe UI","Lisu"]),ot(["font","Myanmar Text","Mymr"]),ot(["font","Ebrima","Nkoo"]),ot(["font","Nirmala UI","Olck"]),ot(["font","Ebrima","Osma"]),ot(["font","Phagspa","Phag"]),ot(["font","Estrangelo Edessa","Syrn"]),ot(["font","Estrangelo Edessa","Syrj"]),ot(["font","Estrangelo Edessa","Syre"]),ot(["font","Nirmala UI","Sora"]),ot(["font","Microsoft Tai Le","Tale"]),ot(["font","Microsoft New Tai Lue","Talu"]),ot(["font","Ebrima","Tfng"])]}]}},it=function(e,t,o){return{name:"a:"+e,properties:{rawMap:{val:t}},children:o}},rt=function(e){var t=e[0],o=e[1],n=e[2],i=e[3],r=e[4],s=e[5],a=[];return a.push(it("satMod",n)),i&&a.push(it("lumMod",i)),r&&a.push(it("tint",r)),s&&a.push(it("shade",s)),{name:"a:gs",properties:{rawMap:{pos:t}},children:[{name:"a:schemeClr",properties:{rawMap:{val:o}},children:a}]}},st=function(e,t){return{name:"a:solidFill",children:[it("schemeClr",e,t)]}},at=function(e){var t=e[0],o=e[1],n=e[2],i=e[3],r=e[4],s=r[0],a=r[1];return{name:"a:gradFill",properties:{rawMap:{rotWithShape:t}},children:[{name:"a:gsLst",children:[rt(o),rt(n),rt(i)]},{name:"a:lin",properties:{rawMap:{ang:s,scaled:a}}}]}},lt=function(e){return{name:"a:ln",properties:{rawMap:{w:e[0],cap:e[1],cmpd:e[2],algn:e[3]}},children:[st("phClr"),it("prstDash","solid"),{name:"a:miter",properties:{rawMap:{lim:"800000"}}}]}},ct=function(e){var t=[];if(e){var o=e[0],n=e[1],r=e[2],s=e[3],a=e[4];t.push({name:"a:outerShdw",properties:{rawMap:{blurRad:o,dist:n,dir:r,algn:s,rotWithShape:a}},children:[it("srgbClr","000000",[it("alpha","63000")])]})}return{name:"a:effectStyle",children:[i._.assign({},{name:"a:effectLst"},t.length?{children:t}:{})]}},ut=function(){return{name:"a:fmtScheme",properties:{rawMap:{name:"Office"}},children:[{name:"a:fillStyleLst",children:[st("phClr"),at(["1",["0","phClr","105000","110000","67000"],["50000","phClr","103000","105000","73000"],["100000","phClr","109000","105000","81000"],["5400000","0"]]),at(["1",["0","phClr","103000","102000","94000"],["50000","phClr","110000","100000",void 0,"100000"],["100000","phClr","120000","99000",void 0,"78000"],["5400000","0"]])]},{name:"a:lnStyleLst",children:[lt(["6350","flat","sng","ctr"]),lt(["12700","flat","sng","ctr"]),lt(["19050","flat","sng","ctr"])]},{name:"a:effectStyleLst",children:[ct(),ct(),ct(["57150","19050","5400000","ctr","0"])]},{name:"a:bgFillStyleLst",children:[st("phClr"),st("phClr",[it("tint","95000"),it("satMod","170000")]),at(["1",["0","phClr","150000","102000","93000","98000"],["50000","phClr","130000","103000","98000","90000"],["100000","phClr","120000",void 0,void 0,"63000"],["5400000","0"]])]}]}},dt=function(){return{name:"a:themeElements",children:[tt(),nt(),ut()]}},ht=function(){return{name:"a:theme",properties:{prefixedAttributes:[{prefix:"xmlns:",map:{a:"http://schemas.openxmlformats.org/drawingml/2006/main"}}],rawMap:{name:"Office Theme"}},children:[dt(),{name:"a:objectDefaults"},{name:"a:extraClrSchemeLst"}]}},pt=function(e){return{name:"si",children:[{name:"t",textNode:i._.utf8_encode(i._.escape(e.toString()))}]}},gt=function(e){return{name:"sst",properties:{rawMap:{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main",count:e.length,uniqueCount:e.length}},children:e.map(pt)}},ft=function(e){return{name:"numFmt",properties:{rawMap:{formatCode:e.formatCode,numFmtId:e.numFmtId}}}},mt={0:1,"0.00":2,"#,##0":3,"#,##0.00":4,"0%":9,"0.00%":10,"0.00E+00":11,"# ?/?":12,"# ??/??":13,"mm-dd-yy":14,"d-mmm-yy":15,"d-mmm":16,"mmm-yy":17,"h:mm AM/PM":18,"h:mm:ss AM/PM":19,"h:mm":20,"h:mm:ss":21,"m/d/yy h:mm":22,"#,##0 ;(#,##0)":37,"#,##0 ;[Red](#,##0)":38,"#,##0.00;(#,##0.00)":39,"#,##0.00;[Red](#,##0.00)":40,"mm:ss":45,"[h]:mm:ss":46,"mmss.0":47,"##0.0E+0":48,"@":49},vt=function(e){return{name:"numFmts",properties:{rawMap:{count:e.length}},children:e.map(ft)}},yt=function(e){var t=e.size,o=void 0===t?14:t,n=e.colorTheme,i=e.color,r=void 0===i?"00000000":i,s=e.name,a=void 0===s?"Calibri":s,l=e.family,c=e.scheme,u=e.italic,d=e.bold,h=e.strike,p=e.outline,g=e.shadow,f=e.underline,m=[{name:"sz",properties:{rawMap:{val:o}}},{name:"color",properties:{rawMap:{theme:n,rgb:r}}},{name:"name",properties:{rawMap:{val:a}}}];if(l&&m.push({name:"family",properties:{rawMap:{val:l}}}),c&&m.push({name:"scheme",properties:{rawMap:{val:c}}}),u&&m.push({name:"i"}),d&&m.push({name:"b"}),h&&m.push({name:"strike"}),p&&m.push({name:"outline"}),g&&m.push({name:"shadow"}),f){var v=f.toLocaleLowerCase();m.push({name:"u",properties:{rawMap:{val:"double"===v?"double":"single"}}})}return{name:"font",children:m}},Ct=function(e){return{name:"fonts",properties:{rawMap:{count:e.length}},children:e.map(yt)}},wt=function(e){var t=e.patternType,o=e.fgTheme,n=e.fgTint,i=e.fgRgb,r=e.bgRgb,s=e.bgIndexed,a={name:"patternFill",properties:{rawMap:{patternType:t}}};return(o||n||i)&&(a.children=[{name:"fgColor",properties:{rawMap:{theme:o,tint:n,rgb:i}}}]),s&&(a.children||(a.children=[]),a.children.push({name:"bgColor",properties:{rawMap:{indexed:s,rgb:r}}})),{name:"fill",children:[a]}},bt=function(e){return{name:"fills",properties:{rawMap:{count:e.length}},children:e.map(wt)}},St=function(e){return{name:"color",properties:{rawMap:{rgb:Vt(e||"#000000")}}}},Et=function(e){var t=e.left,o=e.right,n=e.top,i=e.bottom,r=e.diagonal,s=t?[St(t.color)]:void 0,a=o?[St(o.color)]:void 0,l=n?[St(n.color)]:void 0,c=i?[St(i.color)]:void 0,u=r?[St(r.color)]:void 0;return{name:"border",children:[{name:"left",properties:{rawMap:{style:t&&t.style}},children:s},{name:"right",properties:{rawMap:{style:o&&o.style}},children:a},{name:"top",properties:{rawMap:{style:n&&n.style}},children:l},{name:"bottom",properties:{rawMap:{style:i&&i.style}},children:c},{name:"diagonal",properties:{rawMap:{style:r&&r.style}},children:u}]}},Rt={None:"None",Dot:"Dotted",Dash:"Dashed",Double:"Double",DashDot:"DashDot",DashDotDot:"DashDotDot",SlantDashDot:"SlantDashDot"},Pt=["Dashed","DashDot","DashDotDot"],Ot=function(e,t){var o,n=1===(o=t)?"thin":2===o?"medium":3===o?"thick":"hair",i=Rt[e];return e?"Continuous"===e?n:"medium"===n&&Pt.indexOf(i)>0?"medium"+i:i.charAt(0).toLowerCase()+i.substr(1):"thin"},xt=function(e){return{name:"borders",properties:{rawMap:{count:e.length}},children:e.map(Et)}},Tt=function(e){return{Automatic:"general",Left:"left",Center:"center",Right:"right",Fill:"fill",Justify:"justify",CenterAcrossSelection:"centerContinuous",Distributed:"distributed",JustifyDistributed:"justify"}[e]||"general"},Dt=function(e){return{Automatic:void 0,Top:"top",Bottom:"bottom",Center:"center",Justify:"justify",Distributed:"distributed",JustifyDistributed:"justify"}[e]||void 0},At=function(e){var t=["Context","LeftToRight","RightToLeft"].indexOf(e);return Math.max(t,0)},Ft=function(e){var t=e.horizontal,o=e.indent,n=e.readingOrder,i=e.rotate,r=e.shrinkToFit,s=e.vertical,a=e.wrapText;return{name:"alignment",properties:{rawMap:{horizontal:t&&Tt(t),indent:o,readingOrder:n&&At(n),textRotation:i,shrinkToFit:r,vertical:s&&Dt(s),wrapText:a}}}},_t=function(e){var t=!1===e.protected?0:1;return{name:"protection",properties:{rawMap:{hidden:!0===e.hideFormula?1:0,locked:t}}}},Mt=function(e){var t=e.alignment,o=e.borderId,n=e.fillId,i=e.fontId,r=e.numFmtId,s=e.protection,a=e.xfId,l=[];return t&&l.push(Ft(t)),s&&l.push(_t(s)),{name:"xf",properties:{rawMap:{applyAlignment:t?1:void 0,applyProtection:s?1:void 0,applyBorder:o?1:void 0,borderId:o,fillId:n,applyFont:i?1:void 0,fontId:i,applyNumberFormat:r?1:void 0,numFmtId:r,xfId:a}},children:l.length?l:void 0}},It=function(e){return{name:"cellStyleXfs",properties:{rawMap:{count:e.length}},children:e.map(Mt)}},Lt=function(e){return{name:"cellXfs",properties:{rawMap:{count:e.length}},children:e.map(Mt)}},Nt=function(e){return{name:"cellStyle",properties:{rawMap:{builtinId:e.builtinId,name:e.name,xfId:e.xfId}}}},kt=function(e){return{name:"cellStyles",properties:{rawMap:{count:e.length}},children:e.map(Nt)}},Gt=function(){J={base:0},ee=[],te=[{name:"Calibri",size:14,colorTheme:"1",family:2,scheme:"minor"}],oe=[{patternType:"none"},{patternType:"gray125"}],ne=[{left:void 0,right:void 0,top:void 0,bottom:void 0,diagonal:void 0}],ie=[{borderId:0,fillId:0,fontId:0,numFmtId:0}],re=[{borderId:0,fillId:0,fontId:0,numFmtId:0,xfId:0}],se=[{builtinId:0,name:"normal",xfId:0}]},Vt=function(e){return void 0==e?e:("#"===e.charAt(0)&&(e=e.substr(1)),6===e.length?"00"+e:e)},Ht=function(e){var t=e.fontName,o=e.color,n=e.size,r=e.bold,s=e.italic,a=e.outline,l=e.shadow,c=e.strikeThrough,u=e.underline,d=e.family,h=t?i._.utf8_encode(t):t,p=Vt(o),g=function(e){var t=["Automatic","Roman","Swiss","Modern","Script","Decorative"].indexOf(e||"Automatic");return Math.max(t,0)}(d),f=i._.findIndex(te,(function(e){return e.name==h&&e.color==p&&e.size==n&&e.bold==r&&e.italic==s&&e.outline==a&&e.shadow==l&&e.strike==c&&e.underline==u&&e.family==g}));return-1===f&&(f=te.length,te.push({name:h,color:p,size:n,bold:r,italic:s,outline:a,shadow:l,strike:c,underline:u,family:g})),f},Bt=function(e){var t=e.id,o=e.alignment,n=e.borders,r=e.font,s=e.interior,a=e.numberFormat,l=e.protection,c=0,u=0,d=0,h=0;t&&void 0==J[t]&&(s&&(c=function(e){var t,o=(t=e.pattern)?{None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinDiagStripe:"lightUp",ThinHorzCross:"lightGrid",ThinDiagCross:"lightTrellis",Gray125:"gray125",Gray0625:"gray0625"}[t]||t:"none",n=Vt(e.color),r=Vt(e.patternColor),s=i._.findIndex(oe,(function(e){var t=e.patternType,i=e.fgRgb,s=e.bgRgb;return t==o&&i==n&&s==r}));return-1===s&&(s=oe.length,oe.push({patternType:o,fgRgb:n,bgRgb:r})),s}(s)),n&&(u=function(e){var t,o,n,r,s,a,l,c,u=e.borderBottom,d=e.borderTop,h=e.borderLeft,p=e.borderRight;h&&(n=Ot(h.lineStyle,h.weight),l=Vt(h.color)),p&&(r=Ot(p.lineStyle,p.weight),c=Vt(p.color)),u&&(t=Ot(u.lineStyle,u.weight),s=Vt(u.color)),d&&(o=Ot(d.lineStyle,d.weight),a=Vt(d.color));var g=i._.findIndex(ne,(function(e){var i=e.left,u=e.right,d=e.top,h=e.bottom;if(!i&&(n||l))return!1;if(!u&&(r||c))return!1;if(!d&&(o||a))return!1;if(!h&&(t||s))return!1;var p=i||{},g=p.style,f=p.color,m=u||{},v=m.style,y=m.color,C=d||{},w=C.style,b=C.color,S=h||{},E=S.style,R=S.color;return g==n&&f==l&&v==r&&y==c&&w==o&&b==a&&E==t&&R==s}));return-1===g&&(g=ne.length,ne.push({left:{style:n,color:l},right:{style:r,color:c},top:{style:o,color:a},bottom:{style:t,color:s},diagonal:{style:void 0,color:void 0}})),g}(n)),r&&(d=Ht(r)),a&&(h=function(e){if(e=i._.utf8_encode(e),mt[e])return mt[e];var t=i._.findIndex(ee,(function(t){return t.formatCode===e}));return-1===t?(t=ee.length+164,ee.push({formatCode:e,numFmtId:t})):t=ee[t].numFmtId,t}(a.format)),J[t]=re.length,re.push({alignment:o,borderId:u||0,fillId:c||0,fontId:d||0,numFmtId:h||0,protection:l,xfId:0}))},Wt=function(){var e=vt(ee),t=Ct(te),o=bt(oe),n=xt(ne),i=It(ie),r=Lt(re),s=kt(se);return Gt(),{name:"styleSheet",properties:{rawMap:{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main"}},children:[e,t,o,n,i,r,s,{name:"tableStyles",properties:{rawMap:{count:0,defaultPivotStyle:"PivotStyleLight16",defaultTableStyle:"TableStyleMedium2"}}}]}},jt=function(e,t){var o=(t+1).toString();return{name:"sheet",properties:{rawMap:{name:e,sheetId:o,"r:id":"rId"+o}}}},zt=function(e){return{name:"sheets",children:e.map(jt)}},Ut=function(e){return{name:"workbook",properties:{prefixedAttributes:[{prefix:"xmlns:",map:{r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships"}}],rawMap:{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main"}},children:[zt(e)]}},$t=function(e){var t=e.min,o=e.max,n=e.s,i=e.width,r=e.hidden,s=e.bestFit,a=1,l="0";return i>1&&(a=function(e){return Math.ceil((e-12)/7+1)}(i),l="1"),{name:"col",properties:{rawMap:{min:t,max:o,width:a,style:n,hidden:r?"1":"0",bestFit:s?"1":"0",customWidth:l}}}},Kt=function(e){var t=e.ref,o=e.data,n=e.styleId,r=o.type,s=o.value,a=r;r.charAt(0)===r.charAt(0).toUpperCase()&&(a=function(e){var t=e.charAt(0).toLowerCase();return"s"===t?"inlineStr":t}(r));var l,c,u={name:"c",properties:{rawMap:{r:t,t:"empty"===a?void 0:a,s:n?(l=n,J[l]||0):void 0}}};return c="inlineStr"===a?[{name:"is",children:[{name:"t",textNode:i._.escape(i._.utf8_encode(s))}]}]:[{name:"v",textNode:s}],i._.assign({},u,{children:c})},Yt=function(){for(var e=0,t=0,o=arguments.length;t<o;t++)e+=arguments[t].length;var n=Array(e),i=0;for(t=0;t<o;t++)for(var r=arguments[t],s=0,a=r.length;s<a;s++,i++)n[i]=r[s];return n},qt=function(e,t){var o=e.index,n=e.collapsed,i=e.hidden,r=e.height,s=e.s,a=e.cells,l=void 0===a?[]:a;return function(e,t){for(var o=[],n=0,i=0;i<e.length;i++)(s=e[i]).mergeAcross&&(o.push({pos:i,excelPos:n}),n+=e[i].mergeAcross),n++;if(o.length)for(i=o.length-1;i>=0;i--){for(var r=[],s=e[o[i].pos],a=1;a<=s.mergeAcross;a++)r.push({ref:""+Zt(o[i].excelPos+1+a)+(t+1),styleId:s.styleId,data:{type:"empty",value:null}});r.length&&e.splice.apply(e,Yt([o[i].pos+1,0],r))}}(l,t),{name:"row",properties:{rawMap:{r:o,collapsed:n,hidden:i?"1":"0",ht:r,customHeight:null!=r?"1":"0",s:s,customFormat:null!=s?"1":"0"}},children:l.map(Kt)}},Xt=function(e){return{name:"mergeCell",properties:{rawMap:{ref:e}}}},Qt=function(e,t){var o=[];return e.forEach((function(e,n){var i,r=e.cells,s=0;e.index=n+1,r.forEach((function(e,r){var a=r+s+1,l=Zt(a),c=n+1;if(e.mergeAcross){s+=e.mergeAcross;var u=Zt(r+s+1);o.push(""+l+c+":"+u+c)}t[a-1]||(t[a-1]={}),function(e,t,o,n){if(!e.min)return e.min=t,void(e.max=t+o);var i=t;n&&(i=Math.max(i,n.min)),e.min=Math.max(e.min,i),e.max=Math.max(e.max,i+o)}(t[a-1],a,s,i),i=t[a-1],e.ref=""+l+c}))})),o},Zt=function(e){var t=String.fromCharCode,o=Math.floor(e/26),n=e%26;return o&&26!==e?n?o<26?t(65+o-1)+t(65+n-1):Zt(o)+t(65+n-1):Zt(o-1)+"Z":t(65+e-1)},Jt=function(e){var t=e.table,o=t.rows,n=t.columns,i=n&&n.length?Qt(o,n):[],r=[];return n.length&&r.push({name:"cols",children:n.map($t)}),o.length&&r.push({name:"sheetData",children:o.map(qt)}),i.length&&r.push({name:"mergeCells",properties:{rawMap:{count:i.length}},children:i.map(Xt)}),{name:"worksheet",properties:{prefixedAttributes:[{prefix:"xmlns:",map:{r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships"}}],rawMap:{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main"}},children:r}},eo=function(e){return{name:"Relationship",properties:{rawMap:{Id:e.Id,Type:e.Type,Target:e.Target}}}},to=function(e){return{name:"Relationships",properties:{rawMap:{xmlns:"http://schemas.openxmlformats.org/package/2006/relationships"}},children:e.map(eo)}},oo=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),no=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},io=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.sharedStrings=[],t}return oo(t,e),t.prototype.createSharedStrings=function(){return this.createXmlPart(gt(this.sharedStrings))},t.prototype.createXmlPart=function(e){return""+this.xmlFactory.createHeader({encoding:"UTF-8",standalone:"yes"})+this.xmlFactory.createXml(e)},t.prototype.createExcel=function(e,t,o){return void 0===o&&(o=[]),this.sharedStrings=o,this.sheetNames=t.map((function(e){return e.name})),function(e){Gt(),e.forEach(Bt)}(e),this.createWorksheet(t)},t.prototype.createCore=function(){return this.createXmlPart(Qe())},t.prototype.createContentTypes=function(){return this.createXmlPart(Je())},t.prototype.createRels=function(){var e=to([{Id:"rId1",Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",Target:"xl/workbook.xml"},{Id:"rId2",Type:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",Target:"docProps/core.xml"}]);return this.createXmlPart(e)},t.prototype.createStylesheet=function(){return this.createXmlPart(Wt())},t.prototype.createTheme=function(){return this.createXmlPart(ht())},t.prototype.createWorkbook=function(){return this.createXmlPart(Ut(this.sheetNames))},t.prototype.createWorkbookRels=function(){var e=to([{Id:"rId1",Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet",Target:"worksheets/sheet1.xml"},{Id:"rId2",Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",Target:"theme/theme1.xml"},{Id:"rId3",Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",Target:"styles.xml"},{Id:"rId4",Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",Target:"sharedStrings.xml"}]);return this.createXmlPart(e)},t.prototype.createWorksheet=function(e){return this.createXmlPart(Jt(e[0]))},no([i.Autowired("xmlFactory")],t.prototype,"xmlFactory",void 0),t=no([i.Bean("excelXlsxFactory")],t)}(i.BeanStub),ro=function(){return{name:"Workbook",properties:{prefixedAttributes:[{prefix:"xmlns:",map:{o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",html:"http://www.w3.org/TR/REC-html40"}}],rawMap:{xmlns:"urn:schemas-microsoft-com:office:spreadsheet"}}}},so=function(){return{name:"ExcelWorkbook",properties:{rawMap:{xmlns:"urn:schemas-microsoft-com:office:excel"}},children:[{name:"WindowHeight",textNode:"8130"},{name:"WindowWidth",textNode:"15135"},{name:"WindowHeight",textNode:"8130"},{name:"WindowTopX",textNode:"120"},{name:"WindowTopY",textNode:"45"},{name:"ProtectStructure",textNode:"False"},{name:"ProtectWindow",textNode:"False"}]}},ao=function(e){return{name:"Column",properties:{prefixedAttributes:[{prefix:"ss:",map:{Width:e.width}}]}}},lo=function(e){var t=e.mergeAcross,o=e.styleId,n=e.data,i={};return t&&(i.MergeAcross=t),o&&(i.StyleID=o),{name:"Cell",properties:{prefixedAttributes:[{prefix:"ss:",map:i}]},children:[{name:"Data",properties:{prefixedAttributes:[{prefix:"ss:",map:{Type:n.type}}]},textNode:n.value}]}},co=function(e){return{name:"Row",children:e.cells.map((function(e){return lo(e)}))}},uo=function(e){var t=e.table,o=e.name,n=t.columns,i=t.rows,r=n.map((function(e){return ao(e)})),s=i.map((function(e){return co(e)}));return{name:"Worksheet",children:[{name:"Table",children:r.concat(s)}],properties:{prefixedAttributes:[{prefix:"ss:",map:{Name:o}}]}}},ho=function(){return{name:"DocumentProperties",properties:{rawMap:{xmlns:"urn:schemas-microsoft-com:office:office"}},children:[{name:"Version",textNode:"12.00"}]}},po={getTemplate:function(e){var t=e.alignment;return{name:"Alignment",properties:{prefixedAttributes:[{prefix:"ss:",map:{Vertical:t.vertical,Horizontal:t.horizontal,Indent:t.indent,ReadingOrder:t.readingOrder,Rotate:t.rotate,ShrinkToFit:t.shrinkToFit,VerticalText:t.verticalText,WrapText:t.wrapText}}]}}}},go={getTemplate:function(e){var t=e.borders;return{name:"Borders",children:[t.borderBottom,t.borderLeft,t.borderRight,t.borderTop].map((function(e,t){return{name:"Border",properties:{prefixedAttributes:[{prefix:"ss:",map:{Position:0==t?"Bottom":1==t?"Left":2==t?"Right":"Top",LineStyle:e.lineStyle,Weight:e.weight,Color:e.color}}]}}}))}}},fo={getTemplate:function(e){var t=e.font;return{name:"Font",properties:{prefixedAttributes:[{prefix:"ss:",map:{Bold:t.bold,FontName:t.fontName,Italic:t.italic,Color:t.color,Outline:t.outline,Shadow:t.shadow,Size:t.size,StrikeThrough:t.strikeThrough,Underline:t.underline,VerticalAlign:t.verticalAlign}},{prefix:"x:",map:{CharSet:t.charSet,Family:t.family}}]}}}},mo={getTemplate:function(e){var t=e.interior;return{name:"Interior",properties:{prefixedAttributes:[{prefix:"ss:",map:{Color:t.color,Pattern:t.pattern,PatternColor:t.patternColor}}]}}}},vo={getTemplate:function(e){return{name:"Protection",properties:{prefixedAttributes:[{prefix:"ss:",map:{Protected:e.protection.protected,HideFormula:e.protection.hideFormula}}]}}}},yo={getTemplate:function(e){return{name:"NumberFormat",properties:{prefixedAttributes:[{prefix:"ss:",map:{Format:e.numberFormat.format}}]}}}},Co=function(e){var t=e.id,o=e.name;return{name:"Style",properties:{prefixedAttributes:[{prefix:"ss:",map:{ID:t,Name:o||t}}]}}},wo=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),bo=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},So=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return wo(t,e),t.prototype.createExcel=function(e,t,o){var n=this.excelXmlHeader(),i=ho(),r=so(),s=this.workbook(i,r,e,t);return""+n+this.xmlFactory.createXml(s,(function(e){return e?"1":"0"}))},t.prototype.workbook=function(e,t,o,n){var r=[e,t,this.stylesXmlElement(o)].concat(n.map((function(e){return uo(e)})));return i._.assign({},ro(),{children:r})},t.prototype.excelXmlHeader=function(){return'<?xml version="1.0" ?>\n        <?mso-application progid="Excel.Sheet" ?>\n        '},t.prototype.stylesXmlElement=function(e){var t=this;return{name:"Styles",children:e?e.map((function(e){return t.styleXmlElement(e)})):[]}},t.prototype.styleXmlElement=function(e){var t=i._.compose(this.addProperty("alignment",e),this.addProperty("borders",e),this.addProperty("font",e),this.addProperty("interior",e),this.addProperty("protection",e),this.addProperty("numberFormat",e))([]);return i._.assign({},Co(e),{children:t})},t.prototype.addProperty=function(e,t){return function(o){if(!t[e])return o;var n={alignment:po,borders:go,font:fo,interior:mo,numberFormat:yo,protection:vo};return o.concat(n[e].getTemplate(t))}},bo([i.Autowired("xmlFactory")],t.prototype,"xmlFactory",void 0),t=bo([i.Bean("excelXmlFactory")],t)}(i.BeanStub),Eo=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Ro=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Po=function(){function e(e){var t=e.columnController,o=e.valueService,n=e.gridOptionsWrapper,i=e.processCellCallback,r=e.processHeaderCallback,s=e.processGroupHeaderCallback,a=e.processRowGroupCallback;this.columnController=t,this.valueService=o,this.gridOptionsWrapper=n,this.processCellCallback=i,this.processHeaderCallback=r,this.processGroupHeaderCallback=s,this.processRowGroupCallback=a}return e.prototype.prepare=function(e){this.firstGroupColumn=i._.find(e,(function(e){return!!e.getColDef().showRowGroup}))},e.prototype.extractHeaderValue=function(e){var t=this.getHeaderName(this.processHeaderCallback,e);return null!=t?t:""},e.prototype.extractRowCellValue=function(e,t,o,n){var i;i=n&&n.group&&(e===this.firstGroupColumn||0===t&&this.gridOptionsWrapper.isGroupUseEntireRow(this.columnController.isPivotMode()))?this.createValueForGroupNode(n):this.valueService.getValue(e,n);var r=this.processCell(n,e,i,this.processCellCallback,o);return null!=r?r:""},e.prototype.getHeaderName=function(e,t){return e?e({column:t,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()}):this.columnController.getDisplayNameForColumn(t,"csv",!0)},e.prototype.createValueForGroupNode=function(e){if(this.processRowGroupCallback)return this.processRowGroupCallback({node:e,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()});for(var t=[e.key];e.parent;)e=e.parent,t.push(e.key);return t.reverse().join(" -> ")},e.prototype.processCell=function(e,t,o,n,i){return n?n({column:t,node:e,value:o,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext(),type:i}):o},e}(),Oo=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Eo(t,e),t.prototype.serialize=function(e,t){void 0===t&&(t={});var o=t.shouldRowBeSkipped||function(){return!1},n=this.gridOptionsWrapper.getApi(),r=this.gridOptionsWrapper.getColumnApi(),s=this.gridOptionsWrapper.isGroupRemoveSingleChildren(),a=this.gridOptionsWrapper.isGroupRemoveLowestSingleChildren(),l=this.gridOptionsWrapper.getContext(),c=this.columnController.isPivotMode(),u=this.rowModel.getType()===i.Constants.ROW_MODEL_TYPE_CLIENT_SIDE,d=!u&&t.onlySelected,h=[];if(h=i._.existsAndNotEmpty(t.columnKeys)?this.columnController.getGridColumns(t.columnKeys):t.allColumns&&!c?(h=this.gridOptionsWrapper.isTreeData()?this.columnController.getGridColumns([i.Constants.GROUP_AUTO_COLUMN_ID]):[]).concat(this.columnController.getAllPrimaryColumns()||[]):this.columnController.getAllDisplayedColumns(),t.customHeader&&e.addCustomContent(t.customHeader),e.prepare(h),t.columnGroups){var p=new i.GroupInstanceIdCreator,g=this.displayedGroupCreator.createDisplayedGroups(h,this.columnController.getGridBalancedTree(),p,null);this.recursivelyAddHeaderGroups(g,e,t.processGroupHeaderCallback)}if(!t.skipHeader){var f=e.onNewHeaderRow();h.forEach((function(e,t){f.onColumn(e,t,void 0)}))}(this.pinnedRowModel.forEachPinnedTopRow(m),c)?this.rowModel.forEachPivotNode?this.rowModel.forEachPivotNode(m):this.rowModel.forEachNode(m):t.onlySelectedAllPages||d?this.selectionController.getSelectedNodes().forEach((function(e){m(e)})):u?this.rowModel.forEachNodeAfterFilterAndSort(m):this.rowModel.forEachNode(m);function m(i){var c=a&&i.leafGroup,u=1===i.allChildrenCount&&(s||c);if((!i.group||!t.skipGroups&&!u)&&((!t.skipFooters||!i.footer)&&(!t.onlySelected||i.isSelected())&&(!t.skipPinnedTop||"top"!==i.rowPinned)&&(!t.skipPinnedBottom||"bottom"!==i.rowPinned)&&(!(-1===i.level)||i.leafGroup)&&!o({node:i,api:n,context:l}))){var d=e.onNewBodyRow();if(h.forEach((function(e,t){d.onColumn(e,t,i)})),t.getCustomContentBelowRow){var p=t.getCustomContentBelowRow({node:i,api:n,columnApi:r,context:l});p&&e.addCustomContent(p)}}}return this.pinnedRowModel.forEachPinnedBottomRow(m),t.customFooter&&e.addCustomContent(t.customFooter),e.parse()},t.prototype.recursivelyAddHeaderGroups=function(e,t,o){var n=[];e.forEach((function(e){var t=e;t.getChildren&&t.getChildren().forEach((function(e){return n.push(e)}))})),e.length>0&&e[0]instanceof i.ColumnGroup&&this.doAddHeaderHeader(t,e,o),n&&n.length>0&&this.recursivelyAddHeaderGroups(n,t,o)},t.prototype.doAddHeaderHeader=function(e,t,o){var n=this,i=e.onNewHeaderGroupingRow(),r=0;t.forEach((function(e){var t,s=e;t=o?o({columnGroup:s,api:n.gridOptionsWrapper.getApi(),columnApi:n.gridOptionsWrapper.getColumnApi(),context:n.gridOptionsWrapper.getContext()}):n.columnController.getDisplayNameForColumnGroup(s,"header"),i.onColumn(t||"",r++,s.getLeafColumns().length-1)}))},Ro([i.Autowired("displayedGroupCreator")],t.prototype,"displayedGroupCreator",void 0),Ro([i.Autowired("columnController")],t.prototype,"columnController",void 0),Ro([i.Autowired("rowModel")],t.prototype,"rowModel",void 0),Ro([i.Autowired("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),Ro([i.Autowired("selectionController")],t.prototype,"selectionController",void 0),Ro([i.Autowired("columnFactory")],t.prototype,"columnFactory",void 0),Ro([i.Autowired("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),t=Ro([i.Bean("gridSerializer")],t)}(i.BeanStub);!function(e){e[e.HEADER_GROUPING=0]="HEADER_GROUPING",e[e.HEADER=1]="HEADER",e[e.BODY=2]="BODY"}(ae||(ae={}));var xo,To=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Do=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Ao=function(e){function t(t){var o=e.call(this,t)||this;o.isFirstLine=!0,o.result="";var n=t.suppressQuotes,i=t.columnSeparator;return o.suppressQuotes=n,o.columnSeparator=i,o}return To(t,e),t.prototype.addCustomContent=function(e){var t=this;e&&("string"===typeof e?(/^\s*\n/.test(e)||this.beginNewLine(),e=e.replace(/\r?\n/g,"\r\n"),this.result+=e):e.forEach((function(e){t.beginNewLine(),e.forEach((function(e,o){0!==o&&(t.result+=t.columnSeparator),t.result+=t.putInQuotes(e.data.value||""),e.mergeAcross&&t.appendEmptyCells(e.mergeAcross)}))})))},t.prototype.onNewHeaderGroupingRow=function(){return this.beginNewLine(),{onColumn:this.onNewHeaderGroupingRowColumn.bind(this)}},t.prototype.onNewHeaderGroupingRowColumn=function(e,t,o){0!=t&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(e),this.appendEmptyCells(o)},t.prototype.appendEmptyCells=function(e){for(var t=1;t<=e;t++)this.result+=this.columnSeparator+this.putInQuotes("")},t.prototype.onNewHeaderRow=function(){return this.beginNewLine(),{onColumn:this.onNewHeaderRowColumn.bind(this)}},t.prototype.onNewHeaderRowColumn=function(e,t,o){0!=t&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractHeaderValue(e))},t.prototype.onNewBodyRow=function(){return this.beginNewLine(),{onColumn:this.onNewBodyRowColumn.bind(this)}},t.prototype.onNewBodyRowColumn=function(e,t,o){0!=t&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractRowCellValue(e,t,i.Constants.EXPORT_TYPE_CSV,o))},t.prototype.putInQuotes=function(e){return this.suppressQuotes?e:null===e||void 0===e?'""':("string"===typeof e?t=e:"function"===typeof e.toString?t=e.toString():(console.warn("unknown value type during csv conversion"),t=""),'"'+t.replace(/"/g,'""')+'"');var t},t.prototype.parse=function(){return this.result},t.prototype.beginNewLine=function(){this.isFirstLine||(this.result+="\r\n"),this.isFirstLine=!1},t}(Po),Fo=function(){function e(){}return e.prototype.setBeans=function(e){this.beans=e},e.prototype.export=function(e){if(this.isExportSuppressed())return console.warn("ag-grid: Export cancelled. Export is not allowed as per your configuration."),"";var t=this.getMergedParamsAndData(e),o=t.mergedParams,n=t.data,i=o&&o.fileName&&0!==o.fileName.length?o.fileName:this.getDefaultFileName();return-1===i.indexOf(".")&&(i=i+"."+this.getDefaultFileExtension()),this.beans.downloader.download(i,this.packageFile(n)),n},e.prototype.getData=function(e){return this.getMergedParamsAndData(e).data},e.prototype.getMergedParamsAndData=function(e){var t=this.mergeDefaultParams(e);return{mergedParams:t,data:this.beans.gridSerializer.serialize(this.createSerializingSession(t),t)}},e.prototype.mergeDefaultParams=function(e){var t=this.beans.gridOptionsWrapper.getDefaultExportParams(),o={};return i._.assign(o,t),i._.assign(o,e),o},e.prototype.packageFile=function(e){return new Blob(["\ufeff",e],{type:window.navigator.msSaveOrOpenBlob?this.getMimeType():"octet/stream"})},e}(),_o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return To(t,e),t.prototype.postConstruct=function(){this.setBeans({downloader:this.downloader,gridSerializer:this.gridSerializer,gridOptionsWrapper:this.gridOptionsWrapper})},t.prototype.exportDataAsCsv=function(e){return this.export(e)},t.prototype.getDataAsCsv=function(e){return this.getData(e)},t.prototype.getMimeType=function(){return"text/csv;charset=utf-8;"},t.prototype.getDefaultFileName=function(){return"export.csv"},t.prototype.getDefaultFileExtension=function(){return"csv"},t.prototype.createSerializingSession=function(e){var t=this,o=t.columnController,n=t.valueService,i=t.gridOptionsWrapper,r=e.processCellCallback,s=e.processHeaderCallback,a=e.processGroupHeaderCallback,l=e.processRowGroupCallback,c=e.suppressQuotes,u=e.columnSeparator;return new Ao({columnController:o,valueService:n,gridOptionsWrapper:i,processCellCallback:r||void 0,processHeaderCallback:s||void 0,processGroupHeaderCallback:a||void 0,processRowGroupCallback:l||void 0,suppressQuotes:c||!1,columnSeparator:u||","})},t.prototype.isExportSuppressed=function(){return this.gridOptionsWrapper.isSuppressCsvExport()},Do([i.Autowired("columnController")],t.prototype,"columnController",void 0),Do([i.Autowired("valueService")],t.prototype,"valueService",void 0),Do([i.Autowired("downloader")],t.prototype,"downloader",void 0),Do([i.Autowired("gridSerializer")],t.prototype,"gridSerializer",void 0),Do([i.Autowired("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),Do([i.PostConstruct],t.prototype,"postConstruct",null),t=Do([i.Bean("csvCreator")],t)}(Fo),Mo=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Io=function(){function e(){}return e.prototype.download=function(e,t){if(window.navigator.msSaveOrOpenBlob)window.navigator.msSaveOrOpenBlob(t,e);else{var o=document.createElement("a"),n=window.URL.createObjectURL(t);o.setAttribute("href",n),o.setAttribute("download",e),o.style.display="none",document.body.appendChild(o),o.dispatchEvent(new MouseEvent("click",{bubbles:!1,cancelable:!0,view:window})),document.body.removeChild(o),window.setTimeout((function(){window.URL.revokeObjectURL(n)}),0)}},e=Mo([i.Bean("downloader")],e)}(),Lo=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),No=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},ko="\r\n",Go=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Lo(t,e),t.prototype.createHeader=function(e){void 0===e&&(e={});var t=["version"];return e.version||(e.version="1.0"),e.encoding&&t.push("encoding"),e.standalone&&t.push("standalone"),"<?xml "+t.map((function(t){return t+'="'+e[t]+'"'})).join(" ")+" ?>"},t.prototype.createXml=function(e,t){var o=this,n="";e.properties&&(e.properties.prefixedAttributes&&e.properties.prefixedAttributes.forEach((function(e){Object.keys(e.map).forEach((function(i){n+=o.returnAttributeIfPopulated(e.prefix+i,e.map[i],t)}))})),e.properties.rawMap&&Object.keys(e.properties.rawMap).forEach((function(i){n+=o.returnAttributeIfPopulated(i,e.properties.rawMap[i],t)})));var i="<"+e.name+n;return e.children||null!=e.textNode?null!=e.textNode?i+">"+e.textNode+"</"+e.name+">"+ko:(i+=">\r\n",e.children&&e.children.forEach((function(e){i+=o.createXml(e,t)})),i+"</"+e.name+">"+ko):i+"/>"+ko},t.prototype.returnAttributeIfPopulated=function(e,t,o){if(!t&&""!==t&&0!==t)return"";var n=t;return"boolean"===typeof t&&o&&(n=o(t))," "+e+'="'+n+'"'},t=No([i.Bean("xmlFactory")],t)}(i.BeanStub),Vo=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Ho=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Bo=[0,1996959894,-301047508,-1727442502,124634137,1886057615,-379345611,-1637575261,249268274,2044508324,-522852066,-1747789432,162941995,2125561021,-407360249,-1866523247,498536548,1789927666,-205950648,-2067906082,450548861,1843258603,-187386543,-2083289657,325883990,1684777152,-43845254,-1973040660,335633487,1661365465,-99664541,-1928851979,997073096,1281953886,-715111964,-1570279054,1006888145,1258607687,-770865667,-1526024853,901097722,1119000684,-608450090,-1396901568,853044451,1172266101,-589951537,-1412350631,651767980,1373503546,-925412992,-1076862698,565507253,1454621731,-809855591,-1195530993,671266974,1594198024,-972236366,-1324619484,795835527,1483230225,-1050600021,-1234817731,1994146192,31158534,-1731059524,-271249366,1907459465,112637215,-1614814043,-390540237,2013776290,251722036,-1777751922,-519137256,2137656763,141376813,-1855689577,-429695999,1802195444,476864866,-2056965928,-228458418,1812370925,453092731,-2113342271,-183516073,1706088902,314042704,-1950435094,-54949764,1658658271,366619977,-1932296973,-69972891,1303535960,984961486,-1547960204,-725929758,1256170817,1037604311,-1529756563,-740887301,1131014506,879679996,-1385723834,-631195440,1141124467,855842277,-1442165665,-586318647,1342533948,654459306,-1106571248,-921952122,1466479909,544179635,-1184443383,-832445281,1591671054,702138776,-1328506846,-942167884,1504918807,783551873,-1212326853,-1061524307,-306674912,-1698712650,62317068,1957810842,-355121351,-1647151185,81470997,1943803523,-480048366,-1805370492,225274430,2053790376,-468791541,-1828061283,167816743,2097651377,-267414716,-2029476910,503444072,1762050814,-144550051,-2140837941,426522225,1852507879,-19653770,-1982649376,282753626,1742555852,-105259153,-1900089351,397917763,1622183637,-690576408,-1580100738,953729732,1340076626,-776247311,-1497606297,1068828381,1219638859,-670225446,-1358292148,906185462,1090812512,-547295293,-1469587627,829329135,1181335161,-882789492,-1134132454,628085408,1382605366,-871598187,-1156888829,570562233,1426400815,-977650754,-1296233688,733239954,1555261956,-1026031705,-1244606671,752459403,1541320221,-1687895376,-328994266,1969922972,40735498,-1677130071,-351390145,1913087877,83908371,-1782625662,-491226604,2075208622,213261112,-1831694693,-438977011,2094854071,198958881,-2032938284,-237706686,1759359992,534414190,-2118248755,-155638181,1873836001,414664567,-2012718362,-15766928,1711684554,285281116,-1889165569,-127750551,1634467795,376229701,-1609899400,-686959890,1308918612,956543938,-1486412191,-799009033,1231636301,1047427035,-1362007478,-640263460,1088359270,936918e3,-1447252397,-558129467,1202900863,817233897,-1111625188,-893730166,1404277552,615818150,-1160759803,-841546093,1423857449,601450431,-1285129682,-1000256840,1567103746,711928724,-1274298825,-1022587231,1510334235,755167117],Wo=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.folders=[],t.files=[],t.addFolder=function(e){t.folders.push({path:e,created:new Date})},t}return Vo(t,e),t.prototype.addFolders=function(e){e.forEach(this.addFolder)},t.prototype.addFile=function(e,t){this.files.push({path:e,created:new Date,content:t})},t.prototype.clearStream=function(){this.folders=[],this.files=[]},t.prototype.getContent=function(e){void 0===e&&(e="application/zip");var t=this.buildFileStream(),o=this.buildUint8Array(t);return this.clearStream(),new Blob([o],{type:e})},t.prototype.buildFileStream=function(e){void 0===e&&(e="");for(var t=this.folders.concat(this.files),o=t.length,n="",i=0,r=0,s=0,a=t;s<a.length;s++){var l=a[s],c=this.getHeader(l,i),u=c.fileHeader,d=c.folderHeader,h=c.content;i+=u.length+h.length,r+=d.length,e+=u+h,n+=d}return e+n+this.buildFolderEnd(o,r,i)},t.prototype.getHeader=function(e,t){var o=e.content,n=e.path,r=e.created,s=i._.utf8_encode,a=i._.decToHex,l=s(n),c=l!==n,u=this.convertTime(r),d=this.convertDate(r),h="";if(c){var p=a(1,1)+a(this.getFromCrc32Table(l),4)+l;h="up"+a(p.length,2)+p}var g="\n\0"+(c?"\0\b":"\0\0")+"\0\0"+a(u,2)+a(d,2)+a(o?this.getFromCrc32Table(o):0,4)+a(o?o.length:0,4)+a(o?o.length:0,4)+a(l.length,2)+a(h.length,2);return{fileHeader:"PK\x03\x04"+g+l+h,folderHeader:"PK\x01\x02\x14\0"+g+"\0\0\0\0\0\0"+(o?"\0\0\0\0":"\x10\0\0\0")+a(t,4)+l+h,content:o||""}},t.prototype.buildFolderEnd=function(e,t,o){var n=i._.decToHex;return"PK\x05\x06\0\0\0\0"+n(e,2)+n(e,2)+n(t,4)+n(o,4)+"\0\0"},t.prototype.buildUint8Array=function(e){for(var t=new Uint8Array(e.length),o=0;o<t.length;o++)t[o]=e.charCodeAt(o);return t},t.prototype.getFromCrc32Table=function(e,t){if(void 0===t&&(t=0),!e.length)return 0;t^=-1;for(var o=0,n=0;n<e.length;n++)o=e.charCodeAt(n),t=t>>>8^Bo[255&(t^o)];return~t},t.prototype.convertTime=function(e){var t=e.getHours();return t<<=6,t|=e.getMinutes(),t<<=5,t|=e.getSeconds()/2},t.prototype.convertDate=function(e){var t=e.getFullYear()-1980;return t<<=4,t|=e.getMonth()+1,t<<=5,t|=e.getDate()},t=Ho([i.Bean("zipContainer")],t)}(i.BeanStub),jo={moduleName:i.ModuleNames.CsvExportModule,beans:[_o,Io,Go,Oo,Wo]},zo=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Uo=function(){for(var e=0,t=0,o=arguments.length;t<o;t++)e+=arguments[t].length;var n=Array(e),i=0;for(t=0;t<o;t++)for(var r=arguments[t],s=0,a=r.length;s<a;s++,i++)n[i]=r[s];return n},$o=function(e){function t(t){var o=e.call(this,t)||this;return o.mixedStyles={},o.mixedStyleCounter=0,o.rows=[],o.config=i._.assign({},t),o.stylesByIds={},o.config.baseExcelStyles.forEach((function(e){o.stylesByIds[e.id]=e})),o.excelStyles=Uo(o.config.baseExcelStyles),o}return zo(t,e),t.prototype.addCustomContent=function(e){var t=this;e.forEach((function(e){return t.rows.push({cells:e})}))},t.prototype.prepare=function(t){var o=this;e.prototype.prepare.call(this,t),this.cols=t.map((function(e,t){return o.convertColumnToExcel(e,t)}))},t.prototype.onNewHeaderGroupingRow=function(){var e=this,t=[];return this.rows.push({cells:t,height:this.config.headerRowHeight}),{onColumn:function(o,n,i){var r=e.config.styleLinker(ae.HEADER_GROUPING,1,n,"grouping-"+o,void 0,void 0);t.push(e.createMergedCell(r&&r.length>0?r[0]:void 0,"String",o,i))}}},t.prototype.onNewHeaderRow=function(){return this.onNewRow(this.onNewHeaderColumn,this.config.headerRowHeight)},t.prototype.onNewBodyRow=function(){return this.onNewRow(this.onNewBodyColumn,this.config.rowHeight)},t.prototype.onNewRow=function(e,t){var o=[];return this.rows.push({cells:o,height:t}),{onColumn:e.bind(this,this.rows.length,o)()}},t.prototype.onNewHeaderColumn=function(e,t){var o=this;return function(n,i){var r=o.extractHeaderValue(n),s=o.config.styleLinker(ae.HEADER,e,i,r,n,void 0);t.push(o.createCell(s&&s.length>0?s[0]:void 0,"String",r))}},t.prototype.parse=function(){for(var e=this.rows.reduce((function(e,t){return Math.max(e,t.cells.length)}),0);this.cols.length<e;)this.cols.push(this.convertColumnToExcel(null,this.cols.length+1));var t=[{name:this.config.sheetName,table:{columns:this.cols,rows:this.rows}}];return this.createExcel(t)},t.prototype.createExcel=function(e){return this.config.excelFactory.createExcel(this.excelStyles,e,[])},t.prototype.onNewBodyColumn=function(e,t){var o=this;return function(n,r,s){var a,l=o.extractRowCellValue(n,r,i.Constants.EXPORT_TYPE_EXCEL,s),c=o.config.styleLinker(ae.BODY,e,r,l,n,s);if(c&&1==c.length)a=c[0];else if(c&&c.length>1){var u=c.join("-");o.mixedStyles[u]||o.addNewMixedStyle(c),a=o.mixedStyles[u].excelID}t.push(o.createCell(a,o.getDataTypeForValue(l),l))}},t.prototype.getDataTypeForValue=function(e){return i._.isNumeric(e)?"Number":"String"},t.prototype.addNewMixedStyle=function(e){var t=this;this.mixedStyleCounter+=1;var o="mixedStyle"+this.mixedStyleCounter,n={};e.forEach((function(e){t.excelStyles.forEach((function(t){t.id===e&&i._.mergeDeep(n,i._.deepCloneObject(t))}))})),n.id=o,n.name=o;var r=e.join("-");this.mixedStyles[r]={excelID:o,key:r,result:n},this.excelStyles.push(n),this.stylesByIds[o]=n},t.prototype.styleExists=function(e){return null!=e&&this.stylesByIds[e]},t.prototype.createCell=function(e,t,o){var n=this,r=e&&this.stylesByIds[e],s=void 0!==r;var a,l=function(){if(s&&r.dataType)switch(r.dataType){case"string":return"String";case"number":return"Number";case"dateTime":return"DateTime";case"error":return"Error";case"boolean":return"Boolean";default:console.warn("ag-grid: Unrecognized data type for excel export ["+r.id+".dataType="+r.dataType+"]")}return t}();return{styleId:s?e:void 0,data:{type:l,value:"String"===l?function(e){if(n.config.suppressTextAsCDATA)return i._.escape(e);var t="<![CDATA[",o="]]>",r=new RegExp(o,"g");return t+String(e).replace(r,"]]"+o+t+">")+o}(o):"Number"===l?Number(o).valueOf()+"":"Boolean"===l?(a=o,a&&"0"!==a&&"false"!==a?"1":"0"):o}}},t.prototype.createMergedCell=function(e,t,o,n){return{styleId:this.styleExists(e)?e:void 0,data:{type:t,value:o},mergeAcross:n}},t.prototype.convertColumnToExcel=function(e,t){var o=this.config.columnWidth;if(o)return"number"===typeof o?{width:o}:{width:o({column:e,index:t})};if(e){return{width:Math.max(e.getActualWidth(),75)}}return{}},t}(Po),Ko=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Yo=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.stringList=[],t.stringMap={},t}return Ko(t,e),t.prototype.onNewHeaderGroupingRow=function(){var e=this,t=[];return this.rows.push({cells:t,height:this.config.headerRowHeight}),{onColumn:function(o,n,i){var r=e.config.styleLinker(ae.HEADER_GROUPING,1,n,"grouping-"+o,void 0,void 0);t.push(e.createMergedCell(r&&r.length>0?r[0]:void 0,"s",o,i))}}},t.prototype.onNewHeaderColumn=function(e,t){var o=this;return function(n,i,r){var s=o.extractHeaderValue(n),a=o.config.styleLinker(ae.HEADER,e,i,s,n,void 0);t.push(o.createCell(a&&a.length>0?a[0]:void 0,"s",s))}},t.prototype.createExcel=function(e){return this.config.excelFactory.createExcel(this.excelStyles,e,this.stringList)},t.prototype.getDataTypeForValue=function(e){return i._.isNumeric(e)?"n":"s"},t.prototype.getStringPosition=function(e){var t=this.stringMap[e];return void 0===t&&(t=this.stringMap[e]=this.stringList.length,this.stringList.push(e)),t},t.prototype.createCell=function(e,t,o){var n=e&&this.stylesByIds[e],i=void 0!==n;var r=function(){if(i&&n.dataType)switch(n.dataType){case"string":return"s";case"number":return"n";case"dateTime":return"d";case"error":return"e";case"boolean":return"b";default:console.warn("ag-grid: Unrecognized data type for excel export ["+n.id+".dataType="+n.dataType+"]")}return t}();return{styleId:i?e:void 0,data:{type:r,value:"s"===r?this.getStringPosition(null==o?"":o).toString():"n"===r?Number(o).toString():o}}},t.prototype.createMergedCell=function(e,t,o,n){return{styleId:this.styleExists(e)?e:void 0,data:{type:t,value:"s"===t?this.getStringPosition(null==o?"":o).toString():o},mergeAcross:n}},t}($o),qo=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Xo=function(){return Xo=Object.assign||function(e){for(var t,o=1,n=arguments.length;o<n;o++)for(var i in t=arguments[o])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Xo.apply(this,arguments)},Qo=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Zo=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return qo(t,e),t.prototype.postConstruct=function(){this.setBeans({downloader:this.downloader,gridSerializer:this.gridSerializer,gridOptionsWrapper:this.gridOptionsWrapper})},t.prototype.exportDataAsExcel=function(e){return this.setExportMode(e?e.exportMode:void 0),this.export(e)},t.prototype.getDataAsExcelXml=function(e){return e&&e.exportMode&&delete e.exportMode,this.setExportMode("xml"),this.getData(e||{})},t.prototype.getMimeType=function(){return"xml"===this.getExportMode()?"application/vnd.ms-excel":"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"},t.prototype.getDefaultFileName=function(){return"export."+this.getExportMode()},t.prototype.getDefaultFileExtension=function(){return this.getExportMode()},t.prototype.createSerializingSession=function(e){var t=this,o=t.columnController,n=t.valueService,r=t.gridOptionsWrapper,s="xlsx"===this.getExportMode(),a=s?this.xlsxFactory:this.excelXmlFactory,l="ag-grid";i._.exists(e.sheetName)&&(l=i._.utf8_encode(e.sheetName.toString().substr(0,31)));var c=Xo(Xo({},e),{columnController:o,valueService:n,gridOptionsWrapper:r,headerRowHeight:e.headerRowHeight||e.rowHeight,sheetName:l,excelFactory:a,baseExcelStyles:this.gridOptions.excelStyles||[],styleLinker:this.styleLinker.bind(this)});return new(s?Yo:$o)(c)},t.prototype.styleLinker=function(e,t,o,n,i,r){if(e===ae.HEADER||e===ae.HEADER_GROUPING)return["header"];var s=this.gridOptions.excelStyles;if(!s||!s.length)return null;var a=s.map((function(e){return e.id})),l=[];return this.stylingService.processAllCellClasses(i.getColDef(),{value:n,data:r.data,node:r,colDef:i.getColDef(),rowIndex:t,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),$scope:null,context:this.gridOptionsWrapper.getContext()},(function(e){a.indexOf(e)>-1&&l.push(e)})),l.sort((function(e,t){return a.indexOf(e)<a.indexOf(t)?-1:1}))},t.prototype.isExportSuppressed=function(){return this.gridOptionsWrapper.isSuppressExcelExport()},t.prototype.setExportMode=function(e){this.exportMode=e},t.prototype.getExportMode=function(){return this.exportMode||"xlsx"},t.prototype.packageFile=function(t){if("xml"===this.getExportMode())return e.prototype.packageFile.call(this,t);var o=this.zipContainer,n=this.xlsxFactory;return o.addFolders(["xl/worksheets/","xl/","xl/theme/","xl/_rels/","docProps/","_rels/"]),o.addFile("xl/worksheets/sheet1.xml",t),o.addFile("xl/workbook.xml",n.createWorkbook()),o.addFile("xl/styles.xml",n.createStylesheet()),o.addFile("xl/sharedStrings.xml",n.createSharedStrings()),o.addFile("xl/theme/theme1.xml",n.createTheme()),o.addFile("xl/_rels/workbook.xml.rels",n.createWorkbookRels()),o.addFile("docProps/core.xml",n.createCore()),o.addFile("[Content_Types].xml",n.createContentTypes()),o.addFile("_rels/.rels",n.createRels()),o.getContent("application/vnd.openxmlformats-officedocument.spreadsheetml.sheet")},Qo([i.Autowired("excelXmlFactory")],t.prototype,"excelXmlFactory",void 0),Qo([i.Autowired("excelXlsxFactory")],t.prototype,"xlsxFactory",void 0),Qo([i.Autowired("columnController")],t.prototype,"columnController",void 0),Qo([i.Autowired("valueService")],t.prototype,"valueService",void 0),Qo([i.Autowired("gridOptions")],t.prototype,"gridOptions",void 0),Qo([i.Autowired("stylingService")],t.prototype,"stylingService",void 0),Qo([i.Autowired("downloader")],t.prototype,"downloader",void 0),Qo([i.Autowired("gridSerializer")],t.prototype,"gridSerializer",void 0),Qo([i.Autowired("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),Qo([i.Autowired("zipContainer")],t.prototype,"zipContainer",void 0),Qo([i.PostConstruct],t.prototype,"postConstruct",null),t=Qo([i.Bean("excelCreator")],t)}(Fo),Jo={moduleName:i.ModuleNames.ExcelExportModule,beans:[Zo,So,io,Oo,Wo,Go,Io,_o],dependantModules:[jo,g]},en=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),tn=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s};!function(e){e[e.EXPANDED=0]="EXPANDED",e[e.COLLAPSED=1]="COLLAPSED",e[e.INDETERMINATE=2]="INDETERMINATE"}(xo||(xo={}));var on,nn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return en(t,e),t.prototype.preConstruct=function(){this.setTemplate('<div class="ag-filter-toolpanel-search" role="presentation">\n                <div ref="eExpand" class="ag-filter-toolpanel-expand"></div>\n                <ag-input-text-field ref="eFilterTextField" class="ag-filter-toolpanel-search-input"></ag-input-text-field>\n            </div>')},t.prototype.postConstruct=function(){this.eSearchTextField.onValueChange(this.onSearchTextChanged.bind(this)),this.createExpandIcons(),this.setExpandState(xo.EXPANDED),this.addManagedListener(this.eExpand,"click",this.onExpandClicked.bind(this)),this.addManagedListener(this.eventService,i.Events.EVENT_NEW_COLUMNS_LOADED,this.showOrHideOptions.bind(this))},t.prototype.init=function(e){this.params=e,this.columnController.isReady()&&this.showOrHideOptions()},t.prototype.createExpandIcons=function(){this.eExpand.appendChild(this.eExpandChecked=i._.createIconNoSpan("columnSelectOpen",this.gridOptionsWrapper)),this.eExpand.appendChild(this.eExpandUnchecked=i._.createIconNoSpan("columnSelectClosed",this.gridOptionsWrapper)),this.eExpand.appendChild(this.eExpandIndeterminate=i._.createIconNoSpan("columnSelectIndeterminate",this.gridOptionsWrapper))},t.prototype.showOrHideOptions=function(){var e=!this.params.suppressFilterSearch,t=!this.params.suppressExpandAll,o=this.gridOptionsWrapper.getLocaleTextFunc();this.eSearchTextField.setInputPlaceholder(o("searchOoo","Search..."));var n=this.columnController.getAllGridColumns().some((function(e){return e.getOriginalParent()&&e.isFilterAllowed()}));i._.setDisplayed(this.eSearchTextField.getGui(),e),i._.setDisplayed(this.eExpand,t&&n)},t.prototype.onSearchTextChanged=function(){var e=this;this.onSearchTextChangedDebounced||(this.onSearchTextChangedDebounced=i._.debounce((function(){e.dispatchEvent({type:"searchChanged",searchText:e.eSearchTextField.getValue()})}),300)),this.onSearchTextChangedDebounced()},t.prototype.onExpandClicked=function(){var e=this.currentExpandState===xo.EXPANDED?{type:"collapseAll"}:{type:"expandAll"};this.dispatchEvent(e)},t.prototype.setExpandState=function(e){this.currentExpandState=e,i._.setDisplayed(this.eExpandChecked,this.currentExpandState===xo.EXPANDED),i._.setDisplayed(this.eExpandUnchecked,this.currentExpandState===xo.COLLAPSED),i._.setDisplayed(this.eExpandIndeterminate,this.currentExpandState===xo.INDETERMINATE)},tn([i.Autowired("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),tn([i.Autowired("columnController")],t.prototype,"columnController",void 0),tn([i.RefSelector("eExpand")],t.prototype,"eExpand",void 0),tn([i.RefSelector("eFilterTextField")],t.prototype,"eSearchTextField",void 0),tn([i.PreConstruct],t.prototype,"preConstruct",null),tn([i.PostConstruct],t.prototype,"postConstruct",null),t}(i.Component),rn=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),sn=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},an=function(e){function t(o){void 0===o&&(o=!1);var n=e.call(this,t.TEMPLATE)||this;return n.expanded=!1,n.hideHeader=o,n}return rn(t,e),t.prototype.postConstruct=function(){this.eExpandChecked=i._.createIconNoSpan("columnSelectOpen",this.gridOptionsWrapper),this.eExpandUnchecked=i._.createIconNoSpan("columnSelectClosed",this.gridOptionsWrapper),this.eExpand.appendChild(this.eExpandChecked),this.eExpand.appendChild(this.eExpandUnchecked)},t.prototype.setColumn=function(e){var t=this;this.column=e,this.eFilterName.innerText=this.columnController.getDisplayNameForColumn(this.column,"header",!1),this.addManagedListener(this.eFilterToolPanelHeader,"click",this.toggleExpanded.bind(this)),this.addManagedListener(this.eFilterToolPanelHeader,"keydown",(function(e){e.keyCode===i.Constants.KEY_ENTER&&t.toggleExpanded()})),this.addManagedListener(this.eventService,i.Events.EVENT_FILTER_OPENED,this.onFilterOpened.bind(this)),this.addInIcon("filter",this.eFilterIcon,this.column),i._.addOrRemoveCssClass(this.eFilterIcon,"ag-hidden",!this.isFilterActive()),i._.addCssClass(this.eExpandChecked,"ag-hidden"),this.hideHeader?(i._.addOrRemoveCssClass(this.eFilterToolPanelHeader,"ag-hidden",!0),this.eFilterToolPanelHeader.removeAttribute("tabindex")):this.eFilterToolPanelHeader.setAttribute("tabindex","0"),this.addManagedListener(this.column,i.Column.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this))},t.prototype.getColumn=function(){return this.column},t.prototype.getColumnFilterName=function(){return this.columnController.getDisplayNameForColumn(this.column,"header",!1)},t.prototype.addCssClassToTitleBar=function(e){i._.addCssClass(this.eFilterToolPanelHeader,e)},t.prototype.addInIcon=function(e,t,o){if(null!=t){var n=i._.createIconNoSpan(e,this.gridOptionsWrapper,o);t.appendChild(n)}},t.prototype.isFilterActive=function(){return this.filterManager.isFilterActive(this.column)},t.prototype.onFilterChanged=function(){i._.addOrRemoveCssClass(this.eFilterIcon,"ag-hidden",!this.isFilterActive()),this.dispatchEvent({type:i.Column.EVENT_FILTER_CHANGED})},t.prototype.toggleExpanded=function(){this.expanded?this.collapse():this.expand()},t.prototype.expand=function(){var e=this;if(!this.expanded){this.expanded=!0;var t=i._.loadTemplate('<div class="ag-filter-toolpanel-instance-filter" />'),o=this.filterManager.getOrCreateFilterWrapper(this.column,"TOOLBAR").filterPromise;o&&o.then((function(o){e.underlyingFilter=o,t.appendChild(o.getGui()),e.agFilterToolPanelBody.appendChild(t),o.afterGuiAttached&&o.afterGuiAttached({})})),i._.setDisplayed(this.eExpandChecked,!0),i._.setDisplayed(this.eExpandUnchecked,!1)}},t.prototype.collapse=function(){this.expanded&&(this.expanded=!1,this.agFilterToolPanelBody.removeChild(this.agFilterToolPanelBody.children[0]),i._.setDisplayed(this.eExpandChecked,!1),i._.setDisplayed(this.eExpandUnchecked,!0))},t.prototype.refreshFilter=function(){if(this.expanded){var e=this.underlyingFilter;if(e)e.refreshVirtualList&&e.refreshVirtualList()}},t.prototype.onFilterOpened=function(e){"COLUMN_MENU"===e.source&&e.column===this.column&&this.expanded&&this.collapse()},t.TEMPLATE='\n        <div class="ag-filter-toolpanel-instance">\n            <div class="ag-filter-toolpanel-header ag-filter-toolpanel-instance-header" ref="eFilterToolPanelHeader">\n                <div ref="eExpand" class="ag-filter-toolpanel-expand"></div>\n                <span ref="eFilterName" class="ag-header-cell-text"></span>\n                <span ref="eFilterIcon" class="ag-header-icon ag-filter-icon ag-filter-toolpanel-instance-header-icon" aria-hidden="true"></span>\n            </div>\n            <div class="ag-filter-toolpanel-instance-body ag-filter" ref="agFilterToolPanelBody" />\n        </div>',sn([i.RefSelector("eFilterToolPanelHeader")],t.prototype,"eFilterToolPanelHeader",void 0),sn([i.RefSelector("eFilterName")],t.prototype,"eFilterName",void 0),sn([i.RefSelector("agFilterToolPanelBody")],t.prototype,"agFilterToolPanelBody",void 0),sn([i.RefSelector("eFilterIcon")],t.prototype,"eFilterIcon",void 0),sn([i.RefSelector("eExpand")],t.prototype,"eExpand",void 0),sn([i.Autowired("filterManager")],t.prototype,"filterManager",void 0),sn([i.Autowired("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),sn([i.Autowired("columnController")],t.prototype,"columnController",void 0),sn([i.PostConstruct],t.prototype,"postConstruct",null),t}(i.Component),ln=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),cn=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},un=function(e){function t(t,o,n,i){var r=e.call(this)||this;return r.columnGroup=t,r.childFilterComps=o,r.depth=i,r.expandedCallback=n,r}return ln(t,e),t.prototype.preConstruct=function(){this.setTemplate(t.TEMPLATE,{filterGroupComp:{cssIdentifier:"filter-toolpanel",direction:"vertical"}})},t.prototype.init=function(){var e=this;this.setGroupTitle(),this.filterGroupComp.setAlignItems("stretch"),i._.addCssClass(this.filterGroupComp.getGui(),"ag-filter-toolpanel-group-level-"+this.depth),this.filterGroupComp.addCssClassToTitleBar("ag-filter-toolpanel-group-level-"+this.depth+"-header"),this.childFilterComps.forEach((function(t){e.filterGroupComp.addItem(t),t.addCssClassToTitleBar("ag-filter-toolpanel-group-level-"+(e.depth+1)+"-header")})),this.addExpandCollapseListeners(),this.addFilterChangedListeners()},t.prototype.addCssClassToTitleBar=function(e){this.filterGroupComp.addCssClassToTitleBar(e)},t.prototype.refreshFilters=function(){this.childFilterComps.forEach((function(e){e instanceof t?e.refreshFilters():e.refreshFilter()}))},t.prototype.isColumnGroup=function(){return this.columnGroup instanceof i.OriginalColumnGroup},t.prototype.isExpanded=function(){return this.filterGroupComp.isExpanded()},t.prototype.getChildren=function(){return this.childFilterComps},t.prototype.getFilterGroupName=function(){return this.filterGroupName?this.filterGroupName:""},t.prototype.getFilterGroupId=function(){return this.columnGroup.getId()},t.prototype.hideGroupItem=function(e,t){this.filterGroupComp.hideItem(e,t)},t.prototype.hideGroup=function(e){i._.addOrRemoveCssClass(this.getGui(),"ag-hidden",e)},t.prototype.forEachToolPanelFilterChild=function(e){i._.forEach(this.childFilterComps,(function(t){t instanceof an&&e(t)}))},t.prototype.addExpandCollapseListeners=function(){var e=this,t=this.isColumnGroup()?function(){return e.expandedCallback()}:function(){return e.forEachToolPanelFilterChild((function(e){return e.expand()}))},o=this.isColumnGroup()?function(){return e.expandedCallback()}:function(){return e.forEachToolPanelFilterChild((function(e){return e.collapse()}))};this.addManagedListener(this.filterGroupComp,i.AgGroupComponent.EVENT_EXPANDED,t),this.addManagedListener(this.filterGroupComp,i.AgGroupComponent.EVENT_COLLAPSED,o)},t.prototype.addFilterChangedListeners=function(){var e=this;if(this.columnGroup instanceof i.OriginalColumnGroup){var t=this.columnGroup;t.getLeafColumns().forEach((function(o){e.addManagedListener(o,i.Column.EVENT_FILTER_CHANGED,(function(){i._.addOrRemoveCssClass(e.filterGroupComp.getGui(),"ag-has-filter",t.getLeafColumns().some((function(e){return e.isFilterActive()})))}))}))}else{var o=this.columnGroup;this.addManagedListener(this.eventService,i.Events.EVENT_FILTER_OPENED,this.onFilterOpened.bind(this)),this.addManagedListener(o,i.Column.EVENT_FILTER_CHANGED,(function(){i._.addOrRemoveCssClass(e.filterGroupComp.getGui(),"ag-has-filter",o.isFilterActive())}))}},t.prototype.onFilterOpened=function(e){"COLUMN_MENU"===e.source&&e.column===this.columnGroup&&this.isExpanded()&&this.collapse()},t.prototype.expand=function(){this.filterGroupComp.toggleGroupExpand(!0)},t.prototype.collapse=function(){this.filterGroupComp.toggleGroupExpand(!1)},t.prototype.setGroupTitle=function(){this.filterGroupName=this.columnGroup instanceof i.OriginalColumnGroup?this.getColumnGroupName(this.columnGroup):this.getColumnName(this.columnGroup),this.filterGroupComp.setTitle(this.filterGroupName)},t.prototype.getColumnGroupName=function(e){return this.columnController.getDisplayNameForOriginalColumnGroup(null,e,"toolPanel")},t.prototype.getColumnName=function(e){return this.columnController.getDisplayNameForColumn(e,"header",!1)},t.prototype.destroyFilters=function(){this.childFilterComps=this.destroyBeans(this.childFilterComps),i._.clearElement(this.getGui())},t.prototype.destroy=function(){this.destroyFilters(),e.prototype.destroy.call(this)},t.TEMPLATE='<div class="ag-filter-toolpanel-group-wrapper">\n            <ag-group-component ref="filterGroupComp"></ag-group-component>\n        </div>',cn([i.RefSelector("filterGroupComp")],t.prototype,"filterGroupComp",void 0),cn([i.Autowired("columnController")],t.prototype,"columnController",void 0),cn([i.PreConstruct],t.prototype,"preConstruct",null),cn([i.PostConstruct],t.prototype,"init",null),t}(i.Component),dn=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),hn=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},pn=function(e){function t(){var o=e.call(this,t.TEMPLATE)||this;return o.initialised=!1,o.filterGroupComps=[],o}return dn(t,e),t.prototype.init=function(e){var t=this;this.initialised=!0;var o={suppressExpandAll:!1,suppressFilterSearch:!1,suppressSyncLayoutWithGrid:!1,api:this.gridApi,columnApi:this.columnApi};i._.mergeDeep(o,e),this.params=o,this.params.suppressSyncLayoutWithGrid||this.addManagedListener(this.eventService,i.Events.EVENT_COLUMN_MOVED,(function(){return t.onColumnsChanged()})),this.addManagedListener(this.eventService,i.Events.EVENT_NEW_COLUMNS_LOADED,(function(){return t.onColumnsChanged()})),this.addManagedListener(this.eventService,i.Events.EVENT_TOOL_PANEL_VISIBLE_CHANGED,(function(e){"filters"===e.source&&t.refreshFilters()})),this.columnController.isReady()&&this.onColumnsChanged()},t.prototype.onColumnsChanged=function(){var e=this.columnController.isPivotMode();!this.params.suppressSyncLayoutWithGrid&&!e?this.syncFilterLayout():this.buildTreeFromProvidedColumnDefs()},t.prototype.syncFilterLayout=function(){this.toolPanelColDefService.syncLayoutWithGrid(this.setFiltersLayout.bind(this))},t.prototype.buildTreeFromProvidedColumnDefs=function(){var e=this;this.destroyFilters();var t=this.columnController.getPrimaryColumnTree();this.filterGroupComps=this.recursivelyAddComps(t,0);var o=this.filterGroupComps.length;o&&(this.filterGroupComps.forEach((function(t){return e.appendChild(t)})),this.setFirstAndLastVisible(0,o-1)),i._.exists(this.searchFilterText)&&this.searchFilters(this.searchFilterText),this.fireExpandedEvent()},t.prototype.setFiltersLayout=function(e){var t=this;this.destroyFilters();var o=this.toolPanelColDefService.createColumnTree(e);this.filterGroupComps=this.recursivelyAddComps(o,0);var n=this.filterGroupComps.length;n&&(this.filterGroupComps.forEach((function(e){return t.appendChild(e)})),this.setFirstAndLastVisible(0,n-1)),i._.exists(this.searchFilterText)&&this.searchFilters(this.searchFilterText),this.fireExpandedEvent()},t.prototype.recursivelyAddComps=function(e,t){var o=this;return i._.flatten(e.map((function(e){if(e instanceof i.OriginalColumnGroup)return i._.flatten(o.recursivelyAddFilterGroupComps(e,t));var n=e;if(!o.shouldDisplayFilter(n))return[];var r=new an(0===t);if(o.getContext().createBean(r),r.setColumn(n),t>0)return r;var s=o.createBean(new un(n,[r],o.onGroupExpanded.bind(o),t));return s.addCssClassToTitleBar("ag-filter-toolpanel-header"),s.collapse(),s})))},t.prototype.recursivelyAddFilterGroupComps=function(e,t){if(this.filtersExistInChildren(e.getChildren())){if(e.getColGroupDef()&&e.getColGroupDef().suppressFiltersToolPanel)return[];var o=e.isPadding()?t:t+1,n=i._.flatten(this.recursivelyAddComps(e.getChildren(),o));if(e.isPadding())return n;var r=new un(e,n,this.onGroupExpanded.bind(this),t);return this.getContext().createBean(r),r.addCssClassToTitleBar("ag-filter-toolpanel-header"),[r]}},t.prototype.filtersExistInChildren=function(e){var t=this;return e.some((function(e){return e instanceof i.OriginalColumnGroup?t.filtersExistInChildren(e.getChildren()):t.shouldDisplayFilter(e)}))},t.prototype.shouldDisplayFilter=function(e){var t=e.getColDef()&&e.getColDef().suppressFiltersToolPanel;return e.isFilterAllowed()&&!t},t.prototype.refresh=function(){},t.prototype.setVisible=function(t){e.prototype.setDisplayed.call(this,t),t&&!this.initialised&&this.init(this.params)},t.prototype.expandFilterGroups=function(e,t){var o=[],n=function(r){var s=r.getFilterGroupId();(!t||i._.includes(t,s))&&(e&&r.isColumnGroup()?r.expand():r.collapse(),o.push(s)),r.getChildren().forEach((function(e){e instanceof un&&n(e)}))};if(this.filterGroupComps.forEach(n),this.onGroupExpanded(),t){var r=t.filter((function(e){return o.indexOf(e)<0}));r.length>0&&console.warn("ag-Grid: unable to find groups for these supplied groupIds:",r)}},t.prototype.expandFilters=function(e,t){var o=[],n=function(r){if(r instanceof un){var s=!1;return r.getChildren().forEach((function(t){n(t)&&(e?(r.expand(),s=!0):r.isColumnGroup()||r.collapse())})),s}var a=r.getColumn().getColId(),l=!t||i._.includes(t,a);return l&&(e?r.expand():r.collapse(),o.push(a)),l};if(this.filterGroupComps.forEach(n),this.onGroupExpanded(),t){var r=t.filter((function(e){return o.indexOf(e)<0}));r.length>0&&console.warn("ag-Grid: unable to find columns for these supplied colIds:",r)}},t.prototype.onGroupExpanded=function(){this.fireExpandedEvent()},t.prototype.fireExpandedEvent=function(){var e,t=0,o=0,n=function(e){e.isColumnGroup()&&(e.isExpanded()?t++:o++,e.getChildren().forEach((function(e){e instanceof un&&n(e)})))};this.filterGroupComps.forEach(n),e=t>0&&o>0?xo.INDETERMINATE:o>0?xo.COLLAPSED:xo.EXPANDED,this.dispatchEvent({type:"groupExpanded",state:e})},t.prototype.performFilterSearch=function(e){this.searchFilterText=i._.exists(e)?e.toLowerCase():null,this.searchFilters(this.searchFilterText)},t.prototype.searchFilters=function(e){var t,o,n=function(t){return!i._.exists(e)||-1!==t.toLowerCase().indexOf(e)},r=function(e,t){if(!(e instanceof un))return n(e.getColumnFilterName());var o=e.getChildren(),i=n(e.getFilterGroupName()),s=t||i;if(s){e.hideGroup(!1);for(var a=0;a<o.length;a++)r(o[a],s),e.hideGroupItem(!1,a);return!0}var l=!1;return o.forEach((function(o,n){var i=r(o,t);e.hideGroupItem(!i,n),i&&(l=!0)})),e.hideGroup(!l),l};this.filterGroupComps.forEach((function(e,n){r(e,!1),void 0===t?i._.containsClass(e.getGui(),"ag-hidden")||(t=n,o=n):i._.containsClass(e.getGui(),"ag-hidden")||o===n||(o=n)})),this.setFirstAndLastVisible(t,o)},t.prototype.setFirstAndLastVisible=function(e,t){this.filterGroupComps.forEach((function(o,n){i._.removeCssClass(o.getGui(),"ag-first-group-visible"),i._.removeCssClass(o.getGui(),"ag-last-group-visible"),n===e&&i._.addCssClass(o.getGui(),"ag-first-group-visible"),n===t&&i._.addCssClass(o.getGui(),"ag-last-group-visible")}))},t.prototype.refreshFilters=function(){this.filterGroupComps.forEach((function(e){return e.refreshFilters()}))},t.prototype.destroyFilters=function(){this.filterGroupComps=this.destroyBeans(this.filterGroupComps),i._.clearElement(this.getGui())},t.prototype.destroy=function(){this.destroyFilters(),e.prototype.destroy.call(this)},t.TEMPLATE='<div class="ag-filter-list-panel"></div>',hn([i.Autowired("gridApi")],t.prototype,"gridApi",void 0),hn([i.Autowired("columnApi")],t.prototype,"columnApi",void 0),hn([i.Autowired("toolPanelColDefService")],t.prototype,"toolPanelColDefService",void 0),hn([i.Autowired("columnController")],t.prototype,"columnController",void 0),t}(i.Component),gn=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),fn=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},mn=function(e){function t(){var o=e.call(this,t.TEMPLATE)||this;return o.initialised=!1,o}return gn(t,e),t.prototype.init=function(e){this.initialised=!0;var t={suppressExpandAll:!1,suppressFilterSearch:!1,suppressSyncLayoutWithGrid:!1,api:this.gridApi,columnApi:this.columnApi};i._.mergeDeep(t,e),this.params=t,this.filtersToolPanelHeaderPanel.init(this.params),this.filtersToolPanelListPanel.init(this.params);var o=this.params.suppressExpandAll,n=this.params.suppressFilterSearch;o&&n&&this.filtersToolPanelHeaderPanel.setDisplayed(!1),this.addManagedListener(this.filtersToolPanelHeaderPanel,"expandAll",this.onExpandAll.bind(this)),this.addManagedListener(this.filtersToolPanelHeaderPanel,"collapseAll",this.onCollapseAll.bind(this)),this.addManagedListener(this.filtersToolPanelHeaderPanel,"searchChanged",this.onSearchChanged.bind(this)),this.addManagedListener(this.filtersToolPanelListPanel,"groupExpanded",this.onGroupExpanded.bind(this))},t.prototype.setVisible=function(t){e.prototype.setDisplayed.call(this,t),t&&!this.initialised&&this.init(this.params)},t.prototype.onExpandAll=function(){this.filtersToolPanelListPanel.expandFilterGroups(!0)},t.prototype.onCollapseAll=function(){this.filtersToolPanelListPanel.expandFilterGroups(!1)},t.prototype.onSearchChanged=function(e){this.filtersToolPanelListPanel.performFilterSearch(e.searchText)},t.prototype.setFilterLayout=function(e){this.filtersToolPanelListPanel.setFiltersLayout(e)},t.prototype.onGroupExpanded=function(e){this.filtersToolPanelHeaderPanel.setExpandState(e.state)},t.prototype.expandFilterGroups=function(e){this.filtersToolPanelListPanel.expandFilterGroups(!0,e)},t.prototype.collapseFilterGroups=function(e){this.filtersToolPanelListPanel.expandFilterGroups(!1,e)},t.prototype.expandFilters=function(e){this.filtersToolPanelListPanel.expandFilters(!0,e)},t.prototype.collapseFilters=function(e){this.filtersToolPanelListPanel.expandFilters(!1,e)},t.prototype.syncLayoutWithGrid=function(){this.filtersToolPanelListPanel.syncFilterLayout()},t.prototype.refresh=function(){this.init(this.params)},t.prototype.destroy=function(){e.prototype.destroy.call(this)},t.TEMPLATE='<div class="ag-filter-toolpanel">\n            <ag-filters-tool-panel-header ref="filtersToolPanelHeaderPanel"></ag-filters-tool-panel-header>\n            <ag-filters-tool-panel-list ref="filtersToolPanelListPanel"></ag-filters-tool-panel-list> \n         </div>',fn([i.RefSelector("filtersToolPanelHeaderPanel")],t.prototype,"filtersToolPanelHeaderPanel",void 0),fn([i.RefSelector("filtersToolPanelListPanel")],t.prototype,"filtersToolPanelListPanel",void 0),fn([i.Autowired("gridApi")],t.prototype,"gridApi",void 0),fn([i.Autowired("columnApi")],t.prototype,"columnApi",void 0),t}(i.Component),vn={moduleName:i.ModuleNames.FiltersToolPanelModule,beans:[],agStackComponents:[{componentName:"AgFiltersToolPanelHeader",componentClass:nn},{componentName:"AgFiltersToolPanelList",componentClass:pn}],userComponents:[{componentName:"agFiltersToolPanel",componentClass:mn}],dependantModules:[qe,g]},yn=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Cn=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},wn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return yn(t,e),t.prototype.getData=function(e){var t=this.extractRowsFromGridRowModel(e);return t.data=this.aggregateRowsByDimension(e,t.data),t},t.prototype.extractRowsFromGridRowModel=function(e){for(var t=this,o=[],n={},r={},s={},a=this.gridRowModel.getRowCount()-1,l=(e.endRow>=0?Math.min(e.endRow,a):a)-e.startRow+1,c=function(i){var a={},l=u.gridRowModel.getRow(i+e.startRow);e.dimensionCols.forEach((function(o){var n=o.colId,c=t.columnController.getGridColumn(n);if(c){var u=t.valueService.getValue(c,l);if(e.grouping){var d=u&&u.toString?String(u.toString()):"",h=t.getGroupLabels(l,d);a[n]={labels:h,toString:function(){return this.labels.filter((function(e){return!!e})).reverse().join(" - ")}},l.group&&(r[h.toString()]=i);var p=h.slice(1,h.length).toString();p&&(s[p]=r[p])}else a[n]=u}else a[Rn.DEFAULT_CATEGORY]=i+1})),e.valueCols.forEach((function(e){var o=[],i=e.getColDef().pivotKeys;i&&(o=i.slice());var r=e.getColDef().headerName;r&&o.push(r),o.length>0&&(n[e.getId()]=o);var s=t.valueService.getValue(e,l);a[e.getId()]=null!=s&&"function"===typeof s.toNumber?s.toNumber():s})),o.push(a)},u=this,d=0;d<l;d++)c(d);if(e.grouping){var h=i._.values(s);o=o.filter((function(e,t){return!i._.includes(h,t)}))}return{data:o,columnNames:n}},t.prototype.aggregateRowsByDimension=function(e,t){var o=this,n=e.dimensionCols;if(!e.aggFunc||0===n.length)return t;var r=i._.last(n),s=r&&r.colId,a={},l=[];return t.forEach((function(e){var t=a;n.forEach((function(o){var i=o.colId,r=e[i];if(i===s){var a=t[r];a||(a={__children:[]},n.forEach((function(t){var o=t.colId;a[o]=e[o]})),t[r]=a,l.push(a)),a.__children.push(e)}else t[r]||(t[r]={}),t=t[r]}))})),l.forEach((function(t){return e.valueCols.forEach((function(n){var r=t.__children.map((function(e){return e[n.getId()]})),s=0;i.ModuleRegistry.assertRegistered(i.ModuleNames.RowGroupingModule,"Charting Aggregation")&&(s=o.aggregationStage.aggregateValues(r,e.aggFunc)),t[n.getId()]=s&&"undefined"!==typeof s.value?s.value:s}))})),l},t.prototype.getGroupLabels=function(e,t){for(var o=[t];0!==e.level;)e=e.parent,o.push(e.key);return o},Cn([i.Autowired("rowModel")],t.prototype,"gridRowModel",void 0),Cn([i.Autowired("valueService")],t.prototype,"valueService",void 0),Cn([i.Autowired("columnController")],t.prototype,"columnController",void 0),Cn([i.Optional("aggregationStage")],t.prototype,"aggregationStage",void 0),t}(i.BeanStub),bn=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Sn=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},En=function(){for(var e=0,t=0,o=arguments.length;t<o;t++)e+=arguments[t].length;var n=Array(e),i=0;for(t=0;t<o;t++)for(var r=arguments[t],s=0,a=r.length;s<a;s++,i++)n[i]=r[s];return n},Rn=function(e){function t(t){var o=e.call(this)||this;return o.dimensionColState=[],o.valueColState=[],o.detached=!1,o.columnNames={},o.pivotChart=t.pivotChart,o.chartType=t.chartType,o.aggFunc=t.aggFunc,o.referenceCellRange=t.cellRange,o.suppressChartRanges=t.suppressChartRanges,o.chartId=o.generateId(),o}return bn(t,e),t.prototype.init=function(){this.datasource=this.createManagedBean(new wn),this.updateCellRanges()},t.prototype.updateCellRanges=function(e){this.valueCellRange&&(this.referenceCellRange=this.valueCellRange);var t=this.getAllChartColumns(),o=t.dimensionCols,n=t.valueCols,i=this.getAllColumnsFromRanges();e&&this.updateColumnState(e),this.setDimensionCellRange(o,i,e),this.setValueCellRange(n,i,e),e||this.resetColumnState(),this.updateData()},t.prototype.getData=function(){return this.chartData},t.prototype.setChartType=function(e){this.chartType=e},t.prototype.isGrouping=function(){var e=this.gridOptionsWrapper.isTreeData(),t=e?null:this.columnController.getRowGroupColumns(),o=e||t&&t.length>0,n=this.columnController.getGroupDisplayColumns(),i=this.getSelectedDimension().colId,r=n.map((function(e){return e.getColId()})).some((function(e){return e===i}));return o&&r},t.prototype.isPivotActive=function(){return this.columnController.isPivotActive()},t.prototype.isPivotMode=function(){return this.columnController.isPivotMode()},t.prototype.isPivotChart=function(){return this.pivotChart},t.prototype.getChartId=function(){return this.chartId},t.prototype.getValueColState=function(){return this.valueColState.map(this.displayNameMapper.bind(this))},t.prototype.getDimensionColState=function(){return this.dimensionColState},t.prototype.getCellRanges=function(){return[this.dimensionCellRange,this.valueCellRange].filter((function(e){return e}))},t.prototype.getCellRangeParams=function(){var e=this.getCellRanges(),t=e[0],o=t&&t.startRow,n=t&&t.endRow;return{rowStartIndex:o&&o.rowIndex,rowStartPinned:o&&o.rowPinned,rowEndIndex:n&&n.rowIndex,rowEndPinned:n&&n.rowPinned,columns:e.reduce((function(e,t){return e.concat(t.columns.map((function(e){return e.getId()})))}),[])}},t.prototype.getChartType=function(){return this.chartType},t.prototype.isSuppressChartRanges=function(){return this.suppressChartRanges},t.prototype.isDetached=function(){return this.detached},t.prototype.toggleDetached=function(){this.detached=!this.detached},t.prototype.getSelectedValueColState=function(){return this.getValueColState().filter((function(e){return e.selected}))},t.prototype.getSelectedValueCols=function(){return this.valueColState.filter((function(e){return e.selected})).map((function(e){return e.column}))},t.prototype.getSelectedDimension=function(){return this.dimensionColState.filter((function(e){return e.selected}))[0]},t.prototype.createCellRange=function(e){for(var t=[],o=1;o<arguments.length;o++)t[o-1]=arguments[o];return{id:this.chartId,startRow:this.referenceCellRange.startRow,endRow:this.referenceCellRange.endRow,columns:t,startColumn:e===i.CellRangeType.DIMENSION?t[0]:this.referenceCellRange.startColumn,type:e}},t.prototype.getAllColumnsFromRanges=function(){if(this.pivotChart)return i._.convertToSet(this.columnController.getAllDisplayedColumns());var e=this.dimensionCellRange||this.valueCellRange?[]:this.referenceCellRange.columns;return this.dimensionCellRange&&e.push.apply(e,this.dimensionCellRange.columns),this.valueCellRange&&e.push.apply(e,this.valueCellRange.columns),i._.convertToSet(e)},t.prototype.getColDisplayName=function(e){return this.columnController.getDisplayNameForColumn(e,"chart")},t.prototype.getRowIndexes=function(){var e=0,t=0,o=this.rangeController,n=this.valueCellRange;return o&&n&&(e=o.getRangeStartRow(n).rowIndex,t=o.getRangeEndRow(n).rowIndex),{startRow:e,endRow:t}},t.prototype.getAllChartColumns=function(){var e=this,t=this.columnController.getAllDisplayedColumns(),o=new Set,n=new Set;return t.forEach((function(t){var i=t.getColDef(),r=i.chartDataType;if(r)switch(r){case"category":return void o.add(t);case"series":return void n.add(t);case"excluded":return;default:console.warn("ag-Grid: unexpected chartDataType value '"+r+"' supplied, instead use 'category', 'series' or 'excluded'")}"ag-Grid-AutoColumn"!==i.colId?t.isPrimary()?(e.isNumberCol(t)?n:o).add(t):n.add(t):o.add(t)})),{dimensionCols:o,valueCols:n}},t.prototype.isNumberCol=function(e){if("ag-Grid-AutoColumn"===e.getColId())return!1;var t=this.rowRenderer.getRowNode({rowIndex:0,rowPinned:void 0});if(!t)return!1;var o=this.valueService.getValue(e,t);return null==o&&(o=this.extractLeafData(t,e)),null!=o&&"function"===typeof o.toNumber&&(o=o.toNumber()),"number"===typeof o},t.prototype.extractLeafData=function(e,t){if(!e.allLeafChildren)return null;for(var o=0;o<e.allLeafChildren.length;o++){var n=e.allLeafChildren[o],i=this.valueService.getValue(t,n);if(null!=i)return i}return null},t.prototype.displayNameMapper=function(e){var t=this.columnNames[e.colId];return e.displayName=t?t.join(" - "):this.getColDisplayName(e.column),e},t.prototype.generateId=function(){return"id-"+Math.random().toString(36).substr(2,16)},t.prototype.updateData=function(){var e=this.getRowIndexes(),t=e.startRow,o=e.endRow;this.pivotChart&&this.resetColumnState(),this.grouping=this.isGrouping();var n={aggFunc:this.aggFunc,dimensionCols:[this.getSelectedDimension()],grouping:this.grouping,pivoting:this.isPivotActive(),valueCols:this.getSelectedValueCols(),startRow:t,endRow:o},i=this.datasource.getData(n);this.chartData=i.data,this.columnNames=i.columnNames},t.prototype.resetColumnState=function(){var e=this,o=this.getAllChartColumns(),n=o.dimensionCols,r=o.valueCols,s=this.getAllColumnsFromRanges(),a=this.valueColState.length<1;this.dimensionColState=[],this.valueColState=[];var l=!1,c=1;n.forEach((function(t){var o=!l&&s.has(t);e.dimensionColState.push({column:t,colId:t.getColId(),displayName:e.getColDisplayName(t),selected:o,order:c++}),o&&(l=!0)}));var u={colId:t.DEFAULT_CATEGORY,displayName:this.chartTranslator.translate("defaultCategory"),selected:!l,order:0};this.dimensionColState.unshift(u);var d=this.referenceCellRange.columns.filter((function(e){return r.has(e)}));r.forEach((function(t){a&&i._.includes(e.referenceCellRange.columns,t)&&(t=d.shift()),e.valueColState.push({column:t,colId:t.getColId(),displayName:e.getColDisplayName(t),selected:s.has(t),order:c++})}))},t.prototype.updateColumnState=function(e){var t=function(t){return t.colId===e.colId},o=this.dimensionColState,n=this.valueColState;o.filter(t).length>0?o.forEach((function(e){return e.selected=t(e)})):n.filter(t).forEach((function(t){return t.selected=e.selected}));var i=En(o,n),r=[];i.forEach((function(t,o){o===e.order&&r.push(e.colId),t.colId!==e.colId&&r.push(t.colId)})),i.forEach((function(e){var t=r.indexOf(e.colId);e.order=t>=0?r.indexOf(e.colId):i.length-1})),this.reorderColState()},t.prototype.reorderColState=function(){var e=this.dimensionColState,t=this.valueColState;e.sort((function(e,t){return e.order-t.order})),t.sort((function(e,t){return e.order-t.order}))},t.prototype.setDimensionCellRange=function(e,o,n){var r=this;this.dimensionCellRange=void 0;var s=this.dimensionColState;if(n||s.length){var a=n;a&&e.has(a.column)||(a=this.dimensionColState.filter((function(e){return e.selected}))[0]),a&&a.colId!==t.DEFAULT_CATEGORY&&(this.dimensionCellRange=this.createCellRange(i.CellRangeType.DIMENSION,a.column))}else e.forEach((function(e){!r.dimensionCellRange&&o.has(e)&&(r.dimensionCellRange=r.createCellRange(i.CellRangeType.DIMENSION,e))}))},t.prototype.setValueCellRange=function(e,t,o){this.valueCellRange=void 0;var n=[];if(e.forEach((function(e){o&&o.colId===e.getColId()?o.selected&&n.push(o.column):t.has(e)&&n.push(e)})),n.length>0){var r=[];this.valueColState.length>0?r=this.valueColState.map((function(e){return e.colId})):t.forEach((function(e){return r.push(e.getColId())})),n.sort((function(e,t){return r.indexOf(e.getColId())-r.indexOf(t.getColId())})),this.valueCellRange=this.createCellRange.apply(this,En([i.CellRangeType.VALUE],n))}},t.DEFAULT_CATEGORY="AG-GRID-DEFAULT-CATEGORY",Sn([i.Autowired("columnController")],t.prototype,"columnController",void 0),Sn([i.Autowired("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),Sn([i.Autowired("valueService")],t.prototype,"valueService",void 0),Sn([i.Autowired("rangeController")],t.prototype,"rangeController",void 0),Sn([i.Autowired("rowRenderer")],t.prototype,"rowRenderer",void 0),Sn([i.Autowired("chartTranslator")],t.prototype,"chartTranslator",void 0),Sn([i.PostConstruct],t.prototype,"init",null),t}(i.BeanStub),Pn=function(){function e(e,t,o,n){void 0===e&&(e=0),void 0===t&&(t=e),void 0===o&&(o=e),void 0===n&&(n=t),this.top=e,this.right=t,this.bottom=o,this.left=n}return e.prototype.clear=function(){this.top=this.right=this.bottom=this.left=0},e}(),On=function(){function e(e,t,o,n){this.x=e,this.y=t,this.width=o,this.height=n}return e.prototype.isValid=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},e.prototype.dilate=function(e){this.x-=e,this.y-=e,this.width+=2*e,this.height+=2*e},e.prototype.containsPoint=function(e,t){return e>=this.x&&e<=this.x+this.width&&t>=this.y&&t<=this.y+this.height},e.prototype.render=function(t,o){void 0===o&&(o=e.noParams),t.save(),o.resetTransform&&t.setTransform(1,0,0,1,0,0),t.strokeStyle=o.strokeStyle||"cyan",t.lineWidth=o.lineWidth||1,t.strokeRect(this.x,this.y,this.width,this.height),o.label&&(t.fillStyle=o.fillStyle||"black",t.textBaseline="bottom",t.fillText(o.label,this.x,this.y)),t.restore()},e.noParams={},e}(),xn=function(){function e(e){void 0===e&&(e=[1,0,0,1,0,0]),this.elements=e}return e.prototype.setElements=function(e){var t=this.elements;return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],this},e.prototype.setIdentityElements=function(){var e=this.elements;return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,this},Object.defineProperty(e.prototype,"identity",{get:function(){var e=this.elements;return 1===e[0]&&0===e[1]&&0===e[2]&&1===e[3]&&0===e[4]&&0===e[5]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"a",{get:function(){return this.elements[0]},set:function(e){this.elements[0]=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"b",{get:function(){return this.elements[1]},set:function(e){this.elements[1]=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"c",{get:function(){return this.elements[2]},set:function(e){this.elements[2]=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"d",{get:function(){return this.elements[3]},set:function(e){this.elements[3]=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"e",{get:function(){return this.elements[4]},set:function(e){this.elements[4]=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"f",{get:function(){return this.elements[5]},set:function(e){this.elements[5]=e},enumerable:!0,configurable:!0}),e.prototype.AxB=function(e,t,o){var n=e[0],i=e[1],r=e[2],s=e[3],a=e[4],l=e[5],c=t[0],u=t[1],d=t[2],h=t[3],p=t[4],g=t[5];(o=o||e)[0]=n*c+r*u,o[1]=i*c+s*u,o[2]=n*d+r*h,o[3]=i*d+s*h,o[4]=n*p+r*g+a,o[5]=i*p+s*g+l},e.prototype.multiplySelf=function(e){return this.AxB(this.elements,e.elements),this},e.prototype.multiply=function(t){var o=new Array(6);return this.AxB(this.elements,t.elements,o),new e(o)},e.prototype.preMultiplySelf=function(e){return this.AxB(e.elements,this.elements,this.elements),this},e.prototype.inverse=function(){var t=this.elements,o=t[0],n=t[1],i=t[2],r=t[3],s=t[4],a=t[5],l=1/(o*r-n*i);return new e([r*=l,-(n*=l),-(i*=l),o*=l,i*a-r*s,n*s-o*a])},e.prototype.inverseTo=function(e){var t=this.elements,o=t[0],n=t[1],i=t[2],r=t[3],s=t[4],a=t[5],l=1/(o*r-n*i);return o*=l,n*=l,i*=l,r*=l,e.setElements([r,-n,-i,o,i*a-r*s,n*s-o*a]),this},e.prototype.invertSelf=function(){var e=this.elements,t=e[0],o=e[1],n=e[2],i=e[3],r=e[4],s=e[5],a=1/(t*i-o*n);return t*=a,o*=a,n*=a,i*=a,e[0]=i,e[1]=-o,e[2]=-n,e[3]=t,e[4]=n*s-i*r,e[5]=o*r-t*s,this},e.prototype.clone=function(){return new e(this.elements.slice())},e.prototype.transformPoint=function(e,t){var o=this.elements;return{x:e*o[0]+t*o[2]+o[4],y:e*o[1]+t*o[3]+o[5]}},e.prototype.transformBBox=function(e,t,o){void 0===t&&(t=0);var n,i,r=this.elements,s=r[0],a=r[1],l=r[2],c=r[3],u=.5*e.width,d=.5*e.height,h=e.x+u,p=e.y+d;if(t){u-=t,d-=t;var g=Math.sqrt(s*s+l*l),f=Math.sqrt(a*a+c*c);n=Math.abs(u*s)+Math.abs(d*l)+Math.abs(g*t),i=Math.abs(u*a)+Math.abs(d*c)+Math.abs(f*t)}else n=Math.abs(u*s)+Math.abs(d*l),i=Math.abs(u*a)+Math.abs(d*c);return o||(o=new On(0,0,0,0)),o.x=h*s+p*l+r[4]-n,o.y=h*a+p*c+r[5]-i,o.width=n+n,o.height=i+i,o},e.prototype.toContext=function(e){if(!this.identity){var t=this.elements;e.transform(t[0],t[1],t[2],t[3],t[4],t[5])}},e.flyweight=function(t){return t?t instanceof e?e.matrix.setElements(t.elements):e.matrix.setElements(t):e.matrix.setIdentityElements(),e.matrix},e.matrix=new e,e}();function Tn(e){var t=e.constructor,o=t.className;if(!o)throw new Error("The "+t+" is missing the 'className' property.");return o+"-"+(t.id=(t.id||0)+1)}!function(e){e[e.All=0]="All",e[e.None=1]="None"}(on||(on={}));var Dn=function(){function e(){this.id=Tn(this),this.tag=NaN,this.isContainerNode=!1,this._children=[],this.childSet={},this.matrix=new xn,this.inverseMatrix=new xn,this._dirtyTransform=!1,this._scalingX=1,this._scalingY=1,this._scalingCenterX=null,this._scalingCenterY=null,this._rotationCenterX=null,this._rotationCenterY=null,this._rotation=0,this._translationX=0,this._translationY=0,this._dirty=!0,this._visible=!0,this.pointerEvents=on.All}return e.isNode=function(e){return!!e&&void 0!==e.matrix},e.prototype._setScene=function(e){this._scene=e;for(var t=this.children,o=t.length,n=0;n<o;n++)t[n]._setScene(e)},Object.defineProperty(e.prototype,"scene",{get:function(){return this._scene},enumerable:!0,configurable:!0}),e.prototype._setParent=function(e){this._parent=e},Object.defineProperty(e.prototype,"parent",{get:function(){return this._parent},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"children",{get:function(){return this._children},enumerable:!0,configurable:!0}),e.prototype.countChildren=function(t){if(void 0===t&&(t=e.MAX_SAFE_INTEGER),t<=0)return 0;for(var o=this.children,n=o.length,i=n,r=0;r<n;r++)i+=o[r].countChildren(t-1);return i},e.prototype.append=function(t){e.isNode(t)&&(t=[t]);for(var o=t.length,n=0;n<o;n++){var i=t[n];if(i.parent)throw new Error(i+" already belongs to another parent: "+i.parent+".");if(i.scene)throw new Error(i+" already belongs a scene: "+i.scene+".");if(this.childSet[i.id])throw new Error("Duplicate "+i.constructor.name+" node: "+i);this._children.push(i),this.childSet[i.id]=!0,i._setParent(this),i._setScene(this.scene)}this.dirty=!0},e.prototype.appendChild=function(e){if(e.parent)throw new Error(e+" already belongs to another parent: "+e.parent+".");if(e.scene)throw new Error(e+" already belongs a scene: "+e.scene+".");if(this.childSet[e.id])throw new Error("Duplicate "+e.constructor.name+" node: "+e);return this._children.push(e),this.childSet[e.id]=!0,e._setParent(this),e._setScene(this.scene),this.dirty=!0,e},e.prototype.removeChild=function(e){if(e.parent===this){var t=this.children.indexOf(e);if(t>=0)return this._children.splice(t,1),delete this.childSet[e.id],e._setParent(void 0),e._setScene(void 0),this.dirty=!0,e}throw new Error("The node to be removed is not a child of this node.")},e.prototype.insertBefore=function(e,t){var o=e.parent;if(e.parent&&e.parent.removeChild(e),t&&t.parent===this){var n=this.children.indexOf(t);if(!(n>=0))throw new Error(t+" has "+o+" as the parent, but is not in its list of children.");this._children.splice(n,0,e),this.childSet[e.id]=!0,e._setParent(this),e._setScene(this.scene),this.dirty=!0}else this.append(e);return e},Object.defineProperty(e.prototype,"nextSibling",{get:function(){var e=this.parent;if(e){var t=e.children,o=t.indexOf(this);if(o>=0&&o<=t.length-1)return t[o+1]}},enumerable:!0,configurable:!0}),e.prototype.transformPoint=function(e,t){for(var o=xn.flyweight(this.matrix),n=this.parent;n;)o.preMultiplySelf(n.matrix),n=n.parent;return o.invertSelf().transformPoint(e,t)},e.prototype.inverseTransformPoint=function(e,t){for(var o=xn.flyweight(this.matrix),n=this.parent;n;)o.preMultiplySelf(n.matrix),n=n.parent;return o.transformPoint(e,t)},Object.defineProperty(e.prototype,"dirtyTransform",{get:function(){return this._dirtyTransform},set:function(e){this._dirtyTransform=e,e&&(this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scalingX",{get:function(){return this._scalingX},set:function(e){this._scalingX!==e&&(this._scalingX=e,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scalingY",{get:function(){return this._scalingY},set:function(e){this._scalingY!==e&&(this._scalingY=e,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scalingCenterX",{get:function(){return this._scalingCenterX},set:function(e){this._scalingCenterX!==e&&(this._scalingCenterX=e,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scalingCenterY",{get:function(){return this._scalingCenterY},set:function(e){this._scalingCenterY!==e&&(this._scalingCenterY=e,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rotationCenterX",{get:function(){return this._rotationCenterX},set:function(e){this._rotationCenterX!==e&&(this._rotationCenterX=e,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rotationCenterY",{get:function(){return this._rotationCenterY},set:function(e){this._rotationCenterY!==e&&(this._rotationCenterY=e,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rotation",{get:function(){return this._rotation},set:function(e){this._rotation!==e&&(this._rotation=e,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rotationDeg",{get:function(){return this.rotation/Math.PI*180},set:function(e){this.rotation=e/180*Math.PI},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"translationX",{get:function(){return this._translationX},set:function(e){this._translationX!==e&&(this._translationX=e,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"translationY",{get:function(){return this._translationY},set:function(e){this._translationY!==e&&(this._translationY=e,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),e.prototype.containsPoint=function(e,t){return!1},e.prototype.pickNode=function(e,t){if(this.visible&&this.pointerEvents!==on.None&&this.containsPoint(e,t)){var o=this.children;if(o.length)for(var n=o.length-1;n>=0;n--){var i=o[n].pickNode(e,t);if(i)return i}else if(!this.isContainerNode)return this}},e.prototype.computeBBox=function(){},e.prototype.computeBBoxCenter=function(){var e=this.computeBBox&&this.computeBBox();return e?[e.x+.5*e.width,e.y+.5*e.height]:[0,0]},e.prototype.computeTransformMatrix=function(){var e,t,o=[0,0],n=o[0],i=o[1],r=this.scalingX,s=this.scalingY;1===r&&1===s?(e=0,t=0):(e=null===this.scalingCenterX?n:this.scalingCenterX,t=null===this.scalingCenterY?i:this.scalingCenterY);var a,l,c=this.rotation,u=Math.cos(c),d=Math.sin(c);0===c?(a=0,l=0):(a=null===this.rotationCenterX?n:this.rotationCenterX,l=null===this.rotationCenterY?i:this.rotationCenterY);var h=this.translationX,p=this.translationY,g=e*(1-r)-a,f=t*(1-s)-l;this.dirtyTransform=!1,this.matrix.setElements([u*r,d*r,-d*s,u*s,u*g-d*f+a+h,d*g+u*f+l+p]).inverseTo(this.inverseMatrix)},Object.defineProperty(e.prototype,"dirty",{get:function(){return this._dirty},set:function(e){this._dirty=e,e&&(this.parent?this.parent.dirty=!0:this.scene&&(this.scene.dirty=!0))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"visible",{get:function(){return this._visible},set:function(e){this._visible!==e&&(this._visible=e,this.dirty=!0)},enumerable:!0,configurable:!0}),e.MAX_SAFE_INTEGER=Math.pow(2,53)-1,e}();function An(e,t){var o=Object.create(e);for(var n in t)t.hasOwnProperty(n)&&(o[n]=t[n]);return o}var Fn=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),_n=function(e){function t(){var o=null!==e&&e.apply(this,arguments)||this;return o.lastInstanceId=0,o._fillOpacity=1,o._strokeOpacity=1,o._fill=t.defaultStyles.fill,o._stroke=t.defaultStyles.stroke,o._strokeWidth=t.defaultStyles.strokeWidth,o._lineDash=t.defaultStyles.lineDash,o._lineDashOffset=t.defaultStyles.lineDashOffset,o._lineCap=t.defaultStyles.lineCap,o._lineJoin=t.defaultStyles.lineJoin,o._opacity=t.defaultStyles.opacity,o.onShadowChange=function(){o.dirty=!0},o._fillShadow=t.defaultStyles.fillShadow,o._strokeShadow=t.defaultStyles.strokeShadow,o}return Fn(t,e),t.createInstance=function(e){var t=Object.create(e);return t._setParent(void 0),t.id=e.id+"-Instance-"+String(++e.lastInstanceId),t},t.prototype.restoreOwnStyles=function(){for(var e=this.constructor.defaultStyles,t=Object.getOwnPropertyNames(e),o=0,n=t.length;o<n;o++){var i=t[o];this[i]=e[i]}},t.prototype.restoreAllStyles=function(){var e=this.constructor.defaultStyles;for(var t in e)this[t]=e[t]},t.prototype.restoreOverriddenStyles=function(){var e=this.constructor.defaultStyles,t=Object.getPrototypeOf(e);for(var o in e)e.hasOwnProperty(o)&&t.hasOwnProperty(o)&&(this[o]=e[o])},Object.defineProperty(t.prototype,"fillOpacity",{get:function(){return this._fillOpacity},set:function(e){this._fillOpacity!==e&&(this._fillOpacity=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokeOpacity",{get:function(){return this._strokeOpacity},set:function(e){this._strokeOpacity!==e&&(this._strokeOpacity=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fill",{get:function(){return this._fill},set:function(e){this._fill!==e&&(this._fill=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"stroke",{get:function(){return this._stroke},set:function(e){this._stroke!==e&&(this._stroke=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokeWidth",{get:function(){return this._strokeWidth},set:function(e){this._strokeWidth!==e&&(this._strokeWidth=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"alignment",{get:function(){return Math.floor(this.strokeWidth)%2/2},enumerable:!0,configurable:!0}),t.prototype.align=function(e,t,o){return void 0!=o?Math.floor(o)+Math.floor(t%1+o%1):Math.floor(t)+e},Object.defineProperty(t.prototype,"lineDash",{get:function(){return this._lineDash},set:function(e){var t=this._lineDash;if(t!==e){if(t&&e&&t.length===e.length){for(var o=!0,n=e.length,i=0;i<n;i++)if(t[i]!==e[i]){o=!1;break}if(o)return}this._lineDash=e,this.dirty=!0}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lineDashOffset",{get:function(){return this._lineDashOffset},set:function(e){this._lineDashOffset!==e&&(this._lineDashOffset=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lineCap",{get:function(){return this._lineCap},set:function(e){this._lineCap!==e&&(this._lineCap=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lineJoin",{get:function(){return this._lineJoin},set:function(e){this._lineJoin!==e&&(this._lineJoin=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"opacity",{get:function(){return this._opacity},set:function(e){e=Math.min(1,Math.max(0,e)),this._opacity!==e&&(this._opacity=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fillShadow",{get:function(){return this._fillShadow},set:function(e){var t=this._fillShadow;t!==e&&(t&&t.removeEventListener("change",this.onShadowChange),e&&e.addEventListener("change",this.onShadowChange),this._fillShadow=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokeShadow",{get:function(){return this._strokeShadow},set:function(e){var t=this._strokeShadow;t!==e&&(t&&t.removeEventListener("change",this.onShadowChange),e&&e.addEventListener("change",this.onShadowChange),this._strokeShadow=e,this.dirty=!0)},enumerable:!0,configurable:!0}),t.prototype.fillStroke=function(e){var t=this.scene.canvas.pixelRatio||1;if(this.fill){e.fillStyle=this.fill,e.globalAlpha=this.opacity*this.fillOpacity;var o=this.fillShadow;o&&o.enabled&&(e.shadowColor=o.color,e.shadowOffsetX=o.xOffset*t,e.shadowOffsetY=o.yOffset*t,e.shadowBlur=o.blur*t),e.fill()}if(e.shadowColor="rgba(0, 0, 0, 0)",this.stroke&&this.strokeWidth){e.strokeStyle=this.stroke,e.globalAlpha=this.opacity*this.strokeOpacity,e.lineWidth=this.strokeWidth,this.lineDash&&e.setLineDash(this.lineDash),this.lineDashOffset&&(e.lineDashOffset=this.lineDashOffset),this.lineCap&&(e.lineCap=this.lineCap),this.lineJoin&&(e.lineJoin=this.lineJoin);var n=this.strokeShadow;n&&n.enabled&&(e.shadowColor=n.color,e.shadowOffsetX=n.xOffset*t,e.shadowOffsetY=n.yOffset*t,e.shadowBlur=n.blur*t),e.stroke()}},t.prototype.containsPoint=function(e,t){return this.isPointInPath(e,t)},t.defaultStyles=An({},{fill:"black",stroke:void 0,strokeWidth:0,lineDash:void 0,lineDashOffset:0,lineCap:void 0,lineJoin:void 0,opacity:1,fillShadow:void 0,strokeShadow:void 0}),t}(Dn),Mn=function(){function e(e,t,o){void 0===e&&(e=window.document),void 0===t&&(t=600),void 0===o&&(o=300),this._container=void 0,this._pixelRatio=NaN,this.document=e,this.element=e.createElement("canvas"),this.context=this.element.getContext("2d"),this.element.style.userSelect="none",this.element.style.display="block",this.setPixelRatio(),this.resize(t,o)}return Object.defineProperty(e.prototype,"container",{get:function(){return this._container},set:function(e){this._container!==e&&(this.remove(),e&&e.appendChild(this.element),this._container=e)},enumerable:!0,configurable:!0}),e.prototype.remove=function(){var e=this.element.parentNode;null!=e&&e.removeChild(this.element)},e.prototype.destroy=function(){this.element.remove(),this._canvas=void 0,Object.freeze(this)},e.prototype.toImage=function(){var e=this.document.createElement("img");return e.src=this.getDataURL(),e},e.prototype.getDataURL=function(e){return this.element.toDataURL(e)},e.prototype.download=function(e){e=((e||"").trim()||"image")+".png";var t="image/png",o=this.getDataURL(t),n=this.document;if(navigator.msSaveOrOpenBlob){for(var i=atob(o.split(",")[1]),r=[],s=0,a=i.length;s<a;s++)r.push(i.charCodeAt(s));var l=new Blob([new Uint8Array(r)],{type:t});navigator.msSaveOrOpenBlob(l,e)}else{var c=n.createElement("a");c.href=o,c.download=e,c.style.display="none",n.body.appendChild(c),c.click(),n.body.removeChild(c)}},Object.defineProperty(e.prototype,"pixelRatio",{get:function(){return this._pixelRatio},enumerable:!0,configurable:!0}),e.prototype.setPixelRatio=function(t){var o=t||window.devicePixelRatio;o!==this.pixelRatio&&(e.overrideScale(this.context,o),this._pixelRatio=o,this.resize(this.width,this.height))},Object.defineProperty(e.prototype,"pixelated",{get:function(){return"pixelated"===this.element.style.imageRendering},set:function(e){this.element.style.imageRendering=e?"pixelated":"auto"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this._width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},enumerable:!0,configurable:!0}),e.prototype.resize=function(e,t){var o=this,n=o.element,i=o.context,r=o.pixelRatio;n.width=Math.round(e*r),n.height=Math.round(t*r),n.style.width=e+"px",n.style.height=t+"px",i.resetTransform(),this._width=e,this._height=t},Object.defineProperty(e,"textMeasuringContext",{get:function(){if(this._textMeasuringContext)return this._textMeasuringContext;var e=document.createElement("canvas");return this._textMeasuringContext=e.getContext("2d")},enumerable:!0,configurable:!0}),Object.defineProperty(e,"svgText",{get:function(){if(this._svgText)return this._svgText;var e="http://www.w3.org/2000/svg",t=document.createElementNS(e,"svg");t.setAttribute("width","100"),t.setAttribute("height","100"),t.classList?t.classList.add("text-measuring-svg"):t.setAttribute("class","text-measuring-svg"),t.style.position="absolute",t.style.top="-1000px",t.style.visibility="hidden";var o=document.createElementNS(e,"text");return o.setAttribute("x","0"),o.setAttribute("y","30"),o.setAttribute("text","black"),t.appendChild(o),document.body.appendChild(t),this._svgText=o,o},enumerable:!0,configurable:!0}),Object.defineProperty(e,"has",{get:function(){return this._has?this._has:this._has=Object.freeze({textMetrics:void 0!==this.textMeasuringContext.measureText("test").actualBoundingBoxDescent&&!/Firefox\/\d+(.\d)+/.test(window.navigator.userAgent),getTransform:void 0!==this.textMeasuringContext.getTransform})},enumerable:!0,configurable:!0}),e.measureText=function(e,t,o,n){var i=this.textMeasuringContext;return i.font=t,i.textBaseline=o,i.textAlign=n,i.measureText(e)},e.getTextSize=function(e,t){if(this.has.textMetrics){var o=this.textMeasuringContext;o.font=t;var n=o.measureText(e);return{width:n.width,height:n.actualBoundingBoxAscent+n.actualBoundingBoxDescent}}return this.measureSvgText(e,t)},e.measureSvgText=function(e,t){var o=this.textSizeCache,n=o[t];if(n){var i=n[e];if(i)return i}else o[t]={};var r=this.svgText;r.style.font=t,r.textContent=e;var s=r.getBBox(),a={width:s.width,height:s.height};return o[t][e]=a,a},e.overrideScale=function(e,t){var o=0,n={save:function(){this.$save(),o++},restore:function(){o>0&&(this.$restore(),o--)},setTransform:function(e,o,n,i,r,s){this.$setTransform(e*t,o*t,n*t,i*t,r*t,s*t)},resetTransform:function(){this.$setTransform(t,0,0,t,0,0),this.save(),o=0}};for(var i in n)n.hasOwnProperty(i)&&(e["$"+i]||(e["$"+i]=e[i]),e[i]=n[i])},e.textSizeCache={},e}(),In=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Ln=function(e){function t(){var o=null!==e&&e.apply(this,arguments)||this;return o._x=0,o._y=0,o.lineBreakRegex=/\r?\n/g,o.lines=[],o._text="",o._dirtyFont=!0,o._fontSize=10,o._fontFamily="sans-serif",o._textAlign=t.defaultStyles.textAlign,o._textBaseline=t.defaultStyles.textBaseline,o._lineHeight=14,o}return In(t,e),Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(e){this._x!==e&&(this._x=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(e){this._y!==e&&(this._y=e,this.dirty=!0)},enumerable:!0,configurable:!0}),t.prototype.splitText=function(){this.lines=this._text.split(this.lineBreakRegex)},Object.defineProperty(t.prototype,"text",{get:function(){return this._text},set:function(e){var t=String(e);this._text!==t&&(this._text=t,this.splitText(),this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"font",{get:function(){return this.dirtyFont&&(this.dirtyFont=!1,this._font=[this.fontStyle||"",this.fontWeight||"",this.fontSize+"px",this.fontFamily].join(" ").trim()),this._font},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dirtyFont",{get:function(){return this._dirtyFont},set:function(e){this._dirtyFont!==e&&(this._dirtyFont=e,e&&(this.dirty=!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontStyle",{get:function(){return this._fontStyle},set:function(e){this._fontStyle!==e&&(this._fontStyle=e,this.dirtyFont=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontWeight",{get:function(){return this._fontWeight},set:function(e){this._fontWeight!==e&&(this._fontWeight=e,this.dirtyFont=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontSize",{get:function(){return this._fontSize},set:function(e){isFinite(e)||(e=10),this._fontSize!==e&&(this._fontSize=e,this.dirtyFont=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontFamily",{get:function(){return this._fontFamily},set:function(e){this._fontFamily!==e&&(this._fontFamily=e,this.dirtyFont=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"textAlign",{get:function(){return this._textAlign},set:function(e){this._textAlign!==e&&(this._textAlign=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"textBaseline",{get:function(){return this._textBaseline},set:function(e){this._textBaseline!==e&&(this._textBaseline=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lineHeight",{get:function(){return this._lineHeight},set:function(e){this._lineHeight!==e&&(this._lineHeight=e,this.dirty=!0)},enumerable:!0,configurable:!0}),t.prototype.computeBBox=function(){return Mn.has.textMetrics?this.getPreciseBBox():this.getApproximateBBox()},t.prototype.getPreciseBBox=function(){var e=Mn.measureText(this.text,this.font,this.textBaseline,this.textAlign);return new On(this.x-e.actualBoundingBoxLeft,this.y-e.actualBoundingBoxAscent,e.width,e.actualBoundingBoxAscent+e.actualBoundingBoxDescent)},t.prototype.getApproximateBBox=function(){var e=Mn.getTextSize(this.text,this.font),t=this.x,o=this.y;switch(this.textAlign){case"end":case"right":t-=e.width;break;case"center":t-=e.width/2}switch(this.textBaseline){case"alphabetic":o-=.7*e.height;break;case"middle":o-=.45*e.height;break;case"ideographic":case"bottom":o-=e.height;break;case"hanging":o-=.2*e.height}return new On(t,o,e.width,e.height)},t.prototype.isPointInPath=function(e,t){var o=this.transformPoint(e,t),n=this.computeBBox();return!!n&&n.containsPoint(o.x,o.y)},t.prototype.isPointInStroke=function(e,t){return!1},t.prototype.render=function(e){if(this.lines.length){this.dirtyTransform&&this.computeTransformMatrix(),this.matrix.toContext(e);var t=this,o=t.fill,n=t.stroke,i=t.strokeWidth;e.font=this.font,e.textAlign=this.textAlign,e.textBaseline=this.textBaseline;var r=this.scene.canvas.pixelRatio||1;if(o){e.fillStyle=o,e.globalAlpha=this.opacity*this.fillOpacity;var s=this,a=s.fillShadow,l=s.text,c=s.x,u=s.y;a&&a.enabled&&(e.shadowColor=a.color,e.shadowOffsetX=a.xOffset*r,e.shadowOffsetY=a.yOffset*r,e.shadowBlur=a.blur*r),e.fillText(l,c,u)}if(n&&i){e.strokeStyle=n,e.lineWidth=i,e.globalAlpha=this.opacity*this.strokeOpacity;var d=this,h=d.lineDash,p=d.lineDashOffset,g=d.lineCap,f=d.lineJoin,m=d.strokeShadow;l=d.text,c=d.x,u=d.y;h&&e.setLineDash(h),p&&(e.lineDashOffset=p),g&&(e.lineCap=g),f&&(e.lineJoin=f),m&&m.enabled&&(e.shadowColor=m.color,e.shadowOffsetX=m.xOffset*r,e.shadowOffsetY=m.yOffset*r,e.shadowBlur=m.blur*r),e.strokeText(l,c,u)}this.dirty=!1}},t.className="Text",t.defaultStyles=An(_n.defaultStyles,{textAlign:"start",fontStyle:void 0,fontWeight:void 0,fontSize:10,fontFamily:"sans-serif",textBaseline:"alphabetic"}),t}(_n),Nn=function(){return Nn=Object.assign||function(e){for(var t,o=1,n=arguments.length;o<n;o++)for(var i in t=arguments[o])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Nn.apply(this,arguments)},kn=function(){function e(){this.allPropertyListeners=new Map,this.allEventListeners=new Map}return e.prototype.addPropertyListener=function(e,t,o){void 0===o&&(o=this);var n=this.allPropertyListeners,i=n.get(e);if(i||(i=new Map,n.set(e,i)),!i.has(t)){var r=new Set;i.set(t,r)}i.get(t).add(o)},e.prototype.removePropertyListener=function(e,t,o){void 0===o&&(o=this);var n=this.allPropertyListeners.get(e);if(n)if(t){var i=n.get(t);i.delete(o),i.size||n.delete(t)}else n.clear()},e.prototype.notifyPropertyListeners=function(e,t,o){var n=this,i=this.allPropertyListeners.get(e);i&&i.forEach((function(i,r){i.forEach((function(i){return r.call(i,{type:e,source:n,value:o,oldValue:t})}))}))},e.prototype.addEventListener=function(e,t,o){void 0===o&&(o=this);var n=this.allEventListeners,i=n.get(e);if(i||(i=new Map,n.set(e,i)),!i.has(t)){var r=new Set;i.set(t,r)}i.get(t).add(o)},e.prototype.removeEventListener=function(e,t,o){void 0===o&&(o=this);var n=this.allEventListeners.get(e);if(n)if(t){var i=n.get(t);i.delete(o),i.size||n.delete(t)}else n.clear()},e.prototype.notifyEventListeners=function(e){var t=this,o=this.allEventListeners;e.forEach((function(e){var n=o.get(e);n&&n.forEach((function(o,n){o.forEach((function(o){return n.call(o,{type:e,source:t})}))}))}))},e.prototype.fireEvent=function(e){var t=this,o=this.allEventListeners.get(e.type);o&&o.forEach((function(o,n){o.forEach((function(o){return n.call(o,Nn(Nn({},e),{source:t}))}))}))},e.privateKeyPrefix="_",e}();function Gn(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t,o){var n=kn.privateKeyPrefix+o,i=n+"Events";t[o]||(e&&(t[i]=e),Object.defineProperty(t,o,{set:function(e){var t;if((t=this[n])!==e||"object"===typeof e&&null!==e){this[n]=e,this.notifyPropertyListeners(o,t,e);var r=this[i];r&&this.notifyEventListeners(r)}},get:function(){return this[n]},enumerable:!0,configurable:!0}))}}var Vn=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Hn=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Bn=function(e){function t(){var t=e.call(this)||this;t.node=new Ln,t.enabled=!0,t.padding=new Pn(10);var o=t.node;return o.textAlign="center",o.textBaseline="top",o.pointerEvents=on.None,t}return Vn(t,e),Object.defineProperty(t.prototype,"text",{get:function(){return this.node.text},set:function(e){this.node.text!==e&&(this.node.text=e,this.fireEvent({type:"change"}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontStyle",{get:function(){return this.node.fontStyle},set:function(e){this.node.fontStyle!==e&&(this.node.fontStyle=e,this.fireEvent({type:"change"}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontWeight",{get:function(){return this.node.fontWeight},set:function(e){this.node.fontWeight!==e&&(this.node.fontWeight=e,this.fireEvent({type:"change"}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontSize",{get:function(){return this.node.fontSize},set:function(e){this.node.fontSize!==e&&(this.node.fontSize=e,this.fireEvent({type:"change"}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontFamily",{get:function(){return this.node.fontFamily},set:function(e){this.node.fontFamily!==e&&(this.node.fontFamily=e,this.fireEvent({type:"change"}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){return this.node.fill},set:function(e){this.node.fill!==e&&(this.node.fill=e,this.fireEvent({type:"change"}))},enumerable:!0,configurable:!0}),Hn([Gn("change")],t.prototype,"enabled",void 0),Hn([Gn("change")],t.prototype,"padding",void 0),t}(kn),Wn=function(){function e(){this.index=new Map,this.ordinalRange=[],this._domain=[],this._range=[0,1],this._bandwidth=1,this._paddingInner=0,this._paddingOuter=0,this._round=!1,this._align=.5}return Object.defineProperty(e.prototype,"domain",{get:function(){return this._domain},set:function(e){var t=this._domain;t.length=0,this.index=new Map;var o=this.index;e.forEach((function(e){void 0===o.get(e)&&o.set(e,t.push(e)-1)})),this.rescale()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"range",{get:function(){return this._range},set:function(e){this._range[0]=e[0],this._range[1]=e[1],this.rescale()},enumerable:!0,configurable:!0}),e.prototype.ticks=function(){return this._domain},e.prototype.convert=function(e){var t=this.index.get(e);if(void 0===t)return NaN;var o=this.ordinalRange[t];return void 0===o?NaN:o},Object.defineProperty(e.prototype,"bandwidth",{get:function(){return this._bandwidth},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"padding",{get:function(){return this._paddingInner},set:function(e){e=Math.max(0,Math.min(1,e)),this._paddingInner=e,this._paddingOuter=e,this.rescale()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"paddingInner",{get:function(){return this._paddingInner},set:function(e){this._paddingInner=Math.max(0,Math.min(1,e)),this.rescale()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"paddingOuter",{get:function(){return this._paddingOuter},set:function(e){this._paddingOuter=Math.max(0,Math.min(1,e)),this.rescale()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"round",{get:function(){return this._round},set:function(e){this._round=e,this.rescale()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"align",{get:function(){return this._align},set:function(e){this._align=Math.max(0,Math.min(1,e)),this.rescale()},enumerable:!0,configurable:!0}),e.prototype.rescale=function(){var e,t=this._domain.length;if(t){var o=this._range,n=o[0],i=o[1],r=i<n;r&&(n=(e=[i,n])[0],i=e[1]);var s=(i-n)/Math.max(1,t-this._paddingInner+2*this._paddingOuter);this._round&&(s=Math.floor(s)),n+=(i-n-s*(t-this._paddingInner))*this._align,this._bandwidth=s*(1-this._paddingInner),this._round&&(n=Math.round(n),this._bandwidth=Math.round(this._bandwidth));for(var a=[],l=0;l<t;l++)a.push(n+s*l);this.ordinalRange=r?a.reverse():a}},e}(),jn=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),zn=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isContainerNode=!0,t}return jn(t,e),t.prototype.containsPoint=function(e,t){return!0},t.prototype.computeBBox=function(){var e=1/0,o=-1/0,n=1/0,i=-1/0;return this.dirtyTransform&&this.computeTransformMatrix(),this.children.forEach((function(r){if(r.visible){var s=r.computeBBox();if(s){if(!(r instanceof t)){r.dirtyTransform&&r.computeTransformMatrix();for(var a=xn.flyweight(r.matrix),l=r.parent;l;)a.preMultiplySelf(l.matrix),l=l.parent;a.transformBBox(s,0,s)}var c=s.x,u=s.y;c<e&&(e=c),u<n&&(n=u),c+s.width>o&&(o=c+s.width),u+s.height>i&&(i=u+s.height)}}})),new On(e,n,o-e,i-n)},t.prototype.render=function(e){this.dirtyTransform&&this.computeTransformMatrix(),this.matrix.toContext(e);for(var t=this.children,o=t.length,n=0;n<o;n++){e.save();var i=t[n];i.visible&&i.render(e),e.restore()}},t.className="Group",t}(Dn),Un=function(){function e(e,t){this.next=null,this.scene=e.scene,this.parent=e,this.datum=t}return e.prototype.appendChild=function(e){if(null===this.next)return this.parent.insertBefore(e,null);if(!Dn.isNode(this.next))throw new Error(this.next+" is not a Node.");return this.parent.insertBefore(e,this.next)},e.prototype.insertBefore=function(e,t){return this.parent.insertBefore(e,t)},e}(),$n=function(){function e(e,t){this.groups=e,this.parents=t}return e.select=function(t){return new e([["function"===typeof t?t():t]],[void 0])},e.selectAll=function(t){return new e([null==t?[]:t],[void 0])},e.prototype.append=function(e){return this.select((function(t){return t.appendChild(new e)}))},e.prototype.appendFn=function(e){return this.select((function(t,o,n,i){return t.appendChild(e(t,o,n,i))}))},e.prototype.select=function(t){for(var o=this.groups,n=o.length,i=[],r=0;r<n;r++)for(var s=o[r],a=s.length,l=i[r]=new Array(a),c=0;c<a;c++){var u=s[c];if(u){var d=t(u,u.datum,c,s);d&&(d.datum=u.datum),l[c]=d}}return new e(i,this.parents)},e.prototype.selectByClass=function(e){return this.select((function(t){if(Dn.isNode(t))for(var o=t.children,n=o.length,i=0;i<n;i++){var r=o[i];if(r instanceof e)return r}}))},e.prototype.selectByTag=function(e){return this.select((function(t){if(Dn.isNode(t))for(var o=t.children,n=o.length,i=0;i<n;i++){var r=o[i];if(r.tag===e)return r}}))},e.prototype.selectAllByClass=function(e){return this.selectAll((function(t){var o=[];if(Dn.isNode(t))for(var n=t.children,i=n.length,r=0;r<i;r++){var s=n[r];s instanceof e&&o.push(s)}return o}))},e.prototype.selectAllByTag=function(e){return this.selectAll((function(t){var o=[];if(Dn.isNode(t))for(var n=t.children,i=n.length,r=0;r<i;r++){var s=n[r];s.tag===e&&o.push(s)}return o}))},e.prototype.selectNone=function(){return[]},e.prototype.selectAll=function(t){t||(t=this.selectNone);for(var o=[],n=[],i=this.groups,r=i.length,s=0;s<r;s++)for(var a=i[s],l=a.length,c=0;c<l;c++){var u=a[c];u&&(o.push(t(u,u.datum,c,a)),n.push(u))}return new e(o,n)},e.prototype.each=function(e){for(var t=this.groups,o=t.length,n=0;n<o;n++)for(var i=t[n],r=i.length,s=0;s<r;s++){var a=i[s];a&&e(a,a.datum,s,i)}return this},e.prototype.remove=function(){return this.each((function(e){if(Dn.isNode(e)){var t=e.parent;t&&t.removeChild(e)}}))},e.prototype.merge=function(t){for(var o=this.groups,n=t.groups,i=o.length,r=n.length,s=Math.min(i,r),a=new Array(i),l=0;l<s;l++)for(var c=o[l],u=n[l],d=c.length,h=a[l]=new Array(d),p=0;p<d;p++){var g=c[p]||u[p];h[p]=g||void 0}for(;l<i;l++)a[l]=o[l];return new e(a,this.parents)},e.prototype.node=function(){for(var e=this.groups,t=e.length,o=0;o<t;o++)for(var n=e[o],i=n.length,r=0;r<i;r++){var s=n[r];if(s)return s}return null},e.prototype.attr=function(e,t){return this.each((function(o){o[e]=t})),this},e.prototype.attrFn=function(e,t){return this.each((function(o,n,i,r){o[e]=t(o,n,i,r)})),this},e.prototype.call=function(e){return e(this),this},Object.defineProperty(e.prototype,"size",{get:function(){var e=0;return this.each((function(){return e++})),e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"data",{get:function(){var e=[];return this.each((function(t,o){return e.push(o)})),e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"enter",{get:function(){return new e(this.enterGroups?this.enterGroups:[[]],this.parents)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"exit",{get:function(){return new e(this.exitGroups?this.exitGroups:[[]],this.parents)},enumerable:!0,configurable:!0}),e.prototype.setDatum=function(e){return this.each((function(t){t.datum=e}))},Object.defineProperty(e.prototype,"datum",{get:function(){var e=this.node();return e?e.datum:null},enumerable:!0,configurable:!0}),e.prototype.setData=function(t,o){if("function"!==typeof t){var n=t;t=function(){return n}}for(var i=this.groups,r=this.parents,s=i.length,a=new Array(s),l=new Array(s),c=new Array(s),u=0;u<s;u++){var d=i[u],h=r[u];if(!h)throw new Error("Group #"+u+" has no parent: "+d);var p=d.length,g=t(h,h.datum,u,r),f=g.length,m=l[u]=new Array(f),v=a[u]=new Array(f),y=c[u]=new Array(p);o?this.bindKey(h,d,m,v,y,g,o):this.bindIndex(h,d,m,v,y,g);for(var C=0,w=0;C<f;C++){var b=m[C];if(b){C>=w&&(w=C+1);for(var S=void 0;!(S=v[w])&&w<f;)w++;b.next=S||null}}}var E=new e(a,r);return E.enterGroups=l,E.exitGroups=c,E},e.prototype.bindIndex=function(e,t,o,n,i,r){for(var s=t.length,a=r.length,l=0;l<a;l++){(c=t[l])?(c.datum=r[l],n[l]=c):o[l]=new Un(e,r[l])}for(;l<s;l++){var c;(c=t[l])&&(i[l]=c)}},e.prototype.bindKey=function(t,o,n,i,r,s,a){for(var l=o.length,c=s.length,u=new Array(l),d={},h=0;h<l;h++){if(g=o[h])(p=u[h]=e.keyPrefix+a(g,g.datum,h,o))in d?r[h]=g:d[p]=g}for(h=0;h<c;h++){var p;(g=d[p=e.keyPrefix+a(t,s[h],h,s)])?(i[h]=g,g.datum=s[h],d[p]=void 0):n[h]=new Un(t,s[h])}for(h=0;h<l;h++){var g;(g=o[h])&&d[u[h]]===g&&(r[h]=g)}},e.keyPrefix="$",e}(),Kn=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Yn=function(e){function t(){var t=e.call(this)||this;return t._x1=0,t._y1=0,t._x2=0,t._y2=0,t.restoreOwnStyles(),t}return Kn(t,e),Object.defineProperty(t.prototype,"x1",{get:function(){return this._x1},set:function(e){this._x1!==e&&(this._x1=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y1",{get:function(){return this._y1},set:function(e){this._y1!==e&&(this._y1=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"x2",{get:function(){return this._x2},set:function(e){this._x2!==e&&(this._x2=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y2",{get:function(){return this._y2},set:function(e){this._y2!==e&&(this._y2=e,this.dirty=!0)},enumerable:!0,configurable:!0}),t.prototype.computeBBox=function(){return new On(this.x1,this.y1,this.x2-this.x1,this.y2-this.y1)},t.prototype.isPointInPath=function(e,t){return!1},t.prototype.isPointInStroke=function(e,t){return!1},t.prototype.render=function(e){this.dirtyTransform&&this.computeTransformMatrix(),this.matrix.toContext(e);var t=this.x1,o=this.y1,n=this.x2,i=this.y2;if(t===n){var r=Math.round(t)+Math.floor(this.strokeWidth)%2/2;t=r,n=r}else if(o===i){var s=Math.round(o)+Math.floor(this.strokeWidth)%2/2;o=s,i=s}e.beginPath(),e.moveTo(t,o),e.lineTo(n,i),this.fillStroke(e),this.dirty=!1},t.className="Line",t.defaultStyles=An(_n.defaultStyles,{fill:void 0,strokeWidth:1}),t}(_n),qn=2*Math.PI;function Xn(e){return e%=qn,e+=qn,e%=qn}function Qn(e){return e/180*Math.PI}var Zn=Math.sign?Math.sign:function(e){return 0===(e=+e)||isNaN(e)?e:e>0?1:-1};function Jn(e,t,o,n){if(0===e)return function(e,t,o){if(0===e)return function(e,t){var o=-t/e;return 0!==e&&o>=0&&o<=1?[o]:[]}(t,o);var n=t*t-4*e*o,i=[];if(0===n){var r=-t/(2*e);r>=0&&r<=1&&i.push(r)}else if(n>0){var s=Math.sqrt(n),a=(-t-s)/(2*e),l=(-t+s)/(2*e);a>=0&&a<=1&&i.push(a),l>=0&&l<=1&&i.push(l)}return i}(t,o,n);var i=t/e,r=o/e,s=(3*r-i*i)/9,a=(9*i*r-27*(n/e)-2*i*i*i)/54,l=s*s*s+a*a,c=1/3,u=[];if(l>=0){var d=Math.sqrt(l),h=Zn(a+d)*Math.pow(Math.abs(a+d),c),p=Zn(a-d)*Math.pow(Math.abs(a-d),c),g=Math.abs(Math.sqrt(3)*(h-p)/2),f=-c*i+(h+p);if(f>=0&&f<=1&&u.push(f),0===g){var m=-c*i-(h+p)/2;m>=0&&m<=1&&u.push(m)}}else{var v=Math.acos(a/Math.sqrt(-s*s*s)),y=c*i,C=2*Math.sqrt(-s),w=C*Math.cos(c*v)-y,b=C*Math.cos(c*(v+2*Math.PI))-y,S=C*Math.cos(c*(v+4*Math.PI))-y;w>=0&&w<=1&&u.push(w),b>=0&&b<=1&&u.push(b),S>=0&&S<=1&&u.push(S)}return u}function ei(e,t,o,n,i,r,s,a){var l=(o-e)*(a-r)-(n-t)*(s-i);if(0===l)return null;var c=((s-i)*(t-r)-(e-i)*(a-r))/l,u=((o-e)*(t-r)-(n-t)*(e-i))/l;return c>=0&&c<=1&&u>=0&&u<=1?{x:e+c*(o-e),y:t+c*(n-t)}:null}function ti(e,t,o,n,i,r,s,a,l,c,u,d){for(var h=[],p=c-d,g=u-l,f=l*(d-c)-c*(u-l),m=oi(e,o,i,s),v=oi(t,n,r,a),y=Jn(p*m[0]+g*v[0],p*m[1]+g*v[1],p*m[2]+g*v[2],p*m[3]+g*v[3]+f),C=0;C<y.length;C++){var w=y[C],b=w*w,S=w*b,E=m[0]*S+m[1]*b+m[2]*w+m[3],R=v[0]*S+v[1]*b+v[2]*w+v[3],P=void 0;(P=l!==u?(E-l)/(u-l):(R-c)/(d-c))>=0&&P<=1&&h.push({x:E,y:R})}return h}function oi(e,t,o,n){return[3*t-e-3*o+n,3*e-6*t+3*o,-3*e+3*t,e]}var ni=function(){function e(){this.commands=[],this.params=[],this._closedPath=!1}return e.prototype.moveTo=function(e,t){this.xy?(this.xy[0]=e,this.xy[1]=t):this.xy=[e,t],this.commands.push("M"),this.params.push(e,t)},e.prototype.lineTo=function(e,t){this.xy?(this.commands.push("L"),this.params.push(e,t),this.xy[0]=e,this.xy[1]=t):this.moveTo(e,t)},e.prototype.rect=function(e,t,o,n){this.moveTo(e,t),this.lineTo(e+o,t),this.lineTo(e+o,t+n),this.lineTo(e,t+n),this.closePath()},e.prototype.arcTo=function(e,t,o,n,i,r,s){var a=this.xy;if(a){e<0&&(e=-e),t<0&&(t=-t);var l=a[0],c=a[1],u=(l-r)/2,d=(c-s)/2,h=Math.sin(o),p=Math.cos(o),g=p*u+h*d,f=-h*u+p*d,m=g/e,v=f/t,y=m*m+v*v,C=(l+r)/2,w=(c+s)/2,b=0,S=0;y>=1?(e*=y=Math.sqrt(y),t*=y):(y=Math.sqrt(1/y-1),n===i&&(y=-y),C+=p*(b=y*e*v)-h*(S=-y*t*m),w+=h*b+p*S);var E=Math.atan2((f-S)/t,(g-b)/e),R=Math.atan2((-f-S)/t,(-g-b)/e)-E;this.cubicArc(C,w,e,t,o,E,E+R,1-i)}},e.prototype.arcToAlt=function(e,t,o,n,i,r,s){if(this.xy)this.xy[0],this.xy[1]},e.cubicArc=function(e,t,o,n,i,r,s,a,l,c){if(c){var u=a;a=l,l=u}var d=t.length,h=.5522847498307935,p=Math.sin(a),g=Math.cos(a),f=Math.sin(s),m=Math.cos(s),v=Math.PI/2,y=m*g*i-f*p*r,C=f*g*i+m*p*r,w=-m*p*i-f*g*r,b=-f*p*i+m*g*r;for((l-=a)<0&&(l+=2*Math.PI),e.push("M"),t.push(y+o,C+n);l>=v;){l-=v,e.push("C");var S=w+o;t.push(y+w*h+o,C+b*h+n,y*h+w+o,C*h+b+n,Math.abs(S)<1e-8?0:S,b+n);u=y;y=w,w=-u,u=C,C=b,b=-u}if(l){var E=4/3*Math.tan(l/4),R=Math.sin(l),P=Math.cos(l),O=P+E*R,x=R-E*P;e.push("C");S=y*P+w*R+o;t.push(y+w*E+o,C+b*E+n,y*O+w*x+o,C*O+b*x+n,Math.abs(S)<1e-8?0:S,C*P+b*R+n)}if(c)for(var T=d,D=t.length-2;T<D;T+=2,D-=2){u=t[T];t[T]=t[D],t[D]=u,u=t[T+1],t[T+1]=t[D+1],t[D+1]=u}},e.prototype.cubicArc=function(t,o,n,i,r,s,a,l){var c=this.commands,u=this.params,d=c.length;e.cubicArc(c,u,t,o,n,i,r,s,a,l);var h=u[u.length-2],p=u[u.length-1];this.xy?(c[d]="L",this.xy[0]=h,this.xy[1]=p):this.xy=[h,p]},e.prototype.deCasteljau=function(e,t){var o=e.length;if(o<2||o%2===1)throw new Error("Fewer than two points or not an even count.");if(2===o||0===t)return e.slice(0,2);if(1===t)return e.slice(-2);for(var n=[],i=o-2,r=0;r<i;r+=2)n.push((1-t)*e[r]+t*e[r+2],(1-t)*e[r+1]+t*e[r+3]);return this.deCasteljau(n,t)},e.prototype.approximateCurve=function(e,t){var o=this.deCasteljau(e,0);this.moveTo(o[0],o[1]);for(var n=1/t,i=n;i<=1;i+=n){var r=this.deCasteljau(e,i);this.lineTo(r[0],r[1])}},e.prototype.quadraticCurveTo=function(e,t,o,n){this.xy||this.moveTo(e,t),this.cubicCurveTo((this.xy[0]+2*e)/3,(this.xy[1]+2*t)/3,(2*e+o)/3,(2*t+n)/3,o,n)},e.prototype.cubicCurveTo=function(e,t,o,n,i,r){this.xy||this.moveTo(e,t),this.commands.push("C"),this.params.push(e,t,o,n,i,r),this.xy[0]=i,this.xy[1]=r},Object.defineProperty(e.prototype,"closedPath",{get:function(){return this._closedPath},enumerable:!0,configurable:!0}),e.prototype.closePath=function(){this.xy&&(this.xy=void 0,this.commands.push("Z"),this._closedPath=!0)},e.prototype.clear=function(){this.commands.length=0,this.params.length=0,this.xy=void 0,this._closedPath=!1},e.prototype.isPointInPath=function(e,t){for(var o=this.commands,n=this.params,i=o.length,r=-1e4,s=-1e4,a=NaN,l=NaN,c=0,u=0,d=0,h=0,p=0;h<i;h++)switch(o[h]){case"M":isNaN(a)||ei(a,l,c,u,r,s,e,t)&&d++,a=c=n[p++],l=u=n[p++];break;case"L":ei(c,u,c=n[p++],u=n[p++],r,s,e,t)&&d++;break;case"C":d+=ti(c,u,n[p++],n[p++],n[p++],n[p++],c=n[p++],u=n[p++],r,s,e,t).length;break;case"Z":isNaN(a)||ei(a,l,c,u,r,s,e,t)&&d++}return d%2===1},e.fromString=function(t){var o=new e;return o.setFromString(t),o},e.parseSvgPath=function(t){return t.trim().split(e.splitCommandsRe).map((function(t){var o=t.match(e.matchParamsRe);return{command:t.substr(0,1),params:o?o.map(parseFloat):[]}}))},e.prettifySvgPath=function(t){return e.parseSvgPath(t).map((function(e){return e.command+e.params.join(",")})).join("\n")},e.prototype.setFromString=function(t){var o,n,i,r,s,a=this;function l(){s.match(e.quadraticCommandRe)||(i=o,r=n)}function c(){s.match(e.cubicCommandRe)||(i=o,r=n)}this.clear(),e.parseSvgPath(t).forEach((function(e){var t=e.params,u=t.length,d=0;switch(e.command){case"M":for(a.moveTo(o=t[d++],n=t[d++]);d<u;)a.lineTo(o=t[d++],n=t[d++]);break;case"m":for(a.moveTo(o+=t[d++],n+=t[d++]);d<u;)a.lineTo(o+=t[d++],n+=t[d++]);break;case"L":for(;d<u;)a.lineTo(o=t[d++],n=t[d++]);break;case"l":for(;d<u;)a.lineTo(o+=t[d++],n+=t[d++]);break;case"C":for(;d<u;)a.cubicCurveTo(t[d++],t[d++],i=t[d++],r=t[d++],o=t[d++],n=t[d++]);break;case"c":for(;d<u;)a.cubicCurveTo(o+t[d++],n+t[d++],i=o+t[d++],r=n+t[d++],o+=t[d++],n+=t[d++]);break;case"S":for(c();d<u;)a.cubicCurveTo(o+o-i,n+n-r,i=t[d++],r=t[d++],o=t[d++],n=t[d++]);break;case"s":for(c();d<u;)a.cubicCurveTo(o+o-i,n+n-r,i=o+t[d++],r=n+t[d++],o+=t[d++],n+=t[d++]);break;case"Q":for(;d<u;)a.quadraticCurveTo(i=t[d++],r=t[d++],o=t[d++],n=t[d++]);break;case"q":for(;d<u;)a.quadraticCurveTo(i=o+t[d++],r=n+t[d++],o+=t[d++],n+=t[d++]);break;case"T":for(l();d<u;)a.quadraticCurveTo(i=o+o-i,r=n+n-r,o=t[d++],n=t[d++]);break;case"t":for(l();d<u;)a.quadraticCurveTo(i=o+o-i,r=n+n-r,o+=t[d++],n+=t[d++]);break;case"A":for(;d<u;)a.arcTo(t[d++],t[d++],t[d++]*Math.PI/180,t[d++],t[d++],o=t[d++],n=t[d++]);break;case"a":for(;d<u;)a.arcTo(t[d++],t[d++],t[d++]*Math.PI/180,t[d++],t[d++],o+=t[d++],n+=t[d++]);break;case"Z":case"z":a.closePath();break;case"H":for(;d<u;)a.lineTo(o=t[d++],n);break;case"h":for(;d<u;)a.lineTo(o+=t[d++],n);break;case"V":for(;d<u;)a.lineTo(o,n=t[d++]);break;case"v":for(;d<u;)a.lineTo(o,n+=t[d++])}s=e.command}))},e.prototype.toString=function(){for(var e=this.commands,t=this.params,o=e.length,n=[],i=0,r=0;i<o;i++)switch(e[i]){case"M":n.push("M"+t[r++]+","+t[r++]);break;case"L":n.push("L"+t[r++]+","+t[r++]);break;case"C":n.push("C"+t[r++]+","+t[r++]+" "+t[r++]+","+t[r++]+" "+t[r++]+","+t[r++]);break;case"Z":n.push("Z")}return n.join("")},e.prototype.toPrettyString=function(){return e.prettifySvgPath(this.toString())},e.prototype.toSvg=function(){return e.xmlDeclaration+'\n<svg width="100%" height="100%" viewBox="0 0 50 50" version="1.1" xmlns="'+e.xmlns+'">\n    <path d="'+this.toString()+'" style="fill:none;stroke:#000;stroke-width:0.5;"/>\n</svg>'},e.prototype.toDebugSvg=function(){var t=e.prettifySvgPath(this.toString());return e.xmlDeclaration+'\n<svg width="100%" height="100%" viewBox="0 0 100 100" version="1.1" xmlns="'+e.xmlns+'">\n    <path d="'+t+'" style="fill:none;stroke:#000;stroke-width:0.5;"/>\n</svg>'},e.prototype.toCubicPaths=function(){var e,t,o,n,i,r=[],s=this.params,a=0;return this.commands.forEach((function(l){switch(l){case"M":e=[t=n=s[a++],o=i=s[a++]],r.push(e);break;case"L":var c=s[a++],u=s[a++];e.push((n+n+c)/3,(i+i+u)/3,(n+c+c)/3,(i+u+u)/3,n=c,i=u);break;case"C":e.push(s[a++],s[a++],s[a++],s[a++],n=s[a++],i=s[a++]);break;case"Z":e.push((n+n+t)/3,(i+i+o)/3,(n+t+t)/3,(i+o+o)/3,n=t,i=o)}})),r},e.cubicPathToString=function(e){var t=e.length;if(!(t%2===0&&(t/2-1)/2>=1))throw new Error("Invalid path.");return"M"+e.slice(0,2).join(",")+"C"+e.slice(2).join(",")},e.splitCommandsRe=/(?=[AaCcHhLlMmQqSsTtVvZz])/g,e.matchParamsRe=/-?[0-9]*\.?\d+/g,e.quadraticCommandRe=/[QqTt]/,e.cubicCommandRe=/[CcSs]/,e.xmlDeclaration='<?xml version="1.0" encoding="UTF-8"?>',e.xmlns="http://www.w3.org/2000/svg",e}(),ii=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),ri=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.path=new ni,t._dirtyPath=!0,t._svgPath="",t}return ii(t,e),Object.defineProperty(t.prototype,"dirtyPath",{get:function(){return this._dirtyPath},set:function(e){this._dirtyPath!==e&&(this._dirtyPath=e,e&&(this.dirty=!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"svgPath",{get:function(){return this._svgPath},set:function(e){this._svgPath!==e&&(this._svgPath=e,this.path.setFromString(e),this.dirty=!0)},enumerable:!0,configurable:!0}),t.prototype.isPointInPath=function(e,t){var o=this.transformPoint(e,t);return this.path.closedPath&&this.path.isPointInPath(o.x,o.y)},t.prototype.isPointInStroke=function(e,t){return!1},t.prototype.updatePath=function(){},t.prototype.render=function(e){var t=this.scene;this.dirtyTransform&&this.computeTransformMatrix(),this.matrix.toContext(e),this.dirtyPath&&(this.updatePath(),this.dirtyPath=!1),t.appendPath(this.path),this.fillStroke(e),this.dirty=!1},t.className="Path",t}(_n);function si(e,t,o){return void 0===o&&(o=1e-10),Math.abs(e-t)<o}function ai(e,t){void 0===t&&(t=2);var o=Math.floor(Math.log(Math.abs(e))/Math.LN10);return o>=0||!isFinite(o)?e.toFixed(t):e.toFixed(Math.abs(o)-1+t)}var li,ci=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();!function(e){e[e.Open=0]="Open",e[e.Chord=1]="Chord",e[e.Round=2]="Round"}(li||(li={}));var ui,di=function(e){function t(){var t=e.call(this)||this;return t._centerX=0,t._centerY=0,t._radiusX=10,t._radiusY=10,t._startAngle=0,t._endAngle=2*Math.PI,t._counterClockwise=!1,t._type=li.Open,t.restoreOwnStyles(),t}return ci(t,e),Object.defineProperty(t.prototype,"centerX",{get:function(){return this._centerX},set:function(e){this._centerX!==e&&(this._centerX=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"centerY",{get:function(){return this._centerY},set:function(e){this._centerY!==e&&(this._centerY=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"radiusX",{get:function(){return this._radiusX},set:function(e){this._radiusX!==e&&(this._radiusX=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"radiusY",{get:function(){return this._radiusY},set:function(e){this._radiusY!==e&&(this._radiusY=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"startAngle",{get:function(){return this._startAngle},set:function(e){this._startAngle!==e&&(this._startAngle=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endAngle",{get:function(){return this._endAngle},set:function(e){this._endAngle!==e&&(this._endAngle=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fullPie",{get:function(){return si(Xn(this.startAngle),Xn(this.endAngle))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"counterClockwise",{get:function(){return this._counterClockwise},set:function(e){this._counterClockwise!==e&&(this._counterClockwise=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"type",{get:function(){return this._type},set:function(e){this._type!==e&&(this._type=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),t.prototype.updatePath=function(){var e=this.path;e.clear(),e.cubicArc(this.centerX,this.centerY,this.radiusX,this.radiusY,0,this.startAngle,this.endAngle,this.counterClockwise?1:0),this.type===li.Chord?e.closePath():this.type!==li.Round||this.fullPie||(e.lineTo(this.centerX,this.centerY),e.closePath())},t.prototype.computeBBox=function(){return new On(this.centerX-this.radiusX,this.centerY-this.radiusY,2*this.radiusX,2*this.radiusY)},t.prototype.isPointInPath=function(e,t){var o=this.transformPoint(e,t),n=this.computeBBox();return this.type!==li.Open&&n.containsPoint(o.x,o.y)&&this.path.isPointInPath(o.x,o.y)},t.className="Arc",t.defaultStyles=An(_n.defaultStyles,{lineWidth:1,fillStyle:null}),t}(ri);!function(e){e[e.Tick=0]="Tick",e[e.GridLine=1]="GridLine"}(ui||(ui={}));var hi,pi,gi=function(){this.width=1,this.size=6,this.color="rgba(195, 195, 195, 1)",this.count=10},fi=function(){function e(){this.fontSize=12,this.fontFamily="Verdana, sans-serif",this.padding=5,this.color="rgba(87, 87, 87, 1)",this.rotation=0,this.mirrored=!1,this.parallel=!1}return Object.defineProperty(e.prototype,"format",{get:function(){return this._format},set:function(e){this._format!==e&&(this._format=e,this.onFormatChange&&this.onFormatChange(e))},enumerable:!0,configurable:!0}),e}(),mi=function(){function e(e){this.lineNode=new Yn,this.group=new zn,this.line={width:1,color:"rgba(195, 195, 195, 1)"},this.tick=new gi,this.label=new fi,this.translation={x:0,y:0},this.rotation=0,this._visibleRange=[0,1],this._title=void 0,this._gridLength=0,this.gridStyle=[{stroke:"rgba(219, 219, 219, 1)",lineDash:[4,2]}],this._radialGrid=!1,this.scale=e,this.requestedRange=e.range.slice(),this.groupSelection=$n.select(this.group).selectAll(),this.label.onFormatChange=this.onTickFormatChange.bind(this),this.group.append(this.lineNode),this.onTickFormatChange()}return e.prototype.updateRange=function(){var e=this,t=e.requestedRange,o=e.visibleRange,n=e.scale,i=(t[1]-t[0])/(o[1]-o[0]),r=i*o[0],s=t[0]-r;n.range=[s,s+i]},Object.defineProperty(e.prototype,"range",{get:function(){return this.requestedRange.slice()},set:function(e){this.requestedRange=e.slice(),this.updateRange()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"visibleRange",{get:function(){return this._visibleRange.slice()},set:function(e){if(e&&2===e.length){var t=e[0],o=e[1];t=Math.max(0,t),o=Math.min(1,o),t=Math.min(t,o),o=Math.max(t,o),this._visibleRange=[t,o],this.updateRange()}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"domain",{get:function(){return this.scale.domain.slice()},set:function(e){this.scale.domain=e.slice()},enumerable:!0,configurable:!0}),e.prototype.onTickFormatChange=function(e){e?this.scale.tickFormat&&(this.tickFormatter=this.scale.tickFormat(10,e)):this.scale.tickFormat?this.tickFormatter=this.scale.tickFormat(10,void 0):this.tickFormatter=void 0},Object.defineProperty(e.prototype,"title",{get:function(){return this._title},set:function(e){var t=this._title;t!==e&&(t&&this.group.removeChild(t.node),e&&(e.node.rotation=-Math.PI/2,this.group.appendChild(e.node)),this._title=e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"gridLength",{get:function(){return this._gridLength},set:function(e){(this._gridLength&&!e||!this._gridLength&&e)&&(this.groupSelection=this.groupSelection.remove().setData([])),this._gridLength=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"radialGrid",{get:function(){return this._radialGrid},set:function(e){this._radialGrid!==e&&(this._radialGrid=e,this.groupSelection=this.groupSelection.remove().setData([]))},enumerable:!0,configurable:!0}),e.prototype.update=function(){var e=this,t=this,o=t.group,n=t.scale,i=t.tick,r=t.label,s=t.gridStyle,a=t.requestedRange,l=Math.min(a[0],a[1]),c=Math.max(a[0],a[1]),u=Qn(this.rotation),d=r.parallel,h=Xn(Qn(r.rotation));o.translationX=this.translation.x,o.translationY=this.translation.y,o.rotation=u;var p=(n.bandwidth||0)/2,g=r.mirrored?1:-1,f=Xn(u),m=!h&&f>=0&&f<=Math.PI?-1:1,v=Xn(u-Math.PI/2),y=!h&&v>=0&&v<=Math.PI?-1:1,C=h>=0&&h<=Math.PI?-1:1,w=n.ticks(this.tick.count),b=this.groupSelection.setData(w);b.exit.remove();var S=b.enter.append(zn);S.append(Yn).each((function(e){return e.tag=ui.Tick})),this.gridLength&&(this.radialGrid?S.append(di).each((function(e){return e.tag=ui.GridLine})):S.append(Yn).each((function(e){return e.tag=ui.GridLine}))),S.append(Ln);var E,R=b.merge(S);if(R.attrFn("translationY",(function(e,t){return Math.round(n.convert(t)+p)})).attrFn("visible",(function(e){return e.translationY>=l&&e.translationY<=c})),R.selectByTag(ui.Tick).each((function(e){e.strokeWidth=i.width,e.stroke=i.color})).attr("x1",g*i.size).attr("x2",0).attr("y1",0).attr("y2",0),this.gridLength&&s.length){var P=s.length,O=void 0;if(this.radialGrid){var x=(E=Qn(this.gridLength),E%=qn,(E+=qn)!==qn&&(E%=qn),E);O=R.selectByTag(ui.GridLine).each((function(e,t){var o=Math.round(n.convert(t)+p);e.centerX=0,e.centerY=n.range[0]-o,e.endAngle=x,e.radiusX=o,e.radiusY=o}))}else O=R.selectByTag(ui.GridLine).each((function(t){t.x1=0,t.x2=-g*e.gridLength,t.y1=0,t.y2=0,t.visible=Math.abs(t.parent.translationY-n.range[0])>1}));O.each((function(e,t,o){var n=s[o%P];e.stroke=n.stroke,e.strokeWidth=i.width,e.lineDash=n.lineDash,e.fill=void 0}))}var T=this.tickFormatter,D=w.fractionDigits>=0?w.fractionDigits:0,A=R.selectByClass(Ln).each((function(e,t,o){e.fontStyle=r.fontStyle,e.fontWeight=r.fontWeight,e.fontSize=r.fontSize,e.fontFamily=r.fontFamily,e.fill=r.color,e.textBaseline=d&&!h?g*m===-1?"hanging":"bottom":"middle",e.text=r.formatter?r.formatter({value:D>=0?t:String(t),index:o,fractionDigits:D,formatter:T}):D?t.toFixed(D):T?T(t):String(t),e.textAlign=d?h?g*C===-1?"end":"start":"center":g*y===-1?"end":"start"})),F=g*(i.size+r.padding),_=d?m*Math.PI/2:-1===y?Math.PI:0;A.each((function(e){e.x=F,e.rotationCenterX=F,e.rotation=_+h})),this.groupSelection=R;var M=this.lineNode;M.x1=0,M.x2=0,M.y1=a[0],M.y2=a[1],M.strokeWidth=this.line.width,M.stroke=this.line.color,M.visible=w.length>0;var I=this.title,L=!1;if(I&&I.enabled){L=!0;var N=I.padding.bottom,k=I.node,G=this.computeBBox({excludeTitle:!0}),V=-1===g&&f>Math.PI&&f<2*Math.PI?-1:1;k.rotation=V*g*Math.PI/2,k.x=V*g*(M.y1+M.y2)/2,k.x=V*g*(a[0]+a[1])/2,k.y=-1===g?V*(-N-G.width+Math.max(G.x+G.width,0)):-N-G.width-Math.min(G.x,0),k.textBaseline=1===V?"bottom":"top"}I&&(I.node.visible=L)},e.prototype.computeBBox=function(e){var t=this.title,o=this.lineNode,n=this.groupSelection.selectByClass(Ln),i=1/0,r=-1/0,s=1/0,a=-1/0;if(n.each((function(e){e.computeTransformMatrix();var t=xn.flyweight(e.matrix),o=e.parent;o.computeTransformMatrix(),t.preMultiplySelf(o.matrix);var n=e.computeBBox();if(n){var l=t.transformBBox(n);i=Math.min(i,l.x),r=Math.max(r,l.x+l.width),s=Math.min(s,l.y),a=Math.max(a,l.y+l.height)}})),t&&t.enabled&&(!e||!e.excludeTitle)){var l=t.node;l.computeTransformMatrix();var c=xn.flyweight(l.matrix),u=l.computeBBox();if(u){var d=c.transformBBox(u);i=Math.min(i,d.x),r=Math.max(r,d.x+d.width),s=Math.min(s,d.y),a=Math.max(a,d.y+d.height)}}return i=Math.min(i,0),r=Math.max(r,0),s=Math.min(s,o.y1,o.y2),a=Math.max(a,o.y1,o.y2),new On(i,s,r-i,a-s)},e}(),vi=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();function yi(e){return e===hi.X?hi.Y:hi.X}!function(e){e.X="x",e.Y="y"}(hi||(hi={})),function(e){e.Top="top",e.Right="right",e.Bottom="bottom",e.Left="left",e.Angle="angle",e.Radius="radius"}(pi||(pi={}));var Ci=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.keys=[],t.boundSeries=[],t}return vi(t,e),Object.defineProperty(t.prototype,"type",{get:function(){return this.constructor.type||""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"position",{get:function(){return this._position},set:function(e){if(this._position!==e)switch(this._position=e,e){case pi.Top:this.direction=hi.X,this.rotation=-90,this.label.mirrored=!0,this.label.parallel=!0;break;case pi.Right:this.direction=hi.Y,this.rotation=0,this.label.mirrored=!0,this.label.parallel=!1;break;case pi.Bottom:this.direction=hi.X,this.rotation=-90,this.label.mirrored=!1,this.label.parallel=!0;break;case pi.Left:this.direction=hi.Y,this.rotation=0,this.label.mirrored=!1,this.label.parallel=!1}},enumerable:!0,configurable:!0}),t}(mi),wi=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),bi=function(e){function t(){var t=new Wn;return t.paddingInner=.2,t.paddingOuter=.3,e.call(this,t)||this}return wi(t,e),t.className="CategoryAxis",t.type="category",t}(Ci);function Si(e,t){for(var o=0,n=e.length;o<n;o++){var i=e[o];if(t(i,o,e))return i}}function Ei(e){for(var t,o,n,i=e.length,r=-1;++r<i;)if(null!=(t=e[r])&&t>=t&&isFinite(t))for(o=n=t;++r<i;)null!=(t=e[r])&&isFinite(t)&&(o>t&&(o=t),n<t&&(n=t));return void 0===o||void 0===n?void 0:[o,n]}function Ri(e){var t=Ei(e);if("undefined"!==typeof t){var o=t[0],n=t[1],i=o instanceof Date?o.getTime():o,r=n instanceof Date?n.getTime():n;return"number"===typeof i&&isFinite(i)&&"number"===typeof r&&isFinite(r)?[i,r]:void 0}}function Pi(e){for(var t=0,o=0,n=0,i=e;n<i.length;n++){var r=i[n];r<0?t+=r:o+=r}return{min:t,max:o}}function Oi(e){for(var t=0,o=0,n=0,i=e;n<i.length;n++){var r=i[n];r.min<t&&(t=r.min),r.max>o&&(o=r.max)}return{min:t,max:o}}var xi=function(){function e(e,t,o){void 0===e&&(e=""),void 0===o&&(o=0),this.x=0,this.y=0,this.subtreeLeft=NaN,this.subtreeRight=NaN,this.screenX=0,this.screenY=0,this.children=[],this.leafCount=0,this.prelim=0,this.mod=0,this.ancestor=this,this.change=0,this.shift=0,this.label=e,this.parent=t,this.depth=t?t.depth+1:0,this.number=o}return e.prototype.getLeftSibling=function(){return this.number>0&&this.parent?this.parent.children[this.number-1]:void 0},e.prototype.getLeftmostSibling=function(){return this.number>0&&this.parent?this.parent.children[0]:void 0},e.prototype.nextLeft=function(){return this.children?this.children[0]:this.thread},e.prototype.nextRight=function(){return this.children?this.children[this.children.length-1]:this.thread},e.prototype.getSiblings=function(){var e=this;return this.parent?this.parent.children.filter((function(t,o){return o!==e.number})):[]},e}();function Ti(e,t){void 0===t&&(t=!0);var o=new xi,n=0;return t&&e.forEach((function(e){return n=Math.max(n,e.labels.length)})),e.forEach((function(e){if(t)for(;e.labels.length<n;)e.labels.unshift("");!function(e,t){var o=t.labels.slice().reverse(),n=o.length-1;o.forEach((function(t,o){var i=e.children,r=Si(i,(function(e){return e.label===t})),s=o!==n;if(r&&s)e=r;else{var a=new xi(t,e);a.number=i.length,i.push(a),s&&(e=a)}}))}(o,e)})),o}function Di(e,t,o){var n=o/(t.number-e.number);t.change-=n,t.shift+=o,e.change+=n,t.prelim+=o,t.mod+=o}function Ai(e,t,o){return t.getSiblings().indexOf(e.ancestor)>=0?e.ancestor:o}function Fi(e,t){var o=e.children;if(o.length){var n=o[0];o.forEach((function(e){Fi(e,t),n=function(e,t,o){var n=e.getLeftSibling();if(n){for(var i=e,r=e,s=n,a=r.getLeftmostSibling(),l=r.mod,c=i.mod,u=s.mod,d=a.mod;s.nextRight()&&r.nextLeft();){s=s.nextRight(),r=r.nextLeft(),a=a.nextLeft(),(i=i.nextRight()).ancestor=e;var h=s.prelim+u-(r.prelim+l)+o;h>0&&(Di(Ai(s,e,t),e,h),l+=h,c+=h),u+=s.mod,l+=r.mod,d+=a.mod,c+=i.mod}s.nextRight()&&!i.nextRight()?(i.thread=s.nextRight(),i.mod+=u-c):(r.nextLeft()&&!a.nextLeft()&&(a.thread=r.nextLeft(),a.mod+=l-d),t=e)}return t}(e,n,t)})),function(e){var t=e.children;if(t)for(var o=0,n=0,i=t.length-1;i>=0;i--){var r=t[i];r.prelim+=o,r.mod+=o,n+=r.change,o+=r.shift+n}}(e);var i=(o[0].prelim+o[o.length-1].prelim)/2;(r=e.getLeftSibling())?(e.prelim=r.prelim+t,e.mod=e.prelim-i):e.prelim=i}else{var r=e.getLeftSibling();e.prelim=r?r.prelim+t:0}}var _i=function(){function e(){this.top=1/0,this.right=-1/0,this.bottom=-1/0,this.left=1/0}return e.prototype.update=function(e,t){var o=t(e),n=o.x,i=o.y;n>this.right&&(this.right=n),n<this.left&&(this.left=n),i>this.bottom&&(this.bottom=i),i<this.top&&(this.top=i)},e}();function Mi(e,t,o){e.x=e.prelim+t,e.y=e.depth,o.update(e),e.children.forEach((function(n){return Mi(n,t+e.mod,o)}))}function Ii(e){var t=e.children,o=0;t.forEach((function(e){Ii(e),e.children.length?o+=e.leafCount:o++})),e.leafCount=o,t.length?(e.subtreeLeft=t[0].subtreeLeft,e.subtreeRight=t[e.children.length-1].subtreeRight,e.x=(e.subtreeLeft+e.subtreeRight)/2):(e.subtreeLeft=e.x,e.subtreeRight=e.x)}function Li(e){var t=new ki;return Fi(e,1),Mi(e,-e.prelim,t),Ii(e),t}var Ni,ki=function(){function e(){this.dimensions=new _i,this.leafCount=0,this.nodes=[],this.leafNodes=[],this.nonLeafNodes=[],this.depth=0}return e.prototype.update=function(e){this.dimensions.update(e,(function(e){return{x:e.x,y:e.y}})),e.children.length?this.nonLeafNodes.push(e):(this.leafCount++,this.leafNodes.push(e)),e.depth>this.depth&&(this.depth=e.depth),this.nodes.push(e)},e.prototype.resize=function(e,t,o,n,i){void 0===o&&(o=0),void 0===n&&(n=0),void 0===i&&(i=!1);var r=this.leafCount-1,s=this.depth,a=this.dimensions,l=1,c=1;if(e>0&&r){var u=(a.right-a.left)/r;l=e/r/u,i&&(l=-l)}if(t>0&&s){var d=(a.bottom-a.top)/s;c=t/s/d}var h=new _i;this.nodes.forEach((function(e){e.screenX=e.x*l,e.screenY=e.y*c,h.update(e,(function(e){return{x:e.screenX,y:e.screenY}}))}));var p=-h.left,g=-h.top;this.nodes.forEach((function(e){e.screenX+=p+o,e.screenY+=g+n}))},e}(),Gi=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Vi=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.grid=!1,t}return Gi(t,e),t}(fi),Hi=function(e){function t(){var t=e.call(this,new Wn)||this;t.id=Tn(t),t.tickScale=new Wn,t.group=new zn,t.longestSeparatorLength=0,t.translation={x:0,y:0},t.rotation=0,t.line={width:1,color:"rgba(195, 195, 195, 1)"},t.label=new Vi,t.labelColor="rgba(87, 87, 87, 1)";var o=t,n=o.group,i=o.scale,r=o.tickScale;return i.paddingOuter=.1,i.paddingInner=2*i.paddingOuter,t.requestedRange=i.range.slice(),r.paddingInner=1,r.paddingOuter=0,t.gridLineSelection=$n.select(n).selectAll(),t.axisLineSelection=$n.select(n).selectAll(),t.separatorSelection=$n.select(n).selectAll(),t.labelSelection=$n.select(n).selectAll(),t}return Gi(t,e),Object.defineProperty(t.prototype,"domain",{get:function(){return this.scale.domain},set:function(e){this.scale.domain=e;var t=Ti(e);this.tickTreeLayout=Li(t);var o=e.slice();o.push(""),this.tickScale.domain=o,this.resizeTickTree()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"range",{get:function(){return this.requestedRange.slice()},set:function(e){this.requestedRange=e.slice(),this.updateRange()},enumerable:!0,configurable:!0}),t.prototype.updateRange=function(){var e=this,t=e.requestedRange,o=e.visibleRange,n=e.scale,i=(t[1]-t[0])/(o[1]-o[0]),r=i*o[0],s=t[0]-r;this.tickScale.range=n.range=[s,s+i],this.resizeTickTree()},t.prototype.resizeTickTree=function(){var e=this.scale,t=e.domain.length?[e.convert(e.domain[0]),e.convert(e.domain[e.domain.length-1])]:e.range,o=this.tickTreeLayout,n=this.lineHeight;o&&o.resize(Math.abs(t[1]-t[0]),o.depth*n,(Math.min(t[0],t[1])||0)+(e.bandwidth||0)/2,-o.depth*n,t[1]-t[0]<0)},Object.defineProperty(t.prototype,"lineHeight",{get:function(){return 1.5*this.label.fontSize},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"gridLength",{get:function(){return this._gridLength},set:function(e){(this._gridLength&&!e||!this._gridLength&&e)&&(this.gridLineSelection=this.gridLineSelection.remove().setData([]),this.labelSelection=this.labelSelection.remove().setData([])),this._gridLength=e},enumerable:!0,configurable:!0}),t.prototype.update=function(){var e=this,t=this,o=t.group,n=t.scale,i=t.label,r=t.tickScale,s=t.requestedRange,a=n.range[0],l=n.range[1],c=Math.abs(l-a)/n.domain.length||0,u=i.parallel,d=Qn(this.rotation),h=Math.abs(Math.cos(d))<1e-8,p=Xn(Qn(this.label.rotation));o.translationX=this.translation.x,o.translationY=this.translation.y,o.rotation=d;var g=this.title;g&&(g.node.visible=!1);var f=this.lineHeight,m=this.tickTreeLayout,v=n.ticks(),y=m?m.nodes:[],C=!!m&&m.depth>1,w=r.ticks(),b=i.mirrored?1:-1,S=Xn(d),E=!p&&S>=0&&S<=Math.PI?-1:1,R=Xn(d-Math.PI/2),P=!p&&R>=0&&R<=Math.PI?-1:1,O=this.gridLineSelection.setData(this.gridLength?w:[]);O.exit.remove();var x=O.enter.append(Yn),T=O.merge(x),D=this.labelSelection.setData(y);D.exit.remove();var A=D.enter.append(Ln),F=D.merge(A),_=i.formatter,M=0;F.each((function(e,t,o){e.fontStyle=i.fontStyle,e.fontWeight=i.fontWeight,e.fontSize=i.fontSize,e.fontFamily=i.fontFamily,e.fill=i.color,e.textBaseline=-1===E?"bottom":"hanging",e.textAlign="center",e.translationX=t.screenY-.25*i.fontSize,e.translationY=t.screenX,g&&0===o?(e.text=g.text,e.fontSize=g.fontSize,e.fontStyle=g.fontStyle,e.fontWeight=g.fontWeight,e.fontFamily=g.fontFamily,e.textBaseline="hanging",e.visible=v.length>0):(e.text=_?_({value:String(t.label),index:o}):String(t.label),e.visible=t.screenX>=s[0]&&t.screenX<=s[1]);var n=e.computeBBox();n&&n.width>M&&(M=n.width)}));var I=b*i.padding,L=u?E*Math.PI/2:-1===P?Math.PI:0,N=this.label.grid,k=[];F.each((function(t,o,n){if(t.x=I,t.rotationCenterX=I,o.children.length?(t.translationX-=M-f+e.label.padding,t.rotation=h?L:-Math.PI/2):(t.rotation=p,t.textAlign="end",t.textBaseline="middle"),o.parent&&C){var i=o.children.length?o.screenX-o.leafCount*c/2:o.screenX-c/2;if(o.children.length){var r=-M-2*e.label.padding+o.screenY;k.push({y:i,x1:r+f,x2:r,toString:function(){return String(n)}})}else(o.number!==o.children.length-1||N)&&k.push({y:i,x1:0,x2:-M-2*e.label.padding,toString:function(){return String(n)}})}}));var G=0;k.forEach((function(e){return G=Math.min(G,e.x2)})),this.longestSeparatorLength=Math.abs(G),k.push({y:Math.max(a,l),x1:0,x2:G,toString:function(){return String(k.length)}});var V=this.separatorSelection.setData(k);V.exit.remove();var H=V.enter.append(Yn),B=V.merge(H);this.separatorSelection=B;B.each((function(t,o,n){t.x1=o.x1,t.x2=o.x2,t.y1=o.y,t.y2=o.y,t.visible=o.y>=s[0]-1e-7&&o.y<=s[1]+1e-7,t.stroke=e.tick.color,t.fill=void 0,t.strokeWidth=1})),this.gridLineSelection=T,this.labelSelection=F;for(var W=m?m.depth+1:1,j=[],z=0;z<W;z++)j.push(z);var U=this.axisLineSelection.setData(j);U.exit.remove();var $=U.enter.append(Yn),K=U.merge($);if(this.axisLineSelection=K,K.each((function(t,o,n){var i=n>0?-M-2*e.label.padding-(n-1)*f:0;t.x1=i,t.x2=i,t.y1=s[0],t.y2=s[1],t.strokeWidth=e.line.width,t.stroke=e.line.color,t.visible=v.length>0&&(0===n||N&&C)})),this.gridLength){var Y=this.gridStyle,q=Y.length;T.each((function(t,o,n){var i=Math.round(r.convert(o));t.x1=0,t.x2=-b*e.gridLength,t.y1=i,t.y2=i,t.visible=i>=s[0]&&i<=s[1]&&Math.abs(t.parent.translationY-a)>1;var l=Y[n%q];t.stroke=l.stroke,t.strokeWidth=e.tick.width,t.lineDash=l.lineDash,t.fill=void 0}))}},t.prototype.computeBBox=function(e){var t=!e||!e.excludeTitle,o=1/0,n=-1/0,i=1/0,r=-1/0;return this.labelSelection.each((function(e,s,a){if(a>0||t){e.computeTransformMatrix();var l=xn.flyweight(e.matrix),c=e.computeBBox();if(c){var u=l.transformBBox(c);o=Math.min(o,u.x),n=Math.max(n,u.x+u.width),i=Math.min(i,u.y),r=Math.max(r,u.y+u.height)}}})),new On(o,i,Math.max(n-o,this.longestSeparatorLength),r-i)},t.className="GroupedCategoryAxis",t.type="groupedCategory",t}(Ci),Bi=function(){function e(e,t,o){var n=this;void 0===e&&(e=window.document),this.id=Tn(this),this._dirty=!1,this.animationFrameId=0,this._root=null,this.debug={renderFrameIndex:!1,renderBoundingBoxes:!1},this._frameIndex=0,this.render=function(){var e,t=n,o=t.ctx,i=t.root,r=t.pendingSize;n.animationFrameId=0,r&&((e=n.canvas).resize.apply(e,r),n.pendingSize=void 0),!i||i.visible?(o.clearRect(0,0,n.width,n.height),i&&(o.save(),i.visible&&i.render(o),o.restore()),n._frameIndex++,n.debug.renderFrameIndex&&(o.fillStyle="white",o.fillRect(0,0,40,15),o.fillStyle="black",o.fillText(n.frameIndex.toString(),2,10)),n.dirty=!1):n.dirty=!1},this.canvas=new Mn(e,t,o),this.ctx=this.canvas.context}return Object.defineProperty(e.prototype,"container",{get:function(){return this.canvas.container},set:function(e){this.canvas.container=e},enumerable:!0,configurable:!0}),e.prototype.download=function(e){this.canvas.download(e)},e.prototype.getDataURL=function(e){return this.canvas.getDataURL(e)},Object.defineProperty(e.prototype,"width",{get:function(){return this.pendingSize?this.pendingSize[0]:this.canvas.width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.pendingSize?this.pendingSize[1]:this.canvas.height},enumerable:!0,configurable:!0}),e.prototype.resize=function(e,t){e=Math.round(e),t=Math.round(t),e===this.width&&t===this.height||(this.pendingSize=[e,t],this.dirty=!0)},Object.defineProperty(e.prototype,"dirty",{get:function(){return this._dirty},set:function(e){e&&!this._dirty&&(this.animationFrameId=requestAnimationFrame(this.render)),this._dirty=e},enumerable:!0,configurable:!0}),e.prototype.cancelRender=function(){this.animationFrameId&&(cancelAnimationFrame(this.animationFrameId),this.animationFrameId=0,this._dirty=!1)},Object.defineProperty(e.prototype,"root",{get:function(){return this._root},set:function(e){e!==this._root&&(this._root&&this._root._setScene(void 0),this._root=e,e&&(null===e.parent&&e.scene&&e.scene!==this&&(e.scene.root=null),e._setScene(this)),this.dirty=!0)},enumerable:!0,configurable:!0}),e.prototype.appendPath=function(e){var t=this.ctx,o=e.commands,n=e.params,i=o.length,r=0;t.beginPath();for(var s=0;s<i;s++)switch(o[s]){case"M":t.moveTo(n[r++],n[r++]);break;case"L":t.lineTo(n[r++],n[r++]);break;case"C":t.bezierCurveTo(n[r++],n[r++],n[r++],n[r++],n[r++],n[r++]);break;case"Z":t.closePath()}},Object.defineProperty(e.prototype,"frameIndex",{get:function(){return this._frameIndex},enumerable:!0,configurable:!0}),e.className="Scene",e}(),Wi=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();!function(e){e[e.Content=0]="Content",e[e.Border=1]="Border"}(Ni||(Ni={}));var ji=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._x=0,t._y=0,t._width=10,t._height=10,t._radius=0,t._crisp=!1,t.effectiveStrokeWidth=_n.defaultStyles.strokeWidth,t._sizing=Ni.Content,t}return Wi(t,e),Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(e){this._x!==e&&(this._x=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(e){this._y!==e&&(this._y=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this._width},set:function(e){this._width!==e&&(this._width=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},set:function(e){this._height!==e&&(this._height=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"radius",{get:function(){return this._radius},set:function(e){this._radius!==e&&(this._radius=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"crisp",{get:function(){return this._crisp},set:function(e){this._crisp!==e&&(this._crisp=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokeWidth",{get:function(){return this._strokeWidth},set:function(e){this._strokeWidth!==e&&(this._strokeWidth=e,this.crisp||this.sizing===Ni.Border?this.dirtyPath=!0:(this.effectiveStrokeWidth=e,this.dirty=!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sizing",{get:function(){return this._sizing},set:function(e){this._sizing!==e&&(this._sizing=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),t.prototype.updatePath=function(){var e=this.sizing===Ni.Border,t=this.path;t.clear();var o,n=this.x,i=this.y,r=this.width,s=this.height;if(e){var a=r/2,l=s/2;o=Math.min(this.strokeWidth,a,l),n=Math.min(n+o/2,n+a),i=Math.min(i+o/2,i+l),r=Math.max(r-o,0),s=Math.max(s-o,0)}else o=this.strokeWidth;if(this.effectiveStrokeWidth=o,this.crisp&&!e){var c=this.alignment,u=this.align;t.rect(u(c,n),u(c,i),u(c,n,r),u(c,i,s))}else t.rect(n,i,r,s)},t.prototype.computeBBox=function(){var e=this,t=e.x,o=e.y,n=e.width,i=e.height;return new On(t,o,n,i)},t.prototype.isPointInPath=function(e,t){var o=this.transformPoint(e,t);return this.computeBBox().containsPoint(o.x,o.y)},t.prototype.isPointInStroke=function(e,t){return!1},t.prototype.fillStroke=function(e){var t=this.scene.canvas.pixelRatio||1;if(this.fill){e.fillStyle=this.fill,e.globalAlpha=this.opacity*this.fillOpacity;var o=this.fillShadow;o&&o.enabled&&(e.shadowColor=o.color,e.shadowOffsetX=o.xOffset*t,e.shadowOffsetY=o.yOffset*t,e.shadowBlur=o.blur*t),e.fill()}if(e.shadowColor="rgba(0, 0, 0, 0)",this.stroke&&this.effectiveStrokeWidth){e.strokeStyle=this.stroke,e.globalAlpha=this.opacity*this.strokeOpacity,e.lineWidth=this.effectiveStrokeWidth,this.lineDash&&e.setLineDash(this.lineDash),this.lineDashOffset&&(e.lineDashOffset=this.lineDashOffset),this.lineCap&&(e.lineCap=this.lineCap),this.lineJoin&&(e.lineJoin=this.lineJoin);var n=this.strokeShadow;n&&n.enabled&&(e.shadowColor=n.color,e.shadowOffsetX=n.xOffset*t,e.shadowOffsetY=n.yOffset*t,e.shadowBlur=n.blur*t),e.stroke()}},t.className="Rect",t}(ri),zi=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Ui=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._x=0,t._y=0,t._size=12,t}return zi(t,e),Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(e){this._x!==e&&(this._x=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(e){this._y!==e&&(this._y=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._size},set:function(e){this._size!==e&&(this._size=Math.abs(e),this.dirtyPath=!0)},enumerable:!0,configurable:!0}),t.prototype.computeBBox=function(){var e=this,t=e.x,o=e.y,n=e.size,i=n/2;return new On(t-i,o-i,n,n)},t}(ri),$i=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Ki=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return $i(t,e),t.prototype.updatePath=function(){var e=this,t=e.path,o=e.x,n=e.y,i=this.size/2,r=this.alignment,s=this.align;t.clear(),t.moveTo(s(r,o-i),s(r,n-i)),t.lineTo(s(r,o+i),s(r,n-i)),t.lineTo(s(r,o+i),s(r,n+i)),t.lineTo(s(r,o-i),s(r,n+i)),t.closePath()},t.className="Square",t}(Ui),Yi=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),qi=function(e){function t(){var t=e.call(this)||this;t.label=new Ln,t._marker=new Ki,t._markerSize=15,t._spacing=8;var o=t.label;return o.textBaseline="middle",o.fontSize=12,o.fontFamily="Verdana, sans-serif",o.fill="black",o.y=Mn.has.textMetrics?1:0,t.append([t.marker,o]),t.update(),t}return Yi(t,e),Object.defineProperty(t.prototype,"text",{get:function(){return this.label.text},set:function(e){this.label.text=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontStyle",{get:function(){return this.label.fontStyle},set:function(e){this.label.fontStyle=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontWeight",{get:function(){return this.label.fontWeight},set:function(e){this.label.fontWeight=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontSize",{get:function(){return this.label.fontSize},set:function(e){this.label.fontSize=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontFamily",{get:function(){return this.label.fontFamily},set:function(e){this.label.fontFamily=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){return this.label.fill},set:function(e){this.label.fill=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"marker",{get:function(){return this._marker},set:function(e){this._marker!==e&&(this.removeChild(this._marker),this._marker=e,this.appendChild(e),this.update())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"markerSize",{get:function(){return this._markerSize},set:function(e){this._markerSize!==e&&(this._markerSize=e,this.update())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"markerFill",{get:function(){return this.marker.fill},set:function(e){this.marker.fill=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"markerStroke",{get:function(){return this.marker.stroke},set:function(e){this.marker.stroke=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"markerStrokeWidth",{get:function(){return this.marker.strokeWidth},set:function(e){this.marker.strokeWidth=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"markerFillOpacity",{get:function(){return this.marker.fillOpacity},set:function(e){this.marker.fillOpacity=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"markerStrokeOpacity",{get:function(){return this.marker.strokeOpacity},set:function(e){this.marker.strokeOpacity=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"opacity",{get:function(){return this.marker.opacity},set:function(e){this.marker.opacity=e,this.label.opacity=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"spacing",{get:function(){return this._spacing},set:function(e){this._spacing!==e&&(this._spacing=e,this.update())},enumerable:!0,configurable:!0}),t.prototype.update=function(){var e=this.marker,t=this.markerSize;e.size=t,this.label.x=t/2+this.spacing},t.className="MarkerLabel",t}(zn),Xi=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Qi=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Xi(t,e),t.prototype.updatePath=function(){var e=this,t=e.x,o=e.y,n=e.path,i=e.size/2;n.clear(),n.cubicArc(t,o,i,i,0,0,2*Math.PI,0),n.closePath()},t.className="Circle",t}(Ui),Zi=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Ji=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Zi(t,e),t.prototype.updatePath=function(){var e=this.x,t=this.y,o=this.path,n=this.size/4.2;o.clear(),o.moveTo(e-=n,t),o.lineTo(e-=n,t-=n),o.lineTo(e+=n,t-=n),o.lineTo(e+=n,t+=n),o.lineTo(e+=n,t-=n),o.lineTo(e+=n,t+=n),o.lineTo(e-=n,t+=n),o.lineTo(e+=n,t+=n),o.lineTo(e-=n,t+=n),o.lineTo(e-=n,t-=n),o.lineTo(e-=n,t+=n),o.lineTo(e-=n,t-=n),o.closePath()},t.className="Cross",t}(Ui),er=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),tr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return er(t,e),t.prototype.updatePath=function(){var e=this.x,t=this.y,o=this.path,n=this.size/2;o.clear(),o.moveTo(e,t-=n),o.lineTo(e+=n,t+=n),o.lineTo(e-=n,t+=n),o.lineTo(e-=n,t-=n),o.lineTo(e+=n,t-=n),o.closePath()},t.className="Diamond",t}(Ui),or=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),nr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return or(t,e),t.prototype.rad=function(e){return e/180*Math.PI},t.prototype.updatePath=function(){var e=this,t=e.x,o=e.path,n=e.size,i=e.rad,r=n/4,s=this.y+r/2;o.clear(),o.cubicArc(t-r,s-r,r,r,0,i(130),i(330),0),o.cubicArc(t+r,s-r,r,r,0,i(220),i(50),0),o.lineTo(t,s+r),o.closePath()},t.className="Heart",t}(Ui),ir=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),rr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ir(t,e),t.prototype.updatePath=function(){var e=this.x,t=this.y,o=this.path,n=this.size/3,i=n/2;o.clear(),o.moveTo(e-=i,t-=i),o.lineTo(e,t-=n),o.lineTo(e+=n,t),o.lineTo(e,t+=n),o.lineTo(e+=n,t),o.lineTo(e,t+=n),o.lineTo(e-=n,t),o.lineTo(e,t+=n),o.lineTo(e-=n,t),o.lineTo(e,t-=n),o.lineTo(e-=n,t),o.lineTo(e,t-=n),o.closePath()},t.className="Plus",t}(Ui),sr=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),ar=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return sr(t,e),t.prototype.updatePath=function(){var e=this.x,t=this.y,o=this.path,n=1.1*this.size;o.clear(),o.moveTo(e,t-=.48*n),o.lineTo(e+=.5*n,t+=.87*n),o.lineTo(e-=n,t),o.closePath()},t.className="Triangle",t}(Ui);function lr(e){if(void 0===e&&(e=Ki),"string"===typeof e)switch(e){case"circle":return Qi;case"cross":return Ji;case"diamond":return tr;case"heart":return nr;case"plus":return rr;case"triangle":return ar;default:return Ki}return"function"===typeof e?e:Ki}var cr,ur,dr=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),hr=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s};!function(e){e[e.Vertical=0]="Vertical",e[e.Horizontal=1]="Horizontal"}(cr||(cr={})),function(e){e.Top="top",e.Right="right",e.Bottom="bottom",e.Left="left"}(ur||(ur={}));var pr=function(e){function t(){var t=e.call(this)||this;return t.id=Tn(t),t.group=new zn,t.itemSelection=$n.select(t.group).selectAll(),t.oldSize=[0,0],t.data=[],t.enabled=!0,t.orientation=cr.Vertical,t.position=ur.Right,t.spacing=20,t.layoutHorizontalSpacing=16,t.layoutVerticalSpacing=8,t.itemSpacing=8,t.markerSize=15,t.strokeWidth=1,t.color="black",t.fontSize=12,t.fontFamily="Verdana, sans-serif",t._size=[0,0],t.addPropertyListener("data",t.onDataChange),t.addPropertyListener("enabled",t.onEnabledChange),t.addPropertyListener("position",t.onPositionChange),t.addPropertyListener("markerShape",t.onMarkerShapeChange),t.addEventListener("change",t.update),t}return dr(t,e),Object.defineProperty(t.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),t.prototype.onDataChange=function(e){this.group.visible=e.value.length>0&&this.enabled},t.prototype.onEnabledChange=function(e){this.group.visible=e.value&&this.data.length>0},t.prototype.onPositionChange=function(e){switch(e.value){case"right":case"left":this.orientation=cr.Vertical;break;case"bottom":case"top":this.orientation=cr.Horizontal}},t.prototype.onMarkerShapeChange=function(){this.itemSelection=this.itemSelection.setData([]),this.itemSelection.exit.remove()},t.prototype.performLayout=function(e,t){var o=this,n=this,i=n.markerShape,r=n.layoutHorizontalSpacing,s=n.layoutVerticalSpacing,a=this.itemSelection.setData(this.data,(function(e,t){var o=lr(i||t.marker.shape);return t.id+"-"+t.itemId+"-"+o.name}));a.exit.remove();var l=a.enter.append(qi).each((function(e,t){var o=lr(i||t.marker.shape);e.marker=new o})),c=this.itemSelection=a.merge(l),u=c.size,d=[];c.each((function(e,t){e.markerSize=o.markerSize,e.fontStyle=o.fontStyle,e.fontWeight=o.fontWeight,e.fontSize=o.fontSize,e.fontFamily=o.fontFamily,e.text=t.label.text,e.spacing=o.itemSpacing,d.push(e.computeBBox())}));var h=d.length&&d[0].height,p=0,g=0,f=0,m=0;switch(this.orientation){case cr.Horizontal:if(!(isFinite(e)&&e>0))return!1;p=0;var v=0;do{var y=0;v=0,g=0,p++;for(var C=0;C<u;){(S=d[C]).width>g&&(g=S.width),++C%p===0&&(y+=g,g=0,v++)}C%p!==0&&(y+=g,v++),f=y+(v-1)*r}while(f>e&&v>1);m=h*p+(p-1)*s;break;case cr.Vertical:if(!(isFinite(t)&&t>0))return!1;p=2*u;do{p=(p>>1)+p%2,g=0;y=0;var w=0,b=0;for(C=0;C<u;){var S=d[C];b||(w+=S.height),S.width>g&&(g=S.width),++C%p===0&&(y+=g,g=0,b++)}C%p!==0&&(y+=g,b++),f=y+(b-1)*r,m=w+(p-1)*s}while(m>t&&p>1)}var E=(e-f)/2,R=(t-m)/2,P=0,O=0;g=0,c.each((function(e,t,o){e.translationX=Math.floor(E+P),e.translationY=Math.floor(R+O);var n=d[o];n.width>g&&(g=n.width),(o+1)%p===0?(P+=g+r,O=0,g=0):O+=n.height+s})),this.update();var x=this._size,T=this.oldSize;x[0]=f,x[1]=m,x[0]===T[0]&&x[1]===T[1]||(T[0]=x[0],T[1]=x[1])},t.prototype.update=function(){var e=this;this.itemSelection.each((function(t,o){var n=o.marker;t.markerFill=n.fill,t.markerStroke=n.stroke,t.markerStrokeWidth=e.strokeWidth,t.markerFillOpacity=n.fillOpacity,t.markerStrokeOpacity=n.strokeOpacity,t.opacity=o.enabled?1:.5,t.color=e.color}))},t.prototype.getDatumForPoint=function(e,t){var o=this.group.pickNode(e,t);if(o&&o.parent)return o.parent.datum},t.className="Legend",hr([Gn("layoutChange")],t.prototype,"data",void 0),hr([Gn("layoutChange")],t.prototype,"enabled",void 0),hr([Gn("layoutChange")],t.prototype,"orientation",void 0),hr([Gn("layoutChange")],t.prototype,"position",void 0),hr([Gn("layoutChange")],t.prototype,"spacing",void 0),hr([Gn("layoutChange")],t.prototype,"layoutHorizontalSpacing",void 0),hr([Gn("layoutChange")],t.prototype,"layoutVerticalSpacing",void 0),hr([Gn("layoutChange")],t.prototype,"itemSpacing",void 0),hr([Gn("layoutChange")],t.prototype,"markerShape",void 0),hr([Gn("layoutChange")],t.prototype,"markerSize",void 0),hr([Gn("change")],t.prototype,"strokeWidth",void 0),hr([Gn("change")],t.prototype,"color",void 0),hr([Gn("layoutChange")],t.prototype,"fontStyle",void 0),hr([Gn("layoutChange")],t.prototype,"fontWeight",void 0),hr([Gn("layoutChange")],t.prototype,"fontSize",void 0),hr([Gn("layoutChange")],t.prototype,"fontFamily",void 0),t}(kn),gr=function(){function e(){}return e.init=function(){var e=this,t=window.ResizeObserver;if(t)this.resizeObserver=new t((function(t){for(var o=0,n=t;o<n.length;o++){var i=n[o],r=i.contentRect,s=r.width,a=r.height;e.checkSize(e.elements.get(i.target),i.target,s,a)}}));else{window.setInterval((function(){e.elements.forEach((function(t,o){var n=o.clientWidth?o.clientWidth:0,i=o.clientHeight?o.clientHeight:0;e.checkSize(t,o,n,i)}))}),100)}this.ready=!0},e.checkSize=function(e,t,o,n){e&&(e.size&&o===e.size.width&&n===e.size.height||(e.size={width:o,height:n},e.cb(e.size,t)))},e.observe=function(e,t){this.ready||this.init(),this.unobserve(e),this.resizeObserver&&this.resizeObserver.observe(e),this.elements.set(e,{cb:t})},e.unobserve=function(e){this.resizeObserver&&this.resizeObserver.unobserve(e),this.elements.delete(e)},e.elements=new Map,e.requestAnimationFrameId=0,e.ready=!1,e}(),fr=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),mr=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},vr=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.id=Tn(t),t.group=new zn,t.directions=[hi.X,hi.Y],t.tooltipEnabled=!0,t.data=void 0,t.visible=!0,t.showInLegend=!0,t.scheduleLayout=function(){t.fireEvent({type:"layoutChange"})},t.scheduleData=function(){t.fireEvent({type:"dataChange"})},t}return fr(t,e),Object.defineProperty(t.prototype,"type",{get:function(){return this.constructor.type||""},enumerable:!0,configurable:!0}),t.prototype.getKeys=function(e){var t=this,o=this.directionKeys,n=o&&o[e],i=[];return n&&n.forEach((function(e){var o=t[e];o&&(Array.isArray(o)?i.push.apply(i,o):i.push(o))})),i},t.prototype.getNodeData=function(){return[]},t.prototype.fireNodeClickEvent=function(e){},t.prototype.toggleSeriesItem=function(e,t){this.visible=t},t.prototype.onHighlightChange=function(){},t.prototype.fixNumericExtent=function(e,t){if(!e)return[0,1];var o=e[0],n=e[1];return o===n&&(o-=1,n+=1),isFinite(o)&&isFinite(n)||(o=0,n=1),[o,n]},mr([Gn("dataChange")],t.prototype,"data",void 0),mr([Gn("dataChange")],t.prototype,"visible",void 0),mr([Gn("layoutChange")],t.prototype,"showInLegend",void 0),t}(kn),yr=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Cr=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},wr=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.enabled=!0,t.shape=Qi,t.size=8,t.minSize=8,t.strokeWidth=1,t}return yr(t,e),Cr([Gn("change")],t.prototype,"enabled",void 0),Cr([Gn("change")],t.prototype,"shape",void 0),Cr([Gn("change")],t.prototype,"size",void 0),Cr([Gn("change")],t.prototype,"minSize",void 0),Cr([Gn("change")],t.prototype,"fill",void 0),Cr([Gn("change")],t.prototype,"stroke",void 0),Cr([Gn("change")],t.prototype,"strokeWidth",void 0),t}(kn),br=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Sr=function(e){function t(){var t,o=null!==e&&e.apply(this,arguments)||this;return o.directionKeys=((t={})[hi.X]=["xKey"],t[hi.Y]=["yKey"],t),o}return br(t,e),t}(vr),Er=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return br(t,e),t}(wr),Rr=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Pr=function(){return Pr=Object.assign||function(e){for(var t,o=1,n=arguments.length;o<n;o++)for(var i in t=arguments[o])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Pr.apply(this,arguments)},Or=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},xr=function(e){function t(o){void 0===o&&(o=window.document);var n=e.call(this)||this;n.id=Tn(n),n.background=new ji,n.legend=new pr,n.legendAutoPadding=new Pn,n.captionAutoPadding=0,n._container=void 0,n._data=[],n._autoSize=!1,n.padding=new Pn(20),n._axes=[],n._series=[],n._axesChanged=!1,n._seriesChanged=!1,n.layoutCallbackId=0,n._performLayout=function(){n.layoutCallbackId=0,n.background.width=n.width,n.background.height=n.height,n.performLayout(),n.layoutPending||n.fireEvent({type:"layoutDone"})},n.dataCallbackId=0,n._onMouseDown=n.onMouseDown.bind(n),n._onMouseUp=n.onMouseUp.bind(n),n._onMouseMove=n.onMouseMove.bind(n),n._onMouseOut=n.onMouseOut.bind(n),n._onClick=n.onClick.bind(n),n._tooltipClass=t.defaultTooltipClass,n.tooltipTracking=!0;var i=new zn,r=n.background;r.fill="white",i.appendChild(r);var s=n._element=o.createElement("div");s.style.boxSizing="border-box",s.style.overflow="hidden",s.style.height="100%";var a=new Bi(o);n.scene=a,a.root=i,a.container=s,n.autoSize=!0;var l=n.legend;if(l.addEventListener("layoutChange",n.onLayoutChange,n),l.addPropertyListener("position",n.onLegendPositionChange,n),n.tooltipElement=o.createElement("div"),n.tooltipClass="",o.body.appendChild(n.tooltipElement),t.tooltipDocuments.indexOf(o)<0){var c=o.createElement("style");c.innerHTML='\n.ag-chart-tooltip {\n    display: none;\n    position: absolute;\n    user-select: none;\n    pointer-events: none;\n    white-space: nowrap;\n    z-index: 99999;\n    font: 12px Verdana, sans-serif;\n    color: black;\n    background: rgb(244, 244, 244);\n    border-radius: 5px;\n    box-shadow: 0 0 1px rgba(3, 3, 3, 0.7), 0.5vh 0.5vh 1vh rgba(3, 3, 3, 0.25);\n}\n\n.ag-chart-tooltip-visible {\n    display: table;\n}\n\n.ag-chart-tooltip-title {\n    font-weight: bold;\n    padding: 7px;\n    border-top-left-radius: 5px;\n    border-top-right-radius: 5px;\n    color: white;\n    background-color: #888888;\n    border-top-left-radius: 5px;\n    border-top-right-radius: 5px;\n}\n\n.ag-chart-tooltip-content {\n    padding: 7px;\n    line-height: 1.7em;\n    border-bottom-left-radius: 5px;\n    border-bottom-right-radius: 5px;\n}\n\n.ag-chart-tooltip-arrow::before {\n    content: "";\n\n    position: absolute;\n    top: 100%;\n    left: 50%;\n    transform: translateX(-50%);\n\n    border: 6px solid #989898;\n\n    border-left-color: transparent;\n    border-right-color: transparent;\n    border-top-color: #989898;\n    border-bottom-color: transparent;\n\n    width: 0;\n    height: 0;\n\n    margin: 0 auto;\n}\n\n.ag-chart-tooltip-arrow::after {\n    content: "";\n\n    position: absolute;\n    top: 100%;\n    left: 50%;\n    transform: translateX(-50%);\n\n    border: 5px solid black;\n\n    border-left-color: transparent;\n    border-right-color: transparent;\n    border-top-color: rgb(244, 244, 244);\n    border-bottom-color: transparent;\n\n    width: 0;\n    height: 0;\n\n    margin: 0 auto;\n}\n',o.head.insertBefore(c,o.head.querySelector("style")),t.tooltipDocuments.push(o)}return n.setupDomListeners(a.canvas.element),n.addPropertyListener("title",n.onCaptionChange),n.addPropertyListener("subtitle",n.onCaptionChange),n.addEventListener("layoutChange",(function(){return n.layoutPending=!0})),n}return Rr(t,e),Object.defineProperty(t.prototype,"container",{get:function(){return this._container},set:function(e){if(this._container!==e){var t=this.element.parentNode;null!=t&&t.removeChild(this.element),e&&e.appendChild(this.element),this._container=e}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"data",{get:function(){return this._data},set:function(e){this._data=e,this.series.forEach((function(t){return t.data=e}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this.scene.width},set:function(e){this.autoSize=!1,this.width!==e&&(this.scene.resize(e,this.height),this.fireEvent({type:"layoutChange"}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.scene.height},set:function(e){this.autoSize=!1,this.height!==e&&(this.scene.resize(this.width,e),this.fireEvent({type:"layoutChange"}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"autoSize",{get:function(){return this._autoSize},set:function(e){if(this._autoSize!==e)if(this._autoSize=e,e){var t=this;gr.observe(this.element,(function(e){e.width===t.width&&e.height===t.height||(t.scene.resize(e.width,e.height),t.fireEvent({type:"layoutChange"}))})),this.element.style.display="block"}else gr.unobserve(this.element),this.element.style.display="inline-block"},enumerable:!0,configurable:!0}),t.prototype.download=function(e){this.scene.download(e)},t.prototype.destroy=function(){var e=this.tooltipElement.parentNode;e&&e.removeChild(this.tooltipElement),gr.unobserve(this.element),this.container=void 0,this.cleanupDomListeners(this.scene.canvas.element),this.scene.container=void 0},t.prototype.onLayoutChange=function(){this.layoutPending=!0},t.prototype.onLegendPositionChange=function(){this.legendAutoPadding.clear(),this.layoutPending=!0},t.prototype.onCaptionChange=function(e){var t=e.value,o=e.oldValue;o&&(o.removeEventListener("change",this.onLayoutChange,this),this.scene.root.removeChild(o.node)),t&&(t.addEventListener("change",this.onLayoutChange,this),this.scene.root.appendChild(t.node))},Object.defineProperty(t.prototype,"element",{get:function(){return this._element},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"axes",{get:function(){return this._axes},set:function(e){var t=this;this._axes.forEach((function(e){return t.detachAxis(e)})),this._axes=e.filter((function(e){return!e.linkedTo})).concat(e.filter((function(e){return e.linkedTo}))),this._axes.forEach((function(e){return t.attachAxis(e)})),this.axesChanged=!0},enumerable:!0,configurable:!0}),t.prototype.attachAxis=function(e){this.scene.root.insertBefore(e.group,this.seriesRoot)},t.prototype.detachAxis=function(e){this.scene.root.removeChild(e.group)},Object.defineProperty(t.prototype,"series",{get:function(){return this._series},set:function(e){var t=this;this.removeAllSeries(),e.forEach((function(e){return t.addSeries(e)}))},enumerable:!0,configurable:!0}),t.prototype.scheduleLayout=function(){this.layoutPending=!0},t.prototype.scheduleData=function(){this.dehighlightDatum(),this.dataPending=!0},t.prototype.addSeries=function(e,t){var o=this.series,n=this.seriesRoot;if(o.indexOf(e)<0){var i=t?o.indexOf(t):-1;return i>=0?(o.splice(i,0,e),n.insertBefore(e.group,t.group)):(o.push(e),n.append(e.group)),this.initSeries(e),this.seriesChanged=!0,this.axesChanged=!0,!0}return!1},t.prototype.initSeries=function(e){e.chart=this,e.data||(e.data=this.data),e.addEventListener("layoutChange",this.scheduleLayout,this),e.addEventListener("dataChange",this.scheduleData,this),e.addEventListener("legendChange",this.updateLegend,this),e.addEventListener("nodeClick",this.onSeriesNodeClick,this)},t.prototype.freeSeries=function(e){e.chart=void 0,e.removeEventListener("layoutChange",this.scheduleLayout,this),e.removeEventListener("dataChange",this.scheduleData,this),e.removeEventListener("legendChange",this.updateLegend,this),e.removeEventListener("nodeClick",this.onSeriesNodeClick,this)},t.prototype.addSeriesAfter=function(e,t){var o=this.series,n=this.seriesRoot;if(o.indexOf(e)<0){var i=t?this.series.indexOf(t):-1;i>=0?(i+1<o.length?n.insertBefore(e.group,o[i+1].group):n.append(e.group),this.initSeries(e),o.splice(i+1,0,e)):(o.length>0?n.insertBefore(e.group,o[0].group):n.append(e.group),this.initSeries(e),o.unshift(e)),this.seriesChanged=!0,this.axesChanged=!0}return!1},t.prototype.removeSeries=function(e){var t=this.series.indexOf(e);return t>=0&&(this.series.splice(t,1),this.freeSeries(e),this.seriesRoot.removeChild(e.group),this.seriesChanged=!0,!0)},t.prototype.removeAllSeries=function(){var e=this;this.series.forEach((function(t){e.freeSeries(t),e.seriesRoot.removeChild(t.group)})),this._series=[],this.seriesChanged=!0},t.prototype.assignSeriesToAxes=function(){var e=this;this.axes.forEach((function(t){var o=t.direction+"Axis",n=[];e.series.forEach((function(e){e[o]===t&&n.push(e)})),t.boundSeries=n})),this.seriesChanged=!1},t.prototype.assignAxesToSeries=function(e){var t=this;void 0===e&&(e=!1);var o={};this.axes.forEach((function(e){var t=e.direction;(o[t]||(o[t]=[])).push(e)})),this.series.forEach((function(n){if(n.directions.forEach((function(i){var r=i+"Axis";if(!n[r]||e){var s=o[i];if(s){var a=t.findMatchingAxis(s,n.getKeys(i));a&&(n[r]=a)}}})),n instanceof Sr){if(!n.xAxis)return void console.warn("Could not find a matching xAxis for the "+n.id+" series.");if(!n.yAxis)return void console.warn("Could not find a matching yAxis for the "+n.id+" series.")}})),this.axesChanged=!1},t.prototype.findMatchingAxis=function(e,t){for(var o=0;o<e.length;o++){var n=e[o],i=n.keys;if(!i.length)return n;if(t)for(var r=0;r<t.length;r++)if(i.indexOf(t[r])>=0)return n}},Object.defineProperty(t.prototype,"axesChanged",{get:function(){return this._axesChanged},set:function(e){this._axesChanged=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"seriesChanged",{get:function(){return this._seriesChanged},set:function(e){this._seriesChanged=e,e&&(this.dataPending=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"layoutPending",{get:function(){return!!this.layoutCallbackId},set:function(e){e?this.layoutCallbackId||this.dataPending||(this.layoutCallbackId=requestAnimationFrame(this._performLayout)):this.layoutCallbackId&&(cancelAnimationFrame(this.layoutCallbackId),this.layoutCallbackId=0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dataPending",{get:function(){return!!this.dataCallbackId},set:function(e){var t=this;this.dataCallbackId&&(clearTimeout(this.dataCallbackId),this.dataCallbackId=0),e&&(this.dataCallbackId=window.setTimeout((function(){t.dataPending=!1,t.processData()}),0))},enumerable:!0,configurable:!0}),t.prototype.processData=function(){this.layoutPending=!1,this.axesChanged&&(this.assignAxesToSeries(!0),this.assignSeriesToAxes()),this.seriesChanged&&this.assignSeriesToAxes(),this.series.filter((function(e){return e.visible})).forEach((function(e){return e.processData()})),this.updateLegend(),this.layoutPending=!0},t.prototype.updateLegend=function(){var e=[];this.series.filter((function(e){return e.showInLegend})).forEach((function(t){return t.listSeriesItems(e)})),this.legend.data=e},t.prototype.positionCaptions=function(){var e=this.title,t=this.subtitle,o=!1,n=!1,i=10;if(e&&e.enabled){e.node.x=this.width/2,e.node.y=i,o=!0;var r=e.node.computeBBox();if(r&&(i=r.y+r.height),t&&t.enabled){t.node.x=this.width/2,t.node.y=i+10,n=!0;var s=t.node.computeBBox();s&&(i=s.y+s.height)}}e&&(e.node.visible=o),t&&(t.node.visible=n),this.captionAutoPadding=Math.floor(i)},t.prototype.positionLegend=function(){if(this.legend.enabled&&this.legend.data.length){var e,t=this,o=t.legend,n=t.captionAutoPadding,i=t.legendAutoPadding,r=this.width,s=this.height-n,a=o.group,l=o.spacing,c=0,u=0;switch(o.position){case"bottom":o.performLayout(r-2*l,0),c=(r-(e=a.computeBBox()).width)/2-e.x,u=n+s-e.height-e.y-l,i.bottom=e.height;break;case"top":o.performLayout(r-2*l,0),c=(r-(e=a.computeBBox()).width)/2-e.x,u=n+l-e.y,i.top=e.height;break;case"left":o.performLayout(0,s-2*l),c=l-(e=a.computeBBox()).x,u=n+(s-e.height)/2-e.y,i.left=e.width;break;default:o.performLayout(0,s-2*l),c=r-(e=a.computeBBox()).width-e.x-l,u=n+(s-e.height)/2-e.y,i.right=e.width}a.translationX=Math.floor(c+a.translationX),a.translationY=Math.floor(u+a.translationY)}},t.prototype.setupDomListeners=function(e){e.addEventListener("mousedown",this._onMouseDown),e.addEventListener("mousemove",this._onMouseMove),e.addEventListener("mouseup",this._onMouseUp),e.addEventListener("mouseout",this._onMouseOut),e.addEventListener("click",this._onClick)},t.prototype.cleanupDomListeners=function(e){e.removeEventListener("mousedown",this._onMouseDown),e.removeEventListener("mousemove",this._onMouseMove),e.removeEventListener("mouseup",this._onMouseUp),e.removeEventListener("mouseout",this._onMouseOut),e.removeEventListener("click",this._onClick)},t.prototype.pickSeriesNode=function(e,t){if(this.seriesRect&&this.seriesRect.containsPoint(e,t))for(var o=this.series,n=void 0,i=o.length-1;i>=0;i--){var r=o[i];if(n=r.group.pickNode(e,t))return{series:r,node:n}}},t.prototype.pickClosestSeriesNodeDatum=function(e,t){if(this.seriesRect&&this.seriesRect.containsPoint(e,t)){for(var o,n=this.series,i=1/0,r=function(r){var s=n[r];if(!s.visible)return"continue";var a=s.group.transformPoint(e,t);s.getNodeData().forEach((function(e){if(e.point){var t,n,r=(t=a,n=e.point,Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2)));r<i&&(i=r,o=e)}}))},s=n.length-1;s>=0;s--)r(s);return o||void 0}},t.prototype.onMouseMove=function(e){var t,o=this.lastPick,n=this.tooltipTracking,i=this.pickSeriesNode(e.offsetX,e.offsetY);if(i&&i.node instanceof _n){var r=i.node;if(t=r.datum,o&&o.datum===t&&(o.node=r),!r.datum.point||!n)return void(o&&o.node===r?i.series.tooltipEnabled&&this.showTooltip(e):this.onSeriesDatumPick(e,r.datum,r))}var s=!1;if(n){var a=this.pickClosestSeriesNodeDatum(e.offsetX,e.offsetY);if(a&&a.point){var l=a.point,c=l.x,u=l.y,d=this.scene.canvas,h=a.series.group.inverseTransformPoint(c,u),p=d.element.getBoundingClientRect();this.onSeriesDatumPick({pageX:Math.round(p.left+window.pageXOffset+h.x),pageY:Math.round(p.top+window.pageYOffset+h.y)},a,t===a?i.node:void 0)}else s=!0}!o||!s&&n||(this.dehighlightDatum(),this.hideTooltip(),this.lastPick=void 0)},t.prototype.onMouseDown=function(e){},t.prototype.onMouseUp=function(e){},t.prototype.onMouseOut=function(e){this.toggleTooltip(!1)},t.prototype.onClick=function(e){this.checkSeriesNodeClick(),this.checkLegendClick(e)},t.prototype.checkSeriesNodeClick=function(){var e=this.lastPick;if(e&&e.node){var t=this.lastPick.datum;t.series.fireNodeClickEvent(t)}},t.prototype.onSeriesNodeClick=function(e){this.fireEvent(Pr(Pr({},e),{type:"seriesNodeClick"}))},t.prototype.checkLegendClick=function(e){var t=this.legend.getDatumForPoint(e.offsetX,e.offsetY);if(t){var o=t.id,n=t.itemId,i=t.enabled,r=Si(this.series,(function(e){return e.id===o}));r&&(r.toggleSeriesItem(n,!i),i&&this.hideTooltip())}},t.prototype.onSeriesDatumPick=function(e,t,o){this.lastPick&&this.dehighlightDatum(),this.lastPick={datum:t,node:o},this.highlightDatum(t);var n=t.series.tooltipEnabled&&t.series.getTooltipHtml(t);n&&this.showTooltip(e,n)},t.prototype.highlightDatum=function(e){this.highlightedDatum=e,this.series.forEach((function(e){return e.onHighlightChange()}))},t.prototype.dehighlightDatum=function(){this.highlightedDatum&&(this.highlightedDatum=void 0,this.series.forEach((function(e){return e.onHighlightChange()})))},Object.defineProperty(t.prototype,"tooltipClass",{get:function(){return this._tooltipClass},set:function(e){this._tooltipClass!==e&&(this._tooltipClass=e,this.toggleTooltip())},enumerable:!0,configurable:!0}),t.prototype.toggleTooltip=function(e){!e&&this.lastPick&&(this.dehighlightDatum(),this.lastPick=void 0),this.updateTooltipClass(e)},t.prototype.updateTooltipClass=function(e,o){var n=[t.defaultTooltipClass,this.tooltipClass];!0===e&&n.push(t.defaultTooltipClass+"-visible"),!0!==o&&n.push(t.defaultTooltipClass+"-arrow"),this.tooltipElement.setAttribute("class",n.join(" "))},t.prototype.showTooltip=function(e,t){var o=this.tooltipElement,n=this.container;if(void 0!==t)o.innerHTML=t;else if(!o.innerHTML)return;t&&this.toggleTooltip(!0);var i=e.pageX-o.clientWidth/2,r=e.pageY-o.clientHeight-8;if(n){var s=o.getBoundingClientRect(),a=window.innerWidth-s.width;i<0?(i=0,this.updateTooltipClass(!0,!0)):i>a&&(i=a,this.updateTooltipClass(!0,!0))}o.style.left=i+"px",o.style.top=r+"px"},t.prototype.hideTooltip=function(){this.toggleTooltip(!1)},t.defaultTooltipClass="ag-chart-tooltip",t.tooltipDocuments=[],Or([Gn("layoutChange")],t.prototype,"padding",void 0),Or([Gn("layoutChange")],t.prototype,"title",void 0),Or([Gn("layoutChange")],t.prototype,"subtitle",void 0),t}(kn),Tr=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Dr=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isContainerNode=!0,t.path=new ni,t._active=!0,t._dirtyPath=!0,t._x=0,t._y=0,t._width=10,t._height=10,t}return Tr(t,e),t.prototype.containsPoint=function(e,t){var o=this.transformPoint(e,t);return o.x>=this.x&&o.x<=this.x+this.width&&o.y>=this.y&&o.y<=this.y+this.height},Object.defineProperty(t.prototype,"active",{get:function(){return this._active},set:function(e){this._active!==e&&(this._active=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dirtyPath",{get:function(){return this._dirtyPath},set:function(e){this._dirtyPath!==e&&(this._dirtyPath=e,e&&(this.dirty=!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(e){this._x!==e&&(this._x=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(e){this._y!==e&&(this._y=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this._width},set:function(e){this._width!==e&&(this._width=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},set:function(e){this._height!==e&&(this._height=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),t.prototype.updatePath=function(){var e=this.path;e.clear(),e.rect(this.x,this.y,this.width,this.height),this.dirtyPath=!1},t.prototype.computeBBox=function(){var e=this,t=e.x,o=e.y,n=e.width,i=e.height;return new On(t,o,n,i)},t.prototype.render=function(e){this.active&&(this.dirtyPath&&this.updatePath(),this.scene.appendPath(this.path),e.clip());for(var t=this.children,o=t.length,n=0;n<o;n++){e.save();var i=t[n];i.visible&&i.render(e),e.restore()}},t.className="ClipRect",t}(Dn),Ar=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Fr=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._fill="#f2f2f2",t._stroke="#999999",t._strokeWidth=1,t._lineCap="square",t._centerX=0,t._centerY=0,t._width=8,t._gripLineGap=2,t._gripLineLength=8,t._height=16,t}return Ar(t,e),Object.defineProperty(t.prototype,"centerX",{get:function(){return this._centerX},set:function(e){this._centerX!==e&&(this._centerX=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"centerY",{get:function(){return this._centerY},set:function(e){this._centerY!==e&&(this._centerY=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this._width},set:function(e){this._width!==e&&(this._width=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"gripLineGap",{get:function(){return this._gripLineGap},set:function(e){this._gripLineGap!==e&&(this._gripLineGap=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"gripLineLength",{get:function(){return this._gripLineLength},set:function(e){this._gripLineLength!==e&&(this._gripLineLength=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},set:function(e){this._height!==e&&(this._height=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),t.prototype.computeBBox=function(){var e=this,t=e.centerX,o=e.centerY,n=e.width,i=e.height;return new On(t-n/2,o-i/2,n,i)},t.prototype.isPointInPath=function(e,t){var o=this.transformPoint(e,t);return this.computeBBox().containsPoint(o.x,o.y)},t.prototype.updatePath=function(){var e=this,t=e.path,o=e.centerX,n=e.centerY,i=e.width,r=e.height,s=this.alignment,a=this.align;t.clear();var l=o-i/2,c=n-r/2,u=a(s,l),d=a(s,c),h=u+a(s,l,i),p=d+a(s,c,r);t.moveTo(u,d),t.lineTo(h,d),t.lineTo(h,p),t.lineTo(u,p),t.lineTo(u,d);var g=this.gripLineGap/2,f=this.gripLineLength/2;t.moveTo(a(s,o-g),a(s,n-f)),t.lineTo(a(s,o-g),a(s,n+f)),t.moveTo(a(s,o+g),a(s,n-f)),t.lineTo(a(s,o+g),a(s,n+f))},t.className="RangeHandle",t}(ri),_r=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Mr=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._stroke="#999999",t._strokeWidth=1,t._fill="#999999",t._fillOpacity=.2,t._lineCap="square",t._x=0,t._y=0,t._width=200,t._height=30,t.minRange=.05,t._min=0,t._max=1,t}return _r(t,e),Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(e){this._x!==e&&(this._x=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(e){this._y!==e&&(this._y=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this._width},set:function(e){this._width!==e&&(this._width=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},set:function(e){this._height!==e&&(this._height=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"min",{get:function(){return this._min},set:function(e){e=Math.min(Math.max(e,0),this.max-this.minRange),isNaN(e)||this._min!==e&&(this._min=e,this.dirtyPath=!0,this.onRangeChange&&this.onRangeChange(e,this.max))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"max",{get:function(){return this._max},set:function(e){e=Math.max(Math.min(e,1),this.min+this.minRange),isNaN(e)||this._max!==e&&(this._max=e,this.dirtyPath=!0,this.onRangeChange&&this.onRangeChange(this.min,e))},enumerable:!0,configurable:!0}),t.prototype.computeBBox=function(){var e=this,t=e.x,o=e.y,n=e.width,i=e.height;return new On(t,o,n,i)},t.prototype.computeVisibleRangeBBox=function(){var e=this,t=e.x,o=e.y,n=e.width,i=e.height,r=e.min,s=e.max,a=t+n*r;return new On(a,o,t+n*s-a,i)},t.prototype.updatePath=function(){var e=this,t=e.path,o=e.x,n=e.y,i=e.width,r=e.height,s=e.min,a=e.max,l=this.alignment,c=this.align;t.clear();var u=c(l,o),d=c(l,n),h=u+c(l,o,i),p=d+c(l,n,r);t.moveTo(u,d),t.lineTo(h,d),t.lineTo(h,p),t.lineTo(u,p),t.lineTo(u,d);var g=c(l,o+i*s),f=c(l,o+i*a);t.moveTo(g,d),t.lineTo(g,p),t.lineTo(f,p),t.lineTo(f,d),t.lineTo(g,d)},t.className="RangeMask",t}(ri),Ir=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Lr=function(e){function t(){var o=null!==e&&e.apply(this,arguments)||this;return o.isContainerNode=!0,o.minHandle=new Fr,o.maxHandle=new Fr,o.mask=function(){var e=t.defaults,n=e.x,i=e.y,r=e.width,s=e.height,a=e.min,l=e.max,c=new Mr;c.x=n,c.y=i,c.width=r,c.height=s,c.min=a,c.max=l;var u=o,d=u.minHandle,h=u.maxHandle;return d.centerX=n,h.centerX=n+r,d.centerY=h.centerY=i+s/2,o.append([c,d,h]),c.onRangeChange=function(e,t){o.updateHandles(),o.onRangeChange&&o.onRangeChange(e,t)},c}(),o._x=t.defaults.x,o._y=t.defaults.y,o._width=t.defaults.width,o._height=t.defaults.height,o._min=t.defaults.min,o._max=t.defaults.max,o}return Ir(t,e),Object.defineProperty(t.prototype,"x",{get:function(){return this.mask.x},set:function(e){this.mask.x=e,this.updateHandles()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this.mask.y},set:function(e){this.mask.y=e,this.updateHandles()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this.mask.width},set:function(e){this.mask.width=e,this.updateHandles()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.mask.height},set:function(e){this.mask.height=e,this.updateHandles()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"min",{get:function(){return this.mask.min},set:function(e){this.mask.min=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"max",{get:function(){return this.mask.max},set:function(e){this.mask.max=e},enumerable:!0,configurable:!0}),t.prototype.updateHandles=function(){var e=this,t=e.minHandle,o=e.maxHandle,n=e.x,i=e.y,r=e.width,s=e.height,a=e.mask;t.centerX=n+r*a.min,o.centerX=n+r*a.max,t.centerY=o.centerY=i+s/2},t.prototype.computeBBox=function(){return this.mask.computeBBox()},t.prototype.computeVisibleRangeBBox=function(){return this.mask.computeVisibleRangeBBox()},t.prototype.render=function(e){this.dirtyTransform&&this.computeTransformMatrix(),this.matrix.toContext(e);var t=this;[t.mask,t.minHandle,t.maxHandle].forEach((function(t){e.save(),t.visible&&t.render(e),e.restore()}))},t.className="Range",t.defaults={x:0,y:0,width:200,height:30,min:0,max:1},t}(zn),Nr=function(){function e(e){this.rm=e}return Object.defineProperty(e.prototype,"fill",{get:function(){return this.rm.fill},set:function(e){this.rm.fill=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"stroke",{get:function(){return this.rm.stroke},set:function(e){this.rm.stroke=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"strokeWidth",{get:function(){return this.rm.strokeWidth},set:function(e){this.rm.strokeWidth=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fillOpacity",{get:function(){return this.rm.fillOpacity},set:function(e){this.rm.fillOpacity=e},enumerable:!0,configurable:!0}),e}(),kr=function(){function e(e){this.rh=e}return Object.defineProperty(e.prototype,"fill",{get:function(){return this.rh.fill},set:function(e){this.rh.fill=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"stroke",{get:function(){return this.rh.stroke},set:function(e){this.rh.stroke=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"strokeWidth",{get:function(){return this.rh.strokeWidth},set:function(e){this.rh.strokeWidth=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this.rh.width},set:function(e){this.rh.width=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.rh.height},set:function(e){this.rh.height=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"gripLineGap",{get:function(){return this.rh.gripLineGap},set:function(e){this.rh.gripLineGap=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"gripLineLength",{get:function(){return this.rh.gripLineLength},set:function(e){this.rh.gripLineLength=e},enumerable:!0,configurable:!0}),e}(),Gr=function(){function e(e){var t=this;this.rs=new Lr,this.mask=new Nr(this.rs.mask),this.minHandle=new kr(this.rs.minHandle),this.maxHandle=new kr(this.rs.maxHandle),this.minHandleDragging=!1,this.maxHandleDragging=!1,this.panHandleOffset=NaN,this._margin=10,this.chart=e,e.scene.root.append(this.rs),this.rs.onRangeChange=function(e,o){return t.updateAxes(e,o)}}return Object.defineProperty(e.prototype,"enabled",{get:function(){return this.rs.visible},set:function(e){this.rs.visible=e,this.chart.layoutPending=!0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"x",{get:function(){return this.rs.x},set:function(e){this.rs.x=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this.rs.y},set:function(e){this.rs.y=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this.rs.width},set:function(e){this.rs.width=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.rs.height},set:function(e){this.rs.height=e,this.chart.layoutPending=!0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"margin",{get:function(){return this._margin},set:function(e){this._margin=e,this.chart.layoutPending=!0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"min",{get:function(){return this.rs.min},set:function(e){this.rs.min=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"max",{get:function(){return this.rs.max},set:function(e){this.rs.max=e},enumerable:!0,configurable:!0}),e.prototype.updateAxes=function(e,t){this.chart.axes.forEach((function(o){o.direction===hi.X&&(o.visibleRange=[e,t],o.update())})),this.chart.series.forEach((function(e){return e.update()}))},e.prototype.onMouseDown=function(e){var t=e.offsetX,o=e.offsetY,n=this.rs,i=n.minHandle,r=n.maxHandle,s=n.x,a=n.width,l=n.min,c=n.computeVisibleRangeBBox();this.minHandleDragging||this.maxHandleDragging||(i.containsPoint(t,o)?this.minHandleDragging=!0:r.containsPoint(t,o)?this.maxHandleDragging=!0:c.containsPoint(t,o)&&(this.panHandleOffset=(t-s)/a-l))},e.prototype.onMouseMove=function(e){var t=this.rs,o=this.panHandleOffset,n=t.x,i=t.y,r=t.width,s=t.height,a=t.minHandle,l=t.maxHandle,c=this.chart.element.style,u=e.offsetX,d=e.offsetY,h=n+r*t.min,p=n+r*t.max,g=new On(h,i,p-h,s);function f(){return Math.min(Math.max((u-n)/r,0),1)}if(a.containsPoint(u,d)||l.containsPoint(u,d)?c.cursor="ew-resize":g.containsPoint(u,d)?c.cursor="grab":c.cursor="default",this.minHandleDragging)t.min=f();else if(this.maxHandleDragging)t.max=f();else if(!isNaN(o)){var m=t.max-t.min,v=Math.min(f()-o,1-m);v<=t.min?(t.min=v,t.max=t.min+m):(t.max=v+m,t.min=t.max-m)}},e.prototype.onMouseOut=function(e){this.stopHandleDragging()},e.prototype.onMouseUp=function(e){this.stopHandleDragging()},e.prototype.stopHandleDragging=function(){this.minHandleDragging=this.maxHandleDragging=!1,this.panHandleOffset=NaN},e}(),Vr=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Hr=function(e){function t(t){void 0===t&&(t=window.document);var o=e.call(this,t)||this;o._seriesRoot=new Dr,o.navigator=new Gr(o),o.scene.root.visible=!1;var n=o.scene.root;return n.append(o.seriesRoot),n.append(o.legend.group),o.navigator.enabled=!1,o}return Vr(t,e),Object.defineProperty(t.prototype,"seriesRoot",{get:function(){return this._seriesRoot},enumerable:!0,configurable:!0}),t.prototype.performLayout=function(){if(!this.dataPending){this.scene.root.visible=!0;var e=this,t=e.width,o=e.height,n=e.axes,i=e.legend,r=e.navigator,s=new On(0,0,t,o);if(this.positionCaptions(),this.positionLegend(),i.enabled&&i.data.length){var a=this.legendAutoPadding,l=this.legend.spacing;switch(s.x+=a.left,s.y+=a.top,s.width-=a.left+a.right,s.height-=a.top+a.bottom,this.legend.position){case"right":s.width-=l;break;case"bottom":s.height-=l;break;case"left":s.x+=l,s.width-=l;break;case"top":s.y+=l,s.height-=l}}var c=this.captionAutoPadding,u=this.padding;this.updateAxes(),s.x+=u.left,s.width-=u.left+u.right,s.y+=u.top+c,s.height-=u.top+c+u.bottom,r.enabled&&(s.height-=r.height+r.margin);var d=0;n.forEach((function(e){e.group.visible=!0;var t=Math.floor(e.computeBBox().width);switch(e.position){case pi.Top:s.y+=t,s.height-=t,e.translation.y=Math.floor(s.y+1),e.label.mirrored=!0;break;case pi.Right:s.width-=t,e.translation.x=Math.floor(s.x+s.width),e.label.mirrored=!0;break;case pi.Bottom:s.height-=t,d+=t,e.translation.y=Math.floor(s.y+s.height+1);break;case pi.Left:s.x+=t,s.width-=t,e.translation.x=Math.floor(s.x)}})),n.forEach((function(e){switch(e.position){case pi.Top:e.translation.x=Math.floor(s.x),e.range=[0,s.width],e.gridLength=s.height;break;case pi.Right:e.translation.y=Math.floor(s.y),e.range=e instanceof bi||e instanceof Hi?[0,s.height]:[s.height,0],e.gridLength=s.width;break;case pi.Bottom:e.translation.x=Math.floor(s.x),e.range=[0,s.width],e.gridLength=s.height;break;case pi.Left:e.translation.y=Math.floor(s.y),e.range=e instanceof bi||e instanceof Hi?[0,s.height]:[s.height,0],e.gridLength=s.width}})),this.seriesRect=s,this.series.forEach((function(e){e.group.translationX=Math.floor(s.x),e.group.translationY=Math.floor(s.y),e.update()}));var h=this.seriesRoot;h.x=s.x,h.y=s.y,h.width=s.width,h.height=s.height,r.enabled&&(r.x=s.x,r.y=s.y+s.height+d+r.margin,r.width=s.width),this.axes.forEach((function(e){return e.update()}))}},t.prototype.initSeries=function(t){e.prototype.initSeries.call(this,t),t.addEventListener("dataProcessed",this.updateAxes,this)},t.prototype.freeSeries=function(t){e.prototype.freeSeries.call(this,t),t.removeEventListener("dataProcessed",this.updateAxes,this)},t.prototype.onMouseDown=function(t){e.prototype.onMouseDown.call(this,t),this.navigator.onMouseDown(t)},t.prototype.onMouseMove=function(t){e.prototype.onMouseMove.call(this,t),this.navigator.onMouseMove(t)},t.prototype.onMouseUp=function(t){e.prototype.onMouseUp.call(this,t),this.navigator.onMouseUp(t)},t.prototype.onMouseOut=function(t){e.prototype.onMouseOut.call(this,t),this.navigator.onMouseUp(t)},t.prototype.updateAxes=function(){this.axes.forEach((function(e){var t,o=e.direction,n=e.boundSeries;if(e.linkedTo)e.domain=e.linkedTo.domain;else{var i=[];n.filter((function(e){return e.visible})).forEach((function(e){i.push(e.getDomain(o))}));var r=(t=new Array).concat.apply(t,i);e.domain=Ri(r)||r}e.update()}))},t.className="CartesianChart",t.type="cartesian",t}(xr),Br=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Wr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Br(t,e),t.prototype.updateAxes=function(){this.axes.forEach((function(e){var t,o=e.direction,n=e.boundSeries,i=[],r=void 0;n.filter((function(e){return e.visible})).forEach((function(e){if(o===hi.X)if(void 0===r){var t=e.getDomain(o);i.push(t),r="number"===typeof t[0]}else r&&i.push(e.getDomain(o));else i.push(e.getDomain(o))}));var s=(t=new Array).concat.apply(t,i);e.domain=Ri(s)||s,e.update()}))},t}(Hr),jr={fills:["#f3622d","#fba71b","#57b757","#41a9c9","#4258c9","#9a42c8","#c84164","#888888"],strokes:["#aa4520","#b07513","#3d803d","#2d768d","#2e3e8d","#6c2e8c","#8c2d46","#5f5f5f"]},zr={fills:["#f44336","#e91e63","#9c27b0","#673ab7","#3f51b5","#2196f3","#03a9f4","#00bcd4","#009688","#4caf50","#8bc34a","#cddc39","#ffeb3b","#ffc107","#ff9800","#ff5722"],strokes:["#ab2f26","#a31545","#6d1b7b","#482980","#2c397f","#1769aa","#0276ab","#008494","#00695f","#357a38","#618834","#909a28","#b3a429","#b38705","#b36a00","#b33d18"]},Ur={fills:["#c16068","#a2bf8a","#ebcc87","#80a0c3","#b58dae","#85c0d1"],strokes:["#874349","#718661","#a48f5f","#5a7088","#7f637a","#5d8692"]},$r={fills:["#5BC0EB","#FDE74C","#9BC53D","#E55934","#FA7921","#fa3081"],strokes:["#4086a4","#b1a235","#6c8a2b","#a03e24","#af5517","#af225a"]},Kr={fills:["#febe76","#ff7979","#badc58","#f9ca23","#f0932b","#eb4c4b","#6ab04c","#7ed6df","#e056fd","#686de0"],strokes:["#b28553","#b35555","#829a3e","#ae8d19","#a8671e","#a43535","#4a7b35","#58969c","#9d3cb1","#494c9d"]},Yr=function(){var e=new Map;return e.set("borneo",jr),e.set("material",zr),e.set("pastel",Ur),e.set("bright",$r),e.set("flat",Kr),e}(),qr=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Xr=function(e){function t(){var t,o=null!==e&&e.apply(this,arguments)||this;return o.directionKeys=((t={})[hi.X]=["angleKey"],t[hi.Y]=["radiusKey"],t),o.centerX=0,o.centerY=0,o.radius=0,o}return qr(t,e),t}(vr),Qr=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}qr(t,e)}(wr),function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}()),Zr=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Jr=function(e){function t(t){void 0===t&&(t=window.document);var o=e.call(this,t)||this;return o.padding=new Pn(40),o.scene.root.append(o.legend.group),o}return Qr(t,e),Object.defineProperty(t.prototype,"seriesRoot",{get:function(){return this.scene.root},enumerable:!0,configurable:!0}),t.prototype.performLayout=function(){var e=new On(0,0,this.width,this.height);this.positionCaptions(),this.positionLegend();var t=this.captionAutoPadding;if(e.y+=t,e.height-=t,this.legend.enabled&&this.legend.data.length){var o=this.legendAutoPadding;e.x+=o.left,e.y+=o.top,e.width-=o.left+o.right,e.height-=o.top+o.bottom;var n=this.legend.spacing;switch(this.legend.position){case"right":e.width-=n;break;case"bottom":e.height-=n;break;case"left":e.x+=n,e.width-=n;break;case"top":e.y+=n,e.height-=n}}var i=this.padding;e.x+=i.left,e.y+=i.top,e.width-=i.left+i.right,e.height-=i.top+i.bottom,this.seriesRect=e;var r=e.x+e.width/2,s=e.y+e.height/2,a=Math.min(e.width,e.height)/2;this.series.forEach((function(e){e instanceof Xr&&(e.centerX=r,e.centerY=s,e.radius=a,e.update())}))},t.className="PolarChart",t.type="polar",Zr([Gn("layoutChange")],t.prototype,"padding",void 0),t}(xr);function es(e,t){if(e===t)return!0;if(e&&t&&"object"==typeof e&&"object"==typeof t){if(e.constructor!==t.constructor)return!1;var o,n=void 0;if(Array.isArray(e)){if((o=e.length)!=t.length)return!1;for(n=o;0!==n--;)if(!es(e[n],t[n]))return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();var i=Object.keys(e);if((o=i.length)!==Object.keys(t).length)return!1;for(n=o;0!==n--;)if(!Object.prototype.hasOwnProperty.call(t,i[n]))return!1;for(n=o;0!==n--;){var r=i[n];if(!es(e[r],t[r]))return!1}return!0}return e!==e&&t!==t}var ts,os=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),ns=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},is=function(e){function t(){var t=e.call(this)||this;return t.areaGroup=t.group.appendChild(new zn),t.strokeGroup=t.group.appendChild(new zn),t.markerGroup=t.group.appendChild(new zn),t.areaSelection=$n.select(t.areaGroup).selectAll(),t.strokeSelection=$n.select(t.strokeGroup).selectAll(),t.markerSelection=$n.select(t.markerGroup).selectAll(),t.markerSelectionData=[],t.seriesItemEnabled=new Map,t.xData=[],t.yData=[],t.yDomain=[],t.directionKeys={x:["xKey"],y:["yKeys"]},t.marker=new Er,t.fills=jr.fills,t.strokes=jr.strokes,t.fillOpacity=1,t.strokeOpacity=1,t._xKey="",t.xName="",t._yKeys=[],t.yNames=[],t.strokeWidth=2,t.highlightStyle={fill:"yellow"},t.addEventListener("update",t.update),t.marker.enabled=!1,t.marker.addPropertyListener("shape",t.onMarkerShapeChange,t),t.marker.addEventListener("change",t.update,t),t}return os(t,e),t.prototype.onMarkerShapeChange=function(){this.markerSelection=this.markerSelection.setData([]),this.markerSelection.exit.remove(),this.update(),this.fireEvent({type:"legendChange"})},Object.defineProperty(t.prototype,"xKey",{get:function(){return this._xKey},set:function(e){this._xKey!==e&&(this._xKey=e,this.xData=[],this.scheduleData())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"yKeys",{get:function(){return this._yKeys},set:function(e){if(!es(this._yKeys,e)){this._yKeys=e,this.yData=[];var t=this.seriesItemEnabled;t.clear(),e.forEach((function(e){return t.set(e,!0)})),this.scheduleData()}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"normalizedTo",{get:function(){return this._normalizedTo},set:function(e){var t=e?Math.abs(e):void 0;this._normalizedTo!==t&&(this._normalizedTo=t,this.scheduleData())},enumerable:!0,configurable:!0}),t.prototype.onHighlightChange=function(){this.updateMarkerNodes()},t.prototype.processData=function(){var e=this,t=e.xKey,o=e.yKeys,n=e.seriesItemEnabled,i=t&&o.length&&this.data?this.data:[],r=!0;this.xData=i.map((function(e){return r&&!(t in e)&&(r=!1,console.warn("The key '"+t+"' was not found in the data: ",e)),e[t]})),this.yData=i.map((function(e){return o.map((function(t){r&&!(t in e)&&(r=!1,console.warn("The key '"+t+"' was not found in the data: ",e));var o=e[t];return isFinite(o)&&n.get(t)?o:0}))}));var s,a,l=this.yData,c=this.normalizedTo,u=l.map((function(e){return Pi(e)})),d=Oi(u);return c&&isFinite(c)?(s=d.min<0?-c:0,a=c,l.forEach((function(e,t){return e.forEach((function(o,n){e[n]=o<0?-o/u[t].min*c:o/u[t].max*c}))}))):(s=d.min,a=d.max),0===s&&0===a&&(a=1),this.yDomain=this.fixNumericExtent([s,a],"y"),this.fireEvent({type:"dataProcessed"}),!0},t.prototype.getDomain=function(e){return e===hi.X?this.xData:this.yDomain},t.prototype.update=function(){var e=this,t=e.visible,o=e.chart,n=e.xAxis,i=e.yAxis,r=e.xData,s=e.yData;if(this.group.visible=t&&!(!r.length||!s.length),n&&i&&t&&o&&!o.layoutPending&&!o.dataPending&&r.length&&s.length){var a=this.generateSelectionData(),l=a.areaSelectionData,c=a.markerSelectionData;this.updateAreaSelection(l),this.updateStrokeSelection(l),this.updateMarkerSelection(c),this.updateMarkerNodes(),this.markerSelectionData=c}},t.prototype.generateSelectionData=function(){var e=this,t=this,o=t.yKeys,n=t.data,i=t.xData,r=t.yData,s=t.marker,a=t.fills,l=t.strokes,c=t.xAxis.scale,u=t.yAxis.scale,d=(c.bandwidth||0)/2,h=(u.bandwidth||0)/2,p=[],g=[],f=2*i.length-1;return i.forEach((function(t,i){var m=r[i],v=n[i],y=c.convert(t)+d,C=0,w=0;m.forEach((function(t,n){var r=t<0?C:w,c=u.convert(r+t)+h,d=o[n],m=v[d];s&&g.push({series:e,seriesDatum:v,yValue:m,yKey:d,point:{x:y,y:c},fill:a[n%a.length],stroke:l[n%l.length]});var b=(p[n]||(p[n]={yKey:d,points:[]})).points;b[i]={x:y,y:c},b[f-i]={x:y,y:u.convert(r)+h},t<0?C+=t:w+=t}))})),{areaSelectionData:p,markerSelectionData:g}},t.prototype.updateAreaSelection=function(e){var t=this,o=t.fills,n=t.fillOpacity,i=t.seriesItemEnabled,r=t.shadow,s=this.areaSelection.setData(e);s.exit.remove();var a=s.enter.append(ri).each((function(e){e.stroke=void 0,e.pointerEvents=on.None})),l=s.merge(a);l.each((function(e,t,s){var a=e.path;e.fill=o[s%o.length],e.fillOpacity=n,e.fillShadow=r,e.visible=!!i.get(t.yKey),a.clear(),t.points.forEach((function(e,t){var o=e.x,n=e.y;t>0?a.lineTo(o,n):a.moveTo(o,n)})),a.closePath()})),this.areaSelection=l},t.prototype.updateStrokeSelection=function(e){var t=this,o=t.strokes,n=t.strokeWidth,i=t.strokeOpacity,r=t.data,s=t.seriesItemEnabled,a=this.strokeSelection.setData(e);a.exit.remove();var l=a.enter.append(ri).each((function(e){e.fill=void 0,e.lineJoin=e.lineCap="round",e.pointerEvents=on.None})),c=a.merge(l);c.each((function(e,t,a){var l=e.path;e.stroke=o[a%o.length],e.strokeWidth=n,e.visible=!!s.get(t.yKey),e.strokeOpacity=i,l.clear();for(var c=t.points,u=0;u<r.length;u++){var d=c[u],h=d.x,p=d.y;u>0?l.lineTo(h,p):l.moveTo(h,p)}})),this.strokeSelection=c},t.prototype.updateMarkerSelection=function(e){var t=this.marker,o=t.shape?e:[],n=lr(t.shape),i=this.markerSelection.setData(o);i.exit.remove();var r=i.enter.append(n);this.markerSelection=i.merge(r)},t.prototype.updateMarkerNodes=function(){var e=this.marker,t=e.formatter,o=void 0!==e.strokeWidth?e.strokeWidth:this.strokeWidth,n=e.size,i=this.xKey,r=this.seriesItemEnabled,s=this.chart.highlightedDatum,a=this.highlightStyle,l=a.fill,c=a.stroke;this.markerSelection.each((function(a,u){var d=u===s,h=d&&void 0!==l?l:e.fill||u.fill,p=d&&void 0!==c?c:e.stroke||u.stroke,g=void 0;t&&(g=t({datum:u.seriesDatum,xKey:i,yKey:u.yKey,fill:h,stroke:p,strokeWidth:o,size:n,highlighted:d})),a.fill=g&&g.fill||h,a.stroke=g&&g.stroke||p,a.strokeWidth=g&&void 0!==g.strokeWidth?g.strokeWidth:o,a.size=g&&void 0!==g.size?g.size:n,a.translationX=u.point.x,a.translationY=u.point.y,a.visible=e.enabled&&a.size>0&&!!r.get(u.yKey)}))},t.prototype.getNodeData=function(){return this.markerSelectionData},t.prototype.fireNodeClickEvent=function(e){this.fireEvent({type:"nodeClick",series:this,datum:e.seriesDatum,xKey:this.xKey,yKey:e.yKey})},t.prototype.getTooltipHtml=function(e){var t=this.xKey,o=e.yKey;if(!t||!o)return"";var n=this,i=n.xName,r=n.yKeys,s=n.yNames,a=n.fills,l=n.tooltipRenderer,c=r.indexOf(o),u=s[c],d=a[c%a.length];if(l)return l({datum:e.seriesDatum,xKey:t,xName:i,yKey:o,yName:u,color:d});var h='style="color: white; background-color: '+d+'"',p=u?'<div class="'+xr.defaultTooltipClass+'-title" '+h+">"+u+"</div>":"",g=e.seriesDatum,f=g[t],m=g[o],v="number"===typeof f?ai(f):String(f),y="number"===typeof m?ai(m):String(m);return p+'<div class="'+xr.defaultTooltipClass+'-content">'+v+": "+y+"</div>"},t.prototype.listSeriesItems=function(e){var t=this,o=t.data,n=t.id,i=t.xKey,r=t.yKeys,s=t.yNames,a=t.seriesItemEnabled,l=t.marker,c=t.fills,u=t.strokes,d=t.fillOpacity,h=t.strokeOpacity;o&&o.length&&i&&r.length&&r.forEach((function(t,o){e.push({id:n,itemId:t,enabled:a.get(t)||!1,label:{text:s[o]||r[o]},marker:{shape:l.shape,fill:l.fill||c[o%c.length],stroke:l.stroke||u[o%u.length],fillOpacity:d,strokeOpacity:h}})}))},t.prototype.toggleSeriesItem=function(e,t){this.seriesItemEnabled.set(e,t),this.scheduleData()},t.className="AreaSeries",t.type="area",ns([Gn("dataChange")],t.prototype,"fills",void 0),ns([Gn("dataChange")],t.prototype,"strokes",void 0),ns([Gn("update")],t.prototype,"fillOpacity",void 0),ns([Gn("update")],t.prototype,"strokeOpacity",void 0),ns([Gn("update")],t.prototype,"xName",void 0),ns([Gn("update")],t.prototype,"yNames",void 0),ns([Gn("update")],t.prototype,"strokeWidth",void 0),ns([Gn("update")],t.prototype,"shadow",void 0),t}(Sr),rs=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),ss=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},as=function(e){function t(){var t=e.call(this)||this;return t.enabled=!0,t.fontSize=12,t.fontFamily="Verdana, sans-serif",t.color="rgba(70, 70, 70, 1)",t}return rs(t,e),ss([Gn("change","dataChange")],t.prototype,"enabled",void 0),ss([Gn("change")],t.prototype,"fontStyle",void 0),ss([Gn("change")],t.prototype,"fontWeight",void 0),ss([Gn("change")],t.prototype,"fontSize",void 0),ss([Gn("change")],t.prototype,"fontFamily",void 0),ss([Gn("change")],t.prototype,"color",void 0),t}(kn),ls=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),cs=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},us=function(){for(var e=0,t=0,o=arguments.length;t<o;t++)e+=arguments[t].length;var n=Array(e),i=0;for(t=0;t<o;t++)for(var r=arguments[t],s=0,a=r.length;s<a;s++,i++)n[i]=r[s];return n};!function(e){e[e.Bar=0]="Bar",e[e.Label=1]="Label"}(ts||(ts={}));var ds=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ls(t,e),cs([Gn("change")],t.prototype,"formatter",void 0),t}(as),hs=function(e){function t(){var t,o=e.call(this)||this;return o.rectGroup=o.group.appendChild(new zn),o.textGroup=o.group.appendChild(new zn),o.rectSelection=$n.select(o.rectGroup).selectAll(),o.textSelection=$n.select(o.textGroup).selectAll(),o.xData=[],o.yData=[],o.yDomain=[],o.label=new ds,o.seriesItemEnabled=new Map,o.flipXY=!1,o.fills=jr.fills,o.strokes=jr.strokes,o.fillOpacity=1,o.strokeOpacity=1,o.groupScale=new Wn,o.directionKeys=((t={})[hi.X]=["xKey"],t[hi.Y]=["yKeys"],t),o._xKey="",o._xName="",o._yKeys=[],o._yNames=[],o.grouped=!1,o._strokeWidth=1,o.highlightStyle={fill:"yellow"},o.label.enabled=!1,o.label.addEventListener("change",o.update,o),o}return ls(t,e),t.prototype.getKeys=function(e){var t=this,o=this.directionKeys,n=o&&o[this.flipXY?yi(e):e],i=[];return n&&n.forEach((function(e){var o=t[e];o&&(Array.isArray(o)?i.push.apply(i,o):i.push(o))})),i},Object.defineProperty(t.prototype,"xKey",{get:function(){return this._xKey},set:function(e){this._xKey!==e&&(this._xKey=e,this.xData=[],this.scheduleData())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"xName",{get:function(){return this._xName},set:function(e){this._xName!==e&&(this._xName=e,this.update())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"yKeys",{get:function(){return this._yKeys},set:function(e){if(!es(this._yKeys,e)){this._yKeys=e,this.yData=[];var t=this.seriesItemEnabled;t.clear(),e.forEach((function(e){return t.set(e,!0)}));var o=this.groupScale;o.domain=e,o.padding=.1,o.round=!0,this.scheduleData()}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"yNames",{get:function(){return this._yNames},set:function(e){this._yNames=e,this.scheduleData()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"normalizedTo",{get:function(){return this._normalizedTo},set:function(e){var t=e?Math.abs(e):void 0;this._normalizedTo!==t&&(this._normalizedTo=t,this.scheduleData())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokeWidth",{get:function(){return this._strokeWidth},set:function(e){this._strokeWidth!==e&&(this._strokeWidth=e,this.update())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"shadow",{get:function(){return this._shadow},set:function(e){this._shadow!==e&&(this._shadow=e,this.update())},enumerable:!0,configurable:!0}),t.prototype.onHighlightChange=function(){this.updateRectNodes()},t.prototype.processData=function(){var e=this,t=e.xKey,o=e.yKeys,n=e.seriesItemEnabled,i=t&&o.length&&this.data?this.data:[],r=!0;this.xData=i.map((function(e){return r&&!(t in e)&&(r=!1,console.warn("The key '"+t+"' was not found in the data: ",e)),e[t]})),this.yData=i.map((function(e){return o.map((function(t){r&&!(t in e)&&(r=!1,console.warn("The key '"+t+"' was not found in the data: ",e));var o=e[t];return isFinite(o)&&n.get(t)?o:0}))}));var s=this.yData.map((function(e){return Pi(e)})),a=this.yData,l=this.normalizedTo,c=1/0,u=-1/0;if(this.grouped)c=Math.min.apply(Math,us([0],a.map((function(e){return Math.min.apply(Math,e)})))),u=Math.max.apply(Math,a.map((function(e){return Math.max.apply(Math,e)})));else{var d=Oi(s);l&&isFinite(l)?(c=d.min<0?-l:0,u=l,a.forEach((function(e,t){return e.forEach((function(o,n){e[n]=o<0?-o/s[t].min*l:o/s[t].max*l}))}))):(c=d.min,u=d.max)}return this.yDomain=this.fixNumericExtent([c,u],"y"),this.fireEvent({type:"dataProcessed"}),!0},t.prototype.getDomain=function(e){return this.flipXY&&(e=yi(e)),e===hi.X?this.xData:this.yDomain},t.prototype.fireNodeClickEvent=function(e){this.fireEvent({type:"nodeClick",series:this,datum:e.seriesDatum,xKey:this.xKey,yKey:e.yKey})},t.prototype.generateNodeData=function(){var e=this,t=this,o=t.xAxis,n=t.yAxis,i=t.flipXY,r=(i?n:o).scale,s=(i?o:n).scale,a=this,l=a.groupScale,c=a.yKeys,u=a.fills,d=a.strokes,h=a.grouped,p=a.strokeWidth,g=a.seriesItemEnabled,f=a.data,m=a.xData,v=a.yData,y=this.label,C=y.fontStyle,w=y.fontWeight,b=y.fontSize,S=y.fontFamily,E=y.color,R=y.formatter;l.range=[0,r.bandwidth];var P=h?l.bandwidth:r.bandwidth,O=[];return m.forEach((function(t,o){var n=v[o],a=f[o],m=r.convert(t),y=0,x=0;n.forEach((function(t,o){var n,r=c[o],f=h?m+l.convert(r):m,v=t<0?y:x,T=s.convert(h?t:v+t),D=s.convert(h?0:v),A=a[r],F="number"===typeof A;n=R?R({value:F?A:void 0}):F&&isFinite(A)?A.toFixed(2):"",O.push({series:e,seriesDatum:a,yValue:A,yKey:r,x:i?Math.min(T,D):f,y:i?f:Math.min(T,D),width:i?Math.abs(D-T):P,height:i?P:Math.abs(D-T),fill:u[o%u.length],stroke:d[o%d.length],strokeWidth:p,label:g.get(r)&&n?{text:n,fontStyle:C,fontWeight:w,fontSize:b,fontFamily:S,fill:E,x:i?T+(A>=0?-1:1)*Math.abs(D-T)/2:f+P/2,y:i?f+P/2:T+(A>=0?1:-1)*Math.abs(D-T)/2}:void 0}),h||(t<0?y+=t:x+=t)}))})),O},t.prototype.update=function(){var e=this,t=e.visible,o=e.chart,n=e.xAxis,i=e.yAxis,r=e.xData,s=e.yData;if(this.group.visible=t,o&&!o.layoutPending&&!o.dataPending&&n&&i&&t&&r.length&&s.length){var a=this.generateNodeData();this.updateRectSelection(a),this.updateRectNodes(),this.updateTextSelection(a),this.updateTextNodes()}},t.prototype.updateRectSelection=function(e){var t=this.rectSelection.setData(e);t.exit.remove();var o=t.enter.append(ji).each((function(e){e.tag=ts.Bar,e.crisp=!0}));this.rectSelection=t.merge(o)},t.prototype.updateRectNodes=function(){var e=this,t=e.fillOpacity,o=e.strokeOpacity,n=e.shadow,i=e.highlightStyle,r=i.fill,s=i.stroke,a=this.chart.highlightedDatum;this.rectSelection.each((function(e,i){var l=i===a;e.x=i.x,e.y=i.y,e.width=i.width,e.height=i.height,e.fill=l&&void 0!==r?r:i.fill,e.stroke=l&&void 0!==s?s:i.stroke,e.fillOpacity=t,e.strokeOpacity=o,e.strokeWidth=i.strokeWidth,e.fillShadow=n,e.visible=i.height>0}))},t.prototype.updateTextSelection=function(e){var t=this.textSelection.setData(e);t.exit.remove();var o=t.enter.append(Ln).each((function(e){e.tag=ts.Label,e.pointerEvents=on.None,e.textAlign="center",e.textBaseline="middle"}));this.textSelection=t.merge(o)},t.prototype.updateTextNodes=function(){var e=this.label.enabled;this.textSelection.each((function(t,o){var n=o.label;n&&e?(t.fontStyle=n.fontStyle,t.fontWeight=n.fontWeight,t.fontSize=n.fontSize,t.fontFamily=n.fontFamily,t.text=n.text,t.x=n.x,t.y=n.y,t.fill=n.fill,t.visible=!0):t.visible=!1}))},t.prototype.getTooltipHtml=function(e){var t=this.xKey,o=e.yKey;if(!t||!o)return"";var n=this,i=n.xName,r=n.yKeys,s=n.yNames,a=n.fills,l=n.tooltipRenderer,c=e.seriesDatum,u=r.indexOf(o),d=s[u],h=a[u%a.length];if(l)return l({datum:c,xKey:t,xName:i,yKey:o,yName:d,color:h});var p='style="color: white; background-color: '+h+'"',g=d?'<div class="'+xr.defaultTooltipClass+'-title" '+p+">"+d+"</div>":"",f=c[t],m=c[o],v="number"===typeof f?ai(f):String(f),y="number"===typeof m?ai(m):String(m);return g+'<div class="'+xr.defaultTooltipClass+'-content">'+v+": "+y+"</div>"},t.prototype.listSeriesItems=function(e){var t=this,o=t.id,n=t.data,i=t.xKey,r=t.yKeys,s=t.yNames,a=t.seriesItemEnabled,l=t.fills,c=t.strokes,u=t.fillOpacity,d=t.strokeOpacity;n&&n.length&&i&&r.length&&r.forEach((function(t,n){e.push({id:o,itemId:t,enabled:a.get(t)||!1,label:{text:s[n]||r[n]},marker:{fill:l[n%l.length],stroke:c[n%c.length],fillOpacity:u,strokeOpacity:d}})}))},t.prototype.toggleSeriesItem=function(e,t){var o=this.seriesItemEnabled,n=[];o.set(e,t),o.forEach((function(e,t){e&&n.push(t)})),this.groupScale.domain=n,this.scheduleData()},t.className="BarSeries",t.type="bar",cs([Gn("layoutChange")],t.prototype,"flipXY",void 0),cs([Gn("dataChange")],t.prototype,"fills",void 0),cs([Gn("dataChange")],t.prototype,"strokes",void 0),cs([Gn("layoutChange")],t.prototype,"fillOpacity",void 0),cs([Gn("layoutChange")],t.prototype,"strokeOpacity",void 0),cs([Gn("dataChange")],t.prototype,"grouped",void 0),t}(Sr);function ps(e,t){return t-=e=+e,function(o){return e+t*o}}function gs(e,t){var o=new Date,n=+e,i=+t-n;return function(e){return o.setTime(n+i*e),o}}function fs(e,t){var o,n=t?t.length:0,i=e?Math.min(n,e.length):0,r=new Array(i),s=new Array(n);for(o=0;o<i;++o)r[o]=vs(e[o],t[o]);for(;o<n;++o)s[o]=t[o];return function(e){for(o=0;o<i;++o)s[o]=r[o](e);return s}}function ms(e,t){var o,n={},i={};for(o in null!==e&&"object"===typeof e||(e={}),null!==t&&"object"===typeof t||(t={}),t)o in e?n[o]=vs(e[o],t[o]):i[o]=t[o];return function(e){for(o in n)i[o]=n[o](e);return i}}function vs(e,t){var o,n=typeof t;return null==t||"boolean"===n?(o=t,function(){return o}):("number"===n?ps:t instanceof Date?gs:Array.isArray(t)?fs:"function"!==typeof t.valueOf&&"function"!==typeof t.toString||isNaN(t)?ms:ps)(e,t)}var ys=function(e){return e};function Cs(e){var t,o=e[0],n=e[e.length-1];return o>n&&(o=(t=[n,o])[0],n=t[1]),function(e){return Math.max(o,Math.min(n,e))}}var ws=function(){function e(){this.unknown=void 0,this._clamp=ys,this._domain=[0,1],this._range=[0,1],this.transform=ys,this.untransform=ys,this._interpolate=vs,this.rescale()}return Object.defineProperty(e.prototype,"clamp",{get:function(){return this._clamp!==ys},set:function(e){this._clamp=e?Cs(this.domain):ys},enumerable:!0,configurable:!0}),e.prototype.setDomain=function(e){this._domain=Array.prototype.map.call(e,(function(e){return+e})),this._clamp!==ys&&(this._clamp=Cs(this.domain)),this.rescale()},e.prototype.getDomain=function(){return this._domain.slice()},Object.defineProperty(e.prototype,"domain",{get:function(){return this.getDomain()},set:function(e){this.setDomain(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"range",{get:function(){return this._range.slice()},set:function(e){this._range=Array.prototype.slice.call(e),this.rescale()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"interpolate",{get:function(){return this._interpolate},set:function(e){this._interpolate=e,this.rescale()},enumerable:!0,configurable:!0}),e.prototype.rescale=function(){Math.min(this.domain.length,this.range.length)>2||(this.piecewise=this.bimap),this.output=void 0,this.input=void 0},e.prototype.normalize=function(e,t){return(t-=e=+e)?function(o){return(o-e)/t}:(o=isNaN(t)?NaN:.5,function(){return o});var o},e.prototype.bimap=function(e,t,o){var n,i,r=e[0],s=e[1],a=t[0],l=t[1];return s<r?(n=this.normalize(s,r),i=o(l,a)):(n=this.normalize(r,s),i=o(a,l)),function(e){return i(n(e))}},e.prototype.convert=function(e){return e=+e,isNaN(e)?this.unknown:(this.output||(this.output=this.piecewise(this.domain.map(this.transform),this.range,this.interpolate)),this.output(this.transform(this._clamp(e))))},e.prototype.invert=function(e){return this.input||(this.input=this.piecewise(this.range,this.domain.map(this.transform),ps)),this._clamp(this.untransform(this.input(e)))},e}(),bs=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Ss=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Es=function(e){function t(){var t=e.call(this)||this;t.xDomain=[],t.yDomain=[],t.xData=[],t.yData=[],t.lineNode=new ri,t.nodeSelection=$n.select(t.group).selectAll(),t.nodeData=[],t.marker=new Er,t.stroke=jr.fills[0],t.strokeWidth=2,t.strokeOpacity=1,t._xKey="",t.xName="",t._yKey="",t.yName="",t.highlightStyle={fill:"yellow"};var o=t.lineNode;o.fill=void 0,o.lineJoin="round",o.pointerEvents=on.None,t.group.append(o),t.addEventListener("update",t.update);var n=t.marker;return n.fill=jr.fills[0],n.stroke=jr.strokes[0],n.addPropertyListener("shape",t.onMarkerShapeChange,t),n.addPropertyListener("enabled",t.onMarkerEnabledChange,t),n.addEventListener("change",t.update,t),t}return bs(t,e),t.prototype.onMarkerShapeChange=function(){this.nodeSelection=this.nodeSelection.setData([]),this.nodeSelection.exit.remove(),this.update(),this.fireEvent({type:"legendChange"})},t.prototype.onMarkerEnabledChange=function(e){e.value||(this.nodeSelection=this.nodeSelection.setData([]),this.nodeSelection.exit.remove())},Object.defineProperty(t.prototype,"xKey",{get:function(){return this._xKey},set:function(e){this._xKey!==e&&(this._xKey=e,this.xData=[],this.scheduleData())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"yKey",{get:function(){return this._yKey},set:function(e){this._yKey!==e&&(this._yKey=e,this.yData=[],this.scheduleData())},enumerable:!0,configurable:!0}),t.prototype.processData=function(){var e=this,t=e.xAxis,o=e.yAxis,n=e.xKey,i=e.yKey,r=e.xData,s=e.yData,a=n&&i&&this.data?this.data:[];if(!t)return!1;var l=t.scale instanceof ws,c=o.scale instanceof ws;r.length=0,s.length=0;for(var u=0,d=a.length;u<d;u++){var h=a[u],p=h[n],g=h[i];r.push(p),s.push(g)}return this.xDomain=l?this.fixNumericExtent(Ri(r),"x"):r,this.yDomain=c?this.fixNumericExtent(Ri(s),"y"):s,!0},t.prototype.getDomain=function(e){return e===hi.X?this.xDomain:this.yDomain},t.prototype.onHighlightChange=function(){this.updateNodes()},t.prototype.update=function(){this.group.visible=this.visible;var e=this,t=e.chart,o=e.xAxis,n=e.yAxis;t&&!t.layoutPending&&!t.dataPending&&o&&n&&(this.updateLinePath(),this.updateNodeSelection(),this.updateNodes())},t.prototype.updateLinePath=function(){var e=this,t=this,o=t.xAxis,n=t.yAxis,i=t.data,r=t.xData,s=t.yData,a=t.lineNode,l=o.scale,c=n.scale,u=(l.bandwidth||0)/2,d=(c.bandwidth||0)/2,h=l instanceof ws,p=c instanceof ws,g=a.path,f=[];g.clear();var m=!0;r.forEach((function(t,o){var n=s[o];if(null==n||p&&(isNaN(n)||!isFinite(n))||null==t||h&&(isNaN(t)||!isFinite(t)))m=!0;else{var r=l.convert(t)+u,a=c.convert(n)+d;m?(g.moveTo(r,a),m=!1):g.lineTo(r,a),f.push({series:e,seriesDatum:i[o],point:{x:r,y:a}})}})),a.stroke=this.stroke,a.strokeWidth=this.strokeWidth,a.strokeOpacity=this.strokeOpacity,this.nodeData=f},t.prototype.updateNodeSelection=function(){var e=this.marker,t=e.shape?this.nodeData:[],o=lr(e.shape),n=this.nodeSelection.setData(t);n.exit.remove();var i=n.enter.append(zn);i.append(o),this.nodeSelection=n.merge(i)},t.prototype.updateNodes=function(){var e=this,t=e.marker,o=e.xKey,n=e.yKey,i=e.stroke,r=e.strokeWidth,s=lr(t.shape),a=this.chart.highlightedDatum,l=this.highlightStyle,c=l.fill,u=l.stroke,d=t.formatter,h=t.size,p=void 0!==t.strokeWidth?t.strokeWidth:r;this.nodeSelection.selectByClass(s).each((function(e,r){var s=r===a,l=s&&void 0!==c?c:t.fill,g=s&&void 0!==u?u:t.stroke||i,f=void 0;d&&(f=d({datum:r.seriesDatum,xKey:o,yKey:n,fill:l,stroke:g,strokeWidth:p,size:h,highlighted:s})),e.fill=f&&f.fill||l,e.stroke=f&&f.stroke||g,e.strokeWidth=f&&void 0!==f.strokeWidth?f.strokeWidth:p,e.size=f&&void 0!==f.size?f.size:h,e.translationX=r.point.x,e.translationY=r.point.y,e.visible=t.enabled&&e.size>0}))},t.prototype.getNodeData=function(){return this.nodeData},t.prototype.fireNodeClickEvent=function(e){this.fireEvent({type:"nodeClick",series:this,datum:e.seriesDatum,xKey:this.xKey,yKey:this.yKey})},t.prototype.getTooltipHtml=function(e){var t=this.xKey,o=this.yKey;if(!t||!o)return"";var n=this,i=n.xName,r=n.yName,s=n.stroke,a=n.tooltipRenderer;if(a)return a({datum:e.seriesDatum,xKey:t,xName:i,yKey:o,yName:r,title:this.title,color:s});var l=this.title||r,c='style="color: white; background-color: '+s+'"',u=l?'<div class="'+xr.defaultTooltipClass+'-title" '+c+">"+l+"</div>":"",d=e.seriesDatum,h=d[t],p=d[o],g="number"===typeof h?ai(h):String(h),f="number"===typeof p?ai(p):String(p);return u+'<div class="'+xr.defaultTooltipClass+'-content">'+g+": "+f+"</div>"},t.prototype.listSeriesItems=function(e){var t=this,o=t.id,n=t.data,i=t.xKey,r=t.yKey,s=t.yName,a=t.visible,l=t.title,c=t.marker,u=t.stroke,d=t.strokeOpacity;n&&n.length&&i&&r&&e.push({id:o,itemId:void 0,enabled:a,label:{text:l||s||r},marker:{shape:c.shape,fill:c.fill,stroke:c.stroke||u,fillOpacity:1,strokeOpacity:d}})},t.className="LineSeries",t.type="line",Ss([Gn("layoutChange")],t.prototype,"title",void 0),Ss([Gn("update")],t.prototype,"stroke",void 0),Ss([Gn("update")],t.prototype,"strokeWidth",void 0),Ss([Gn("update")],t.prototype,"strokeOpacity",void 0),Ss([Gn("update")],t.prototype,"xName",void 0),Ss([Gn("update")],t.prototype,"yName",void 0),t}(Sr),Rs=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();function Ps(e,t,o){var n=Ds(e,t,o);return function(e,t,o){void 0===o&&(o=1);for(var n=Math.abs(o),i=n>0&&n<1?Math.abs(Math.floor(Math.log(n)/Math.LN10)):0,r=Math.pow(10,i),s=Math.max(0,Math.ceil((t-e)/o))||0,a=new Fs(i,s),l=0;l<s;l++){var c=e+o*l;a[l]=Math.round(c*r)/r}return a}(e=Math.ceil(e/n)*n,t=Math.floor(t/n)*n+n/2,n)}var Os=Math.sqrt(50),xs=Math.sqrt(10),Ts=Math.sqrt(2);function Ds(e,t,o){var n=Math.abs(t-e)/Math.max(0,o),i=Math.pow(10,Math.floor(Math.log(n)/Math.LN10)),r=n/i;return r>=Os?i*=10:r>=xs?i*=5:r>=Ts&&(i*=2),t<e?-i:i}function As(e,t,o){var n=(t-e)/Math.max(0,o),i=Math.floor(Math.log(n)/Math.LN10),r=n/Math.pow(10,i);return i>=0?(r>=Os?10:r>=xs?5:r>=Ts?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(r>=Os?10:r>=xs?5:r>=Ts?2:1)}var Fs=function(e){function t(t,o){void 0===o&&(o=0);var n=e.call(this,o)||this;return n.fractionDigits=t,n}return Rs(t,e),t}(Array);var _s=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Ms=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return _s(t,e),t.prototype.ticks=function(e){void 0===e&&(e=10);var t=this._domain;return Ps(t[0],t[t.length-1],e)},t.prototype.nice=function(e){void 0===e&&(e=10);var t,o=this.domain,n=0,i=o.length-1,r=o[n],s=o[i];s<r&&(t=r,r=s,s=t,t=n,n=i,i=t),(t=As(r,s,e))>0?t=As(r=Math.floor(r/t)*t,s=Math.ceil(s/t)*t,e):t<0&&(t=As(r=Math.ceil(r*t)/t,s=Math.floor(s*t)/t,e)),t>0?(o[n]=Math.floor(r/t)*t,o[i]=Math.ceil(s/t)*t,this.domain=o):t<0&&(o[n]=Math.ceil(r*t)/t,o[i]=Math.floor(s*t)/t,this.domain=o)},t}(ws);function Is(){return new Ms}var Ls,Ns=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),ks=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Gs=function(e){function t(){var t=e.call(this)||this;t.xDomain=[],t.yDomain=[],t.xData=[],t.yData=[],t.sizeData=[],t.sizeScale=new Ms,t.nodeSelection=$n.select(t.group).selectAll(),t.nodeData=[],t.marker=new Er,t._fill=jr.fills[0],t._stroke=jr.strokes[0],t._strokeWidth=2,t._fillOpacity=1,t._strokeOpacity=1,t.highlightStyle={fill:"yellow"},t.xKey="",t.yKey="",t.xName="",t.yName="",t.sizeName="Size",t.labelName="Label";var o=t.marker;return o.addPropertyListener("shape",t.onMarkerShapeChange,t),o.addEventListener("change",t.update,t),t.addPropertyListener("xKey",(function(){return t.xData=[]})),t.addPropertyListener("yKey",(function(){return t.yData=[]})),t.addPropertyListener("sizeKey",(function(){return t.sizeData=[]})),t}return Ns(t,e),Object.defineProperty(t.prototype,"fill",{get:function(){return this._fill},set:function(e){this._fill!==e&&(this._fill=e,this.scheduleData())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"stroke",{get:function(){return this._stroke},set:function(e){this._stroke!==e&&(this._stroke=e,this.scheduleData())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokeWidth",{get:function(){return this._strokeWidth},set:function(e){this._strokeWidth!==e&&(this._strokeWidth=e,this.update())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fillOpacity",{get:function(){return this._fillOpacity},set:function(e){this._fillOpacity!==e&&(this._fillOpacity=e,this.scheduleLayout())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokeOpacity",{get:function(){return this._strokeOpacity},set:function(e){this._strokeOpacity!==e&&(this._strokeOpacity=e,this.scheduleLayout())},enumerable:!0,configurable:!0}),t.prototype.onHighlightChange=function(){this.updateNodes()},t.prototype.onMarkerShapeChange=function(){this.nodeSelection=this.nodeSelection.setData([]),this.nodeSelection.exit.remove(),this.update(),this.fireEvent({type:"legendChange"})},t.prototype.processData=function(){var e=this,t=e.xKey,o=e.yKey,n=e.sizeKey,i=e.xAxis,r=e.yAxis,s=t&&o&&this.data?this.data:[];return this.xData=s.map((function(e){return e[t]})),this.yData=s.map((function(e){return e[o]})),this.sizeData=n?s.map((function(e){return e[n]})):[],this.sizeScale.domain=Ei(this.sizeData)||[1,1],i.scale instanceof ws?this.xDomain=this.fixNumericExtent(Ei(this.xData),"x"):this.xDomain=this.xData,r.scale instanceof ws?this.yDomain=this.fixNumericExtent(Ei(this.yData),"y"):this.yDomain=this.yData,!0},t.prototype.getDomain=function(e){return e===hi.X?this.xDomain:this.yDomain},t.prototype.getNodeData=function(){return this.nodeData},t.prototype.fireNodeClickEvent=function(e){this.fireEvent({type:"nodeClick",series:this,datum:e.seriesDatum,xKey:this.xKey,yKey:this.yKey,sizeKey:this.sizeKey})},t.prototype.generateNodeData=function(){var e=this,t=this.xAxis.scale,o=this.yAxis.scale,n=(t.bandwidth||0)/2,i=(o.bandwidth||0)/2,r=this,s=r.data,a=r.xData,l=r.yData,c=r.sizeData,u=r.sizeScale,d=r.marker;return u.range=[d.minSize,d.size],a.map((function(r,a){return{series:e,seriesDatum:s[a],point:{x:t.convert(r)+n,y:o.convert(l[a])+i},size:c.length?u.convert(c[a]):d.size}}))},t.prototype.update=function(){var e=this,t=e.visible,o=e.chart,n=e.xAxis,i=e.yAxis;if(this.group.visible=t,t&&o&&!o.layoutPending&&!o.dataPending&&n&&i){var r=this.nodeData=this.generateNodeData();this.updateNodeSelection(r),this.updateNodes()}},t.prototype.updateNodeSelection=function(e){var t=lr(this.marker.shape),o=this.nodeSelection.setData(e);o.exit.remove();var n=o.enter.append(zn);n.append(t),this.nodeSelection=o.merge(n)},t.prototype.updateNodes=function(){var e=this.chart.highlightedDatum,t=this,o=t.marker,n=t.xKey,i=t.yKey,r=t.fill,s=t.stroke,a=t.strokeWidth,l=t.fillOpacity,c=t.strokeOpacity,u=this.highlightStyle,d=u.fill,h=u.stroke,p=void 0!==o.strokeWidth?o.strokeWidth:a,g=lr(o.shape),f=o.formatter;this.nodeSelection.selectByClass(g).each((function(t,a){var u=a===e,g=u&&void 0!==d?d:o.fill||r,m=u&&void 0!==h?h:o.stroke||s,v=void 0;f&&(v=f({datum:a.seriesDatum,xKey:n,yKey:i,fill:g,stroke:m,strokeWidth:p,size:a.size,highlighted:u})),t.fill=v&&v.fill||g,t.stroke=v&&v.stroke||m,t.strokeWidth=v&&void 0!==v.strokeWidth?v.strokeWidth:p,t.size=v&&void 0!==v.size?v.size:a.size,t.fillOpacity=l,t.strokeOpacity=c,t.translationX=a.point.x,t.translationY=a.point.y,t.visible=o.enabled&&t.size>0}))},t.prototype.getTooltipHtml=function(e){var t=this.xKey,o=this.yKey;if(!t||!o)return"";var n=this,i=n.tooltipRenderer,r=n.xName,s=n.yName,a=n.sizeKey,l=n.sizeName,c=n.labelKey,u=n.labelName,d=n.fill||"gray";if(i)return i({datum:e.seriesDatum,xKey:t,yKey:o,sizeKey:a,labelKey:c,xName:r,yName:s,sizeName:l,labelName:u,title:this.title,color:d});var h=this.title||s,p='style="color: white; background-color: '+d+'"',g=h?'<div class="'+xr.defaultTooltipClass+'-title" '+p+">"+h+"</div>":"",f=e.seriesDatum,m=f[t],v=f[o],y="<b>"+(r||t)+"</b>: "+("number"===typeof m?ai(m):m)+"<br><b>"+(s||o)+"</b>: "+("number"===typeof v?ai(v):v);return a&&(y+="<br><b>"+l+"</b>: "+f[a]),c&&(y="<b>"+u+"</b>: "+f[c]+"<br>"+y),g+'<div class="'+xr.defaultTooltipClass+'-content">'+y+"</div>"},t.prototype.listSeriesItems=function(e){var t=this,o=t.id,n=t.data,i=t.xKey,r=t.yKey,s=t.yName,a=t.title,l=t.visible,c=t.marker,u=t.fill,d=t.stroke,h=t.fillOpacity,p=t.strokeOpacity;n&&n.length&&i&&r&&e.push({id:o,itemId:void 0,enabled:l,label:{text:a||s||r},marker:{shape:c.shape,fill:c.fill||u,stroke:c.stroke||d,fillOpacity:h,strokeOpacity:p}})},t.className="ScatterSeries",t.type="scatter",ks([Gn("layoutChange")],t.prototype,"title",void 0),ks([Gn("dataChange")],t.prototype,"xKey",void 0),ks([Gn("dataChange")],t.prototype,"yKey",void 0),ks([Gn("dataChange")],t.prototype,"sizeKey",void 0),ks([Gn("dataChange")],t.prototype,"labelKey",void 0),t}(Sr),Vs=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Hs=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Bs=function(){for(var e=0,t=0,o=arguments.length;t<o;t++)e+=arguments[t].length;var n=Array(e),i=0;for(t=0;t<o;t++)for(var r=arguments[t],s=0,a=r.length;s<a;s++,i++)n[i]=r[s];return n};!function(e){e[e.Bin=0]="Bin",e[e.Label=1]="Label"}(Ls||(Ls={}));var Ws,js=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Vs(t,e),Hs([Gn("change")],t.prototype,"formatter",void 0),t}(as),zs={count:function(e){return e.data.length},sum:function(e,t){return e.data.reduce((function(e,o){return e+o[t]}),0)},mean:function(e,t){return zs.sum(e,t)/zs.count(e,t)}},Us=function(){function e(e){var t=e[0],o=e[1];this.data=[],this.aggregatedValue=0,this.frequency=0,this.domain=[t,o]}return e.prototype.addDatum=function(e){this.data.push(e),this.frequency++},Object.defineProperty(e.prototype,"domainWidth",{get:function(){var e=this.domain,t=e[0];return e[1]-t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"relativeHeight",{get:function(){return this.aggregatedValue/this.domainWidth},enumerable:!0,configurable:!0}),e.prototype.calculateAggregatedValue=function(e,t){t||(e="count");var o=zs[e];this.aggregatedValue=o(this,t)},e.prototype.getY=function(e){return e?this.relativeHeight:this.aggregatedValue},e}(),$s=function(e){function t(){var t,o=e.call(this)||this;return o.rectGroup=o.group.appendChild(new zn),o.textGroup=o.group.appendChild(new zn),o.rectSelection=$n.select(o.rectGroup).selectAll(),o.textSelection=$n.select(o.textGroup).selectAll(),o.binnedData=[],o.xDomain=[],o.yDomain=[],o.label=new js,o.seriesItemEnabled=!0,o.fill=jr.fills[0],o.stroke=jr.strokes[0],o.fillOpacity=1,o.strokeOpacity=1,o.directionKeys=((t={})[hi.X]=["xKey"],t[hi.Y]=["yKey"],t),o._xKey="",o._areaPlot=!1,o._xName="",o._yKey="",o._yName="",o._strokeWidth=1,o.highlightStyle={fill:"yellow"},o.label.enabled=!1,o.label.addEventListener("change",o.update,o),o}return Vs(t,e),t.prototype.getKeys=function(e){var t=this,o=this.directionKeys,n=o&&o[e],i=[];return n&&n.forEach((function(e){var o=t[e];o&&(Array.isArray(o)?i.push.apply(i,o):i.push(o))})),i},Object.defineProperty(t.prototype,"xKey",{get:function(){return this._xKey},set:function(e){this._xKey!==e&&(this._xKey=e,this.scheduleData())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"areaPlot",{get:function(){return this._areaPlot},set:function(e){this._areaPlot=e,this.scheduleData()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bins",{get:function(){return this._bins},set:function(e){this._bins=e,this.scheduleData()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"aggregation",{get:function(){return this._aggregation},set:function(e){this._aggregation=e,this.scheduleData()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"binCount",{get:function(){return this._binCount},set:function(e){this._binCount=e,this.scheduleData()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"xName",{get:function(){return this._xName},set:function(e){this._xName!==e&&(this._xName=e,this.update())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"yKey",{get:function(){return this._yKey},set:function(e){this._yKey=e,this.seriesItemEnabled=!0,this.scheduleData()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"yName",{get:function(){return this._yName},set:function(e){this._yName=e,this.scheduleData()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokeWidth",{get:function(){return this._strokeWidth},set:function(e){this._strokeWidth!==e&&(this._strokeWidth=e,this.update())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"shadow",{get:function(){return this._shadow},set:function(e){this._shadow!==e&&(this._shadow=e,this.update())},enumerable:!0,configurable:!0}),t.prototype.onHighlightChange=function(){this.updateRectNodes()},t.prototype.deriveBins=function(){var e=this,t=this.bins,o=this.binCount;if(t&&o&&console.warn("bin domain and bin count both specified - these are mutually exclusive properties"),t)return t;var n=this.data.map((function(t){return t[e.xKey]})),i=this.fixNumericExtent(Ei(n),"x"),r=Ps(i[0],i[1],this.binCount||10),s=Ds(i[0],i[1],this.binCount||10),a=r[0];return Bs([[a-s,a]],r.map((function(e){return[e,e+s]})))},t.prototype.placeDataInBins=function(e){var t=this,o=this.xKey,n=this.deriveBins(),i=e.slice().sort((function(e,t){return e[o]<t[o]?-1:e[o]>t[o]?1:0})),r=0,s=[new Us(n[0])];return i.forEach((function(e){for(;e[o]>n[r][1];)r++,s.push(new Us(n[r]));s[r].addDatum(e)})),s.forEach((function(e){return e.calculateAggregatedValue(t._aggregation,t.yKey)})),s},Object.defineProperty(t.prototype,"xMax",{get:function(){var e=this;return this.data&&this.data.reduce((function(t,o){return Math.max(t,o[e.xKey])}),Number.NEGATIVE_INFINITY)},enumerable:!0,configurable:!0}),t.prototype.processData=function(){var e=this,t=this.xKey,o=this.data;this.binnedData=this.placeDataInBins(t&&o?o:[]);var n=Ri(this.binnedData.map((function(t){return t.getY(e.areaPlot)})));this.yDomain=this.fixNumericExtent([0,n[1]],"y");var i=this.binnedData[0],r=this.binnedData[this.binnedData.length-1],s=i.domain[0],a=r.domain[1];return this.xDomain=[s,a],this.fireEvent({type:"dataProcessed"}),!0},t.prototype.getDomain=function(e){return e===hi.X?this.xDomain:this.yDomain},t.prototype.fireNodeClickEvent=function(e){this.fireEvent({type:"nodeClick",series:this,datum:e.seriesDatum,xKey:this.xKey})},t.prototype.update=function(){var e=this,t=e.visible,o=e.chart,n=e.xAxis,i=e.yAxis;if(this.group.visible=t,n&&i&&t&&o&&!o.layoutPending&&!o.dataPending){var r=this.generateNodeData();this.updateRectSelection(r),this.updateRectNodes(),this.updateTextSelection(r),this.updateTextNodes()}},t.prototype.generateNodeData=function(){var e=this;if(!this.seriesItemEnabled)return[];var t=this,o=t.xAxis.scale,n=t.yAxis.scale,i=t.fill,r=t.stroke,s=t.strokeWidth,a=[],l=this.label,c=l.formatter,u=void 0===c?function(e){return String(e.aggregatedValue)}:c,d=l.fontStyle,h=l.fontWeight,p=l.fontSize,g=l.fontFamily,f=l.color;return this.binnedData.forEach((function(t){var l=t.aggregatedValue,c=t.frequency,m=t.domain,v=m[0],y=m[1],C=t.relativeHeight,w=o.convert(v),b=o.convert(y),S=e.areaPlot?C:e.yKey?l:c,E=n.convert(0),R=n.convert(S),P=b-w,O=Math.abs(R-E),x=0!==S&&{text:u(t),fontStyle:d,fontWeight:h,fontSize:p,fontFamily:g,fill:f,x:w+P/2,y:R+O/2};a.push({series:e,seriesDatum:t,x:w,y:R,width:P,height:O,fill:i,stroke:r,strokeWidth:s,label:x})})),a},t.prototype.updateRectSelection=function(e){var t=this.rectSelection.setData(e);t.exit.remove();var o=t.enter.append(ji).each((function(e){e.tag=Ls.Bin,e.crisp=!0}));this.rectSelection=t.merge(o)},t.prototype.updateRectNodes=function(){var e=this.chart.highlightedDatum,t=this,o=t.fillOpacity,n=t.strokeOpacity,i=t.shadow,r=t.highlightStyle,s=r.fill,a=r.stroke;this.rectSelection.each((function(t,r){var l=r===e;t.x=r.x,t.y=r.y,t.width=r.width,t.height=r.height,t.fill=l&&void 0!==s?s:r.fill,t.stroke=l&&void 0!==a?a:r.stroke,t.fillOpacity=o,t.strokeOpacity=n,t.strokeWidth=r.strokeWidth,t.fillShadow=i,t.visible=r.height>0}))},t.prototype.updateTextSelection=function(e){var t=this.textSelection.setData(e);t.exit.remove();var o=t.enter.append(Ln).each((function(e){e.tag=Ls.Label,e.pointerEvents=on.None,e.textAlign="center",e.textBaseline="middle"}));this.textSelection=t.merge(o)},t.prototype.updateTextNodes=function(){var e=this.label.enabled;this.textSelection.each((function(t,o){var n=o.label;n&&e?(t.text=n.text,t.x=n.x,t.y=n.y,t.fontStyle=n.fontStyle,t.fontWeight=n.fontWeight,t.fontSize=n.fontSize,t.fontFamily=n.fontFamily,t.fill=n.fill,t.visible=!0):t.visible=!1}))},t.prototype.getTooltipHtml=function(e){var t=this.xKey,o=this.yKey;if(!t)return"";var n=this,i=n.xName,r=n.yName,s=n.fill,a=n.tooltipRenderer,l=n.aggregation,c=e.seriesDatum,u=c.aggregatedValue,d=c.frequency,h=c.domain,p=h[0],g=h[1];if(a)return a({datum:c,xKey:t,xName:i,yKey:o,yName:r,color:s});var f='style="color: white; background-color: '+s+'"',m='\n                <div class="'+xr.defaultTooltipClass+'-title" '+f+">\n                    "+(i||t)+" "+ai(p)+" - "+ai(g)+"\n                </div>",v=o?"<b>"+(r||o)+" ("+l+")</b>: "+ai(u)+"<br>":"";return v+="<b>Frequency</b>: "+d,"\n                "+m+'\n                <div class="'+xr.defaultTooltipClass+'-content">\n                    '+v+"\n                </div>"},t.prototype.listSeriesItems=function(e){var t=this,o=t.id,n=t.data,i=t.yKey,r=t.yName,s=t.seriesItemEnabled,a=t.fill,l=t.stroke,c=t.fillOpacity,u=t.strokeOpacity;n&&n.length&&e.push({id:o,itemId:i,enabled:s,label:{text:r||i||"Frequency"},marker:{fill:a,stroke:l,fillOpacity:c,strokeOpacity:u}})},t.prototype.toggleSeriesItem=function(e,t){e===this.yKey&&(this.seriesItemEnabled=t),this.scheduleData()},t.className="HistogramSeries",t.type="histogram",Hs([Gn("dataChange")],t.prototype,"fill",void 0),Hs([Gn("dataChange")],t.prototype,"stroke",void 0),Hs([Gn("layoutChange")],t.prototype,"fillOpacity",void 0),Hs([Gn("layoutChange")],t.prototype,"strokeOpacity",void 0),t}(Sr),Ks=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Ys=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.path=new ni,t._dirtyPath=!0,t._centerX=0,t._centerY=0,t._centerOffset=0,t._innerRadius=10,t._outerRadius=20,t._startAngle=0,t._endAngle=2*Math.PI,t._angleOffset=0,t}return Ks(t,e),Object.defineProperty(t.prototype,"dirtyPath",{get:function(){return this._dirtyPath},set:function(e){this._dirtyPath!==e&&(this._dirtyPath=e,e&&(this.dirty=!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"centerX",{get:function(){return this._centerX},set:function(e){this._centerX!==e&&(this._centerX=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"centerY",{get:function(){return this._centerY},set:function(e){this._centerY!==e&&(this._centerY=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"centerOffset",{get:function(){return this._centerOffset},set:function(e){this._centerOffset!==e&&(this._centerOffset=Math.max(0,e),this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"innerRadius",{get:function(){return this._innerRadius},set:function(e){this._innerRadius!==e&&(this._innerRadius=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"outerRadius",{get:function(){return this._outerRadius},set:function(e){this._outerRadius!==e&&(this._outerRadius=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"startAngle",{get:function(){return this._startAngle},set:function(e){this._startAngle!==e&&(this._startAngle=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endAngle",{get:function(){return this._endAngle},set:function(e){this._endAngle!==e&&(this._endAngle=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"angleOffset",{get:function(){return this._angleOffset},set:function(e){this._angleOffset!==e&&(this._angleOffset=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),t.prototype.computeBBox=function(){var e=this.outerRadius;return new On(this.centerX-e,this.centerY-e,2*e,2*e)},t.prototype.isPointInPath=function(e,t){var o=this.transformPoint(e,t);return this.path.isPointInPath(o.x,o.y)},t.prototype.isPointInStroke=function(e,t){return!1},Object.defineProperty(t.prototype,"fullPie",{get:function(){return si(Xn(this.startAngle),Xn(this.endAngle))},enumerable:!0,configurable:!0}),t.prototype.updatePath=function(){if(this.dirtyPath){var e=this.path,t=this.angleOffset,o=Math.min(this.startAngle,this.endAngle)+t,n=Math.max(this.startAngle,this.endAngle)+t,i=.5*(o+n),r=Math.min(this.innerRadius,this.outerRadius),s=Math.max(this.innerRadius,this.outerRadius),a=this.centerOffset,l=this.fullPie,c=this.centerX,u=this.centerY;if(e.clear(),a&&(c+=a*Math.cos(i),u+=a*Math.sin(i)),l||(e.moveTo(c+r*Math.cos(o),u+r*Math.sin(o)),e.lineTo(c+s*Math.cos(o),u+s*Math.sin(o))),e.cubicArc(c,u,s,s,0,o,n,0),l)e.moveTo(c+r*Math.cos(n),u+r*Math.sin(n));else{var d=c+r*Math.cos(n);e.lineTo(Math.abs(d)<1e-8?0:d,u+r*Math.sin(n))}e.cubicArc(c,u,r,r,0,n,o,1),e.closePath(),this.dirtyPath=!1}},t.prototype.render=function(e){this.dirtyTransform&&this.computeTransformMatrix(),this.matrix.toContext(e),this.updatePath(),this.scene.appendPath(this.path),this.fillStroke(e),this.dirty=!1},t.className="Sector",t}(_n),qs=function(){function e(e,t,o,n){void 0===n&&(n=1),this.r=Math.min(1,Math.max(0,e||0)),this.g=Math.min(1,Math.max(0,t||0)),this.b=Math.min(1,Math.max(0,o||0)),this.a=Math.min(1,Math.max(0,n||0))}return e.fromString=function(t){if(t.indexOf("#")>=0)return e.fromHexString(t);var o=e.nameToHex[t];if(o)return e.fromHexString(o);if(t.indexOf("rgb")>=0)return e.fromRgbaString(t);throw new Error("Invalid color string: '"+t+"'")},e.fromHexString=function(t){var o=t.match(e.hexRe);if(o)return new e((n=parseInt(o[1],16))/255,(i=parseInt(o[2],16))/255,(r=parseInt(o[3],16))/255,(s=void 0!==o[4]?parseInt(o[4],16):255)/255);if(o=t.match(e.shortHexRe)){var n=parseInt(o[1],16),i=parseInt(o[2],16),r=parseInt(o[3],16),s=void 0!==o[4]?parseInt(o[4],16):15;return new e((n+=16*n)/255,(i+=16*i)/255,(r+=16*r)/255,(s+=16*s)/255)}throw new Error("Malformed hexadecimal color string: '"+t+"'")},e.fromRgbaString=function(t){var o=t.match(e.rgbRe);if(o)return new e(+o[1]/255,+o[2]/255,+o[3]/255);if(o=t.match(e.rgbaRe))return new e(+o[1]/255,+o[2]/255,+o[3]/255,+o[4]);throw new Error("Malformed rgb/rgba color string: '"+t+"'")},e.fromArray=function(t){if(4===t.length)return new e(t[0],t[1],t[2],t[3]);if(3===t.length)return new e(t[0],t[1],t[2]);throw new Error("The given array should contain 3 or 4 color components (numbers).")},e.fromHSB=function(t,o,n,i){void 0===i&&(i=1);var r=e.HSBtoRGB(t,o,n);return new e(r[0],r[1],r[2],i)},e.padHex=function(e){return 1===e.length?"0"+e:e},e.prototype.toHexString=function(){var t="#"+e.padHex(Math.round(255*this.r).toString(16))+e.padHex(Math.round(255*this.g).toString(16))+e.padHex(Math.round(255*this.b).toString(16));return this.a<1&&(t+=e.padHex(Math.round(255*this.a).toString(16))),t},e.prototype.toRgbaString=function(e){void 0===e&&(e=3);var t=[Math.round(255*this.r),Math.round(255*this.g),Math.round(255*this.b)],o=Math.pow(10,e);return 1!==this.a?(t.push(Math.round(this.a*o)/o),"rgba("+t.join(", ")+")"):"rgb("+t.join(", ")+")"},e.prototype.toString=function(){return 1===this.a?this.toHexString():this.toRgbaString()},e.prototype.toHSB=function(){return e.RGBtoHSB(this.r,this.g,this.b)},e.RGBtoHSB=function(e,t,o){var n=Math.min(e,t,o),i=Math.max(e,t,o),r=NaN;if(n!==i){var s=i-n,a=(i-e)/s,l=(i-t)/s,c=(i-o)/s;r=e===i?c-l:t===i?2+a-c:4+l-a,(r/=6)<0&&(r+=1)}return[360*r,0!==i?(i-n)/i:0,i]},e.HSBtoRGB=function(e,t,o){isNaN(e)&&(e=0),e=(e%360+360)%360/360;var n=0,i=0,r=0;if(0===t)n=i=r=o;else{var s=6*(e-Math.floor(e)),a=s-Math.floor(s),l=o*(1-t),c=o*(1-t*a),u=o*(1-t*(1-a));switch(s|0){case 0:n=o,i=u,r=l;break;case 1:n=c,i=o,r=l;break;case 2:n=l,i=o,r=u;break;case 3:n=l,i=c,r=o;break;case 4:n=u,i=l,r=o;break;case 5:n=o,i=l,r=c}}return[n,i,r]},e.prototype.derive=function(t,o,n,i){var r=e.RGBtoHSB(this.r,this.g,this.b),s=r[2];0==s&&n>1&&(s=.05);var a=((r[0]+t)%360+360)%360,l=Math.max(Math.min(r[1]*o,1),0);s=Math.max(Math.min(s*n,1),0);var c=Math.max(Math.min(this.a*i,1),0),u=e.HSBtoRGB(a,l,s);return u.push(c),e.fromArray(u)},e.prototype.brighter=function(){return this.derive(0,1,1/.7,1)},e.prototype.darker=function(){return this.derive(0,1,.7,1)},e.hexRe=/\s*#([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})?\s*$/,e.shortHexRe=/\s*#([0-9a-fA-F])([0-9a-fA-F])([0-9a-fA-F])([0-9a-fA-F])?\s*$/,e.rgbRe=/\s*rgb\((\d+),\s*(\d+),\s*(\d+)\)\s*/,e.rgbaRe=/\s*rgba\((\d+),\s*(\d+),\s*(\d+),\s*([.\d]+)\)\s*/,e.nameToHex=Object.freeze({aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",green:"#008000",greenyellow:"#ADFF2F",grey:"#808080",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"}),e}(),Xs=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Qs=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s};!function(e){e[e.Sector=0]="Sector",e[e.Callout=1]="Callout",e[e.Label=2]="Label"}(Ws||(Ws={}));var Zs=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.offset=3,t.minAngle=20,t}return Xs(t,e),Qs([Gn("change")],t.prototype,"offset",void 0),Qs([Gn("dataChange")],t.prototype,"minAngle",void 0),t}(as),Js=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.colors=jr.strokes,t.length=10,t.strokeWidth=1,t}return Xs(t,e),Qs([Gn("change")],t.prototype,"colors",void 0),Qs([Gn("change")],t.prototype,"length",void 0),Qs([Gn("change")],t.prototype,"strokeWidth",void 0),t}(kn),ea=function(e){function t(){var t=e.call(this)||this;return t.radiusScale=new Ms,t.groupSelection=$n.select(t.group).selectAll(),t.groupSelectionData=[],t.angleScale=function(){var e=new Ms;return e.domain=[0,1],e.range=[-Math.PI,Math.PI].map((function(e){return e+Math.PI/2})),e}(),t.seriesItemEnabled=[],t.label=new Zs,t.callout=new Js,t.angleKey="",t.angleName="",t._fills=jr.fills,t._strokes=jr.strokes,t.fillOpacity=1,t.strokeOpacity=1,t.rotation=0,t.outerRadiusOffset=0,t.innerRadiusOffset=0,t.strokeWidth=1,t.highlightStyle={fill:"yellow"},t.addEventListener("update",t.update,t),t.label.addEventListener("change",t.scheduleLayout,t),t.label.addEventListener("dataChange",t.scheduleData,t),t.callout.addEventListener("change",t.scheduleLayout,t),t.addPropertyListener("data",(function(e){e.source.seriesItemEnabled=e.value.map((function(){return!0}))})),t}return Xs(t,e),Object.defineProperty(t.prototype,"title",{get:function(){return this._title},set:function(e){var t=this._title;t!==e&&(t&&(t.removeEventListener("change",this.scheduleLayout),this.group.removeChild(t.node)),e&&(e.node.textBaseline="bottom",e.addEventListener("change",this.scheduleLayout),this.group.appendChild(e.node)),this._title=e,this.scheduleLayout())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fills",{get:function(){return this._fills},set:function(e){this._fills=e,this.strokes=e.map((function(e){return qs.fromString(e).darker().toHexString()})),this.scheduleData()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokes",{get:function(){return this._strokes},set:function(e){this._strokes=e,this.callout.colors=e,this.scheduleData()},enumerable:!0,configurable:!0}),t.prototype.onHighlightChange=function(){this.updateNodes()},t.prototype.getDomain=function(e){return e===hi.X?this.angleScale.domain:this.radiusScale.domain},t.prototype.processData=function(){var e=this,t=this,o=t.angleKey,n=t.radiusKey,i=t.seriesItemEnabled,r=t.angleScale,s=t.groupSelectionData,a=o&&this.data?this.data:[],l=a.map((function(e,t){return i[t]&&Math.abs(+e[o])||0})),c=l.reduce((function(e,t){return e+t}),0),u=function(){var e=0;return l.map((function(t){return e+=t/c}))}(),d=this.label.enabled&&this.labelKey,h=d?a.map((function(e){return String(e[d])})):[],p=!!n&&!this.innerRadiusOffset,g=[];if(p){var f=a.map((function(e){return Math.abs(e[n])})),m=Math.max.apply(Math,f);g=f.map((function(e){return e/m}))}s.length=0;var v=Qn(this.rotation),y=Math.PI/2,C=0;return u.reduce((function(t,o){var n,i,l,c=p?g[C]:1,u=r.convert(t)+v,f=r.convert(o)+v,m=(u+f)/2,w=Math.abs(f-u),b=Math.cos(m),S=Math.sin(m),E=Qn(e.label.minAngle),R=d&&w>E,P=(n=m,(n%=qn)<-Math.PI?n+=qn:n>=Math.PI&&(n-=qn),n),O=-3*Math.PI/4;return P>=O&&P<(O+=y)?(i="center",l="bottom"):P>=O&&P<(O+=y)?(i="left",l="middle"):P>=O&&P<(O+=y)?(i="center",l="hanging"):(i="right",l="middle"),s.push({series:e,seriesDatum:a[C],index:C,radius:c,startAngle:u,endAngle:f,midAngle:m,midCos:b,midSin:S,label:R?{text:h[C],textAlign:i,textBaseline:l}:void 0}),C++,o}),0),!0},t.prototype.update=function(){var e=this.chart;if((this.group.visible=this.visible&&this.seriesItemEnabled.indexOf(!0)>=0)&&e&&!e.dataPending&&!e.layoutPending){this.radiusScale.range=[0,this.radius],this.group.translationX=this.centerX,this.group.translationY=this.centerY;var t=this.title;t&&(t.node.translationY=-this.radius-this.outerRadiusOffset-2,t.node.visible=t.enabled),this.updateGroupSelection(),this.updateNodes()}},t.prototype.updateGroupSelection=function(){var e=this.groupSelection.setData(this.groupSelectionData);e.exit.remove();var t=e.enter.append(zn);t.append(Ys).each((function(e){return e.tag=Ws.Sector})),t.append(Yn).each((function(e){e.tag=Ws.Callout,e.pointerEvents=on.None})),t.append(Ln).each((function(e){e.tag=Ws.Label,e.pointerEvents=on.None})),this.groupSelection=e.merge(t)},t.prototype.updateNodes=function(){var e=this,t=e.fills,o=e.strokes,n=e.fillOpacity,i=e.strokeOpacity,r=e.strokeWidth,s=e.outerRadiusOffset,a=e.innerRadiusOffset,l=e.radiusScale,c=e.callout,u=e.shadow,d=e.highlightStyle,h=d.fill,p=d.stroke,g=d.centerOffset,f=this.chart.highlightedDatum,m=[],v=[];this.groupSelection.selectByTag(Ws.Sector).each((function(e,c,d){var y=l.convert(c.radius),C=Math.max(0,y+s);e.outerRadius=C,e.innerRadius=Math.max(0,a?y+a:0),e.startAngle=c.startAngle,e.endAngle=c.endAngle;var w=c===f;e.fill=w&&void 0!==h?h:t[d%t.length],e.stroke=w&&void 0!==p?p:o[d%o.length],e.fillOpacity=n,e.strokeOpacity=i,e.centerOffset=w&&void 0!==g?g:0,e.fillShadow=u,e.strokeWidth=r,e.lineJoin="round",m.push(C),v.push(e.centerOffset)}));var y=c.colors,C=c.length,w=c.strokeWidth;this.groupSelection.selectByTag(Ws.Callout).each((function(e,t,o){if(t.label){var n=v[o]+m[o];e.strokeWidth=w,e.stroke=y[o%y.length],e.x1=t.midCos*n,e.y1=t.midSin*n,e.x2=t.midCos*(n+C),e.y2=t.midSin*(n+C)}else e.stroke=void 0}));var b=this.label,S=b.offset,E=b.fontStyle,R=b.fontWeight,P=b.fontSize,O=b.fontFamily,x=b.color;this.groupSelection.selectByTag(Ws.Label).each((function(e,t,o){var n=t.label;if(n){var i=m[o],r=v[o]+i+C+S;e.fontStyle=E,e.fontWeight=R,e.fontSize=P,e.fontFamily=O,e.text=n.text,e.x=t.midCos*r,e.y=t.midSin*r,e.fill=x,e.textAlign=n.textAlign,e.textBaseline=n.textBaseline}else e.fill=void 0}))},t.prototype.fireNodeClickEvent=function(e){this.fireEvent({type:"nodeClick",series:this,datum:e.seriesDatum,angleKey:this.angleKey,radiusKey:this.radiusKey})},t.prototype.getTooltipHtml=function(e){var t=this.angleKey;if(!t)return"";var o=this,n=o.title,i=o.fills,r=o.tooltipRenderer,s=o.angleName,a=o.radiusKey,l=o.radiusName,c=o.labelKey,u=o.labelName,d=n?n.text:void 0,h=i[e.index%i.length];if(r)return r({datum:e.seriesDatum,angleKey:t,angleName:s,radiusKey:a,radiusName:l,labelKey:c,labelName:u,title:d,color:h});var p='style="color: white; background-color: '+h+'"',g=n?'<div class="'+xr.defaultTooltipClass+'-title" '+p+">"+d+"</div>":"",f=c?e.seriesDatum[c]+": ":"",m=e.seriesDatum[t],v="number"===typeof m?ai(m):m.toString();return g+'<div class="'+xr.defaultTooltipClass+'-content">'+f+v+"</div>"},t.prototype.listSeriesItems=function(e){var t=this,o=this.labelKey,n=this.data;if(n&&n.length&&o){var i=this,r=i.fills,s=i.strokes,a=i.id;n.forEach((function(n,i){e.push({id:a,itemId:i,enabled:t.seriesItemEnabled[i],label:{text:String(n[o])},marker:{fill:r[i%r.length],stroke:s[i%s.length],fillOpacity:t.fillOpacity,strokeOpacity:t.strokeOpacity}})}))}},t.prototype.toggleSeriesItem=function(e,t){this.seriesItemEnabled[e]=t,this.scheduleData()},t.className="PieSeries",t.type="pie",Qs([Gn("dataChange")],t.prototype,"angleKey",void 0),Qs([Gn("update")],t.prototype,"angleName",void 0),Qs([Gn("dataChange")],t.prototype,"radiusKey",void 0),Qs([Gn("update")],t.prototype,"radiusName",void 0),Qs([Gn("dataChange")],t.prototype,"labelKey",void 0),Qs([Gn("update")],t.prototype,"labelName",void 0),Qs([Gn("layoutChange")],t.prototype,"fillOpacity",void 0),Qs([Gn("layoutChange")],t.prototype,"strokeOpacity",void 0),Qs([Gn("dataChange")],t.prototype,"rotation",void 0),Qs([Gn("layoutChange")],t.prototype,"outerRadiusOffset",void 0),Qs([Gn("dataChange")],t.prototype,"innerRadiusOffset",void 0),Qs([Gn("layoutChange")],t.prototype,"strokeWidth",void 0),Qs([Gn("layoutChange")],t.prototype,"shadow",void 0),t}(Xr),ta=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),oa=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},na=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.enabled=!0,t.color="rgba(0, 0, 0, 0.5)",t.xOffset=0,t.yOffset=0,t.blur=5,t}return ta(t,e),oa([Gn("change")],t.prototype,"enabled",void 0),oa([Gn("change")],t.prototype,"color",void 0),oa([Gn("change")],t.prototype,"xOffset",void 0),oa([Gn("change")],t.prototype,"yOffset",void 0),oa([Gn("change")],t.prototype,"blur",void 0),t}(kn),ia=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),ra=function(e){function t(){var t=e.call(this,new Ms)||this;return t._nice=!0,t._min=NaN,t._max=NaN,t.scale.clamp=!0,t}return ia(t,e),Object.defineProperty(t.prototype,"nice",{get:function(){return this._nice},set:function(e){this._nice!==e&&(this._nice=e,e&&this.scale.nice&&this.scale.nice(10))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"domain",{get:function(){return this.scale.domain},set:function(e){var t=this.min,o=this.max;e=[isNaN(t)?e[0]:t,isNaN(o)?e[1]:o],this.scale.domain=e,this.nice&&this.scale.nice&&this.scale.nice(10)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"min",{get:function(){return this._min},set:function(e){this._min!==e&&(this._min=e,isNaN(e)||(this.scale.domain=[e,this.scale.domain[1]]))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"max",{get:function(){return this._max},set:function(e){this._max!==e&&(this._max=e,isNaN(e)||(this.scale.domain=[this.scale.domain[0],e]))},enumerable:!0,configurable:!0}),t.className="NumberAxis",t.type="number",t}(Ci);var sa=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),aa=new Date,la=new Date,ca=function(){function e(e,t){this._floor=e,this._offset=t}return e.prototype.floor=function(e){return e=new Date(+e),this._floor(e),e},e.prototype.ceil=function(e){return e=new Date(+e-1),this._floor(e),this._offset(e,1),this._floor(e),e},e.prototype.round=function(e){var t=this.floor(e),o=this.ceil(e),n=+e;return n-t.getTime()<o.getTime()-n?t:o},e.prototype.offset=function(e,t){return void 0===t&&(t=1),e=new Date(+e),this._offset(e,Math.floor(t)),e},e.prototype.range=function(e,t,o){void 0===o&&(o=1);var n,i=[];if(e=this.ceil(e),o=Math.floor(o),e>t||o<=0)return i;do{n=new Date(+e),i.push(n),this._offset(e,o),this._floor(e)}while(n<e&&e<t);return i},e.prototype.filter=function(t){var o=this;return new e((function(e){if(e>=e)for(;o._floor(e),!t(e);)e.setTime(e.getTime()-1);return e}),(function(e,n){if(e>=e)if(n<0)for(;++n<=0;)do{o._offset(e,-1)}while(!t(e));else for(;--n>=0;)do{o._offset(e,1)}while(!t(e));return e}))},e}(),ua=function(e){function t(t,o,n,i){var r=e.call(this,t,o)||this;return r._count=n,r._field=i,r}return sa(t,e),t.prototype.count=function(e,t){return aa.setTime(+e),la.setTime(+t),this._floor(aa),this._floor(la),Math.floor(this._count(aa,la))},t.prototype.every=function(e){var t,o=this;if(e=Math.floor(e),isFinite(e)&&e>0)if(e>1){var n=this._field;t=n?this.filter((function(t){return n(t)%e===0})):this.filter((function(t){return o.count(0,t)%e===0}))}else t=this;return t},t}(ca);var da=new ua((function(e){return e}),(function(e,t){e.setTime(e.getTime()+t)}),(function(e,t){return t.getTime()-e.getTime()})),ha=1e3,pa=6e4,ga=36e5,fa=864e5,ma=6048e5,va=2592e6,ya=31536e6;var Ca=new ua((function(e){e.setTime(e.getTime()-e.getMilliseconds())}),(function(e,t){e.setTime(e.getTime()+t*ha)}),(function(e,t){return(t.getTime()-e.getTime())/ha}));var wa=new ua((function(e){e.setTime(e.getTime()-e.getMilliseconds()-e.getSeconds()*ha)}),(function(e,t){e.setTime(e.getTime()+t*pa)}),(function(e,t){return(t.getTime()-e.getTime())/pa}),(function(e){return e.getMinutes()}));var ba=new ua((function(e){e.setTime(e.getTime()-e.getMilliseconds()-e.getSeconds()*ha-e.getMinutes()*pa)}),(function(e,t){e.setTime(e.getTime()+t*ga)}),(function(e,t){return(t.getTime()-e.getTime())/ga}),(function(e){return e.getHours()}));var Sa=new ua((function(e){e.setHours(0,0,0,0)}),(function(e,t){e.setDate(e.getDate()+t)}),(function(e,t){var o=t.getTimezoneOffset()-e.getTimezoneOffset();return(t.getTime()-e.getTime()-o*pa)/fa}),(function(e){return e.getDate()-1}));function Ea(e){return new ua((function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)}),(function(e,t){e.setDate(e.getDate()+7*t)}),(function(e,t){return(t.getTime()-e.getTime()-(t.getTimezoneOffset()-e.getTimezoneOffset())*pa)/ma}))}var Ra=Ea(0),Pa=Ea(1),Oa=(Ea(2),Ea(3),Ea(4));Ea(5),Ea(6);var xa=new ua((function(e){e.setDate(1),e.setHours(0,0,0,0)}),(function(e,t){e.setMonth(e.getMonth()+t)}),(function(e,t){return t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())}),(function(e){return e.getMonth()}));var Ta=new ua((function(e){e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,t){e.setFullYear(e.getFullYear()+t)}),(function(e,t){return t.getFullYear()-e.getFullYear()}),(function(e){return e.getFullYear()}));function Da(e,t,o,n,i){void 0===n&&(n=0),void 0===i&&(i=e.length);for(var r=function(e){return function(t,o){return(n=e(t))<(i=o)?-1:n>i?1:n>=i?0:NaN;var n,i}}(o);n<i;){var s=n+i>>>1;r(e[s],t)<0?n=s+1:i=s}return n}var Aa=new ua((function(e){e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCDate(e.getUTCDate()+t)}),(function(e,t){return(t.getTime()-e.getTime())/fa}),(function(e){return e.getUTCDate()-1}));var Fa=new ua((function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)}),(function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()}),(function(e){return e.getUTCFullYear()}));function _a(e){return new ua((function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setHours(0,0,0,0)}),(function(e,t){e.setUTCDate(e.getUTCDate()+7*t)}),(function(e,t){return(t.getTime()-e.getTime())/ma}))}var Ma=_a(0),Ia=_a(1),La=(_a(2),_a(3),_a(4));_a(5),_a(6);function Na(e){if(e.y>=0&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function ka(e){if(e.y>=0&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Ga(e){for(var t={},o=0,n=e.length;o<n;o++)t[e[o].toLowerCase()]=o;return t}function Va(e){return{y:e,m:0,d:1,H:0,M:0,S:0,L:0}}var Ha,Ba=/^\s*\d+/,Wa=/^%/,ja=/[\\^$*+?|[\]().{}]/g,za=function(e){return e.replace(ja,"\\$&")},Ua=function(e){return new RegExp("^(?:"+e.map(za).join("|")+")","i")},$a={"-":"",_:" ",0:"0"};function Ka(e,t,o){var n=e<0?"-":"",i=String(n?-e:e),r=i.length;return n+(r<o?new Array(o-r+1).join(t)+i:i)}Ha=function(e){var t=e.dateTime,o=e.date,n=e.time,i=e.periods,r=e.days,s=e.shortDays,a=e.months,l=e.shortMonths,c=Ua(i),u=Ga(i),d=Ua(r),h=Ga(r),p=Ua(s),g=Ga(s),f=Ua(a),m=Ga(a),v=Ua(l),y=Ga(l),C={a:function(e){return s[e.getDay()]},A:function(e){return r[e.getDay()]},b:function(e){return l[e.getMonth()]},B:function(e){return a[e.getMonth()]},c:void 0,d:O,e:O,f:function(e,t){return P(e,t)+"000"},H:function(e,t){return Ka(e.getHours(),t,2)},I:function(e,t){return Ka(e.getHours()%12||12,t,2)},j:function(e,t){return Ka(1+Sa.count(Ta.floor(e),e),t,3)},L:P,m:function(e,t){return Ka(e.getMonth()+1,t,2)},M:function(e,t){return Ka(e.getMinutes(),t,2)},p:function(e){return i[e.getHours()>=12?1:0]},Q:A,s:F,S:function(e,t){return Ka(e.getSeconds(),t,2)},u:function(e){var t=e.getDay();return 0===t?7:t},U:function(e,t){return Ka(Ra.count(Ta.floor(e),e),t,2)},V:function(e,t){var o=e.getDay();e=o>=4||0===o?Oa.floor(e):Oa.ceil(e);var n=Ta.floor(e);return Ka(Oa.count(n,e)+(4===n.getDay()?1:0),t,2)},w:function(e){return e.getDay()},W:function(e,t){return Ka(Pa.count(Ta.floor(e),e),t,2)},x:void 0,X:void 0,y:function(e,t){return Ka(e.getFullYear()%100,t,2)},Y:function(e,t){return Ka(e.getFullYear()%1e4,t,4)},Z:function(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Ka(Math.floor(t/60),"0",2)+Ka(t%60,"0",2)},"%":D},w={a:function(e){return s[e.getUTCDay()]},A:function(e){return r[e.getUTCDay()]},b:function(e){return l[e.getUTCMonth()]},B:function(e){return a[e.getUTCMonth()]},c:void 0,d:T,e:T,f:function(e,t){return x(e,t)+"000"},H:function(e,t){return Ka(e.getUTCHours(),t,2)},I:function(e,t){return Ka(e.getUTCHours()%12||12,t,2)},j:function(e,t){return Ka(1+Aa.count(Fa.floor(e),e),t,3)},L:x,m:function(e,t){return Ka(e.getUTCMonth()+1,t,2)},M:function(e,t){return Ka(e.getUTCMinutes(),t,2)},p:function(e){return i[e.getUTCHours()>=12?1:0]},Q:A,s:F,S:function(e,t){return Ka(e.getUTCSeconds(),t,2)},u:function(e){var t=e.getUTCDay();return 0===t?7:t},U:function(e,t){return Ka(Ma.count(Fa.floor(e),e),t,2)},V:function(e,t){var o=e.getUTCDay();e=o>=4||0===o?La.floor(e):La.ceil(e);var n=Fa.floor(e);return Ka(La.count(n,e)+(4===n.getUTCDay()?1:0),t,4)},w:function(e){return e.getUTCDay()},W:function(e,t){return Ka(Ia.count(Fa.floor(e),e),t,2)},x:void 0,X:void 0,y:function(e,t){return Ka(e.getUTCFullYear()%100,t,2)},Y:function(e,t){return Ka(e.getUTCFullYear()%1e4,t,4)},Z:function(){return"+0000"},"%":D},b={a:function(e,t,o){var n=p.exec(t.slice(o));return n?(e.w=g[n[0].toLowerCase()],o+n[0].length):-1},A:function(e,t,o){var n=d.exec(t.slice(o));return n?(e.w=h[n[0].toLowerCase()],o+n[0].length):-1},b:function(e,t,o){var n=v.exec(t.slice(o));return n?(e.m=y[n[0].toLowerCase()],o+n[0].length):-1},B:function(e,t,o){var n=f.exec(t.slice(o));return n?(e.m=m[n[0].toLowerCase()],o+n[0].length):-1},c:function(e,o,n){return R(e,t,o,n)},d:M,e:M,f:function(e,t,o){var n=Ba.exec(t.slice(o,o+6));return n?(e.L=Math.floor(parseFloat(n[0])/1e3),o+n[0].length):-1},H:_,I:_,j:function(e,t,o){var n=Ba.exec(t.slice(o,o+3));return n?(e.m=0,e.d=+n[0],o+n[0].length):-1},L:function(e,t,o){var n=Ba.exec(t.slice(o,o+3));return n?(e.L=+n[0],o+n[0].length):-1},m:function(e,t,o){var n=Ba.exec(t.slice(o,o+2));return n?(e.m=parseFloat(n[0])-1,o+n[0].length):-1},M:function(e,t,o){var n=Ba.exec(t.slice(o,o+2));return n?(e.M=+n[0],o+n[0].length):-1},p:function(e,t,o){var n=c.exec(t.slice(o));return n?(e.p=u[n[0].toLowerCase()],o+n[0].length):-1},Q:function(e,t,o){var n=Ba.exec(t.slice(o));return n?(e.Q=+n[0],o+n[0].length):-1},s:function(e,t,o){var n=Ba.exec(t.slice(o));return n?(e.Q=1e3*+n[0],o+n[0].length):-1},S:function(e,t,o){var n=Ba.exec(t.slice(o,o+2));return n?(e.S=+n[0],o+n[0].length):-1},u:function(e,t,o){var n=Ba.exec(t.slice(o,o+1));return n?(e.u=+n[0],o+n[0].length):-1},U:function(e,t,o){var n=Ba.exec(t.slice(o,o+2));return n?(e.U=+n[0],o+n[0].length):-1},V:function(e,t,o){var n=Ba.exec(t.slice(o,o+2));return n?(e.V=+n[0],o+n[0].length):-1},w:function(e,t,o){var n=Ba.exec(t.slice(o,o+1));return n?(e.w=+n[0],o+n[0].length):-1},W:function(e,t,o){var n=Ba.exec(t.slice(o,o+2));return n?(e.W=+n[0],o+n[0].length):-1},x:function(e,t,n){return R(e,o,t,n)},X:function(e,t,o){return R(e,n,t,o)},y:function(e,t,o){var n=Ba.exec(t.slice(o,o+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),o+n[0].length):-1},Y:function(e,t,o){var n=Ba.exec(t.slice(o,o+4));return n?(e.y=+n[0],o+n[0].length):-1},Z:function(e,t,o){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(o,o+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),o+n[0].length):-1},"%":function(e,t,o){var n=Wa.exec(t.slice(o,o+1));return n?o+n[0].length:-1}};function S(e,t){return function(o){var n=Va(1900);if(R(n,e,o+="",0)==o.length){if("Q"in n)return new Date(n.Q);if("p"in n&&(n.H=n.H%12+12*n.p),"V"in n){if(n.V<1||n.V>53)return;if("w"in n||(n.w=1),"Z"in n){var i=(r=ka(Va(n.y))).getUTCDay();r=i>4||0===i?Ia.ceil(r):Ia.floor(r),r=Aa.offset(r,7*(n.V-1)),n.y=r.getUTCFullYear(),n.m=r.getUTCMonth(),n.d=r.getUTCDate()+(n.w+6)%7}else{var r;i=(r=t(Va(n.y))).getDay(),r=i>4||0===i?Pa.ceil(r):Pa.floor(r),r=Sa.offset(r,7*(n.V-1)),n.y=r.getFullYear(),n.m=r.getMonth(),n.d=r.getDate()+(n.w+6)%7}}else("W"in n||"U"in n)&&("w"in n||(n.w="u"in n?n.u%7:"W"in n?1:0),i="Z"in n?ka(Va(n.y)).getUTCDay():t(Va(n.y)).getDay(),n.m=0,n.d="W"in n?(n.w+6)%7+7*n.W-(i+5)%7:n.w+7*n.U-(i+6)%7);return"Z"in n?(n.H+=n.Z/100|0,n.M+=n.Z%100,ka(n)):t(n)}}}function E(e,t){return function(o){var n=[],i=e.length,r=-1,s=0;for(o instanceof Date||(o=new Date(+o));++r<i;)if(37===e.charCodeAt(r)){n.push(e.slice(s,r));var a=e.charAt(++r),l=$a[a];void 0!=l?a=e.charAt(++r):l="e"===a?" ":"0";var c=t[a];c&&(a=c(o,l)),n.push(a),s=r+1}return n.push(e.slice(s,r)),n.join("")}}function R(e,t,o,n){for(var i=0,r=t.length,s=o.length;i<r;){if(n>=s)return-1;var a=t.charCodeAt(i++);if(37===a){var l=t.charAt(i++),c=b[l in $a?t.charAt(i++):l];if(!c||(n=c(e,o,n))<0)return-1}else if(a!=o.charCodeAt(n++))return-1}return n}function P(e,t){return Ka(e.getMilliseconds(),t,3)}function O(e,t){return Ka(e.getDate(),t,2)}function x(e,t){return Ka(e.getUTCMilliseconds(),t,3)}function T(e,t){return Ka(e.getUTCDate(),t,2)}function D(e){return"%"}function A(e){return e.getTime()}function F(e){return Math.floor(e.getTime()/1e3)}function _(e,t,o){var n=Ba.exec(t.slice(o,o+2));return n?(e.H=+n[0],o+n[0].length):-1}function M(e,t,o){var n=Ba.exec(t.slice(o,o+2));return n?(e.d=+n[0],o+n[0].length):-1}return C.x=E(o,C),C.X=E(n,C),C.c=E(t,C),w.x=E(o,w),w.X=E(n,w),w.c=E(t,w),{format:function(e){var t=E(e,C);return t.toString=function(){return e},t},parse:function(e){var t=S(e,Na);return t.toString=function(){return e},t},utcFormat:function(e){var t=E(e,w);return t.toString=function(){return e},t},utcParse:function(e){var t=S(e,ka);return t.toString=function(){return e},t}}}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var Ya=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),qa=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.year=Ta,t.month=xa,t.week=Ra,t.day=Sa,t.hour=ba,t.minute=wa,t.second=Ca,t.millisecond=da,t.format=Ha.format,t.tickIntervals=[[t.second,1,ha],[t.second,5,5e3],[t.second,15,15e3],[t.second,30,3e4],[t.minute,1,pa],[t.minute,5,3e5],[t.minute,15,9e5],[t.minute,30,18e5],[t.hour,1,ga],[t.hour,3,108e5],[t.hour,6,216e5],[t.hour,12,432e5],[t.day,1,fa],[t.day,2,1728e5],[t.week,1,ma],[t.month,1,va],[t.month,3,7776e6],[t.year,1,ya]],t.formatMillisecond=t.format(".%L"),t.formatSecond=t.format(":%S"),t.formatMinute=t.format("%I:%M"),t.formatHour=t.format("%I %p"),t.formatDay=t.format("%a %d"),t.formatWeek=t.format("%b %d"),t.formatMonth=t.format("%B"),t.formatYear=t.format("%Y"),t._domain=[new Date(2e3,0,1),new Date(2e3,0,2)],t}return Ya(t,e),t.prototype.defaultTickFormat=function(e){return(this.second.floor(e)<e?this.formatMillisecond:this.minute.floor(e)<e?this.formatSecond:this.hour.floor(e)<e?this.formatMinute:this.day.floor(e)<e?this.formatHour:this.month.floor(e)<e?this.week.floor(e)<e?this.formatDay:this.formatWeek:this.year.floor(e)<e?this.formatMonth:this.formatYear)(e)},t.prototype.tickInterval=function(e,t,o,n){var i;if(void 0===e&&(e=10),"number"===typeof e){var r=e,s=this.tickIntervals,a=Math.abs(o-t)/r,l=Da(s,a,(function(e){return e[2]}));l===s.length?(n=Ds(t/ya,o/ya,r),e=this.year):l?(e=(i=s[a/s[l-1][2]<s[l][2]/a?l-1:l])[0],n=i[1]):(n=Math.max(Ds(t,o,e),1),e=this.millisecond)}return void 0==n?e:e.every(n)},Object.defineProperty(t.prototype,"domain",{get:function(){return e.prototype.getDomain.call(this).map((function(e){return new Date(e)}))},set:function(t){e.prototype.setDomain.call(this,Array.prototype.map.call(t,(function(e){return e instanceof Date?+e:+new Date(+e)})))},enumerable:!0,configurable:!0}),t.prototype.invert=function(t){return new Date(e.prototype.invert.call(this,t))},t.prototype.ticks=function(t){void 0===t&&(t=10);var o=e.prototype.getDomain.call(this),n=o[0],i=o[o.length-1],r=i<n;if(r){var s=n;n=i,i=s}var a=this.tickInterval(t,n,i),l=a?a.range(n,i+1):[];return r?l.reverse():l},t.prototype.tickFormat=function(e,t){return void 0==t?this.defaultTickFormat.bind(this):this.format(t)},t.prototype.nice=function(t){void 0===t&&(t=10);var o=e.prototype.getDomain.call(this),n=this.tickInterval(t,o[0],o[o.length-1]);n&&(this.domain=this._nice(o,n))},t.prototype._nice=function(e,t){var o,n,i=0,r=(e=e.slice()).length-1,s=e[i],a=e[r];return a<s&&(i=(o=[r,i])[0],r=o[1],s=(n=[a,s])[0],a=n[1]),e[i]=t.floor(s),e[r]=t.ceil(a),e},t}(ws),Xa=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Qa=function(e){function t(){var t=e.call(this,new qa)||this;return t._nice=!0,t.scale.clamp=!0,t}return Xa(t,e),Object.defineProperty(t.prototype,"nice",{get:function(){return this._nice},set:function(e){this._nice!==e&&(this._nice=e,e&&this.scale.nice&&this.scale.nice(10))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"domain",{get:function(){return this.scale.domain},set:function(e){this.scale.domain=e,this.nice&&this.scale.nice&&this.scale.nice(10)},enumerable:!0,configurable:!0}),t.className="TimeAxis",t.type="time",t}(Ci),Za=function(){function e(){}return e.createCartesianChart=function(e,t,o,n){var i=new Hr(n);return i.container=e,t.position=pi.Bottom,o.position=pi.Left,i.axes=[t,o],i},e.createGroupedCategoryChart=function(e,t,o,n){var i=new Wr(n);return i.container=e,t.position=pi.Bottom,o.position=pi.Left,i.axes=[t,o],i},e.createBarChart=function(t,o){var n=this.createCartesianChart(t,e.createAxis(o.xAxis,"number"),e.createAxis(o.yAxis,"category"),o.document);return e.initCartesianChart(n,o),o.series&&(n.series=o.series.map((function(t){return e.initBarSeries(new hs,t)}))),n},e.createGroupedBarChart=function(t,o){var n=this.createGroupedCategoryChart(t,e.createAxis(o.xAxis,"number"),e.createGroupedCategoryAxis(o.yAxis),o.document);return e.initCartesianChart(n,o),o.series&&(n.series=o.series.map((function(t){return e.initBarSeries(new hs,t)}))),n},e.createColumnChart=function(t,o){var n=this.createCartesianChart(t,e.createAxis(o.xAxis,"category"),e.createAxis(o.yAxis,"number"),o.document);return e.initCartesianChart(n,o),o.series&&(n.series=o.series.map((function(t){return e.initBarSeries(new hs,t)}))),n},e.createGroupedColumnChart=function(t,o){var n=this.createGroupedCategoryChart(t,e.createGroupedCategoryAxis(o.xAxis),e.createAxis(o.yAxis,"number"),o.document);return e.initCartesianChart(n,o),o.series&&(n.series=o.series.map((function(t){return e.initBarSeries(new hs,t)}))),n},e.createLineChart=function(t,o){var n=this.createCartesianChart(t,e.createAxis(o.xAxis,"category"),e.createAxis(o.yAxis,"number"),o.document);return e.initCartesianChart(n,o),o.series&&(n.series=o.series.map((function(t){return e.initLineSeries(new Es,t)}))),n},e.createGroupedLineChart=function(t,o){var n=this.createGroupedCategoryChart(t,e.createGroupedCategoryAxis(o.xAxis),e.createAxis(o.yAxis,"number"),o.document);return e.initCartesianChart(n,o),o.series&&(n.series=o.series.map((function(t){return e.initLineSeries(new Es,t)}))),n},e.createScatterChart=function(t,o){var n=this.createCartesianChart(t,e.createAxis(o.xAxis,"number"),e.createAxis(o.yAxis,"number"),o.document);return e.initCartesianChart(n,o),o.series&&(n.series=o.series.map((function(t){return e.initScatterSeries(new Gs,t)}))),n},e.createAreaChart=function(t,o){var n=this.createCartesianChart(t,e.createAxis(o.xAxis,"category"),e.createAxis(o.yAxis,"number"),o.document);return e.initCartesianChart(n,o),o.series&&(n.series=o.series.map((function(t){return e.initAreaSeries(new is,t)}))),n},e.createGroupedAreaChart=function(t,o){var n=this.createGroupedCategoryChart(t,e.createGroupedCategoryAxis(o.xAxis),e.createAxis(o.yAxis,"number"),o.document);return e.initCartesianChart(n,o),o.series&&(n.series=o.series.map((function(t){return e.initAreaSeries(new is,t)}))),n},e.createHistogramChart=function(t,o){var n=this.createCartesianChart(t,e.createNumberAxis(o.xAxis),e.createNumberAxis(o.yAxis),o.document);return e.initCartesianChart(n,o),n},e.createPolarChart=function(e){var t=new Jr;return t.container=e,t},e.createDoughnutChart=function(e,t){return this.createPieChart(e,t)},e.createPieChart=function(t,o){var n=this.createPolarChart(t);return e.initChart(n,o),o.series&&(n.series=o.series.map((function(t){return e.initPieSeries(new ea,t)}))),n},e.createSeries=function(t){switch(t&&t.type){case"line":return e.initLineSeries(new Es,t);case"scatter":return e.initScatterSeries(new Gs,t);case"bar":return e.initBarSeries(new hs,t);case"area":return e.initAreaSeries(new is,t);case"pie":return e.initPieSeries(new ea,t);case"histogram":return e.initHistogramSeries(new $s,t);default:return null}},e.initCartesianChart=function(t,o){return void 0!==o.navigator&&e.initNavigator(t.navigator,o.navigator),this.initChart(t,o)},e.initChart=function(t,o){this.setValueIfExists(t,"width",o.width),this.setValueIfExists(t,"height",o.height),this.setValueIfExists(t,"tooltipClass",o.tooltipClass),this.setTransformedValueIfExists(t,"title",(function(t){return e.createTitle(t)}),o.title),this.setTransformedValueIfExists(t,"subtitle",(function(t){return e.createSubtitle(t)}),o.subtitle),this.setTransformedValueIfExists(t,"padding",(function(e){return new Pn(e.top,e.right,e.bottom,e.left)}),o.padding),o.background&&(this.setValueIfExists(t.background,"fill",o.background.fill),this.setValueIfExists(t.background,"visible",o.background.visible)),void 0!==o.legend&&e.initLegend(t.legend,o.legend);var n=o.listeners;if(n)for(var i in n)if(n.hasOwnProperty(i)){var r=n[i];"function"===typeof r&&t.addEventListener(i,r)}return t},e.initSeries=function(e,t){this.setValueIfExists(e,"visible",t.visible),this.setValueIfExists(e,"showInLegend",t.showInLegend),this.setValueIfExists(e,"data",t.data);var o=t.listeners;if(o)for(var n in o)if(o.hasOwnProperty(n)){var i=o[n];"function"===typeof i&&e.addEventListener(n,i)}return e},e.initLineSeries=function(t,o){e.initSeries(t,o),this.setValueIfExists(t,"title",o.title);var n=o.field,i=o.fill,r=o.stroke,s=o.highlightStyle,a=o.marker,l=o.tooltip;return n&&(this.setValueIfExists(t,"xKey",n.xKey),this.setValueIfExists(t,"xName",n.xName),this.setValueIfExists(t,"yKey",n.yKey),this.setValueIfExists(t,"yName",n.yName)),i&&this.setValueIfExists(t.marker,"fill",i.color),r&&(this.setValueIfExists(t,"stroke",r.color),this.setValueIfExists(t,"strokeWidth",r.width)),s&&this.initHighlightStyle(t.highlightStyle,s),a&&this.initMarker(t.marker,a),l&&(this.setValueIfExists(t,"tooltipEnabled",l.enabled),this.setValueIfExists(t,"tooltipRenderer",l.renderer)),t},e.initScatterSeries=function(t,o){e.initSeries(t,o),this.setValueIfExists(t,"title",o.title);var n=o.field,i=o.fill,r=o.stroke,s=o.highlightStyle,a=o.marker,l=o.tooltip;return n&&(this.setValueIfExists(t,"xKey",n.xKey),this.setValueIfExists(t,"xName",n.xName),this.setValueIfExists(t,"yKey",n.yKey),this.setValueIfExists(t,"yName",n.yName),this.setValueIfExists(t,"sizeKey",n.sizeKey),this.setValueIfExists(t,"sizeName",n.sizeName),this.setValueIfExists(t,"labelKey",n.labelKey),this.setValueIfExists(t,"labelName",n.labelName)),i&&this.setValueIfExists(t.marker,"fill",i.color),r&&(this.setValueIfExists(t.marker,"stroke",r.color),this.setValueIfExists(t.marker,"strokeWidth",r.width)),s&&this.initHighlightStyle(t.highlightStyle,s),a&&this.initMarker(t.marker,a),l&&(this.setValueIfExists(t,"tooltipEnabled",l.enabled),this.setValueIfExists(t,"tooltipRenderer",l.renderer)),t},e.initLabelOptions=function(e,t){this.setValueIfExists(e,"enabled",t.enabled),this.setValueIfExists(e,"fontStyle",t.fontStyle),this.setValueIfExists(e,"fontWeight",t.fontWeight),this.setValueIfExists(e,"fontSize",t.fontSize),this.setValueIfExists(e,"fontFamily",t.fontFamily),this.setValueIfExists(e,"color",t.color)},e.initBarSeries=function(t,o){e.initSeries(t,o),this.setValueIfExists(t,"grouped",o.grouped),this.setValueIfExists(t,"normalizedTo",o.normalizedTo);var n=o.field,i=o.fill,r=o.stroke,s=o.highlightStyle,a=o.label,l=o.tooltip;return n&&(this.setValueIfExists(t,"xKey",n.xKey),this.setValueIfExists(t,"yKeys",n.yKeys),this.setValueIfExists(t,"yNames",n.yNames)),i&&(this.setValueIfExists(t,"fills",i.colors),this.setValueIfExists(t,"fillOpacity",i.opacity)),r&&(this.setValueIfExists(t,"strokes",r.colors),this.setValueIfExists(t,"strokeOpacity",r.opacity),this.setValueIfExists(t,"strokeWidth",r.width)),s&&this.initHighlightStyle(t.highlightStyle,s),a&&(e.initLabelOptions(t.label,a),this.setValueIfExists(t.label,"enabled",a.enabled),this.setValueIfExists(t.label,"formatter",a.formatter)),l&&(this.setValueIfExists(t,"tooltipEnabled",l.enabled),this.setValueIfExists(t,"tooltipRenderer",l.renderer)),this.setTransformedValueIfExists(t,"shadow",(function(t){return e.createDropShadow(t)}),o.shadow),t},e.initAreaSeries=function(t,o){e.initSeries(t,o),this.setValueIfExists(t,"normalizedTo",o.normalizedTo);var n=o.field,i=o.fill,r=o.stroke,s=o.highlightStyle,a=o.marker,l=o.tooltip;return n&&(this.setValueIfExists(t,"xKey",n.xKey),this.setValueIfExists(t,"yKeys",n.yKeys),this.setValueIfExists(t,"yNames",n.yNames)),i&&(this.setValueIfExists(t,"fills",i.colors),this.setValueIfExists(t,"fillOpacity",i.opacity)),r&&(this.setValueIfExists(t,"strokes",r.colors),this.setValueIfExists(t,"strokeOpacity",r.opacity),this.setValueIfExists(t,"strokeWidth",r.width)),s&&this.initHighlightStyle(t.highlightStyle,s),a&&this.initMarker(t.marker,a),l&&(this.setValueIfExists(t,"tooltipEnabled",l.enabled),this.setValueIfExists(t,"tooltipRenderer",l.renderer)),this.setTransformedValueIfExists(t,"shadow",(function(t){return e.createDropShadow(t)}),o.shadow),t},e.initPieSeries=function(t,o){e.initSeries(t,o),this.setTransformedValueIfExists(t,"title",(function(t){return e.createPieTitle(t)}),o.title),this.setValueIfExists(t,"rotation",o.rotation),this.setValueIfExists(t,"outerRadiusOffset",o.outerRadiusOffset),this.setValueIfExists(t,"innerRadiusOffset",o.innerRadiusOffset);var n=o.field,i=o.fill,r=o.stroke,s=o.highlightStyle,a=o.callout,l=o.label,c=o.tooltip;return n&&(this.setValueIfExists(t,"angleKey",n.angleKey),this.setValueIfExists(t,"angleName",n.angleName),this.setValueIfExists(t,"radiusKey",n.radiusKey),this.setValueIfExists(t,"radiusName",n.radiusName),this.setValueIfExists(t,"labelKey",n.labelKey),this.setValueIfExists(t,"labelName",n.labelName)),i&&(this.setValueIfExists(t,"fills",i.colors),this.setValueIfExists(t,"fillOpacity",i.opacity)),r&&(this.setValueIfExists(t,"strokes",r.colors),this.setValueIfExists(t,"strokeOpacity",r.opacity),this.setValueIfExists(t,"strokeWidth",r.width)),s&&this.initHighlightStyle(t.highlightStyle,s),a&&(this.setValueIfExists(t.callout,"colors",a.colors),this.setValueIfExists(t.callout,"strokeWidth",a.strokeWidth),this.setValueIfExists(t.callout,"length",a.length)),l&&(e.initLabelOptions(t.label,l),this.setValueIfExists(t.label,"enabled",l.enabled),this.setValueIfExists(t.label,"minAngle",l.minRequiredAngle),this.setValueIfExists(t.label,"offset",l.offset)),c&&(this.setValueIfExists(t,"tooltipEnabled",c.enabled),this.setValueIfExists(t,"tooltipRenderer",c.renderer)),this.setTransformedValueIfExists(t,"shadow",(function(t){return e.createDropShadow(t)}),o.shadow),t},e.initHistogramSeries=function(t,o){e.initSeries(t,o);var n=o.field,i=o.fill,r=o.stroke,s=o.highlightStyle,a=o.tooltip,l=o.binCount;return this.setValueIfExists(t,"binCount",l),n&&this.setValueIfExists(t,"xKey",n.xKey),i&&(this.setValueIfExists(t,"fill",i.color),this.setValueIfExists(t,"fillOpacity",i.opacity)),r&&(this.setValueIfExists(t,"stroke",r.color),this.setValueIfExists(t,"strokeOpacity",r.opacity),this.setValueIfExists(t,"strokeWidth",r.width)),s&&this.initHighlightStyle(t.highlightStyle,s),a&&(this.setValueIfExists(t,"tooltipEnabled",a.enabled),this.setValueIfExists(t,"tooltipRenderer",a.renderer)),t},e.getMarkerByName=function(e){return this.markerShapes.get(e)||Ki},e.initLegend=function(t,o){this.setValueIfExists(t,"enabled",o.enabled),this.setValueIfExists(t,"position",o.position);var n=o.item;if(n){var i=n.label,r=n.marker;i&&(this.setValueIfExists(t,"fontFamily",i.fontFamily),this.setValueIfExists(t,"fontSize",i.fontSize),this.setValueIfExists(t,"fontStyle",i.fontStyle),this.setValueIfExists(t,"fontWeight",i.fontWeight),this.setValueIfExists(t,"color",i.color)),r&&(this.setValueIfExists(t,"markerShape",e.getMarkerByName(r.shape)),this.setValueIfExists(t,"strokeWidth",r.strokeWidth),this.setValueIfExists(t,"markerSize",r.size),this.setValueIfExists(t,"itemSpacing",r.padding)),this.setValueIfExists(t,"layoutHorizontalSpacing",n.paddingX),this.setValueIfExists(t,"layoutVerticalSpacing",n.paddingY)}},e.initNavigator=function(e,t){this.setValueIfExists(e,"enabled",t.enabled),this.setValueIfExists(e,"height",t.height),this.setValueIfExists(e,"min",t.min),this.setValueIfExists(e,"max",t.max),this.initNavigatorMask(e.mask,t.mask),this.initNavigatorHandle(e.minHandle,t.minHandle),this.initNavigatorHandle(e.maxHandle,t.maxHandle)},e.initNavigatorMask=function(e,t){t&&(this.setValueIfExists(e,"fill",t.fill),this.setValueIfExists(e,"stroke",t.stroke),this.setValueIfExists(e,"strokeWidth",t.strokeWidth),this.setValueIfExists(e,"fillOpacity",t.fillOpacity))},e.initNavigatorHandle=function(e,t){t&&(this.setValueIfExists(e,"fill",t.fill),this.setValueIfExists(e,"stroke",t.stroke),this.setValueIfExists(e,"strokeWidth",t.strokeWidth),this.setValueIfExists(e,"width",t.width),this.setValueIfExists(e,"height",t.height),this.setValueIfExists(e,"gripLineGap",t.gripLineGap),this.setValueIfExists(e,"gripLineLength",t.gripLineLength))},e.initMarker=function(t,o){t.shape=e.getMarkerByName(o.shape),this.setValueIfExists(t,"enabled",o.enabled),this.setValueIfExists(t,"size",o.size),this.setValueIfExists(t,"minSize",o.minSize),this.setValueIfExists(t,"fill",o.fill),this.setValueIfExists(t,"stroke",o.stroke),this.setValueIfExists(t,"strokeWidth",o.strokeWidth)},e.initHighlightStyle=function(e,t){this.setValueIfExists(e,"fill",t.fill),this.setValueIfExists(e,"stroke",t.stroke)},e.setDefaultFontOptions=function(e,t,o,n){void 0===t&&(t=16),void 0===o&&(o="bold"),void 0===n&&(n="Verdana, sans-serif"),void 0===e.fontSize&&(e.fontSize=t),void 0===e.fontWeight&&(e.fontWeight=o),void 0===e.fontFamily&&(e.fontFamily=n)},e.createTitle=function(t){return void 0===(t=Object.create(t)).text&&(t.text=""),this.setDefaultFontOptions(t),e.createCaption(t)},e.createSubtitle=function(t){return void 0===(t=Object.create(t)).text&&(t.text=""),this.setDefaultFontOptions(t,12),e.createCaption(t)},e.createPieTitle=function(t){return t=Object.create(t),this.setDefaultFontOptions(t,12),e.createCaption(t)},e.createCaption=function(e){var t=new Bn;return this.setValueIfExists(t,"enabled",e.enabled),this.setValueIfExists(t,"text",e.text),this.setValueIfExists(t,"fontStyle",e.fontStyle),this.setValueIfExists(t,"fontWeight",e.fontWeight),this.setValueIfExists(t,"fontSize",e.fontSize),this.setValueIfExists(t,"fontFamily",e.fontFamily),this.setValueIfExists(t,"color",e.color),t},e.initAxis=function(t,o){this.setTransformedValueIfExists(t,"title",(function(t){return e.createTitle(t)}),o.title),this.setValueIfExists(t,"gridStyle",o.gridStyle);var n=o.line,i=o.tick,r=o.label;n&&(this.setValueIfExists(t.line,"width",n.width),this.setValueIfExists(t.line,"color",n.color)),i&&(this.setValueIfExists(t.tick,"width",i.width),this.setValueIfExists(t.tick,"size",i.size),this.setValueIfExists(t.tick,"color",i.color)),r&&(this.setValueIfExists(t.label,"fontStyle",r.fontStyle),this.setValueIfExists(t.label,"fontWeight",r.fontWeight),this.setValueIfExists(t.label,"fontSize",r.fontSize),this.setValueIfExists(t.label,"fontFamily",r.fontFamily),this.setValueIfExists(t.label,"color",r.color),this.setValueIfExists(t.label,"padding",r.padding),this.setValueIfExists(t.label,"rotation",r.rotation),this.setValueIfExists(t.label,"format",r.format),this.setValueIfExists(t.label,"formatter",r.formatter))},e.createNumberAxis=function(e){var t=new ra;return this.initAxis(t,e),t},e.createCategoryAxis=function(e){var t=new bi;return this.initAxis(t,e),t},e.createGroupedCategoryAxis=function(e){var t=new Hi;return this.initAxis(t,e),t},e.createTimeAxis=function(e){var t=new Qa;return this.initAxis(t,e),t},e.createAxis=function(e,t){var o=this.toAxisClass(e.type||t);if(!o)throw new Error("Unknown axis type");var n=new o;return this.initAxis(n,e),n},e.toAxisClass=function(e){return this.types.get(e)},e.setValueIfExists=function(e,t,o,n){void 0!==o&&(e[t]=n?n(o):o)},e.setTransformedValueIfExists=function(e,t,o,n){void 0!==n&&(e[t]=o(n))},e.markerShapes=function(e){var t=new Map;return e.forEach((function(e){var o=e[0],n=e[1];return t.set(o,n)})),t}([["circle",Qi],["cross",Ji],["diamond",tr],["plus",rr],["square",Ki],["triangle",ar]]),e.createDropShadow=function(e){void 0===e&&(e={});var t=new na;return t.enabled=null==e.enabled||e.enabled,t.xOffset=e.xOffset||0,t.yOffset=e.yOffset||0,t.blur=e.blur||5,t.color=e.color||"rgba(0, 0, 0, 0.5)",t},e.types=function(){var e=new Map;return e.set("category",bi),e.set("number",ra),e.set("time",Qa),e}(),e}();new ua((function(e){e.setUTCSeconds(0,0)}),(function(e,t){e.setTime(e.getTime()+t*pa)}),(function(e,t){return(t.getTime()-e.getTime())/pa}),(function(e){return e.getUTCMinutes()}));new ua((function(e){e.setUTCMinutes(0,0,0)}),(function(e,t){e.setTime(e.getTime()+t*ga)}),(function(e,t){return(t.getTime()-e.getTime())/ga}),(function(e){return e.getUTCHours()}));new ua((function(e){e.setUTCDate(1),e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCMonth(e.getUTCMonth()+t)}),(function(e,t){return t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear())}),(function(e){return e.getUTCMonth()}));var Ja,el,tl,ol,nl=function(){return nl=Object.assign||function(e){for(var t,o=1,n=arguments.length;o<n;o++)for(var i in t=arguments[o])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},nl.apply(this,arguments)},il={background:{meta:{defaults:{visible:!0,fill:"white"}}},padding:{meta:{constructor:Pn,defaults:{top:20,right:20,bottom:20,left:20}}},title:{meta:{constructor:Bn,defaults:{enabled:!0,padding:new Pn(10),text:"Title",fontStyle:void 0,fontWeight:"bold",fontSize:14,fontFamily:"Verdana, sans-serif",color:"rgba(70, 70, 70, 1)"}}},subtitle:{meta:{constructor:Bn,defaults:{enabled:!0,padding:new Pn(10),text:"Subtitle",fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:"Verdana, sans-serif",color:"rgba(140, 140, 140, 1)"}}},legend:{meta:{constructor:pr,defaults:{enabled:!0,position:ur.Right,spacing:20,layoutHorizontalSpacing:16,layoutVerticalSpacing:8,itemSpacing:8,markerShape:void 0,markerSize:15,strokeWidth:1,color:"black",fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:"Verdana, sans-serif"}}}},rl={container:void 0,data:[],padding:new Pn(20),title:void 0,subtitle:void 0},sl={constructorParams:["document"],setAsIs:["container","data","tooltipOffset"]},al={defaults:{visibleRange:[0,1],gridStyle:[{stroke:"rgba(219, 219, 219, 1)",lineDash:[4,2]}]}},ll={visible:!0,showInLegend:!0},cl={fills:jr.fills,strokes:jr.strokes,fillOpacity:1,strokeOpacity:1,xKey:"",xName:"",yKeys:[],yNames:[],grouped:!1,normalizedTo:void 0,strokeWidth:1,shadow:void 0,highlightStyle:{fill:"yellow"}},ul={shadow:{meta:{constructor:na,defaults:{enabled:!0,color:"rgba(0, 0, 0, 0.5)",xOffset:0,yOffset:0,blur:5}}}},dl={enabled:!0,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:"Verdana, sans-serif",color:"rgba(70, 70, 70, 1)"},hl={label:{meta:{defaults:nl({},dl)}}},pl={line:{meta:{defaults:{width:1,color:"rgba(195, 195, 195, 1)"}}},title:{meta:{constructor:Bn,defaults:{enabled:!0,padding:new Pn(10),text:"Axis Title",fontStyle:void 0,fontWeight:"bold",fontSize:12,fontFamily:"Verdana, sans-serif",color:"rgba(70, 70, 70, 1)"}}},label:{meta:{constructor:fi,defaults:{fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:"Verdana, sans-serif",padding:5,color:"rgba(87, 87, 87, 1)",formatter:void 0}}},tick:{meta:{constructor:gi,defaults:{width:1,size:6,color:"rgba(195, 195, 195, 1)",count:10}}}},gl=((Ja={})[Hr.type]=nl(nl({meta:nl(nl({constructor:Hr},sl),{defaults:nl(nl({},rl),{axes:[{type:bi.type,position:"bottom"},{type:ra.type,position:"left"}]})})},il),{axes:(el={},el[ra.type]=nl({meta:nl({constructor:ra,setAsIs:["gridStyle","visibleRange"]},al)},pl),el[bi.type]=nl({meta:nl({constructor:bi,setAsIs:["gridStyle","visibleRange"]},al)},pl),el[Qa.type]=nl({meta:nl({constructor:Qa,setAsIs:["gridStyle","visibleRange"]},al)},pl),el),series:(tl={},tl[Es.type]={meta:{constructor:Es,defaults:{title:void 0,xKey:"",xName:"",yKey:"",yName:"",stroke:jr.fills[0],strokeWidth:2,fillOpacity:1,strokeOpacity:1,highlightStyle:{fill:"yellow"}}},highlightStyle:{},marker:{}},tl.column=nl(nl({meta:{constructor:hs,defaults:nl(nl({flipXY:!1},ll),cl)},highlightStyle:{}},hl),ul),tl.bar=nl(nl({meta:{constructor:hs,defaults:nl(nl({flipXY:!0},ll),cl)},highlightStyle:{}},hl),ul),tl[Gs.type]={meta:{constructor:Gs,defaults:nl(nl({},ll),{title:void 0,xKey:"",yKey:"",sizeKey:void 0,labelKey:void 0,xName:"",yName:"",sizeName:"Size",labelName:"Label",fill:jr.fills[0],stroke:jr.strokes[0],strokeWidth:2,fillOpacity:1,strokeOpacity:1,tooltipRenderer:void 0,highlightStyle:{fill:"yellow"}})},highlightStyle:{},marker:{}},tl[is.type]=nl({meta:{constructor:is,defaults:nl(nl({},ll),{xKey:"",xName:"",yKeys:[],yNames:[],normalizedTo:void 0,fills:jr.fills,strokes:jr.strokes,fillOpacity:1,strokeOpacity:1,strokeWidth:2,shadow:void 0,highlightStyle:{fill:"yellow"}})},highlightStyle:{},marker:{}},ul),tl[$s.type]={meta:{constructor:$s,defaults:nl(nl({},ll),{title:void 0,xKey:"",yKey:"",xName:"",yName:"",fill:jr.fills[0],stroke:jr.strokes[0],strokeWidth:1,fillOpacity:1,strokeOpacity:1,aggregation:"sum",tooltipRenderer:void 0,highlightStyle:{fill:"yellow"}})},highlightStyle:{}},tl),navigator:{meta:{constructor:Gr,defaults:{enabled:!1,height:30,min:0,max:1}},mask:{meta:{constructor:Nr,defaults:{fill:"#999999",stroke:"#999999",strokeWidth:1,fillOpacity:.2}}},minHandle:{meta:{constructor:kr,defaults:{fill:"#f2f2f2",stroke:"#999999",strokeWidth:1,width:8,height:16,gripLineGap:2,gripLineLength:8}}},maxHandle:{meta:{constructor:kr,defaults:{fill:"#f2f2f2",stroke:"#999999",strokeWidth:1,width:8,height:16,gripLineGap:2,gripLineLength:8}}}}}),Ja[Jr.type]=nl(nl({meta:nl(nl({constructor:Jr},sl),{defaults:nl(nl({},rl),{padding:new Pn(40)})})},il),{series:(ol={},ol[ea.type]=nl({meta:{constructor:ea,defaults:nl(nl({},ll),{title:void 0,calloutColors:jr.strokes,calloutStrokeWidth:1,calloutLength:10,angleKey:"",angleName:"",radiusKey:void 0,radiusName:void 0,labelKey:void 0,labelName:void 0,fills:jr.fills,strokes:jr.strokes,fillOpacity:1,strokeOpacity:1,rotation:0,outerRadiusOffset:0,innerRadiusOffset:0,strokeWidth:1,shadow:void 0})},highlightStyle:{},title:{meta:{constructor:Bn,defaults:{enabled:!0,padding:new Pn(10),text:"Series Title",fontStyle:void 0,fontWeight:"bold",fontSize:14,fontFamily:"Verdana, sans-serif",color:"black"}}},label:{meta:{defaults:nl(nl({},dl),{offset:3,minAngle:20})}},callout:{meta:{defaults:{colors:jr.strokes,length:10,strokeWidth:1}}}},ul),ol)}),Ja),fl={cartesian:["line","area","bar","column"],polar:["pie"]},ml=function(e){fl[e].forEach((function(t){gl[t]=gl[e]}))};for(var vl in fl)ml(vl);gl.scatter=gl.histogram=nl(nl({},gl.cartesian),{meta:nl(nl({},gl.cartesian.meta),{defaults:nl(nl({},rl),{axes:[{type:"number",position:"bottom"},{type:"number",position:"left"}]})})});var yl=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Cl=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},wl=function(e){function t(t,o){void 0===o&&(o="borneo");var n=e.call(this)||this;return n.model=t,n.chartPaletteName=o,n}return yl(t,e),t.prototype.init=function(){var e=this;this.setChartRange(),this.addManagedListener(this.eventService,i.Events.EVENT_RANGE_SELECTION_CHANGED,(function(t){t.id&&t.id===e.model.getChartId()&&e.updateForRangeChange()})),this.addManagedListener(this.eventService,i.Events.EVENT_COLUMN_MOVED,this.updateForGridChange.bind(this)),this.addManagedListener(this.eventService,i.Events.EVENT_COLUMN_PINNED,this.updateForGridChange.bind(this)),this.addManagedListener(this.eventService,i.Events.EVENT_COLUMN_VISIBLE,this.updateForGridChange.bind(this)),this.addManagedListener(this.eventService,i.Events.EVENT_MODEL_UPDATED,this.updateForDataChange.bind(this)),this.addManagedListener(this.eventService,i.Events.EVENT_CELL_VALUE_CHANGED,this.updateForDataChange.bind(this))},t.prototype.updateForGridChange=function(){this.model.isDetached()||(this.model.updateCellRanges(),this.setChartRange())},t.prototype.updateForDataChange=function(){this.model.isDetached()||(this.model.updateData(),this.raiseChartUpdatedEvent())},t.prototype.updateForRangeChange=function(){this.updateForGridChange(),this.raiseChartRangeSelectionChangedEvent()},t.prototype.updateForPanelChange=function(e){this.model.updateCellRanges(e),this.setChartRange(),this.raiseChartRangeSelectionChangedEvent()},t.prototype.getChartModel=function(){var e=this;return{chartId:this.model.getChartId(),chartType:this.model.getChartType(),chartPalette:this.getPaletteName(),chartOptions:this.chartProxy.getChartOptions(),cellRange:this.model.getCellRangeParams(),getChartImageDataURL:function(t){return e.chartProxy.getChartImageDataURL(t.type)}}},t.prototype.getChartType=function(){return this.model.getChartType()},t.prototype.isPivotChart=function(){return this.model.isPivotChart()},t.prototype.isGrouping=function(){return this.model.isGrouping()},t.prototype.getPaletteName=function(){return this.chartPaletteName},t.prototype.getPalettes=function(){var e=this.chartProxy.getCustomPalette();if(e){var t=new Map;return t.set(void 0,e),t}return Yr},t.prototype.setChartType=function(e){this.model.setChartType(e),this.raiseChartUpdatedEvent(),this.raiseChartOptionsChangedEvent()},t.prototype.setChartPaletteName=function(e){this.chartPaletteName=e,this.raiseChartUpdatedEvent(),this.raiseChartOptionsChangedEvent()},t.prototype.getColStateForMenu=function(){return{dimensionCols:this.model.getDimensionColState(),valueCols:this.model.getValueColState()}},t.prototype.isDefaultCategorySelected=function(){return this.model.getSelectedDimension().colId===Rn.DEFAULT_CATEGORY},t.prototype.setChartRange=function(e){void 0===e&&(e=!1),!this.rangeController||this.model.isSuppressChartRanges()||this.model.isDetached()||this.rangeController.setCellRanges(this.model.getCellRanges()),e||this.raiseChartUpdatedEvent()},t.prototype.detachChartRange=function(){this.model.toggleDetached(),this.model.isDetached()?this.rangeController&&this.rangeController.setCellRanges([]):this.updateForGridChange()},t.prototype.setChartProxy=function(e){this.chartProxy=e},t.prototype.getChartProxy=function(){return this.chartProxy},t.prototype.isActiveXYChart=function(){return i._.includes([i.ChartType.Scatter,i.ChartType.Bubble],this.getChartType())},t.prototype.raiseChartUpdatedEvent=function(){var e=Object.freeze({type:t.EVENT_CHART_UPDATED});this.dispatchEvent(e)},t.prototype.raiseChartOptionsChangedEvent=function(){this.chartProxy.raiseChartOptionsChangedEvent()},t.prototype.raiseChartRangeSelectionChangedEvent=function(){var e=Object.freeze({type:i.Events.EVENT_CHART_RANGE_SELECTION_CHANGED,id:this.model.getChartId(),chartId:this.model.getChartId(),cellRange:this.model.getCellRangeParams(),api:this.gridApi,columnApi:this.columnApi});this.eventService.dispatchEvent(e)},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.rangeController&&this.rangeController.setCellRanges([])},t.EVENT_CHART_UPDATED="chartUpdated",Cl([i.Autowired("rangeController")],t.prototype,"rangeController",void 0),Cl([i.Autowired("gridApi")],t.prototype,"gridApi",void 0),Cl([i.Autowired("columnApi")],t.prototype,"columnApi",void 0),Cl([i.PostConstruct],t.prototype,"init",null),t}(i.BeanStub),bl=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Sl=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},El=function(){for(var e=0,t=0,o=arguments.length;t<o;t++)e+=arguments[t].length;var n=Array(e),i=0;for(t=0;t<o;t++)for(var r=arguments[t],s=0,a=r.length;s<a;s++,i++)n[i]=r[s];return n},Rl=function(e){function t(o){var n=e.call(this,t.TEMPLATE)||this;return n.columnComps=new Map,n.chartController=o,n}return bl(t,e),t.prototype.init=function(){this.updatePanels(),this.addManagedListener(this.chartController,wl.EVENT_CHART_UPDATED,this.updatePanels.bind(this))},t.prototype.destroy=function(){this.clearComponents(),e.prototype.destroy.call(this)},t.prototype.updatePanels=function(){var e=this,t=this.chartType,o=this.chartController.getColStateForMenu(),n=o.dimensionCols,r=o.valueCols,s=n.map((function(e){return e.colId})).concat(r.map((function(e){return e.colId})));if(this.chartType=this.chartController.getChartType(),i._.areEqual(i._.keys(this.columnComps),s)&&this.chartType===t){if(El(n,r).forEach((function(t){e.columnComps.get(t.colId).setValue(t.selected,!0)})),this.chartController.isActiveXYChart()){var a=this.generateGetSeriesLabel();r.forEach((function(t){e.columnComps.get(t.colId).setLabel(a(t))}))}}else this.clearComponents(),this.createCategoriesGroupComponent(n),this.createSeriesGroupComponent(r)},t.prototype.addComponent=function(e,t){var o=document.createElement("div");o.className="ag-chart-data-section",o.appendChild(t.getGui()),e.appendChild(o)},t.prototype.addChangeListener=function(e,t){var o=this;this.addManagedListener(e,i.AgAbstractField.EVENT_CHANGED,(function(){t.selected=e.getValue(),o.chartController.updateForPanelChange(t)}))},t.prototype.createCategoriesGroupComponent=function(e){var t=this;this.categoriesGroupComp=this.createBean(new i.AgGroupComponent({title:this.getCategoryGroupTitle(),enabled:!0,suppressEnabledCheckbox:!0,suppressOpenCloseIcons:!1,cssIdentifier:"charts-data"}));var o="chartDimension"+this.getCompId();e.forEach((function(e){var n=t.categoriesGroupComp.createManagedBean(new i.AgRadioButton);n.setLabel(i._.escape(e.displayName)),n.setValue(e.selected),n.setInputName(o),t.addChangeListener(n,e),t.categoriesGroupComp.addItem(n),t.columnComps.set(e.colId,n)})),this.addComponent(this.getGui(),this.categoriesGroupComp)},t.prototype.createSeriesGroupComponent=function(e){var t=this;if(this.seriesGroupComp=this.createManagedBean(new i.AgGroupComponent({title:this.getSeriesGroupTitle(),enabled:!0,suppressEnabledCheckbox:!0,suppressOpenCloseIcons:!1,cssIdentifier:"charts-data"})),this.chartController.isActiveXYChart()){var o=this.seriesGroupComp.createManagedBean(new i.AgToggleButton),n=this.chartController.getChartProxy();o.setLabel(this.chartTranslator.translate("paired")).setLabelAlignment("left").setLabelWidth("flex").setInputWidth(45).setValue(n.getSeriesOption("paired")||!1).onValueChange((function(e){n.setSeriesOption("paired",e),t.chartController.updateForGridChange()})),this.seriesGroupComp.addItem(o)}var r=this.generateGetSeriesLabel();e.forEach((function(e){var o=t.seriesGroupComp.createManagedBean(new i.AgCheckbox);o.addCssClass("ag-data-select-checkbox");var n=r(e);o.setLabel(n),o.setValue(e.selected),t.addChangeListener(o,e),t.seriesGroupComp.addItem(o),t.columnComps.set(e.colId,o),t.addDragHandle(o,e)})),this.addComponent(this.getGui(),this.seriesGroupComp);var s={getContainer:this.getGui.bind(this),onDragging:this.onDragging.bind(this),isInterestedIn:this.isInterestedIn.bind(this)};this.dragAndDropService.addDropTarget(s)},t.prototype.addDragHandle=function(e,t){var o=this,n=i._.createIconNoSpan("columnDrag",this.gridOptionsWrapper);i._.addCssClass(n,"ag-drag-handle"),i._.addCssClass(n,"ag-chart-data-column-drag-handle"),e.getGui().insertAdjacentElement("beforeend",n);var r={type:i.DragSourceType.ChartPanel,eElement:n,dragItemName:t.displayName,defaultIconName:i.DragAndDropService.ICON_MOVE,getDragItem:function(){return{columns:[t.column]}},onDragStopped:function(){o.insertIndex=void 0}};this.dragAndDropService.addDragSource(r,!0),this.addDestroyFunc((function(){return o.dragAndDropService.removeDragSource(r)}))},t.prototype.generateGetSeriesLabel=function(){if(!this.chartController.isActiveXYChart())return function(e){return i._.escape(e.displayName)};var e=this.chartType===i.ChartType.Bubble,t=this.isInPairedMode(),o=0,n=new Map;return n.set(0,"X"),n.set(1,"Y"),n.set(2,"size"),function(r){var s,a=i._.escape(r.displayName);return r.selected?(s=t?n.get(o%(e?3:2)):0===o?"X":e&&o%2===0?"size":"Y",o++,a+" ("+s+")"):a}},t.prototype.getCategoryGroupTitle=function(){return this.chartTranslator.translate(this.chartController.isActiveXYChart()?"labels":"categories")},t.prototype.getSeriesGroupTitle=function(){return this.chartTranslator.translate(this.chartController.isActiveXYChart()?"xyValues":"series")},t.prototype.isInPairedMode=function(){return this.chartController.isActiveXYChart()&&this.chartController.getChartProxy().getSeriesOption("paired")},t.prototype.clearComponents=function(){i._.clearElement(this.getGui()),this.categoriesGroupComp=this.destroyBean(this.categoriesGroupComp),this.seriesGroupComp=this.destroyBean(this.seriesGroupComp),this.columnComps.clear()},t.prototype.onDragging=function(e){var t=this;if(this.checkInsertIndex(e)){var o=e.dragItem.columns[0],n=this.chartController.getColStateForMenu(),i=n.dimensionCols,r=n.valueCols;El(i,r).filter((function(e){return e.column===o})).forEach((function(e){e.order=t.insertIndex,t.chartController.updateForPanelChange(e)}))}},t.prototype.checkInsertIndex=function(e){if(i._.missing(e.vDirection))return!1;var t=0,o=e.event;this.columnComps.forEach((function(n){var r=n.getGui().getBoundingClientRect();o.clientY>=(e.vDirection===i.VerticalDirection.Down?r.top:r.bottom)&&t++}));var n=void 0!==this.insertIndex&&t!==this.insertIndex;return this.insertIndex=t,n},t.prototype.isInterestedIn=function(e){return e===i.DragSourceType.ChartPanel},t.TEMPLATE='<div class="ag-chart-data-wrapper"></div>',Sl([i.Autowired("dragAndDropService")],t.prototype,"dragAndDropService",void 0),Sl([i.Autowired("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),Sl([i.Autowired("chartTranslator")],t.prototype,"chartTranslator",void 0),Sl([i.PostConstruct],t.prototype,"init",null),t}(i.Component),Pl=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Ol=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},xl=function(e){function t(t){var o=e.call(this)||this;return o.activeComps=[],o.params=t,o}return Pl(t,e),t.prototype.init=function(){this.setTemplate(t.TEMPLATE,{fontGroup:{cssIdentifier:"charts-format-sub-level",direction:"vertical",suppressOpenCloseIcons:!0}}),this.initGroup(),this.initFontFamilySelect(),this.initFontWeightStyleSelect(),this.initFontSizeSelect(),this.initFontColorPicker()},t.prototype.addCompToPanel=function(e){this.fontGroup.addItem(e),this.activeComps.push(e)},t.prototype.setEnabled=function(e){this.fontGroup.setEnabled(e)},t.prototype.initGroup=function(){var e=this;this.fontGroup.setTitle(this.params.name||this.chartTranslator.translate("font")).setEnabled(this.params.enabled).hideEnabledCheckbox(!!this.params.suppressEnabledCheckbox).hideOpenCloseIcons(!0).onEnableChange((function(t){e.params.setEnabled&&e.params.setEnabled(t)}))},t.prototype.initFontFamilySelect=function(){var e=this,t=["Arial, sans-serif","Aria Black, sans-serif","Book Antiqua,  serif","Charcoal, sans-serif","Comic Sans MS, cursive","Courier, monospace","Courier New, monospace","Gadget, sans-serif","Geneva, sans-serif","Helvetica, sans-serif","Impact, sans-serif","Lucida Console, monospace","Lucida Grande, sans-serif","Lucida Sans Unicode,  sans-serif","Monaco, monospace","Palatino Linotype, serif","Palatino, serif","Times New Roman, serif","Times, serif","Verdana, sans-serif"],o=this.params.initialFont.family,n=t[0];if(o){var r=t.map((function(e){return e.toLowerCase()})).indexOf(o.toLowerCase());if(r>=0)n=t[r];else{var s=i._.capitalise(o);t.push(s),n=s}}var a=t.sort().map((function(e){return{value:e,text:e}}));this.familySelect.addOptions(a).setInputWidth("flex").setValue(""+n).onValueChange((function(t){return e.params.setFont({family:t})}))},t.prototype.initFontSizeSelect=function(){var e=this,t=[8,10,12,14,16,18,20,22,24,26,28,30,32,34,36],o=this.params.initialFont.size;i._.includes(t,o)||t.push(o);var n=t.sort((function(e,t){return e-t})).map((function(e){return{value:""+e,text:""+e}}));this.sizeSelect.addOptions(n).setInputWidth("flex").setValue(""+o).onValueChange((function(t){return e.params.setFont({size:parseInt(t,10)})})),this.sizeSelect.setLabel(this.chartTranslator.translate("size"))},t.prototype.initFontWeightStyleSelect=function(){var e=this,t=this.params.initialFont,o=t.weight,n=void 0===o?"normal":o,r=t.style,s=void 0===r?"normal":r,a=[{name:"normal",weight:"normal",style:"normal"},{name:"bold",weight:"bold",style:"normal"},{name:"italic",weight:"normal",style:"italic"},{name:"boldItalic",weight:"bold",style:"italic"}],l=i._.find(a,(function(e){return e.weight===n&&e.style===s}));l||(l={name:"predefined",weight:n,style:s},a.unshift(l));var c=a.map((function(t){return{value:t.name,text:e.chartTranslator.translate(t.name)}}));this.weightStyleSelect.addOptions(c).setInputWidth("flex").setValue(l.name).onValueChange((function(t){var o=i._.find(a,(function(e){return e.name===t}));e.params.setFont({weight:o.weight,style:o.style})}))},t.prototype.initFontColorPicker=function(){var e=this;this.colorPicker.setLabel(this.chartTranslator.translate("color")).setInputWidth(45).setValue(""+this.params.initialFont.color).onValueChange((function(t){return e.params.setFont({color:t})}))},t.prototype.destroyActiveComps=function(){var e=this;this.activeComps.forEach((function(t){i._.removeFromParent(t.getGui()),e.destroyBean(t)}))},t.prototype.destroy=function(){this.destroyActiveComps(),e.prototype.destroy.call(this)},t.TEMPLATE='<div class="ag-font-panel">\n            <ag-group-component ref="fontGroup">\n                <ag-select ref="familySelect"></ag-select>\n                <ag-select ref="weightStyleSelect"></ag-select>\n                <div class="ag-charts-font-size-color">\n                    <ag-select ref="sizeSelect"></ag-select>\n                    <ag-color-picker ref="colorPicker"></ag-color-picker>\n                </div>\n            </ag-group-component>\n        </div>',Ol([i.RefSelector("fontGroup")],t.prototype,"fontGroup",void 0),Ol([i.RefSelector("familySelect")],t.prototype,"familySelect",void 0),Ol([i.RefSelector("weightStyleSelect")],t.prototype,"weightStyleSelect",void 0),Ol([i.RefSelector("sizeSelect")],t.prototype,"sizeSelect",void 0),Ol([i.RefSelector("colorPicker")],t.prototype,"colorPicker",void 0),Ol([i.Autowired("chartTranslator")],t.prototype,"chartTranslator",void 0),Ol([i.PostConstruct],t.prototype,"init",null),t}(i.Component),Tl=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Dl=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Al=function(e){function t(t){var o=e.call(this)||this;return o.activePanels=[],o.chartController=t,o}return Tl(t,e),t.prototype.init=function(){this.setTemplate(t.TEMPLATE,{legendGroup:{cssIdentifier:"charts-format-top-level",direction:"vertical"}}),this.initLegendGroup(),this.initLegendPosition(),this.initLegendPadding(),this.initLegendItems(),this.initLabelPanel()},t.prototype.initLegendGroup=function(){var e=this;this.legendGroup.setTitle(this.chartTranslator.translate("legend")).hideEnabledCheckbox(!1).setEnabled(this.chartController.getChartProxy().getChartOption("legend.enabled")||!1).toggleGroupExpand(!1).onEnableChange((function(t){e.chartController.getChartProxy().setChartOption("legend.enabled",t),e.legendGroup.toggleGroupExpand(!0)}))},t.prototype.initLegendPosition=function(){var e=this,t=[i.LegendPosition.Top,i.LegendPosition.Right,i.LegendPosition.Bottom,i.LegendPosition.Left];this.legendPositionSelect.setLabel(this.chartTranslator.translate("position")).setLabelWidth("flex").setInputWidth(80).addOptions(t.map((function(t){return{value:t,text:e.chartTranslator.translate(t)}}))).setValue(this.chartController.getChartProxy().getChartOption("legend.position")).onValueChange((function(t){return e.chartController.getChartProxy().setChartOption("legend.position",t)}))},t.prototype.initLegendPadding=function(){var e=this;this.legendPaddingSlider.setLabel(this.chartTranslator.translate("spacing")).setValue(this.chartController.getChartProxy().getChartOption("legend.spacing")).setTextFieldWidth(45).setMaxValue(200).onValueChange((function(t){return e.chartController.getChartProxy().setChartOption("legend.spacing",t)}))},t.prototype.initLegendItems=function(){var e=this,t=function(t,o,n,i){n.setLabel(e.chartTranslator.translate(o)).setValue(e.chartController.getChartProxy().getChartOption("legend."+t)).setMaxValue(i).setTextFieldWidth(45).onValueChange((function(o){return e.chartController.getChartProxy().setChartOption("legend."+t,o)}))};t("item.marker.size","markerSize",this.markerSizeSlider,40),t("item.marker.strokeWidth","markerStroke",this.markerStrokeSlider,10),t("item.marker.padding","itemSpacing",this.markerPaddingSlider,20),t("item.paddingX","layoutHorizontalSpacing",this.itemPaddingXSlider,50),t("item.paddingY","layoutVerticalSpacing",this.itemPaddingYSlider,50)},t.prototype.initLabelPanel=function(){var e=this,t=this.chartController.getChartProxy(),o={enabled:!0,suppressEnabledCheckbox:!0,initialFont:{family:t.getChartOption("legend.item.label.fontFamily"),style:t.getChartOption("legend.item.label.fontStyle"),weight:t.getChartOption("legend.item.label.fontWeight"),size:t.getChartOption("legend.item.label.fontSize"),color:t.getChartOption("legend.item.label.color")},setFont:function(t){var o=e.chartController.getChartProxy();t.family&&o.setChartOption("legend.item.label.fontFamily",t.family),t.weight&&o.setChartOption("legend.item.label.fontWeight",t.weight),t.style&&o.setChartOption("legend.item.label.fontStyle",t.style),t.size&&o.setChartOption("legend.item.label.fontSize",t.size),t.color&&o.setChartOption("legend.item.label.color",t.color)}},n=this.createBean(new xl(o));this.legendGroup.addItem(n),this.activePanels.push(n)},t.prototype.destroyActivePanels=function(){var e=this;this.activePanels.forEach((function(t){i._.removeFromParent(t.getGui()),e.destroyBean(t)}))},t.prototype.destroy=function(){this.destroyActivePanels(),e.prototype.destroy.call(this)},t.TEMPLATE='<div>\n            <ag-group-component ref="legendGroup">\n                <ag-select ref="legendPositionSelect"></ag-select>\n                <ag-slider ref="legendPaddingSlider"></ag-slider>\n                <ag-slider ref="markerSizeSlider"></ag-slider>\n                <ag-slider ref="markerStrokeSlider"></ag-slider>\n                <ag-slider ref="markerPaddingSlider"></ag-slider>\n                <ag-slider ref="itemPaddingXSlider"></ag-slider>\n                <ag-slider ref="itemPaddingYSlider"></ag-slider>\n            </ag-group-component>\n        </div>',Dl([i.RefSelector("legendGroup")],t.prototype,"legendGroup",void 0),Dl([i.RefSelector("legendPositionSelect")],t.prototype,"legendPositionSelect",void 0),Dl([i.RefSelector("legendPaddingSlider")],t.prototype,"legendPaddingSlider",void 0),Dl([i.RefSelector("markerSizeSlider")],t.prototype,"markerSizeSlider",void 0),Dl([i.RefSelector("markerStrokeSlider")],t.prototype,"markerStrokeSlider",void 0),Dl([i.RefSelector("markerPaddingSlider")],t.prototype,"markerPaddingSlider",void 0),Dl([i.RefSelector("itemPaddingXSlider")],t.prototype,"itemPaddingXSlider",void 0),Dl([i.RefSelector("itemPaddingYSlider")],t.prototype,"itemPaddingYSlider",void 0),Dl([i.Autowired("chartTranslator")],t.prototype,"chartTranslator",void 0),Dl([i.PostConstruct],t.prototype,"init",null),t}(i.Component),Fl=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),_l=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Ml=function(e){function t(t){var o=e.call(this)||this;return o.chartController=t,o}return Fl(t,e),t.prototype.init=function(){this.setTemplate(t.TEMPLATE,{shadowGroup:{cssIdentifier:"charts-format-sub-level",direction:"vertical",suppressOpenCloseIcons:!0}}),this.shadowBlurSlider.setTextFieldWidth(45),this.shadowXOffsetSlider.setTextFieldWidth(45),this.shadowYOffsetSlider.setTextFieldWidth(45),this.initSeriesShadow()},t.prototype.initSeriesShadow=function(){var e=this;this.shadowGroup.setTitle(this.chartTranslator.translate("shadow")).setEnabled(this.chartController.getChartProxy().getShadowEnabled()).hideOpenCloseIcons(!0).hideEnabledCheckbox(!1).onEnableChange((function(t){return e.chartController.getChartProxy().setShadowProperty("enabled",t)})),this.shadowColorPicker.setLabel(this.chartTranslator.translate("color")).setLabelWidth("flex").setInputWidth(45).setValue("rgba(0,0,0,0.5)").onValueChange((function(t){return e.chartController.getChartProxy().setShadowProperty("color",t)}));var t=function(t,o,n,i){t.setLabel(e.chartTranslator.translate(o)).setValue(e.chartController.getChartProxy().getShadowProperty(o)).setMinValue(n).setMaxValue(i).onValueChange((function(t){return e.chartController.getChartProxy().setShadowProperty(o,t)}))};t(this.shadowBlurSlider,"blur",0,20),t(this.shadowXOffsetSlider,"xOffset",-10,10),t(this.shadowYOffsetSlider,"yOffset",-10,10)},t.TEMPLATE='<div>\n            <ag-group-component ref="shadowGroup">\n                <ag-color-picker ref="shadowColorPicker"></ag-color-picker>\n                <ag-slider ref="shadowBlurSlider"></ag-slider>\n                <ag-slider ref="shadowXOffsetSlider"></ag-slider>\n                <ag-slider ref="shadowYOffsetSlider"></ag-slider>\n            </ag-group-component>\n        </div>',_l([i.RefSelector("shadowGroup")],t.prototype,"shadowGroup",void 0),_l([i.RefSelector("shadowColorPicker")],t.prototype,"shadowColorPicker",void 0),_l([i.RefSelector("shadowBlurSlider")],t.prototype,"shadowBlurSlider",void 0),_l([i.RefSelector("shadowXOffsetSlider")],t.prototype,"shadowXOffsetSlider",void 0),_l([i.RefSelector("shadowYOffsetSlider")],t.prototype,"shadowYOffsetSlider",void 0),_l([i.Autowired("chartTranslator")],t.prototype,"chartTranslator",void 0),_l([i.PostConstruct],t.prototype,"init",null),t}(i.Component),Il=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Ll=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Nl=function(e){function t(t){var o=e.call(this)||this;return o.activePanels=[],o.chartController=t,o}return Il(t,e),t.prototype.init=function(){this.setTemplate(t.TEMPLATE,{seriesGroup:{cssIdentifier:"charts-format-top-level",direction:"vertical"}}),this.seriesGroup.setTitle(this.chartTranslator.translate("series")).toggleGroupExpand(!1).hideEnabledCheckbox(!0),this.initSeriesTooltips(),this.initSeriesStrokeWidth(),this.initOpacity(),this.initLabelPanel(),this.initShadowPanel()},t.prototype.initSeriesTooltips=function(){var e=this;this.seriesTooltipsToggle.setLabel(this.chartTranslator.translate("tooltips")).setLabelAlignment("left").setLabelWidth("flex").setInputWidth(45).setValue(this.getChartProxy().getSeriesOption("tooltip.enabled")||!1).onValueChange((function(t){return e.getChartProxy().setSeriesOption("tooltip.enabled",t)}))},t.prototype.initSeriesStrokeWidth=function(){var e=this;this.seriesStrokeWidthSlider.setLabel(this.chartTranslator.translate("strokeWidth")).setMaxValue(10).setTextFieldWidth(45).setValue(this.getChartProxy().getSeriesOption("stroke.width")).onValueChange((function(t){return e.getChartProxy().setSeriesOption("stroke.width",t)}))},t.prototype.initOpacity=function(){var e=this;this.seriesLineOpacitySlider.setLabel(this.chartTranslator.translate("strokeOpacity")).setStep(.05).setMaxValue(1).setTextFieldWidth(45).setValue(this.getChartProxy().getSeriesOption("stroke.opacity")||"1").onValueChange((function(t){return e.getChartProxy().setSeriesOption("stroke.opacity",t)})),this.seriesFillOpacitySlider.setLabel(this.chartTranslator.translate("fillOpacity")).setStep(.05).setMaxValue(1).setTextFieldWidth(45).setValue(this.getChartProxy().getSeriesOption("fill.opacity")||"1").onValueChange((function(t){return e.getChartProxy().setSeriesOption("fill.opacity",t)}))},t.prototype.initLabelPanel=function(){var e=this,t=this.getChartProxy(),o={family:t.getSeriesOption("label.fontFamily"),style:t.getSeriesOption("label.fontStyle"),weight:t.getSeriesOption("label.fontWeight"),size:t.getSeriesOption("label.fontSize"),color:t.getSeriesOption("label.color")},n={name:this.chartTranslator.translate("labels"),enabled:t.getSeriesOption("label.enabled")||!1,setEnabled:function(t){return e.getChartProxy().setSeriesOption("label.enabled",t)},suppressEnabledCheckbox:!1,initialFont:o,setFont:function(t){var o=e.getChartProxy();t.family&&o.setSeriesOption("label.fontFamily",t.family),t.weight&&o.setSeriesOption("label.fontWeight",t.weight),t.style&&o.setSeriesOption("label.fontStyle",t.style),t.size&&o.setSeriesOption("label.fontSize",t.size),t.color&&o.setSeriesOption("label.color",t.color)}},i=this.createBean(new xl(n));this.activePanels.push(i),this.seriesGroup.addItem(i)},t.prototype.initShadowPanel=function(){var e=this.createBean(new Ml(this.chartController));this.seriesGroup.addItem(e),this.activePanels.push(e)},t.prototype.destroyActivePanels=function(){var e=this;this.activePanels.forEach((function(t){i._.removeFromParent(t.getGui()),e.destroyBean(t)}))},t.prototype.getChartProxy=function(){return this.chartController.getChartProxy()},t.prototype.destroy=function(){this.destroyActivePanels(),e.prototype.destroy.call(this)},t.TEMPLATE='<div>\n            <ag-group-component ref="seriesGroup">\n                <ag-toggle-button ref="seriesTooltipsToggle"></ag-toggle-button>\n                <ag-slider ref="seriesStrokeWidthSlider"></ag-slider>\n                <ag-slider ref="seriesLineOpacitySlider"></ag-slider>\n                <ag-slider ref="seriesFillOpacitySlider"></ag-slider>\n            </ag-group-component>\n        </div>',Ll([i.RefSelector("seriesGroup")],t.prototype,"seriesGroup",void 0),Ll([i.RefSelector("seriesTooltipsToggle")],t.prototype,"seriesTooltipsToggle",void 0),Ll([i.RefSelector("seriesStrokeWidthSlider")],t.prototype,"seriesStrokeWidthSlider",void 0),Ll([i.RefSelector("seriesLineOpacitySlider")],t.prototype,"seriesLineOpacitySlider",void 0),Ll([i.RefSelector("seriesFillOpacitySlider")],t.prototype,"seriesFillOpacitySlider",void 0),Ll([i.Autowired("chartTranslator")],t.prototype,"chartTranslator",void 0),Ll([i.PostConstruct],t.prototype,"init",null),t}(i.Component),kl=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Gl=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Vl=function(e){function t(t){var o=e.call(this)||this;return o.chartController=t,o}return kl(t,e),t.prototype.init=function(){this.setTemplate(t.TEMPLATE,{axisTicksGroup:{cssIdentifier:"charts-format-sub-level",direction:"vertical",suppressOpenCloseIcons:!0}}),this.initAxisTicks()},t.prototype.initAxisTicks=function(){var e=this;this.axisTicksGroup.setTitle(this.chartTranslator.translate("ticks")).hideOpenCloseIcons(!0).hideEnabledCheckbox(!0),this.axisTicksColorPicker.setLabel(this.chartTranslator.translate("color")).setLabelWidth("flex").setInputWidth(45).setValue(this.getChartProxy().getAxisProperty("tick.color")).onValueChange((function(t){return e.getChartProxy().setAxisProperty("tick.color",t)}));var t=function(t,o,n,i){o.setLabel(n).setValue(e.getChartProxy().getAxisProperty(t)).setMaxValue(i).setTextFieldWidth(45).onValueChange((function(o){return e.getChartProxy().setAxisProperty(t,o)}))};t("tick.width",this.axisTicksWidthSlider,this.chartTranslator.translate("width"),10),t("tick.size",this.axisTicksSizeSlider,this.chartTranslator.translate("length"),30)},t.prototype.getChartProxy=function(){return this.chartController.getChartProxy()},t.TEMPLATE='<div>\n            <ag-group-component ref="axisTicksGroup">\n                <ag-color-picker ref="axisTicksColorPicker"></ag-color-picker>\n                <ag-slider ref="axisTicksWidthSlider"></ag-slider>\n                <ag-slider ref="axisTicksSizeSlider"></ag-slider>\n            </ag-group-component>\n        </div>',Gl([i.RefSelector("axisTicksGroup")],t.prototype,"axisTicksGroup",void 0),Gl([i.RefSelector("axisTicksColorPicker")],t.prototype,"axisTicksColorPicker",void 0),Gl([i.RefSelector("axisTicksWidthSlider")],t.prototype,"axisTicksWidthSlider",void 0),Gl([i.RefSelector("axisTicksSizeSlider")],t.prototype,"axisTicksSizeSlider",void 0),Gl([i.Autowired("chartTranslator")],t.prototype,"chartTranslator",void 0),Gl([i.PostConstruct],t.prototype,"init",null),t}(i.Component),Hl=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Bl=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Wl=function(e){function t(t){var o=e.call(this)||this;return o.activePanels=[],o.chartController=t,o}return Hl(t,e),t.prototype.init=function(){this.setTemplate(t.TEMPLATE,{axisGroup:{cssIdentifier:"charts-format-top-level",direction:"vertical"}}),this.initAxis(),this.initAxisTicks(),this.initAxisLabels()},t.prototype.initAxis=function(){var e=this,t=this.chartTranslator;if(this.axisGroup.setTitle(t.translate("axis")).toggleGroupExpand(!1).hideEnabledCheckbox(!0),this.axisColorInput.setLabel(t.translate("color")).setLabelWidth("flex").setInputWidth(45).setValue(this.getChartProxy().getAxisProperty("line.color")).onValueChange((function(t){return e.getChartProxy().setAxisProperty("line.color",t)})),this.axisLineWidthSlider.setLabel(t.translate("thickness")).setMaxValue(10).setTextFieldWidth(45).setValue(this.getChartProxy().getAxisProperty("line.width")).onValueChange((function(t){return e.getChartProxy().setAxisProperty("line.width",t)})),i._.includes(["line","scatter","bubble"],this.chartController.getChartType())&&!this.chartController.isGrouping()){var o=[{value:"",text:t.translate("automatic")}];["category","time","number"].forEach((function(e){o.push({value:e,text:t.translate(e)})})),this.xAxisTypeSelect.setLabel(t.translate("xType")).setLabelWidth("flex").addOptions(o).setValue(this.getChartProxy().getChartOption("xAxis.type")||"").onValueChange((function(t){e.getChartProxy().setChartOption("xAxis.type",t.length&&t),e.chartController.updateForDataChange()}))}else this.xAxisTypeSelect.setDisplayed(!1)},t.prototype.initAxisTicks=function(){var e=this.createBean(new Vl(this.chartController));this.axisGroup.addItem(e),this.activePanels.push(e)},t.prototype.initAxisLabels=function(){var e=this,t=this.getChartProxy(),o={enabled:!0,suppressEnabledCheckbox:!0,initialFont:{family:t.getAxisProperty("label.fontFamily"),style:t.getAxisProperty("label.fontStyle"),weight:t.getAxisProperty("label.fontWeight"),size:t.getAxisProperty("label.fontSize"),color:t.getAxisProperty("label.color")},setFont:function(t){var o=e.getChartProxy();t.family&&o.setAxisProperty("label.fontFamily",t.family),t.weight&&o.setAxisProperty("label.fontWeight",t.weight),t.style&&o.setAxisProperty("label.fontStyle",t.style),t.size&&o.setAxisProperty("label.fontSize",t.size),t.color&&o.setAxisProperty("label.color",t.color),o.getChart().performLayout()}},n=this.createBean(new xl(o));this.axisGroup.addItem(n),this.activePanels.push(n),this.addAdditionalLabelComps(n)},t.prototype.addAdditionalLabelComps=function(e){var t=this,o=function(o,n,r){var s=t.createBean((new i.AgAngleSelect).setLabel(o).setLabelWidth("flex").setValue(n||0).onValueChange(r));e.addCompToPanel(s)},n=String.fromCharCode(176),r=function(e){return function(o){var n=t.getChartProxy(),r=n.getChart(),s=Si(r.axes,(function(t){return t.position===e}));s&&(s.label.rotation=o,s.position===pi.Bottom?i._.set(n.getChartOptions().xAxis,"label.rotation",o):s.position===pi.Left&&i._.set(n.getChartOptions().yAxis,"label.rotation",o),r.performLayout())}},s=this.chartTranslator.translate("xRotation")+" "+n,a=this.chartTranslator.translate("yRotation")+" "+n;o(s,this.getChartProxy().getChartOption("xAxis.label.rotation"),r(pi.Bottom)),o(a,this.getChartProxy().getChartOption("yAxis.label.rotation"),r(pi.Left));var l=this.createBean(new i.AgSlider);l.setLabel(this.chartTranslator.translate("padding")).setValue(this.getChartProxy().getAxisProperty("label.padding")).setMaxValue(30).setTextFieldWidth(45).onValueChange((function(e){return t.getChartProxy().setAxisProperty("label.padding",e)})),e.addCompToPanel(l)},t.prototype.destroyActivePanels=function(){var e=this;this.activePanels.forEach((function(t){i._.removeFromParent(t.getGui()),e.destroyBean(t)}))},t.prototype.getChartProxy=function(){return this.chartController.getChartProxy()},t.prototype.destroy=function(){this.destroyActivePanels(),e.prototype.destroy.call(this)},t.TEMPLATE='<div>\n            <ag-group-component ref="axisGroup">\n                <ag-color-picker ref="axisColorInput"></ag-color-picker>\n                <ag-slider ref="axisLineWidthSlider"></ag-slider>\n                <ag-select ref="xAxisTypeSelect"></ag-select>\n            </ag-group-component>\n        </div>',Bl([i.RefSelector("axisGroup")],t.prototype,"axisGroup",void 0),Bl([i.RefSelector("axisColorInput")],t.prototype,"axisColorInput",void 0),Bl([i.RefSelector("axisLineWidthSlider")],t.prototype,"axisLineWidthSlider",void 0),Bl([i.RefSelector("xAxisTypeSelect")],t.prototype,"xAxisTypeSelect",void 0),Bl([i.Autowired("chartTranslator")],t.prototype,"chartTranslator",void 0),Bl([i.PostConstruct],t.prototype,"init",null),t}(i.Component),jl=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),zl=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Ul=function(e){function t(t){var o=e.call(this)||this;return o.activePanels=[],o.chartController=t,o}return jl(t,e),t.prototype.init=function(){this.setTemplate(t.TEMPLATE,{navigatorGroup:{cssIdentifier:"charts-format-top-level",direction:"vertical"}}),this.initNavigator()},t.prototype.initNavigator=function(){var e=this,t=this.chartTranslator;this.navigatorGroup.setTitle(t.translate("navigator")).toggleGroupExpand(!1).hideEnabledCheckbox(!1).setEnabled(this.getChartProxy().getChartOption("navigator.enabled")||!1).onEnableChange((function(t){e.getChartProxy().setChartOption("navigator.enabled",t),e.navigatorGroup.toggleGroupExpand(!0)})),this.navigatorHeightSlider.setLabel(t.translate("height")).setMinValue(10).setMaxValue(60).setTextFieldWidth(45).setValue(String(this.getChartProxy().getChartOption("navigator.height")||"30")).onValueChange((function(t){return e.getChartProxy().setChartOption("navigator.height",t)}))},t.prototype.destroyActivePanels=function(){var e=this;this.activePanels.forEach((function(t){i._.removeFromParent(t.getGui()),e.destroyBean(t)}))},t.prototype.getChartProxy=function(){return this.chartController.getChartProxy()},t.prototype.destroy=function(){this.destroyActivePanels(),e.prototype.destroy.call(this)},t.TEMPLATE='<div>\n            <ag-group-component ref="navigatorGroup">\n                <ag-slider ref="navigatorHeightSlider"></ag-slider>\n            </ag-group-component>\n        </div>',zl([i.RefSelector("navigatorGroup")],t.prototype,"navigatorGroup",void 0),zl([i.RefSelector("navigatorHeightSlider")],t.prototype,"navigatorHeightSlider",void 0),zl([i.Autowired("chartTranslator")],t.prototype,"chartTranslator",void 0),zl([i.PostConstruct],t.prototype,"init",null),t}(i.Component),$l=function(){return $l=Object.assign||function(e){for(var t,o=1,n=arguments.length;o<n;o++)for(var i in t=arguments[o])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},$l.apply(this,arguments)},Kl=function(){function e(e){var t=this;this.chartProxyParams=e,this.isDarkTheme=function(){return t.chartProxyParams.isDarkTheme()},this.getFontColor=function(){return t.isDarkTheme()?"rgb(221, 221, 221)":"rgb(87, 87, 87)"},this.getAxisGridColor=function(){return t.isDarkTheme()?"rgb(100, 100, 100)":"rgb(219, 219, 219)"},this.getBackgroundColor=function(){return t.isDarkTheme()?"#2d3436":"white"},this.getChartPaddingOption=function(e){return t.chartOptions.padding?""+t.chartOptions.padding[e]:""},this.getShadowEnabled=function(){return!!t.getShadowProperty("enabled")},this.chartId=e.chartId,this.chartType=e.chartType,this.eventService=e.eventService,this.gridApi=e.gridApi,this.columnApi=e.columnApi}return e.prototype.recreateChart=function(e){this.chart&&this.destroyChart(),this.chart=this.createChart(e)},e.prototype.getChart=function(){return this.chart},e.prototype.downloadChart=function(){var e=this.chart,t=e.title?e.title.text:"chart";e.scene.download(t)},e.prototype.getChartImageDataURL=function(e){return this.chart.scene.getDataURL(e)},e.prototype.initChartOptions=function(){var e=this.chartProxyParams.processChartOptions;if(e){var t=e({type:this.chartType,options:this.getDefaultOptions()}),o=this.getDefaultOptions();i._.mergeDeep(o,t,!1),this.overridePalette(o),this.chartOptions=o}else this.chartOptions=this.getDefaultOptions()},e.prototype.overridePalette=function(e){if(this.chartProxyParams.allowPaletteOverride){var t=this.getPredefinedPalette(),o=t.fills,n=t.strokes,i=e.seriesDefaults,r=i.fill.colors,s=i.stroke.colors,a=r&&r.length>0&&r!==o,l=s&&s.length>0&&s!==n;(a||l)&&(this.customPalette={fills:a?r:o,strokes:l?s:n})}},e.prototype.getChartOptions=function(){return this.chartOptions},e.prototype.getCustomPalette=function(){return this.customPalette},e.prototype.getChartOption=function(e){return i._.get(this.chartOptions,e,void 0)},e.prototype.setChartOption=function(e,t){if(i._.get(this.chartOptions,e,void 0)!==t){i._.set(this.chartOptions,e,t);i._.set(this.chart,{"legend.item.marker.strokeWidth":"legend.strokeWidth","legend.item.marker.size":"legend.markerSize","legend.item.marker.padding":"legend.itemSpacing","legend.item.label.fontFamily":"legend.fontFamily","legend.item.label.fontStyle":"legend.fontStyle","legend.item.label.fontWeight":"legend.fontWeight","legend.item.label.fontSize":"legend.fontSize","legend.item.label.color":"legend.color","legend.item.paddingX":"legend.layoutHorizontalSpacing","legend.item.paddingY":"legend.layoutVerticalSpacing"}[e]||e,t),this.raiseChartOptionsChangedEvent()}},e.prototype.getSeriesOption=function(e){return i._.get(this.chartOptions.seriesDefaults,e,void 0)},e.prototype.setSeriesOption=function(e,t){if(i._.get(this.chartOptions.seriesDefaults,e,void 0)!==t){i._.set(this.chartOptions.seriesDefaults,e,t);var o={"stroke.width":"strokeWidth","stroke.opacity":"strokeOpacity","fill.opacity":"fillOpacity","tooltip.enabled":"tooltipEnabled","callout.colors":"calloutColors"};this.chart.series.forEach((function(n){return i._.set(n,o[e]||e,t)})),this.raiseChartOptionsChangedEvent()}},e.prototype.setTitleOption=function(e,t){i._.get(this.chartOptions.title,e,void 0)!==t&&(this.chartOptions.title[e]=t,this.chart.title||(this.chart.title={}),this.chart.title[e]=t,"text"===e&&this.setTitleOption("enabled",i._.exists(t)),this.raiseChartOptionsChangedEvent())},e.prototype.getTitleOption=function(e){return this.chartOptions.title[e]},e.prototype.setChartPaddingOption=function(e,t){var o=this.chartOptions.padding;i._.get(o,e,void 0)!==t&&(o||(o=this.chartOptions.padding={top:0,right:0,bottom:0,left:0},this.chart.padding=new Pn(0)),o[e]=t,this.chart.padding[e]=t,this.chart.performLayout(),this.raiseChartOptionsChangedEvent())},e.prototype.getShadowProperty=function(e){var t=this.chartOptions.seriesDefaults;return t.shadow?t.shadow[e]:""},e.prototype.setShadowProperty=function(e,t){var o=this.chartOptions.seriesDefaults;i._.get(o.shadow,e,void 0)!==t&&(o.shadow||(o.shadow={enabled:!1,blur:0,xOffset:0,yOffset:0,color:"rgba(0,0,0,0.5)"}),o.shadow[e]=t,this.getChart().series.forEach((function(o){if(!o.shadow){var n=new na;n.enabled=!1,n.blur=0,n.xOffset=0,n.yOffset=0,n.color="rgba(0,0,0,0.5)",o.shadow=n}o.shadow[e]=t})),this.raiseChartOptionsChangedEvent())},e.prototype.raiseChartOptionsChangedEvent=function(){var e=Object.freeze({type:i.Events.EVENT_CHART_OPTIONS_CHANGED,chartId:this.chartId,chartType:this.chartType,chartPalette:this.chartProxyParams.getChartPaletteName(),chartOptions:this.chartOptions,api:this.gridApi,columnApi:this.columnApi});this.eventService.dispatchEvent(e)},e.prototype.getDefaultFontOptions=function(){return{fontStyle:"normal",fontWeight:"normal",fontSize:12,fontFamily:"Verdana, sans-serif",color:this.getFontColor()}},e.prototype.getDefaultDropShadowOptions=function(){return{enabled:!1,blur:5,xOffset:3,yOffset:3,color:"rgba(0, 0, 0, 0.5)"}},e.prototype.getPredefinedPalette=function(){return Yr.get(this.chartProxyParams.getChartPaletteName())},e.prototype.getPalette=function(){return this.customPalette||this.getPredefinedPalette()},e.prototype.getDefaultChartOptions=function(){var e=this.getPredefinedPalette(),t=e.fills,o=e.strokes,n=this.getDefaultFontOptions();return{background:{fill:this.getBackgroundColor(),visible:!0},padding:{top:20,right:20,bottom:20,left:20},title:$l($l({},n),{enabled:!1,fontWeight:"bold",fontSize:16}),subtitle:$l($l({},n),{enabled:!1}),legend:{enabled:!0,position:i.LegendPosition.Right,spacing:20,item:{label:$l({},n),marker:{shape:"square",size:15,padding:8,strokeWidth:1},paddingX:16,paddingY:8}},navigator:{enabled:!1,height:30,min:0,max:1,mask:{fill:"#999999",stroke:"#999999",strokeWidth:1,fillOpacity:.2},minHandle:{fill:"#f2f2f2",stroke:"#999999",strokeWidth:1,width:8,height:16,gripLineGap:2,gripLineLength:8},maxHandle:{fill:"#f2f2f2",stroke:"#999999",strokeWidth:1,width:8,height:16,gripLineGap:2,gripLineLength:8}},seriesDefaults:{fill:{colors:t,opacity:1},stroke:{colors:o,opacity:1,width:1},highlightStyle:{fill:"yellow"},listeners:{}},listeners:{}}},e.prototype.transformData=function(e,t){return this.chart.axes.filter((function(e){return e instanceof bi})).length<1?e:e.map((function(e,o){var n=e[t],i=n&&n.toString?n.toString():"",r=$l({},e);return r[t]={id:o,value:n,toString:function(){return i}},r}))},e.prototype.destroy=function(){this.destroyChart()},e.prototype.destroyChart=function(){this.chart&&(this.chart.destroy(),this.chart=void 0)},e}(),Yl=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),ql=function(){return ql=Object.assign||function(e){for(var t,o=1,n=arguments.length;o<n;o++)for(var i in t=arguments[o])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},ql.apply(this,arguments)},Xl=function(e){function t(t){return e.call(this,t)||this}return Yl(t,e),t.prototype.getAxisProperty=function(e){return i._.get(this.chartOptions.xAxis,e,void 0)},t.prototype.setAxisProperty=function(e,t){i._.set(this.chartOptions.xAxis,e,t),i._.set(this.chartOptions.yAxis,e,t);var o=this.chart;this.chart.axes.forEach((function(o){return i._.set(o,e,t)})),o.performLayout(),this.raiseChartOptionsChangedEvent()},t.prototype.updateLabelRotation=function(e,t){void 0===t&&(t=!1);var o=0,n=t?"yAxis":"xAxis";if(e!==Rn.DEFAULT_CATEGORY&&!this.chartProxyParams.grouping){var i=this.chartOptions[n].label;i&&i.rotation&&(o=i.rotation)}var r=t?pi.Left:pi.Bottom,s=Si(this.chart.axes,(function(e){return e.position===r}));s&&(s.label.rotation=o)},t.prototype.getDefaultAxisOptions=function(){var e=this.getDefaultFontOptions(),t=this.getAxisGridColor(),o="rgba(195, 195, 195, 1)";return{title:ql(ql({},e),{enabled:!1,fontSize:14}),line:{color:o,width:1},tick:{color:o,size:6,width:1},label:ql(ql({},e),{padding:5,rotation:0}),gridStyle:[{stroke:t,lineDash:[4,2]}]}},t.prototype.getDefaultCartesianChartOptions=function(){var e=this.getDefaultChartOptions();return e.xAxis=this.getDefaultAxisOptions(),e.yAxis=this.getDefaultAxisOptions(),e},t.prototype.updateAxes=function(e,t){void 0===e&&(e="category"),void 0===t&&(t=!1);var o=t?this.getYAxis():this.getXAxis();if(o)if(this.chartProxyParams.grouping)o instanceof Hi||this.recreateChart();else if(!(o instanceof Za.toAxisClass(e))){var n=this.chartOptions;t&&!n.yAxis.type?n=ql(ql({},n),{yAxis:ql(ql({},n.yAxis),{type:e})}):t||n.xAxis.type||(n=ql(ql({},n),{xAxis:ql(ql({},n.xAxis),{type:e})})),this.recreateChart(n)}},t.prototype.getXAxis=function(){return Si(this.chart.axes,(function(e){return e.position===pi.Bottom}))},t.prototype.getYAxis=function(){return Si(this.chart.axes,(function(e){return e.position===pi.Left}))},t}(Kl);function Ql(e){return e instanceof Date}var Zl,Jl=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),ec=function(){return ec=Object.assign||function(e){for(var t,o=1,n=arguments.length;o<n;o++)for(var i in t=arguments[o])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},ec.apply(this,arguments)},tc=function(e){function t(t){var o=e.call(this,t)||this;return o.getMarkersEnabled=function(){return!0},o.initChartOptions(),o.recreateChart(),o}return Jl(t,e),t.prototype.createChart=function(e){return Za.createScatterChart(this.chartProxyParams.parentElement,e||this.chartOptions)},t.prototype.update=function(e){if(e.fields.length<2)this.chart.removeAllSeries();else{var t=e.fields,o=this.chartOptions.seriesDefaults,n=this.getSeriesDefinitions(t,o.paired),r=e.data[0],s=n.map((function(e){return e.xField.colId})).map((function(e){return r&&r[e]})).every((function(e){return Ql(e)}));this.updateAxes(s?"time":"number");var a=this.chart,l=this.getPalette(),c=l.fills,u=l.strokes,d=ec({type:"scatter"},o),h=e.category.id===Rn.DEFAULT_CATEGORY?void 0:e.category,p=a.series.reduceRight((function(e,t,o){return i._.findIndex(n,(function(e){return e.xField.colId===t.xKey&&e.yField.colId===t.yKey&&(!e.sizeField&&!t.sizeKey||e.sizeField&&e.sizeField.colId===t.sizeKey)}))===o?e.set(t.yKey,t):a.removeSeries(t),e}),new Map),g=void 0;n.forEach((function(t,o){var n=p.get(t.yField.colId),i=n||Za.createSeries(d);if(i){var r=t.xField,s=t.yField,l=t.sizeField;i.title=s.displayName+" vs "+r.displayName,i.xKey=r.colId,i.xName=r.displayName,i.yKey=s.colId,i.yName=s.displayName,i.data=e.data,i.fill=c[o%c.length],i.stroke=u[o%u.length],l?(i.sizeKey=l.colId,i.sizeName=l.displayName):i.sizeKey=i.sizeName=void 0,h?(i.labelKey=h.id,i.labelName=h.name):i.labelKey=i.labelName=void 0,n||a.addSeriesAfter(i,g),g=i}}))}},t.prototype.getTooltipsEnabled=function(){return null!=this.chartOptions.seriesDefaults.tooltip&&!!this.chartOptions.seriesDefaults.tooltip.enabled},t.prototype.getDefaultOptions=function(){var e=this.chartType===i.ChartType.Bubble,t=this.getDefaultCartesianChartOptions();return t.seriesDefaults=ec(ec({},t.seriesDefaults),{fill:ec(ec({},t.seriesDefaults.fill),{opacity:e?.7:1}),stroke:ec(ec({},t.seriesDefaults.stroke),{width:3}),marker:{shape:"circle",enabled:!0,size:e?30:6,minSize:e?6:void 0,strokeWidth:1},tooltip:{enabled:!0},paired:!1}),t},t.prototype.getSeriesDefinitions=function(e,t){if(e.length<2)return[];var o=this.chartType===i.ChartType.Bubble;if(t)return o?e.map((function(t,o){return o%3===0?{xField:t,yField:e[o+1],sizeField:e[o+2]}:null})).filter((function(e){return e&&e.yField&&e.sizeField})):e.map((function(t,o){return o%2===0?{xField:t,yField:e[o+1]}:null})).filter((function(e){return e&&e.yField}));var n=e[0];return o?e.map((function(t,o){return o%2===1?{xField:n,yField:t,sizeField:e[o+1]}:null})).filter((function(e){return e&&e.sizeField})):e.filter((function(e,t){return t>0})).map((function(e){return{xField:n,yField:e}}))},t}(Xl),oc=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),nc=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},ic=function(e){function t(t){var o=e.call(this)||this;return o.chartController=t,o}return oc(t,e),t.prototype.init=function(){this.setTemplate(t.TEMPLATE,{seriesMarkersGroup:{cssIdentifier:"charts-format-sub-level",direction:"vertical"}}),this.initMarkers()},t.prototype.initMarkers=function(){var e=this,t=this.chartController.getChartProxy()instanceof tc;this.seriesMarkersGroup.setTitle(this.chartTranslator.translate("markers")).hideEnabledCheckbox(t).setEnabled(this.chartController.getChartProxy().getSeriesOption("marker.enabled")||!1).hideOpenCloseIcons(!0).onEnableChange((function(t){return e.chartController.getChartProxy().setSeriesOption("marker.enabled",t)}));var o=function(t,o,n,i){o.setLabel(e.chartTranslator.translate(n)).setValue(e.chartController.getChartProxy().getSeriesOption(t)).setMaxValue(i).setTextFieldWidth(45).onValueChange((function(o){return e.chartController.getChartProxy().setSeriesOption(t,o)}))};this.chartController.getChartType()===i.ChartType.Bubble?(o("marker.minSize",this.seriesMarkerMinSizeSlider,"minSize",60),o("marker.size",this.seriesMarkerSizeSlider,"maxSize",60)):(this.seriesMarkerMinSizeSlider.setDisplayed(!1),o("marker.size",this.seriesMarkerSizeSlider,"size",60)),o("marker.strokeWidth",this.seriesMarkerStrokeWidthSlider,"strokeWidth",10)},t.TEMPLATE='<div>\n            <ag-group-component ref="seriesMarkersGroup">\n                <ag-slider ref="seriesMarkerMinSizeSlider"></ag-slider>\n                <ag-slider ref="seriesMarkerSizeSlider"></ag-slider>\n                <ag-slider ref="seriesMarkerStrokeWidthSlider"></ag-slider>\n            </ag-group-component>\n        </div>',nc([i.RefSelector("seriesMarkersGroup")],t.prototype,"seriesMarkersGroup",void 0),nc([i.RefSelector("seriesMarkerSizeSlider")],t.prototype,"seriesMarkerSizeSlider",void 0),nc([i.RefSelector("seriesMarkerMinSizeSlider")],t.prototype,"seriesMarkerMinSizeSlider",void 0),nc([i.RefSelector("seriesMarkerStrokeWidthSlider")],t.prototype,"seriesMarkerStrokeWidthSlider",void 0),nc([i.Autowired("chartTranslator")],t.prototype,"chartTranslator",void 0),nc([i.PostConstruct],t.prototype,"init",null),t}(i.Component),rc=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),sc=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},ac=function(e){function t(t){var o=e.call(this)||this;return o.activePanels=[],o.chartController=t,o}return rc(t,e),t.prototype.init=function(){this.setTemplate(t.TEMPLATE,{seriesGroup:{cssIdentifier:"charts-format-top-level",direction:"vertical"}}),this.initSeriesGroup(),this.initSeriesTooltips(),this.initSeriesLineWidth(),this.initMarkersPanel()},t.prototype.initSeriesGroup=function(){this.seriesGroup.setTitle(this.chartTranslator.translate("series")).toggleGroupExpand(!1).hideEnabledCheckbox(!0)},t.prototype.initSeriesTooltips=function(){var e=this;this.seriesTooltipsToggle.setLabel(this.chartTranslator.translate("tooltips")).setLabelAlignment("left").setLabelWidth("flex").setInputWidth(45).setValue(this.getChartProxy().getSeriesOption("tooltip.enabled")||!1).onValueChange((function(t){return e.getChartProxy().setSeriesOption("tooltip.enabled",t)}))},t.prototype.initSeriesLineWidth=function(){var e=this;this.seriesLineWidthSlider.setLabel(this.chartTranslator.translate("lineWidth")).setMaxValue(10).setTextFieldWidth(45).setValue(this.getChartProxy().getSeriesOption("stroke.width")).onValueChange((function(t){return e.getChartProxy().setSeriesOption("stroke.width",t)}))},t.prototype.initMarkersPanel=function(){var e=this.createBean(new ic(this.chartController));this.seriesGroup.addItem(e),this.activePanels.push(e)},t.prototype.destroyActivePanels=function(){var e=this;this.activePanels.forEach((function(t){i._.removeFromParent(t.getGui()),e.destroyBean(t)}))},t.prototype.getChartProxy=function(){return this.chartController.getChartProxy()},t.prototype.destroy=function(){this.destroyActivePanels(),e.prototype.destroy.call(this)},t.TEMPLATE='<div>\n            <ag-group-component ref="seriesGroup">\n                <ag-toggle-button ref="seriesTooltipsToggle"></ag-toggle-button>\n                <ag-slider ref="seriesLineWidthSlider"></ag-slider>\n            </ag-group-component>\n        </div>',sc([i.RefSelector("seriesGroup")],t.prototype,"seriesGroup",void 0),sc([i.RefSelector("seriesTooltipsToggle")],t.prototype,"seriesTooltipsToggle",void 0),sc([i.RefSelector("seriesLineWidthSlider")],t.prototype,"seriesLineWidthSlider",void 0),sc([i.Autowired("chartTranslator")],t.prototype,"chartTranslator",void 0),sc([i.PostConstruct],t.prototype,"init",null),t}(i.Component),lc=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),cc=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},uc=function(e){function t(t){var o=e.call(this)||this;return o.chartController=t,o}return lc(t,e),t.prototype.init=function(){this.setTemplate(t.TEMPLATE,{calloutGroup:{cssIdentifier:"charts-format-sub-level",direction:"vertical"}}),this.initCalloutOptions()},t.prototype.initCalloutOptions=function(){var e=this;this.calloutGroup.setTitle(this.chartTranslator.translate("callout")).setEnabled(!0).hideOpenCloseIcons(!0).hideEnabledCheckbox(!0);var t=function(t,o,n,i){o.setLabel(e.chartTranslator.translate(n)).setValue(e.chartController.getChartProxy().getSeriesOption(t)).setMaxValue(i).setTextFieldWidth(45).onValueChange((function(o){return e.chartController.getChartProxy().setSeriesOption(t,o)}))};t("callout.length",this.calloutLengthSlider,"length",40),t("callout.strokeWidth",this.calloutStrokeWidthSlider,"strokeWidth",10),t("label.offset",this.labelOffsetSlider,"offset",30)},t.TEMPLATE='<div>\n            <ag-group-component ref="calloutGroup">\n                <ag-slider ref="calloutLengthSlider"></ag-slider>\n                <ag-slider ref="calloutStrokeWidthSlider"></ag-slider>\n                <ag-slider ref="labelOffsetSlider"></ag-slider>\n            </ag-group-component>\n        </div>',cc([i.RefSelector("calloutGroup")],t.prototype,"calloutGroup",void 0),cc([i.RefSelector("calloutLengthSlider")],t.prototype,"calloutLengthSlider",void 0),cc([i.RefSelector("calloutStrokeWidthSlider")],t.prototype,"calloutStrokeWidthSlider",void 0),cc([i.RefSelector("labelOffsetSlider")],t.prototype,"labelOffsetSlider",void 0),cc([i.Autowired("chartTranslator")],t.prototype,"chartTranslator",void 0),cc([i.PostConstruct],t.prototype,"init",null),t}(i.Component),dc=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),hc=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},pc=function(e){function t(t){var o=e.call(this)||this;return o.activePanels=[],o.chartController=t,o}return dc(t,e),t.prototype.init=function(){this.setTemplate(t.TEMPLATE,{seriesGroup:{cssIdentifier:"charts-format-top-level",direction:"vertical"}}),this.initGroup(),this.initSeriesTooltips(),this.initSeriesStrokeWidth(),this.initOpacity(),this.initLabelPanel(),this.initShadowPanel()},t.prototype.initGroup=function(){this.seriesGroup.setTitle(this.chartTranslator.translate("series")).toggleGroupExpand(!1).hideEnabledCheckbox(!0)},t.prototype.initSeriesTooltips=function(){var e=this;this.seriesTooltipsToggle.setLabel(this.chartTranslator.translate("tooltips")).setLabelAlignment("left").setLabelWidth("flex").setInputWidth(45).setValue(this.getChartProxy().getSeriesOption("tooltip.enabled")||!1).onValueChange((function(t){return e.getChartProxy().setSeriesOption("tooltip.enabled",t)}))},t.prototype.initSeriesStrokeWidth=function(){var e=this;this.seriesStrokeWidthSlider.setLabel(this.chartTranslator.translate("strokeWidth")).setMaxValue(10).setTextFieldWidth(45).setValue(this.getChartProxy().getSeriesOption("stroke.width")).onValueChange((function(t){return e.getChartProxy().setSeriesOption("stroke.width",t)}))},t.prototype.initOpacity=function(){var e=this;this.seriesLineOpacitySlider.setLabel(this.chartTranslator.translate("strokeOpacity")).setStep(.05).setMaxValue(1).setTextFieldWidth(45).setValue(this.getChartProxy().getSeriesOption("stroke.opacity")||"1").onValueChange((function(t){return e.getChartProxy().setSeriesOption("stroke.opacity",t)})),this.seriesFillOpacitySlider.setLabel(this.chartTranslator.translate("fillOpacity")).setStep(.05).setMaxValue(1).setTextFieldWidth(45).setValue(this.getChartProxy().getSeriesOption("fillOpacity")||"1").onValueChange((function(t){return e.getChartProxy().setSeriesOption("fillOpacity",t)}))},t.prototype.initLabelPanel=function(){var e=this,t=this.getChartProxy(),o={family:t.getSeriesOption("label.fontFamily"),style:t.getSeriesOption("label.fontStyle"),weight:t.getSeriesOption("label.fontWeight"),size:t.getSeriesOption("label.fontSize"),color:t.getSeriesOption("label.color")},n={name:this.chartTranslator.translate("labels"),enabled:t.getSeriesOption("label.enabled")||!1,setEnabled:function(t){return e.getChartProxy().setSeriesOption("label.enabled",t)},suppressEnabledCheckbox:!1,initialFont:o,setFont:function(t){var o=e.getChartProxy();t.family&&o.setSeriesOption("label.fontFamily",t.family),t.weight&&o.setSeriesOption("label.fontWeight",t.weight),t.style&&o.setSeriesOption("label.fontStyle",t.style),t.size&&o.setSeriesOption("label.fontSize",t.size),t.color&&o.setSeriesOption("label.color",t.color)}},i=this.createBean(new xl(n));this.activePanels.push(i);var r=this.createBean(new uc(this.chartController));i.addCompToPanel(r),this.activePanels.push(r),this.seriesGroup.addItem(i)},t.prototype.initShadowPanel=function(){var e=this.createBean(new Ml(this.chartController));this.seriesGroup.getGui().appendChild(e.getGui()),this.seriesGroup.addItem(e)},t.prototype.destroyActivePanels=function(){var e=this;this.activePanels.forEach((function(t){i._.removeFromParent(t.getGui()),e.destroyBean(t)}))},t.prototype.getChartProxy=function(){return this.chartController.getChartProxy()},t.prototype.destroy=function(){this.destroyActivePanels(),e.prototype.destroy.call(this)},t.TEMPLATE='<div>\n            <ag-group-component ref="seriesGroup">\n                <ag-toggle-button ref="seriesTooltipsToggle"></ag-toggle-button>\n                <ag-slider ref="seriesStrokeWidthSlider"></ag-slider>\n                <ag-slider ref="seriesLineOpacitySlider"></ag-slider>\n                <ag-slider ref="seriesFillOpacitySlider"></ag-slider>\n            </ag-group-component>\n        </div>',hc([i.RefSelector("seriesGroup")],t.prototype,"seriesGroup",void 0),hc([i.RefSelector("seriesTooltipsToggle")],t.prototype,"seriesTooltipsToggle",void 0),hc([i.RefSelector("seriesStrokeWidthSlider")],t.prototype,"seriesStrokeWidthSlider",void 0),hc([i.RefSelector("seriesLineOpacitySlider")],t.prototype,"seriesLineOpacitySlider",void 0),hc([i.RefSelector("seriesFillOpacitySlider")],t.prototype,"seriesFillOpacitySlider",void 0),hc([i.Autowired("chartTranslator")],t.prototype,"chartTranslator",void 0),hc([i.PostConstruct],t.prototype,"init",null),t}(i.Component),gc=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),fc=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},mc=function(e){function t(t){var o=e.call(this)||this;return o.chartController=t,o}return gc(t,e),t.prototype.init=function(){this.setTemplate(t.TEMPLATE,{chartPaddingGroup:{cssIdentifier:"charts-format-sub-level",direction:"vertical",suppressOpenCloseIcons:!0}}),this.initGroup(),this.initChartPaddingItems()},t.prototype.initGroup=function(){this.chartPaddingGroup.setTitle(this.chartTranslator.translate("padding")).hideOpenCloseIcons(!0).hideEnabledCheckbox(!0)},t.prototype.initChartPaddingItems=function(){var e=this,t=function(t,o){o.setLabel(e.chartTranslator.translate(t)).setValue(e.chartController.getChartProxy().getChartPaddingOption(t)).setMaxValue(200).setTextFieldWidth(45).onValueChange((function(o){return e.chartController.getChartProxy().setChartPaddingOption(t,o)}))};t("top",this.paddingTopSlider),t("right",this.paddingRightSlider),t("bottom",this.paddingBottomSlider),t("left",this.paddingLeftSlider)},t.TEMPLATE='<div>\n            <ag-group-component ref="chartPaddingGroup">\n                <ag-slider ref="paddingTopSlider"></ag-slider>\n                <ag-slider ref="paddingRightSlider"></ag-slider>\n                <ag-slider ref="paddingBottomSlider"></ag-slider>\n                <ag-slider ref="paddingLeftSlider"></ag-slider>\n            </ag-group-component>\n        <div>',fc([i.RefSelector("chartPaddingGroup")],t.prototype,"chartPaddingGroup",void 0),fc([i.RefSelector("paddingTopSlider")],t.prototype,"paddingTopSlider",void 0),fc([i.RefSelector("paddingRightSlider")],t.prototype,"paddingRightSlider",void 0),fc([i.RefSelector("paddingBottomSlider")],t.prototype,"paddingBottomSlider",void 0),fc([i.RefSelector("paddingLeftSlider")],t.prototype,"paddingLeftSlider",void 0),fc([i.Autowired("chartTranslator")],t.prototype,"chartTranslator",void 0),fc([i.PostConstruct],t.prototype,"init",null),t}(i.Component),vc=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),yc=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Cc=function(e){function t(t){var o=e.call(this)||this;return o.chartController=t,o}return vc(t,e),t.prototype.init=function(){this.setTemplate(t.TEMPLATE,{chartBackgroundGroup:{cssIdentifier:"charts-format-sub-level",direction:"vertical",suppressOpenCloseIcons:!0}}),this.initGroup(),this.initColorPicker()},t.prototype.initGroup=function(){var e=this;this.group.setTitle(this.chartTranslator.translate("background")).setEnabled(this.chartController.getChartProxy().getChartOption("background.visible")).hideOpenCloseIcons(!0).hideEnabledCheckbox(!1).onEnableChange((function(t){return e.chartController.getChartProxy().setChartOption("background.visible",t)}))},t.prototype.initColorPicker=function(){var e=this;this.colorPicker.setLabel(this.chartTranslator.translate("color")).setLabelWidth("flex").setInputWidth(45).setValue(this.chartController.getChartProxy().getChartOption("background.fill")).onValueChange((function(t){return e.chartController.getChartProxy().setChartOption("background.fill",t)}))},t.TEMPLATE='<div>\n            <ag-group-component ref="chartBackgroundGroup">\n                <ag-color-picker ref="colorPicker"></ag-color-picker>\n            </ag-group-component>\n        <div>',yc([i.RefSelector("chartBackgroundGroup")],t.prototype,"group",void 0),yc([i.RefSelector("colorPicker")],t.prototype,"colorPicker",void 0),yc([i.Autowired("chartTranslator")],t.prototype,"chartTranslator",void 0),yc([i.PostConstruct],t.prototype,"init",null),t}(i.Component),wc=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),bc=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Sc=function(e){function t(o){var n=e.call(this,t.TEMPLATE)||this;return n.activePanels=[],n.chartController=o,n}return wc(t,e),t.prototype.init=function(){this.initFontPanel()},t.prototype.hasTitle=function(){var e=this.chartController.getChartProxy().getChartOption("title"),t=e&&e.text?e.text:"";return i._.exists(t)},t.prototype.initFontPanel=function(){var e=this,t=this.chartController.getChartProxy(),o=this.hasTitle,n=function(t){var o=e.chartController.getChartProxy();t.family&&o.setTitleOption("fontFamily",t.family),t.weight&&o.setTitleOption("fontWeight",t.weight),t.style&&o.setTitleOption("fontStyle",t.style),t.size&&o.setTitleOption("fontSize",t.size),t.color&&o.setTitleOption("color",t.color)},i={family:o?t.getChartOption("title.fontFamily"):"Verdana, sans-serif",style:o?t.getChartOption("title.fontStyle"):void 0,weight:o?t.getChartOption("title.fontWeight"):void 0,size:o?t.getChartOption("title.fontSize"):22,color:o?t.getChartOption("title.color"):"black"};o||n(i);var r={name:this.chartTranslator.translate("title"),enabled:this.hasTitle(),suppressEnabledCheckbox:!1,initialFont:i,setFont:n,setEnabled:function(t){var o=e.chartController.getChartProxy();if(t){var n=e.disabledTitle||e.chartTranslator.translate("titlePlaceholder");o.setTitleOption("text",n),e.disabledTitle=""}else e.disabledTitle=e.chartController.getChartProxy().getTitleOption("text"),o.setTitleOption("text","")}},s=this.createBean(new xl(r));this.getGui().appendChild(s.getGui()),this.activePanels.push(s),this.addManagedListener(this.eventService,"chartTitleEdit",(function(){s.setEnabled(e.hasTitle())}))},t.prototype.destroyActivePanels=function(){var e=this;this.activePanels.forEach((function(t){i._.removeFromParent(t.getGui()),e.destroyBean(t)}))},t.prototype.destroy=function(){this.destroyActivePanels(),e.prototype.destroy.call(this)},t.TEMPLATE="<div></div>",bc([i.Autowired("chartTranslator")],t.prototype,"chartTranslator",void 0),bc([i.PostConstruct],t.prototype,"init",null),t}(i.Component),Ec=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Rc=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Pc=function(e){function t(t){var o=e.call(this)||this;return o.activePanels=[],o.chartController=t,o}return Ec(t,e),t.prototype.init=function(){this.setTemplate(t.TEMPLATE,{chartGroup:{cssIdentifier:"charts-format-top-level",direction:"vertical"}}),this.initGroup(),this.initTitles(),this.initPaddingPanel(),this.initBackgroundPanel()},t.prototype.initGroup=function(){this.chartGroup.setTitle(this.chartTranslator.translate("chart")).toggleGroupExpand(!0).hideEnabledCheckbox(!0)},t.prototype.initTitles=function(){var e=this.createBean(new Sc(this.chartController));this.chartGroup.addItem(e),this.activePanels.push(e)},t.prototype.initPaddingPanel=function(){var e=this.createBean(new mc(this.chartController));this.chartGroup.addItem(e),this.activePanels.push(e)},t.prototype.initBackgroundPanel=function(){var e=this.createBean(new Cc(this.chartController));this.chartGroup.addItem(e),this.activePanels.push(e)},t.prototype.destroyActivePanels=function(){var e=this;this.activePanels.forEach((function(t){i._.removeFromParent(t.getGui()),e.destroyBean(t)}))},t.prototype.destroy=function(){this.destroyActivePanels(),e.prototype.destroy.call(this)},t.TEMPLATE='<div>\n            <ag-group-component ref="chartGroup"></ag-group-component>\n        </div>',Rc([i.RefSelector("chartGroup")],t.prototype,"chartGroup",void 0),Rc([i.Autowired("chartTranslator")],t.prototype,"chartTranslator",void 0),Rc([i.PostConstruct],t.prototype,"init",null),t}(i.Component),Oc=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),xc=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Tc=function(e){function t(t){var o=e.call(this)||this;return o.activePanels=[],o.chartController=t,o}return Oc(t,e),t.prototype.init=function(){this.setTemplate(t.TEMPLATE,{seriesGroup:{cssIdentifier:"charts-format-top-level",direction:"vertical"}}),this.initSeriesGroup(),this.initSeriesTooltips(),this.initSeriesLineWidth(),this.initOpacity(),this.initMarkersPanel(),this.initShadowPanel()},t.prototype.initSeriesGroup=function(){this.seriesGroup.setTitle(this.chartTranslator.translate("series")).toggleGroupExpand(!1).hideEnabledCheckbox(!0)},t.prototype.initSeriesTooltips=function(){var e=this;this.seriesTooltipsToggle.setLabel(this.chartTranslator.translate("tooltips")).setLabelAlignment("left").setLabelWidth("flex").setInputWidth(45).setValue(this.getChartProxy().getSeriesOption("tooltip.enabled")||!1).onValueChange((function(t){return e.getChartProxy().setSeriesOption("tooltip.enabled",t)}))},t.prototype.initSeriesLineWidth=function(){var e=this;this.seriesLineWidthSlider.setLabel(this.chartTranslator.translate("lineWidth")).setMaxValue(10).setTextFieldWidth(45).setValue(this.getChartProxy().getSeriesOption("stroke.width")).onValueChange((function(t){return e.getChartProxy().setSeriesOption("stroke.width",t)}))},t.prototype.initOpacity=function(){var e=this;this.seriesLineOpacitySlider.setLabel(this.chartTranslator.translate("strokeOpacity")).setStep(.05).setMaxValue(1).setTextFieldWidth(45).setValue(this.getChartProxy().getSeriesOption("stroke.opacity")||"1").onValueChange((function(t){return e.getChartProxy().setSeriesOption("stroke.opacity",t)})),this.seriesFillOpacitySlider.setLabel(this.chartTranslator.translate("fillOpacity")).setStep(.05).setMaxValue(1).setTextFieldWidth(45).setValue(this.getChartProxy().getSeriesOption("fill.opacity")||"1").onValueChange((function(t){return e.getChartProxy().setSeriesOption("fill.opacity",t)}))},t.prototype.initMarkersPanel=function(){var e=this.createBean(new ic(this.chartController));this.seriesGroup.addItem(e),this.activePanels.push(e)},t.prototype.initShadowPanel=function(){var e=this.createBean(new Ml(this.chartController));this.seriesGroup.addItem(e),this.activePanels.push(e)},t.prototype.destroyActivePanels=function(){var e=this;this.activePanels.forEach((function(t){i._.removeFromParent(t.getGui()),e.destroyBean(t)}))},t.prototype.getChartProxy=function(){return this.chartController.getChartProxy()},t.prototype.destroy=function(){this.destroyActivePanels(),e.prototype.destroy.call(this)},t.TEMPLATE='<div>\n            <ag-group-component ref="seriesGroup">\n                <ag-toggle-button ref="seriesTooltipsToggle"></ag-toggle-button>\n                <ag-slider ref="seriesLineWidthSlider"></ag-slider>\n                <ag-slider ref="seriesLineOpacitySlider"></ag-slider>\n                <ag-slider ref="seriesFillOpacitySlider"></ag-slider>\n            </ag-group-component>\n        </div>',xc([i.RefSelector("seriesGroup")],t.prototype,"seriesGroup",void 0),xc([i.RefSelector("seriesTooltipsToggle")],t.prototype,"seriesTooltipsToggle",void 0),xc([i.RefSelector("seriesLineWidthSlider")],t.prototype,"seriesLineWidthSlider",void 0),xc([i.RefSelector("seriesLineOpacitySlider")],t.prototype,"seriesLineOpacitySlider",void 0),xc([i.RefSelector("seriesFillOpacitySlider")],t.prototype,"seriesFillOpacitySlider",void 0),xc([i.Autowired("chartTranslator")],t.prototype,"chartTranslator",void 0),xc([i.PostConstruct],t.prototype,"init",null),t}(i.Component),Dc=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Ac=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Fc=function(e){function t(t){var o=e.call(this)||this;return o.activePanels=[],o.chartController=t,o}return Dc(t,e),t.prototype.init=function(){this.setTemplate(t.TEMPLATE,{seriesGroup:{cssIdentifier:"charts-format-top-level",direction:"vertical"}}),this.initSeriesGroup(),this.initSeriesTooltips(),this.initMarkersPanel()},t.prototype.initSeriesGroup=function(){this.seriesGroup.setTitle(this.chartTranslator.translate("series")).toggleGroupExpand(!1).hideEnabledCheckbox(!0)},t.prototype.initSeriesTooltips=function(){var e=this;this.seriesTooltipsToggle.setLabel(this.chartTranslator.translate("tooltips")).setLabelAlignment("left").setLabelWidth("flex").setInputWidth(45).setValue(this.getChartProxy().getSeriesOption("tooltip.enabled")||!1).onValueChange((function(t){return e.getChartProxy().setSeriesOption("tooltip.enabled",t)}))},t.prototype.initMarkersPanel=function(){var e=this.createBean(new ic(this.chartController));this.seriesGroup.addItem(e),this.activePanels.push(e)},t.prototype.destroyActivePanels=function(){var e=this;this.activePanels.forEach((function(t){i._.removeFromParent(t.getGui()),e.destroyBean(t)}))},t.prototype.getChartProxy=function(){return this.chartController.getChartProxy()},t.prototype.destroy=function(){this.destroyActivePanels(),e.prototype.destroy.call(this)},t.TEMPLATE='<div>\n            <ag-group-component ref="seriesGroup">\n                <ag-toggle-button ref="seriesTooltipsToggle"></ag-toggle-button>\n            </ag-group-component>\n        </div>',Ac([i.RefSelector("seriesGroup")],t.prototype,"seriesGroup",void 0),Ac([i.RefSelector("seriesTooltipsToggle")],t.prototype,"seriesTooltipsToggle",void 0),Ac([i.Autowired("chartTranslator")],t.prototype,"chartTranslator",void 0),Ac([i.PostConstruct],t.prototype,"init",null),t}(i.Component),_c=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Mc=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Ic=function(e){function t(t){var o=e.call(this)||this;return o.activePanels=[],o.chartController=t,o}return _c(t,e),t.prototype.init=function(){this.setTemplate(t.TEMPLATE,{seriesGroup:{cssIdentifier:"charts-format-top-level",direction:"vertical"}}),this.seriesGroup.setTitle(this.chartTranslator.translate("series")).toggleGroupExpand(!1).hideEnabledCheckbox(!0),this.initSeriesTooltips(),this.initSeriesStrokeWidth(),this.initOpacity(),this.initLabelPanel(),this.initShadowPanel(),this.initBins()},t.prototype.initSeriesTooltips=function(){var e=this;this.seriesTooltipsToggle.setLabel(this.chartTranslator.translate("tooltips")).setLabelAlignment("left").setLabelWidth("flex").setInputWidth(45).setValue(this.getChartProxy().getSeriesOption("tooltip.enabled")||!1).onValueChange((function(t){return e.getChartProxy().setSeriesOption("tooltip.enabled",t)}))},t.prototype.initSeriesStrokeWidth=function(){var e=this;this.seriesStrokeWidthSlider.setLabel(this.chartTranslator.translate("strokeWidth")).setMaxValue(10).setTextFieldWidth(45).setValue(this.getChartProxy().getSeriesOption("stroke.width")).onValueChange((function(t){return e.getChartProxy().setSeriesOption("stroke.width",t)}))},t.prototype.initOpacity=function(){var e=this;this.seriesLineOpacitySlider.setLabel(this.chartTranslator.translate("strokeOpacity")).setStep(.05).setMaxValue(1).setTextFieldWidth(45).setValue(this.getChartProxy().getSeriesOption("stroke.opacity")||"1").onValueChange((function(t){return e.getChartProxy().setSeriesOption("stroke.opacity",t)})),this.seriesFillOpacitySlider.setLabel(this.chartTranslator.translate("fillOpacity")).setStep(.05).setMaxValue(1).setTextFieldWidth(45).setValue(this.getChartProxy().getSeriesOption("fill.opacity")||"1").onValueChange((function(t){return e.getChartProxy().setSeriesOption("fill.opacity",t)}))},t.prototype.initBins=function(){var e=this;this.seriesBinCountSlider.setLabel(this.chartTranslator.translate("histogramBinCount")).setMinValue(4).setMaxValue(100).setTextFieldWidth(45).setValue(this.getChartProxy().getSeriesOption("binCount")).onValueChange((function(t){return e.getChartProxy().setSeriesOption("binCount",t)}))},t.prototype.initLabelPanel=function(){var e=this,t=this.getChartProxy(),o={family:t.getSeriesOption("label.fontFamily"),style:t.getSeriesOption("label.fontStyle"),weight:t.getSeriesOption("label.fontWeight"),size:t.getSeriesOption("label.fontSize"),color:t.getSeriesOption("label.color")},n={name:this.chartTranslator.translate("labels"),enabled:t.getSeriesOption("label.enabled")||!1,setEnabled:function(t){return e.getChartProxy().setSeriesOption("label.enabled",t)},suppressEnabledCheckbox:!1,initialFont:o,setFont:function(t){var o=e.getChartProxy();t.family&&o.setSeriesOption("label.fontFamily",t.family),t.weight&&o.setSeriesOption("label.fontWeight",t.weight),t.style&&o.setSeriesOption("label.fontStyle",t.style),t.size&&o.setSeriesOption("label.fontSize",t.size),t.color&&o.setSeriesOption("label.color",t.color)}},i=this.createBean(new xl(n));this.activePanels.push(i),this.seriesGroup.addItem(i)},t.prototype.initShadowPanel=function(){var e=this.createBean(new Ml(this.chartController));this.seriesGroup.addItem(e),this.activePanels.push(e)},t.prototype.destroyActivePanels=function(){var e=this;this.activePanels.forEach((function(t){i._.removeFromParent(t.getGui()),e.destroyBean(t)}))},t.prototype.getChartProxy=function(){return this.chartController.getChartProxy()},t.prototype.destroy=function(){this.destroyActivePanels(),e.prototype.destroy.call(this)},t.TEMPLATE='<div>\n            <ag-group-component ref="seriesGroup">\n                <ag-toggle-button ref="seriesTooltipsToggle"></ag-toggle-button>\n                <ag-slider ref="binCountSlider"></ag-slider>\n                <ag-slider ref="seriesStrokeWidthSlider"></ag-slider>\n                <ag-slider ref="seriesLineOpacitySlider"></ag-slider>\n                <ag-slider ref="seriesFillOpacitySlider"></ag-slider>\n            </ag-group-component>\n        </div>',Mc([i.RefSelector("seriesGroup")],t.prototype,"seriesGroup",void 0),Mc([i.RefSelector("seriesTooltipsToggle")],t.prototype,"seriesTooltipsToggle",void 0),Mc([i.RefSelector("binCountSlider")],t.prototype,"seriesBinCountSlider",void 0),Mc([i.RefSelector("seriesStrokeWidthSlider")],t.prototype,"seriesStrokeWidthSlider",void 0),Mc([i.RefSelector("seriesLineOpacitySlider")],t.prototype,"seriesLineOpacitySlider",void 0),Mc([i.RefSelector("seriesFillOpacitySlider")],t.prototype,"seriesFillOpacitySlider",void 0),Mc([i.Autowired("chartTranslator")],t.prototype,"chartTranslator",void 0),Mc([i.PostConstruct],t.prototype,"init",null),t}(i.Component),Lc=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Nc=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},kc=function(e){function t(o){var n=e.call(this,t.TEMPLATE)||this;return n.panels=[],n.chartController=o,n}return Lc(t,e),t.prototype.init=function(){this.createPanels(),this.addManagedListener(this.chartController,wl.EVENT_CHART_UPDATED,this.createPanels.bind(this))},t.prototype.createPanels=function(){var e=this.chartController.getChartType(),t=this.chartController.isGrouping();if(e!==this.chartType||t!==this.isGrouping){switch(this.destroyPanels(),this.addComponent(new Pc(this.chartController)),this.addComponent(new Al(this.chartController)),e){case i.ChartType.GroupedColumn:case i.ChartType.StackedColumn:case i.ChartType.NormalizedColumn:case i.ChartType.GroupedBar:case i.ChartType.StackedBar:case i.ChartType.NormalizedBar:this.addComponent(new Wl(this.chartController)),this.addComponent(new Ul(this.chartController)),this.addComponent(new Nl(this.chartController));break;case i.ChartType.Pie:case i.ChartType.Doughnut:this.addComponent(new pc(this.chartController));break;case i.ChartType.Line:this.addComponent(new Wl(this.chartController)),this.addComponent(new Ul(this.chartController)),this.addComponent(new ac(this.chartController));break;case i.ChartType.Scatter:case i.ChartType.Bubble:this.addComponent(new Wl(this.chartController)),this.addComponent(new Ul(this.chartController)),this.addComponent(new Fc(this.chartController));break;case i.ChartType.Area:case i.ChartType.StackedArea:case i.ChartType.NormalizedArea:this.addComponent(new Wl(this.chartController)),this.addComponent(new Ul(this.chartController)),this.addComponent(new Tc(this.chartController));break;case i.ChartType.Histogram:this.addComponent(new Wl(this.chartController)),this.addComponent(new Ul(this.chartController)),this.addComponent(new Ic(this.chartController));break;default:console.warn("ag-Grid: ChartFormattingPanel - unexpected chart type index: "+e+" supplied")}this.chartType=e,this.isGrouping=t}},t.prototype.addComponent=function(e){this.createBean(e),this.panels.push(e),i._.addCssClass(e.getGui(),"ag-chart-format-section"),this.getGui().appendChild(e.getGui())},t.prototype.destroyPanels=function(){var e=this;this.panels.forEach((function(t){i._.removeFromParent(t.getGui()),e.destroyBean(t)}))},t.prototype.destroy=function(){this.destroyPanels(),e.prototype.destroy.call(this)},t.TEMPLATE='<div class="ag-chart-format-wrapper"></div>',Nc([i.PostConstruct],t.prototype,"init",null),t}(i.Component),Gc=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Vc=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Hc=function(e){function t(t,o){var n=e.call(this)||this;n.size=58,n.padding=5,n.root=new zn;var r=new Bi(window.document,n.size,n.size);return i._.addCssClass(r.canvas.element,"ag-chart-mini-thumbnail-canvas"),r.root=n.root,r.container=t,n.scene=r,n.tooltipName=o,n}return Gc(t,e),t.prototype.init=function(){this.scene.canvas.element.title=this.chartTranslator.translate(this.tooltipName)},Vc([i.Autowired("chartTranslator")],t.prototype,"chartTranslator",void 0),Vc([i.PostConstruct],t.prototype,"init",null),t}(i.Component),Bc=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Wc=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},jc=function(e){function t(t,o){var n=e.call(this,t,o)||this;return n.stroke="gray",n.axisOvershoot=3,n}return Bc(t,e),t.prototype.addAxes=function(){var e=this.size,t=this.padding,o=new Yn;o.x1=t,o.y1=t,o.x2=t,o.y2=e-t+this.axisOvershoot,o.stroke=this.stroke;var n=new Yn;n.x1=t-this.axisOvershoot+1,n.y1=e-t,n.x2=e-t+1,n.y2=e-t,n.stroke=this.stroke;var i=this.root;i.append(o),i.append(n)},Wc([i.PostConstruct],t.prototype,"addAxes",null),t}(Hc),zc=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Uc=function(e){function t(t,o,n){var i=e.call(this,t,"groupedColumnTooltip")||this,r=i.padding,s=i.size,a=new Wn;a.domain=[0,1,2],a.range=[r,s-r],a.paddingInner=.3,a.paddingOuter=.3;var l=Is();l.domain=[0,4],l.range=[s-r,r];var c=l.convert(0),u=a.bandwidth;return i.bars=[2,3,4].map((function(e,t){var o=l.convert(e),n=new ji;return n.x=a.convert(t),n.y=o,n.width=u,n.height=c-o,n.strokeWidth=1,n.crisp=!0,n})),i.updateColors(o,n),i.root.append(i.bars),i}return zc(t,e),t.prototype.updateColors=function(e,t){this.bars.forEach((function(o,n){o.fill=e[n],o.stroke=t[n]}))},t.chartType=i.ChartType.GroupedColumn,t}(jc),$c=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Kc=function(e){function t(o,n,i,r,s,a){void 0===r&&(r=t.data),void 0===s&&(s=[0,16]),void 0===a&&(a="stackedColumnTooltip");var l=e.call(this,o,a)||this,c=l.padding,u=l.size,d=new Wn;d.domain=[0,1,2],d.range=[c,u-c],d.paddingInner=.3,d.paddingOuter=.3;var h=Is();h.domain=s,h.range=[u-c,c];var p=h.convert(0),g=d.bandwidth;return l.bars=r.map((function(e){return e.map((function(e,t){var o=h.convert(e),n=new ji;return n.x=d.convert(t),n.y=o,n.width=g,n.height=p-o,n.strokeWidth=1,n.crisp=!0,n}))})),l.updateColors(n,i),l.root.append([].concat.apply([],l.bars)),l}return $c(t,e),t.prototype.updateColors=function(e,t){this.bars.forEach((function(o,n){return o.forEach((function(o){o.fill=e[n],o.stroke=t[n]}))}))},t.chartType=i.ChartType.StackedColumn,t.data=[[8,12,16],[6,9,12],[2,3,4]],t}(jc),Yc=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),qc=function(e){function t(o,n,i){return e.call(this,o,n,i,t.data,[0,10],"normalizedColumnTooltip")||this}return Yc(t,e),t.chartType=i.ChartType.NormalizedColumn,t.data=[[10,10,10],[6,7,8],[2,4,6]],t}(Kc),Xc=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Qc=function(e){function t(t,o,n){var i=e.call(this,t,"groupedBarTooltip")||this,r=i.padding,s=i.size,a=new Wn;a.domain=[0,1,2],a.range=[r,s-r],a.paddingInner=.3,a.paddingOuter=.3;var l=Is();l.domain=[0,4],l.range=[s-r,r];var c=l.convert(0),u=a.bandwidth;return i.bars=[2,3,4].map((function(e,t){var o=new ji;return o.x=r,o.y=a.convert(t),o.width=c-l.convert(e),o.height=u,o.strokeWidth=1,o.crisp=!0,o})),i.updateColors(o,n),i.root.append(i.bars),i}return Xc(t,e),t.prototype.updateColors=function(e,t){this.bars.forEach((function(o,n){o.fill=e[n],o.stroke=t[n]}))},t.chartType=i.ChartType.GroupedBar,t}(jc),Zc=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Jc=function(e){function t(o,n,i,r,s,a){void 0===r&&(r=t.data),void 0===s&&(s=[0,16]),void 0===a&&(a="stackedBarTooltip");var l=e.call(this,o,a)||this,c=l.size,u=l.padding,d=new Wn;d.domain=[0,1,2],d.range=[u,c-u],d.paddingInner=.3,d.paddingOuter=.3;var h=Is();h.domain=s,h.range=[c-u,u];var p=h.convert(0),g=d.bandwidth;return l.bars=r.map((function(e){return e.map((function(e,t){var o=new ji;return o.x=u,o.y=d.convert(t),o.width=p-h.convert(e),o.height=g,o.strokeWidth=1,o.crisp=!0,o}))})),l.updateColors(n,i),l.root.append([].concat.apply([],l.bars)),l}return Zc(t,e),t.prototype.updateColors=function(e,t){this.bars.forEach((function(o,n){return o.forEach((function(o){o.fill=e[n],o.stroke=t[n]}))}))},t.chartType=i.ChartType.StackedBar,t.data=[[8,12,16],[6,9,12],[2,3,4]],t}(jc),eu=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),tu=function(e){function t(o,n,i){return e.call(this,o,n,i,t.data,[0,10],"normalizedBarTooltip")||this}return eu(t,e),t.chartType=i.ChartType.NormalizedBar,t.data=[[10,10,10],[6,7,8],[2,4,6]],t}(Jc),ou=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),nu=function(e){function t(t,o,n,i,r){void 0===i&&(i=.6),void 0===r&&(r="doughnutTooltip");var s=e.call(this,t,r)||this,a=(s.size-2*s.padding)/2,l=a+s.padding,c=[[Qn(-90),Qn(30)],[Qn(30),Qn(120)],[Qn(120),Qn(180)],[Qn(180),Qn(210)],[Qn(210),Qn(240)],[Qn(240),Qn(270)]];return s.sectors=c.map((function(e){var t=e[0],o=e[1],n=new Ys;return n.centerX=l,n.centerY=l,n.innerRadius=a*i,n.outerRadius=a,n.startAngle=t,n.endAngle=o,n.stroke=void 0,n})),s.updateColors(o,n),s.root.append(s.sectors),s}return ou(t,e),t.prototype.updateColors=function(e,t){this.sectors.forEach((function(o,n){o.fill=e[n%e.length],o.stroke=t[n%t.length]}))},t.chartType=i.ChartType.Doughnut,t}(Hc),iu=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),ru=function(e){function t(t,o,n){return e.call(this,t,o,n,0,"pieTooltip")||this}return iu(t,e),t.chartType=i.ChartType.Pie,t}(nu),su=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),au=function(e){function t(t,o,n){var i=e.call(this,t,"lineTooltip")||this,r=i.size,s=i.padding,a=Is();a.domain=[0,4],a.range=[s,r-s];var l=Is();l.domain=[0,10],l.range=[r-s,s];i.lines=[[9,7,8,5,6],[5,6,3,4,1],[1,3,4,8,7]].map((function(e){var t=new ri;return t.strokeWidth=3,t.lineCap="round",t.fill=void 0,e.forEach((function(e,o){t.path[o>0?"lineTo":"moveTo"](a.convert(o),l.convert(e))})),t})),i.updateColors(o,n);var c=new Dr;return c.x=c.y=s,c.width=c.height=r-2*s,c.append(i.lines),i.root.append(c),i}return su(t,e),t.prototype.updateColors=function(e,t){this.lines.forEach((function(t,o){t.stroke=e[o]}))},t.chartType=i.ChartType.Line,t}(jc),lu=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),cu=function(e){function t(t,o,n){var i=e.call(this,t,"scatterTooltip")||this,r=i.size,s=i.padding,a=Is();a.domain=[-.5,4],a.range=[2*s,r-s];var l=Is();l.domain=[-.5,3.5],l.range=[r-s,s];var c=[];[[[.3,3],[1.1,.9],[2,.4],[3.4,2.4]],[[0,.3],[1,2],[2.4,1.4],[3,0]]].forEach((function(e){e.forEach((function(e){var t=e[0],o=e[1],n=new di;n.strokeWidth=1,n.centerX=a.convert(t),n.centerY=l.convert(o),n.radiusX=n.radiusY=2.5,c.push(n)}))})),i.points=c,i.updateColors(o,n);var u=new Dr;return u.x=u.y=s,u.width=u.height=r-2*s,u.append(i.points),i.root.append(u),i}return lu(t,e),t.prototype.updateColors=function(e,t){this.points.forEach((function(o,n){o.stroke=t[n%t.length],o.fill=e[n%e.length]}))},t.chartType=i.ChartType.Scatter,t}(jc),uu=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),du=function(e){function t(t,o,n){var i=e.call(this,t,"bubbleTooltip")||this,r=i.size,s=i.padding,a=Is();a.domain=[0,1],a.range=[2*s,r-s];var l=Is();l.domain=[0,1],l.range=[r-s,s];var c=[];[[[.1,.3,5],[.5,.4,7],[.2,.8,7]],[[.8,.7,5],[.7,.3,9]]].forEach((function(e){e.forEach((function(e){var t=e[0],o=e[1],n=e[2],i=new di;i.strokeWidth=1,i.centerX=a.convert(t),i.centerY=l.convert(o),i.radiusX=i.radiusY=n,i.fillOpacity=.7,c.push(i)}))})),i.points=c,i.updateColors(o,n);var u=new Dr;return u.x=s,u.y=s,u.width=r-2*s,u.height=r-2*s,u.append(i.points),i.root.append(u),i}return uu(t,e),t.prototype.updateColors=function(e,t){this.points.forEach((function(o,n){o.stroke=t[n%t.length],o.fill=e[n%e.length]}))},t.chartType=i.ChartType.Bubble,t}(jc),hu=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),pu=function(e){function t(o,n,i,r){void 0===r&&(r=t.data);var s=e.call(this,o,"groupedAreaTooltip")||this,a=s.size,l=s.padding,c=new Wn;c.domain=[0,1,2],c.paddingInner=1,c.paddingOuter=0,c.range=[l+.5,a-l-.5];var u=Is();u.domain=[0,6],u.range=[a-l+.5,l];var d=2*r.length-1,h=[],p=u.convert(0);return r.forEach((function(e,t){var o=c.convert(t);e.forEach((function(e,n){var i=u.convert(e),r=h[n]||(h[n]=[]);r[t]={x:o,y:i},r[d-t]={x:o,y:p}}))})),s.areas=h.reverse().map((function(e){var t=new ri;t.strokeWidth=1,t.fillOpacity=.7;var o=t.path;return o.clear(),e.forEach((function(e,t){return o[t>0?"lineTo":"moveTo"](e.x,e.y)})),o.closePath(),t})),s.updateColors(n,i),s.root.append(s.areas),s}return hu(t,e),t.prototype.updateColors=function(e,t){this.areas.forEach((function(o,n){o.fill=e[n],o.stroke=t[n]}))},t.chartType=i.ChartType.Area,t.data=[[1,3,5],[2,6,4],[5,3,1]],t}(jc),gu=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),fu=function(e){function t(o,n,i,r,s){void 0===r&&(r=t.data),void 0===s&&(s="stackedAreaTooltip");var a=e.call(this,o,s)||this,l=a.size,c=a.padding,u=new Wn;u.domain=[0,1,2],u.paddingInner=1,u.paddingOuter=0,u.range=[c+.5,l-c-.5];var d=Is();d.domain=[0,16],d.range=[l-c+.5,c+.5];var h=2*r.length-1,p=[];return r.forEach((function(e,t){var o=u.convert(t),n=0;e.forEach((function(e,i){var r=d.convert(n+e),s=p[i]||(p[i]=[]);s[t]={x:o,y:r},s[h-t]={x:o,y:d.convert(n)},n+=e}))})),a.areas=p.map((function(e){var t=new ri;t.strokeWidth=1;var o=t.path;return o.clear(),e.forEach((function(e,t){return o[t>0?"lineTo":"moveTo"](e.x,e.y)})),o.closePath(),t})),a.updateColors(n,i),a.root.append(a.areas),a}return gu(t,e),t.prototype.updateColors=function(e,t){this.areas.forEach((function(o,n){o.fill=e[n],o.stroke=t[n]}))},t.chartType=i.ChartType.StackedArea,t.data=[[2,3,2],[3,6,5],[6,2,2]],t}(jc),mu=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),vu=function(e){function t(o,n,i,r){return void 0===r&&(r=t.data),e.call(this,o,n,i,r,"normalizedAreaTooltip")||this}return mu(t,e),t.chartType=i.ChartType.NormalizedArea,t.data=fu.data.map((function(e){var t=e.reduce((function(e,t){return e+t}),0);return e.map((function(e){return e/t*16}))})),t}(fu),yu=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Cu=function(e){function t(t,o,n){var i=e.call(this,t,"histogramTooltip")||this,r=i.padding,s=i.size,a=[2,5,11,13,10,6,1],l=Is();l.domain=[0,a.length],l.range=[r,s-r];var c=Is();c.domain=[0,a.reduce((function(e,t){return Math.max(e,t)}),0)],c.range=[s-r,r];var u=c.convert(0);return i.bars=a.map((function(e,t){var o=c.convert(e),n=l.convert(t),i=l.convert(t+1),r=new ji;return r.x=n,r.y=o,r.width=i-n,r.height=u-o,r.strokeWidth=1,r.crisp=!0,r})),i.updateColors(o,n),i.root.append(i.bars),i}return yu(t,e),t.prototype.updateColors=function(e,t){var o=e[0],n=t[0];this.bars.forEach((function(e){e.fill=o,e.stroke=n}))},t.chartType=i.ChartType.Histogram,t}(jc),wu=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),bu=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Su=function(e){function t(o,n,i){var r=e.call(this,t.TEMPLATE)||this;return r.wrappers={},r.chartController=o,r.fills=n,r.strokes=i,r}return wu(t,e),t.prototype.init=function(){var e=this,t={columnGroup:[Uc,Kc,qc],barGroup:[Qc,Jc,tu],pieGroup:[ru,nu],lineGroup:[au],scatterGroup:[cu,du],areaGroup:[pu,fu,vu],histogramGroup:[Cu]},o=this.getGui();Object.keys(t).forEach((function(n){var r=t[n],s=e.createBean(new i.AgGroupComponent({title:e.chartTranslator.translate(n),suppressEnabledCheckbox:!0,enabled:!0,suppressOpenCloseIcons:!0,cssIdentifier:"charts-settings",direction:"horizontal"}));r.forEach((function(t){var o=document.createElement("div");i._.addCssClass(o,"ag-chart-mini-thumbnail"),e.addManagedListener(o,"click",(function(){e.chartController.setChartType(t.chartType),e.refreshSelected()})),e.wrappers[t.chartType]=o,e.createBean(new t(o,e.fills,e.strokes)),s.addItem(o)})),o.appendChild(s.getGui())})),this.refreshSelected()},t.prototype.refreshSelected=function(){var e=this.chartController.getChartType();for(var t in this.wrappers)i._.addOrRemoveCssClass(this.wrappers[t],"ag-selected",t===e)},t.TEMPLATE='<div class="ag-chart-settings-mini-wrapper"></div>',bu([i.Autowired("chartTranslator")],t.prototype,"chartTranslator",void 0),bu([i.PostConstruct],t.prototype,"init",null),t}(i.Component),Eu=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Ru=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Pu=function(e){function t(o){var n=e.call(this,t.TEMPLATE)||this;return n.miniCharts=[],n.cardItems=[],n.chartController=o,n}return Eu(t,e),t.prototype.postConstruct=function(){this.resetPalettes(),this.ePrevBtn.insertAdjacentElement("afterbegin",i._.createIconNoSpan("previous",this.gridOptionsWrapper)),this.eNextBtn.insertAdjacentElement("afterbegin",i._.createIconNoSpan("next",this.gridOptionsWrapper)),this.addManagedListener(this.ePrevBtn,"click",this.prev.bind(this)),this.addManagedListener(this.eNextBtn,"click",this.next.bind(this)),this.addManagedListener(this.chartController,wl.EVENT_CHART_UPDATED,this.resetPalettes.bind(this))},t.prototype.resetPalettes=function(){var e=this,t=this.chartController.getPalettes();if(t!==this.palettes){this.palettes=t,this.activePalette=this.chartController.getPaletteName(),this.palettes.has(this.activePalette)||(this.activePalette=void 0),this.paletteNames=[],this.cardItems=[],i._.clearElement(this.eCardSelector),this.destroyMiniCharts(),this.palettes.forEach((function(t,o){e.activePalette||(e.activePalette=o),e.paletteNames.push(o);var n=e.activePalette===o,r=t.fills,s=t.strokes,a=e.createBean(new Su(e.chartController,r,s));e.miniCharts.push(a),e.eMiniChartsContainer.appendChild(a.getGui()),e.addCardLink(o),n?a.refreshSelected():i._.addCssClass(a.getGui(),"ag-hidden")})),i._.addOrRemoveCssClass(this.eNavBar,"ag-hidden",this.palettes.size<=1);var o=this.paletteNames.indexOf(this.activePalette);i._.radioCssClass(this.cardItems[o],"ag-selected","ag-not-selected")}},t.prototype.addCardLink=function(e){var t=this,o=document.createElement("div");i._.addCssClass(o,"ag-chart-settings-card-item"),this.addManagedListener(o,"click",(function(){var o=t,n=o.activePalette,i=o.isAnimating,r=o.paletteNames;e===n||i||t.setActivePalette(e,r.indexOf(e)<r.indexOf(n)?"left":"right")})),this.eCardSelector.appendChild(o),this.cardItems.push(o)},t.prototype.getPrev=function(){var e=this.paletteNames.indexOf(this.activePalette)-1;return e<0&&(e=this.paletteNames.length-1),e},t.prototype.prev=function(){this.isAnimating||this.setActivePalette(this.paletteNames[this.getPrev()],"left")},t.prototype.getNext=function(){var e=this.paletteNames.indexOf(this.activePalette)+1;return e>=this.paletteNames.length&&(e=0),e},t.prototype.next=function(){this.isAnimating||this.setActivePalette(this.paletteNames[this.getNext()],"right")},t.prototype.setActivePalette=function(e,t){var o=this,n=this.paletteNames.indexOf(e);i._.radioCssClass(this.cardItems[n],"ag-selected","ag-not-selected");var r=this.miniCharts[this.paletteNames.indexOf(this.activePalette)],s=r.getGui(),a=this.miniCharts[n],l=a.getGui();r.refreshSelected(),a.refreshSelected();var c="left"===t?-1:1,u=l.style.left=i._.getAbsoluteWidth(this.getGui())*c+"px";i._.removeCssClass(l,"ag-hidden"),i._.addCssClass(s,"ag-animating"),i._.addCssClass(l,"ag-animating"),this.activePalette=e,this.chartController.setChartPaletteName(this.activePalette),this.isAnimating=!0,window.setTimeout((function(){s.style.left=-1*parseFloat(u)+"px",l.style.left="0px"}),50),window.setTimeout((function(){o.isAnimating=!1,i._.removeCssClass(s,"ag-animating"),i._.removeCssClass(l,"ag-animating"),i._.addCssClass(s,"ag-hidden")}),500)},t.prototype.destroyMiniCharts=function(){i._.clearElement(this.eMiniChartsContainer),this.miniCharts=this.destroyBeans(this.miniCharts)},t.prototype.destroy=function(){this.destroyMiniCharts(),e.prototype.destroy.call(this)},t.TEMPLATE='<div class="ag-chart-settings-wrapper">\n            <div ref="eMiniChartsContainer" class="ag-chart-settings-mini-charts-container"></div>\n            <div ref="eNavBar" class="ag-chart-settings-nav-bar">\n                <div ref="ePrevBtn" class="ag-chart-settings-prev">\n                    <button type="button" class="ag-chart-settings-prev-button"></button>\n                </div>\n                <div ref="eCardSelector" class="ag-chart-settings-card-selector"></div>\n                <div ref="eNextBtn" class="ag-chart-settings-next">\n                    <button type="button" class="ag-chart-settings-next-button"></button>\n                </div>\n            </div>\n        </div>',Ru([i.Autowired("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),Ru([i.RefSelector("eMiniChartsContainer")],t.prototype,"eMiniChartsContainer",void 0),Ru([i.RefSelector("eNavBar")],t.prototype,"eNavBar",void 0),Ru([i.RefSelector("eCardSelector")],t.prototype,"eCardSelector",void 0),Ru([i.RefSelector("ePrevBtn")],t.prototype,"ePrevBtn",void 0),Ru([i.RefSelector("eNextBtn")],t.prototype,"eNextBtn",void 0),Ru([i.PostConstruct],t.prototype,"postConstruct",null),t}(i.Component),Ou=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),xu=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Tu=function(e){function t(t){var o=e.call(this)||this;o.tabs=[],o.chartIcons={};var n=t.controller,i=t.type,r=t.panels;return o.chartController=n,o.currentChartType=i,o.panels=r,o}return Ou(t,e),t.prototype.init=function(){var e=this;this.panels.forEach((function(t){var o=t.replace("chart","").toLowerCase(),n=e.createTab(t,o,e.getPanelClass(o)),i=n.comp,r=n.tab;e.tabs.push(r),e.addDestroyFunc((function(){return e.destroyBean(i)}))})),this.tabbedLayout=new i.TabbedLayout({items:this.tabs,cssClass:"ag-chart-tabbed-menu"}),this.getContext().createBean(this.tabbedLayout)},t.prototype.createTab=function(e,t,o){var n=document.createElement("div");i._.addCssClass(n,"ag-chart-tab"),i._.addCssClass(n,"ag-chart-"+t);var r=new o(this.chartController);this.getContext().createBean(r),n.appendChild(r.getGui());var s=document.createElement("div"),a=this.chartTranslator.translate(t);return s.innerText=a,{comp:r,tab:{title:s,titleLabel:a,bodyPromise:i.Promise.resolve(n),name:e}}},t.prototype.getMinDimensions=function(){return this.tabbedLayout.getMinDimensions()},t.prototype.updateCurrentChartType=function(e){i._.removeCssClass(this.chartIcons[this.currentChartType],"ag-selected"),this.currentChartType=e,i._.addCssClass(this.chartIcons[e],"ag-selected")},t.prototype.showTab=function(e){var t=this.tabs[e];this.tabbedLayout.showItem(t)},t.prototype.getGui=function(){return this.tabbedLayout&&this.tabbedLayout.getGui()},t.prototype.destroy=function(){this.parentComponent&&this.parentComponent.isAlive()&&this.destroyBean(this.parentComponent),e.prototype.destroy.call(this)},t.prototype.getPanelClass=function(e){switch(e){case t.TAB_DATA:return Rl;case t.TAB_FORMAT:return kc;default:return Pu}},t.EVENT_TAB_SELECTED="tabSelected",t.TAB_MAIN="settings",t.TAB_DATA="data",t.TAB_FORMAT="format",xu([i.Autowired("chartTranslator")],t.prototype,"chartTranslator",void 0),xu([i.PostConstruct],t.prototype,"init",null),t}(i.Component),Du=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Au=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Fu=function(e){function t(o,n,i){var r=e.call(this,t.TEMPLATE)||this;return r.eChartContainer=o,r.eMenuPanelContainer=n,r.chartController=i,r.buttons={chartSettings:["menu",function(){return r.showMenu("chartSettings")}],chartData:["menu",function(){return r.showMenu("chartData")}],chartFormat:["menu",function(){return r.showMenu("chartFormat")}],chartUnlink:["linked",function(e){return r.toggleDetached(e)}],chartDownload:["save",function(){return r.saveChart()}]},r.tabs=[],r.menuVisible=!1,r}return Du(t,e),t.prototype.postConstruct=function(){this.createButtons(),this.refreshMenuClasses()},t.prototype.isVisible=function(){return this.menuVisible},t.prototype.getToolbarOptions=function(){var e=this,t=["chartSettings","chartData","chartFormat","chartUnlink","chartDownload"],o=this.gridOptionsWrapper.getChartToolbarItemsFunc();o&&(t=o({api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),defaultItems:t}).filter((function(t){return!!e.buttons[t]||(console.warn("ag-Grid: '"+t+" is not a valid Chart Toolbar Option"),!1)})));this.chartController.isPivotChart()&&(t=t.filter((function(e){return"chartData"!==e})));var n=["chartUnlink","chartDownload"];return this.tabs=t.filter((function(e){return-1===n.indexOf(e)})),t.filter((function(t){return-1!==n.indexOf(t)||e.tabs.length&&t===e.tabs[0]}))},t.prototype.toggleDetached=function(e){var t=e.target,o=i._.containsClass(t,"ag-icon-linked");i._.addOrRemoveCssClass(t,"ag-icon-linked",!o),i._.addOrRemoveCssClass(t,"ag-icon-unlinked",o),this.chartController.detachChartRange()},t.prototype.createButtons=function(){var e=this,t=this.getToolbarOptions(),o=this.getGui();t.forEach((function(t){var n=e.buttons[t],r=n[0],s=n[1],a=i._.createIconNoSpan(r,e.gridOptionsWrapper,void 0,!0);i._.addCssClass(a,"ag-chart-menu-icon"),e.addManagedListener(a,"click",s),o.appendChild(a)}))},t.prototype.saveChart=function(){var e={type:t.EVENT_DOWNLOAD_CHART};this.dispatchEvent(e)},t.prototype.createMenuPanel=function(e){var t=this,o=this.gridOptionsWrapper.chartMenuPanelWidth(),n=this.menuPanel=this.createBean(new i.AgPanel({minWidth:o,width:o,height:"100%",closable:!0,hideTitleBar:!0,cssIdentifier:"chart-menu"}));return n.setParentComponent(this),this.eMenuPanelContainer.appendChild(n.getGui()),this.tabbedMenu=this.createBean(new Tu({controller:this.chartController,type:this.chartController.getChartType(),panels:this.tabs})),this.addManagedListener(n,i.Component.EVENT_DESTROYED,(function(){return t.destroyBean(t.tabbedMenu)})),new i.Promise((function(o){window.setTimeout((function(){n.setBodyComponent(t.tabbedMenu),t.tabbedMenu.showTab(e),t.addManagedListener(t.eChartContainer,"click",(function(e){t.getGui().contains(e.target)||t.menuVisible&&t.hideMenu()})),o(n)}),100)}))},t.prototype.showContainer=function(){this.menuPanel&&(this.menuVisible=!0,this.showParent(this.menuPanel.getWidth()),this.refreshMenuClasses())},t.prototype.showMenu=function(e){var t=this.tabs.indexOf(e);this.menuPanel?this.showContainer():this.createMenuPanel(t).then(this.showContainer.bind(this))},t.prototype.hideMenu=function(){var e=this;this.hideParent(),window.setTimeout((function(){e.menuVisible=!1,e.refreshMenuClasses()}),500)},t.prototype.refreshMenuClasses=function(){i._.addOrRemoveCssClass(this.eChartContainer,"ag-chart-menu-visible",this.menuVisible),i._.addOrRemoveCssClass(this.eChartContainer,"ag-chart-menu-hidden",!this.menuVisible)},t.prototype.showParent=function(e){this.eMenuPanelContainer.style.minWidth=e+"px"},t.prototype.hideParent=function(){this.eMenuPanelContainer.style.minWidth="0"},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.menuPanel&&this.menuPanel.isAlive()&&this.destroyBean(this.menuPanel)},t.EVENT_DOWNLOAD_CHART="downloadChart",t.TEMPLATE='<div class="ag-chart-menu"></div>',Au([i.Autowired("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),Au([i.PostConstruct],t.prototype,"postConstruct",null),t}(i.Component),_u=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Mu=function(){return Mu=Object.assign||function(e){for(var t,o=1,n=arguments.length;o<n;o++)for(var i in t=arguments[o])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Mu.apply(this,arguments)},Iu=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Lu=function(e){function t(o){var n=e.call(this,t.TEMPLATE)||this;return n.chartMenu=o,n}return _u(t,e),t.prototype.init=function(){var e=this;this.addManagedListener(this.getGui(),"keypress",(function(t){"Enter"===t.key&&e.endEditing()})),this.addManagedListener(this.getGui(),"blur",this.endEditing.bind(this))},t.prototype.setChartProxy=function(e){var t=this;if(this.chartProxy){for(var o=0;o++;o<this.destroyableChartListeners.length)this.destroyableChartListeners[o]();this.destroyableChartListeners=[]}this.chartProxy=e;var n=this.chartProxy.getChart(),i=n.scene.canvas.element,r=this.addManagedListener(i,"dblclick",(function(e){var o=n.title;if(o&&o.node.containsPoint(e.offsetX,e.offsetY)){var i=o.node.computeBBox(),r=o.node.inverseTransformPoint(i.x,i.y);t.startEditing(Mu(Mu({},i),r))}})),s=this.addManagedListener(i,"mousemove",(function(e){var t=n.title,o=t&&t.node.containsPoint(e.offsetX,e.offsetY);i.style.cursor=o?"pointer":""}));this.destroyableChartListeners=[r,s]},t.prototype.startEditing=function(e){if(!this.chartMenu.isVisible()){var t=this.chartProxy.getChart().width,o=Math.max(Math.min(e.width+20,t),300),n=this.getGui();i._.addCssClass(n,"currently-editing");var r=n.style;r.fontFamily=this.chartProxy.getTitleOption("fontFamily"),r.fontWeight=this.chartProxy.getTitleOption("fontWeight"),r.fontStyle=this.chartProxy.getTitleOption("fontStyle"),r.fontSize=this.chartProxy.getTitleOption("fontSize")+"px",r.color=this.chartProxy.getTitleOption("color");var s=this.chartProxy.getTitleOption("text"),a=s===this.chartTranslator.translate("titlePlaceholder")?"":s;n.value=a;var l=n.getBoundingClientRect();r.left=Math.round(e.x+e.width/2-o/2)+"px",r.top=Math.round(e.y+e.height/2-l.height/2)+"px",r.width=Math.round(o)+"px",n.focus()}},t.prototype.endEditing=function(){var e=this.getGui().value;this.chartProxy.setTitleOption("text",e),this.eventService.dispatchEvent({type:"chartTitleEdit"}),i._.removeCssClass(this.getGui(),"currently-editing")},t.TEMPLATE='<input\n            class="ag-chart-title-edit"\n            style="padding:0; border:none; border-radius: 0; min-height: 0; text-align: center;" />\n        ',Iu([i.Autowired("chartTranslator")],t.prototype,"chartTranslator",void 0),Iu([i.PostConstruct],t.prototype,"init",null),t}(i.Component),Nu=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),ku=function(){return ku=Object.assign||function(e){for(var t,o=1,n=arguments.length;o<n;o++)for(var i in t=arguments[o])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},ku.apply(this,arguments)},Gu=function(e){function t(t){var o=e.call(this,t)||this;return o.initChartOptions(),o.recreateChart(),o}return Nu(t,e),t.prototype.createChart=function(e){var t,o=this.chartProxyParams,n=o.grouping,i=o.parentElement;t=this.isColumnChart()?n?"createGroupedColumnChart":"createColumnChart":n?"createGroupedBarChart":"createBarChart";var r=Za[t](i,e||this.chartOptions),s=Za.createSeries(this.getSeriesDefaults());return s&&(s.flipXY=!this.isColumnChart(),r.addSeries(s)),r},t.prototype.update=function(e){this.chartProxyParams.grouping=e.grouping,this.updateAxes("category",!this.isColumnChart());var t=this.chart.series[0],o=this.getPalette(),n=o.fills,i=o.strokes;t.data=this.transformData(e.data,e.category.id),t.xKey=e.category.id,t.xName=e.category.name,t.yKeys=e.fields.map((function(e){return e.colId})),t.yNames=e.fields.map((function(e){return e.displayName})),t.fills=n,t.strokes=i,this.updateLabelRotation(e.category.id,!this.isColumnChart())},t.prototype.getDefaultOptions=function(){var e=this.isColumnChart(),t=this.getDefaultFontOptions(),o=this.getDefaultCartesianChartOptions();return o.xAxis.label.rotation=e?335:0,o.yAxis.label.rotation=e?0:335,o.seriesDefaults=ku(ku({},o.seriesDefaults),{tooltip:{enabled:!0},label:ku(ku({},t),{enabled:!1}),shadow:this.getDefaultDropShadowOptions()}),o},t.prototype.isColumnChart=function(){return i._.includes([i.ChartType.GroupedColumn,i.ChartType.StackedColumn,i.ChartType.NormalizedColumn],this.chartType)},t.prototype.getSeriesDefaults=function(){var e=this.chartType,t=e===i.ChartType.GroupedColumn||e===i.ChartType.GroupedBar,o=e===i.ChartType.NormalizedColumn||e===i.ChartType.NormalizedBar;return ku(ku({},this.chartOptions.seriesDefaults),{type:"bar",grouped:t,normalizedTo:o?100:void 0})},t}(Xl),Vu=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Hu=function(){return Hu=Object.assign||function(e){for(var t,o=1,n=arguments.length;o<n;o++)for(var i in t=arguments[o])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Hu.apply(this,arguments)},Bu=function(e){function t(t){var o=e.call(this,t)||this;return o.initChartOptions(),o.recreateChart(),o}return Vu(t,e),t.prototype.createChart=function(e){var t=this.chartProxyParams,o=t.grouping,n=t.parentElement,i=Za[o?"createGroupedAreaChart":"createAreaChart"](n,e||this.chartOptions);return i.axes.filter((function(e){return e.position===pi.Bottom&&e instanceof bi})).forEach((function(e){e.scale.paddingInner=1,e.scale.paddingOuter=0})),i},t.prototype.update=function(e){if(this.chartProxyParams.grouping=e.grouping,this.updateAxes(),this.chartType===i.ChartType.Area)this.updateAreaChart(e);else{var t=this.chart.series[0];if(!t){if(!(t=Za.createSeries(this.getSeriesDefaults())))return;this.chart.addSeries(t)}var o=this.getPalette(),n=o.fills,r=o.strokes;t.data=this.transformData(e.data,e.category.id),t.xKey=e.category.id,t.xName=e.category.name,t.yKeys=e.fields.map((function(e){return e.colId})),t.yNames=e.fields.map((function(e){return e.displayName})),t.fills=n,t.strokes=r}this.updateLabelRotation(e.category.id)},t.prototype.updateAreaChart=function(e){var t=this,o=this.chart;if(0!==e.fields.length){var n=e.fields.map((function(e){return e.colId})),i=this.getPalette(),r=i.fills,s=i.strokes,a=o.series.reduceRight((function(e,t,i){var r=t.yKeys[0];return n.indexOf(r)===i?e.set(r,t):o.removeSeries(t),e}),new Map),l=this.transformData(e.data,e.category.id),c=void 0;e.fields.forEach((function(n,i){var u=a.get(n.colId),d=r[i%r.length],h=s[i%s.length];if(u)u.data=l,u.xKey=e.category.id,u.xName=e.category.name,u.yKeys=[n.colId],u.yNames=[n.displayName],u.fills=[d],u.strokes=[h];else{var p=t.getSeriesDefaults(),g=Hu(Hu({},p),{data:l,field:{xKey:e.category.id,xName:e.category.name,yKeys:[n.colId],yNames:[n.displayName]},fill:Hu(Hu({},p.fill),{colors:[d]}),stroke:Hu(Hu({},p.stroke),{colors:[h]})});u=Za.createSeries(g),o.addSeriesAfter(u,c)}c=u}))}else o.removeAllSeries()},t.prototype.getDefaultOptions=function(){var e=this.getDefaultCartesianChartOptions();return e.xAxis.label.rotation=335,e.seriesDefaults=Hu(Hu({},e.seriesDefaults),{fill:Hu(Hu({},e.seriesDefaults.fill),{opacity:this.chartType===i.ChartType.Area?.7:1}),stroke:Hu(Hu({},e.seriesDefaults.stroke),{width:3}),marker:{shape:"circle",enabled:!0,size:6,strokeWidth:1},tooltip:{enabled:!0},shadow:this.getDefaultDropShadowOptions()}),e},t.prototype.getSeriesDefaults=function(){return Hu(Hu({},this.chartOptions.seriesDefaults),{type:"area",normalizedTo:this.chartType===i.ChartType.NormalizedArea?100:void 0})},t}(Xl),Wu=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),ju=function(){return ju=Object.assign||function(e){for(var t,o=1,n=arguments.length;o<n;o++)for(var i in t=arguments[o])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},ju.apply(this,arguments)},zu=function(e){function t(t){var o=e.call(this,t)||this;return o.initChartOptions(),o.recreateChart(),o}return Wu(t,e),t.prototype.createChart=function(e){var t=this.chartProxyParams,o=t.grouping,n=t.parentElement;return Za[o?"createGroupedLineChart":"createLineChart"](n,e||this.chartOptions)},t.prototype.update=function(e){var t=this;if(this.chartProxyParams.grouping=e.grouping,0!==e.fields.length){var o=e.data[0],n=o&&o[e.category.id];this.updateAxes(Ql(n)?"time":"category");var i=this.chart,r=e.fields.map((function(e){return e.colId})),s=this.getPalette(),a=s.fills,l=s.strokes,c=this.transformData(e.data,e.category.id),u=i.series.reduceRight((function(e,t,o){var n=t.yKey;return r.indexOf(n)===o?e.set(n,t):i.removeSeries(t),e}),new Map),d=void 0;e.fields.forEach((function(o,n){var r=u.get(o.colId),s=a[n%a.length],h=l[n%l.length];if(r)r.title=o.displayName,r.data=c,r.xKey=e.category.id,r.xName=e.category.name,r.yKey=o.colId,r.yName=o.displayName,r.marker.fill=s,r.marker.stroke=h,r.stroke=s;else{var p=t.chartOptions.seriesDefaults,g=ju(ju({},p),{type:"line",title:o.displayName,data:c,field:{xKey:e.category.id,xName:e.category.name,yKey:o.colId,yName:o.displayName},fill:ju(ju({},p.fill),{color:s}),stroke:ju(ju({},p.stroke),{color:s}),marker:ju(ju({},p.marker),{stroke:h})});r=Za.createSeries(g),i.addSeriesAfter(r,d)}d=r})),this.updateLabelRotation(e.category.id)}else this.chart.removeAllSeries()},t.prototype.getDefaultOptions=function(){var e=this.getDefaultCartesianChartOptions();return e.xAxis.label.rotation=335,e.seriesDefaults=ju(ju({},e.seriesDefaults),{stroke:ju(ju({},e.seriesDefaults.stroke),{width:3}),marker:{enabled:!0,shape:"circle",size:6,strokeWidth:1},tooltip:{enabled:!0}}),e},t}(Xl),Uu=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),$u=function(e){function t(t){return e.call(this,t)||this}return Uu(t,e),t}(Kl),Ku=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Yu=function(){return Yu=Object.assign||function(e){for(var t,o=1,n=arguments.length;o<n;o++)for(var i in t=arguments[o])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Yu.apply(this,arguments)},qu=function(e){function t(t){var o=e.call(this,t)||this;return o.initChartOptions(),o.recreateChart(),o}return Ku(t,e),t.prototype.createChart=function(e){return Za.createPieChart(this.chartProxyParams.parentElement,e||this.chartOptions)},t.prototype.update=function(e){var t=this.chart;if(0!==e.fields.length){var o=t.series[0],n=o&&o.angleKey,i=e.fields[0],r=this.getPalette(),s=r.fills,a=r.strokes,l=this.chartOptions.seriesDefaults,c=o,u=l.callout&&l.callout.colors;if(n!==i.colId){t.removeSeries(o);var d=Yu(Yu({},l),{type:"pie",field:{angleKey:i.colId},title:Yu(Yu({},l.title),{text:l.title.text||e.fields[0].displayName})});c=Za.createSeries(d)}c.angleName=i.displayName,c.labelKey=e.category.id,c.labelName=e.category.name,c.data=e.data,c.fills=s,c.strokes=a,u&&(c.callout.colors=u),t.addSeries(c)}else t.removeAllSeries()},t.prototype.getDefaultOptions=function(){var e=this.getPredefinedPalette().strokes,t=this.getDefaultChartOptions(),o=this.getDefaultFontOptions();return t.seriesDefaults=Yu(Yu({},t.seriesDefaults),{title:Yu(Yu({},o),{enabled:!1,fontSize:12,fontWeight:"bold"}),callout:{colors:e,length:10,strokeWidth:2},label:Yu(Yu({},o),{enabled:!1,offset:3,minRequiredAngle:0}),tooltip:{enabled:!0},shadow:this.getDefaultDropShadowOptions()}),t},t}($u),Xu=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Qu=function(){return Qu=Object.assign||function(e){for(var t,o=1,n=arguments.length;o<n;o++)for(var i in t=arguments[o])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Qu.apply(this,arguments)},Zu=function(e){function t(t){var o=e.call(this,t)||this;return o.initChartOptions(),o.recreateChart(),o}return Xu(t,e),t.prototype.createChart=function(e){return Za.createDoughnutChart(this.chartProxyParams.parentElement,e||this.chartOptions)},t.prototype.update=function(e){if(0!==e.fields.length){var t=this.chart,o=e.fields.map((function(e){return e.colId})),n={};t.series.forEach((function(e){var t=e,r=t.angleKey;i._.includes(o,r)&&(n[r]=t)}));var r=this.chartOptions.seriesDefaults,s=this.getPalette(),a=s.fills,l=s.strokes,c=0;e.fields.forEach((function(o,i){var s=n[o.colId],u=Qu(Qu({},r),{type:"pie",field:{angleKey:o.colId},showInLegend:0===i,title:Qu(Qu({},r.title),{text:r.title.text||o.displayName})}),d=u.callout&&u.callout.colors,h=s||Za.createSeries(u);h.angleName=o.displayName,h.labelKey=e.category.id,h.labelName=e.category.name,h.data=e.data,h.fills=a,h.strokes=l,0===i&&(h.toggleSeriesItem=function(e,o){t&&t.series.forEach((function(t){t.seriesItemEnabled[e]=o})),h.scheduleData()}),h.outerRadiusOffset=c,c-=20,h.innerRadiusOffset=c,c-=20,d&&(h.callout.colors=d),s||(n[o.colId]=h)})),t.series=i._.values(n)}else this.chart.removeAllSeries()},t.prototype.getDefaultOptions=function(){var e=this.getPredefinedPalette().strokes,t=this.getDefaultChartOptions(),o=this.getDefaultFontOptions();return t.seriesDefaults=Qu(Qu({},t.seriesDefaults),{title:Qu(Qu({},o),{enabled:!0,fontSize:12,fontWeight:"bold"}),callout:{colors:e,length:10,strokeWidth:2},label:Qu(Qu({},o),{enabled:!1,offset:3,minRequiredAngle:0}),tooltip:{enabled:!0},shadow:this.getDefaultDropShadowOptions()}),t},t}($u),Ju=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),ed=function(){return ed=Object.assign||function(e){for(var t,o=1,n=arguments.length;o<n;o++)for(var i in t=arguments[o])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},ed.apply(this,arguments)},td=function(e){function t(t){var o=e.call(this,t)||this;return o.initChartOptions(),o.recreateChart(),o}return Ju(t,e),t.prototype.createChart=function(e){var t=this.chartProxyParams.parentElement,o=Za.createHistogramChart(t,e||this.chartOptions),n=Za.createSeries(this.getSeriesDefaults());return n&&o.addSeries(n),o},t.prototype.update=function(e){var t=e.fields[0],o=this.chart.series[0];o.data=e.data,o.xKey=t.colId,o.xName=t.displayName,o.areaPlot=!1;var n=this.getPalette(),i=n.fills,r=n.strokes;o.fill=i[0],o.stroke=r[0]},t.prototype.getDefaultOptions=function(){var e=this.getDefaultFontOptions(),t=this.getDefaultCartesianChartOptions();return t.xAxis.label.rotation=0,t.yAxis.label.rotation=0,t.seriesDefaults=ed(ed({},t.seriesDefaults),{tooltip:{enabled:!0},label:ed(ed({},e),{enabled:!1}),shadow:this.getDefaultDropShadowOptions(),binCount:10}),t},t.prototype.getSeriesDefaults=function(){return ed(ed({},this.chartOptions.seriesDefaults),{type:"histogram"})},t}(Xl),od=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),nd=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},id=function(e){function t(o){var n=e.call(this,t.TEMPLATE)||this;return n.params=o,n}return od(t,e),t.prototype.init=function(){var e={pivotChart:this.params.pivotChart,chartType:this.params.chartType,aggFunc:this.params.aggFunc,cellRange:this.params.cellRange,suppressChartRanges:this.params.suppressChartRanges},t=this.gridOptionsWrapper.isEnableRtl();i._.addCssClass(this.getGui(),t?"ag-rtl":"ag-ltr"),this.model=this.createBean(new Rn(e)),this.chartController=this.createManagedBean(new wl(this.model,this.params.chartPaletteName)),this.createChart(),this.params.insideDialog&&this.addDialog(),this.addMenu(),this.addTitleEditComp(),this.addManagedListener(this.getGui(),"focusin",this.setActiveChartCellRange.bind(this)),this.addManagedListener(this.chartController,wl.EVENT_CHART_UPDATED,this.refresh.bind(this)),this.addManagedListener(this.chartMenu,Fu.EVENT_DOWNLOAD_CHART,this.downloadChart.bind(this)),this.refresh(),this.raiseChartCreatedEvent()},t.prototype.createChart=function(){var e,t;if(this.chartProxy){var o=this.chartProxy.getChart();o&&(e=o.width,t=o.height),this.chartProxy.destroy()}var n=this.params.processChartOptions||this.gridOptionsWrapper.getProcessChartOptionsFunc(),r=this.model.getChartType(),s=this.model.isGrouping(),a={chartId:this.model.getChartId(),chartType:r,processChartOptions:n,getChartPaletteName:this.getChartPaletteName.bind(this),allowPaletteOverride:!this.params.chartPaletteName,isDarkTheme:this.environment.isThemeDark.bind(this.environment),parentElement:this.eChart,width:e,height:t,grouping:s,document:this.gridOptionsWrapper.getDocument(),eventService:this.eventService,gridApi:this.gridApi,columnApi:this.columnApi};this.chartType=r,this.chartProxy=this.createChartProxy(a),this.titleEdit&&this.titleEdit.setChartProxy(this.chartProxy),i._.addCssClass(this.eChart.querySelector("canvas"),"ag-charts-canvas"),this.chartController.setChartProxy(this.chartProxy)},t.prototype.getChartPaletteName=function(){return this.chartController.getPaletteName()},t.prototype.createChartProxy=function(e){switch(e.chartType){case i.ChartType.GroupedColumn:case i.ChartType.StackedColumn:case i.ChartType.NormalizedColumn:case i.ChartType.GroupedBar:case i.ChartType.StackedBar:case i.ChartType.NormalizedBar:return new Gu(e);case i.ChartType.Pie:return new qu(e);case i.ChartType.Doughnut:return new Zu(e);case i.ChartType.Area:case i.ChartType.StackedArea:case i.ChartType.NormalizedArea:return new Bu(e);case i.ChartType.Line:return new zu(e);case i.ChartType.Scatter:case i.ChartType.Bubble:return new tc(e);case i.ChartType.Histogram:return new td(e)}},t.prototype.addDialog=function(){var e=this,t=this.chartTranslator.translate(this.params.pivotChart?"pivotChartTitle":"rangeChartTitle"),o=this.getBestDialogSize(),n=o.width,r=o.height;this.chartDialog=new i.AgDialog({resizable:!0,movable:!0,maximizable:!0,title:t,width:n,height:r,component:this,centered:!0,closable:!0}),this.getContext().createBean(this.chartDialog),this.chartDialog.addEventListener(i.AgDialog.EVENT_DESTROYED,(function(){return e.destroy()}))},t.prototype.getBestDialogSize=function(){var e=this.popupService.getPopupParent(),t=.75*i._.getAbsoluteWidth(e),o=.75*i._.getAbsoluteHeight(e),n=this.chartProxy.getChartOptions(),r=n.width,s=n.height;if(r&&s)return{width:r,height:s};var a=this.chartProxy.getChart(),l=this.params.insideDialog?850:a.width,c=this.params.insideDialog?470:a.height;return(l>t||c>o)&&(l=Math.min(l,t),(c=Math.round(.553*l))>o&&(c=o,l=Math.min(l,Math.round(c/.553)))),{width:l,height:c}},t.prototype.addMenu=function(){this.chartMenu=this.createBean(new Fu(this.eChartContainer,this.eMenuContainer,this.chartController)),this.eChartContainer.appendChild(this.chartMenu.getGui())},t.prototype.addTitleEditComp=function(){this.titleEdit=this.createBean(new Lu(this.chartMenu)),this.eTitleEditContainer.appendChild(this.titleEdit.getGui()),this.chartProxy&&this.titleEdit.setChartProxy(this.chartProxy)},t.prototype.refresh=function(){this.shouldRecreateChart()&&this.createChart(),this.updateChart()},t.prototype.shouldRecreateChart=function(){return this.chartType!==this.model.getChartType()},t.prototype.getCurrentChartType=function(){return this.chartType},t.prototype.getChartModel=function(){return this.chartController.getChartModel()},t.prototype.updateChart=function(){var e=this.model,t=this.chartProxy,o=e.getSelectedValueColState().map((function(e){return{colId:e.colId,displayName:e.displayName}})),n=e.getData();if(!this.handleEmptyChart(n,o)){var i=e.getSelectedDimension(),r={data:n,grouping:e.isGrouping(),category:{id:i.colId,name:i.displayName},fields:o};t.update(r)}},t.prototype.handleEmptyChart=function(e,t){var o=this.chartProxy.getChart().container,n=this.model.isPivotChart()&&!this.model.isPivotMode(),r=1;this.chartController.isActiveXYChart()&&(r=this.model.getChartType()===i.ChartType.Bubble?3:2);var s=t.length<r||0===e.length;if(o){var a=n||s;i._.setDisplayed(this.eChart,!a),i._.setDisplayed(this.eEmpty,a)}return n?(this.eEmpty.innerText=this.chartTranslator.translate("pivotChartRequiresPivotMode"),!0):!!s&&(this.eEmpty.innerText=this.chartTranslator.translate("noDataToChart"),!0)},t.prototype.downloadChart=function(){this.chartProxy.downloadChart()},t.prototype.refreshCanvasSize=function(){if(this.params.insideDialog){var e=this.chartProxy,t=this.eChart;if(this.chartMenu.isVisible()){var o=this.chartProxy.getChart();o.height=i._.getInnerHeight(t),o.width=i._.getInnerWidth(t)}else e.setChartOption("width",i._.getInnerWidth(t)),e.setChartOption("height",i._.getInnerHeight(t))}},t.prototype.setActiveChartCellRange=function(e){this.getGui().contains(e.relatedTarget)||(this.chartController.setChartRange(!0),this.gridApi.focusController.clearFocusedCell())},t.prototype.raiseChartCreatedEvent=function(){var e=this.chartController.getChartModel(),t=Object.freeze({type:i.Events.EVENT_CHART_CREATED,chartId:e.chartId,chartModel:e,api:this.gridApi,columnApi:this.columnApi});this.eventService.dispatchEvent(t)},t.prototype.raiseChartDestroyedEvent=function(){var e=Object.freeze({type:i.Events.EVENT_CHART_DESTROYED,chartId:this.model.getChartId(),api:this.gridApi,columnApi:this.columnApi});this.eventService.dispatchEvent(e)},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.chartProxy&&this.chartProxy.destroy(),this.destroyBean(this.chartMenu),this.chartDialog&&this.chartDialog.isAlive()&&this.destroyBean(this.chartDialog);var t=this.getGui();i._.clearElement(t),i._.removeFromParent(t),this.raiseChartDestroyedEvent()},t.TEMPLATE='<div class="ag-chart" tabindex="-1">\n            <div ref="eChartContainer" tabindex="-1" class="ag-chart-components-wrapper">\n                <div ref="eChart" class="ag-chart-canvas-wrapper"></div>\n                <div ref="eEmpty" class="ag-chart-empty-text ag-unselectable"></div>\n            </div>\n            <div ref="eTitleEditContainer"></div>\n            <div ref="eMenuContainer" class="ag-chart-docked-container"></div>\n        </div>',nd([i.RefSelector("eChart")],t.prototype,"eChart",void 0),nd([i.RefSelector("eChartContainer")],t.prototype,"eChartContainer",void 0),nd([i.RefSelector("eMenuContainer")],t.prototype,"eMenuContainer",void 0),nd([i.RefSelector("eEmpty")],t.prototype,"eEmpty",void 0),nd([i.RefSelector("eTitleEditContainer")],t.prototype,"eTitleEditContainer",void 0),nd([i.Autowired("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),nd([i.Autowired("environment")],t.prototype,"environment",void 0),nd([i.Autowired("chartTranslator")],t.prototype,"chartTranslator",void 0),nd([i.Autowired("gridApi")],t.prototype,"gridApi",void 0),nd([i.Autowired("columnApi")],t.prototype,"columnApi",void 0),nd([i.Autowired("popupService")],t.prototype,"popupService",void 0),nd([i.PostConstruct],t.prototype,"init",null),t}(i.Component),rd=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),sd=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},ad=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.activeCharts=new Set,t.activeChartComps=new Set,t}return rd(t,e),t.prototype.getChartModels=function(){var e=[];return this.activeChartComps.forEach((function(t){return e.push(t.getChartModel())})),e},t.prototype.createChartFromCurrentRange=function(e){void 0===e&&(e=i.ChartType.GroupedColumn);var t=this.getSelectedRange();return this.createChart(t,e)},t.prototype.createRangeChart=function(e){var t=this.rangeController?this.rangeController.createCellRangeFromCellRangeParams(e.cellRange):void 0;if(t)return this.createChart(t,e.chartType,e.chartPalette,!1,e.suppressChartRanges,e.chartContainer,e.aggFunc,e.processChartOptions);console.warn("ag-Grid - unable to create chart as no range is selected")},t.prototype.createPivotChart=function(e){this.columnController.isPivotMode()||this.columnController.setPivotMode(!0,"pivotChart");var t={columns:this.columnController.getAllDisplayedColumns().map((function(e){return e.getColId()}))},o=this.rangeController?this.rangeController.createCellRangeFromCellRangeParams(t):void 0;if(o)return this.createChart(o,e.chartType,e.chartPalette,!0,!0,e.chartContainer,void 0,e.processChartOptions);console.warn("ag-Grid - unable to create chart as there are no columns in the grid.")},t.prototype.createChart=function(e,t,o,n,r,s,a,l){var c=this;void 0===n&&(n=!1),void 0===r&&(r=!1);var u=this.gridOptionsWrapper.getCreateChartContainerFunc(),d=new id({pivotChart:n,cellRange:e,chartType:t,chartPaletteName:o,insideDialog:!(s||u),suppressChartRanges:r,aggFunc:a,processChartOptions:l});this.context.createBean(d);var h=this.createChartRef(d);if(s){s.appendChild(d.getGui());var p=this.environment.getTheme();p.el&&!p.el.contains(s)&&i._.addCssClass(s,p.theme)}else u?u(h):d.addEventListener(id.EVENT_DESTROYED,(function(){c.activeChartComps.delete(d),c.activeCharts.delete(h)}));return h},t.prototype.createChartRef=function(e){var t=this,o={destroyChart:function(){t.activeCharts.has(o)&&(t.context.destroyBean(e),t.activeChartComps.delete(e),t.activeCharts.delete(o))},chartElement:e.getGui()};return this.activeCharts.add(o),this.activeChartComps.add(e),o},t.prototype.getSelectedRange=function(){var e=this.rangeController.getCellRanges();return e.length>0?e[0]:{}},t.prototype.destroyAllActiveCharts=function(){this.activeCharts.forEach((function(e){return e.destroyChart()}))},sd([i.Optional("rangeController")],t.prototype,"rangeController",void 0),sd([i.Autowired("columnController")],t.prototype,"columnController",void 0),sd([i.Autowired("environment")],t.prototype,"environment",void 0),sd([i.Autowired("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),sd([i.PreDestroy],t.prototype,"destroyAllActiveCharts",null),t=sd([i.Bean("chartService")],t)}(i.BeanStub),ld=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),cd=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},ud=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}var o;return ld(t,e),o=t,t.prototype.translate=function(e){return this.gridOptionsWrapper.getLocaleTextFunc()(e,o.DEFAULT_TRANSLATIONS[e])},t.DEFAULT_TRANSLATIONS={pivotChartTitle:"Pivot Chart",rangeChartTitle:"Range Chart",settings:"Settings",data:"Data",format:"Format",categories:"Categories",defaultCategory:"(None)",series:"Series",xyValues:"X Y Values",paired:"Paired Mode",axis:"Axis",navigator:"Navigator",color:"Color",thickness:"Thickness",xType:"X Type",automatic:"Automatic",category:"Category",number:"Number",time:"Time",xRotation:"X Rotation",yRotation:"Y Rotation",ticks:"Ticks",width:"Width",height:"Height",length:"Length",padding:"Padding",spacing:"Spacing",chart:"Chart",title:"Title",titlePlaceholder:"Chart title - double click to edit",background:"Background",font:"Font",top:"Top",right:"Right",bottom:"Bottom",left:"Left",labels:"Labels",size:"Size",minSize:"Minimum Size",maxSize:"Maximum Size",legend:"Legend",position:"Position",markerSize:"Marker Size",markerStroke:"Marker Stroke",markerPadding:"Marker Padding",itemSpacing:"Item Spacing",itemPaddingX:"Item Padding X",itemPaddingY:"Item Padding Y",layoutHorizontalSpacing:"Horizontal Spacing",layoutVerticalSpacing:"Vertical Spacing",strokeWidth:"Stroke Width",offset:"Offset",offsets:"Offsets",tooltips:"Tooltips",callout:"Callout",markers:"Markers",shadow:"Shadow",blur:"Blur",xOffset:"X Offset",yOffset:"Y Offset",lineWidth:"Line Width",normal:"Normal",bold:"Bold",italic:"Italic",boldItalic:"Bold Italic",predefined:"Predefined",fillOpacity:"Fill Opacity",strokeOpacity:"Line Opacity",histogramBinCount:"Bin count",columnGroup:"Column",barGroup:"Bar",pieGroup:"Pie",lineGroup:"Line",scatterGroup:"X Y (Scatter)",areaGroup:"Area",histogramGroup:"Histogram",groupedColumnTooltip:"Grouped",stackedColumnTooltip:"Stacked",normalizedColumnTooltip:"100% Stacked",groupedBarTooltip:"Grouped",stackedBarTooltip:"Stacked",normalizedBarTooltip:"100% Stacked",pieTooltip:"Pie",doughnutTooltip:"Doughnut",lineTooltip:"Line",groupedAreaTooltip:"Area",stackedAreaTooltip:"Stacked",normalizedAreaTooltip:"100% Stacked",scatterTooltip:"Scatter",bubbleTooltip:"Bubble",histogramTooltip:"Histogram",noDataToChart:"No data available to be charted.",pivotChartRequiresPivotMode:"Pivot Chart requires Pivot Mode enabled."},cd([i.Autowired("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),t=o=cd([i.Bean("chartTranslator")],t)}(i.BeanStub),dd=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),hd=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},pd=function(){for(var e=0,t=0,o=arguments.length;t<o;t++)e+=arguments[t].length;var n=Array(e),i=0;for(t=0;t<o;t++)for(var r=arguments[t],s=0,a=r.length;s<a;s++,i++)n[i]=r[s];return n},gd=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.cellRanges=[],t.bodyScrollListener=t.onBodyScroll.bind(t),t.dragging=!1,t}return dd(t,e),t.prototype.registerGridComp=function(e){this.gridPanel=e,this.autoScrollService=new fd(this.gridPanel,this.gridOptionsWrapper)},t.prototype.init=function(){this.logger=this.loggerFactory.create("RangeController"),this.addManagedListener(this.eventService,i.Events.EVENT_COLUMN_EVERYTHING_CHANGED,this.removeAllCellRanges.bind(this)),this.addManagedListener(this.eventService,i.Events.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.removeAllCellRanges.bind(this)),this.addManagedListener(this.eventService,i.Events.EVENT_COLUMN_ROW_GROUP_CHANGED,this.removeAllCellRanges.bind(this)),this.addManagedListener(this.eventService,i.Events.EVENT_COLUMN_GROUP_OPENED,this.refreshLastRangeStart.bind(this)),this.addManagedListener(this.eventService,i.Events.EVENT_COLUMN_MOVED,this.refreshLastRangeStart.bind(this)),this.addManagedListener(this.eventService,i.Events.EVENT_COLUMN_PINNED,this.refreshLastRangeStart.bind(this)),this.addManagedListener(this.eventService,i.Events.EVENT_COLUMN_VISIBLE,this.onColumnVisibleChange.bind(this))},t.prototype.onColumnVisibleChange=function(){var e=this;this.refreshLastRangeStart(),this.cellRanges.forEach((function(t){var o=t.columns;t.columns=t.columns.filter((function(e){return e.isVisible()})),!i._.areEqual(o,t.columns)&&e.dispatchChangedEvent(!1,!0,t.id)}))},t.prototype.refreshLastRangeStart=function(){var e=i._.last(this.cellRanges);e&&this.refreshRangeStart(e)},t.prototype.isContiguousRange=function(e){var t=e.columns;if(!t.length)return!1;var o=this.columnController.getAllDisplayedColumns(),n=t.map((function(e){return o.indexOf(e)})).sort((function(e,t){return e-t}));return i._.last(n)-n[0]+1===t.length},t.prototype.getRangeStartRow=function(e){return e.startRow&&e.endRow?this.rowPositionUtils.before(e.startRow,e.endRow)?e.startRow:e.endRow:{rowIndex:0,rowPinned:this.pinnedRowModel.getPinnedTopRowCount()>0?i.Constants.PINNED_TOP:void 0}},t.prototype.getRangeEndRow=function(e){if(e.startRow&&e.endRow)return this.rowPositionUtils.before(e.startRow,e.endRow)?e.endRow:e.startRow;var t=this.pinnedRowModel.getPinnedBottomRowCount();return t>0?{rowIndex:t-1,rowPinned:i.Constants.PINNED_BOTTOM}:{rowIndex:this.rowModel.getRowCount()-1,rowPinned:void 0}},t.prototype.setRangeToCell=function(e,t){if(void 0===t&&(t=!1),this.gridOptionsWrapper.isEnableRangeSelection()){var o=this.calculateColumnsBetween(e.column,e.column);if(o){(this.gridOptionsWrapper.isSuppressMultiRangeSelection()||!t||i._.missing(this.cellRanges))&&this.removeAllCellRanges(!0);for(var n,r={rowIndex:e.rowIndex,rowPinned:e.rowPinned},s=0;s<this.cellRanges.length;s++){var a=this.cellRanges[s];if(a.columns&&1===a.columns.length&&a.columns[0]===e.column&&this.rowPositionUtils.sameRow(r,a.startRow)&&this.rowPositionUtils.sameRow(r,a.endRow)){n=a;break}}n?i._.last(this.cellRanges)!==n&&(i._.removeFromArray(this.cellRanges,n),this.cellRanges.push(n)):(n={startRow:r,endRow:r,columns:o,startColumn:e.column},this.cellRanges.push(n)),this.newestRangeStartCell=e,this.onDragStop(),this.dispatchChangedEvent(!0,!0,n.id)}}},t.prototype.extendLatestRangeToCell=function(e){if(!this.isEmpty()&&this.newestRangeStartCell){var t=i._.last(this.cellRanges);this.updateRangeEnd(t,e)}},t.prototype.updateRangeEnd=function(e,t,o){void 0===o&&(o=!1);var n=t.column,i=this.calculateColumnsBetween(e.startColumn,n);i&&!this.isLastCellOfRange(e,t)&&(e.columns=i,e.endRow={rowIndex:t.rowIndex,rowPinned:t.rowPinned},o||this.dispatchChangedEvent(!0,!0,e.id))},t.prototype.refreshRangeStart=function(e){var t=e.startColumn,o=e.columns,n=function(t,o){var n=e.columns.filter((function(e){return e!==t}));t?(e.startColumn=t,e.columns=o?pd([t],n):pd(n,[t])):e.columns=n},r=this.getRangeEdgeColumns(e),s=r.left,a=r.right;t===o[0]&&t!==s?n(s,!0):t===i._.last(o)&&t===a&&n(a,!1)},t.prototype.getRangeEdgeColumns=function(e){var t=this.columnController.getAllDisplayedColumns(),o=e.columns.map((function(e){return t.indexOf(e)})).filter((function(e){return e>-1})).sort((function(e,t){return e-t}));return{left:t[o[0]],right:t[i._.last(o)]}},t.prototype.extendLatestRangeInDirection=function(e){if(!this.isEmpty()&&this.newestRangeStartCell){var t=i._.last(this.cellRanges),o=this.newestRangeStartCell,n=t.columns[0],r=i._.last(t.columns),s=t.endRow.rowIndex,a=t.endRow.rowPinned,l={column:o.column===n?r:n,rowIndex:s,rowPinned:a},c=this.cellNavigationService.getNextCellToFocus(e,l);if(c)return this.setCellRange({rowStartIndex:o.rowIndex,rowStartPinned:o.rowPinned,rowEndIndex:c.rowIndex,rowEndPinned:c.rowPinned,columnStart:o.column,columnEnd:c.column}),c}},t.prototype.setCellRange=function(e){this.gridOptionsWrapper.isEnableRangeSelection()&&(this.removeAllCellRanges(!0),this.addCellRange(e))},t.prototype.setCellRanges=function(e){var t=this;this.removeAllCellRanges(!0),e.forEach((function(e){e.columns&&e.startRow&&(t.newestRangeStartCell={rowIndex:e.startRow.rowIndex,rowPinned:e.startRow.rowPinned,column:e.columns[0]}),t.cellRanges.push(e)})),this.dispatchChangedEvent(!1,!0)},t.prototype.createCellRangeFromCellRangeParams=function(e){var t,o=this;if(e.columns)t=e.columns.map((function(e){return o.columnController.getColumnWithValidation(e)})).filter((function(e){return e}));else{var n=this.columnController.getColumnWithValidation(e.columnStart),i=this.columnController.getColumnWithValidation(e.columnEnd);if(!n||!i)return;t=this.calculateColumnsBetween(n,i)}if(t)return{startRow:null!=e.rowStartIndex?{rowIndex:e.rowStartIndex,rowPinned:e.rowStartPinned}:void 0,endRow:null!=e.rowEndIndex?{rowIndex:e.rowEndIndex,rowPinned:e.rowEndPinned}:void 0,columns:t,startColumn:t[0]}},t.prototype.addCellRange=function(e){if(this.gridOptionsWrapper.isEnableRangeSelection()){var t=this.createCellRangeFromCellRangeParams(e);t&&(this.cellRanges.push(t),this.dispatchChangedEvent(!1,!0,t.id))}},t.prototype.getCellRanges=function(){return this.cellRanges},t.prototype.isEmpty=function(){return 0===this.cellRanges.length},t.prototype.isMoreThanOneCell=function(){if(0===this.cellRanges.length)return!1;if(this.cellRanges.length>1)return!0;var e=this.cellRanges[0],t=this.getRangeStartRow(e),o=this.getRangeEndRow(e);return t.rowPinned!==o.rowPinned||t.rowIndex!==o.rowIndex||1!==e.columns.length},t.prototype.removeAllCellRanges=function(e){this.isEmpty()||(this.onDragStop(),this.cellRanges.length=0,e||this.dispatchChangedEvent(!1,!0))},t.prototype.onBodyScroll=function(){this.onDragging(this.lastMouseEvent)},t.prototype.isCellInAnyRange=function(e){return this.getCellRangeCount(e)>0},t.prototype.isCellInSpecificRange=function(e,t){var o=null!==t.columns&&i._.includes(t.columns,e.column),n=this.isRowInRange(e.rowIndex,e.rowPinned,t);return o&&n},t.prototype.isLastCellOfRange=function(e,t){var o=e.startRow,n=e.endRow,r=this.rowPositionUtils.before(o,n)?n:o,s=t.rowIndex===r.rowIndex&&t.rowPinned===r.rowPinned,a=e.columns[0],l=i._.last(e.columns),c=e.startColumn===a?l:a;return t.column===c&&s},t.prototype.isBottomRightCell=function(e,t){var o=this.columnController.getAllDisplayedColumns(),n=e.columns.map((function(e){return o.indexOf(e)})).sort((function(e,t){return e-t})),r=e.startRow,s=e.endRow,a=this.rowPositionUtils.before(r,s)?s:r,l=o.indexOf(t.column)===i._.last(n),c=t.rowIndex===a.rowIndex&&i._.makeNull(t.rowPinned)===i._.makeNull(a.rowPinned);return l&&c},t.prototype.getCellRangeCount=function(e){var t=this;return this.isEmpty()?0:this.cellRanges.filter((function(o){return t.isCellInSpecificRange(e,o)})).length},t.prototype.isRowInRange=function(e,t,o){var n=this.getRangeStartRow(o),i=this.getRangeEndRow(o),r={rowIndex:e,rowPinned:t},s=r.rowIndex===n.rowIndex&&r.rowPinned==n.rowPinned,a=r.rowIndex===i.rowIndex&&r.rowPinned==i.rowPinned;if(s||a)return!0;var l=!this.rowPositionUtils.before(r,n),c=this.rowPositionUtils.before(r,i);return l&&c},t.prototype.getDraggingRange=function(){return this.draggingRange},t.prototype.onDragStart=function(e){if(this.gridOptionsWrapper.isEnableRangeSelection()){var t=e.ctrlKey,o=e.metaKey,n=e.shiftKey,r=t||o,s=!!!this.gridOptionsWrapper.isSuppressMultiRangeSelection()&&r,a=this.mouseEventService.getCellPositionForEvent(e);if(!i._.missing(a)){if(s||n&&!i._.exists(i._.last(this.cellRanges).type)||this.removeAllCellRanges(!0),this.dragging=!0,this.draggingCell=a,this.lastMouseEvent=e,n||(this.newestRangeStartCell=a),this.cellRanges.length>0)this.draggingRange=i._.last(this.cellRanges);else{var l={rowIndex:a.rowIndex,rowPinned:a.rowPinned};this.draggingRange={startRow:l,endRow:l,columns:[a.column],startColumn:this.newestRangeStartCell.column},this.cellRanges.push(this.draggingRange)}this.gridPanel.addScrollEventListener(this.bodyScrollListener),this.dispatchChangedEvent(!0,!1,this.draggingRange.id)}}},t.prototype.onDragging=function(e){var t=this;if(this.dragging&&e){this.lastMouseEvent=e;var o=this.mouseEventService.getCellPositionForEvent(e),n=function(e){return o&&o.rowPinned===e&&t.newestRangeStartCell.rowPinned===e},i=n("top")||n("bottom");if(this.autoScrollService.check(e,i),o&&this.draggingCell&&!this.cellPositionUtils.equals(this.draggingCell,o)){var r=this.calculateColumnsBetween(this.newestRangeStartCell.column,o.column);r&&(this.draggingCell=o,this.draggingRange.endRow={rowIndex:o.rowIndex,rowPinned:o.rowPinned},this.draggingRange.columns=r,this.dispatchChangedEvent(!1,!1,this.draggingRange.id))}}},t.prototype.onDragStop=function(){if(this.dragging){var e=this.draggingRange.id;this.autoScrollService.ensureCleared(),this.gridPanel.removeScrollEventListener(this.bodyScrollListener),this.lastMouseEvent=null,this.dragging=!1,this.draggingRange=void 0,this.draggingCell=void 0,this.dispatchChangedEvent(!1,!0,e)}},t.prototype.dispatchChangedEvent=function(e,t,o){var n=Object.freeze({type:i.Events.EVENT_RANGE_SELECTION_CHANGED,api:this.gridApi,columnApi:this.columnApi,started:e,finished:t,id:o});this.eventService.dispatchEvent(n)},t.prototype.calculateColumnsBetween=function(e,t){var o=this.columnController.getAllDisplayedColumns(),n=e===t,i=o.indexOf(e);if(i<0)console.warn("ag-Grid: column "+e.getId()+" is not visible");else{var r=n?i:o.indexOf(t);if(!(r<0)){if(n)return[e];for(var s=Math.min(i,r),a=s===i?r:i,l=[],c=s;c<=a;c++)l.push(o[c]);return l}console.warn("ag-Grid: column "+t.getId()+" is not visible")}},hd([i.Autowired("loggerFactory")],t.prototype,"loggerFactory",void 0),hd([i.Autowired("rowModel")],t.prototype,"rowModel",void 0),hd([i.Autowired("columnController")],t.prototype,"columnController",void 0),hd([i.Autowired("mouseEventService")],t.prototype,"mouseEventService",void 0),hd([i.Autowired("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),hd([i.Autowired("columnApi")],t.prototype,"columnApi",void 0),hd([i.Autowired("gridApi")],t.prototype,"gridApi",void 0),hd([i.Autowired("cellNavigationService")],t.prototype,"cellNavigationService",void 0),hd([i.Autowired("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),hd([i.Autowired("rowPositionUtils")],t.prototype,"rowPositionUtils",void 0),hd([i.Autowired("cellPositionUtils")],t.prototype,"cellPositionUtils",void 0),hd([i.PostConstruct],t.prototype,"init",null),t=hd([i.Bean("rangeController")],t)}(i.BeanStub),fd=function(){function e(e,t){this.tickingInterval=null,this.gridPanel=e,this.gridOptionsWrapper=t}return e.prototype.check=function(e,t){void 0===t&&(t=!1);var o=this.gridPanel.getBodyClientRect();(t=t||this.gridOptionsWrapper.getDomLayout()!==i.Constants.DOM_LAYOUT_NORMAL)&&!this.gridPanel.isHorizontalScrollShowing()||(this.tickLeft=e.clientX<o.left+20,this.tickRight=e.clientX>o.right-20,this.tickUp=e.clientY<o.top+20&&!t,this.tickDown=e.clientY>o.bottom-20&&!t,this.tickLeft||this.tickRight||this.tickUp||this.tickDown?this.ensureTickingStarted():this.ensureCleared())},e.prototype.ensureTickingStarted=function(){null===this.tickingInterval&&(this.tickingInterval=window.setInterval(this.doTick.bind(this),100),this.tickCount=0)},e.prototype.doTick=function(){this.tickCount++;var e,t=this.gridPanel.getVScrollPosition(),o=this.gridPanel.getHScrollPosition();e=this.tickCount>20?200:this.tickCount>10?80:40,this.tickUp&&this.gridPanel.setVerticalScrollPosition(t.top-e),this.tickDown&&this.gridPanel.setVerticalScrollPosition(t.top+e),this.tickLeft&&this.gridPanel.setHorizontalScrollPosition(o.left-e),this.tickRight&&this.gridPanel.setHorizontalScrollPosition(o.left+e)},e.prototype.ensureCleared=function(){this.tickingInterval&&(window.clearInterval(this.tickingInterval),this.tickingInterval=null)},e}(),md=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),vd=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},yd=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.changedCell=!1,t.dragging=!1,t.shouldDestroyOnEndDragging=!1,t}return md(t,e),t.prototype.init=function(){var e=this;this.dragService.addDragSource({dragStartPixels:0,eElement:this.getGui(),onDragStart:this.onDragStart.bind(this),onDragging:function(t){e.dragging=!0,e.rangeController.autoScrollService.check(t),e.changedCell&&e.onDrag(t)},onDragStop:function(t){e.dragging=!1,e.onDragEnd(t),e.clearValues(),e.rangeController.autoScrollService.ensureCleared(),i._.removeCssClass(document.body,"ag-dragging-"+e.type+"-handle"),e.shouldDestroyOnEndDragging&&e.destroy()}}),this.addManagedListener(this.getGui(),"mousedown",this.preventRangeExtension.bind(this))},t.prototype.isDragging=function(){return this.dragging},t.prototype.getCellComp=function(){return this.cellComp},t.prototype.setCellComp=function(e){this.cellComp=e},t.prototype.getCellRange=function(){return this.cellRange},t.prototype.setCellRange=function(e){this.cellRange=e},t.prototype.getRangeStartRow=function(){return this.rangeStartRow},t.prototype.setRangeStartRow=function(e){this.rangeStartRow=e},t.prototype.getRangeEndRow=function(){return this.rangeEndRow},t.prototype.setRangeEndRow=function(e){this.rangeEndRow=e},t.prototype.getLastCellHovered=function(){return this.lastCellHovered},t.prototype.preventRangeExtension=function(e){e.preventDefault(),e.stopPropagation()},t.prototype.onDragStart=function(e){this.cellHoverListener=this.addManagedListener(this.rowRenderer.getGridCore().getRootGui(),"mousemove",this.updateLastCellPositionHovered.bind(this)),i._.addCssClass(document.body,"ag-dragging-"+this.type+"-handle")},t.prototype.updateLastCellPositionHovered=function(e){var t=this.mouseEventService.getCellPositionForEvent(e);t!==this.lastCellHovered?(this.lastCellHovered=t,this.changedCell=!0):this.changedCell=!1},t.prototype.getType=function(){return this.type},t.prototype.refresh=function(e){var t=this,o=this.getCellComp(),n=this.getGui(),r=i._.last(this.rangeController.getCellRanges()),s=r.startRow,a=r.endRow;s&&a&&(this.rowPositionUtils.before(a,s)?(this.setRangeStartRow(a),this.setRangeEndRow(s)):(this.setRangeStartRow(s),this.setRangeEndRow(a)));o===e&&i._.isVisible(n)||(this.setCellComp(e),window.setTimeout((function(){t.isAlive()&&e.appendChild(n)}),1)),this.setCellRange(r)},t.prototype.clearValues=function(){this.lastCellHovered=void 0,this.removeListeners()},t.prototype.removeListeners=function(){this.cellHoverListener&&(this.cellHoverListener(),this.cellHoverListener=void 0)},t.prototype.destroy=function(){if(!this.shouldDestroyOnEndDragging&&this.isDragging())return i._.setDisplayed(this.getGui(),!1),void(this.shouldDestroyOnEndDragging=!0);this.shouldDestroyOnEndDragging=!1,e.prototype.destroy.call(this),this.removeListeners();var t=this.getGui();t.parentElement&&t.parentElement.removeChild(t)},vd([i.Autowired("rowRenderer")],t.prototype,"rowRenderer",void 0),vd([i.Autowired("dragService")],t.prototype,"dragService",void 0),vd([i.Autowired("rangeController")],t.prototype,"rangeController",void 0),vd([i.Autowired("mouseEventService")],t.prototype,"mouseEventService",void 0),vd([i.Autowired("columnController")],t.prototype,"columnController",void 0),vd([i.Autowired("cellNavigationService")],t.prototype,"cellNavigationService",void 0),vd([i.Autowired("rowPositionUtils")],t.prototype,"rowPositionUtils",void 0),vd([i.PostConstruct],t.prototype,"init",null),t}(i.Component),Cd=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),wd=function(){return wd=Object.assign||function(e){for(var t,o=1,n=arguments.length;o<n;o++)for(var i in t=arguments[o])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},wd.apply(this,arguments)},bd=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Sd=function(){for(var e=0,t=0,o=arguments.length;t<o;t++)e+=arguments[t].length;var n=Array(e),i=0;for(t=0;t<o;t++)for(var r=arguments[t],s=0,a=r.length;s<a;s++,i++)n[i]=r[s];return n},Ed=function(e){function t(){var o=e.call(this,t.TEMPLATE)||this;return o.markedCellComps=[],o.cellValues=[],o.isUp=!1,o.isLeft=!1,o.isReduce=!1,o.type=i.SelectionHandleType.FILL,o}return Cd(t,e),t.prototype.onDrag=function(e){this.initialXY||(this.initialXY=this.mouseEventService.getNormalisedPosition(e));var t=this.initialXY,o=t.x,n=t.y,i=this.mouseEventService.getNormalisedPosition(e),r=i.x,s=i.y,a=Math.abs(o-r)>Math.abs(n-s)?"x":"y";if(a!==this.dragAxis&&(this.dragAxis=a),!this.initialPosition){var l=this.getCellComp();if(!l)return;this.initialPosition=l.getCellPosition()}var c=this.getLastCellHovered();c&&c!==this.lastCellMarked&&(this.lastCellMarked=c,this.markPathFrom(this.initialPosition,c))},t.prototype.onDragEnd=function(e){if(this.markedCellComps.length){var t,o="x"===this.dragAxis,n=this.getCellRange(),i=n.columns.length,r=this.getRangeStartRow(),s=this.getRangeEndRow();if(this.isUp||this.isLeft){var a=o?r:this.lastCellMarked;t=this.rangeController.createCellRangeFromCellRangeParams({rowStartIndex:a.rowIndex,rowStartPinned:a.rowPinned,columnStart:o?this.lastCellMarked.column:n.columns[0],rowEndIndex:s.rowIndex,rowEndPinned:s.rowPinned,columnEnd:n.columns[i-1]})}else t=this.rangeController.createCellRangeFromCellRangeParams({rowStartIndex:r.rowIndex,rowStartPinned:r.rowPinned,columnStart:n.columns[0],rowEndIndex:o?s.rowIndex:this.lastCellMarked.rowIndex,rowEndPinned:o?s.rowPinned:this.lastCellMarked.rowPinned,columnEnd:o?this.lastCellMarked.column:n.columns[i-1]});t&&(this.raiseFillStartEvent(),this.handleValueChanged(n,t,e),this.rangeController.setCellRanges([t]),this.raiseFillEndEvent(n,t))}},t.prototype.raiseFillStartEvent=function(){var e={type:i.Events.EVENT_FILL_START,columnApi:this.gridOptionsWrapper.getColumnApi(),api:this.gridOptionsWrapper.getApi()};this.eventService.dispatchEvent(e)},t.prototype.raiseFillEndEvent=function(e,t){var o={type:i.Events.EVENT_FILL_END,columnApi:this.gridOptionsWrapper.getColumnApi(),api:this.gridOptionsWrapper.getApi(),initialRange:e,finalRange:t};this.eventService.dispatchEvent(o)},t.prototype.handleValueChanged=function(e,t,o){var n=this,r=this.rangeController.getRangeEndRow(e),s=this.rangeController.getRangeStartRow(e),a=this.rangeController.getRangeEndRow(t),l=this.rangeController.getRangeStartRow(t),c="y"===this.dragAxis;if(!this.isReduce||this.gridOptionsWrapper.isSuppressClearOnFillReduction()){var u=!0,d=[],h=[],p=0,g=function(){d.length=0,h.length=0,p=0},f=function(t,o){var h=n.isUp?r:s,p=!1;c&&(u=!0,g());for(var f=function(){var f=n.rowPositionUtils.getRowNode(h);if(!f)return"break";c&&t?m(d,t,f,(function(){return!n.rowPositionUtils.sameRow(h,n.isUp?s:r)})):o&&(u=!0,g(),o.forEach((function(t){return m(d,t,f,(function(){return t!==(n.isLeft?e.columns[0]:i._.last(e.columns))}))}))),p=n.rowPositionUtils.sameRow(h,n.isUp?l:a),h=n.isUp?n.cellNavigationService.getRowAbove(h):n.cellNavigationService.getRowBelow(h)};!p&&h;){if("break"===f())break}},m=function(e,t,i,r){var s;u?(s=n.valueService.getValue(t,i),h.push(s),u=r()):(s=n.processValues(o,e,h,t,i,p++),t.isCellEditable(i)&&n.valueService.setValue(i,t,s)),e.push(s)};if(c)e.columns.forEach((function(e){f(e)}));else{v=this.isLeft?Sd(t.columns).reverse():t.columns;f(void 0,v)}}else{var v=c?e.columns:e.columns.filter((function(e){return t.columns.indexOf(e)<0})),y=c?this.cellNavigationService.getRowBelow(a):l;y&&this.clearCellsInRange(y,r,v)}},t.prototype.clearCellsInRange=function(e,t,o){for(var n=this,i=e,r=!1,s=function(){var e=a.rowPositionUtils.getRowNode(i);if(!e)return"break";o.forEach((function(t){t.isCellEditable(e)&&n.valueService.setValue(e,t,null)})),r=a.rowPositionUtils.sameRow(i,t),i=a.cellNavigationService.getRowBelow(i)},a=this;!r&&i;){if("break"===s())break}},t.prototype.processValues=function(e,t,o,n,r,s){var a,l=this.gridOptionsWrapper.getFillOperation(),c="y"===this.dragAxis;if(a=c?this.isUp?"up":"down":this.isLeft?"left":"right",l){var u=l({event:e,values:t,initialValues:o,currentIndex:s,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext(),direction:a,column:c?n:void 0,rowNode:c?void 0:r});if(!1!==u)return u}var d=!t.some((function(e){var t=parseFloat(e);return isNaN(t)||t.toString()!==e.toString()}));if(e.altKey||!d){if(d&&1===o.length){var h=this.isUp||this.isLeft?-1:1;return parseFloat(i._.last(t))+1*h}return t[s%t.length]}return i._.last(i._.findLineByLeastSquares(t.map(Number)))},t.prototype.clearValues=function(){this.clearMarkedPath(),this.clearCellValues(),this.lastCellMarked=void 0,e.prototype.clearValues.call(this)},t.prototype.clearMarkedPath=function(){this.markedCellComps.forEach((function(e){var t=e.getGui();i._.removeCssClass(t,"ag-selection-fill-top"),i._.removeCssClass(t,"ag-selection-fill-right"),i._.removeCssClass(t,"ag-selection-fill-bottom"),i._.removeCssClass(t,"ag-selection-fill-left")})),this.markedCellComps.length=0,this.isUp=!1,this.isLeft=!1,this.isReduce=!1},t.prototype.clearCellValues=function(){this.cellValues.length=0},t.prototype.markPathFrom=function(e,t){if(this.clearMarkedPath(),this.clearCellValues(),"y"===this.dragAxis){if(this.rowPositionUtils.sameRow(t,e))return;var o=this.rowPositionUtils.before(t,e),n=this.getRangeStartRow(),i=this.getRangeEndRow();o&&(t.rowPinned==n.rowPinned&&t.rowIndex>=n.rowIndex||n.rowPinned!=i.rowPinned&&t.rowPinned==i.rowPinned&&t.rowIndex<=i.rowIndex)?(this.reduceVertical(e,t),this.isReduce=!0):(this.extendVertical(e,t,o),this.isReduce=!1)}else{var r=e.column,s=t.column;if(r===s)return;var a=this.columnController.getAllDisplayedColumns(),l=a.indexOf(r),c=a.indexOf(s);c<=l&&c>=a.indexOf(this.getCellRange().columns[0])?(this.reduceHorizontal(e,t),this.isReduce=!0):(this.extendHorizontal(e,t,c<l),this.isReduce=!1)}},t.prototype.extendVertical=function(e,t,o){var n=this.rowRenderer,r=this.rangeController,s=e;do{for(var a=this.getCellRange(),l=a.columns.length,c=0;c<l;c++){var u=a.columns[c],d={rowIndex:s.rowIndex,rowPinned:s.rowPinned},h=wd(wd({},d),{column:u}),p=r.isCellInSpecificRange(h,a),g=this.rowPositionUtils.sameRow(s,e);if(o&&(this.isUp=!0),!g){var f=n.getComponentForCell(h);if(f){this.markedCellComps.push(f);var m=f.getGui();p||(i._.addOrRemoveCssClass(m,"ag-selection-fill-left",0===c),i._.addOrRemoveCssClass(m,"ag-selection-fill-right",c===l-1)),i._.addOrRemoveCssClass(m,o?"ag-selection-fill-top":"ag-selection-fill-bottom",this.rowPositionUtils.sameRow(s,t))}}}if(this.rowPositionUtils.sameRow(s,t))break}while(s=o?this.cellNavigationService.getRowAbove(s):this.cellNavigationService.getRowBelow(s))},t.prototype.reduceVertical=function(e,t){var o=e;do{for(var n=this.getCellRange(),r=n.columns.length,s=this.rowPositionUtils.sameRow(o,t),a=0;a<r;a++){var l={rowIndex:o.rowIndex,rowPinned:o.rowPinned},c=wd(wd({},l),{column:n.columns[a]}),u=this.rowRenderer.getComponentForCell(c);if(u){this.markedCellComps.push(u);var d=u.getGui();i._.addOrRemoveCssClass(d,"ag-selection-fill-bottom",this.rowPositionUtils.sameRow(o,t))}}if(s)break}while(o=this.cellNavigationService.getRowAbove(o))},t.prototype.extendHorizontal=function(e,t,o){var n=this,r=this.columnController.getAllDisplayedColumns(),s=r.indexOf(o?t.column:e.column),a=r.indexOf(o?this.getCellRange().columns[0]:t.column),l=o?0:1,c=r.slice(s+l,a+l),u=this.getRangeStartRow(),d=this.getRangeEndRow();c.forEach((function(e){var t=u,r=!1;do{r=n.rowPositionUtils.sameRow(t,d);var s=n.rowRenderer.getComponentForCell({rowIndex:t.rowIndex,rowPinned:t.rowPinned,column:e});if(s){n.markedCellComps.push(s);var a=s.getGui();i._.addOrRemoveCssClass(a,"ag-selection-fill-top",n.rowPositionUtils.sameRow(t,u)),i._.addOrRemoveCssClass(a,"ag-selection-fill-bottom",n.rowPositionUtils.sameRow(t,d)),o?(n.isLeft=!0,i._.addOrRemoveCssClass(a,"ag-selection-fill-left",e===c[0])):i._.addOrRemoveCssClass(a,"ag-selection-fill-right",e===i._.last(c))}t=n.cellNavigationService.getRowBelow(t)}while(!r)}))},t.prototype.reduceHorizontal=function(e,t){var o=this,n=this.columnController.getAllDisplayedColumns(),r=n.indexOf(t.column),s=n.indexOf(e.column),a=n.slice(r,s),l=this.getRangeStartRow(),c=this.getRangeEndRow();a.forEach((function(e){var t=l,n=!1;do{n=o.rowPositionUtils.sameRow(t,c);var r=o.rowRenderer.getComponentForCell({rowIndex:t.rowIndex,rowPinned:t.rowPinned,column:e});if(r){o.markedCellComps.push(r);var s=r.getGui();i._.addOrRemoveCssClass(s,"ag-selection-fill-right",e===a[0])}t=o.cellNavigationService.getRowBelow(t)}while(!n)}))},t.prototype.refresh=function(t){var o=this.rangeController.getCellRanges()[0];o.startRow&&o.endRow?e.prototype.refresh.call(this,t):this.destroy()},t.TEMPLATE='<div class="ag-fill-handle"></div>',bd([i.Autowired("valueService")],t.prototype,"valueService",void 0),bd([i.Autowired("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),t}(yd),Rd=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Pd=function(){return Pd=Object.assign||function(e){for(var t,o=1,n=arguments.length;o<n;o++)for(var i in t=arguments[o])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Pd.apply(this,arguments)},Od=function(e){function t(){var o=e.call(this,t.TEMPLATE)||this;return o.type=i.SelectionHandleType.RANGE,o.rangeFixed=!1,o}return Rd(t,e),t.prototype.onDrag=function(e){var t=this.getLastCellHovered();if(t){var o=this.rangeController.getCellRanges(),n=i._.last(o);if(this.rangeFixed||(this.fixRangeStartEnd(n),this.rangeFixed=!0),this.endPosition={rowIndex:t.rowIndex,rowPinned:t.rowPinned,column:t.column},2===o.length&&o[0].type===i.CellRangeType.DIMENSION&&n.type===i.CellRangeType.VALUE)!this.rowPositionUtils.sameRow(this.endPosition,this.rangeController.getRangeEndRow(n))&&this.rangeController.updateRangeEnd(o[0],Pd(Pd({},this.endPosition),{column:o[0].columns[0]}),!0);this.rangeController.extendLatestRangeToCell(this.endPosition)}},t.prototype.onDragEnd=function(e){var t=i._.last(this.rangeController.getCellRanges());this.fixRangeStartEnd(t),this.rangeFixed=!1},t.prototype.fixRangeStartEnd=function(e){var t=this.rangeController.getRangeStartRow(e),o=this.rangeController.getRangeEndRow(e),n=e.columns[0];e.startRow=t,e.endRow=o,e.startColumn=n},t.TEMPLATE='<div class="ag-range-handle"></div>',t}(yd),xd=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Td=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Dd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return xd(t,e),t.prototype.createSelectionHandle=function(e){return e===i.SelectionHandleType.RANGE?this.createBean(new Od):this.createBean(new Ed)},t=Td([i.Bean("selectionHandleFactory")],t)}(i.BeanStub),Ad={moduleName:i.ModuleNames.RangeSelectionModule,beans:[gd,Dd],agStackComponents:[{componentName:"AgFillHandle",componentClass:Ed},{componentName:"AgRangeHandle",componentClass:Od}],dependantModules:[g]},Fd={moduleName:i.ModuleNames.GridChartsModule,beans:[ad,ud],dependantModules:[Ad,g]},_d=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Md=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Id=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.needRefresh=!1,t.loadRowDataVersion=0,t}return _d(t,e),t.prototype.init=function(e){var t=this;e.pinned?this.setTemplate('<div class="ag-details-row"></div>'):(this.params=e,this.checkForDeprecations(),this.ensureValidRefreshStrategy(),this.selectAndSetTemplate(),i._.exists(this.eDetailGrid)?(this.addThemeToDetailGrid(),this.createDetailsGrid(),this.registerDetailWithMaster(),this.loadRowData(),window.setTimeout((function(){t.detailGridOptions.api&&t.detailGridOptions.api.doLayout()}),0)):console.warn('ag-Grid: reference to eDetailGrid was missing from the details template. Please add ref="eDetailGrid" to the template.'),this.addManagedListener(e.node.parent,i.RowNode.EVENT_DATA_CHANGED,(function(){t.needRefresh=!0})),this.setupAutoGridHeight())},t.prototype.refresh=function(){var e=!0;return this.needRefresh&&"nothing"!==this.params.refreshStrategy?(this.needRefresh=!1,"everything"!==this.params.refreshStrategy&&(this.loadRowData(),e)):e},t.prototype.destroy=function(){e.prototype.destroy.call(this)},t.prototype.checkForDeprecations=function(){this.params.suppressRefresh&&(console.warn("ag-Grid: as of v23.2.0, cellRendererParams.suppressRefresh for Detail Cell Renderer is no longer used. Please set cellRendererParams.refreshStrategy = 'nothing' instead."),this.params.refreshStrategy="nothing")},t.prototype.ensureValidRefreshStrategy=function(){switch(this.params.refreshStrategy){case"rows":case"nothing":case"everything":return}this.params.refreshStrategy&&console.warn("ag-Grid: invalid cellRendererParams.refreshStrategy = '"+this.params.refreshStrategy+"' supplied, defaulting to refreshStrategy = 'rows'."),this.params.refreshStrategy="rows"},t.prototype.setupAutoGridHeight=function(){var e=this;if(this.params.autoHeight){var t=this.params.api,o=i._.debounce(t.onRowHeightChanged.bind(t),20),n=function(){var t=e.getGui().clientHeight;null!=t&&(e.params.node.setRowHeight(t),o())},r=this.resizeObserverService.observeResize(this.getGui(),n);this.addDestroyFunc(r),n()}},t.prototype.addThemeToDetailGrid=function(){var e=this.environment.getTheme().theme;e&&i._.addCssClass(this.eDetailGrid,e)},t.prototype.registerDetailWithMaster=function(){var e=this.params.node.id,t=this.params.api,o={id:e,api:this.detailGridOptions.api,columnApi:this.detailGridOptions.columnApi},n=this.params.node;t.addDetailGridInfo(e,o),n.detailGridInfo=o,this.addDestroyFunc((function(){t.removeDetailGridInfo(e),n.detailGridInfo=null}))},t.prototype.selectAndSetTemplate=function(){var e=this,o=function(){e.setTemplate(t.TEMPLATE);var o=e.params.autoHeight;e.addCssClass(o?"ag-details-row-auto-height":"ag-details-row-fixed-height"),i._.addCssClass(e.eDetailGrid,o?"ag-details-grid-auto-height":"ag-details-grid-fixed-height")};if(i._.missing(this.params.template))o();else if("string"===typeof this.params.template)this.setTemplate(this.params.template);else if("function"===typeof this.params.template){var n=(0,this.params.template)(this.params);this.setTemplate(n)}else console.warn("ag-Grid: detailCellRendererParams.template should be function or string"),o()},t.prototype.createDetailsGrid=function(){var e=this,t=this.params.detailGridOptions;i._.missing(t)&&console.warn("ag-Grid: could not find detail grid options for master detail, please set gridOptions.detailCellRendererParams.detailGridOptions"),this.detailGridOptions=i._.cloneObject(t),this.params.autoHeight&&(this.detailGridOptions.domLayout="autoHeight"),new i.Grid(this.eDetailGrid,this.detailGridOptions,{$scope:this.params.$scope,$compile:this.params.$compile,providedBeanInstances:{agGridReact:this.params.agGridReact,frameworkComponentWrapper:this.params.frameworkComponentWrapper}}),this.addDestroyFunc((function(){e.detailGridOptions.api&&e.detailGridOptions.api.destroy()}))},t.prototype.loadRowData=function(){var e=this;this.loadRowDataVersion++;var t=this.loadRowDataVersion,o=this.params.getDetailRowData;if(o){o({node:this.params.node,data:this.params.node.data,successCallback:function(o){e.loadRowDataVersion===t&&e.setRowData(o)}})}else console.warn("ag-Grid: could not find getDetailRowData for master / detail, please set gridOptions.detailCellRendererParams.getDetailRowData")},t.prototype.setRowData=function(e){this.detailGridOptions.api&&this.detailGridOptions.api.setRowData(e)},t.TEMPLATE='<div class="ag-details-row">\n            <div ref="eDetailGrid" class="ag-details-grid"/>\n        </div>',Md([i.Autowired("environment")],t.prototype,"environment",void 0),Md([i.RefSelector("eDetailGrid")],t.prototype,"eDetailGrid",void 0),Md([i.Autowired("resizeObserverService")],t.prototype,"resizeObserverService",void 0),t}(i.Component),Ld={moduleName:i.ModuleNames.MasterDetailModule,beans:[],userComponents:[{componentName:"agDetailCellRenderer",componentClass:Id}],dependantModules:[g]},Nd=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),kd=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Gd=function(e){function t(o){var n=e.call(this,t.TEMPLATE)||this;return n.params=o,n}return Nd(t,e),t.prototype.init=function(){var e=this;this.params.checked?this.eIcon.appendChild(i._.createIconNoSpan("check",this.gridOptionsWrapper)):this.params.icon?i._.isNodeOrElement(this.params.icon)?this.eIcon.appendChild(this.params.icon):"string"===typeof this.params.icon?this.eIcon.innerHTML=this.params.icon:console.warn("ag-Grid: menu item icon must be DOM node or string"):this.eIcon.innerHTML="&nbsp;",this.params.tooltip&&(this.tooltip=this.params.tooltip,this.gridOptionsWrapper.isEnableBrowserTooltips()?this.getGui().setAttribute("title",this.tooltip):this.createManagedBean(new i.TooltipFeature(this,"menu"))),this.params.shortcut&&(this.eShortcut.innerHTML=this.params.shortcut),this.params.subMenu?this.gridOptionsWrapper.isEnableRtl()?this.ePopupPointer.appendChild(i._.createIconNoSpan("smallLeft",this.gridOptionsWrapper)):this.ePopupPointer.appendChild(i._.createIconNoSpan("smallRight",this.gridOptionsWrapper)):this.ePopupPointer.innerHTML="&nbsp;",this.eName.innerHTML=this.params.name,this.params.disabled?i._.addCssClass(this.getGui(),"ag-menu-option-disabled"):(this.addGuiEventListener("click",this.onOptionSelected.bind(this)),this.addGuiEventListener("keydown",(function(t){t.keyCode!==i.Constants.KEY_ENTER&&t.keyCode!==i.Constants.KEY_SPACE||e.onOptionSelected(t)}))),this.params.cssClasses&&this.params.cssClasses.forEach((function(t){return i._.addCssClass(e.getGui(),t)}))},t.prototype.getTooltipText=function(){return this.tooltip},t.prototype.getComponentHolder=function(){},t.prototype.onOptionSelected=function(e){var o={type:t.EVENT_ITEM_SELECTED,action:this.params.action,checked:this.params.checked,cssClasses:this.params.cssClasses,disabled:this.params.disabled,icon:this.params.icon,name:this.params.name,shortcut:this.params.shortcut,subMenu:this.params.subMenu,tooltip:this.params.tooltip,event:e};this.dispatchEvent(o),this.params.action&&this.params.action()},t.prototype.destroy=function(){e.prototype.destroy.call(this)},t.TEMPLATE='<div class="ag-menu-option" tabindex="-1">\n            <span ref="eIcon" class="ag-menu-option-icon ag-menu-option-part"></span>\n            <span ref="eName" class="ag-menu-option-text ag-menu-option-part"></span>\n            <span ref="eShortcut" class="ag-menu-option-shortcut ag-menu-option-part"></span>\n            <span ref="ePopupPointer" class="ag-menu-option-popup-pointer ag-menu-option-part"></span>\n        </div>',t.EVENT_ITEM_SELECTED="itemSelected",kd([i.Autowired("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),kd([i.RefSelector("eIcon")],t.prototype,"eIcon",void 0),kd([i.RefSelector("eName")],t.prototype,"eName",void 0),kd([i.RefSelector("eShortcut")],t.prototype,"eShortcut",void 0),kd([i.RefSelector("ePopupPointer")],t.prototype,"ePopupPointer",void 0),kd([i.PostConstruct],t.prototype,"init",null),t}(i.Component),Vd=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Hd=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Bd=function(e){function t(){var o=e.call(this,t.TEMPLATE)||this;return o.menuItems=[],o.subMenuHideTimer=0,o.subMenuShowTimer=0,o.removeChildFuncs=[],o}return Vd(t,e),t.prototype.onTabKeyDown=function(e){var t=this.getParentComponent();t&&t instanceof i.ManagedFocusComponent||e.preventDefault(),e.shiftKey&&this.closeIfIsChild(e)},t.prototype.handleKeyDown=function(e){switch(e.keyCode){case i.Constants.KEY_UP:case i.Constants.KEY_RIGHT:case i.Constants.KEY_DOWN:case i.Constants.KEY_LEFT:e.preventDefault(),this.handleNavKey(e.keyCode);break;case i.Constants.KEY_ESCAPE:var t=this.findTopMenu();t&&t.getGui().focus()}},t.prototype.isFocusableContainer=function(){return!0},t.prototype.clearActiveItem=function(){this.deactivateItem(),this.removeChildPopup()},t.prototype.addMenuItems=function(e){var t=this;e&&!i._.missing(e)&&e.forEach((function(e){if("separator"===e)t.addSeparator();else if("string"===typeof e)console.warn("ag-Grid: unrecognised menu item "+e);else{var o=e;t.addItem(o)}}))},t.prototype.addItem=function(e){var o=this,n=this.createManagedBean(new Gd(e));this.menuItems.push({comp:n,params:e}),this.appendChild(n.getGui()),n.addEventListener(Gd.EVENT_ITEM_SELECTED,(function(t){e.subMenu&&!e.action?(o.showChildMenu(n,e),"keydown"===t.event.type&&o.subMenuComp.activateFirstItem()):o.dispatchEvent(t)})),n.setParentComponent(this);var i=function(e,n){o.subMenuShowTimer&&(window.clearTimeout(o.subMenuShowTimer),o.subMenuShowTimer=0),o.subMenuHideTimer?o.subMenuShowTimer=window.setTimeout((function(){i(e,n)}),t.HIDE_MENU_DELAY):o.mouseEnterItem(e,n)};n.addGuiEventListener("mouseenter",(function(){return i(n,e)})),n.addGuiEventListener("mouseleave",(function(i){return function(e,n,i){if(o.subMenuParentComp===n){if(o.subMenuHideTimer)return;o.subMenuHideTimer=window.setTimeout((function(){return o.mouseLeaveItem(e,n,i)}),t.HIDE_MENU_DELAY)}else o.subMenuHideTimer||o.mouseLeaveItem(e,n,i)}(i,n,e)}))},t.prototype.activateFirstItem=function(){var e=this.menuItems.filter((function(e){return!e.params.disabled}))[0];e&&this.activateItem(e.comp,e.params)},t.prototype.mouseEnterItem=function(e,t){this.subMenuShowTimer=0,this.activateItem(e,t,!0)},t.prototype.mouseLeaveItem=function(e,t,o){var n=this.subMenuComp&&this.subMenuComp.getParentComponent()===t&&this.subMenuComp.getGui(),i=e.relatedTarget;this.subMenuHideTimer=0,i&&n&&(n.contains(i)||i.contains(n))||this.deactivateItem(t,o)},t.prototype.activateItem=function(e,t,o){if(t.disabled)this.deactivateItem();else{this.activeMenuItemParams!==t&&this.removeChildPopup(),this.activeMenuItem&&this.activeMenuItem!==e&&this.deactivateItem(),this.activeMenuItemParams=t,this.activeMenuItem=e;var n=e.getGui();i._.addCssClass(n,"ag-menu-option-active"),n.focus(),o&&t.subMenu&&this.addHoverForChildPopup(e,t)}},t.prototype.deactivateItem=function(e,t){!e&&this.activeMenuItem&&(e=this.activeMenuItem,t=this.activeMenuItemParams),e&&!t.disabled&&(i._.removeCssClass(e.getGui(),"ag-menu-option-active"),this.subMenuParentComp===e&&this.removeChildPopup(),this.activeMenuItem=null,this.activeMenuItemParams=null)},t.prototype.findTopMenu=function(){var e=this.getParentComponent();if(!e&&this instanceof t)return this;for(;;){var o=e&&e.getParentComponent&&e.getParentComponent();if(!o||!(o instanceof t||o instanceof Gd))break;e=o}return e instanceof t?e:void 0},t.prototype.handleNavKey=function(e){switch(e){case i.Constants.KEY_UP:case i.Constants.KEY_DOWN:var t=this.findNextItem(e===i.Constants.KEY_UP);return void(t&&t.comp!==this.activeMenuItem&&(this.deactivateItem(),this.activateItem(t.comp,t.params)))}this.activateItem&&(e===(this.gridOptionsWrapper.isEnableRtl()?i.Constants.KEY_RIGHT:i.Constants.KEY_LEFT)?this.closeIfIsChild():this.openChild())},t.prototype.closeIfIsChild=function(e){var t=this.getParentComponent();if(t&&t instanceof Gd){e&&e.preventDefault();var o=t.getParentComponent();t.getGui().focus(),o.removeChildPopup()}},t.prototype.openChild=function(){var e=this;this.activeMenuItemParams&&this.activeMenuItemParams.subMenu&&(this.showChildMenu(this.activeMenuItem,this.activeMenuItemParams),setTimeout((function(){e.subMenuComp.activateFirstItem()}),0))},t.prototype.findNextItem=function(e){var t=this.menuItems.filter((function(e){return!e.params.disabled}));if(t.length){if(!this.activeMenuItem)return e?i._.last(t):t[0];var o;e&&t.reverse();for(var n=!1,r=0;r<t.length;r++){var s=t[r];if(n){o=s;break}s.comp===this.activeMenuItem&&(n=!0)}return o||{comp:this.activeMenuItem,params:this.activeMenuItemParams}}},t.prototype.addHoverForChildPopup=function(e,t){var o=this;window.setTimeout((function(){var n=o.subMenuParentComp===e,i=o.activeMenuItem===e;o.isAlive()&&i&&!n&&o.showChildMenu(e,t)}),300)},t.prototype.addSeparator=function(){var e=i._.loadTemplate(t.SEPARATOR_TEMPLATE);this.appendChild(e)},t.prototype.showChildMenu=function(e,o){var n=this;this.removeChildPopup();var r=new t;r.setParentComponent(e),this.getContext().createBean(r),r.addMenuItems(o.subMenu);var s=i._.loadTemplate('<div class="ag-menu" tabindex="-1"></div>');s.appendChild(r.getGui());var a=this.popupService.addAsModalPopup(s,!1);this.popupService.positionPopupForMenu({eventSource:e.getGui(),ePopup:s}),this.subMenuParentComp=e,this.subMenuComp=r,r.addManagedListener(s,"mouseover",(function(){n.subMenuHideTimer&&e===n.subMenuParentComp&&(window.clearTimeout(n.subMenuHideTimer),window.clearTimeout(n.subMenuShowTimer),n.subMenuHideTimer=0,n.subMenuShowTimer=0)}));var l=function(e){n.dispatchEvent(e)};r.addEventListener(Gd.EVENT_ITEM_SELECTED,l),this.removeChildFuncs.push((function(){r.clearActiveItem(),r.destroy(),n.subMenuParentComp=null,n.subMenuComp=null,r.removeEventListener(Gd.EVENT_ITEM_SELECTED,l),a()}))},t.prototype.removeChildPopup=function(){this.removeChildFuncs.forEach((function(e){return e()})),this.removeChildFuncs=[]},t.prototype.destroy=function(){this.removeChildPopup(),e.prototype.destroy.call(this)},t.TEMPLATE='\n        <div class="ag-menu-list"><div class="ag-menu-list-body"></div>',t.SEPARATOR_TEMPLATE='<div class="ag-menu-separator">\n            <span class="ag-menu-separator-cell"></span>\n            <span class="ag-menu-separator-cell"></span>\n            <span class="ag-menu-separator-cell"></span>\n            <span class="ag-menu-separator-cell"></span>\n        </div>',t.HIDE_MENU_DELAY=80,Hd([i.Autowired("popupService")],t.prototype,"popupService",void 0),Hd([i.Autowired("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),t}(i.ManagedFocusComponent),Wd=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),jd=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},zd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Wd(t,e),t.prototype.hideActiveMenu=function(){this.destroyBean(this.activeMenu)},t.prototype.showMenuAfterMouseEvent=function(e,t,o){var n=this;this.showMenu(e,(function(i){var r=i.getGui();n.popupService.positionPopupUnderMouseEvent({type:"columnMenu",column:e,mouseEvent:t,ePopup:r}),o&&i.showTab(o)}),o,void 0,t.target)},t.prototype.showMenuAfterButtonClick=function(e,t,o,n){var i=this,r=-1,s="left";this.gridOptionsWrapper.isEnableRtl()&&(r=1,s="right"),this.showMenu(e,(function(n){var a=n.getMinDimensions(),l=a.width,c=a.height,u=n.getGui();i.popupService.positionPopupUnderComponent({type:"columnMenu",column:e,eventSource:t,ePopup:u,minWidth:l,minHeight:c,alignSide:s,nudgeX:9*r,nudgeY:-23,keepWithinBounds:!0}),o&&n.showTab(o)}),o,n,t)},t.prototype.showMenu=function(e,t,o,n,r){var s=this,a=new Ud(e,this.lastSelectedTab,n);this.createBean(a);var l=a.getGui(),c=this.popupService.addAsModalPopup(l,!0,(function(t){if(s.destroyBean(a),e.setMenuVisible(!1,"contextMenu"),t instanceof KeyboardEvent&&r&&i._.isVisible(r)){var o=s.focusController.findTabbableParent(r);o&&o.focus()}}));a.afterGuiAttached({hidePopup:c}),t(a),o||a.showTabBasedOnPreviousSelection(),a.addEventListener(Ud.EVENT_TAB_SELECTED,(function(e){s.lastSelectedTab=e.key})),e.setMenuVisible(!0,"contextMenu"),this.activeMenu=a,a.addEventListener(i.BeanStub.EVENT_DESTROYED,(function(){s.activeMenu===a&&(s.activeMenu=null)}))},t.prototype.isMenuEnabled=function(e){return e.getMenuTabs(Ud.TABS_DEFAULT).length>0},jd([i.Autowired("popupService")],t.prototype,"popupService",void 0),jd([i.Autowired("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),jd([i.Autowired("focusController")],t.prototype,"focusController",void 0),t=jd([i.Bean("menuFactory")],t)}(i.BeanStub),Ud=function(e){function t(o,n,i){var r=e.call(this)||this;return r.tabFactories={},r.includeChecks={},r.timeOfLastColumnChange=Date.now(),r.column=o,r.initialSelection=n,r.tabFactories[t.TAB_GENERAL]=r.createMainPanel.bind(r),r.tabFactories[t.TAB_FILTER]=r.createFilterPanel.bind(r),r.tabFactories[t.TAB_COLUMNS]=r.createColumnsPanel.bind(r),r.includeChecks[t.TAB_GENERAL]=function(){return!0},r.includeChecks[t.TAB_FILTER]=function(){return o.isFilterAllowed()},r.includeChecks[t.TAB_COLUMNS]=function(){return!0},r.restrictTo=i,r}return Wd(t,e),t.prototype.getMinDimensions=function(){return this.tabbedLayout.getMinDimensions()},t.prototype.init=function(){var e=this,t=this.getTabsToCreate().map((function(t){return e.createTab(t)}));this.tabbedLayout=new i.TabbedLayout({items:t,cssClass:"ag-menu",onActiveItemClicked:this.onHidePopup.bind(this),onItemClicked:this.onTabItemClicked.bind(this)}),this.createBean(this.tabbedLayout),this.mainMenuList&&this.mainMenuList.setParentComponent(this.tabbedLayout),this.addManagedListener(this.eventService,i.Events.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this))},t.prototype.getTabsToCreate=function(){var e=this;return this.restrictTo?this.restrictTo:this.column.getMenuTabs(t.TABS_DEFAULT).filter((function(t){return e.isValidMenuTabItem(t)})).filter((function(t){return e.isNotSuppressed(t)})).filter((function(t){return e.isModuleLoaded(t)}))},t.prototype.isModuleLoaded=function(e){return e!==t.TAB_COLUMNS||i.ModuleRegistry.isRegistered(i.ModuleNames.ColumnToolPanelModule)},t.prototype.isValidMenuTabItem=function(e){var o=!0,n=t.TABS_DEFAULT;return null!=this.restrictTo&&(o=this.restrictTo.indexOf(e)>-1,n=this.restrictTo),(o=o&&t.TABS_DEFAULT.indexOf(e)>-1)||console.warn("Trying to render an invalid menu item '"+e+"'. Check that your 'menuTabs' contains one of ["+n+"]"),o},t.prototype.isNotSuppressed=function(e){return this.includeChecks[e]()},t.prototype.createTab=function(e){return this.tabFactories[e]()},t.prototype.showTabBasedOnPreviousSelection=function(){this.showTab(this.initialSelection)},t.prototype.showTab=function(e){this.tabItemColumns&&e===t.TAB_COLUMNS?this.tabbedLayout.showItem(this.tabItemColumns):this.tabItemFilter&&e===t.TAB_FILTER?this.tabbedLayout.showItem(this.tabItemFilter):this.tabItemGeneral&&e===t.TAB_GENERAL?this.tabbedLayout.showItem(this.tabItemGeneral):this.tabbedLayout.showFirstItem()},t.prototype.onTabItemClicked=function(e){var o=null;switch(e.item){case this.tabItemColumns:o=t.TAB_COLUMNS;break;case this.tabItemFilter:o=t.TAB_FILTER;break;case this.tabItemGeneral:o=t.TAB_GENERAL}o&&this.activateTab(o)},t.prototype.activateTab=function(e){var o={type:t.EVENT_TAB_SELECTED,key:e};this.dispatchEvent(o)},t.prototype.getMenuItems=function(){var e,o=this.getDefaultMenuOptions(),n=this.gridOptionsWrapper.getMainMenuItemsFunc();n?e=n({column:this.column,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext(),defaultItems:o}):e=o;return i._.removeRepeatsFromArray(e,t.MENU_ITEM_SEPARATOR),e},t.prototype.getDefaultMenuOptions=function(){var e=[],o=!this.column.getColDef().lockPinned,n=this.columnController.getRowGroupColumns().length,r=n>0,s=this.columnController.getRowGroupColumns().indexOf(this.column)>=0,a=this.column.isAllowValue(),l=this.column.isAllowRowGroup(),c=this.column.isPrimary(),u=this.columnController.isPivotMode(),d=this.rowModel.getType()===i.Constants.ROW_MODEL_TYPE_CLIENT_SIDE,h=this.gridOptionsWrapper.isTreeData(),p=c&&r&&a||!c;o&&e.push("pinSubMenu"),p&&e.push("valueAggSubMenu"),(o||p)&&e.push(t.MENU_ITEM_SEPARATOR),e.push("autoSizeThis"),e.push("autoSizeAll"),e.push(t.MENU_ITEM_SEPARATOR),l&&this.column.isPrimary()&&(s?e.push("rowUnGroup"):e.push("rowGroup")),e.push(t.MENU_ITEM_SEPARATOR),e.push("resetColumns");var g=!1;return d&&(g=!!h||(u?n>1:n>0)),g&&(e.push("expandAll"),e.push("contractAll")),e},t.prototype.createMainPanel=function(){this.mainMenuList=new Bd,this.createManagedBean(this.mainMenuList);var e=this.getMenuItems(),o=this.menuItemMapper.mapWithStockItems(e,this.column);return this.mainMenuList.addMenuItems(o),this.mainMenuList.addEventListener(Gd.EVENT_ITEM_SELECTED,this.onHidePopup.bind(this)),this.tabItemGeneral={title:i._.createIconNoSpan("menu",this.gridOptionsWrapper,this.column),titleLabel:t.TAB_GENERAL.replace("MenuTab",""),bodyPromise:i.Promise.resolve(this.mainMenuList.getGui()),name:t.TAB_GENERAL},this.tabItemGeneral},t.prototype.onHidePopup=function(){this.hidePopupFunc();var e=this.focusController.getFocusedCell();if(e){var t=e.rowIndex,o=e.rowPinned,n=e.column;this.focusController.setFocusedCell(t,n,o,!0)}},t.prototype.createFilterPanel=function(){var e=this.filterManager.getOrCreateFilterWrapper(this.column,"COLUMN_MENU"),o=null;return e.filterPromise&&e.filterPromise.then((function(e){e.afterGuiAttached&&(o=e.afterGuiAttached.bind(e))})),this.tabItemFilter={title:i._.createIconNoSpan("filter",this.gridOptionsWrapper,this.column),titleLabel:t.TAB_FILTER.replace("MenuTab",""),bodyPromise:e.guiPromise,afterAttachedCallback:o,name:t.TAB_FILTER},this.tabItemFilter},t.prototype.createColumnsPanel=function(){var e=document.createElement("div");return i._.addCssClass(e,"ag-menu-column-select-wrapper"),this.columnSelectPanel=this.createManagedBean(new De),this.columnSelectPanel.init(!1,{suppressValues:!1,suppressPivots:!1,suppressRowGroups:!1,suppressPivotMode:!1,contractColumnSelection:!1,suppressColumnExpandAll:!1,suppressColumnFilter:!1,suppressColumnSelectAll:!1,suppressSideButtons:!1,suppressSyncLayoutWithGrid:!1,api:this.gridApi,columnApi:this.columnApi}),i._.addCssClass(this.columnSelectPanel.getGui(),"ag-menu-column-select"),e.appendChild(this.columnSelectPanel.getGui()),this.tabItemColumns={title:i._.createIconNoSpan("columns",this.gridOptionsWrapper,this.column),titleLabel:t.TAB_COLUMNS.replace("MenuTab",""),bodyPromise:i.Promise.resolve(e),name:t.TAB_COLUMNS},this.tabItemColumns},t.prototype.afterGuiAttached=function(e){var t=this;this.tabbedLayout.setAfterAttachedParams({hidePopup:e.hidePopup}),this.hidePopupFunc=e.hidePopup;var o=this.gridApi.getHorizontalPixelRange().left;this.addDestroyFunc(e.hidePopup),this.addManagedListener(this.eventService,"bodyScroll",(function(n){if(!(Date.now()-t.timeOfLastColumnChange<500)&&"horizontal"===n.direction){var i=t.gridApi.getHorizontalPixelRange().left;Math.abs(i-o)>t.gridOptionsWrapper.getScrollbarWidth()&&e.hidePopup()}}))},t.prototype.getGui=function(){return this.tabbedLayout.getGui()},t.prototype.onDisplayedColumnsChanged=function(){this.timeOfLastColumnChange=Date.now()},t.EVENT_TAB_SELECTED="tabSelected",t.TAB_FILTER="filterMenuTab",t.TAB_GENERAL="generalMenuTab",t.TAB_COLUMNS="columnsMenuTab",t.TABS_DEFAULT=[t.TAB_GENERAL,t.TAB_FILTER,t.TAB_COLUMNS],t.MENU_ITEM_SEPARATOR="separator",jd([i.Autowired("columnController")],t.prototype,"columnController",void 0),jd([i.Autowired("filterManager")],t.prototype,"filterManager",void 0),jd([i.Autowired("gridApi")],t.prototype,"gridApi",void 0),jd([i.Autowired("columnApi")],t.prototype,"columnApi",void 0),jd([i.Autowired("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),jd([i.Autowired("menuItemMapper")],t.prototype,"menuItemMapper",void 0),jd([i.Autowired("rowModel")],t.prototype,"rowModel",void 0),jd([i.Autowired("focusController")],t.prototype,"focusController",void 0),jd([i.PostConstruct],t.prototype,"init",null),t}(i.BeanStub),$d=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Kd=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Yd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return $d(t,e),t.prototype.hideActiveMenu=function(){this.destroyBean(this.activeMenu)},t.prototype.getMenuItems=function(e,t,o){var n=[];if(i._.exists(e)&&i.ModuleRegistry.isRegistered(i.ModuleNames.ClipboardModule)&&t&&n.push("copy","copyWithHeaders","paste","separator"),this.gridOptionsWrapper.isEnableCharts()&&i.ModuleRegistry.isRegistered(i.ModuleNames.RangeSelectionModule)&&i.ModuleRegistry.isRegistered(i.ModuleNames.GridChartsModule)&&(this.columnController.isPivotMode()&&n.push("pivotChart"),this.rangeController&&!this.rangeController.isEmpty()&&n.push("chartRange")),i._.exists(e)){var r=!i.ModuleRegistry.isRegistered(i.ModuleNames.CsvExportModule),s=!i.ModuleRegistry.isRegistered(i.ModuleNames.ExcelExportModule),a=this.gridOptionsWrapper.isSuppressExcelExport()||s,l=this.gridOptionsWrapper.isSuppressCsvExport()||r;!i._.isIOSUserAgent()&&(!a||!l)&&n.push("export")}if(this.gridOptionsWrapper.getContextMenuItemsFunc()){var c=this.gridOptionsWrapper.getContextMenuItemsFunc(),u={node:e,column:t,value:o,defaultItems:n.length?n:void 0,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()};return c?c(u):void 0}return n},t.prototype.showMenu=function(e,t,o,n){var r=this,s=this.getMenuItems(e,t,o);if(void 0===s||i._.missingOrEmpty(s))return!1;var a=new qd(s);this.createBean(a);var l=a.getGui(),c=this.popupService.addAsModalPopup(l,!0,(function(){return r.destroyBean(a)}),n);return this.popupService.positionPopupUnderMouseEvent({column:t,rowNode:e,type:"contextMenu",mouseEvent:n,ePopup:l,nudgeX:1,nudgeY:1}),a.afterGuiAttached({hidePopup:c}),this.activeMenu=a,a.addEventListener(i.BeanStub.EVENT_DESTROYED,(function(){r.activeMenu===a&&(r.activeMenu=null)})),!0},Kd([i.Autowired("popupService")],t.prototype,"popupService",void 0),Kd([i.Autowired("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),Kd([i.Optional("rangeController")],t.prototype,"rangeController",void 0),Kd([i.Autowired("columnController")],t.prototype,"columnController",void 0),t=Kd([i.Bean("contextMenuFactory")],t)}(i.BeanStub),qd=function(e){function t(t){var o=e.call(this,'<div class="ag-menu"></div>')||this;return o.menuList=null,o.focusedCell=null,o.menuItems=t,o}return $d(t,e),t.prototype.addMenuItems=function(){var e=new Bd;this.getContext().createBean(e);var t=this.menuItemMapper.mapWithStockItems(this.menuItems,null);e.addMenuItems(t),this.appendChild(e),this.menuList=e,e.addEventListener(Gd.EVENT_ITEM_SELECTED,this.destroy.bind(this))},t.prototype.afterGuiAttached=function(e){e.hidePopup&&this.addDestroyFunc(e.hidePopup),this.focusedCell=this.focusController.getFocusedCell(),this.menuList&&this.focusController.focusFirstFocusableElement(this.menuList.getGui()),this.addManagedListener(this.eventService,"bodyScroll",this.destroy.bind(this))},t.prototype.destroy=function(){var t=this.focusController.getFocusedCell();if(t&&this.focusedCell&&this.cellPositionUtils.equals(t,this.focusedCell)){var o=this.focusedCell,n=o.rowIndex,i=o.rowPinned,r=o.column;this.focusController.setFocusedCell(n,r,i,!0)}e.prototype.destroy.call(this)},Kd([i.Autowired("menuItemMapper")],t.prototype,"menuItemMapper",void 0),Kd([i.Autowired("focusController")],t.prototype,"focusController",void 0),Kd([i.Autowired("cellPositionUtils")],t.prototype,"cellPositionUtils",void 0),Kd([i.PostConstruct],t.prototype,"addMenuItems",null),t}(i.Component),Xd=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Qd=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Zd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Xd(t,e),t.prototype.mapWithStockItems=function(e,t){var o=this;if(!e)return[];var n=[];return e.forEach((function(e){var i;if(i="string"===typeof e?o.getStockMenuItem(e,t):e){if(i.subMenu){var r=i;r.subMenu=o.mapWithStockItems(r.subMenu,t)}null!=i&&n.push(i)}})),n},t.prototype.getStockMenuItem=function(e,t){var o=this,n=this.gridOptionsWrapper.getLocaleTextFunc(),r=this.gridOptionsWrapper.isSkipHeaderOnAutoSize();switch(e){case"pinSubMenu":return{name:n("pinColumn","Pin Column"),icon:i._.createIconNoSpan("menuPin",this.gridOptionsWrapper,null),subMenu:["pinLeft","pinRight","clearPinned"]};case"pinLeft":return{name:n("pinLeft","Pin Left"),action:function(){return o.columnController.setColumnPinned(t,i.Constants.PINNED_LEFT,"contextMenu")},checked:t.isPinnedLeft()};case"pinRight":return{name:n("pinRight","Pin Right"),action:function(){return o.columnController.setColumnPinned(t,i.Constants.PINNED_RIGHT,"contextMenu")},checked:t.isPinnedRight()};case"clearPinned":return{name:n("noPin","No Pin"),action:function(){return o.columnController.setColumnPinned(t,null,"contextMenu")},checked:!t.isPinned()};case"valueAggSubMenu":return i.ModuleRegistry.assertRegistered(i.ModuleNames.RowGroupingModule,"Aggregation from Menu")?{name:n("valueAggregation","Value Aggregation"),icon:i._.createIconNoSpan("menuValue",this.gridOptionsWrapper,null),subMenu:this.createAggregationSubMenu(t)}:null;case"autoSizeThis":return{name:n("autosizeThiscolumn","Autosize This Column"),action:function(){return o.columnController.autoSizeColumn(t,r,"contextMenu")}};case"autoSizeAll":return{name:n("autosizeAllColumns","Autosize All Columns"),action:function(){return o.columnController.autoSizeAllColumns(r,"contextMenu")}};case"rowGroup":return{name:n("groupBy","Group by")+" "+i._.escape(this.columnController.getDisplayNameForColumn(t,"header")),action:function(){return o.columnController.addRowGroupColumn(t,"contextMenu")},icon:i._.createIconNoSpan("menuAddRowGroup",this.gridOptionsWrapper,null)};case"rowUnGroup":return{name:n("ungroupBy","Un-Group by")+" "+i._.escape(this.columnController.getDisplayNameForColumn(t,"header")),action:function(){return o.columnController.removeRowGroupColumn(t,"contextMenu")},icon:i._.createIconNoSpan("menuRemoveRowGroup",this.gridOptionsWrapper,null)};case"resetColumns":return{name:n("resetColumns","Reset Columns"),action:function(){return o.columnController.resetColumnState(!1,"contextMenu")}};case"expandAll":return{name:n("expandAll","Expand All"),action:function(){return o.gridApi.expandAll()}};case"contractAll":return{name:n("collapseAll","Collapse All"),action:function(){return o.gridApi.collapseAll()}};case"copy":return i.ModuleRegistry.assertRegistered(i.ModuleNames.ClipboardModule,"Copy from Menu")?{name:n("copy","Copy"),shortcut:n("ctrlC","Ctrl+C"),icon:i._.createIconNoSpan("clipboardCopy",this.gridOptionsWrapper,null),action:function(){return o.clipboardService.copyToClipboard(!1)}}:null;case"copyWithHeaders":return i.ModuleRegistry.assertRegistered(i.ModuleNames.ClipboardModule,"Copy with Headers from Menu")?{name:n("copyWithHeaders","Copy with Headers"),icon:i._.createIconNoSpan("clipboardCopy",this.gridOptionsWrapper,null),action:function(){return o.clipboardService.copyToClipboard(!0)}}:null;case"paste":return i.ModuleRegistry.assertRegistered(i.ModuleNames.ClipboardModule,"Copy with Headers from Menu")?{name:n("paste","Paste"),shortcut:n("ctrlV","Ctrl+V"),disabled:!0,icon:i._.createIconNoSpan("clipboardPaste",this.gridOptionsWrapper,null),action:function(){return o.clipboardService.pasteFromClipboard()}}:null;case"export":var s=[],a=i.ModuleRegistry.isRegistered(i.ModuleNames.CsvExportModule),l=i.ModuleRegistry.isRegistered(i.ModuleNames.ExcelExportModule);return!this.gridOptionsWrapper.isSuppressCsvExport()&&a&&s.push("csvExport"),!this.gridOptionsWrapper.isSuppressExcelExport()&&l&&(s.push("excelExport"),s.push("excelXmlExport")),{name:n("export","Export"),subMenu:s,icon:i._.createIconNoSpan("save",this.gridOptionsWrapper,null)};case"csvExport":return{name:n("csvExport","CSV Export"),action:function(){return o.gridApi.exportDataAsCsv({})}};case"excelExport":return{name:n("excelExport","Excel Export (.xlsx)&lrm;"),action:function(){return o.gridApi.exportDataAsExcel({exportMode:"xlsx"})}};case"excelXmlExport":return{name:n("excelXmlExport","Excel Export (.xml)&lrm;"),action:function(){return o.gridApi.exportDataAsExcel({exportMode:"xml"})}};case"separator":return"separator";default:var c=this.getChartItems(e);return c||(console.warn("ag-Grid: unknown menu item type "+e),null)}},t.prototype.getChartItems=function(e){var t=this,o=this.gridOptionsWrapper.getLocaleTextFunc(),n=function(e,n,i){return{name:o(e,n),action:function(){return t.chartService.createPivotChart({chartType:i})}}},r=function(e,n,i){return{name:o(e,n),action:function(){return t.chartService.createChartFromCurrentRange(i)}}};switch(e){case"pivotChart":return{name:o("pivotChart","Pivot Chart"),subMenu:["pivotColumnChart","pivotBarChart","pivotPieChart","pivotLineChart","pivotXYChart","pivotAreaChart"],icon:i._.createIconNoSpan("chart",this.gridOptionsWrapper,null)};case"chartRange":return{name:o("chartRange","Chart Range"),subMenu:["rangeColumnChart","rangeBarChart","rangePieChart","rangeLineChart","rangeXYChart","rangeAreaChart","rangeHistogramChart"],icon:i._.createIconNoSpan("chart",this.gridOptionsWrapper,null)};case"pivotColumnChart":return{name:o("columnChart","Column"),subMenu:["pivotGroupedColumn","pivotStackedColumn","pivotNormalizedColumn"]};case"pivotGroupedColumn":return n("groupedColumn","Grouped&lrm;",i.ChartType.GroupedColumn);case"pivotStackedColumn":return n("stackedColumn","Stacked&lrm;",i.ChartType.StackedColumn);case"pivotNormalizedColumn":return n("normalizedColumn","100% Stacked&lrm;",i.ChartType.NormalizedColumn);case"rangeColumnChart":return{name:o("columnChart","Column"),subMenu:["rangeGroupedColumn","rangeStackedColumn","rangeNormalizedColumn"]};case"rangeGroupedColumn":return r("groupedColumn","Grouped&lrm;",i.ChartType.GroupedColumn);case"rangeStackedColumn":return r("stackedColumn","Stacked&lrm;",i.ChartType.StackedColumn);case"rangeNormalizedColumn":return r("normalizedColumn","100% Stacked&lrm;",i.ChartType.NormalizedColumn);case"pivotBarChart":return{name:o("barChart","Bar"),subMenu:["pivotGroupedBar","pivotStackedBar","pivotNormalizedBar"]};case"pivotGroupedBar":return n("groupedBar","Grouped&lrm;",i.ChartType.GroupedBar);case"pivotStackedBar":return n("stackedBar","Stacked&lrm;",i.ChartType.StackedBar);case"pivotNormalizedBar":return n("normalizedBar","100% Stacked&lrm;",i.ChartType.NormalizedBar);case"rangeBarChart":return{name:o("barChart","Bar"),subMenu:["rangeGroupedBar","rangeStackedBar","rangeNormalizedBar"]};case"rangeGroupedBar":return r("groupedBar","Grouped&lrm;",i.ChartType.GroupedBar);case"rangeStackedBar":return r("stackedBar","Stacked&lrm;",i.ChartType.StackedBar);case"rangeNormalizedBar":return r("normalizedBar","100% Stacked&lrm;",i.ChartType.NormalizedBar);case"pivotPieChart":return{name:o("pieChart","Pie"),subMenu:["pivotPie","pivotDoughnut"]};case"pivotPie":return n("pie","Pie&lrm;",i.ChartType.Pie);case"pivotDoughnut":return n("doughnut","Doughnut&lrm;",i.ChartType.Doughnut);case"rangePieChart":return{name:o("pieChart","Pie"),subMenu:["rangePie","rangeDoughnut"]};case"rangePie":return r("pie","Pie&lrm;",i.ChartType.Pie);case"rangeDoughnut":return r("doughnut","Doughnut&lrm;",i.ChartType.Doughnut);case"pivotLineChart":return n("line","Line&lrm;",i.ChartType.Line);case"rangeLineChart":return r("line","Line&lrm;",i.ChartType.Line);case"pivotXYChart":return{name:o("xyChart","X Y (Scatter)"),subMenu:["pivotScatter","pivotBubble"]};case"pivotScatter":return n("scatter","Scatter&lrm;",i.ChartType.Scatter);case"pivotBubble":return n("bubble","Bubble&lrm;",i.ChartType.Bubble);case"rangeXYChart":return{name:o("xyChart","X Y (Scatter)"),subMenu:["rangeScatter","rangeBubble"]};case"rangeScatter":return r("scatter","Scatter&lrm;",i.ChartType.Scatter);case"rangeBubble":return r("bubble","Bubble&lrm;",i.ChartType.Bubble);case"pivotAreaChart":return{name:o("areaChart","Area"),subMenu:["pivotArea","pivotStackedArea","pivotNormalizedArea"]};case"pivotArea":return n("area","Area&lrm;",i.ChartType.Area);case"pivotStackedArea":return n("stackedArea","Stacked&lrm;",i.ChartType.StackedArea);case"pivotNormalizedArea":return n("normalizedArea","100% Stacked&lrm;",i.ChartType.NormalizedArea);case"rangeAreaChart":return{name:o("areaChart","Area"),subMenu:["rangeArea","rangeStackedArea","rangeNormalizedArea"]};case"rangeArea":return r("area","Area&lrm;",i.ChartType.Area);case"rangeStackedArea":return r("stackedArea","Stacked&lrm;",i.ChartType.StackedArea);case"rangeNormalizedArea":return r("normalizedArea","100% Stacked&lrm;",i.ChartType.NormalizedArea);case"rangeHistogramChart":return r("histogramChart","Histogram&lrm;",i.ChartType.Histogram);default:return null}},t.prototype.createAggregationSubMenu=function(e){var t,o=this,n=this.gridOptionsWrapper.getLocaleTextFunc(),r=e.isValueActive(),s=this.aggFuncService.getFuncNames(e);if(e.isPrimary())t=e;else{var a=e.getColDef().pivotValueColumn;t=i._.exists(a)?a:void 0}var l=[];return s.forEach((function(e){l.push({name:n(e,e),action:function(){o.columnController.setColumnAggFunc(t,e,"contextMenu"),o.columnController.addValueColumn(t,"contextMenu")},checked:r&&t.getAggFunc()===e})})),l},Qd([i.Autowired("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),Qd([i.Autowired("columnController")],t.prototype,"columnController",void 0),Qd([i.Autowired("gridApi")],t.prototype,"gridApi",void 0),Qd([i.Optional("clipboardService")],t.prototype,"clipboardService",void 0),Qd([i.Optional("aggFuncService")],t.prototype,"aggFuncService",void 0),Qd([i.Optional("chartService")],t.prototype,"chartService",void 0),t=Qd([i.Bean("menuItemMapper")],t)}(i.BeanStub),Jd={moduleName:i.ModuleNames.MenuModule,beans:[zd,Yd,Zd],dependantModules:[g]},eh=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),th=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},oh=function(e){function t(t){var o=e.call(this,'<div class="ag-rich-select-row"></div>')||this;return o.params=t,o}return eh(t,e),t.prototype.setState=function(e,t,o){this.populateWithRenderer(e,t)||this.populateWithoutRenderer(e,t),i._.addOrRemoveCssClass(this.getGui(),"ag-rich-select-row-selected",o)},t.prototype.populateWithoutRenderer=function(e,t){var o=null!==t&&void 0!==t?t:e;i._.exists(o)&&""!==o?this.getGui().textContent=o.toString():this.getGui().innerHTML="&nbsp;"},t.prototype.populateWithRenderer=function(e,t){var o=this,n={value:e,valueFormatted:t,api:this.gridOptionsWrapper.getApi()},r=this.userComponentFactory.newCellRenderer(this.params,n);return null!=r?i._.bindCellRendererToHtmlElement(r,this.getGui()):this.getGui().innerText=null!=n.valueFormatted?n.valueFormatted:n.value,!!r&&(r.then((function(e){o.addDestroyFunc((function(){o.getContext().destroyBean(e)}))})),!0)},th([i.Autowired("userComponentFactory")],t.prototype,"userComponentFactory",void 0),th([i.Autowired("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),t}(i.Component),nh=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),ih=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},rh=function(e){function t(){var o=e.call(this,t.TEMPLATE)||this;return o.selectionConfirmed=!1,o.searchString="",o}return nh(t,e),t.prototype.init=function(e){this.params=e,this.selectedValue=e.value,this.originalSelectedValue=e.value,this.focusAfterAttached=e.cellStartedEdit;var t=i._.createIconNoSpan("smallDown",this.gridOptionsWrapper);if(i._.addCssClass(t,"ag-rich-select-value-icon"),this.eValue.appendChild(t),this.virtualList=new i.VirtualList("rich-select"),this.getContext().createBean(this.virtualList),this.virtualList.setComponentCreator(this.createRowComponent.bind(this)),this.eList.appendChild(this.virtualList.getGui()),i._.exists(this.params.cellHeight)&&this.virtualList.setRowHeight(this.params.cellHeight),this.renderSelectedValue(),i._.missing(e.values))console.warn("ag-Grid: richSelectCellEditor requires values for it to work");else{var o=e.values;this.virtualList.setModel({getRowCount:function(){return o.length},getRow:function(e){return o[e]}}),this.addGuiEventListener("keydown",this.onKeyDown.bind(this));var n=this.virtualList.getGui();this.addManagedListener(n,"click",this.onClick.bind(this)),this.addManagedListener(n,"mousemove",this.onMouseMove.bind(this)),this.clearSearchString=i._.debounce(this.clearSearchString,300),i._.exists(e.charPress)&&this.searchText(e.charPress)}},t.prototype.onKeyDown=function(e){var t=e.which||e.keyCode;switch(t){case i.Constants.KEY_ENTER:this.onEnterKeyDown();break;case i.Constants.KEY_DOWN:case i.Constants.KEY_UP:this.onNavigationKeyPressed(e,t);break;default:this.searchText(e)}},t.prototype.onEnterKeyDown=function(){this.selectionConfirmed=!0,this.params.stopEditing()},t.prototype.onNavigationKeyPressed=function(e,t){e.preventDefault();var o=this.params.values.indexOf(this.selectedValue),n=t===i.Constants.KEY_UP?o-1:o+1;if(n>=0&&n<this.params.values.length){var r=this.params.values[n];this.setSelectedValue(r)}},t.prototype.searchText=function(e){if("string"!==typeof e){if(!i._.isCharacterKey(e))return;e=e.key}this.searchString+=e,this.runSearch(),this.clearSearchString()},t.prototype.runSearch=function(){var e,t=this.params.values;if("number"!==typeof t[0]&&"string"!==typeof t[0]||(e=t.map(String)),"object"===typeof t[0]&&this.params.colDef.keyCreator&&(e=t.map(this.params.colDef.keyCreator)),e){var o=i._.fuzzySuggestions(this.searchString,e,!0,!0)[0];if(o){var n=t[e.indexOf(o)];this.setSelectedValue(n)}}},t.prototype.clearSearchString=function(){this.searchString=""},t.prototype.renderSelectedValue=function(){var e=this,t=this.params.formatValue(this.selectedValue),o=this.eValue,n={value:this.selectedValue,valueFormatted:t,api:this.gridOptionsWrapper.getApi()},r=this.userComponentFactory.newCellRenderer(this.params,n);null!=r?i._.bindCellRendererToHtmlElement(r,o):o.innerText=null!=n.valueFormatted?n.valueFormatted:n.value,r?r.then((function(t){e.addDestroyFunc((function(){return e.getContext().destroyBean(t)}))})):i._.exists(this.selectedValue)?o.innerHTML=t:i._.clearElement(o)},t.prototype.setSelectedValue=function(e){if(this.selectedValue!==e){var t=this.params.values.indexOf(e);t>=0&&(this.selectedValue=e,this.virtualList.ensureIndexVisible(t),this.virtualList.refresh())}},t.prototype.createRowComponent=function(e){var t=this.params.formatValue(e),o=new oh(this.params);return this.getContext().createBean(o),o.setState(e,t,e===this.selectedValue),o},t.prototype.onMouseMove=function(e){var t=this.virtualList.getGui().getBoundingClientRect(),o=this.virtualList.getScrollTop(),n=e.clientY-t.top+o,i=Math.floor(n/this.virtualList.getRowHeight()),r=this.params.values[i];void 0!==r&&this.setSelectedValue(r)},t.prototype.onClick=function(){this.selectionConfirmed=!0,this.params.stopEditing()},t.prototype.afterGuiAttached=function(){var e=this.params.values.indexOf(this.selectedValue);this.virtualList.refresh(),e>=0&&this.virtualList.ensureIndexVisible(e),this.virtualList.refresh(),this.focusAfterAttached&&this.getGui().focus()},t.prototype.getValue=function(){return this.selectionConfirmed?this.selectedValue:this.originalSelectedValue},t.TEMPLATE='<div class="ag-rich-select" tabindex="-1">\n            <div ref="eValue" class="ag-rich-select-value"></div>\n            <div ref="eList" class="ag-rich-select-list"></div>\n        </div>',ih([i.Autowired("userComponentFactory")],t.prototype,"userComponentFactory",void 0),ih([i.Autowired("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),ih([i.RefSelector("eValue")],t.prototype,"eValue",void 0),ih([i.RefSelector("eList")],t.prototype,"eList",void 0),t}(i.PopupComponent),sh={moduleName:i.ModuleNames.RichSelectModule,beans:[],userComponents:[{componentName:"agRichSelect",componentClass:rh},{componentName:"agRichSelectCellEditor",componentClass:rh}],dependantModules:[g]},ah=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),lh=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},ch=function(e,t){return function(o,n){t(o,n,e)}},uh=function(e){function t(t,o,n,i){var r=e.call(this,t,n)||this;return r.params=n,r.parentRowNode=o,r.parentCache=i,r.level=o.level+1,r.groupLevel=n.rowGroupCols?r.level<n.rowGroupCols.length:void 0,r.leafGroup=!!n.rowGroupCols&&r.level===n.rowGroupCols.length-1,r}return ah(t,e),t.prototype.init=function(){if(this.usingTreeData=this.gridOptionsWrapper.isTreeData(),this.usingMasterDetail=this.gridOptionsWrapper.isMasterDetail(),!this.usingTreeData&&this.groupLevel){var t=this.params.rowGroupCols[this.level];this.groupField=t.field,this.rowGroupColumn=this.columnController.getRowGroupColumns()[this.level]}this.createNodeIdPrefix(),e.prototype.init.call(this,{context:this.getContext(),rowRenderer:this.rowRenderer})},t.prototype.setBeans=function(e){this.logger=e.create("ServerSideBlock")},t.prototype.createNodeIdPrefix=function(){for(var e=[],t=this.parentRowNode;t&&t.level>=0;)e.push(t.key),t=t.parent;e.length>0&&(this.nodeIdPrefix=e.reverse().join("-")+"-")},t.prototype.createIdForIndex=function(e){return i._.exists(this.nodeIdPrefix)?this.nodeIdPrefix+e.toString():e.toString()},t.prototype.getNodeIdPrefix=function(){return this.nodeIdPrefix},t.prototype.getRow=function(t){var o=this.getStartRow(),n=this.parentCache.getVirtualRowCount(),r=this.getEndRow(),s=(n<r?n:r)-1;if(i._.missing(s)||i._.missing(o))return console.warn("ag-grid: error: topPointer = "+s+", bottomPointer = "+o),null;for(;;){var a=Math.floor((o+s)/2),l=e.prototype.getRowUsingLocalIndex.call(this,a);if(l.rowIndex===t)return l;if(l.master&&l.expanded&&l.detailNode.rowIndex===t)return l.detailNode;var c=l.childrenCache;if(l.expanded&&c&&c.isDisplayIndexInCache(t))return c.getRow(t);if(l.rowIndex<t)o=a+1;else{if(!(l.rowIndex>t))return console.warn("ag-Grid: error: unable to locate rowIndex = "+t+" in cache"),null;s=a-1}}},t.prototype.setDataAndId=function(e,t,o){var n=this;if(e.stub=!1,i._.exists(t)){var r=this.createIdForIndex(o);if(e.setDataAndId(t,r),e.setRowHeight(this.gridOptionsWrapper.getRowHeightForNode(e).height),this.usingTreeData){var s=this.gridOptionsWrapper.getServerSideGroupKeyFunc();i._.exists(s)&&s&&(e.key=s(e.data));var a=this.gridOptionsWrapper.getIsServerSideGroupFunc();i._.exists(a)&&a&&(e.group=a(e.data))}else if(e.group)e.key=this.valueService.getValue(this.rowGroupColumn,e),null!==e.key&&void 0!==e.key||i._.doOnce((function(){console.warn("null and undefined values are not allowed for server side row model keys"),n.rowGroupColumn&&console.warn("column = "+n.rowGroupColumn.getId()),console.warn("data is ",e.data)}),"ServerSideBlock-CannotHaveNullOrUndefinedForKey");else if(this.usingMasterDetail){var l=this.gridOptionsWrapper.getIsRowMasterFunc();i._.exists(l)&&l?e.master=l(e.data):e.master=!0}}else e.setDataAndId(void 0,void 0),e.key=null;(this.usingTreeData||this.groupLevel)&&(this.setGroupDataIntoRowNode(e),this.setChildCountIntoRowNode(e))},t.prototype.setChildCountIntoRowNode=function(e){var t=this.gridOptionsWrapper.getChildCountFunc();t&&(e.allChildrenCount=t(e.data))},t.prototype.setGroupDataIntoRowNode=function(e){var t=this,o=this.columnController.getGroupDisplayColumns(),n=this.gridOptionsWrapper.isTreeData();o.forEach((function(o){if(n)i._.missing(e.groupData)&&(e.groupData={}),e.groupData[o.getColId()]=e.key;else if(o.isRowGroupDisplayed(t.rowGroupColumn.getId())){var r=t.valueService.getValue(t.rowGroupColumn,e);i._.missing(e.groupData)&&(e.groupData={}),e.groupData[o.getColId()]=r}}))},t.prototype.loadFromDatasource=function(){var e=this,t=this.createLoadParams();window.setTimeout((function(){e.params.datasource&&e.params.datasource.getRows(t)}),0)},t.prototype.createBlankRowNode=function(t){var o=e.prototype.createBlankRowNode.call(this,t);return o.group=this.groupLevel,o.leafGroup=this.leafGroup,o.level=this.level,o.uiLevel=this.level,o.parent=this.parentRowNode,o.stub=!0,o.group&&(o.expanded=!1,o.field=this.groupField,o.rowGroupColumn=this.rowGroupColumn),o},t.prototype.createGroupKeys=function(e){for(var t=[],o=e;o&&o.level>=0;)t.push(o.key),o=o.parent;return t.reverse(),t},t.prototype.isPixelInRange=function(e){return e>=this.blockTop&&e<this.blockTop+this.blockHeight},t.prototype.getRowBounds=function(e,t){for(var o=this.getStartRow(),n=this.getEndRow(),r=function(e){return{rowHeight:e.rowHeight,rowTop:e.rowTop}},s=o;s<=n;s++)if(!(s>=t)){var a=this.getRowUsingLocalIndex(s);if(a){if(a.rowIndex===e)return r(a);if(a.group&&a.expanded&&i._.exists(a.childrenCache)){var l=a.childrenCache;if(l.isDisplayIndexInCache(e))return l.getRowBounds(e)}else if(a.master&&a.expanded&&i._.exists(a.detailNode)&&a.detailNode.rowIndex===e)return r(a.detailNode)}}return console.error(" ag-Grid: looking for invalid row index in Server Side Row Model, index="+e),null},t.prototype.getRowIndexAtPixel=function(e,t){for(var o=this.getStartRow(),n=this.getEndRow(),r=o;r<=n;r++)if(!(r>=t)){var s=this.getRowUsingLocalIndex(r);if(s){if(s.isPixelInRange(e))return s.rowIndex;if(s.master&&s.expanded&&s.detailNode.isPixelInRange(e))return s.detailNode.rowIndex;if(s.group&&s.expanded&&i._.exists(s.childrenCache)){var a=s.childrenCache;if(a.isPixelInRange(e))return a.getRowIndexAtPixel(e)}}}return console.warn("ag-Grid: invalid pixel range for server side block "+e),0},t.prototype.clearDisplayIndexes=function(e){this.displayIndexEnd=void 0,this.displayIndexStart=void 0,this.forEachRowNode(e,(function(e){(e.clearRowTop(),e.setRowIndex(void 0),e.group&&i._.exists(e.childrenCache))&&e.childrenCache.clearDisplayIndexes();e.master&&e.detailNode&&(e.detailNode.clearRowTop(),e.detailNode.setRowIndex(void 0))}))},t.prototype.setDisplayIndexes=function(e,t,o){this.displayIndexStart=e.peek(),this.blockTop=o.value,this.forEachRowNode(t,(function(t){if(t.setRowIndex(e.next()),t.setRowTop(o.value),o.value+=t.rowHeight,t.master&&(t.expanded&&t.detailNode?(t.detailNode.setRowIndex(e.next()),t.detailNode.setRowTop(o.value),o.value+=t.detailNode.rowHeight):t.detailNode&&(t.detailNode.clearRowTop(),t.detailNode.setRowIndex(void 0))),t.group&&i._.exists(t.childrenCache)){var n=t.childrenCache;t.expanded?n.setDisplayIndexes(e,o):n.clearDisplayIndexes()}})),this.displayIndexEnd=e.peek(),this.blockHeight=o.value-this.blockTop},t.prototype.forEachRowNode=function(e,t){for(var o=this.getStartRow(),n=this.getEndRow(),i=o;i<=n;i++)if(!(i>=e)){var r=this.getRowUsingLocalIndex(i);r&&t(r)}},t.prototype.createLoadParams=function(){var e=this.createGroupKeys(this.parentRowNode),t={startRow:this.getStartRow(),endRow:this.getEndRow(),rowGroupCols:this.params.rowGroupCols,valueCols:this.params.valueCols,pivotCols:this.params.pivotCols,pivotMode:this.params.pivotMode,groupKeys:e,filterModel:this.params.filterModel,sortModel:this.params.sortModel};return{successCallback:this.pageLoaded.bind(this,this.getVersion()),failCallback:this.pageLoadFailed.bind(this),request:t,parentNode:this.parentRowNode,api:this.gridApi,columnApi:this.columnApi}},t.prototype.isDisplayIndexInBlock=function(e){return e>=this.displayIndexStart&&e<this.displayIndexEnd},t.prototype.isBlockBefore=function(e){return e>=this.displayIndexEnd},t.prototype.getDisplayIndexStart=function(){return this.displayIndexStart},t.prototype.getDisplayIndexEnd=function(){return this.displayIndexEnd},t.prototype.getBlockHeight=function(){return this.blockHeight},t.prototype.getBlockTop=function(){return this.blockTop},t.prototype.isGroupLevel=function(){return this.groupLevel},t.prototype.getGroupField=function(){return this.groupField},t.DefaultBlockSize=100,lh([i.Autowired("rowRenderer")],t.prototype,"rowRenderer",void 0),lh([i.Autowired("columnController")],t.prototype,"columnController",void 0),lh([i.Autowired("valueService")],t.prototype,"valueService",void 0),lh([i.Autowired("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),lh([i.Autowired("columnApi")],t.prototype,"columnApi",void 0),lh([i.Autowired("gridApi")],t.prototype,"gridApi",void 0),lh([i.PostConstruct],t.prototype,"init",null),lh([ch(0,i.Qualifier("loggerFactory"))],t.prototype,"setBeans",null),t}(i.RowNodeBlock),dh=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),hh=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},ph=function(e,t){return function(o,n){t(o,n,e)}},gh=function(e){function t(t,o){var n=e.call(this,t)||this;return n.displayIndexStart=0,n.displayIndexEnd=0,n.cacheTop=0,n.blockHeights={},n.parentRowNode=o,n}return dh(t,e),t.prototype.setBeans=function(e){this.logger=e.create("ServerSideCache")},t.prototype.getRowBounds=function(e){var t,o=this,n=!1,i=null;if(this.forEachBlockInOrder((function(r){n||(r.isDisplayIndexInBlock(e)?(t=r.getRowBounds(e,o.getVirtualRowCount()),n=!0):r.isBlockBefore(e)&&(i=r))})),!n){var r=void 0,s=void 0;null!==i?(r=i.getBlockTop()+i.getBlockHeight(),s=i.getDisplayIndexEnd()):(r=this.cacheTop,s=this.displayIndexStart);var a=e-s;t={rowHeight:this.cacheParams.rowHeight,rowTop:r+a*this.cacheParams.rowHeight}}return t},t.prototype.destroyBlock=function(t){e.prototype.destroyBlock.call(this,t)},t.prototype.getRowIndexAtPixel=function(e){var t,o,n=this,i=!1;if(this.forEachBlockInOrder((function(r){i||(r.isPixelInRange(e)?(t=r.getRowIndexAtPixel(e,n.getVirtualRowCount()),i=!0):r.getBlockTop()<e&&(o=r))})),!i){var r=void 0,s=void 0;o?(r=o.getBlockTop()+o.getBlockHeight(),s=o.getDisplayIndexEnd()):(r=this.cacheTop,s=this.displayIndexStart);var a=(e-r)/this.cacheParams.rowHeight|0;t=s+a}var l=this.getDisplayIndexEnd()-1;return t>l&&(t=l),t},t.prototype.clearDisplayIndexes=function(){var e=this;this.displayIndexStart=void 0,this.displayIndexEnd=void 0,this.forEachBlockInOrder((function(t){return t.clearDisplayIndexes(e.getVirtualRowCount())}))},t.prototype.setDisplayIndexes=function(e,t){var o=this;this.displayIndexStart=e.peek(),this.cacheTop=t.value;var n=-1,r=this.getBlockSize();this.forEachBlockInOrder((function(s,a){var l=a-n-1,c=l*r;c>0&&e.skip(c);for(var u=1;u<=l;u++){var d=a-u;i._.exists(o.blockHeights[d])?t.value+=o.blockHeights[d]:t.value+=r*o.cacheParams.rowHeight}n=a,s.setDisplayIndexes(e,o.getVirtualRowCount(),t),o.blockHeights[a]=s.getBlockHeight()}));var s=(n+1)*r-1,a=this.getVirtualRowCount()-s-1;a>0&&(e.skip(a),t.value+=a*this.cacheParams.rowHeight),this.displayIndexEnd=e.peek(),this.cacheHeight=t.value-this.cacheTop},t.prototype.getRow=function(e,t){if(void 0===t&&(t=!1),!this.isDisplayIndexInCache(e))return null;var o=null,n=null;if(this.forEachBlockInOrder((function(t){t.isDisplayIndexInBlock(e)?o=t:t.isBlockBefore(e)&&(n=t)})),i._.missing(o)&&t)return null;var r=this.getBlockSize();if(i._.missing(o)){var s,a=void 0,l=void 0;if(n){a=n.getBlockNumber()+1,s=n.getDisplayIndexEnd(),l=n.getBlockHeight()+n.getBlockTop();for(;!(e>=s&&e<s+r);){s+=r;var c=this.blockHeights[a];i._.exists(c)?l+=c:l+=this.cacheParams.rowHeight*r,a++}}else{var u=e-this.displayIndexStart;a=Math.floor(u/r),s=this.displayIndexStart+a*r,l=this.cacheTop+a*r*this.cacheParams.rowHeight}o=this.createBlock(a,s,{value:l}),this.logger.log("block missing, rowIndex = "+e+", creating #"+a+", displayIndexStart = "+s)}return o?o.getRow(e):null},t.prototype.getBlockSize=function(){return this.cacheParams.blockSize?this.cacheParams.blockSize:uh.DefaultBlockSize},t.prototype.getTopLevelRowDisplayedIndex=function(e){var t,o=this.getBlockSize(),n=Math.floor(e/o),i=this.getBlock(n);if(i)return i.getRowUsingLocalIndex(e,!0).rowIndex;if(this.forEachBlockInOrder((function(e,o){n>o&&(t=e)})),t){var r=o*(t.getBlockNumber()+1)-1,s=t.getRowUsingLocalIndex(r,!0),a=void 0;if(s.expanded&&s.childrenCache)a=s.childrenCache.getDisplayIndexEnd()-1;else a=s.expanded&&s.detailNode?s.detailNode.rowIndex:s.rowIndex;return a+(e-r)}return e},t.prototype.createBlock=function(e,t,o){var n=new uh(e,this.parentRowNode,this.cacheParams,this);this.createBean(n);var r=new i.NumberSequence(t);return n.setDisplayIndexes(r,this.getVirtualRowCount(),o),this.postCreateBlock(n),n},t.prototype.getDisplayIndexEnd=function(){return this.displayIndexEnd},t.prototype.isDisplayIndexInCache=function(e){return 0!==this.getVirtualRowCount()&&(e>=this.displayIndexStart&&e<this.displayIndexEnd)},t.prototype.getChildCache=function(e){var t=this;if(i._.missingOrEmpty(e))return this;var o=e[0],n=null;if(this.forEachBlockInOrder((function(e){e.forEachNodeShallow((function(e){e.key===o&&(n=e.childrenCache)}),new i.NumberSequence,t.getVirtualRowCount())})),n){var r=e.slice(1,e.length);return n?n.getChildCache(r):null}return null},t.prototype.isPixelInRange=function(e){return 0!==this.getVirtualRowCount()&&(e>=this.cacheTop&&e<this.cacheTop+this.cacheHeight)},t.prototype.refreshCacheAfterSort=function(e,t){var o,n=this,r=this.parentRowNode.level+1;if(r<this.cacheParams.rowGroupCols.length){var s=this.cacheParams.rowGroupCols[r],a=t.indexOf(s.id)>-1,l=e.indexOf(s.id)>-1;o=a&&l}else o=!0;o?this.purgeCache():this.forEachBlockInOrder((function(o){if(o.isGroupLevel()){o.forEachNodeShallow((function(o){var n=o.childrenCache;n&&n.refreshCacheAfterSort(e,t)}),new i.NumberSequence,n.getVirtualRowCount())}}))},hh([i.Autowired("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),hh([ph(0,i.Qualifier("loggerFactory"))],t.prototype,"setBeans",null),t}(i.RowNodeCache),fh=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),mh=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},vh=function(e,t){return function(o,n){t(o,n,e)}},yh=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return fh(t,e),t.prototype.ensureRowHeightsValid=function(e,t,o,n){return!1},t.prototype.postConstruct=function(){this.rowHeight=this.gridOptionsWrapper.getRowHeightAsNumber(),this.addEventListeners()},t.prototype.start=function(){var e=this.gridOptionsWrapper.getServerSideDatasource();e&&this.setDatasource(e)},t.prototype.destroyDatasource=function(){this.datasource&&(this.datasource.destroy&&this.datasource.destroy(),this.rowRenderer.datasourceChanged(),this.datasource=void 0)},t.prototype.setBeans=function(e){this.logger=e.create("ServerSideRowModel")},t.prototype.addEventListeners=function(){this.addManagedListener(this.eventService,i.Events.EVENT_COLUMN_ROW_GROUP_CHANGED,this.onColumnRowGroupChanged.bind(this)),this.addManagedListener(this.eventService,i.Events.EVENT_ROW_GROUP_OPENED,this.onRowGroupOpened.bind(this)),this.addManagedListener(this.eventService,i.Events.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.onPivotModeChanged.bind(this)),this.addManagedListener(this.eventService,i.Events.EVENT_COLUMN_EVERYTHING_CHANGED,this.onColumnEverything.bind(this)),this.addManagedListener(this.eventService,i.Events.EVENT_COLUMN_VALUE_CHANGED,this.onValueChanged.bind(this)),this.addManagedListener(this.eventService,i.Events.EVENT_COLUMN_PIVOT_CHANGED,this.onColumnPivotChanged.bind(this)),this.addManagedListener(this.eventService,i.Events.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,i.Events.EVENT_SORT_CHANGED,this.onSortChanged.bind(this))},t.prototype.setDatasource=function(e){this.destroyDatasource(),this.datasource=e,this.reset()},t.prototype.isLastRowFound=function(){return!!this.cacheExists()&&this.rootNode.childrenCache.isMaxRowFound()},t.prototype.onColumnEverything=function(){if(!this.gridOptionsWrapper.isSuppressEnterpriseResetOnNewColumns()){var e;if(this.cacheParams){var t=this.toValueObjects(this.columnController.getRowGroupColumns()),o=this.toValueObjects(this.columnController.getValueColumns()),n=this.toValueObjects(this.columnController.getPivotColumns()),r=!i._.jsonEquals(this.cacheParams.sortModel,this.sortController.getSortModel()),s=!i._.jsonEquals(this.cacheParams.rowGroupCols,t),a=!i._.jsonEquals(this.cacheParams.pivotCols,n),l=!i._.jsonEquals(this.cacheParams.valueCols,o);e=r||s||a||l}else e=!0;e&&this.reset()}},t.prototype.onFilterChanged=function(){this.reset()},t.prototype.findChangedColumnsInSort=function(e,t){var o=[];[e,t].forEach((function(e){if(e){var t=e.map((function(e){return e.colId}));o=o.concat(t)}}));return o.filter((function(o){var n=i._.find(t,(function(e){return e.colId===o})),r=i._.find(e,(function(e){return e.colId===o}));return function(e,t){return(e?e.sort:null)!==(t?t.sort:null)}(n,r)||function(o,n){return t.indexOf(o)!==e.indexOf(n)}(n,r)}))},t.prototype.onSortChanged=function(){if(this.cacheExists()){var e=this.extractSortModel(),t=this.cacheParams.sortModel,o=this.findChangedColumnsInSort(e,t);this.cacheParams.sortModel=e;var n=this.columnController.getRowGroupColumns().map((function(e){return e.getId()})),i=this.rootNode.childrenCache,r=this.isSortingWithValueColumn(o),s=this.isSortingWithSecondaryColumn(o);this.gridOptionsWrapper.isServerSideSortingAlwaysResets()||r||s?this.reset():i.refreshCacheAfterSort(o,n)}},t.prototype.onValueChanged=function(){this.reset()},t.prototype.onColumnRowGroupChanged=function(){this.reset()},t.prototype.onColumnPivotChanged=function(){this.reset()},t.prototype.onPivotModeChanged=function(){this.reset()},t.prototype.onRowGroupOpened=function(e){var t=this,o=e.node;o.expanded?o.master?this.createDetailNode(o):i._.missing(o.childrenCache)&&this.createNodeCache(o):this.gridOptionsWrapper.isPurgeClosedRowNodes()&&i._.exists(o.childrenCache)&&(o.childrenCache=this.destroyBean(o.childrenCache));this.updateRowIndexesAndBounds();var n={type:i.Events.EVENT_MODEL_UPDATED,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),newPage:!1,newData:!1,animate:function(){var e=t.gridOptionsWrapper.isAnimateRows();return o.master?e&&o.expanded:e}(),keepRenderedRows:!0};this.eventService.dispatchEvent(n)},t.prototype.reset=function(){this.rootNode=new i.RowNode,this.rootNode.group=!0,this.rootNode.level=-1,this.createBean(this.rootNode),this.datasource&&(this.createNewRowNodeBlockLoader(),this.cacheParams=this.createCacheParams(),this.createNodeCache(this.rootNode),this.updateRowIndexesAndBounds());var e={type:i.Events.EVENT_ROW_DATA_CHANGED,api:this.gridApi,columnApi:this.columnApi};this.eventService.dispatchEvent(e);var t={type:i.Events.EVENT_MODEL_UPDATED,api:this.gridApi,columnApi:this.columnApi,animate:!1,keepRenderedRows:!1,newData:!1,newPage:!1};this.eventService.dispatchEvent(t)},t.prototype.createNewRowNodeBlockLoader=function(){this.destroyRowNodeBlockLoader();var e=this.gridOptionsWrapper.getMaxConcurrentDatasourceRequests(),t=this.gridOptionsWrapper.getBlockLoadDebounceMillis();this.rowNodeBlockLoader=new i.RowNodeBlockLoader(e,t),this.createBean(this.rowNodeBlockLoader)},t.prototype.destroyRowNodeBlockLoader=function(){this.rowNodeBlockLoader&&(this.destroyBean(this.rowNodeBlockLoader),this.rowNodeBlockLoader=void 0)},t.prototype.toValueObjects=function(e){var t=this;return e.map((function(e){return{id:e.getId(),aggFunc:e.getAggFunc(),displayName:t.columnController.getDisplayNameForColumn(e,"model"),field:e.getColDef().field}}))},t.prototype.createCacheParams=function(){var e=this.toValueObjects(this.columnController.getRowGroupColumns()),t=this.toValueObjects(this.columnController.getValueColumns()),o=this.toValueObjects(this.columnController.getPivotColumns()),n=this.gridOptionsWrapper.isDynamicRowHeight(),r=this.gridOptionsWrapper.getMaxBlocksInCache();n&&r>=0&&(console.warn("ag-Grid: Server Side Row Model does not support Dynamic Row Height and Cache Purging. Either a) remove getRowHeight() callback or b) remove maxBlocksInCache property. Purging has been disabled."),r=void 0),r>=0&&this.columnController.isAutoRowHeightActive()&&(console.warn("ag-Grid: Server Side Row Model does not support Auto Row Height and Cache Purging. Either a) remove colDef.autoHeight or b) remove maxBlocksInCache property. Purging has been disabled."),r=void 0);var s={valueCols:t,rowGroupCols:e,pivotCols:o,pivotMode:this.columnController.isPivotMode(),filterModel:this.filterManager.getFilterModel(),sortModel:this.extractSortModel(),rowNodeBlockLoader:this.rowNodeBlockLoader,datasource:this.datasource,lastAccessedSequence:new i.NumberSequence,overflowSize:1,initialRowCount:1,maxConcurrentRequests:this.gridOptionsWrapper.getMaxConcurrentDatasourceRequests()||0,maxBlocksInCache:r,blockSize:this.gridOptionsWrapper.getCacheBlockSize(),rowHeight:this.rowHeight,dynamicRowHeight:n};return s.maxConcurrentRequests>=1||(s.maxConcurrentRequests=2),s.blockSize>=1||(s.blockSize=uh.DefaultBlockSize),s.initialRowCount>=1||(s.initialRowCount=0),s.overflowSize>=1||(s.overflowSize=1),s},t.prototype.createNodeCache=function(e){var t=new gh(this.cacheParams,e);this.getContext().createBean(t),t.addEventListener(i.RowNodeCache.EVENT_CACHE_UPDATED,this.onCacheUpdated.bind(this)),e.childrenCache=t},t.prototype.onCacheUpdated=function(){this.updateRowIndexesAndBounds();var e={type:i.Events.EVENT_MODEL_UPDATED,api:this.gridApi,columnApi:this.columnApi,animate:this.gridOptionsWrapper.isAnimateRows(),keepRenderedRows:!0,newPage:!1,newData:!1};this.eventService.dispatchEvent(e)},t.prototype.onRowHeightChanged=function(){this.updateRowIndexesAndBounds();var e={type:i.Events.EVENT_MODEL_UPDATED,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),newPage:!1,newData:!1,animate:!0,keepRenderedRows:!0};this.eventService.dispatchEvent(e)},t.prototype.updateRowIndexesAndBounds=function(){if(this.cacheExists()){var e=this.rootNode.childrenCache;this.resetRowTops(e),this.setDisplayIndexes(e)}},t.prototype.setDisplayIndexes=function(e){var t=new i.NumberSequence;e.setDisplayIndexes(t,{value:0})},t.prototype.resetRowTops=function(e){var t=new i.NumberSequence;e.forEachNodeDeep((function(e){return e.clearRowTop()}),t)},t.prototype.getRow=function(e){return this.cacheExists()?this.rootNode.childrenCache.getRow(e):null},t.prototype.getRowCount=function(){return this.cacheExists()?this.rootNode.childrenCache.getDisplayIndexEnd():1},t.prototype.getTopLevelRowCount=function(){return this.cacheExists()?this.rootNode.childrenCache.getVirtualRowCount():1},t.prototype.getTopLevelRowDisplayedIndex=function(e){return this.cacheExists()?this.rootNode.childrenCache.getTopLevelRowDisplayedIndex(e):e},t.prototype.getRowBounds=function(e){return this.cacheExists()?this.rootNode.childrenCache.getRowBounds(e):{rowTop:0,rowHeight:this.rowHeight}},t.prototype.getRowIndexAtPixel=function(e){return 0===e?0:this.cacheExists()?this.rootNode.childrenCache.getRowIndexAtPixel(e):0},t.prototype.getCurrentPageHeight=function(){return this.rowHeight*this.getRowCount()},t.prototype.isEmpty=function(){return!1},t.prototype.isRowsToRender=function(){return this.cacheExists()&&this.getRowCount()>0},t.prototype.getType=function(){return i.Constants.ROW_MODEL_TYPE_SERVER_SIDE},t.prototype.forEachNode=function(e){this.cacheExists()&&this.rootNode.childrenCache.forEachNodeDeep(e)},t.prototype.executeOnCache=function(e,t){if(this.cacheExists()){var o=this.rootNode.childrenCache.getChildCache(e);o&&t(o)}},t.prototype.purgeCache=function(e){void 0===e&&(e=[]),this.executeOnCache(e,(function(e){return e.purgeCache()}))},t.prototype.getNodesInRangeForSelection=function(e,t){return i._.exists(t)&&e.parent!==t.parent?[]:e.parent.childrenCache.getRowNodesInRange(t,e)},t.prototype.getRowNode=function(e){var t=null;return this.forEachNode((function(o){o.id===e&&(t=o),o.detailNode&&o.detailNode.id===e&&(t=o.detailNode)})),t},t.prototype.getBlockState=function(){return this.rowNodeBlockLoader?this.rowNodeBlockLoader.getBlockState():null},t.prototype.isRowPresent=function(e){return!!this.getRowNode(e.id)},t.prototype.extractSortModel=function(){var e=this.sortController.getSortModel();if(this.gridOptionsWrapper.isTreeData())return e;for(var t=this.toValueObjects(this.columnController.getRowGroupColumns()),o=-1,n=0;n<e.length;++n)if(e[n].colId===i.Constants.GROUP_AUTO_COLUMN_ID){o=n;break}if(o>-1){var r=t.map((function(t){return{colId:t.id,sort:e[o].sort}}));e.splice(o,1);var s=function(t){var n=r[t];if(e.some((function(e){return e.colId===n.colId})))return"continue";e.splice(o++,0,n)};for(n=0;n<r.length;n++)s(n)}if(this.gridOptionsWrapper.isGroupMultiAutoColumn()){var a=i.Constants.GROUP_AUTO_COLUMN_ID+"-";for(n=0;n<e.length;++n)e[n].colId.indexOf(a)>-1&&(e[n].colId=e[n].colId.substr(a.length))}return e},t.prototype.isSortingWithValueColumn=function(e){for(var t=this.columnController.getValueColumns().map((function(e){return e.getColId()})),o=0;o<e.length;o++)if(t.indexOf(e[o])>-1)return!0;return!1},t.prototype.isSortingWithSecondaryColumn=function(e){if(!this.columnController.getSecondaryColumns())return!1;for(var t=this.columnController.getSecondaryColumns().map((function(e){return e.getColId()})),o=0;o<e.length;o++)if(t.indexOf(e[o])>-1)return!0;return!1},t.prototype.cacheExists=function(){return i._.exists(this.rootNode)&&i._.exists(this.rootNode.childrenCache)},t.prototype.createDetailNode=function(e){if(i._.exists(e.detailNode))return e.detailNode;var t=new i.RowNode;this.getContext().createBean(t),t.detail=!0,t.selectable=!1,t.parent=e,i._.exists(e.id)&&(t.id="detail_"+e.id),t.data=e.data,t.level=e.level+1;var o=this.gridOptionsWrapper.getRowHeightForNode(t).height;return t.rowHeight=o||200,e.detailNode=t,t},t.prototype.isLoading=function(){return!!this.rowNodeBlockLoader&&this.rowNodeBlockLoader.isLoading()},mh([i.Autowired("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),mh([i.Autowired("columnController")],t.prototype,"columnController",void 0),mh([i.Autowired("filterManager")],t.prototype,"filterManager",void 0),mh([i.Autowired("sortController")],t.prototype,"sortController",void 0),mh([i.Autowired("gridApi")],t.prototype,"gridApi",void 0),mh([i.Autowired("columnApi")],t.prototype,"columnApi",void 0),mh([i.Autowired("rowRenderer")],t.prototype,"rowRenderer",void 0),mh([i.PostConstruct],t.prototype,"postConstruct",null),mh([i.PreDestroy],t.prototype,"destroyDatasource",null),mh([vh(0,i.Qualifier("loggerFactory"))],t.prototype,"setBeans",null),mh([i.PreDestroy],t.prototype,"destroyRowNodeBlockLoader",null),t=mh([i.Bean("rowModel")],t)}(i.BeanStub),Ch={moduleName:i.ModuleNames.ServerSideRowModelModule,rowModels:{serverSide:yh},dependantModules:[g]};!function(e){e[e.PROVIDED_LIST=0]="PROVIDED_LIST",e[e.PROVIDED_CALLBACK=1]="PROVIDED_CALLBACK",e[e.TAKEN_FROM_GRID_VALUES=2]="TAKEN_FROM_GRID_VALUES"}(Zl||(Zl={}));var wh=function(){function e(e,t,o,n,r,s,a,l,c){var u=this;this.colDef=t,this.column=o,this.valueGetter=n,this.doesRowPassOtherFilters=r,this.suppressSorting=s,this.setIsLoading=a,this.valueFormatterService=l,this.translate=c,this.localEventService=new i.EventService,this.miniFilterText=null,this.providedValues=null,this.allValues=[],this.availableValues=new Set,this.displayedValues=[],this.selectedValues=new Set,e.getType()===i.Constants.ROW_MODEL_TYPE_CLIENT_SIDE&&(this.clientSideRowModel=e),this.filterParams=this.colDef.filterParams||{},this.formatter=this.filterParams.textFormatter||i.TextFilter.DEFAULT_FORMATTER;var d=this.filterParams.values;null==d?this.valuesType=Zl.TAKEN_FROM_GRID_VALUES:(this.valuesType=Array.isArray(d)?Zl.PROVIDED_LIST:Zl.PROVIDED_CALLBACK,this.providedValues=d),this.updateAllValues().then((function(e){return u.resetSelectionState(e)}))}return e.prototype.addEventListener=function(e,t,o){this.localEventService.addEventListener(e,t,o)},e.prototype.removeEventListener=function(e,t,o){this.localEventService.removeEventListener(e,t,o)},e.prototype.refreshValues=function(e){void 0===e&&(e=!0);var t=this.getModel();return this.updateAllValues(),this.setModel(e?t:null)},e.prototype.overrideValues=function(e,t){var o=this;return void 0===t&&(t=!0),new i.Promise((function(n){o.allValuesPromise.then((function(){o.valuesType=Zl.PROVIDED_LIST,o.providedValues=e,o.refreshValues(t).then((function(){return n()}))}))}))},e.prototype.refreshAfterAnyFilterChanged=function(){var e=this;this.showAvailableOnly()&&this.allValuesPromise.then((function(t){return e.updateAvailableValues(t)}))},e.prototype.updateAllValues=function(){var e=this;return this.allValuesPromise=new i.Promise((function(t){switch(e.valuesType){case Zl.TAKEN_FROM_GRID_VALUES:case Zl.PROVIDED_LIST:var o=e.valuesType===Zl.TAKEN_FROM_GRID_VALUES?e.getValuesFromRows(!1):i._.toStrings(e.providedValues),n=e.sortValues(o);e.allValues=n,t(n);break;case Zl.PROVIDED_CALLBACK:e.setIsLoading(!0);var r=e.providedValues,s={success:function(o){var n=i._.toStrings(o);e.setIsLoading(!1);var r=e.sortValues(n);e.allValues=r,t(r)},colDef:e.colDef};window.setTimeout((function(){return r(s)}),0);break;default:throw new Error("Unrecognised valuesType")}})),this.allValuesPromise.then((function(t){return e.updateAvailableValues(t)})),this.allValuesPromise},e.prototype.setValuesType=function(e){this.valuesType=e},e.prototype.getValuesType=function(){return this.valuesType},e.prototype.isValueAvailable=function(e){return this.availableValues.has(e)},e.prototype.showAvailableOnly=function(){return this.valuesType===Zl.TAKEN_FROM_GRID_VALUES&&!this.filterParams.suppressRemoveEntries},e.prototype.updateAvailableValues=function(t){var o=this.showAvailableOnly()?this.sortValues(this.getValuesFromRows(!0)):t;this.availableValues=i._.convertToSet(o),this.localEventService.dispatchEvent({type:e.EVENT_AVAILABLE_VALUES_CHANGED}),this.updateDisplayedValues()},e.prototype.sortValues=function(e){if(this.suppressSorting)return e;var t=this.filterParams.comparator||this.colDef.comparator||i._.defaultComparator;return!this.filterParams.excelMode||e.indexOf(null)<0?e.sort(t):i._.filter(e,(function(e){return null!=e})).sort(t).concat(null)},e.prototype.getValuesFromRows=function(e){var t=this;if(void 0===e&&(e=!1),!this.clientSideRowModel)return console.error("ag-Grid: Set Filter cannot initialise because you are using a row model that does not contain all rows in the browser. Either use a different filter type, or configure Set Filter such that you provide it with values"),[];var o=new Set,n=this.colDef.keyCreator;return this.clientSideRowModel.forEachLeafNode((function(r){if(r.data&&(!e||t.doesRowPassOtherFilters(r))){var s=t.valueGetter(r);n&&(s=n({value:s})),null!=(s=i._.makeNull(s))&&Array.isArray(s)?i._.forEach(s,(function(e){var t=i._.toStringOrNull(i._.makeNull(e));o.add(t)})):o.add(i._.toStringOrNull(s))}})),i._.values(o)},e.prototype.setMiniFilter=function(e){return e=i._.makeNull(e),this.miniFilterText!==e&&(this.miniFilterText=e,this.updateDisplayedValues(),!0)},e.prototype.getMiniFilter=function(){return this.miniFilterText},e.prototype.updateDisplayedValues=function(){var e=this;if(null!=this.miniFilterText){this.displayedValues=[];var t=this.formatter(this.miniFilterText).toUpperCase(),o=function(e){return null!=e&&e.toUpperCase().indexOf(t)>=0};this.availableValues.forEach((function(t){if(null==t)e.filterParams.excelMode&&o("("+e.translate("blanks")+")")&&e.displayedValues.push(t);else{var n=e.formatter(t),i=e.valueFormatterService.formatValue(e.column,null,null,n);(o(n)||o(i))&&e.displayedValues.push(t)}}))}else this.displayedValues=i._.values(this.availableValues)},e.prototype.getDisplayedValueCount=function(){return this.displayedValues.length},e.prototype.getDisplayedValue=function(e){return this.displayedValues[e]},e.prototype.isFilterActive=function(){return this.filterParams.defaultToNothingSelected?this.selectedValues.size>0:this.allValues.length!==this.selectedValues.size},e.prototype.getUniqueValueCount=function(){return this.allValues.length},e.prototype.getUniqueValue=function(e){return this.allValues[e]},e.prototype.getValues=function(){return this.allValues.slice()},e.prototype.selectAllMatchingMiniFilter=function(e){var t=this;void 0===e&&(e=!1),null==this.miniFilterText?this.selectedValues=i._.convertToSet(this.allValues):(e&&this.selectedValues.clear(),i._.forEach(this.displayedValues,(function(e){return t.selectedValues.add(e)})))},e.prototype.deselectAllMatchingMiniFilter=function(){var e=this;null==this.miniFilterText?this.selectedValues.clear():i._.forEach(this.displayedValues,(function(t){return e.selectedValues.delete(t)}))},e.prototype.selectValue=function(e){this.selectedValues.add(e)},e.prototype.deselectValue=function(e){this.filterParams.excelMode&&this.isEverythingVisibleSelected()&&this.resetSelectionState(this.displayedValues),this.selectedValues.delete(e)},e.prototype.isValueSelected=function(e){return this.selectedValues.has(e)},e.prototype.isEverythingVisibleSelected=function(){var e=this;return i._.filter(this.displayedValues,(function(t){return e.isValueSelected(t)})).length===this.displayedValues.length},e.prototype.isNothingVisibleSelected=function(){var e=this;return 0===i._.filter(this.displayedValues,(function(t){return e.isValueSelected(t)})).length},e.prototype.getModel=function(){return this.isFilterActive()?i._.values(this.selectedValues):null},e.prototype.setModel=function(e){var t=this;return this.allValuesPromise.then((function(o){if(null==e)t.resetSelectionState(o);else{t.selectedValues.clear();var n=i._.convertToSet(o);i._.forEach(e,(function(e){n.has(e)&&t.selectedValues.add(e)}))}}))},e.prototype.resetSelectionState=function(e){this.filterParams.defaultToNothingSelected?this.selectedValues.clear():this.selectedValues=i._.convertToSet(e)},e.EVENT_AVAILABLE_VALUES_CHANGED="availableValuesChanged",e}(),bh=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Sh=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Eh=function(e){function t(o,n,i){var r=e.call(this,t.TEMPLATE)||this;return r.value=o,r.params=n,r.translate=i,r.selected=!0,r}return bh(t,e),t.prototype.init=function(){var e=this;this.render(),this.eCheckbox.onValueChange((function(o){e.selected=o;var n={type:t.EVENT_SELECTED};return e.dispatchEvent(n)}))},t.prototype.isSelected=function(){return this.selected},t.prototype.setSelected=function(e,t){this.selected=e,this.updateCheckboxIcon(t)},t.prototype.updateCheckboxIcon=function(e){this.eCheckbox.setValue(this.isSelected(),!e)},t.prototype.render=function(){var e=this.value,t=this.params,o=t.column,n=t.colDef,r=this.getFormattedValue(n,o,e);this.params.showTooltips&&(this.tooltipText=i._.escape(null!=r?r:e),i._.exists(this.tooltipText)&&(this.gridOptionsWrapper.isEnableBrowserTooltips()?this.eFilterItemValue.title=this.tooltipText:this.createManagedBean(new i.TooltipFeature(this,"setFilterValue"))));var s={value:e,valueFormatted:r,api:this.gridOptionsWrapper.getApi()};this.renderCell(n,this.eFilterItemValue,s)},t.prototype.getFormattedValue=function(e,t,o){var n=e.filterParams,i=null==n?null:n.valueFormatter;return this.valueFormatterService.formatValue(t,null,null,o,i,!1)},t.prototype.renderCell=function(e,t,o){var n=this,r=e.filterParams,s=this.userComponentFactory.newSetFilterCellRenderer(r,o);if(null!=s)i._.bindCellRendererToHtmlElement(s,t),s.then((function(e){return n.addDestroyFunc((function(){return n.getContext().destroyBean(e)}))}));else{var a=null==o.valueFormatted?o.value:o.valueFormatted;t.innerText=null==a?"("+this.translate("blanks")+")":a}},t.prototype.getComponentHolder=function(){return this.params.column.getColDef()},t.prototype.getTooltipText=function(){return this.tooltipText},t.EVENT_SELECTED="selected",t.TEMPLATE='\n        <label class="ag-set-filter-item">\n            <ag-checkbox ref="eCheckbox" class="ag-set-filter-item-checkbox"></ag-checkbox>\n            <span ref="eFilterItemValue" class="ag-set-filter-item-value"></span>\n        </label>',Sh([i.Autowired("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),Sh([i.Autowired("valueFormatterService")],t.prototype,"valueFormatterService",void 0),Sh([i.Autowired("userComponentFactory")],t.prototype,"userComponentFactory",void 0),Sh([i.RefSelector("eFilterItemValue")],t.prototype,"eFilterItemValue",void 0),Sh([i.RefSelector("eCheckbox")],t.prototype,"eCheckbox",void 0),Sh([i.PostConstruct],t.prototype,"init",null),t}(i.Component),Rh={loadingOoo:"Loading...",blanks:"Blanks",searchOoo:"Search...",selectAll:"Select All",selectAllSearchResults:"Select All Search Results",noMatches:"No matches."},Ph=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Oh=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},xh=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.appliedModelValues=null,t}return Ph(t,e),t.prototype.updateUiVisibility=function(){},t.prototype.postConstruct=function(){e.prototype.postConstruct.call(this);var t=this.getFocusableElement();t&&this.addManagedListener(t,"keydown",this.handleKeyDown.bind(this))},t.prototype.createBodyTemplate=function(){return'\n            <div>\n                <div ref="eFilterLoading" class="ag-filter-loading ag-hidden">'+this.translate("loadingOoo")+'</div>\n                <div class="ag-filter-header-container" role="presentation">\n                    <ag-input-text-field class="ag-mini-filter" ref="eMiniFilter"></ag-input-text-field>\n                    <label ref="eSelectAllContainer" class="ag-set-filter-item ag-set-filter-select-all">\n                        <ag-checkbox ref="eSelectAll" class="ag-set-filter-item-checkbox"></ag-checkbox>\n                        <span ref="eSelectAllLabel" class="ag-set-filter-item-value"></span>\n                    </label>\n                </div>\n                <div ref="eFilterNoMatches" class="ag-filter-no-matches ag-hidden">'+this.translate("noMatches")+'</div>\n                <div ref="eSetFilterList" class="ag-set-filter-list" role="presentation"></div>\n            </div>'},t.prototype.handleKeyDown=function(e){if(!e.defaultPrevented)switch(e.which||e.keyCode){case i.Constants.KEY_TAB:this.handleKeyTab(e);break;case i.Constants.KEY_SPACE:this.handleKeySpace(e);break;case i.Constants.KEY_ENTER:this.handleKeyEnter(e)}},t.prototype.handleKeyTab=function(e){if(this.eSetFilterList.contains(document.activeElement)){for(var t,o=this.getFocusableElement(),n=e.shiftKey?"previousElementSibling":"nextElementSibling",i=this.eSetFilterList;i!==o&&!t;)t=i[n],i=i.parentElement;t&&(e.shiftKey&&this.focusController.focusLastFocusableElement(t)||!e.shiftKey&&this.focusController.focusFirstFocusableElement(t))&&e.preventDefault()}},t.prototype.handleKeySpace=function(e){if(this.eSetFilterList.contains(document.activeElement)){var t=this.virtualList.getLastFocusedRow();if(i._.exists(t)){var o=this.virtualList.getComponentAt(t);o&&(e.preventDefault(),o.setSelected(!o.isSelected(),!0))}}},t.prototype.handleKeyEnter=function(e){this.setFilterParams.excelMode&&(e.preventDefault(),this.onBtApply(!1,!1,e),"mac"===this.setFilterParams.excelMode&&this.eMiniFilter.getInputElement().select())},t.prototype.getCssIdentifier=function(){return"set-filter"},t.prototype.resetUiToDefaults=function(){var e=this;return this.setMiniFilter(null),this.valueModel.setModel(null).then((function(){return e.refresh()}))},t.prototype.setModelIntoUi=function(e){var t=this;if(this.setMiniFilter(null),e instanceof Array){i._.doOnce((function(){return console.warn("ag-Grid: The Set Filter Model is no longer an array and models as arrays are deprecated. Please check the docs on what the set filter model looks like. Future versions of ag-Grid will have the array version of the model removed.")}),"setFilter.modelAsArray")}var o=null==e?null:e instanceof Array?e:e.values;return this.valueModel.setModel(o).then((function(){return t.refresh()}))},t.prototype.getModelFromUi=function(){var e=this.valueModel.getModel();return e?this.gridOptionsWrapper.isEnableOldSetFilterModel()?e:{values:e,filterType:"set"}:null},t.prototype.getValueModel=function(){return this.valueModel},t.prototype.areModelsEqual=function(e,t){return null==e&&null==t||null!=e&&null!=t&&i._.areEqual(e.values,t.values)},t.prototype.setParams=function(t){var o=this;this.applyExcelModeOptions(t),e.prototype.setParams.call(this,t),this.checkSetFilterDeprecatedParams(t),this.setFilterParams=t,this.valueModel=new wh(t.rowModel,t.colDef,t.column,t.valueGetter,t.doesRowPassOtherFilter,t.suppressSorting,(function(e){return o.setLoading(e)}),this.valueFormatterService,(function(e){return o.translate(e)})),this.initialiseFilterBodyUi(),this.rowModel.getType()===i.Constants.ROW_MODEL_TYPE_CLIENT_SIDE&&!t.values&&!t.suppressSyncValuesAfterDataChange&&this.addEventListenersForDataChanges()},t.prototype.applyExcelModeOptions=function(e){"windows"===e.excelMode?(e.buttons||(e.buttons=["apply","cancel"]),null==e.closeOnApply&&(e.closeOnApply=!0)):"mac"===e.excelMode&&(e.buttons||(e.buttons=["reset"]),null==e.applyMiniFilterWhileTyping&&(e.applyMiniFilterWhileTyping=!0),null==e.debounceMs&&(e.debounceMs=500))},t.prototype.checkSetFilterDeprecatedParams=function(e){if(e.syncValuesLikeExcel){i._.doOnce((function(){return console.warn("ag-Grid: since version 22.x, the Set Filter param syncValuesLikeExcel is no longer used as this is the default behaviour. To turn this default behaviour off, use the param suppressSyncValuesAfterDataChange")}),"syncValuesLikeExcel deprecated")}if(e.selectAllOnMiniFilter){i._.doOnce((function(){return console.warn("ag-Grid: since version 22.x, the Set Filter param selectAllOnMiniFilter is no longer used as this is the default behaviour.")}),"selectAllOnMiniFilter deprecated")}if(e.suppressSyncValuesAfterDataChange){i._.doOnce((function(){return console.warn("ag-Grid: since version 23.1, the Set Filter param suppressSyncValuesAfterDataChange has been deprecated and will be removed in a future major release.")}),"suppressSyncValuesAfterDataChange deprecated")}if(e.suppressRemoveEntries){i._.doOnce((function(){return console.warn("ag-Grid: since version 23.1, the Set Filter param suppressRemoveEntries has been deprecated and will be removed in a future major release.")}),"suppressRemoveEntries deprecated")}},t.prototype.addEventListenersForDataChanges=function(){var e=this;this.addManagedListener(this.eventService,i.Events.EVENT_ROW_DATA_UPDATED,(function(){return e.syncAfterDataChange()})),this.addManagedListener(this.eventService,i.Events.EVENT_CELL_VALUE_CHANGED,(function(t){t.column===e.setFilterParams.column&&e.syncAfterDataChange()}))},t.prototype.syncAfterDataChange=function(e,t){var o=this;void 0===e&&(e=!0),void 0===t&&(t=!0);var n=i.Promise.resolve(null);e?n=this.valueModel.refreshValues(t):t||(n=this.valueModel.setModel(null)),n.then((function(){o.refresh(),o.onBtApply(!1,!0)}))},t.prototype.setLoading=function(e){i._.doOnce((function(){return console.warn("ag-Grid: since version 23.2, setLoading has been deprecated. The loading screen is displayed automatically when the set filter is retrieving values.")}),"setFilter.setLoading"),i._.setDisplayed(this.eFilterLoading,e)},t.prototype.initialiseFilterBodyUi=function(){this.initVirtualList(),this.initMiniFilter(),this.initSelectAll()},t.prototype.initVirtualList=function(){var e=this,t=this.virtualList=this.createBean(new i.VirtualList("filter")),o=this.getRefElement("eSetFilterList");o&&o.appendChild(t.getGui());var n=this.setFilterParams.cellHeight;null!=n&&t.setRowHeight(n),t.setComponentCreator((function(t){return e.createSetListItem(t)})),t.setModel(new Th(this.valueModel))},t.prototype.createSetListItem=function(e){var t=this,o=this.createBean(new Eh(e,this.setFilterParams,(function(e){return t.translate(e)}))),n=this.valueModel.isValueSelected(e);return o.setSelected(n),o.addEventListener(Eh.EVENT_SELECTED,(function(){return t.onItemSelected(e,o.isSelected())})),o},t.prototype.initMiniFilter=function(){var e=this,t=this.eMiniFilter;i._.setDisplayed(t.getGui(),!this.setFilterParams.suppressMiniFilter),t.setValue(this.valueModel.getMiniFilter()),t.onValueChange((function(){return e.onMiniFilterInput()})),this.addManagedListener(t.getInputElement(),"keypress",(function(t){return e.onMiniFilterKeyPress(t)}))},t.prototype.initSelectAll=function(){var e=this;this.setFilterParams.suppressSelectAll?i._.setDisplayed(this.eSelectAllContainer,!1):this.eSelectAll.onValueChange((function(){return e.onSelectAll()}))},t.prototype.afterGuiAttached=function(t){e.prototype.afterGuiAttached.call(this,t),this.refreshVirtualList(),this.setFilterParams.excelMode&&this.resetUiToActiveModel();var o=this.eMiniFilter;o.setInputPlaceholder(this.translate("searchOoo")),o.getFocusableElement().focus()},t.prototype.applyModel=function(){var t=this;this.setFilterParams.excelMode&&this.valueModel.isEverythingVisibleSelected()&&this.valueModel.selectAllMatchingMiniFilter();var o=e.prototype.applyModel.call(this);if(o){var n=this.getModel();n?(this.appliedModelValues={},i._.forEach(n.values,(function(e){return t.appliedModelValues[e]=!0}))):this.appliedModelValues=null}return o},t.prototype.isModelValid=function(e){return!this.setFilterParams.excelMode||(null==e||e.values.length>0)},t.prototype.doesFilterPass=function(e){var t=this;if(null==this.appliedModelValues)return!0;var o=this.setFilterParams,n=o.valueGetter,r=o.colDef.keyCreator,s=n(e.node);return r&&(s=r({value:s})),s=i._.makeNull(s),Array.isArray(s)?i._.some(s,(function(e){return!0===t.appliedModelValues[i._.makeNull(e)]})):!0===this.appliedModelValues[s]},t.prototype.onNewRowsLoaded=function(){var e=this.valueModel.getValuesType(),t=this.isNewRowsActionKeep();this.syncAfterDataChange(e===Zl.TAKEN_FROM_GRID_VALUES,t)},t.prototype.setFilterValues=function(e){var t=this;this.valueModel.overrideValues(e,this.isNewRowsActionKeep()).then((function(){t.refresh(),t.onUiChanged()}))},t.prototype.resetFilterValues=function(){this.valueModel.setValuesType(Zl.TAKEN_FROM_GRID_VALUES),this.syncAfterDataChange(!0,this.isNewRowsActionKeep())},t.prototype.refreshFilterValues=function(){var e=this;this.valueModel.refreshValues().then((function(){e.refresh(),e.onUiChanged()}))},t.prototype.onAnyFilterChanged=function(){this.valueModel.refreshAfterAnyFilterChanged(),this.virtualList.refresh()},t.prototype.updateSelectAllCheckbox=function(){this.valueModel.isEverythingVisibleSelected()?this.selectAllState=!0:this.valueModel.isNothingVisibleSelected()?this.selectAllState=!1:this.selectAllState=void 0,this.eSelectAll.setValue(this.selectAllState,!0)},t.prototype.onMiniFilterInput=function(){this.valueModel.setMiniFilter(this.eMiniFilter.getValue())&&(this.setFilterParams.applyMiniFilterWhileTyping?this.filterOnAllVisibleValues(!1):this.updateUiAfterMiniFilterChange())},t.prototype.updateUiAfterMiniFilterChange=function(){this.setFilterParams.excelMode?null==this.valueModel.getMiniFilter()?this.resetUiToActiveModel():(this.valueModel.selectAllMatchingMiniFilter(!0),this.refresh(),this.onUiChanged()):this.refresh();var e=null!=this.valueModel.getMiniFilter()&&this.valueModel.getDisplayedValueCount()<1;i._.setDisplayed(this.eNoMatches,e),this.setFilterParams.suppressSelectAll||i._.setDisplayed(this.eSelectAllContainer,!e)},t.prototype.resetUiToActiveModel=function(){var e=this;this.eMiniFilter.setValue(null,!0),this.valueModel.setMiniFilter(null),this.setModelIntoUi(this.getModel()).then((function(){return e.onUiChanged(!1,"prevent")}))},t.prototype.updateSelectAllLabel=function(){var e=null!=this.valueModel.getMiniFilter()&&this.setFilterParams.excelMode?this.translate("selectAllSearchResults"):this.translate("selectAll");this.eSelectAllLabel.innerText="("+e+")"},t.prototype.onMiniFilterKeyPress=function(e){i._.isKeyPressed(e,i.Constants.KEY_ENTER)&&!this.setFilterParams.excelMode&&this.filterOnAllVisibleValues()},t.prototype.filterOnAllVisibleValues=function(e){void 0===e&&(e=!0),this.valueModel.selectAllMatchingMiniFilter(!0),this.refresh(),this.onUiChanged(!1,e?"immediately":"debounce")},t.prototype.onSelectAll=function(){this.selectAllState=!this.selectAllState,this.selectAllState?this.valueModel.selectAllMatchingMiniFilter():this.valueModel.deselectAllMatchingMiniFilter(),this.refresh(),this.onUiChanged()},t.prototype.onItemSelected=function(e,t){var o=this;t?this.valueModel.selectValue(e):this.valueModel.deselectValue(e);var n=this.virtualList.getLastFocusedRow();this.updateSelectAllCheckbox(),this.onUiChanged(),i._.exists(n)&&window.setTimeout((function(){o.isAlive()&&o.virtualList.focusRow(n)}),10)},t.prototype.setMiniFilter=function(e){this.eMiniFilter.setValue(e),this.onMiniFilterInput()},t.prototype.getMiniFilter=function(){return this.valueModel.getMiniFilter()},t.prototype.selectEverything=function(){i._.doOnce((function(){return console.warn("ag-Grid: since version 23.2, selectEverything has been deprecated. Please use setModel instead.")}),"setFilter.selectEverything"),this.valueModel.selectAllMatchingMiniFilter(),this.refresh()},t.prototype.selectNothing=function(){i._.doOnce((function(){return console.warn("ag-Grid: since version 23.2, selectNothing has been deprecated. Please use setModel instead.")}),"setFilter.selectNothing"),this.valueModel.deselectAllMatchingMiniFilter(),this.refresh()},t.prototype.unselectValue=function(e){i._.doOnce((function(){return console.warn("ag-Grid: since version 23.2, unselectValue has been deprecated. Please use setModel instead.")}),"setFilter.unselectValue"),this.valueModel.deselectValue(e),this.refresh()},t.prototype.selectValue=function(e){i._.doOnce((function(){return console.warn("ag-Grid: since version 23.2, selectValue has been deprecated. Please use setModel instead.")}),"setFilter.selectValue"),this.valueModel.selectValue(e),this.refresh()},t.prototype.refresh=function(){this.virtualList.refresh(),this.updateSelectAllCheckbox(),this.updateSelectAllLabel()},t.prototype.isValueSelected=function(e){return i._.doOnce((function(){return console.warn("ag-Grid: since version 23.2, isValueSelected has been deprecated. Please use getModel instead.")}),"setFilter.isValueSelected"),this.valueModel.isValueSelected(e)},t.prototype.isEverythingSelected=function(){return i._.doOnce((function(){return console.warn("ag-Grid: since version 23.2, isEverythingSelected has been deprecated. Please use getModel instead.")}),"setFilter.isEverythingSelected"),this.valueModel.isEverythingVisibleSelected()},t.prototype.isNothingSelected=function(){return i._.doOnce((function(){return console.warn("ag-Grid: since version 23.2, isNothingSelected has been deprecated. Please use getModel instead.")}),"setFilter.isNothingSelected"),this.valueModel.isNothingVisibleSelected()},t.prototype.getUniqueValueCount=function(){return i._.doOnce((function(){return console.warn("ag-Grid: since version 23.2, getUniqueValueCount has been deprecated. Please use getValues instead.")}),"setFilter.getUniqueValueCount"),this.valueModel.getUniqueValueCount()},t.prototype.getUniqueValue=function(e){return i._.doOnce((function(){return console.warn("ag-Grid: since version 23.2, getUniqueValue has been deprecated. Please use getValues instead.")}),"setFilter.getUniqueValue"),this.valueModel.getUniqueValue(e)},t.prototype.getValues=function(){return this.valueModel.getValues()},t.prototype.refreshVirtualList=function(){this.setFilterParams.refreshValuesOnOpen?this.refreshFilterValues():this.virtualList.refresh()},t.prototype.translate=function(e){return this.gridOptionsWrapper.getLocaleTextFunc()(e,Rh[e])},Oh([i.RefSelector("eSelectAll")],t.prototype,"eSelectAll",void 0),Oh([i.RefSelector("eSelectAllLabel")],t.prototype,"eSelectAllLabel",void 0),Oh([i.RefSelector("eMiniFilter")],t.prototype,"eMiniFilter",void 0),Oh([i.RefSelector("eFilterLoading")],t.prototype,"eFilterLoading",void 0),Oh([i.RefSelector("eSetFilterList")],t.prototype,"eSetFilterList",void 0),Oh([i.RefSelector("eFilterNoMatches")],t.prototype,"eNoMatches",void 0),Oh([i.RefSelector("eSelectAllContainer")],t.prototype,"eSelectAllContainer",void 0),Oh([i.Autowired("valueFormatterService")],t.prototype,"valueFormatterService",void 0),Oh([i.Autowired("focusController")],t.prototype,"focusController",void 0),t}(i.ProvidedFilter),Th=function(){function e(e){this.model=e}return e.prototype.getRowCount=function(){return this.model.getDisplayedValueCount()},e.prototype.getRow=function(e){return this.model.getDisplayedValue(e)},e}(),Dh=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Ah=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Fh=function(e){function t(){var t=e.call(this,'\n            <div class="ag-floating-filter-input" role="presentation">\n                <ag-input-text-field ref="eFloatingFilterText"></ag-input-text-field>\n            </div>')||this;return t.availableValuesListenerAdded=!1,t}return Dh(t,e),t.prototype.destroy=function(){e.prototype.destroy.call(this)},t.prototype.init=function(e){var t=this.columnController.getDisplayNameForColumn(e.column,"header",!0);this.eFloatingFilterText.setDisabled(!0).setInputAriaLabel(t+" Filter Input"),this.params=e},t.prototype.onParentModelChanged=function(e){this.lastKnownModel=e,this.updateSetFilterText()},t.prototype.addAvailableValuesListener=function(){var e=this;this.params.parentFilterInstance((function(t){var o=t.getValueModel();e.addManagedListener(o,wh.EVENT_AVAILABLE_VALUES_CHANGED,(function(){return e.updateSetFilterText()}))})),this.availableValuesListenerAdded=!0},t.prototype.updateSetFilterText=function(){var e=this;if(this.lastKnownModel){this.availableValuesListenerAdded||this.addAvailableValuesListener();var t=this.lastKnownModel instanceof Array?this.lastKnownModel:this.lastKnownModel.values;t?this.params.parentFilterInstance((function(o){var n=o.getValueModel(),r=i._.filter(t,(function(e){return n.isValueAvailable(e)})),s=e.gridOptionsWrapper.getLocaleTextFunc(),a=i._.map(r,(function(t){var o=e.valueFormatterService.formatValue(e.params.column,null,null,t),n=null!=o?o:t;return null==n?"("+s("blanks","Blanks")+")":n})),l=a.length>10?a.slice(0,10).concat("..."):a,c="("+a.length+") "+l.join(",");e.eFloatingFilterText.setValue(c)})):this.eFloatingFilterText.setValue("")}else this.eFloatingFilterText.setValue("")},Ah([i.RefSelector("eFloatingFilterText")],t.prototype,"eFloatingFilterText",void 0),Ah([i.Autowired("valueFormatterService")],t.prototype,"valueFormatterService",void 0),Ah([i.Autowired("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),Ah([i.Autowired("columnController")],t.prototype,"columnController",void 0),t}(i.Component),_h={moduleName:i.ModuleNames.SetFilterModule,beans:[],userComponents:[{componentName:"agSetColumnFilter",componentClass:xh},{componentName:"agSetColumnFloatingFilter",componentClass:Fh}],dependantModules:[g]},Mh=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Ih=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Lh=function(e){function t(){var t=e.call(this)||this;return t.allComponents={},t}return Mh(t,e),t.prototype.registerStatusPanel=function(e,t){this.allComponents[e]=t},t.prototype.getStatusPanel=function(e){return this.allComponents[e]},t=Ih([i.Bean("statusBarService")],t)}(i.BeanStub),Nh=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),kh=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Gh=function(e){function t(){return e.call(this,t.TEMPLATE)||this}return Nh(t,e),t.prototype.postConstruct=function(){if(this.gridOptions.statusBar&&this.gridOptions.statusBar.statusPanels){var e=this.gridOptions.statusBar.statusPanels.filter((function(e){return"left"===e.align}));this.createAndRenderComponents(e,this.eStatusBarLeft);var t=this.gridOptions.statusBar.statusPanels.filter((function(e){return"center"===e.align}));this.createAndRenderComponents(t,this.eStatusBarCenter);var o=this.gridOptions.statusBar.statusPanels.filter((function(e){return!e.align||"right"===e.align}));this.createAndRenderComponents(o,this.eStatusBarRight)}else this.setDisplayed(!1)},t.prototype.createAndRenderComponents=function(e,t){var o=this,n=[];e.forEach((function(e){var t={api:o.gridOptionsWrapper.getApi(),columnApi:o.gridOptionsWrapper.getColumnApi(),context:o.gridOptionsWrapper.getContext()},i=o.userComponentFactory.newStatusPanelComponent(e,t);n.push({key:e.key||e.statusPanel,promise:i})})),i.Promise.all(n.map((function(e){return e.promise}))).then((function(){n.forEach((function(e){e.promise.then((function(n){var i=function(){o.getContext().destroyBean(n)};o.isAlive()?(o.statusBarService.registerStatusPanel(e.key,n),t.appendChild(n.getGui()),o.addDestroyFunc(i)):i()}))}))}))},t.TEMPLATE='<div class="ag-status-bar">\n            <div ref="eStatusBarLeft" class="ag-status-bar-left"></div>\n            <div ref="eStatusBarCenter" class="ag-status-bar-center"></div>\n            <div ref="eStatusBarRight" class="ag-status-bar-right"></div>\n        </div>',kh([i.Autowired("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),kh([i.Autowired("gridOptions")],t.prototype,"gridOptions",void 0),kh([i.Autowired("userComponentFactory")],t.prototype,"userComponentFactory",void 0),kh([i.Autowired("statusBarService")],t.prototype,"statusBarService",void 0),kh([i.RefSelector("eStatusBarLeft")],t.prototype,"eStatusBarLeft",void 0),kh([i.RefSelector("eStatusBarCenter")],t.prototype,"eStatusBarCenter",void 0),kh([i.RefSelector("eStatusBarRight")],t.prototype,"eStatusBarRight",void 0),kh([i.PostConstruct],t.prototype,"postConstruct",null),t}(i.Component),Vh=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Hh=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Bh=function(e){function t(){return e.call(this,t.TEMPLATE)||this}return Vh(t,e),t.prototype.setLabel=function(e,t){this.setDisplayed(!1);var o=this.gridOptionsWrapper.getLocaleTextFunc();this.eLabel.innerHTML=o(e,t)},t.prototype.setValue=function(e){this.eValue.innerHTML=e},t.TEMPLATE='<div class="ag-status-name-value">  \n            <span ref="eLabel"></span>:&nbsp;\n            <span ref="eValue" class="ag-status-name-value-value"></span>\n        </div>',Hh([i.Autowired("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),Hh([i.RefSelector("eLabel")],t.prototype,"eLabel",void 0),Hh([i.RefSelector("eValue")],t.prototype,"eValue",void 0),t}(i.Component),Wh=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),jh=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},zh=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Wh(t,e),t.prototype.postConstruct=function(){"clientSide"===this.gridApi.getModel().getType()?(this.setLabel("totalAndFilteredRows","Rows"),this.addCssClass("ag-status-panel"),this.addCssClass("ag-status-panel-total-and-filtered-row-count"),this.setDisplayed(!0),this.addManagedListener(this.eventService,i.Events.EVENT_MODEL_UPDATED,this.onDataChanged.bind(this))):console.warn("ag-Grid: agTotalAndFilteredRowCountComponent should only be used with the client side row model.")},t.prototype.onDataChanged=function(){var e=i._.formatNumberCommas(this.getFilteredRowCountValue()),t=i._.formatNumberCommas(this.getTotalRowCount());if(e===t)this.setValue(e);else{var o=this.gridOptionsWrapper.getLocaleTextFunc();this.setValue(e+" "+o("of","of")+" "+t)}},t.prototype.getFilteredRowCountValue=function(){var e=0;return this.gridApi.forEachNodeAfterFilter((function(t){t.group||e++})),e},t.prototype.getTotalRowCount=function(){var e=0;return this.gridApi.forEachNode((function(t){t.group||e++})),e},t.prototype.init=function(){},t.prototype.destroy=function(){e.prototype.destroy.call(this)},jh([i.Autowired("gridApi")],t.prototype,"gridApi",void 0),jh([i.PostConstruct],t.prototype,"postConstruct",null),t}(Bh),Uh=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),$h=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Kh=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Uh(t,e),t.prototype.postConstruct=function(){if(this.setLabel("filteredRows","Filtered"),"clientSide"===this.gridApi.getModel().getType()){this.addCssClass("ag-status-panel"),this.addCssClass("ag-status-panel-filtered-row-count"),this.setDisplayed(!0);var e=this.onDataChanged.bind(this);this.addManagedListener(this.eventService,i.Events.EVENT_MODEL_UPDATED,e)}else console.warn("ag-Grid: agFilteredRowCountComponent should only be used with the client side row model.")},t.prototype.onDataChanged=function(){var e=this.getTotalRowCountValue(),t=this.getFilteredRowCountValue();this.setValue(i._.formatNumberCommas(t)),this.setDisplayed(e!==t)},t.prototype.getTotalRowCountValue=function(){var e=0;return this.gridApi.forEachNode((function(t){return e+=1})),e},t.prototype.getFilteredRowCountValue=function(){var e=0;return this.gridApi.forEachNodeAfterFilter((function(t){t.group||(e+=1)})),e},t.prototype.init=function(){},t.prototype.destroy=function(){e.prototype.destroy.call(this)},$h([i.Autowired("gridApi")],t.prototype,"gridApi",void 0),$h([i.PostConstruct],t.prototype,"postConstruct",null),t}(Bh),Yh=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),qh=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Xh=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Yh(t,e),t.prototype.postConstruct=function(){this.setLabel("totalRows","Total Rows"),"clientSide"===this.gridApi.getModel().getType()?(this.addCssClass("ag-status-panel"),this.addCssClass("ag-status-panel-total-row-count"),this.setDisplayed(!0),this.addManagedListener(this.eventService,i.Events.EVENT_MODEL_UPDATED,this.onDataChanged.bind(this))):console.warn("ag-Grid: agTotalRowCountComponent should only be used with the client side row model.")},t.prototype.onDataChanged=function(){this.setValue(i._.formatNumberCommas(this.getRowCountValue()))},t.prototype.getRowCountValue=function(){var e=0;return this.gridApi.forEachLeafNode((function(t){return e+=1})),e},t.prototype.init=function(){},t.prototype.destroy=function(){e.prototype.destroy.call(this)},qh([i.Autowired("gridApi")],t.prototype,"gridApi",void 0),qh([i.PostConstruct],t.prototype,"postConstruct",null),t}(Bh),Qh=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),Zh=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},Jh=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Qh(t,e),t.prototype.postConstruct=function(){if(this.isValidRowModel()){this.setLabel("selectedRows","Selected"),this.addCssClass("ag-status-panel"),this.addCssClass("ag-status-panel-selected-row-count");var e=this.gridApi.getSelectedRows().length;this.setValue(i._.formatNumberCommas(e)),this.setDisplayed(e>0);var t=this.onRowSelectionChanged.bind(this);this.addManagedListener(this.eventService,i.Events.EVENT_MODEL_UPDATED,t),this.addManagedListener(this.eventService,i.Events.EVENT_SELECTION_CHANGED,t)}else console.warn("ag-Grid: agSelectedRowCountComponent should only be used with the client and server side row model.")},t.prototype.isValidRowModel=function(){var e=this.gridApi.getModel().getType();return"clientSide"===e||"serverSide"===e},t.prototype.onRowSelectionChanged=function(){var e=this.gridApi.getSelectedRows().length;this.setValue(i._.formatNumberCommas(e)),this.setDisplayed(e>0)},t.prototype.init=function(){},t.prototype.destroy=function(){e.prototype.destroy.call(this)},Zh([i.Autowired("gridApi")],t.prototype,"gridApi",void 0),Zh([i.PostConstruct],t.prototype,"postConstruct",null),t}(Bh),ep=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),tp=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},op=function(e){function t(){return e.call(this,t.TEMPLATE)||this}return ep(t,e),t.prototype.destroy=function(){e.prototype.destroy.call(this)},t.prototype.postConstruct=function(){this.isValidRowModel()?(this.avgAggregationComp.setLabel("average","Average"),this.countAggregationComp.setLabel("count","Count"),this.minAggregationComp.setLabel("min","Min"),this.maxAggregationComp.setLabel("max","Max"),this.sumAggregationComp.setLabel("sum","Sum"),this.addManagedListener(this.eventService,i.Events.EVENT_RANGE_SELECTION_CHANGED,this.onRangeSelectionChanged.bind(this)),this.addManagedListener(this.eventService,i.Events.EVENT_MODEL_UPDATED,this.onRangeSelectionChanged.bind(this))):console.warn("ag-Grid: agAggregationComponent should only be used with the client and server side row model.")},t.prototype.isValidRowModel=function(){var e=this.gridApi.getModel().getType();return"clientSide"===e||"serverSide"===e},t.prototype.init=function(){},t.prototype.setAggregationComponentValue=function(e,t,o){var n=this.getAggregationValueComponent(e);i._.exists(n)&&n&&(n.setValue(i._.formatNumberTwoDecimalPlacesAndCommas(t)),n.setDisplayed(o))},t.prototype.getAggregationValueComponent=function(e){var t=e+"AggregationComp",o=null,n=i._.exists(this.gridOptions.statusBar)&&this.gridOptions.statusBar?i._.find(this.gridOptions.statusBar.statusPanels,(function(e){return"agAggregationComponent"===e.statusPanel})):null;return i._.exists(n)&&n?(!i._.exists(n.statusPanelParams)||i._.exists(n.statusPanelParams)&&i._.exists(n.statusPanelParams.aggFuncs)&&i._.exists(i._.find(n.statusPanelParams.aggFuncs,(function(t){return t===e}))))&&(o=this[t]):o=this[t],o},t.prototype.onRangeSelectionChanged=function(){var e=this,t=this.rangeController?this.rangeController.getCellRanges():void 0,o=0,n=0,r=0,s=null,a=null,l={};t&&!i._.missingOrEmpty(t)&&t.forEach((function(t){for(var c=e.rangeController.getRangeStartRow(t),u=e.rangeController.getRangeEndRow(t);;){if(i._.missing(c)||!c||e.rowPositionUtils.before(u,c)||!c||!t.columns)break;t.columns.forEach((function(t){if(null!==c){var u=e.cellPositionUtils.createId({rowPinned:c.rowPinned,column:t,rowIndex:c.rowIndex});if(!l[u]){l[u]=!0;var d=e.rowRenderer.getRowNode(c);if(!i._.missing(d)){var h=e.valueService.getValue(t,d);i._.missing(h)||""===h||(h.value&&(h=h.value),"string"===typeof h&&(h=Number(h)),"number"!==typeof h||isNaN(h)||(o+=h,(null===a||h>a)&&(a=h),(null===s||h<s)&&(s=h),r++),n++)}}}})),c=e.cellNavigationService.getRowBelow(c)}}));var c=n>1,u=r>1;this.setAggregationComponentValue("count",n,c),this.setAggregationComponentValue("sum",o,u),this.setAggregationComponentValue("min",s,u),this.setAggregationComponentValue("max",a,u),this.setAggregationComponentValue("avg",o/r,u)},t.TEMPLATE='<div class="ag-status-panel ag-status-panel-aggregations">\n            <ag-name-value ref="avgAggregationComp"></ag-name-value>\n            <ag-name-value ref="countAggregationComp"></ag-name-value>\n            <ag-name-value ref="minAggregationComp"></ag-name-value>\n            <ag-name-value ref="maxAggregationComp"></ag-name-value>\n            <ag-name-value ref="sumAggregationComp"></ag-name-value>\n        </div>',tp([i.Optional("rangeController")],t.prototype,"rangeController",void 0),tp([i.Autowired("valueService")],t.prototype,"valueService",void 0),tp([i.Autowired("cellNavigationService")],t.prototype,"cellNavigationService",void 0),tp([i.Autowired("rowRenderer")],t.prototype,"rowRenderer",void 0),tp([i.Autowired("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),tp([i.Autowired("gridOptions")],t.prototype,"gridOptions",void 0),tp([i.Autowired("gridApi")],t.prototype,"gridApi",void 0),tp([i.Autowired("cellPositionUtils")],t.prototype,"cellPositionUtils",void 0),tp([i.Autowired("rowPositionUtils")],t.prototype,"rowPositionUtils",void 0),tp([i.RefSelector("sumAggregationComp")],t.prototype,"sumAggregationComp",void 0),tp([i.RefSelector("countAggregationComp")],t.prototype,"countAggregationComp",void 0),tp([i.RefSelector("minAggregationComp")],t.prototype,"minAggregationComp",void 0),tp([i.RefSelector("maxAggregationComp")],t.prototype,"maxAggregationComp",void 0),tp([i.RefSelector("avgAggregationComp")],t.prototype,"avgAggregationComp",void 0),tp([i.PostConstruct],t.prototype,"postConstruct",null),t}(i.Component),np={moduleName:i.ModuleNames.StatusBarModule,beans:[Lh],agStackComponents:[{componentName:"AgStatusBar",componentClass:Gh},{componentName:"AgNameValue",componentClass:Bh}],userComponents:[{componentName:"agAggregationComponent",componentClass:op},{componentName:"agSelectedRowCountComponent",componentClass:Jh},{componentName:"agTotalRowCountComponent",componentClass:Xh},{componentName:"agFilteredRowCountComponent",componentClass:Kh},{componentName:"agTotalAndFilteredRowCountComponent",componentClass:zh}],dependantModules:[g]},ip=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),rp=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},sp=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.firstRow=-1,t.lastRow=-1,t.rowCount=-1,t.rowNodesByIndex={},t}return ip(t,e),t.prototype.ensureRowHeightsValid=function(e,t,o,n){return!1},t.prototype.init=function(){this.rowHeight=this.gridOptionsWrapper.getRowHeightAsNumber(),this.addManagedListener(this.eventService,i.Events.EVENT_VIEWPORT_CHANGED,this.onViewportChanged.bind(this))},t.prototype.start=function(){this.gridOptionsWrapper.getViewportDatasource()&&this.setViewportDatasource(this.gridOptionsWrapper.getViewportDatasource())},t.prototype.isLastRowFound=function(){return!0},t.prototype.destroyDatasource=function(){this.viewportDatasource&&(this.viewportDatasource.destroy&&this.viewportDatasource.destroy(),this.rowRenderer.datasourceChanged(),this.firstRow=-1,this.lastRow=-1)},t.prototype.calculateFirstRow=function(e){var t=this.gridOptionsWrapper.getViewportRowModelBufferSize(),o=this.gridOptionsWrapper.getViewportRowModelPageSize(),n=e-t;return n<0?0:Math.floor(n/o)*o},t.prototype.calculateLastRow=function(e){if(-1===e)return e;var t=this.gridOptionsWrapper.getViewportRowModelBufferSize(),o=this.gridOptionsWrapper.getViewportRowModelPageSize(),n=e+t,i=Math.ceil(n/o)*o,r=this.rowCount-1;return Math.min(i,r)},t.prototype.onViewportChanged=function(e){var t=this.calculateFirstRow(e.firstRow),o=this.calculateLastRow(e.lastRow);this.firstRow===t&&this.lastRow===o||(this.firstRow=t,this.lastRow=o,this.purgeRowsNotInViewport(),this.viewportDatasource&&this.viewportDatasource.setViewportRange(this.firstRow,this.lastRow))},t.prototype.purgeRowsNotInViewport=function(){var e=this;Object.keys(this.rowNodesByIndex).forEach((function(t){var o=parseInt(t,10);(o<e.firstRow||o>e.lastRow)&&delete e.rowNodesByIndex[o]}))},t.prototype.setViewportDatasource=function(e){this.destroyDatasource(),this.viewportDatasource=e,this.rowCount=0,e.init?e.init({setRowCount:this.setRowCount.bind(this),setRowData:this.setRowData.bind(this),getRow:this.getRow.bind(this)}):console.warn("ag-Grid: viewport is missing init method.")},t.prototype.getType=function(){return i.Constants.ROW_MODEL_TYPE_VIEWPORT},t.prototype.getRow=function(e){return this.rowNodesByIndex[e]||(this.rowNodesByIndex[e]=this.createBlankRowNode(e)),this.rowNodesByIndex[e]},t.prototype.getRowNode=function(e){var t=null;return this.forEachNode((function(o){o.id===e&&(t=o)})),t},t.prototype.getRowCount=function(){return this.rowCount},t.prototype.getRowIndexAtPixel=function(e){return 0!==this.rowHeight?Math.floor(e/this.rowHeight):0},t.prototype.getRowBounds=function(e){return{rowHeight:this.rowHeight,rowTop:this.rowHeight*e}},t.prototype.getTopLevelRowCount=function(){return this.getRowCount()},t.prototype.getTopLevelRowDisplayedIndex=function(e){return e},t.prototype.getCurrentPageHeight=function(){return this.rowCount*this.rowHeight},t.prototype.isEmpty=function(){return this.rowCount>0},t.prototype.isRowsToRender=function(){return this.rowCount>0},t.prototype.getNodesInRangeForSelection=function(e,t){var o=i._.missing(e)?0:e.rowIndex,n=t.rowIndex,r=o<this.firstRow||o>this.lastRow,s=n<this.firstRow||n>this.lastRow;if(r||s)return[];for(var a=[],l=o<=n?n:o,c=o<=n?o:n;c<=l;c++)a.push(this.rowNodesByIndex[c]);return a},t.prototype.forEachNode=function(e){var t=this,o=0;Object.keys(this.rowNodesByIndex).forEach((function(n){var i=parseInt(n,10),r=t.rowNodesByIndex[i];e(r,o),o++}))},t.prototype.setRowData=function(e){var t=this;i._.iterateObject(e,(function(e,o){var n=parseInt(e,10);if(n>=t.firstRow&&n<=t.lastRow){var r=t.rowNodesByIndex[n];i._.missing(r)&&(r=t.createBlankRowNode(n),t.rowNodesByIndex[n]=r),r.setDataAndId(o,n.toString())}}))},t.prototype.createBlankRowNode=function(e){var t=new i.RowNode;return this.createBean(t),t.setRowHeight(this.rowHeight),t.setRowTop(this.rowHeight*e),t.setRowIndex(e),t},t.prototype.setRowCount=function(e,t){if(void 0===t&&(t=!1),e!==this.rowCount){this.rowCount=e;var o={type:i.Events.EVENT_MODEL_UPDATED,api:this.gridApi,columnApi:this.columnApi,newData:!1,newPage:!1,keepRenderedRows:t,animate:!1};this.eventService.dispatchEvent(o)}},t.prototype.isRowPresent=function(e){return!1},rp([i.Autowired("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),rp([i.Autowired("gridApi")],t.prototype,"gridApi",void 0),rp([i.Autowired("columnApi")],t.prototype,"columnApi",void 0),rp([i.Autowired("rowRenderer")],t.prototype,"rowRenderer",void 0),rp([i.PostConstruct],t.prototype,"init",null),rp([i.PreDestroy],t.prototype,"destroyDatasource",null),t=rp([i.Bean("rowModel")],t)}(i.BeanStub),ap={moduleName:i.ModuleNames.ViewportRowModelModule,rowModels:{viewport:sp},dependantModules:[g]},lp=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),cp=function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},up=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return lp(t,e),t.prototype.registerGridCore=function(e){this.gridCore=e},t.prototype.init=function(){this.logger=this.loggerFactory.create("ClipboardService"),this.rowModel.getType()===i.Constants.ROW_MODEL_TYPE_CLIENT_SIDE&&(this.clientSideRowModel=this.rowModel)},t.prototype.pasteFromClipboard=function(){var e=this;this.logger.log("pasteFromClipboard"),this.executeOnTempElement((function(e){return e.focus()}),(function(t){var o=t.value;if(!i._.missingOrEmpty(o)){var n=i._.stringToArray(o,e.gridOptionsWrapper.getClipboardDeliminator()),r=e.gridOptionsWrapper.getProcessDataFromClipboardFunc();if(r&&(n=r({data:n})),!i._.missingOrEmpty(n)){e.gridOptionsWrapper.isSuppressLastEmptyLineOnPaste()&&e.removeLastLineIfBlank(n);e.doPasteOperation((function(t,o,i,r){e.rangeController&&e.rangeController.isMoreThanOneCell()&&!e.hasOnlyOneValueToPaste(n)?e.pasteIntoActiveRange(n,t,o,r):e.pasteStartingFromFocusedCell(n,t,o,i,r)}))}}}))},t.prototype.doPasteOperation=function(e){var t,o=this.gridOptionsWrapper.getApi(),n=this.gridOptionsWrapper.getColumnApi(),r="clipboard";if(this.eventService.dispatchEvent({type:i.Events.EVENT_PASTE_START,api:o,columnApi:n,source:r}),this.clientSideRowModel){var s=this.gridOptionsWrapper.isAggregateOnlyChangedColumns();t=new i.ChangedPath(s,this.clientSideRowModel.getRootNode())}var a={},l=[],c=this.focusController.getFocusedCell();e(a,l,c,t),t&&this.clientSideRowModel.doAggregate(t),this.rowRenderer.refreshCells(),this.dispatchFlashCells(a),this.fireRowChanged(l),c&&this.focusController.setFocusedCell(c.rowIndex,c.column,c.rowPinned,!0),this.eventService.dispatchEvent({type:i.Events.EVENT_PASTE_END,api:o,columnApi:n,source:r})},t.prototype.pasteIntoActiveRange=function(e,t,o,n){var r=this,s=this.getRangeSize()%e.length!=0,a=0,l=0;this.iterateActiveRanges(!1,(function(c,u,d,h){if(h-a>=e.length){if(s)return;a+=l,l=0}var p=e[h-a];o.push(u);var g=r.gridOptionsWrapper.getProcessCellFromClipboardFunc();d.forEach((function(e,o){if(e.isCellEditable(u)&&!e.isSuppressPaste(u)){o>=p.length&&(o%=p.length);var s=r.processCell(u,e,p[o],i.Constants.EXPORT_TYPE_DRAG_COPY,g);r.valueService.setValue(u,e,s,i.Constants.SOURCE_PASTE),n&&n.addParentNode(u.parent,[e]);var a=r.cellPositionUtils.createIdFromValues(c.rowIndex,e,c.rowPinned);t[a]=!0}})),l++}))},t.prototype.pasteStartingFromFocusedCell=function(e,t,o,n,r){if(n){var s={rowIndex:n.rowIndex,rowPinned:n.rowPinned},a=this.columnController.getDisplayedColumnsStartingAt(n.column);this.hasOnlyOneValueToPaste(e)?this.pasteSingleValue(e,o,t,r):this.pasteMultipleValues(e,s,o,a,t,i.Constants.EXPORT_TYPE_CLIPBOARD,r)}},t.prototype.hasOnlyOneValueToPaste=function(e){return 1===e.length&&1===e[0].length},t.prototype.copyRangeDown=function(){var e=this;if(this.rangeController&&!this.rangeController.isEmpty()){var t=[];this.doPasteOperation((function(o,n,r,s){var a=e.gridOptionsWrapper.getProcessCellForClipboardFunc(),l=e.gridOptionsWrapper.getProcessCellFromClipboardFunc();e.iterateActiveRanges(!0,(function(r,c,u){t.length?(n.push(c),u.forEach((function(n,a){if(n.isCellEditable(c)&&!n.isSuppressPaste(c)){var u=e.processCell(c,n,t[a],i.Constants.EXPORT_TYPE_DRAG_COPY,l);e.valueService.setValue(c,n,u,i.Constants.SOURCE_PASTE),s&&s.addParentNode(c.parent,[n]);var d=e.cellPositionUtils.createIdFromValues(r.rowIndex,n,r.rowPinned);o[d]=!0}}))):u.forEach((function(o){var n=e.processCell(c,o,e.valueService.getValue(o,c),i.Constants.EXPORT_TYPE_DRAG_COPY,a);t.push(n)}))}))}))}},t.prototype.removeLastLineIfBlank=function(e){var t=i._.last(e);t&&1===t.length&&""===t[0]&&i._.removeFromArray(e,t)},t.prototype.fireRowChanged=function(e){var t=this;this.gridOptionsWrapper.isFullRowEdit()&&e.forEach((function(e){var o={type:i.Events.EVENT_ROW_VALUE_CHANGED,node:e,data:e.data,rowIndex:e.rowIndex,rowPinned:e.rowPinned,context:t.gridOptionsWrapper.getContext(),api:t.gridOptionsWrapper.getApi(),columnApi:t.gridOptionsWrapper.getColumnApi()};t.eventService.dispatchEvent(o)}))},t.prototype.pasteMultipleValues=function(e,t,o,n,i,r,s){var a=this;return e.forEach((function(e){if(t){var l=a.rowPositionUtils.getRowNode(t);l&&(o.push(l),e.forEach((function(e,o){return a.updateCellValue(l,n[o],e,t,i,r,s)})),t=a.cellNavigationService.getRowBelow({rowPinned:t.rowPinned,rowIndex:t.rowIndex}))}})),t},t.prototype.pasteSingleValue=function(e,t,o,n){var r=this,s=e[0][0];this.iterateActiveRanges(!1,(function(e,a,l){t.push(a),l.forEach((function(t){return r.updateCellValue(a,t,s,e,o,i.Constants.EXPORT_TYPE_CLIPBOARD,n)}))}))},t.prototype.updateCellValue=function(e,t,o,n,r,s,a){if(e&&n&&t&&t.isCellEditable(e)&&!t.isSuppressPaste(e)){var l=this.processCell(e,t,o,s,this.gridOptionsWrapper.getProcessCellFromClipboardFunc());this.valueService.setValue(e,t,l,i.Constants.SOURCE_PASTE),r[this.cellPositionUtils.createIdFromValues(n.rowIndex,t,n.rowPinned)]=!0,a&&a.addParentNode(e.parent,[t])}},t.prototype.copyToClipboard=function(e){this.logger.log("copyToClipboard: includeHeaders = "+e),null==e&&(e=this.gridOptionsWrapper.isCopyHeadersToClipboard());var t=this.focusController.getFocusedCell(),o=!this.selectionController.isEmpty()&&!this.gridOptionsWrapper.isSuppressCopyRowsToClipboard();this.rangeController&&this.rangeController.isMoreThanOneCell()?this.copySelectedRangeToClipboard(e):o?this.copySelectedRowsToClipboard(e):this.focusController.isAnyCellFocused()?this.copyFocusedCellToClipboard(e):this.copySelectedRangeToClipboard(e),t&&this.focusController.setFocusedCell(t.rowIndex,t.column,t.rowPinned,!0)},t.prototype.iterateActiveRanges=function(e,t,o){var n=this;if(this.rangeController&&!this.rangeController.isEmpty()){var i=this.rangeController.getCellRanges();e?this.iterateActiveRange(i[0],t,o,!0):i.forEach((function(e,r){return n.iterateActiveRange(e,t,o,r===i.length-1)}))}},t.prototype.iterateActiveRange=function(e,t,o,n){if(this.rangeController){var i=this.rangeController.getRangeStartRow(e),r=this.rangeController.getRangeEndRow(e);o&&e.columns&&o(e.columns);for(var s=0,a=!1;!a&&null!=i;){var l=this.rowPositionUtils.getRowNode(i);a=this.rowPositionUtils.sameRow(i,r),t(i,l,e.columns,s++,a&&n),i=this.cellNavigationService.getRowBelow(i)}}},t.prototype.copySelectedRangeToClipboard=function(e){var t=this;if(void 0===e&&(e=!1),this.rangeController&&!this.rangeController.isEmpty()){var o=this.gridOptionsWrapper.getClipboardDeliminator(),n="",r={};this.iterateActiveRanges(!1,(function(e,s,a,l,c){var u=t.gridOptionsWrapper.getProcessCellForClipboardFunc();a.forEach((function(a,l){var c=t.valueService.getValue(a,s),d=t.processCell(s,a,c,i.Constants.EXPORT_TYPE_CLIPBOARD,u);0!=l&&(n+=o),i._.exists(d)&&(n+=d);var h=t.cellPositionUtils.createIdFromValues(e.rowIndex,a,e.rowPinned);r[h]=!0})),c||(n+="\r\n")}),(function(i){if(e){var r=t.gridOptionsWrapper.getProcessHeaderForClipboardFunc(),s=i.map((function(e){var o=t.columnController.getDisplayNameForColumn(e,"clipboard",!0);return t.processHeader(e,o,r)||""}));n+=s.join(o)+"\r\n"}})),this.copyDataToClipboard(n),this.dispatchFlashCells(r)}},t.prototype.copyFocusedCellToClipboard=function(e){var t;void 0===e&&(e=!1);var o=this.focusController.getFocusedCell();if(null!=o){var n,r=this.cellPositionUtils.createId(o),s={rowPinned:o.rowPinned,rowIndex:o.rowIndex},a=this.rowPositionUtils.getRowNode(s),l=o.column,c=this.valueService.getValue(l,a),u=this.processCell(a,l,c,i.Constants.EXPORT_TYPE_CLIPBOARD,this.gridOptionsWrapper.getProcessCellForClipboardFunc());if(u=i._.missing(u)?"":u.toString(),e){var d=this.columnController.getDisplayNameForColumn(l,"clipboard",!0);n=this.processHeader(l,d,this.gridOptionsWrapper.getProcessHeaderForClipboardFunc())+"\r\n"+u}else n=u;this.copyDataToClipboard(n),this.dispatchFlashCells(((t={})[r]=!0,t))}},t.prototype.dispatchFlashCells=function(e){var t=this;window.setTimeout((function(){var o={type:i.Events.EVENT_FLASH_CELLS,cells:e,api:t.gridApi,columnApi:t.columnApi};t.eventService.dispatchEvent(o)}),0)},t.prototype.processCell=function(e,t,o,n,i){return i?i({column:t,node:e,value:o,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext(),type:n}):o},t.prototype.processHeader=function(e,t,o){return o?o({column:e,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()}):t},t.prototype.copySelectedRowsToClipboard=function(e,t){void 0===e&&(e=!1);var o={columnKeys:t,skipHeader:!e,skipFooters:!0,suppressQuotes:!0,columnSeparator:this.gridOptionsWrapper.getClipboardDeliminator(),onlySelected:!0,processCellCallback:this.gridOptionsWrapper.getProcessCellForClipboardFunc(),processHeaderCallback:this.gridOptionsWrapper.getProcessHeaderForClipboardFunc()},n=this.csvCreator.getDataAsCsv(o);this.copyDataToClipboard(n)},t.prototype.copyDataToClipboard=function(e){var t=this.gridOptionsWrapper.getSendToClipboardFunc();t?t({data:e}):this.executeOnTempElement((function(t){t.value=e||" ",t.select(),t.focus(),document.execCommand("copy")||console.warn("ag-grid: Browser did not allow document.execCommand('copy'). Ensure api.copySelectedRowsToClipboard() is invoked via a user event, i.e. button click, otherwise the browser will prevent it for security reasons.")}))},t.prototype.executeOnTempElement=function(e,t){var o=document.createElement("textarea");o.style.width="1px",o.style.height="1px",o.style.top="0px",o.style.left="0px",o.style.position="absolute",o.style.opacity="0.0";var n=this.gridCore.getRootGui();n.appendChild(o);try{e(o)}catch(i){console.warn("ag-grid: Browser does not support document.execCommand('copy') for clipboard operations")}t?window.setTimeout((function(){t(o),n.removeChild(o)}),100):n.removeChild(o)},t.prototype.getRangeSize=function(){var e=this.rangeController.getCellRanges(),t=0,o=0;return e.length>0&&(t=this.rangeController.getRangeStartRow(e[0]).rowIndex,o=this.rangeController.getRangeEndRow(e[0]).rowIndex),t-o+1},cp([i.Autowired("csvCreator")],t.prototype,"csvCreator",void 0),cp([i.Autowired("loggerFactory")],t.prototype,"loggerFactory",void 0),cp([i.Autowired("selectionController")],t.prototype,"selectionController",void 0),cp([i.Optional("rangeController")],t.prototype,"rangeController",void 0),cp([i.Autowired("rowModel")],t.prototype,"rowModel",void 0),cp([i.Autowired("valueService")],t.prototype,"valueService",void 0),cp([i.Autowired("focusController")],t.prototype,"focusController",void 0),cp([i.Autowired("rowRenderer")],t.prototype,"rowRenderer",void 0),cp([i.Autowired("columnController")],t.prototype,"columnController",void 0),cp([i.Autowired("cellNavigationService")],t.prototype,"cellNavigationService",void 0),cp([i.Autowired("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),cp([i.Autowired("columnApi")],t.prototype,"columnApi",void 0),cp([i.Autowired("gridApi")],t.prototype,"gridApi",void 0),cp([i.Autowired("cellPositionUtils")],t.prototype,"cellPositionUtils",void 0),cp([i.Autowired("rowPositionUtils")],t.prototype,"rowPositionUtils",void 0),cp([i.PostConstruct],t.prototype,"init",null),t=cp([i.Bean("clipboardService")],t)}(i.BeanStub),dp={moduleName:i.ModuleNames.ClipboardModule,beans:[up],dependantModules:[g,jo]};i.ModuleRegistry.register(Xe,!1),i.ModuleRegistry.register(Jo,!1),i.ModuleRegistry.register(vn,!1),i.ModuleRegistry.register(Fd,!1),i.ModuleRegistry.register(Ld,!1),i.ModuleRegistry.register(Jd,!1),i.ModuleRegistry.register(Ad,!1),i.ModuleRegistry.register(sh,!1),i.ModuleRegistry.register(Ee,!1),i.ModuleRegistry.register(Ch,!1),i.ModuleRegistry.register(_h,!1),i.ModuleRegistry.register(qe,!1),i.ModuleRegistry.register(np,!1),i.ModuleRegistry.register(ap,!1),i.ModuleRegistry.register(dp,!1)},283:e=>{"use strict";var t=Object.prototype.hasOwnProperty,o="~";function n(){}function i(e,t,o){this.fn=e,this.context=t,this.once=o||!1}function r(e,t,n,r,s){if("function"!==typeof n)throw new TypeError("The listener must be a function");var a=new i(n,r||e,s),l=o?o+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],a]:e._events[l].push(a):(e._events[l]=a,e._eventsCount++),e}function s(e,t){0===--e._eventsCount?e._events=new n:delete e._events[t]}function a(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(o=!1)),a.prototype.eventNames=function(){var e,n,i=[];if(0===this._eventsCount)return i;for(n in e=this._events)t.call(e,n)&&i.push(o?n.slice(1):n);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},a.prototype.listeners=function(e){var t=o?o+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var i=0,r=n.length,s=new Array(r);i<r;i++)s[i]=n[i].fn;return s},a.prototype.listenerCount=function(e){var t=o?o+e:e,n=this._events[t];return n?n.fn?1:n.length:0},a.prototype.emit=function(e,t,n,i,r,s){var a=o?o+e:e;if(!this._events[a])return!1;var l,c,u=this._events[a],d=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),d){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,n),!0;case 4:return u.fn.call(u.context,t,n,i),!0;case 5:return u.fn.call(u.context,t,n,i,r),!0;case 6:return u.fn.call(u.context,t,n,i,r,s),!0}for(c=1,l=new Array(d-1);c<d;c++)l[c-1]=arguments[c];u.fn.apply(u.context,l)}else{var h,p=u.length;for(c=0;c<p;c++)switch(u[c].once&&this.removeListener(e,u[c].fn,void 0,!0),d){case 1:u[c].fn.call(u[c].context);break;case 2:u[c].fn.call(u[c].context,t);break;case 3:u[c].fn.call(u[c].context,t,n);break;case 4:u[c].fn.call(u[c].context,t,n,i);break;default:if(!l)for(h=1,l=new Array(d-1);h<d;h++)l[h-1]=arguments[h];u[c].fn.apply(u[c].context,l)}}return!0},a.prototype.on=function(e,t,o){return r(this,e,t,o,!1)},a.prototype.once=function(e,t,o){return r(this,e,t,o,!0)},a.prototype.removeListener=function(e,t,n,i){var r=o?o+e:e;if(!this._events[r])return this;if(!t)return s(this,r),this;var a=this._events[r];if(a.fn)a.fn!==t||i&&!a.once||n&&a.context!==n||s(this,r);else{for(var l=0,c=[],u=a.length;l<u;l++)(a[l].fn!==t||i&&!a[l].once||n&&a[l].context!==n)&&c.push(a[l]);c.length?this._events[r]=1===c.length?c[0]:c:s(this,r)}return this},a.prototype.removeAllListeners=function(e){var t;return e?(t=o?o+e:e,this._events[t]&&s(this,t)):(this._events=new n,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=o,a.EventEmitter=a,e.exports=a},497:(e,t,o)=>{"use strict";var n=o(218);function i(){}function r(){}r.resetWarningCache=i,e.exports=function(){function e(e,t,o,i,r,s){if(s!==n){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var o={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:r,resetWarningCache:i};return o.PropTypes=o,o}},173:(e,t,o)=>{e.exports=o(497)()},218:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},132:(e,t)=>{"use strict";var o,n=Symbol.for("react.element"),i=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),u=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.suspense_list"),g=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),m=Symbol.for("react.offscreen");function v(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case r:case a:case s:case h:case p:return e;default:switch(e=e&&e.$$typeof){case u:case c:case d:case f:case g:case l:return e;default:return t}}case i:return t}}}o=Symbol.for("react.module.reference"),t.ForwardRef=d,t.isFragment=function(e){return v(e)===r},t.isMemo=function(e){return v(e)===g}},816:(e,t,o)=>{"use strict";e.exports=o(132)},730:(e,t,o)=>{"use strict";var n=o(43),i=o(853);function r(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,o=1;o<arguments.length;o++)t+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(a[e]=t,e=0;e<t.length;e++)s.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},g={};function f(e,t,o,n,i,r,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=o,this.propertyName=e,this.type=t,this.sanitizeURL=r,this.removeEmptyString=s}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new f(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new f(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new f(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new f(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new f(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new f(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new f(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new f(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new f(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function C(e,t,o,n){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:n||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,o,n){if(null===t||"undefined"===typeof t||function(e,t,o,n){if(null!==o&&0===o.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!n&&(null!==o?!o.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,o,n))return!0;if(n)return!1;if(null!==o)switch(o.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,o,i,n)&&(o=null),n||null===i?function(e){return!!d.call(g,e)||!d.call(p,e)&&(h.test(e)?g[e]=!0:(p[e]=!0,!1))}(t)&&(null===o?e.removeAttribute(t):e.setAttribute(t,""+o)):i.mustUseProperty?e[i.propertyName]=null===o?3!==i.type&&"":o:(t=i.attributeName,n=i.attributeNamespace,null===o?e.removeAttribute(t):(o=3===(i=i.type)||4===i&&!0===o?"":""+o,n?e.setAttributeNS(n,t,o):e.setAttribute(t,o))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,y);m[t]=new f(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,y);m[t]=new f(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,y);m[t]=new f(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new f(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new f("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new f(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,b=Symbol.for("react.element"),S=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),O=Symbol.for("react.provider"),x=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),F=Symbol.for("react.memo"),_=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var M=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var I=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=I&&e[I]||e["@@iterator"])?e:null}var N,k=Object.assign;function G(e){if(void 0===N)try{throw Error()}catch(o){var t=o.stack.trim().match(/\n( *(at )?)/);N=t&&t[1]||""}return"\n"+N+e}var V=!1;function H(e,t){if(!e||V)return"";V=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),r=n.stack.split("\n"),s=i.length-1,a=r.length-1;1<=s&&0<=a&&i[s]!==r[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==r[a]){if(1!==s||1!==a)do{if(s--,0>--a||i[s]!==r[a]){var l="\n"+i[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=s&&0<=a);break}}}finally{V=!1,Error.prepareStackTrace=o}return(e=e?e.displayName||e.name:"")?G(e):""}function B(e){switch(e.tag){case 5:return G(e.type);case 16:return G("Lazy");case 13:return G("Suspense");case 19:return G("SuspenseList");case 0:case 2:case 15:return e=H(e.type,!1);case 11:return e=H(e.type.render,!1);case 1:return e=H(e.type,!0);default:return""}}function W(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case E:return"Fragment";case S:return"Portal";case P:return"Profiler";case R:return"StrictMode";case D:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case x:return(e.displayName||"Context")+".Consumer";case O:return(e._context.displayName||"Context")+".Provider";case T:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case F:return null!==(t=e.displayName||null)?t:W(e.type)||"Memo";case _:t=e._payload,e=e._init;try{return W(e(t))}catch(o){}}return null}function j(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return W(t);case 8:return t===R?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function z(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function U(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function $(e){e._valueTracker||(e._valueTracker=function(e){var t=U(e)?"checked":"value",o=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof o&&"function"===typeof o.get&&"function"===typeof o.set){var i=o.get,r=o.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){n=""+e,r.call(this,e)}}),Object.defineProperty(e,t,{enumerable:o.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var o=t.getValue(),n="";return e&&(n=U(e)?e.checked?"true":"false":e.value),(e=n)!==o&&(t.setValue(e),!0)}function Y(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function q(e,t){var o=t.checked;return k({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=o?o:e._wrapperState.initialChecked})}function X(e,t){var o=null==t.defaultValue?"":t.defaultValue,n=null!=t.checked?t.checked:t.defaultChecked;o=z(null!=t.value?t.value:o),e._wrapperState={initialChecked:n,initialValue:o,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Q(e,t){null!=(t=t.checked)&&C(e,"checked",t,!1)}function Z(e,t){Q(e,t);var o=z(t.value),n=t.type;if(null!=o)"number"===n?(0===o&&""===e.value||e.value!=o)&&(e.value=""+o):e.value!==""+o&&(e.value=""+o);else if("submit"===n||"reset"===n)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,o):t.hasOwnProperty("defaultValue")&&ee(e,t.type,z(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function J(e,t,o){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!("submit"!==n&&"reset"!==n||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,o||t===e.value||(e.value=t),e.defaultValue=t}""!==(o=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==o&&(e.name=o)}function ee(e,t,o){"number"===t&&Y(e.ownerDocument)===e||(null==o?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+o&&(e.defaultValue=""+o))}var te=Array.isArray;function oe(e,t,o,n){if(e=e.options,t){t={};for(var i=0;i<o.length;i++)t["$"+o[i]]=!0;for(o=0;o<e.length;o++)i=t.hasOwnProperty("$"+e[o].value),e[o].selected!==i&&(e[o].selected=i),i&&n&&(e[o].defaultSelected=!0)}else{for(o=""+z(o),t=null,i=0;i<e.length;i++){if(e[i].value===o)return e[i].selected=!0,void(n&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function ne(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(r(91));return k({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var o=t.value;if(null==o){if(o=t.children,t=t.defaultValue,null!=o){if(null!=t)throw Error(r(92));if(te(o)){if(1<o.length)throw Error(r(93));o=o[0]}t=o}null==t&&(t=""),o=t}e._wrapperState={initialValue:z(o)}}function re(e,t){var o=z(t.value),n=z(t.defaultValue);null!=o&&((o=""+o)!==e.value&&(e.value=o),null==t.defaultValue&&e.defaultValue!==o&&(e.defaultValue=o)),null!=n&&(e.defaultValue=""+n)}function se(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ae(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,o,n){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function he(e,t){if(t){var o=e.firstChild;if(o&&o===e.lastChild&&3===o.nodeType)return void(o.nodeValue=t)}e.textContent=t}var pe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ge=["Webkit","ms","Moz","O"];function fe(e,t,o){return null==t||"boolean"===typeof t||""===t?"":o||"number"!==typeof t||0===t||pe.hasOwnProperty(e)&&pe[e]?(""+t).trim():t+"px"}function me(e,t){for(var o in e=e.style,t)if(t.hasOwnProperty(o)){var n=0===o.indexOf("--"),i=fe(o,t[o],n);"float"===o&&(o="cssFloat"),n?e.setProperty(o,i):e[o]=i}}Object.keys(pe).forEach((function(e){ge.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pe[t]=pe[e]}))}));var ve=k({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(r(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(r(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(r(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(r(62))}}function Ce(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function be(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Se=null,Ee=null,Re=null;function Pe(e){if(e=wi(e)){if("function"!==typeof Se)throw Error(r(280));var t=e.stateNode;t&&(t=Si(t),Se(e.stateNode,e.type,t))}}function Oe(e){Ee?Re?Re.push(e):Re=[e]:Ee=e}function xe(){if(Ee){var e=Ee,t=Re;if(Re=Ee=null,Pe(e),t)for(e=0;e<t.length;e++)Pe(t[e])}}function Te(e,t){return e(t)}function De(){}var Ae=!1;function Fe(e,t,o){if(Ae)return e(t,o);Ae=!0;try{return Te(e,t,o)}finally{Ae=!1,(null!==Ee||null!==Re)&&(De(),xe())}}function _e(e,t){var o=e.stateNode;if(null===o)return null;var n=Si(o);if(null===n)return null;o=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(n=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!n;break e;default:e=!1}if(e)return null;if(o&&"function"!==typeof o)throw Error(r(231,t,typeof o));return o}var Me=!1;if(u)try{var Ie={};Object.defineProperty(Ie,"passive",{get:function(){Me=!0}}),window.addEventListener("test",Ie,Ie),window.removeEventListener("test",Ie,Ie)}catch(ue){Me=!1}function Le(e,t,o,n,i,r,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(o,c)}catch(u){this.onError(u)}}var Ne=!1,ke=null,Ge=!1,Ve=null,He={onError:function(e){Ne=!0,ke=e}};function Be(e,t,o,n,i,r,s,a,l){Ne=!1,ke=null,Le.apply(He,arguments)}function We(e){var t=e,o=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(o=t.return),e=t.return}while(e)}return 3===t.tag?o:null}function je(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function ze(e){if(We(e)!==e)throw Error(r(188))}function Ue(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=We(e)))throw Error(r(188));return t!==e?null:e}for(var o=e,n=t;;){var i=o.return;if(null===i)break;var s=i.alternate;if(null===s){if(null!==(n=i.return)){o=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===o)return ze(i),e;if(s===n)return ze(i),t;s=s.sibling}throw Error(r(188))}if(o.return!==n.return)o=i,n=s;else{for(var a=!1,l=i.child;l;){if(l===o){a=!0,o=i,n=s;break}if(l===n){a=!0,n=i,o=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===o){a=!0,o=s,n=i;break}if(l===n){a=!0,n=s,o=i;break}l=l.sibling}if(!a)throw Error(r(189))}}if(o.alternate!==n)throw Error(r(190))}if(3!==o.tag)throw Error(r(188));return o.stateNode.current===o?e:t}(e))?$e(e):null}function $e(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=$e(e);if(null!==t)return t;e=e.sibling}return null}var Ke=i.unstable_scheduleCallback,Ye=i.unstable_cancelCallback,qe=i.unstable_shouldYield,Xe=i.unstable_requestPaint,Qe=i.unstable_now,Ze=i.unstable_getCurrentPriorityLevel,Je=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,ot=i.unstable_LowPriority,nt=i.unstable_IdlePriority,it=null,rt=null;var st=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(at(e)/lt|0)|0},at=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var o=e.pendingLanes;if(0===o)return 0;var n=0,i=e.suspendedLanes,r=e.pingedLanes,s=268435455&o;if(0!==s){var a=s&~i;0!==a?n=dt(a):0!==(r&=s)&&(n=dt(r))}else 0!==(s=o&~i)?n=dt(s):0!==r&&(n=dt(r));if(0===n)return 0;if(0!==t&&t!==n&&0===(t&i)&&((i=n&-n)>=(r=t&-t)||16===i&&0!==(4194240&r)))return t;if(0!==(4&n)&&(n|=16&o),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=n;0<t;)i=1<<(o=31-st(t)),n|=e[o],t&=~i;return n}function pt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function gt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function ft(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],o=0;31>o;o++)t.push(e);return t}function vt(e,t,o){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-st(t)]=o}function yt(e,t){var o=e.entangledLanes|=t;for(e=e.entanglements;o;){var n=31-st(o),i=1<<n;i&t|e[n]&t&&(e[n]|=t),o&=~i}}var Ct=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var bt,St,Et,Rt,Pt,Ot=!1,xt=[],Tt=null,Dt=null,At=null,Ft=new Map,_t=new Map,Mt=[],It="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Tt=null;break;case"dragenter":case"dragleave":Dt=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":Ft.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":_t.delete(t.pointerId)}}function Nt(e,t,o,n,i,r){return null===e||e.nativeEvent!==r?(e={blockedOn:t,domEventName:o,eventSystemFlags:n,nativeEvent:r,targetContainers:[i]},null!==t&&(null!==(t=wi(t))&&St(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function kt(e){var t=Ci(e.target);if(null!==t){var o=We(t);if(null!==o)if(13===(t=o.tag)){if(null!==(t=je(o)))return e.blockedOn=t,void Pt(e.priority,(function(){Et(o)}))}else if(3===t&&o.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===o.tag?o.stateNode.containerInfo:null)}e.blockedOn=null}function Gt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var o=qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==o)return null!==(t=wi(o))&&St(t),e.blockedOn=o,!1;var n=new(o=e.nativeEvent).constructor(o.type,o);we=n,o.target.dispatchEvent(n),we=null,t.shift()}return!0}function Vt(e,t,o){Gt(e)&&o.delete(t)}function Ht(){Ot=!1,null!==Tt&&Gt(Tt)&&(Tt=null),null!==Dt&&Gt(Dt)&&(Dt=null),null!==At&&Gt(At)&&(At=null),Ft.forEach(Vt),_t.forEach(Vt)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,Ot||(Ot=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ht)))}function Wt(e){function t(t){return Bt(t,e)}if(0<xt.length){Bt(xt[0],e);for(var o=1;o<xt.length;o++){var n=xt[o];n.blockedOn===e&&(n.blockedOn=null)}}for(null!==Tt&&Bt(Tt,e),null!==Dt&&Bt(Dt,e),null!==At&&Bt(At,e),Ft.forEach(t),_t.forEach(t),o=0;o<Mt.length;o++)(n=Mt[o]).blockedOn===e&&(n.blockedOn=null);for(;0<Mt.length&&null===(o=Mt[0]).blockedOn;)kt(o),null===o.blockedOn&&Mt.shift()}var jt=w.ReactCurrentBatchConfig,zt=!0;function Ut(e,t,o,n){var i=Ct,r=jt.transition;jt.transition=null;try{Ct=1,Kt(e,t,o,n)}finally{Ct=i,jt.transition=r}}function $t(e,t,o,n){var i=Ct,r=jt.transition;jt.transition=null;try{Ct=4,Kt(e,t,o,n)}finally{Ct=i,jt.transition=r}}function Kt(e,t,o,n){if(zt){var i=qt(e,t,o,n);if(null===i)Un(e,t,n,Yt,o),Lt(e,n);else if(function(e,t,o,n,i){switch(t){case"focusin":return Tt=Nt(Tt,e,t,o,n,i),!0;case"dragenter":return Dt=Nt(Dt,e,t,o,n,i),!0;case"mouseover":return At=Nt(At,e,t,o,n,i),!0;case"pointerover":var r=i.pointerId;return Ft.set(r,Nt(Ft.get(r)||null,e,t,o,n,i)),!0;case"gotpointercapture":return r=i.pointerId,_t.set(r,Nt(_t.get(r)||null,e,t,o,n,i)),!0}return!1}(i,e,t,o,n))n.stopPropagation();else if(Lt(e,n),4&t&&-1<It.indexOf(e)){for(;null!==i;){var r=wi(i);if(null!==r&&bt(r),null===(r=qt(e,t,o,n))&&Un(e,t,n,Yt,o),r===i)break;i=r}null!==i&&n.stopPropagation()}else Un(e,t,n,null,o)}}var Yt=null;function qt(e,t,o,n){if(Yt=null,null!==(e=Ci(e=be(n))))if(null===(t=We(e)))e=null;else if(13===(o=t.tag)){if(null!==(e=je(t)))return e;e=null}else if(3===o){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Yt=e,null}function Xt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ze()){case Je:return 1;case et:return 4;case tt:case ot:return 16;case nt:return 536870912;default:return 16}default:return 16}}var Qt=null,Zt=null,Jt=null;function eo(){if(Jt)return Jt;var e,t,o=Zt,n=o.length,i="value"in Qt?Qt.value:Qt.textContent,r=i.length;for(e=0;e<n&&o[e]===i[e];e++);var s=n-e;for(t=1;t<=s&&o[n-t]===i[r-t];t++);return Jt=i.slice(e,1<t?1-t:void 0)}function to(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function oo(){return!0}function no(){return!1}function io(e){function t(t,o,n,i,r){for(var s in this._reactName=t,this._targetInst=n,this.type=o,this.nativeEvent=i,this.target=r,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(i):i[s]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?oo:no,this.isPropagationStopped=no,this}return k(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=oo)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=oo)},persist:function(){},isPersistent:oo}),t}var ro,so,ao,lo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},co=io(lo),uo=k({},lo,{view:0,detail:0}),ho=io(uo),po=k({},uo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Po,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ao&&(ao&&"mousemove"===e.type?(ro=e.screenX-ao.screenX,so=e.screenY-ao.screenY):so=ro=0,ao=e),ro)},movementY:function(e){return"movementY"in e?e.movementY:so}}),go=io(po),fo=io(k({},po,{dataTransfer:0})),mo=io(k({},uo,{relatedTarget:0})),vo=io(k({},lo,{animationName:0,elapsedTime:0,pseudoElement:0})),yo=k({},lo,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Co=io(yo),wo=io(k({},lo,{data:0})),bo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},So={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Eo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ro(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Eo[e])&&!!t[e]}function Po(){return Ro}var Oo=k({},uo,{key:function(e){if(e.key){var t=bo[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=to(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?So[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Po,charCode:function(e){return"keypress"===e.type?to(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?to(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),xo=io(Oo),To=io(k({},po,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Do=io(k({},uo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Po})),Ao=io(k({},lo,{propertyName:0,elapsedTime:0,pseudoElement:0})),Fo=k({},po,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),_o=io(Fo),Mo=[9,13,27,32],Io=u&&"CompositionEvent"in window,Lo=null;u&&"documentMode"in document&&(Lo=document.documentMode);var No=u&&"TextEvent"in window&&!Lo,ko=u&&(!Io||Lo&&8<Lo&&11>=Lo),Go=String.fromCharCode(32),Vo=!1;function Ho(e,t){switch(e){case"keyup":return-1!==Mo.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bo(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Wo=!1;var jo={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!jo[e.type]:"textarea"===t}function Uo(e,t,o,n){Oe(n),0<(t=Kn(t,"onChange")).length&&(o=new co("onChange","change",null,o,n),e.push({event:o,listeners:t}))}var $o=null,Ko=null;function Yo(e){Vn(e,0)}function qo(e){if(K(bi(e)))return e}function Xo(e,t){if("change"===e)return t}var Qo=!1;if(u){var Zo;if(u){var Jo="oninput"in document;if(!Jo){var en=document.createElement("div");en.setAttribute("oninput","return;"),Jo="function"===typeof en.oninput}Zo=Jo}else Zo=!1;Qo=Zo&&(!document.documentMode||9<document.documentMode)}function tn(){$o&&($o.detachEvent("onpropertychange",on),Ko=$o=null)}function on(e){if("value"===e.propertyName&&qo(Ko)){var t=[];Uo(t,Ko,e,be(e)),Fe(Yo,t)}}function nn(e,t,o){"focusin"===e?(tn(),Ko=o,($o=t).attachEvent("onpropertychange",on)):"focusout"===e&&tn()}function rn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return qo(Ko)}function sn(e,t){if("click"===e)return qo(t)}function an(e,t){if("input"===e||"change"===e)return qo(t)}var ln="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function cn(e,t){if(ln(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var o=Object.keys(e),n=Object.keys(t);if(o.length!==n.length)return!1;for(n=0;n<o.length;n++){var i=o[n];if(!d.call(t,i)||!ln(e[i],t[i]))return!1}return!0}function un(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function dn(e,t){var o,n=un(e);for(e=0;n;){if(3===n.nodeType){if(o=e+n.textContent.length,e<=t&&o>=t)return{node:n,offset:t-e};e=o}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=un(n)}}function hn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function pn(){for(var e=window,t=Y();t instanceof e.HTMLIFrameElement;){try{var o="string"===typeof t.contentWindow.location.href}catch(n){o=!1}if(!o)break;t=Y((e=t.contentWindow).document)}return t}function gn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function fn(e){var t=pn(),o=e.focusedElem,n=e.selectionRange;if(t!==o&&o&&o.ownerDocument&&hn(o.ownerDocument.documentElement,o)){if(null!==n&&gn(o))if(t=n.start,void 0===(e=n.end)&&(e=t),"selectionStart"in o)o.selectionStart=t,o.selectionEnd=Math.min(e,o.value.length);else if((e=(t=o.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=o.textContent.length,r=Math.min(n.start,i);n=void 0===n.end?r:Math.min(n.end,i),!e.extend&&r>n&&(i=n,n=r,r=i),i=dn(o,r);var s=dn(o,n);i&&s&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),r>n?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}for(t=[],e=o;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof o.focus&&o.focus(),o=0;o<t.length;o++)(e=t[o]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mn=u&&"documentMode"in document&&11>=document.documentMode,vn=null,yn=null,Cn=null,wn=!1;function bn(e,t,o){var n=o.window===o?o.document:9===o.nodeType?o:o.ownerDocument;wn||null==vn||vn!==Y(n)||("selectionStart"in(n=vn)&&gn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},Cn&&cn(Cn,n)||(Cn=n,0<(n=Kn(yn,"onSelect")).length&&(t=new co("onSelect","select",null,t,o),e.push({event:t,listeners:n}),t.target=vn)))}function Sn(e,t){var o={};return o[e.toLowerCase()]=t.toLowerCase(),o["Webkit"+e]="webkit"+t,o["Moz"+e]="moz"+t,o}var En={animationend:Sn("Animation","AnimationEnd"),animationiteration:Sn("Animation","AnimationIteration"),animationstart:Sn("Animation","AnimationStart"),transitionend:Sn("Transition","TransitionEnd")},Rn={},Pn={};function On(e){if(Rn[e])return Rn[e];if(!En[e])return e;var t,o=En[e];for(t in o)if(o.hasOwnProperty(t)&&t in Pn)return Rn[e]=o[t];return e}u&&(Pn=document.createElement("div").style,"AnimationEvent"in window||(delete En.animationend.animation,delete En.animationiteration.animation,delete En.animationstart.animation),"TransitionEvent"in window||delete En.transitionend.transition);var xn=On("animationend"),Tn=On("animationiteration"),Dn=On("animationstart"),An=On("transitionend"),Fn=new Map,_n="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Mn(e,t){Fn.set(e,t),l(t,[e])}for(var In=0;In<_n.length;In++){var Ln=_n[In];Mn(Ln.toLowerCase(),"on"+(Ln[0].toUpperCase()+Ln.slice(1)))}Mn(xn,"onAnimationEnd"),Mn(Tn,"onAnimationIteration"),Mn(Dn,"onAnimationStart"),Mn("dblclick","onDoubleClick"),Mn("focusin","onFocus"),Mn("focusout","onBlur"),Mn(An,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kn=new Set("cancel close invalid load scroll toggle".split(" ").concat(Nn));function Gn(e,t,o){var n=e.type||"unknown-event";e.currentTarget=o,function(e,t,o,n,i,s,a,l,c){if(Be.apply(this,arguments),Ne){if(!Ne)throw Error(r(198));var u=ke;Ne=!1,ke=null,Ge||(Ge=!0,Ve=u)}}(n,t,void 0,e),e.currentTarget=null}function Vn(e,t){t=0!==(4&t);for(var o=0;o<e.length;o++){var n=e[o],i=n.event;n=n.listeners;e:{var r=void 0;if(t)for(var s=n.length-1;0<=s;s--){var a=n[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==r&&i.isPropagationStopped())break e;Gn(i,a,c),r=l}else for(s=0;s<n.length;s++){if(l=(a=n[s]).instance,c=a.currentTarget,a=a.listener,l!==r&&i.isPropagationStopped())break e;Gn(i,a,c),r=l}}}if(Ge)throw e=Ve,Ge=!1,Ve=null,e}function Hn(e,t){var o=t[mi];void 0===o&&(o=t[mi]=new Set);var n=e+"__bubble";o.has(n)||(zn(t,e,2,!1),o.add(n))}function Bn(e,t,o){var n=0;t&&(n|=4),zn(o,e,n,t)}var Wn="_reactListening"+Math.random().toString(36).slice(2);function jn(e){if(!e[Wn]){e[Wn]=!0,s.forEach((function(t){"selectionchange"!==t&&(kn.has(t)||Bn(t,!1,e),Bn(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Wn]||(t[Wn]=!0,Bn("selectionchange",!1,t))}}function zn(e,t,o,n){switch(Xt(t)){case 1:var i=Ut;break;case 4:i=$t;break;default:i=Kt}o=i.bind(null,t,o,e),i=void 0,!Me||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),n?void 0!==i?e.addEventListener(t,o,{capture:!0,passive:i}):e.addEventListener(t,o,!0):void 0!==i?e.addEventListener(t,o,{passive:i}):e.addEventListener(t,o,!1)}function Un(e,t,o,n,i){var r=n;if(0===(1&t)&&0===(2&t)&&null!==n)e:for(;;){if(null===n)return;var s=n.tag;if(3===s||4===s){var a=n.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===s)for(s=n.return;null!==s;){var l=s.tag;if((3===l||4===l)&&((l=s.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;s=s.return}for(;null!==a;){if(null===(s=Ci(a)))return;if(5===(l=s.tag)||6===l){n=r=s;continue e}a=a.parentNode}}n=n.return}Fe((function(){var n=r,i=be(o),s=[];e:{var a=Fn.get(e);if(void 0!==a){var l=co,c=e;switch(e){case"keypress":if(0===to(o))break e;case"keydown":case"keyup":l=xo;break;case"focusin":c="focus",l=mo;break;case"focusout":c="blur",l=mo;break;case"beforeblur":case"afterblur":l=mo;break;case"click":if(2===o.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=go;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=fo;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Do;break;case xn:case Tn:case Dn:l=vo;break;case An:l=Ao;break;case"scroll":l=ho;break;case"wheel":l=_o;break;case"copy":case"cut":case"paste":l=Co;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=To}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==a?a+"Capture":null:a;u=[];for(var p,g=n;null!==g;){var f=(p=g).stateNode;if(5===p.tag&&null!==f&&(p=f,null!==h&&(null!=(f=_e(g,h))&&u.push($n(g,f,p)))),d)break;g=g.return}0<u.length&&(a=new l(a,c,null,o,i),s.push({event:a,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||o===we||!(c=o.relatedTarget||o.fromElement)||!Ci(c)&&!c[fi])&&(l||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=n,null!==(c=(c=o.relatedTarget||o.toElement)?Ci(c):null)&&(c!==(d=We(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=n),l!==c)){if(u=go,f="onMouseLeave",h="onMouseEnter",g="mouse","pointerout"!==e&&"pointerover"!==e||(u=To,f="onPointerLeave",h="onPointerEnter",g="pointer"),d=null==l?a:bi(l),p=null==c?a:bi(c),(a=new u(f,g+"leave",l,o,i)).target=d,a.relatedTarget=p,f=null,Ci(i)===n&&((u=new u(h,g+"enter",c,o,i)).target=p,u.relatedTarget=d,f=u),d=f,l&&c)e:{for(h=c,g=0,p=u=l;p;p=Yn(p))g++;for(p=0,f=h;f;f=Yn(f))p++;for(;0<g-p;)u=Yn(u),g--;for(;0<p-g;)h=Yn(h),p--;for(;g--;){if(u===h||null!==h&&u===h.alternate)break e;u=Yn(u),h=Yn(h)}u=null}else u=null;null!==l&&qn(s,a,l,u,!1),null!==c&&null!==d&&qn(s,d,c,u,!0)}if("select"===(l=(a=n?bi(n):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var m=Xo;else if(zo(a))if(Qo)m=an;else{m=rn;var v=nn}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(m=sn);switch(m&&(m=m(e,n))?Uo(s,m,o,i):(v&&v(e,a,n),"focusout"===e&&(v=a._wrapperState)&&v.controlled&&"number"===a.type&&ee(a,"number",a.value)),v=n?bi(n):window,e){case"focusin":(zo(v)||"true"===v.contentEditable)&&(vn=v,yn=n,Cn=null);break;case"focusout":Cn=yn=vn=null;break;case"mousedown":wn=!0;break;case"contextmenu":case"mouseup":case"dragend":wn=!1,bn(s,o,i);break;case"selectionchange":if(mn)break;case"keydown":case"keyup":bn(s,o,i)}var y;if(Io)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Wo?Ho(e,o)&&(C="onCompositionEnd"):"keydown"===e&&229===o.keyCode&&(C="onCompositionStart");C&&(ko&&"ko"!==o.locale&&(Wo||"onCompositionStart"!==C?"onCompositionEnd"===C&&Wo&&(y=eo()):(Zt="value"in(Qt=i)?Qt.value:Qt.textContent,Wo=!0)),0<(v=Kn(n,C)).length&&(C=new wo(C,e,null,o,i),s.push({event:C,listeners:v}),y?C.data=y:null!==(y=Bo(o))&&(C.data=y))),(y=No?function(e,t){switch(e){case"compositionend":return Bo(t);case"keypress":return 32!==t.which?null:(Vo=!0,Go);case"textInput":return(e=t.data)===Go&&Vo?null:e;default:return null}}(e,o):function(e,t){if(Wo)return"compositionend"===e||!Io&&Ho(e,t)?(e=eo(),Jt=Zt=Qt=null,Wo=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ko&&"ko"!==t.locale?null:t.data}}(e,o))&&(0<(n=Kn(n,"onBeforeInput")).length&&(i=new wo("onBeforeInput","beforeinput",null,o,i),s.push({event:i,listeners:n}),i.data=y))}Vn(s,t)}))}function $n(e,t,o){return{instance:e,listener:t,currentTarget:o}}function Kn(e,t){for(var o=t+"Capture",n=[];null!==e;){var i=e,r=i.stateNode;5===i.tag&&null!==r&&(i=r,null!=(r=_e(e,o))&&n.unshift($n(e,r,i)),null!=(r=_e(e,t))&&n.push($n(e,r,i))),e=e.return}return n}function Yn(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function qn(e,t,o,n,i){for(var r=t._reactName,s=[];null!==o&&o!==n;){var a=o,l=a.alternate,c=a.stateNode;if(null!==l&&l===n)break;5===a.tag&&null!==c&&(a=c,i?null!=(l=_e(o,r))&&s.unshift($n(o,l,a)):i||null!=(l=_e(o,r))&&s.push($n(o,l,a))),o=o.return}0!==s.length&&e.push({event:t,listeners:s})}var Xn=/\r\n?/g,Qn=/\u0000|\uFFFD/g;function Zn(e){return("string"===typeof e?e:""+e).replace(Xn,"\n").replace(Qn,"")}function Jn(e,t,o){if(t=Zn(t),Zn(e)!==t&&o)throw Error(r(425))}function ei(){}var ti=null,oi=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ii="function"===typeof setTimeout?setTimeout:void 0,ri="function"===typeof clearTimeout?clearTimeout:void 0,si="function"===typeof Promise?Promise:void 0,ai="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof si?function(e){return si.resolve(null).then(e).catch(li)}:ii;function li(e){setTimeout((function(){throw e}))}function ci(e,t){var o=t,n=0;do{var i=o.nextSibling;if(e.removeChild(o),i&&8===i.nodeType)if("/$"===(o=i.data)){if(0===n)return e.removeChild(i),void Wt(t);n--}else"$"!==o&&"$?"!==o&&"$!"!==o||n++;o=i}while(o);Wt(t)}function ui(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function di(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var o=e.data;if("$"===o||"$!"===o||"$?"===o){if(0===t)return e;t--}else"/$"===o&&t++}e=e.previousSibling}return null}var hi=Math.random().toString(36).slice(2),pi="__reactFiber$"+hi,gi="__reactProps$"+hi,fi="__reactContainer$"+hi,mi="__reactEvents$"+hi,vi="__reactListeners$"+hi,yi="__reactHandles$"+hi;function Ci(e){var t=e[pi];if(t)return t;for(var o=e.parentNode;o;){if(t=o[fi]||o[pi]){if(o=t.alternate,null!==t.child||null!==o&&null!==o.child)for(e=di(e);null!==e;){if(o=e[pi])return o;e=di(e)}return t}o=(e=o).parentNode}return null}function wi(e){return!(e=e[pi]||e[fi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(r(33))}function Si(e){return e[gi]||null}var Ei=[],Ri=-1;function Pi(e){return{current:e}}function Oi(e){0>Ri||(e.current=Ei[Ri],Ei[Ri]=null,Ri--)}function xi(e,t){Ri++,Ei[Ri]=e.current,e.current=t}var Ti={},Di=Pi(Ti),Ai=Pi(!1),Fi=Ti;function _i(e,t){var o=e.type.contextTypes;if(!o)return Ti;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i,r={};for(i in o)r[i]=t[i];return n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=r),r}function Mi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ii(){Oi(Ai),Oi(Di)}function Li(e,t,o){if(Di.current!==Ti)throw Error(r(168));xi(Di,t),xi(Ai,o)}function Ni(e,t,o){var n=e.stateNode;if(t=t.childContextTypes,"function"!==typeof n.getChildContext)return o;for(var i in n=n.getChildContext())if(!(i in t))throw Error(r(108,j(e)||"Unknown",i));return k({},o,n)}function ki(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,Fi=Di.current,xi(Di,e),xi(Ai,Ai.current),!0}function Gi(e,t,o){var n=e.stateNode;if(!n)throw Error(r(169));o?(e=Ni(e,t,Fi),n.__reactInternalMemoizedMergedChildContext=e,Oi(Ai),Oi(Di),xi(Di,e)):Oi(Ai),xi(Ai,o)}var Vi=null,Hi=!1,Bi=!1;function Wi(e){null===Vi?Vi=[e]:Vi.push(e)}function ji(){if(!Bi&&null!==Vi){Bi=!0;var e=0,t=Ct;try{var o=Vi;for(Ct=1;e<o.length;e++){var n=o[e];do{n=n(!0)}while(null!==n)}Vi=null,Hi=!1}catch(i){throw null!==Vi&&(Vi=Vi.slice(e+1)),Ke(Je,ji),i}finally{Ct=t,Bi=!1}}return null}var zi=[],Ui=0,$i=null,Ki=0,Yi=[],qi=0,Xi=null,Qi=1,Zi="";function Ji(e,t){zi[Ui++]=Ki,zi[Ui++]=$i,$i=e,Ki=t}function er(e,t,o){Yi[qi++]=Qi,Yi[qi++]=Zi,Yi[qi++]=Xi,Xi=e;var n=Qi;e=Zi;var i=32-st(n)-1;n&=~(1<<i),o+=1;var r=32-st(t)+i;if(30<r){var s=i-i%5;r=(n&(1<<s)-1).toString(32),n>>=s,i-=s,Qi=1<<32-st(t)+i|o<<i|n,Zi=r+e}else Qi=1<<r|o<<i|n,Zi=e}function tr(e){null!==e.return&&(Ji(e,1),er(e,1,0))}function or(e){for(;e===$i;)$i=zi[--Ui],zi[Ui]=null,Ki=zi[--Ui],zi[Ui]=null;for(;e===Xi;)Xi=Yi[--qi],Yi[qi]=null,Zi=Yi[--qi],Yi[qi]=null,Qi=Yi[--qi],Yi[qi]=null}var nr=null,ir=null,rr=!1,sr=null;function ar(e,t){var o=Fc(5,null,null,0);o.elementType="DELETED",o.stateNode=t,o.return=e,null===(t=e.deletions)?(e.deletions=[o],e.flags|=16):t.push(o)}function lr(e,t){switch(e.tag){case 5:var o=e.type;return null!==(t=1!==t.nodeType||o.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,nr=e,ir=ui(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,nr=e,ir=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(o=null!==Xi?{id:Qi,overflow:Zi}:null,e.memoizedState={dehydrated:t,treeContext:o,retryLane:1073741824},(o=Fc(18,null,null,0)).stateNode=t,o.return=e,e.child=o,nr=e,ir=null,!0);default:return!1}}function cr(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ur(e){if(rr){var t=ir;if(t){var o=t;if(!lr(e,t)){if(cr(e))throw Error(r(418));t=ui(o.nextSibling);var n=nr;t&&lr(e,t)?ar(n,o):(e.flags=-4097&e.flags|2,rr=!1,nr=e)}}else{if(cr(e))throw Error(r(418));e.flags=-4097&e.flags|2,rr=!1,nr=e}}}function dr(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;nr=e}function hr(e){if(e!==nr)return!1;if(!rr)return dr(e),rr=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ir)){if(cr(e))throw pr(),Error(r(418));for(;t;)ar(e,t),t=ui(t.nextSibling)}if(dr(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(r(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var o=e.data;if("/$"===o){if(0===t){ir=ui(e.nextSibling);break e}t--}else"$"!==o&&"$!"!==o&&"$?"!==o||t++}e=e.nextSibling}ir=null}}else ir=nr?ui(e.stateNode.nextSibling):null;return!0}function pr(){for(var e=ir;e;)e=ui(e.nextSibling)}function gr(){ir=nr=null,rr=!1}function fr(e){null===sr?sr=[e]:sr.push(e)}var mr=w.ReactCurrentBatchConfig;function vr(e,t,o){if(null!==(e=o.ref)&&"function"!==typeof e&&"object"!==typeof e){if(o._owner){if(o=o._owner){if(1!==o.tag)throw Error(r(309));var n=o.stateNode}if(!n)throw Error(r(147,e));var i=n,s=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===s?t.ref:(t=function(e){var t=i.refs;null===e?delete t[s]:t[s]=e},t._stringRef=s,t)}if("string"!==typeof e)throw Error(r(284));if(!o._owner)throw Error(r(290,e))}return e}function yr(e,t){throw e=Object.prototype.toString.call(t),Error(r(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Cr(e){return(0,e._init)(e._payload)}function wr(e){function t(t,o){if(e){var n=t.deletions;null===n?(t.deletions=[o],t.flags|=16):n.push(o)}}function o(o,n){if(!e)return null;for(;null!==n;)t(o,n),n=n.sibling;return null}function n(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Mc(e,t)).index=0,e.sibling=null,e}function s(t,o,n){return t.index=n,e?null!==(n=t.alternate)?(n=n.index)<o?(t.flags|=2,o):n:(t.flags|=2,o):(t.flags|=1048576,o)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,o,n){return null===t||6!==t.tag?((t=kc(o,e.mode,n)).return=e,t):((t=i(t,o)).return=e,t)}function c(e,t,o,n){var r=o.type;return r===E?d(e,t,o.props.children,n,o.key):null!==t&&(t.elementType===r||"object"===typeof r&&null!==r&&r.$$typeof===_&&Cr(r)===t.type)?((n=i(t,o.props)).ref=vr(e,t,o),n.return=e,n):((n=Ic(o.type,o.key,o.props,null,e.mode,n)).ref=vr(e,t,o),n.return=e,n)}function u(e,t,o,n){return null===t||4!==t.tag||t.stateNode.containerInfo!==o.containerInfo||t.stateNode.implementation!==o.implementation?((t=Gc(o,e.mode,n)).return=e,t):((t=i(t,o.children||[])).return=e,t)}function d(e,t,o,n,r){return null===t||7!==t.tag?((t=Lc(o,e.mode,n,r)).return=e,t):((t=i(t,o)).return=e,t)}function h(e,t,o){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=kc(""+t,e.mode,o)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case b:return(o=Ic(t.type,t.key,t.props,null,e.mode,o)).ref=vr(e,null,t),o.return=e,o;case S:return(t=Gc(t,e.mode,o)).return=e,t;case _:return h(e,(0,t._init)(t._payload),o)}if(te(t)||L(t))return(t=Lc(t,e.mode,o,null)).return=e,t;yr(e,t)}return null}function p(e,t,o,n){var i=null!==t?t.key:null;if("string"===typeof o&&""!==o||"number"===typeof o)return null!==i?null:l(e,t,""+o,n);if("object"===typeof o&&null!==o){switch(o.$$typeof){case b:return o.key===i?c(e,t,o,n):null;case S:return o.key===i?u(e,t,o,n):null;case _:return p(e,t,(i=o._init)(o._payload),n)}if(te(o)||L(o))return null!==i?null:d(e,t,o,n,null);yr(e,o)}return null}function g(e,t,o,n,i){if("string"===typeof n&&""!==n||"number"===typeof n)return l(t,e=e.get(o)||null,""+n,i);if("object"===typeof n&&null!==n){switch(n.$$typeof){case b:return c(t,e=e.get(null===n.key?o:n.key)||null,n,i);case S:return u(t,e=e.get(null===n.key?o:n.key)||null,n,i);case _:return g(e,t,o,(0,n._init)(n._payload),i)}if(te(n)||L(n))return d(t,e=e.get(o)||null,n,i,null);yr(t,n)}return null}function f(i,r,a,l){for(var c=null,u=null,d=r,f=r=0,m=null;null!==d&&f<a.length;f++){d.index>f?(m=d,d=null):m=d.sibling;var v=p(i,d,a[f],l);if(null===v){null===d&&(d=m);break}e&&d&&null===v.alternate&&t(i,d),r=s(v,r,f),null===u?c=v:u.sibling=v,u=v,d=m}if(f===a.length)return o(i,d),rr&&Ji(i,f),c;if(null===d){for(;f<a.length;f++)null!==(d=h(i,a[f],l))&&(r=s(d,r,f),null===u?c=d:u.sibling=d,u=d);return rr&&Ji(i,f),c}for(d=n(i,d);f<a.length;f++)null!==(m=g(d,i,f,a[f],l))&&(e&&null!==m.alternate&&d.delete(null===m.key?f:m.key),r=s(m,r,f),null===u?c=m:u.sibling=m,u=m);return e&&d.forEach((function(e){return t(i,e)})),rr&&Ji(i,f),c}function m(i,a,l,c){var u=L(l);if("function"!==typeof u)throw Error(r(150));if(null==(l=u.call(l)))throw Error(r(151));for(var d=u=null,f=a,m=a=0,v=null,y=l.next();null!==f&&!y.done;m++,y=l.next()){f.index>m?(v=f,f=null):v=f.sibling;var C=p(i,f,y.value,c);if(null===C){null===f&&(f=v);break}e&&f&&null===C.alternate&&t(i,f),a=s(C,a,m),null===d?u=C:d.sibling=C,d=C,f=v}if(y.done)return o(i,f),rr&&Ji(i,m),u;if(null===f){for(;!y.done;m++,y=l.next())null!==(y=h(i,y.value,c))&&(a=s(y,a,m),null===d?u=y:d.sibling=y,d=y);return rr&&Ji(i,m),u}for(f=n(i,f);!y.done;m++,y=l.next())null!==(y=g(f,i,m,y.value,c))&&(e&&null!==y.alternate&&f.delete(null===y.key?m:y.key),a=s(y,a,m),null===d?u=y:d.sibling=y,d=y);return e&&f.forEach((function(e){return t(i,e)})),rr&&Ji(i,m),u}return function e(n,r,s,l){if("object"===typeof s&&null!==s&&s.type===E&&null===s.key&&(s=s.props.children),"object"===typeof s&&null!==s){switch(s.$$typeof){case b:e:{for(var c=s.key,u=r;null!==u;){if(u.key===c){if((c=s.type)===E){if(7===u.tag){o(n,u.sibling),(r=i(u,s.props.children)).return=n,n=r;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===_&&Cr(c)===u.type){o(n,u.sibling),(r=i(u,s.props)).ref=vr(n,u,s),r.return=n,n=r;break e}o(n,u);break}t(n,u),u=u.sibling}s.type===E?((r=Lc(s.props.children,n.mode,l,s.key)).return=n,n=r):((l=Ic(s.type,s.key,s.props,null,n.mode,l)).ref=vr(n,r,s),l.return=n,n=l)}return a(n);case S:e:{for(u=s.key;null!==r;){if(r.key===u){if(4===r.tag&&r.stateNode.containerInfo===s.containerInfo&&r.stateNode.implementation===s.implementation){o(n,r.sibling),(r=i(r,s.children||[])).return=n,n=r;break e}o(n,r);break}t(n,r),r=r.sibling}(r=Gc(s,n.mode,l)).return=n,n=r}return a(n);case _:return e(n,r,(u=s._init)(s._payload),l)}if(te(s))return f(n,r,s,l);if(L(s))return m(n,r,s,l);yr(n,s)}return"string"===typeof s&&""!==s||"number"===typeof s?(s=""+s,null!==r&&6===r.tag?(o(n,r.sibling),(r=i(r,s)).return=n,n=r):(o(n,r),(r=kc(s,n.mode,l)).return=n,n=r),a(n)):o(n,r)}}var br=wr(!0),Sr=wr(!1),Er=Pi(null),Rr=null,Pr=null,Or=null;function xr(){Or=Pr=Rr=null}function Tr(e){var t=Er.current;Oi(Er),e._currentValue=t}function Dr(e,t,o){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==n&&(n.childLanes|=t)):null!==n&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===o)break;e=e.return}}function Ar(e,t){Rr=e,Or=Pr=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Ca=!0),e.firstContext=null)}function Fr(e){var t=e._currentValue;if(Or!==e)if(e={context:e,memoizedValue:t,next:null},null===Pr){if(null===Rr)throw Error(r(308));Pr=e,Rr.dependencies={lanes:0,firstContext:e}}else Pr=Pr.next=e;return t}var _r=null;function Mr(e){null===_r?_r=[e]:_r.push(e)}function Ir(e,t,o,n){var i=t.interleaved;return null===i?(o.next=o,Mr(t)):(o.next=i.next,i.next=o),t.interleaved=o,Lr(e,n)}function Lr(e,t){e.lanes|=t;var o=e.alternate;for(null!==o&&(o.lanes|=t),o=e,e=e.return;null!==e;)e.childLanes|=t,null!==(o=e.alternate)&&(o.childLanes|=t),o=e,e=e.return;return 3===o.tag?o.stateNode:null}var Nr=!1;function kr(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Gr(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Vr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Hr(e,t,o){var n=e.updateQueue;if(null===n)return null;if(n=n.shared,0!==(2&Tl)){var i=n.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),n.pending=t,Lr(e,o)}return null===(i=n.interleaved)?(t.next=t,Mr(n)):(t.next=i.next,i.next=t),n.interleaved=t,Lr(e,o)}function Br(e,t,o){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&o))){var n=t.lanes;o|=n&=e.pendingLanes,t.lanes=o,yt(e,o)}}function Wr(e,t){var o=e.updateQueue,n=e.alternate;if(null!==n&&o===(n=n.updateQueue)){var i=null,r=null;if(null!==(o=o.firstBaseUpdate)){do{var s={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};null===r?i=r=s:r=r.next=s,o=o.next}while(null!==o);null===r?i=r=t:r=r.next=t}else i=r=t;return o={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:r,shared:n.shared,effects:n.effects},void(e.updateQueue=o)}null===(e=o.lastBaseUpdate)?o.firstBaseUpdate=t:e.next=t,o.lastBaseUpdate=t}function jr(e,t,o,n){var i=e.updateQueue;Nr=!1;var r=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var l=a,c=l.next;l.next=null,null===s?r=c:s.next=c,s=l;var u=e.alternate;null!==u&&((a=(u=u.updateQueue).lastBaseUpdate)!==s&&(null===a?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(null!==r){var d=i.baseState;for(s=0,u=c=l=null,a=r;;){var h=a.lane,p=a.eventTime;if((n&h)===h){null!==u&&(u=u.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=e,f=a;switch(h=t,p=o,f.tag){case 1:if("function"===typeof(g=f.payload)){d=g.call(p,d,h);break e}d=g;break e;case 3:g.flags=-65537&g.flags|128;case 0:if(null===(h="function"===typeof(g=f.payload)?g.call(p,d,h):g)||void 0===h)break e;d=k({},d,h);break e;case 2:Nr=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[a]:h.push(a))}else p={eventTime:p,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===u?(c=u=p,l=d):u=u.next=p,s|=h;if(null===(a=a.next)){if(null===(a=i.shared.pending))break;a=(h=a).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===u&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{s|=i.lane,i=i.next}while(i!==t)}else null===r&&(i.shared.lanes=0);Nl|=s,e.lanes=s,e.memoizedState=d}}function zr(e,t,o){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(null!==i){if(n.callback=null,n=o,"function"!==typeof i)throw Error(r(191,i));i.call(n)}}}var Ur={},$r=Pi(Ur),Kr=Pi(Ur),Yr=Pi(Ur);function qr(e){if(e===Ur)throw Error(r(174));return e}function Xr(e,t){switch(xi(Yr,t),xi(Kr,e),xi($r,Ur),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Oi($r),xi($r,t)}function Qr(){Oi($r),Oi(Kr),Oi(Yr)}function Zr(e){qr(Yr.current);var t=qr($r.current),o=le(t,e.type);t!==o&&(xi(Kr,e),xi($r,o))}function Jr(e){Kr.current===e&&(Oi($r),Oi(Kr))}var es=Pi(0);function ts(e){for(var t=e;null!==t;){if(13===t.tag){var o=t.memoizedState;if(null!==o&&(null===(o=o.dehydrated)||"$?"===o.data||"$!"===o.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var os=[];function ns(){for(var e=0;e<os.length;e++)os[e]._workInProgressVersionPrimary=null;os.length=0}var is=w.ReactCurrentDispatcher,rs=w.ReactCurrentBatchConfig,ss=0,as=null,ls=null,cs=null,us=!1,ds=!1,hs=0,ps=0;function gs(){throw Error(r(321))}function fs(e,t){if(null===t)return!1;for(var o=0;o<t.length&&o<e.length;o++)if(!ln(e[o],t[o]))return!1;return!0}function ms(e,t,o,n,i,s){if(ss=s,as=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,is.current=null===e||null===e.memoizedState?Js:ea,e=o(n,i),ds){s=0;do{if(ds=!1,hs=0,25<=s)throw Error(r(301));s+=1,cs=ls=null,t.updateQueue=null,is.current=ta,e=o(n,i)}while(ds)}if(is.current=Zs,t=null!==ls&&null!==ls.next,ss=0,cs=ls=as=null,us=!1,t)throw Error(r(300));return e}function vs(){var e=0!==hs;return hs=0,e}function ys(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===cs?as.memoizedState=cs=e:cs=cs.next=e,cs}function Cs(){if(null===ls){var e=as.alternate;e=null!==e?e.memoizedState:null}else e=ls.next;var t=null===cs?as.memoizedState:cs.next;if(null!==t)cs=t,ls=e;else{if(null===e)throw Error(r(310));e={memoizedState:(ls=e).memoizedState,baseState:ls.baseState,baseQueue:ls.baseQueue,queue:ls.queue,next:null},null===cs?as.memoizedState=cs=e:cs=cs.next=e}return cs}function ws(e,t){return"function"===typeof t?t(e):t}function bs(e){var t=Cs(),o=t.queue;if(null===o)throw Error(r(311));o.lastRenderedReducer=e;var n=ls,i=n.baseQueue,s=o.pending;if(null!==s){if(null!==i){var a=i.next;i.next=s.next,s.next=a}n.baseQueue=i=s,o.pending=null}if(null!==i){s=i.next,n=n.baseState;var l=a=null,c=null,u=s;do{var d=u.lane;if((ss&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,a=n):c=c.next=h,as.lanes|=d,Nl|=d}u=u.next}while(null!==u&&u!==s);null===c?a=n:c.next=l,ln(n,t.memoizedState)||(Ca=!0),t.memoizedState=n,t.baseState=a,t.baseQueue=c,o.lastRenderedState=n}if(null!==(e=o.interleaved)){i=e;do{s=i.lane,as.lanes|=s,Nl|=s,i=i.next}while(i!==e)}else null===i&&(o.lanes=0);return[t.memoizedState,o.dispatch]}function Ss(e){var t=Cs(),o=t.queue;if(null===o)throw Error(r(311));o.lastRenderedReducer=e;var n=o.dispatch,i=o.pending,s=t.memoizedState;if(null!==i){o.pending=null;var a=i=i.next;do{s=e(s,a.action),a=a.next}while(a!==i);ln(s,t.memoizedState)||(Ca=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),o.lastRenderedState=s}return[s,n]}function Es(){}function Rs(e,t){var o=as,n=Cs(),i=t(),s=!ln(n.memoizedState,i);if(s&&(n.memoizedState=i,Ca=!0),n=n.queue,Ns(xs.bind(null,o,n,e),[e]),n.getSnapshot!==t||s||null!==cs&&1&cs.memoizedState.tag){if(o.flags|=2048,Fs(9,Os.bind(null,o,n,i,t),void 0,null),null===Dl)throw Error(r(349));0!==(30&ss)||Ps(o,t,i)}return i}function Ps(e,t,o){e.flags|=16384,e={getSnapshot:t,value:o},null===(t=as.updateQueue)?(t={lastEffect:null,stores:null},as.updateQueue=t,t.stores=[e]):null===(o=t.stores)?t.stores=[e]:o.push(e)}function Os(e,t,o,n){t.value=o,t.getSnapshot=n,Ts(t)&&Ds(e)}function xs(e,t,o){return o((function(){Ts(t)&&Ds(e)}))}function Ts(e){var t=e.getSnapshot;e=e.value;try{var o=t();return!ln(e,o)}catch(n){return!0}}function Ds(e){var t=Lr(e,1);null!==t&&oc(t,e,1,-1)}function As(e){var t=ys();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ws,lastRenderedState:e},t.queue=e,e=e.dispatch=Ys.bind(null,as,e),[t.memoizedState,e]}function Fs(e,t,o,n){return e={tag:e,create:t,destroy:o,deps:n,next:null},null===(t=as.updateQueue)?(t={lastEffect:null,stores:null},as.updateQueue=t,t.lastEffect=e.next=e):null===(o=t.lastEffect)?t.lastEffect=e.next=e:(n=o.next,o.next=e,e.next=n,t.lastEffect=e),e}function _s(){return Cs().memoizedState}function Ms(e,t,o,n){var i=ys();as.flags|=e,i.memoizedState=Fs(1|t,o,void 0,void 0===n?null:n)}function Is(e,t,o,n){var i=Cs();n=void 0===n?null:n;var r=void 0;if(null!==ls){var s=ls.memoizedState;if(r=s.destroy,null!==n&&fs(n,s.deps))return void(i.memoizedState=Fs(t,o,r,n))}as.flags|=e,i.memoizedState=Fs(1|t,o,r,n)}function Ls(e,t){return Ms(8390656,8,e,t)}function Ns(e,t){return Is(2048,8,e,t)}function ks(e,t){return Is(4,2,e,t)}function Gs(e,t){return Is(4,4,e,t)}function Vs(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Hs(e,t,o){return o=null!==o&&void 0!==o?o.concat([e]):null,Is(4,4,Vs.bind(null,t,e),o)}function Bs(){}function Ws(e,t){var o=Cs();t=void 0===t?null:t;var n=o.memoizedState;return null!==n&&null!==t&&fs(t,n[1])?n[0]:(o.memoizedState=[e,t],e)}function js(e,t){var o=Cs();t=void 0===t?null:t;var n=o.memoizedState;return null!==n&&null!==t&&fs(t,n[1])?n[0]:(e=e(),o.memoizedState=[e,t],e)}function zs(e,t,o){return 0===(21&ss)?(e.baseState&&(e.baseState=!1,Ca=!0),e.memoizedState=o):(ln(o,t)||(o=ft(),as.lanes|=o,Nl|=o,e.baseState=!0),t)}function Us(e,t){var o=Ct;Ct=0!==o&&4>o?o:4,e(!0);var n=rs.transition;rs.transition={};try{e(!1),t()}finally{Ct=o,rs.transition=n}}function $s(){return Cs().memoizedState}function Ks(e,t,o){var n=tc(e);if(o={lane:n,action:o,hasEagerState:!1,eagerState:null,next:null},qs(e))Xs(t,o);else if(null!==(o=Ir(e,t,o,n))){oc(o,e,n,ec()),Qs(o,t,n)}}function Ys(e,t,o){var n=tc(e),i={lane:n,action:o,hasEagerState:!1,eagerState:null,next:null};if(qs(e))Xs(t,i);else{var r=e.alternate;if(0===e.lanes&&(null===r||0===r.lanes)&&null!==(r=t.lastRenderedReducer))try{var s=t.lastRenderedState,a=r(s,o);if(i.hasEagerState=!0,i.eagerState=a,ln(a,s)){var l=t.interleaved;return null===l?(i.next=i,Mr(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(c){}null!==(o=Ir(e,t,i,n))&&(oc(o,e,n,i=ec()),Qs(o,t,n))}}function qs(e){var t=e.alternate;return e===as||null!==t&&t===as}function Xs(e,t){ds=us=!0;var o=e.pending;null===o?t.next=t:(t.next=o.next,o.next=t),e.pending=t}function Qs(e,t,o){if(0!==(4194240&o)){var n=t.lanes;o|=n&=e.pendingLanes,t.lanes=o,yt(e,o)}}var Zs={readContext:Fr,useCallback:gs,useContext:gs,useEffect:gs,useImperativeHandle:gs,useInsertionEffect:gs,useLayoutEffect:gs,useMemo:gs,useReducer:gs,useRef:gs,useState:gs,useDebugValue:gs,useDeferredValue:gs,useTransition:gs,useMutableSource:gs,useSyncExternalStore:gs,useId:gs,unstable_isNewReconciler:!1},Js={readContext:Fr,useCallback:function(e,t){return ys().memoizedState=[e,void 0===t?null:t],e},useContext:Fr,useEffect:Ls,useImperativeHandle:function(e,t,o){return o=null!==o&&void 0!==o?o.concat([e]):null,Ms(4194308,4,Vs.bind(null,t,e),o)},useLayoutEffect:function(e,t){return Ms(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ms(4,2,e,t)},useMemo:function(e,t){var o=ys();return t=void 0===t?null:t,e=e(),o.memoizedState=[e,t],e},useReducer:function(e,t,o){var n=ys();return t=void 0!==o?o(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Ks.bind(null,as,e),[n.memoizedState,e]},useRef:function(e){return e={current:e},ys().memoizedState=e},useState:As,useDebugValue:Bs,useDeferredValue:function(e){return ys().memoizedState=e},useTransition:function(){var e=As(!1),t=e[0];return e=Us.bind(null,e[1]),ys().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,o){var n=as,i=ys();if(rr){if(void 0===o)throw Error(r(407));o=o()}else{if(o=t(),null===Dl)throw Error(r(349));0!==(30&ss)||Ps(n,t,o)}i.memoizedState=o;var s={value:o,getSnapshot:t};return i.queue=s,Ls(xs.bind(null,n,s,e),[e]),n.flags|=2048,Fs(9,Os.bind(null,n,s,o,t),void 0,null),o},useId:function(){var e=ys(),t=Dl.identifierPrefix;if(rr){var o=Zi;t=":"+t+"R"+(o=(Qi&~(1<<32-st(Qi)-1)).toString(32)+o),0<(o=hs++)&&(t+="H"+o.toString(32)),t+=":"}else t=":"+t+"r"+(o=ps++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ea={readContext:Fr,useCallback:Ws,useContext:Fr,useEffect:Ns,useImperativeHandle:Hs,useInsertionEffect:ks,useLayoutEffect:Gs,useMemo:js,useReducer:bs,useRef:_s,useState:function(){return bs(ws)},useDebugValue:Bs,useDeferredValue:function(e){return zs(Cs(),ls.memoizedState,e)},useTransition:function(){return[bs(ws)[0],Cs().memoizedState]},useMutableSource:Es,useSyncExternalStore:Rs,useId:$s,unstable_isNewReconciler:!1},ta={readContext:Fr,useCallback:Ws,useContext:Fr,useEffect:Ns,useImperativeHandle:Hs,useInsertionEffect:ks,useLayoutEffect:Gs,useMemo:js,useReducer:Ss,useRef:_s,useState:function(){return Ss(ws)},useDebugValue:Bs,useDeferredValue:function(e){var t=Cs();return null===ls?t.memoizedState=e:zs(t,ls.memoizedState,e)},useTransition:function(){return[Ss(ws)[0],Cs().memoizedState]},useMutableSource:Es,useSyncExternalStore:Rs,useId:$s,unstable_isNewReconciler:!1};function oa(e,t){if(e&&e.defaultProps){for(var o in t=k({},t),e=e.defaultProps)void 0===t[o]&&(t[o]=e[o]);return t}return t}function na(e,t,o,n){o=null===(o=o(n,t=e.memoizedState))||void 0===o?t:k({},t,o),e.memoizedState=o,0===e.lanes&&(e.updateQueue.baseState=o)}var ia={isMounted:function(e){return!!(e=e._reactInternals)&&We(e)===e},enqueueSetState:function(e,t,o){e=e._reactInternals;var n=ec(),i=tc(e),r=Vr(n,i);r.payload=t,void 0!==o&&null!==o&&(r.callback=o),null!==(t=Hr(e,r,i))&&(oc(t,e,i,n),Br(t,e,i))},enqueueReplaceState:function(e,t,o){e=e._reactInternals;var n=ec(),i=tc(e),r=Vr(n,i);r.tag=1,r.payload=t,void 0!==o&&null!==o&&(r.callback=o),null!==(t=Hr(e,r,i))&&(oc(t,e,i,n),Br(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var o=ec(),n=tc(e),i=Vr(o,n);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Hr(e,i,n))&&(oc(t,e,n,o),Br(t,e,n))}};function ra(e,t,o,n,i,r,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(n,r,s):!t.prototype||!t.prototype.isPureReactComponent||(!cn(o,n)||!cn(i,r))}function sa(e,t,o){var n=!1,i=Ti,r=t.contextType;return"object"===typeof r&&null!==r?r=Fr(r):(i=Mi(t)?Fi:Di.current,r=(n=null!==(n=t.contextTypes)&&void 0!==n)?_i(e,i):Ti),t=new t(o,r),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ia,e.stateNode=t,t._reactInternals=e,n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=r),t}function aa(e,t,o,n){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(o,n),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(o,n),t.state!==e&&ia.enqueueReplaceState(t,t.state,null)}function la(e,t,o,n){var i=e.stateNode;i.props=o,i.state=e.memoizedState,i.refs={},kr(e);var r=t.contextType;"object"===typeof r&&null!==r?i.context=Fr(r):(r=Mi(t)?Fi:Di.current,i.context=_i(e,r)),i.state=e.memoizedState,"function"===typeof(r=t.getDerivedStateFromProps)&&(na(e,t,r,o),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ia.enqueueReplaceState(i,i.state,null),jr(e,o,i,n),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function ca(e,t){try{var o="",n=t;do{o+=B(n),n=n.return}while(n);var i=o}catch(r){i="\nError generating stack: "+r.message+"\n"+r.stack}return{value:e,source:t,stack:i,digest:null}}function ua(e,t,o){return{value:e,source:null,stack:null!=o?o:null,digest:null!=t?t:null}}function da(e,t){try{console.error(t.value)}catch(o){setTimeout((function(){throw o}))}}var ha="function"===typeof WeakMap?WeakMap:Map;function pa(e,t,o){(o=Vr(-1,o)).tag=3,o.payload={element:null};var n=t.value;return o.callback=function(){zl||(zl=!0,Ul=n),da(0,t)},o}function ga(e,t,o){(o=Vr(-1,o)).tag=3;var n=e.type.getDerivedStateFromError;if("function"===typeof n){var i=t.value;o.payload=function(){return n(i)},o.callback=function(){da(0,t)}}var r=e.stateNode;return null!==r&&"function"===typeof r.componentDidCatch&&(o.callback=function(){da(0,t),"function"!==typeof n&&(null===$l?$l=new Set([this]):$l.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),o}function fa(e,t,o){var n=e.pingCache;if(null===n){n=e.pingCache=new ha;var i=new Set;n.set(t,i)}else void 0===(i=n.get(t))&&(i=new Set,n.set(t,i));i.has(o)||(i.add(o),e=Pc.bind(null,e,t,o),t.then(e,e))}function ma(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function va(e,t,o,n,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,o.flags|=131072,o.flags&=-52805,1===o.tag&&(null===o.alternate?o.tag=17:((t=Vr(-1,1)).tag=2,Hr(o,t,1))),o.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ya=w.ReactCurrentOwner,Ca=!1;function wa(e,t,o,n){t.child=null===e?Sr(t,null,o,n):br(t,e.child,o,n)}function ba(e,t,o,n,i){o=o.render;var r=t.ref;return Ar(t,i),n=ms(e,t,o,n,r,i),o=vs(),null===e||Ca?(rr&&o&&tr(t),t.flags|=1,wa(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,za(e,t,i))}function Sa(e,t,o,n,i){if(null===e){var r=o.type;return"function"!==typeof r||_c(r)||void 0!==r.defaultProps||null!==o.compare||void 0!==o.defaultProps?((e=Ic(o.type,null,n,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=r,Ea(e,t,r,n,i))}if(r=e.child,0===(e.lanes&i)){var s=r.memoizedProps;if((o=null!==(o=o.compare)?o:cn)(s,n)&&e.ref===t.ref)return za(e,t,i)}return t.flags|=1,(e=Mc(r,n)).ref=t.ref,e.return=t,t.child=e}function Ea(e,t,o,n,i){if(null!==e){var r=e.memoizedProps;if(cn(r,n)&&e.ref===t.ref){if(Ca=!1,t.pendingProps=n=r,0===(e.lanes&i))return t.lanes=e.lanes,za(e,t,i);0!==(131072&e.flags)&&(Ca=!0)}}return Oa(e,t,o,n,i)}function Ra(e,t,o){var n=t.pendingProps,i=n.children,r=null!==e?e.memoizedState:null;if("hidden"===n.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},xi(Ml,_l),_l|=o;else{if(0===(1073741824&o))return e=null!==r?r.baseLanes|o:o,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,xi(Ml,_l),_l|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=null!==r?r.baseLanes:o,xi(Ml,_l),_l|=n}else null!==r?(n=r.baseLanes|o,t.memoizedState=null):n=o,xi(Ml,_l),_l|=n;return wa(e,t,i,o),t.child}function Pa(e,t){var o=t.ref;(null===e&&null!==o||null!==e&&e.ref!==o)&&(t.flags|=512,t.flags|=2097152)}function Oa(e,t,o,n,i){var r=Mi(o)?Fi:Di.current;return r=_i(t,r),Ar(t,i),o=ms(e,t,o,n,r,i),n=vs(),null===e||Ca?(rr&&n&&tr(t),t.flags|=1,wa(e,t,o,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,za(e,t,i))}function xa(e,t,o,n,i){if(Mi(o)){var r=!0;ki(t)}else r=!1;if(Ar(t,i),null===t.stateNode)ja(e,t),sa(t,o,n),la(t,o,n,i),n=!0;else if(null===e){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,c=o.contextType;"object"===typeof c&&null!==c?c=Fr(c):c=_i(t,c=Mi(o)?Fi:Di.current);var u=o.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof s.getSnapshotBeforeUpdate;d||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==n||l!==c)&&aa(t,s,n,c),Nr=!1;var h=t.memoizedState;s.state=h,jr(t,n,s,i),l=t.memoizedState,a!==n||h!==l||Ai.current||Nr?("function"===typeof u&&(na(t,o,u,n),l=t.memoizedState),(a=Nr||ra(t,o,a,n,h,l,c))?(d||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),s.props=n,s.state=l,s.context=c,n=a):("function"===typeof s.componentDidMount&&(t.flags|=4194308),n=!1)}else{s=t.stateNode,Gr(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:oa(t.type,a),s.props=c,d=t.pendingProps,h=s.context,"object"===typeof(l=o.contextType)&&null!==l?l=Fr(l):l=_i(t,l=Mi(o)?Fi:Di.current);var p=o.getDerivedStateFromProps;(u="function"===typeof p||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==d||h!==l)&&aa(t,s,n,l),Nr=!1,h=t.memoizedState,s.state=h,jr(t,n,s,i);var g=t.memoizedState;a!==d||h!==g||Ai.current||Nr?("function"===typeof p&&(na(t,o,p,n),g=t.memoizedState),(c=Nr||ra(t,o,c,n,h,g,l)||!1)?(u||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(n,g,l),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(n,g,l)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),s.props=n,s.state=g,s.context=l,n=c):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return Ta(e,t,o,n,r,i)}function Ta(e,t,o,n,i,r){Pa(e,t);var s=0!==(128&t.flags);if(!n&&!s)return i&&Gi(t,o,!1),za(e,t,r);n=t.stateNode,ya.current=t;var a=s&&"function"!==typeof o.getDerivedStateFromError?null:n.render();return t.flags|=1,null!==e&&s?(t.child=br(t,e.child,null,r),t.child=br(t,null,a,r)):wa(e,t,a,r),t.memoizedState=n.state,i&&Gi(t,o,!0),t.child}function Da(e){var t=e.stateNode;t.pendingContext?Li(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Li(0,t.context,!1),Xr(e,t.containerInfo)}function Aa(e,t,o,n,i){return gr(),fr(i),t.flags|=256,wa(e,t,o,n),t.child}var Fa,_a,Ma,Ia,La={dehydrated:null,treeContext:null,retryLane:0};function Na(e){return{baseLanes:e,cachePool:null,transitions:null}}function ka(e,t,o){var n,i=t.pendingProps,s=es.current,a=!1,l=0!==(128&t.flags);if((n=l)||(n=(null===e||null!==e.memoizedState)&&0!==(2&s)),n?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(s|=1),xi(es,1&s),null===e)return ur(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,a?(i=t.mode,a=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==a?(a.childLanes=0,a.pendingProps=l):a=Nc(l,i,0,null),e=Lc(e,i,o,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Na(o),t.memoizedState=La,e):Ga(t,l));if(null!==(s=e.memoizedState)&&null!==(n=s.dehydrated))return function(e,t,o,n,i,s,a){if(o)return 256&t.flags?(t.flags&=-257,Va(e,t,a,n=ua(Error(r(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=n.fallback,i=t.mode,n=Nc({mode:"visible",children:n.children},i,0,null),(s=Lc(s,i,a,null)).flags|=2,n.return=t,s.return=t,n.sibling=s,t.child=n,0!==(1&t.mode)&&br(t,e.child,null,a),t.child.memoizedState=Na(a),t.memoizedState=La,s);if(0===(1&t.mode))return Va(e,t,a,null);if("$!"===i.data){if(n=i.nextSibling&&i.nextSibling.dataset)var l=n.dgst;return n=l,Va(e,t,a,n=ua(s=Error(r(419)),n,void 0))}if(l=0!==(a&e.childLanes),Ca||l){if(null!==(n=Dl)){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(n.suspendedLanes|a))?0:i)&&i!==s.retryLane&&(s.retryLane=i,Lr(e,i),oc(n,e,i,-1))}return fc(),Va(e,t,a,n=ua(Error(r(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=xc.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,ir=ui(i.nextSibling),nr=t,rr=!0,sr=null,null!==e&&(Yi[qi++]=Qi,Yi[qi++]=Zi,Yi[qi++]=Xi,Qi=e.id,Zi=e.overflow,Xi=t),t=Ga(t,n.children),t.flags|=4096,t)}(e,t,l,i,n,s,o);if(a){a=i.fallback,l=t.mode,n=(s=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==s?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Mc(s,c)).subtreeFlags=14680064&s.subtreeFlags,null!==n?a=Mc(n,a):(a=Lc(a,l,o,null)).flags|=2,a.return=t,i.return=t,i.sibling=a,t.child=i,i=a,a=t.child,l=null===(l=e.child.memoizedState)?Na(o):{baseLanes:l.baseLanes|o,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=e.childLanes&~o,t.memoizedState=La,i}return e=(a=e.child).sibling,i=Mc(a,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=o),i.return=t,i.sibling=null,null!==e&&(null===(o=t.deletions)?(t.deletions=[e],t.flags|=16):o.push(e)),t.child=i,t.memoizedState=null,i}function Ga(e,t){return(t=Nc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Va(e,t,o,n){return null!==n&&fr(n),br(t,e.child,null,o),(e=Ga(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ha(e,t,o){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),Dr(e.return,t,o)}function Ba(e,t,o,n,i){var r=e.memoizedState;null===r?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:o,tailMode:i}:(r.isBackwards=t,r.rendering=null,r.renderingStartTime=0,r.last=n,r.tail=o,r.tailMode=i)}function Wa(e,t,o){var n=t.pendingProps,i=n.revealOrder,r=n.tail;if(wa(e,t,n.children,o),0!==(2&(n=es.current)))n=1&n|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ha(e,o,t);else if(19===e.tag)Ha(e,o,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(xi(es,n),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(o=t.child,i=null;null!==o;)null!==(e=o.alternate)&&null===ts(e)&&(i=o),o=o.sibling;null===(o=i)?(i=t.child,t.child=null):(i=o.sibling,o.sibling=null),Ba(t,!1,i,o,r);break;case"backwards":for(o=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ts(e)){t.child=i;break}e=i.sibling,i.sibling=o,o=i,i=e}Ba(t,!0,o,null,r);break;case"together":Ba(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ja(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function za(e,t,o){if(null!==e&&(t.dependencies=e.dependencies),Nl|=t.lanes,0===(o&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(r(153));if(null!==t.child){for(o=Mc(e=t.child,e.pendingProps),t.child=o,o.return=t;null!==e.sibling;)e=e.sibling,(o=o.sibling=Mc(e,e.pendingProps)).return=t;o.sibling=null}return t.child}function Ua(e,t){if(!rr)switch(e.tailMode){case"hidden":t=e.tail;for(var o=null;null!==t;)null!==t.alternate&&(o=t),t=t.sibling;null===o?e.tail=null:o.sibling=null;break;case"collapsed":o=e.tail;for(var n=null;null!==o;)null!==o.alternate&&(n=o),o=o.sibling;null===n?t||null===e.tail?e.tail=null:e.tail.sibling=null:n.sibling=null}}function $a(e){var t=null!==e.alternate&&e.alternate.child===e.child,o=0,n=0;if(t)for(var i=e.child;null!==i;)o|=i.lanes|i.childLanes,n|=14680064&i.subtreeFlags,n|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)o|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=o,t}function Ka(e,t,o){var n=t.pendingProps;switch(or(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $a(t),null;case 1:case 17:return Mi(t.type)&&Ii(),$a(t),null;case 3:return n=t.stateNode,Qr(),Oi(Ai),Oi(Di),ns(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(hr(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==sr&&(sc(sr),sr=null))),_a(e,t),$a(t),null;case 5:Jr(t);var i=qr(Yr.current);if(o=t.type,null!==e&&null!=t.stateNode)Ma(e,t,o,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(null===t.stateNode)throw Error(r(166));return $a(t),null}if(e=qr($r.current),hr(t)){n=t.stateNode,o=t.type;var s=t.memoizedProps;switch(n[pi]=t,n[gi]=s,e=0!==(1&t.mode),o){case"dialog":Hn("cancel",n),Hn("close",n);break;case"iframe":case"object":case"embed":Hn("load",n);break;case"video":case"audio":for(i=0;i<Nn.length;i++)Hn(Nn[i],n);break;case"source":Hn("error",n);break;case"img":case"image":case"link":Hn("error",n),Hn("load",n);break;case"details":Hn("toggle",n);break;case"input":X(n,s),Hn("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},Hn("invalid",n);break;case"textarea":ie(n,s),Hn("invalid",n)}for(var l in ye(o,s),i=null,s)if(s.hasOwnProperty(l)){var c=s[l];"children"===l?"string"===typeof c?n.textContent!==c&&(!0!==s.suppressHydrationWarning&&Jn(n.textContent,c,e),i=["children",c]):"number"===typeof c&&n.textContent!==""+c&&(!0!==s.suppressHydrationWarning&&Jn(n.textContent,c,e),i=["children",""+c]):a.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Hn("scroll",n)}switch(o){case"input":$(n),J(n,s,!0);break;case"textarea":$(n),se(n);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(n.onclick=ei)}n=i,t.updateQueue=n,null!==n&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ae(o)),"http://www.w3.org/1999/xhtml"===e?"script"===o?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof n.is?e=l.createElement(o,{is:n.is}):(e=l.createElement(o),"select"===o&&(l=e,n.multiple?l.multiple=!0:n.size&&(l.size=n.size))):e=l.createElementNS(e,o),e[pi]=t,e[gi]=n,Fa(e,t,!1,!1),t.stateNode=e;e:{switch(l=Ce(o,n),o){case"dialog":Hn("cancel",e),Hn("close",e),i=n;break;case"iframe":case"object":case"embed":Hn("load",e),i=n;break;case"video":case"audio":for(i=0;i<Nn.length;i++)Hn(Nn[i],e);i=n;break;case"source":Hn("error",e),i=n;break;case"img":case"image":case"link":Hn("error",e),Hn("load",e),i=n;break;case"details":Hn("toggle",e),i=n;break;case"input":X(e,n),i=q(e,n),Hn("invalid",e);break;case"option":default:i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=k({},n,{value:void 0}),Hn("invalid",e);break;case"textarea":ie(e,n),i=ne(e,n),Hn("invalid",e)}for(s in ye(o,i),c=i)if(c.hasOwnProperty(s)){var u=c[s];"style"===s?me(e,u):"dangerouslySetInnerHTML"===s?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===s?"string"===typeof u?("textarea"!==o||""!==u)&&he(e,u):"number"===typeof u&&he(e,""+u):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(a.hasOwnProperty(s)?null!=u&&"onScroll"===s&&Hn("scroll",e):null!=u&&C(e,s,u,l))}switch(o){case"input":$(e),J(e,n,!1);break;case"textarea":$(e),se(e);break;case"option":null!=n.value&&e.setAttribute("value",""+z(n.value));break;case"select":e.multiple=!!n.multiple,null!=(s=n.value)?oe(e,!!n.multiple,s,!1):null!=n.defaultValue&&oe(e,!!n.multiple,n.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=ei)}switch(o){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return $a(t),null;case 6:if(e&&null!=t.stateNode)Ia(e,t,e.memoizedProps,n);else{if("string"!==typeof n&&null===t.stateNode)throw Error(r(166));if(o=qr(Yr.current),qr($r.current),hr(t)){if(n=t.stateNode,o=t.memoizedProps,n[pi]=t,(s=n.nodeValue!==o)&&null!==(e=nr))switch(e.tag){case 3:Jn(n.nodeValue,o,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jn(n.nodeValue,o,0!==(1&e.mode))}s&&(t.flags|=4)}else(n=(9===o.nodeType?o:o.ownerDocument).createTextNode(n))[pi]=t,t.stateNode=n}return $a(t),null;case 13:if(Oi(es),n=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(rr&&null!==ir&&0!==(1&t.mode)&&0===(128&t.flags))pr(),gr(),t.flags|=98560,s=!1;else if(s=hr(t),null!==n&&null!==n.dehydrated){if(null===e){if(!s)throw Error(r(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(r(317));s[pi]=t}else gr(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;$a(t),s=!1}else null!==sr&&(sc(sr),sr=null),s=!0;if(!s)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=o,t):((n=null!==n)!==(null!==e&&null!==e.memoizedState)&&n&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&es.current)?0===Il&&(Il=3):fc())),null!==t.updateQueue&&(t.flags|=4),$a(t),null);case 4:return Qr(),_a(e,t),null===e&&jn(t.stateNode.containerInfo),$a(t),null;case 10:return Tr(t.type._context),$a(t),null;case 19:if(Oi(es),null===(s=t.memoizedState))return $a(t),null;if(n=0!==(128&t.flags),null===(l=s.rendering))if(n)Ua(s,!1);else{if(0!==Il||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ts(e))){for(t.flags|=128,Ua(s,!1),null!==(n=l.updateQueue)&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=o,o=t.child;null!==o;)e=n,(s=o).flags&=14680066,null===(l=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,e=l.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),o=o.sibling;return xi(es,1&es.current|2),t.child}e=e.sibling}null!==s.tail&&Qe()>Wl&&(t.flags|=128,n=!0,Ua(s,!1),t.lanes=4194304)}else{if(!n)if(null!==(e=ts(l))){if(t.flags|=128,n=!0,null!==(o=e.updateQueue)&&(t.updateQueue=o,t.flags|=4),Ua(s,!0),null===s.tail&&"hidden"===s.tailMode&&!l.alternate&&!rr)return $a(t),null}else 2*Qe()-s.renderingStartTime>Wl&&1073741824!==o&&(t.flags|=128,n=!0,Ua(s,!1),t.lanes=4194304);s.isBackwards?(l.sibling=t.child,t.child=l):(null!==(o=s.last)?o.sibling=l:t.child=l,s.last=l)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Qe(),t.sibling=null,o=es.current,xi(es,n?1&o|2:1&o),t):($a(t),null);case 22:case 23:return dc(),n=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==n&&(t.flags|=8192),n&&0!==(1&t.mode)?0!==(1073741824&_l)&&($a(t),6&t.subtreeFlags&&(t.flags|=8192)):$a(t),null;case 24:case 25:return null}throw Error(r(156,t.tag))}function Ya(e,t){switch(or(t),t.tag){case 1:return Mi(t.type)&&Ii(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Qr(),Oi(Ai),Oi(Di),ns(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Jr(t),null;case 13:if(Oi(es),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(r(340));gr()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Oi(es),null;case 4:return Qr(),null;case 10:return Tr(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}Fa=function(e,t){for(var o=t.child;null!==o;){if(5===o.tag||6===o.tag)e.appendChild(o.stateNode);else if(4!==o.tag&&null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break;for(;null===o.sibling;){if(null===o.return||o.return===t)return;o=o.return}o.sibling.return=o.return,o=o.sibling}},_a=function(){},Ma=function(e,t,o,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,qr($r.current);var r,s=null;switch(o){case"input":i=q(e,i),n=q(e,n),s=[];break;case"select":i=k({},i,{value:void 0}),n=k({},n,{value:void 0}),s=[];break;case"textarea":i=ne(e,i),n=ne(e,n),s=[];break;default:"function"!==typeof i.onClick&&"function"===typeof n.onClick&&(e.onclick=ei)}for(u in ye(o,n),o=null,i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(r in l)l.hasOwnProperty(r)&&(o||(o={}),o[r]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(a.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in n){var c=n[u];if(l=null!=i?i[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(r in l)!l.hasOwnProperty(r)||c&&c.hasOwnProperty(r)||(o||(o={}),o[r]="");for(r in c)c.hasOwnProperty(r)&&l[r]!==c[r]&&(o||(o={}),o[r]=c[r])}else o||(s||(s=[]),s.push(u,o)),o=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(s=s||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(s=s||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(a.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Hn("scroll",e),s||l===c||(s=[])):(s=s||[]).push(u,c))}o&&(s=s||[]).push("style",o);var u=s;(t.updateQueue=u)&&(t.flags|=4)}},Ia=function(e,t,o,n){o!==n&&(t.flags|=4)};var qa=!1,Xa=!1,Qa="function"===typeof WeakSet?WeakSet:Set,Za=null;function Ja(e,t){var o=e.ref;if(null!==o)if("function"===typeof o)try{o(null)}catch(n){Rc(e,t,n)}else o.current=null}function el(e,t,o){try{o()}catch(n){Rc(e,t,n)}}var tl=!1;function ol(e,t,o){var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var i=n=n.next;do{if((i.tag&e)===e){var r=i.destroy;i.destroy=void 0,void 0!==r&&el(t,o,r)}i=i.next}while(i!==n)}}function nl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var o=t=t.next;do{if((o.tag&e)===e){var n=o.create;o.destroy=n()}o=o.next}while(o!==t)}}function il(e){var t=e.ref;if(null!==t){var o=e.stateNode;e.tag,e=o,"function"===typeof t?t(e):t.current=e}}function rl(e){var t=e.alternate;null!==t&&(e.alternate=null,rl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[pi],delete t[gi],delete t[mi],delete t[vi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function sl(e){return 5===e.tag||3===e.tag||4===e.tag}function al(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||sl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,o){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?8===o.nodeType?o.parentNode.insertBefore(e,t):o.insertBefore(e,t):(8===o.nodeType?(t=o.parentNode).insertBefore(e,o):(t=o).appendChild(e),null!==(o=o._reactRootContainer)&&void 0!==o||null!==t.onclick||(t.onclick=ei));else if(4!==n&&null!==(e=e.child))for(ll(e,t,o),e=e.sibling;null!==e;)ll(e,t,o),e=e.sibling}function cl(e,t,o){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?o.insertBefore(e,t):o.appendChild(e);else if(4!==n&&null!==(e=e.child))for(cl(e,t,o),e=e.sibling;null!==e;)cl(e,t,o),e=e.sibling}var ul=null,dl=!1;function hl(e,t,o){for(o=o.child;null!==o;)pl(e,t,o),o=o.sibling}function pl(e,t,o){if(rt&&"function"===typeof rt.onCommitFiberUnmount)try{rt.onCommitFiberUnmount(it,o)}catch(a){}switch(o.tag){case 5:Xa||Ja(o,t);case 6:var n=ul,i=dl;ul=null,hl(e,t,o),dl=i,null!==(ul=n)&&(dl?(e=ul,o=o.stateNode,8===e.nodeType?e.parentNode.removeChild(o):e.removeChild(o)):ul.removeChild(o.stateNode));break;case 18:null!==ul&&(dl?(e=ul,o=o.stateNode,8===e.nodeType?ci(e.parentNode,o):1===e.nodeType&&ci(e,o),Wt(e)):ci(ul,o.stateNode));break;case 4:n=ul,i=dl,ul=o.stateNode.containerInfo,dl=!0,hl(e,t,o),ul=n,dl=i;break;case 0:case 11:case 14:case 15:if(!Xa&&(null!==(n=o.updateQueue)&&null!==(n=n.lastEffect))){i=n=n.next;do{var r=i,s=r.destroy;r=r.tag,void 0!==s&&(0!==(2&r)||0!==(4&r))&&el(o,t,s),i=i.next}while(i!==n)}hl(e,t,o);break;case 1:if(!Xa&&(Ja(o,t),"function"===typeof(n=o.stateNode).componentWillUnmount))try{n.props=o.memoizedProps,n.state=o.memoizedState,n.componentWillUnmount()}catch(a){Rc(o,t,a)}hl(e,t,o);break;case 21:hl(e,t,o);break;case 22:1&o.mode?(Xa=(n=Xa)||null!==o.memoizedState,hl(e,t,o),Xa=n):hl(e,t,o);break;default:hl(e,t,o)}}function gl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var o=e.stateNode;null===o&&(o=e.stateNode=new Qa),t.forEach((function(t){var n=Tc.bind(null,e,t);o.has(t)||(o.add(t),t.then(n,n))}))}}function fl(e,t){var o=t.deletions;if(null!==o)for(var n=0;n<o.length;n++){var i=o[n];try{var s=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 5:ul=l.stateNode,dl=!1;break e;case 3:case 4:ul=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===ul)throw Error(r(160));pl(s,a,i),ul=null,dl=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(u){Rc(i,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ml(t,e),t=t.sibling}function ml(e,t){var o=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(fl(t,e),vl(e),4&n){try{ol(3,e,e.return),nl(3,e)}catch(m){Rc(e,e.return,m)}try{ol(5,e,e.return)}catch(m){Rc(e,e.return,m)}}break;case 1:fl(t,e),vl(e),512&n&&null!==o&&Ja(o,o.return);break;case 5:if(fl(t,e),vl(e),512&n&&null!==o&&Ja(o,o.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(m){Rc(e,e.return,m)}}if(4&n&&null!=(i=e.stateNode)){var s=e.memoizedProps,a=null!==o?o.memoizedProps:s,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===s.type&&null!=s.name&&Q(i,s),Ce(l,a);var u=Ce(l,s);for(a=0;a<c.length;a+=2){var d=c[a],h=c[a+1];"style"===d?me(i,h):"dangerouslySetInnerHTML"===d?de(i,h):"children"===d?he(i,h):C(i,d,h,u)}switch(l){case"input":Z(i,s);break;case"textarea":re(i,s);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var g=s.value;null!=g?oe(i,!!s.multiple,g,!1):p!==!!s.multiple&&(null!=s.defaultValue?oe(i,!!s.multiple,s.defaultValue,!0):oe(i,!!s.multiple,s.multiple?[]:"",!1))}i[gi]=s}catch(m){Rc(e,e.return,m)}}break;case 6:if(fl(t,e),vl(e),4&n){if(null===e.stateNode)throw Error(r(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(m){Rc(e,e.return,m)}}break;case 3:if(fl(t,e),vl(e),4&n&&null!==o&&o.memoizedState.isDehydrated)try{Wt(t.containerInfo)}catch(m){Rc(e,e.return,m)}break;case 4:default:fl(t,e),vl(e);break;case 13:fl(t,e),vl(e),8192&(i=e.child).flags&&(s=null!==i.memoizedState,i.stateNode.isHidden=s,!s||null!==i.alternate&&null!==i.alternate.memoizedState||(Bl=Qe())),4&n&&gl(e);break;case 22:if(d=null!==o&&null!==o.memoizedState,1&e.mode?(Xa=(u=Xa)||d,fl(t,e),Xa=u):fl(t,e),vl(e),8192&n){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(Za=e,d=e.child;null!==d;){for(h=Za=d;null!==Za;){switch(g=(p=Za).child,p.tag){case 0:case 11:case 14:case 15:ol(4,p,p.return);break;case 1:Ja(p,p.return);var f=p.stateNode;if("function"===typeof f.componentWillUnmount){n=p,o=p.return;try{t=n,f.props=t.memoizedProps,f.state=t.memoizedState,f.componentWillUnmount()}catch(m){Rc(n,o,m)}}break;case 5:Ja(p,p.return);break;case 22:if(null!==p.memoizedState){bl(h);continue}}null!==g?(g.return=p,Za=g):bl(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{i=h.stateNode,u?"function"===typeof(s=i.style).setProperty?s.setProperty("display","none","important"):s.display="none":(l=h.stateNode,a=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=fe("display",a))}catch(m){Rc(e,e.return,m)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(m){Rc(e,e.return,m)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:fl(t,e),vl(e),4&n&&gl(e);case 21:}}function vl(e){var t=e.flags;if(2&t){try{e:{for(var o=e.return;null!==o;){if(sl(o)){var n=o;break e}o=o.return}throw Error(r(160))}switch(n.tag){case 5:var i=n.stateNode;32&n.flags&&(he(i,""),n.flags&=-33),cl(e,al(e),i);break;case 3:case 4:var s=n.stateNode.containerInfo;ll(e,al(e),s);break;default:throw Error(r(161))}}catch(a){Rc(e,e.return,a)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yl(e,t,o){Za=e,Cl(e,t,o)}function Cl(e,t,o){for(var n=0!==(1&e.mode);null!==Za;){var i=Za,r=i.child;if(22===i.tag&&n){var s=null!==i.memoizedState||qa;if(!s){var a=i.alternate,l=null!==a&&null!==a.memoizedState||Xa;a=qa;var c=Xa;if(qa=s,(Xa=l)&&!c)for(Za=i;null!==Za;)l=(s=Za).child,22===s.tag&&null!==s.memoizedState?Sl(i):null!==l?(l.return=s,Za=l):Sl(i);for(;null!==r;)Za=r,Cl(r,t,o),r=r.sibling;Za=i,qa=a,Xa=c}wl(e)}else 0!==(8772&i.subtreeFlags)&&null!==r?(r.return=i,Za=r):wl(e)}}function wl(e){for(;null!==Za;){var t=Za;if(0!==(8772&t.flags)){var o=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Xa||nl(5,t);break;case 1:var n=t.stateNode;if(4&t.flags&&!Xa)if(null===o)n.componentDidMount();else{var i=t.elementType===t.type?o.memoizedProps:oa(t.type,o.memoizedProps);n.componentDidUpdate(i,o.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;null!==s&&zr(t,s,n);break;case 3:var a=t.updateQueue;if(null!==a){if(o=null,null!==t.child)switch(t.child.tag){case 5:case 1:o=t.child.stateNode}zr(t,a,o)}break;case 5:var l=t.stateNode;if(null===o&&4&t.flags){o=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&o.focus();break;case"img":c.src&&(o.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&Wt(h)}}}break;default:throw Error(r(163))}Xa||512&t.flags&&il(t)}catch(p){Rc(t,t.return,p)}}if(t===e){Za=null;break}if(null!==(o=t.sibling)){o.return=t.return,Za=o;break}Za=t.return}}function bl(e){for(;null!==Za;){var t=Za;if(t===e){Za=null;break}var o=t.sibling;if(null!==o){o.return=t.return,Za=o;break}Za=t.return}}function Sl(e){for(;null!==Za;){var t=Za;try{switch(t.tag){case 0:case 11:case 15:var o=t.return;try{nl(4,t)}catch(l){Rc(t,o,l)}break;case 1:var n=t.stateNode;if("function"===typeof n.componentDidMount){var i=t.return;try{n.componentDidMount()}catch(l){Rc(t,i,l)}}var r=t.return;try{il(t)}catch(l){Rc(t,r,l)}break;case 5:var s=t.return;try{il(t)}catch(l){Rc(t,s,l)}}}catch(l){Rc(t,t.return,l)}if(t===e){Za=null;break}var a=t.sibling;if(null!==a){a.return=t.return,Za=a;break}Za=t.return}}var El,Rl=Math.ceil,Pl=w.ReactCurrentDispatcher,Ol=w.ReactCurrentOwner,xl=w.ReactCurrentBatchConfig,Tl=0,Dl=null,Al=null,Fl=0,_l=0,Ml=Pi(0),Il=0,Ll=null,Nl=0,kl=0,Gl=0,Vl=null,Hl=null,Bl=0,Wl=1/0,jl=null,zl=!1,Ul=null,$l=null,Kl=!1,Yl=null,ql=0,Xl=0,Ql=null,Zl=-1,Jl=0;function ec(){return 0!==(6&Tl)?Qe():-1!==Zl?Zl:Zl=Qe()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Tl)&&0!==Fl?Fl&-Fl:null!==mr.transition?(0===Jl&&(Jl=ft()),Jl):0!==(e=Ct)?e:e=void 0===(e=window.event)?16:Xt(e.type)}function oc(e,t,o,n){if(50<Xl)throw Xl=0,Ql=null,Error(r(185));vt(e,o,n),0!==(2&Tl)&&e===Dl||(e===Dl&&(0===(2&Tl)&&(kl|=o),4===Il&&ac(e,Fl)),nc(e,n),1===o&&0===Tl&&0===(1&t.mode)&&(Wl=Qe()+500,Hi&&ji()))}function nc(e,t){var o=e.callbackNode;!function(e,t){for(var o=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,r=e.pendingLanes;0<r;){var s=31-st(r),a=1<<s,l=i[s];-1===l?0!==(a&o)&&0===(a&n)||(i[s]=pt(a,t)):l<=t&&(e.expiredLanes|=a),r&=~a}}(e,t);var n=ht(e,e===Dl?Fl:0);if(0===n)null!==o&&Ye(o),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(null!=o&&Ye(o),1===t)0===e.tag?function(e){Hi=!0,Wi(e)}(lc.bind(null,e)):Wi(lc.bind(null,e)),ai((function(){0===(6&Tl)&&ji()})),o=null;else{switch(wt(n)){case 1:o=Je;break;case 4:o=et;break;case 16:default:o=tt;break;case 536870912:o=nt}o=Dc(o,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=o}}function ic(e,t){if(Zl=-1,Jl=0,0!==(6&Tl))throw Error(r(327));var o=e.callbackNode;if(Sc()&&e.callbackNode!==o)return null;var n=ht(e,e===Dl?Fl:0);if(0===n)return null;if(0!==(30&n)||0!==(n&e.expiredLanes)||t)t=mc(e,n);else{t=n;var i=Tl;Tl|=2;var s=gc();for(Dl===e&&Fl===t||(jl=null,Wl=Qe()+500,hc(e,t));;)try{yc();break}catch(l){pc(e,l)}xr(),Pl.current=s,Tl=i,null!==Al?t=0:(Dl=null,Fl=0,t=Il)}if(0!==t){if(2===t&&(0!==(i=gt(e))&&(n=i,t=rc(e,i))),1===t)throw o=Ll,hc(e,0),ac(e,n),nc(e,Qe()),o;if(6===t)ac(e,n);else{if(i=e.current.alternate,0===(30&n)&&!function(e){for(var t=e;;){if(16384&t.flags){var o=t.updateQueue;if(null!==o&&null!==(o=o.stores))for(var n=0;n<o.length;n++){var i=o[n],r=i.getSnapshot;i=i.value;try{if(!ln(r(),i))return!1}catch(a){return!1}}}if(o=t.child,16384&t.subtreeFlags&&null!==o)o.return=t,t=o;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=mc(e,n))&&(0!==(s=gt(e))&&(n=s,t=rc(e,s))),1===t))throw o=Ll,hc(e,0),ac(e,n),nc(e,Qe()),o;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(r(345));case 2:case 5:bc(e,Hl,jl);break;case 3:if(ac(e,n),(130023424&n)===n&&10<(t=Bl+500-Qe())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&n)!==n){ec(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ii(bc.bind(null,e,Hl,jl),t);break}bc(e,Hl,jl);break;case 4:if(ac(e,n),(4194240&n)===n)break;for(t=e.eventTimes,i=-1;0<n;){var a=31-st(n);s=1<<a,(a=t[a])>i&&(i=a),n&=~s}if(n=i,10<(n=(120>(n=Qe()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Rl(n/1960))-n)){e.timeoutHandle=ii(bc.bind(null,e,Hl,jl),n);break}bc(e,Hl,jl);break;default:throw Error(r(329))}}}return nc(e,Qe()),e.callbackNode===o?ic.bind(null,e):null}function rc(e,t){var o=Vl;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=mc(e,t))&&(t=Hl,Hl=o,null!==t&&sc(t)),e}function sc(e){null===Hl?Hl=e:Hl.push.apply(Hl,e)}function ac(e,t){for(t&=~Gl,t&=~kl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var o=31-st(t),n=1<<o;e[o]=-1,t&=~n}}function lc(e){if(0!==(6&Tl))throw Error(r(327));Sc();var t=ht(e,0);if(0===(1&t))return nc(e,Qe()),null;var o=mc(e,t);if(0!==e.tag&&2===o){var n=gt(e);0!==n&&(t=n,o=rc(e,n))}if(1===o)throw o=Ll,hc(e,0),ac(e,t),nc(e,Qe()),o;if(6===o)throw Error(r(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,bc(e,Hl,jl),nc(e,Qe()),null}function cc(e,t){var o=Tl;Tl|=1;try{return e(t)}finally{0===(Tl=o)&&(Wl=Qe()+500,Hi&&ji())}}function uc(e){null!==Yl&&0===Yl.tag&&0===(6&Tl)&&Sc();var t=Tl;Tl|=1;var o=xl.transition,n=Ct;try{if(xl.transition=null,Ct=1,e)return e()}finally{Ct=n,xl.transition=o,0===(6&(Tl=t))&&ji()}}function dc(){_l=Ml.current,Oi(Ml)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var o=e.timeoutHandle;if(-1!==o&&(e.timeoutHandle=-1,ri(o)),null!==Al)for(o=Al.return;null!==o;){var n=o;switch(or(n),n.tag){case 1:null!==(n=n.type.childContextTypes)&&void 0!==n&&Ii();break;case 3:Qr(),Oi(Ai),Oi(Di),ns();break;case 5:Jr(n);break;case 4:Qr();break;case 13:case 19:Oi(es);break;case 10:Tr(n.type._context);break;case 22:case 23:dc()}o=o.return}if(Dl=e,Al=e=Mc(e.current,null),Fl=_l=t,Il=0,Ll=null,Gl=kl=Nl=0,Hl=Vl=null,null!==_r){for(t=0;t<_r.length;t++)if(null!==(n=(o=_r[t]).interleaved)){o.interleaved=null;var i=n.next,r=o.pending;if(null!==r){var s=r.next;r.next=i,n.next=s}o.pending=n}_r=null}return e}function pc(e,t){for(;;){var o=Al;try{if(xr(),is.current=Zs,us){for(var n=as.memoizedState;null!==n;){var i=n.queue;null!==i&&(i.pending=null),n=n.next}us=!1}if(ss=0,cs=ls=as=null,ds=!1,hs=0,Ol.current=null,null===o||null===o.return){Il=1,Ll=t,Al=null;break}e:{var s=e,a=o.return,l=o,c=t;if(t=Fl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=ma(a);if(null!==g){g.flags&=-257,va(g,a,l,0,t),1&g.mode&&fa(s,u,t),c=u;var f=(t=g).updateQueue;if(null===f){var m=new Set;m.add(c),t.updateQueue=m}else f.add(c);break e}if(0===(1&t)){fa(s,u,t),fc();break e}c=Error(r(426))}else if(rr&&1&l.mode){var v=ma(a);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),va(v,a,l,0,t),fr(ca(c,l));break e}}s=c=ca(c,l),4!==Il&&(Il=2),null===Vl?Vl=[s]:Vl.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,Wr(s,pa(0,c,t));break e;case 1:l=c;var y=s.type,C=s.stateNode;if(0===(128&s.flags)&&("function"===typeof y.getDerivedStateFromError||null!==C&&"function"===typeof C.componentDidCatch&&(null===$l||!$l.has(C)))){s.flags|=65536,t&=-t,s.lanes|=t,Wr(s,ga(s,l,t));break e}}s=s.return}while(null!==s)}wc(o)}catch(w){t=w,Al===o&&null!==o&&(Al=o=o.return);continue}break}}function gc(){var e=Pl.current;return Pl.current=Zs,null===e?Zs:e}function fc(){0!==Il&&3!==Il&&2!==Il||(Il=4),null===Dl||0===(268435455&Nl)&&0===(268435455&kl)||ac(Dl,Fl)}function mc(e,t){var o=Tl;Tl|=2;var n=gc();for(Dl===e&&Fl===t||(jl=null,hc(e,t));;)try{vc();break}catch(i){pc(e,i)}if(xr(),Tl=o,Pl.current=n,null!==Al)throw Error(r(261));return Dl=null,Fl=0,Il}function vc(){for(;null!==Al;)Cc(Al)}function yc(){for(;null!==Al&&!qe();)Cc(Al)}function Cc(e){var t=El(e.alternate,e,_l);e.memoizedProps=e.pendingProps,null===t?wc(e):Al=t,Ol.current=null}function wc(e){var t=e;do{var o=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(o=Ka(o,t,_l)))return void(Al=o)}else{if(null!==(o=Ya(o,t)))return o.flags&=32767,void(Al=o);if(null===e)return Il=6,void(Al=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Al=t);Al=t=e}while(null!==t);0===Il&&(Il=5)}function bc(e,t,o){var n=Ct,i=xl.transition;try{xl.transition=null,Ct=1,function(e,t,o,n){do{Sc()}while(null!==Yl);if(0!==(6&Tl))throw Error(r(327));o=e.finishedWork;var i=e.finishedLanes;if(null===o)return null;if(e.finishedWork=null,e.finishedLanes=0,o===e.current)throw Error(r(177));e.callbackNode=null,e.callbackPriority=0;var s=o.lanes|o.childLanes;if(function(e,t){var o=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<o;){var i=31-st(o),r=1<<i;t[i]=0,n[i]=-1,e[i]=-1,o&=~r}}(e,s),e===Dl&&(Al=Dl=null,Fl=0),0===(2064&o.subtreeFlags)&&0===(2064&o.flags)||Kl||(Kl=!0,Dc(tt,(function(){return Sc(),null}))),s=0!==(15990&o.flags),0!==(15990&o.subtreeFlags)||s){s=xl.transition,xl.transition=null;var a=Ct;Ct=1;var l=Tl;Tl|=4,Ol.current=null,function(e,t){if(ti=zt,gn(e=pn())){if("selectionStart"in e)var o={start:e.selectionStart,end:e.selectionEnd};else e:{var n=(o=(o=e.ownerDocument)&&o.defaultView||window).getSelection&&o.getSelection();if(n&&0!==n.rangeCount){o=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{o.nodeType,s.nodeType}catch(b){o=null;break e}var a=0,l=-1,c=-1,u=0,d=0,h=e,p=null;t:for(;;){for(var g;h!==o||0!==i&&3!==h.nodeType||(l=a+i),h!==s||0!==n&&3!==h.nodeType||(c=a+n),3===h.nodeType&&(a+=h.nodeValue.length),null!==(g=h.firstChild);)p=h,h=g;for(;;){if(h===e)break t;if(p===o&&++u===i&&(l=a),p===s&&++d===n&&(c=a),null!==(g=h.nextSibling))break;p=(h=p).parentNode}h=g}o=-1===l||-1===c?null:{start:l,end:c}}else o=null}o=o||{start:0,end:0}}else o=null;for(oi={focusedElem:e,selectionRange:o},zt=!1,Za=t;null!==Za;)if(e=(t=Za).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Za=e;else for(;null!==Za;){t=Za;try{var f=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==f){var m=f.memoizedProps,v=f.memoizedState,y=t.stateNode,C=y.getSnapshotBeforeUpdate(t.elementType===t.type?m:oa(t.type,m),v);y.__reactInternalSnapshotBeforeUpdate=C}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(r(163))}}catch(b){Rc(t,t.return,b)}if(null!==(e=t.sibling)){e.return=t.return,Za=e;break}Za=t.return}f=tl,tl=!1}(e,o),ml(o,e),fn(oi),zt=!!ti,oi=ti=null,e.current=o,yl(o,e,i),Xe(),Tl=l,Ct=a,xl.transition=s}else e.current=o;if(Kl&&(Kl=!1,Yl=e,ql=i),s=e.pendingLanes,0===s&&($l=null),function(e){if(rt&&"function"===typeof rt.onCommitFiberRoot)try{rt.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(o.stateNode),nc(e,Qe()),null!==t)for(n=e.onRecoverableError,o=0;o<t.length;o++)i=t[o],n(i.value,{componentStack:i.stack,digest:i.digest});if(zl)throw zl=!1,e=Ul,Ul=null,e;0!==(1&ql)&&0!==e.tag&&Sc(),s=e.pendingLanes,0!==(1&s)?e===Ql?Xl++:(Xl=0,Ql=e):Xl=0,ji()}(e,t,o,n)}finally{xl.transition=i,Ct=n}return null}function Sc(){if(null!==Yl){var e=wt(ql),t=xl.transition,o=Ct;try{if(xl.transition=null,Ct=16>e?16:e,null===Yl)var n=!1;else{if(e=Yl,Yl=null,ql=0,0!==(6&Tl))throw Error(r(331));var i=Tl;for(Tl|=4,Za=e.current;null!==Za;){var s=Za,a=s.child;if(0!==(16&Za.flags)){var l=s.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Za=u;null!==Za;){var d=Za;switch(d.tag){case 0:case 11:case 15:ol(8,d,s)}var h=d.child;if(null!==h)h.return=d,Za=h;else for(;null!==Za;){var p=(d=Za).sibling,g=d.return;if(rl(d),d===u){Za=null;break}if(null!==p){p.return=g,Za=p;break}Za=g}}}var f=s.alternate;if(null!==f){var m=f.child;if(null!==m){f.child=null;do{var v=m.sibling;m.sibling=null,m=v}while(null!==m)}}Za=s}}if(0!==(2064&s.subtreeFlags)&&null!==a)a.return=s,Za=a;else e:for(;null!==Za;){if(0!==(2048&(s=Za).flags))switch(s.tag){case 0:case 11:case 15:ol(9,s,s.return)}var y=s.sibling;if(null!==y){y.return=s.return,Za=y;break e}Za=s.return}}var C=e.current;for(Za=C;null!==Za;){var w=(a=Za).child;if(0!==(2064&a.subtreeFlags)&&null!==w)w.return=a,Za=w;else e:for(a=C;null!==Za;){if(0!==(2048&(l=Za).flags))try{switch(l.tag){case 0:case 11:case 15:nl(9,l)}}catch(S){Rc(l,l.return,S)}if(l===a){Za=null;break e}var b=l.sibling;if(null!==b){b.return=l.return,Za=b;break e}Za=l.return}}if(Tl=i,ji(),rt&&"function"===typeof rt.onPostCommitFiberRoot)try{rt.onPostCommitFiberRoot(it,e)}catch(S){}n=!0}return n}finally{Ct=o,xl.transition=t}}return!1}function Ec(e,t,o){e=Hr(e,t=pa(0,t=ca(o,t),1),1),t=ec(),null!==e&&(vt(e,1,t),nc(e,t))}function Rc(e,t,o){if(3===e.tag)Ec(e,e,o);else for(;null!==t;){if(3===t.tag){Ec(t,e,o);break}if(1===t.tag){var n=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof n.componentDidCatch&&(null===$l||!$l.has(n))){t=Hr(t,e=ga(t,e=ca(o,e),1),1),e=ec(),null!==t&&(vt(t,1,e),nc(t,e));break}}t=t.return}}function Pc(e,t,o){var n=e.pingCache;null!==n&&n.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&o,Dl===e&&(Fl&o)===o&&(4===Il||3===Il&&(130023424&Fl)===Fl&&500>Qe()-Bl?hc(e,0):Gl|=o),nc(e,t)}function Oc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var o=ec();null!==(e=Lr(e,t))&&(vt(e,t,o),nc(e,o))}function xc(e){var t=e.memoizedState,o=0;null!==t&&(o=t.retryLane),Oc(e,o)}function Tc(e,t){var o=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;null!==i&&(o=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(r(314))}null!==n&&n.delete(t),Oc(e,o)}function Dc(e,t){return Ke(e,t)}function Ac(e,t,o,n){this.tag=e,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fc(e,t,o,n){return new Ac(e,t,o,n)}function _c(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Mc(e,t){var o=e.alternate;return null===o?((o=Fc(e.tag,t,e.key,e.mode)).elementType=e.elementType,o.type=e.type,o.stateNode=e.stateNode,o.alternate=e,e.alternate=o):(o.pendingProps=t,o.type=e.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=14680064&e.flags,o.childLanes=e.childLanes,o.lanes=e.lanes,o.child=e.child,o.memoizedProps=e.memoizedProps,o.memoizedState=e.memoizedState,o.updateQueue=e.updateQueue,t=e.dependencies,o.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},o.sibling=e.sibling,o.index=e.index,o.ref=e.ref,o}function Ic(e,t,o,n,i,s){var a=2;if(n=e,"function"===typeof e)_c(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case E:return Lc(o.children,i,s,t);case R:a=8,i|=8;break;case P:return(e=Fc(12,o,t,2|i)).elementType=P,e.lanes=s,e;case D:return(e=Fc(13,o,t,i)).elementType=D,e.lanes=s,e;case A:return(e=Fc(19,o,t,i)).elementType=A,e.lanes=s,e;case M:return Nc(o,i,s,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case O:a=10;break e;case x:a=9;break e;case T:a=11;break e;case F:a=14;break e;case _:a=16,n=null;break e}throw Error(r(130,null==e?e:typeof e,""))}return(t=Fc(a,o,t,i)).elementType=e,t.type=n,t.lanes=s,t}function Lc(e,t,o,n){return(e=Fc(7,e,n,t)).lanes=o,e}function Nc(e,t,o,n){return(e=Fc(22,e,n,t)).elementType=M,e.lanes=o,e.stateNode={isHidden:!1},e}function kc(e,t,o){return(e=Fc(6,e,null,t)).lanes=o,e}function Gc(e,t,o){return(t=Fc(4,null!==e.children?e.children:[],e.key,t)).lanes=o,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Vc(e,t,o,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Hc(e,t,o,n,i,r,s,a,l){return e=new Vc(e,t,o,a,l),1===t?(t=1,!0===r&&(t|=8)):t=0,r=Fc(3,null,null,t),e.current=r,r.stateNode=e,r.memoizedState={element:n,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},kr(r),e}function Bc(e){if(!e)return Ti;e:{if(We(e=e._reactInternals)!==e||1!==e.tag)throw Error(r(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Mi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(r(171))}if(1===e.tag){var o=e.type;if(Mi(o))return Ni(e,o,t)}return t}function Wc(e,t,o,n,i,r,s,a,l){return(e=Hc(o,n,!0,e,0,r,0,a,l)).context=Bc(null),o=e.current,(r=Vr(n=ec(),i=tc(o))).callback=void 0!==t&&null!==t?t:null,Hr(o,r,i),e.current.lanes=i,vt(e,i,n),nc(e,n),e}function jc(e,t,o,n){var i=t.current,r=ec(),s=tc(i);return o=Bc(o),null===t.context?t.context=o:t.pendingContext=o,(t=Vr(r,s)).payload={element:e},null!==(n=void 0===n?null:n)&&(t.callback=n),null!==(e=Hr(i,t,s))&&(oc(e,i,s,r),Br(e,i,s)),s}function zc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Uc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var o=e.retryLane;e.retryLane=0!==o&&o<t?o:t}}function $c(e,t){Uc(e,t),(e=e.alternate)&&Uc(e,t)}El=function(e,t,o){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ai.current)Ca=!0;else{if(0===(e.lanes&o)&&0===(128&t.flags))return Ca=!1,function(e,t,o){switch(t.tag){case 3:Da(t),gr();break;case 5:Zr(t);break;case 1:Mi(t.type)&&ki(t);break;case 4:Xr(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;xi(Er,n._currentValue),n._currentValue=i;break;case 13:if(null!==(n=t.memoizedState))return null!==n.dehydrated?(xi(es,1&es.current),t.flags|=128,null):0!==(o&t.child.childLanes)?ka(e,t,o):(xi(es,1&es.current),null!==(e=za(e,t,o))?e.sibling:null);xi(es,1&es.current);break;case 19:if(n=0!==(o&t.childLanes),0!==(128&e.flags)){if(n)return Wa(e,t,o);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),xi(es,es.current),n)break;return null;case 22:case 23:return t.lanes=0,Ra(e,t,o)}return za(e,t,o)}(e,t,o);Ca=0!==(131072&e.flags)}else Ca=!1,rr&&0!==(1048576&t.flags)&&er(t,Ki,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;ja(e,t),e=t.pendingProps;var i=_i(t,Di.current);Ar(t,o),i=ms(null,t,n,e,i,o);var s=vs();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Mi(n)?(s=!0,ki(t)):s=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,kr(t),i.updater=ia,t.stateNode=i,i._reactInternals=t,la(t,n,e,o),t=Ta(null,t,n,!0,s,o)):(t.tag=0,rr&&s&&tr(t),wa(null,t,i,o),t=t.child),t;case 16:n=t.elementType;e:{switch(ja(e,t),e=t.pendingProps,n=(i=n._init)(n._payload),t.type=n,i=t.tag=function(e){if("function"===typeof e)return _c(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===T)return 11;if(e===F)return 14}return 2}(n),e=oa(n,e),i){case 0:t=Oa(null,t,n,e,o);break e;case 1:t=xa(null,t,n,e,o);break e;case 11:t=ba(null,t,n,e,o);break e;case 14:t=Sa(null,t,n,oa(n.type,e),o);break e}throw Error(r(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,Oa(e,t,n,i=t.elementType===n?i:oa(n,i),o);case 1:return n=t.type,i=t.pendingProps,xa(e,t,n,i=t.elementType===n?i:oa(n,i),o);case 3:e:{if(Da(t),null===e)throw Error(r(387));n=t.pendingProps,i=(s=t.memoizedState).element,Gr(e,t),jr(t,n,null,o);var a=t.memoizedState;if(n=a.element,s.isDehydrated){if(s={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=Aa(e,t,n,o,i=ca(Error(r(423)),t));break e}if(n!==i){t=Aa(e,t,n,o,i=ca(Error(r(424)),t));break e}for(ir=ui(t.stateNode.containerInfo.firstChild),nr=t,rr=!0,sr=null,o=Sr(t,null,n,o),t.child=o;o;)o.flags=-3&o.flags|4096,o=o.sibling}else{if(gr(),n===i){t=za(e,t,o);break e}wa(e,t,n,o)}t=t.child}return t;case 5:return Zr(t),null===e&&ur(t),n=t.type,i=t.pendingProps,s=null!==e?e.memoizedProps:null,a=i.children,ni(n,i)?a=null:null!==s&&ni(n,s)&&(t.flags|=32),Pa(e,t),wa(e,t,a,o),t.child;case 6:return null===e&&ur(t),null;case 13:return ka(e,t,o);case 4:return Xr(t,t.stateNode.containerInfo),n=t.pendingProps,null===e?t.child=br(t,null,n,o):wa(e,t,n,o),t.child;case 11:return n=t.type,i=t.pendingProps,ba(e,t,n,i=t.elementType===n?i:oa(n,i),o);case 7:return wa(e,t,t.pendingProps,o),t.child;case 8:case 12:return wa(e,t,t.pendingProps.children,o),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value,xi(Er,n._currentValue),n._currentValue=a,null!==s)if(ln(s.value,a)){if(s.children===i.children&&!Ai.current){t=za(e,t,o);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var l=s.dependencies;if(null!==l){a=s.child;for(var c=l.firstContext;null!==c;){if(c.context===n){if(1===s.tag){(c=Vr(-1,o&-o)).tag=2;var u=s.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}s.lanes|=o,null!==(c=s.alternate)&&(c.lanes|=o),Dr(s.return,o,t),l.lanes|=o;break}c=c.next}}else if(10===s.tag)a=s.type===t.type?null:s.child;else if(18===s.tag){if(null===(a=s.return))throw Error(r(341));a.lanes|=o,null!==(l=a.alternate)&&(l.lanes|=o),Dr(a,o,t),a=s.sibling}else a=s.child;if(null!==a)a.return=s;else for(a=s;null!==a;){if(a===t){a=null;break}if(null!==(s=a.sibling)){s.return=a.return,a=s;break}a=a.return}s=a}wa(e,t,i.children,o),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,Ar(t,o),n=n(i=Fr(i)),t.flags|=1,wa(e,t,n,o),t.child;case 14:return i=oa(n=t.type,t.pendingProps),Sa(e,t,n,i=oa(n.type,i),o);case 15:return Ea(e,t,t.type,t.pendingProps,o);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:oa(n,i),ja(e,t),t.tag=1,Mi(n)?(e=!0,ki(t)):e=!1,Ar(t,o),sa(t,n,i),la(t,n,i,o),Ta(null,t,n,!0,e,o);case 19:return Wa(e,t,o);case 22:return Ra(e,t,o)}throw Error(r(156,t.tag))};var Kc="function"===typeof reportError?reportError:function(e){console.error(e)};function Yc(e){this._internalRoot=e}function qc(e){this._internalRoot=e}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Qc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function Jc(e,t,o,n,i){var r=o._reactRootContainer;if(r){var s=r;if("function"===typeof i){var a=i;i=function(){var e=zc(s);a.call(e)}}jc(t,s,e,i)}else s=function(e,t,o,n,i){if(i){if("function"===typeof n){var r=n;n=function(){var e=zc(s);r.call(e)}}var s=Wc(t,n,e,0,null,!1,0,"",Zc);return e._reactRootContainer=s,e[fi]=s.current,jn(8===e.nodeType?e.parentNode:e),uc(),s}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof n){var a=n;n=function(){var e=zc(l);a.call(e)}}var l=Hc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=l,e[fi]=l.current,jn(8===e.nodeType?e.parentNode:e),uc((function(){jc(t,l,o,n)})),l}(o,t,e,i,n);return zc(s)}qc.prototype.render=Yc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(r(409));jc(e,t,null,null)},qc.prototype.unmount=Yc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;uc((function(){jc(null,e,null,null)})),t[fi]=null}},qc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Rt();e={blockedOn:null,target:e,priority:t};for(var o=0;o<Mt.length&&0!==t&&t<Mt[o].priority;o++);Mt.splice(o,0,e),0===o&&kt(e)}},bt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var o=dt(t.pendingLanes);0!==o&&(yt(t,1|o),nc(t,Qe()),0===(6&Tl)&&(Wl=Qe()+500,ji()))}break;case 13:uc((function(){var t=Lr(e,1);if(null!==t){var o=ec();oc(t,e,1,o)}})),$c(e,1)}},St=function(e){if(13===e.tag){var t=Lr(e,134217728);if(null!==t)oc(t,e,134217728,ec());$c(e,134217728)}},Et=function(e){if(13===e.tag){var t=tc(e),o=Lr(e,t);if(null!==o)oc(o,e,t,ec());$c(e,t)}},Rt=function(){return Ct},Pt=function(e,t){var o=Ct;try{return Ct=e,t()}finally{Ct=o}},Se=function(e,t,o){switch(t){case"input":if(Z(e,o),t=o.name,"radio"===o.type&&null!=t){for(o=e;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<o.length;t++){var n=o[t];if(n!==e&&n.form===e.form){var i=Si(n);if(!i)throw Error(r(90));K(n),Z(n,i)}}}break;case"textarea":re(e,o);break;case"select":null!=(t=o.value)&&oe(e,!!o.multiple,t,!1)}},Te=cc,De=uc;var eu={usingClientEntryPoint:!1,Events:[wi,bi,Si,Oe,xe,cc]},tu={findFiberByHostInstance:Ci,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ou={bundleType:tu.bundleType,version:tu.version,rendererPackageName:tu.rendererPackageName,rendererConfig:tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ue(e))?null:e.stateNode},findFiberByHostInstance:tu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var nu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nu.isDisabled&&nu.supportsFiber)try{it=nu.inject(ou),rt=nu}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eu,t.createPortal=function(e,t){var o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xc(t))throw Error(r(200));return function(e,t,o){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==n?null:""+n,children:e,containerInfo:t,implementation:o}}(e,t,null,o)},t.createRoot=function(e,t){if(!Xc(e))throw Error(r(299));var o=!1,n="",i=Kc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(o=!0),void 0!==t.identifierPrefix&&(n=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Hc(e,1,!1,null,0,o,0,n,i),e[fi]=t.current,jn(8===e.nodeType?e.parentNode:e),new Yc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(r(188));throw e=Object.keys(e).join(","),Error(r(268,e))}return e=null===(e=Ue(t))?null:e.stateNode},t.flushSync=function(e){return uc(e)},t.hydrate=function(e,t,o){if(!Qc(t))throw Error(r(200));return Jc(null,e,t,!0,o)},t.hydrateRoot=function(e,t,o){if(!Xc(e))throw Error(r(405));var n=null!=o&&o.hydratedSources||null,i=!1,s="",a=Kc;if(null!==o&&void 0!==o&&(!0===o.unstable_strictMode&&(i=!0),void 0!==o.identifierPrefix&&(s=o.identifierPrefix),void 0!==o.onRecoverableError&&(a=o.onRecoverableError)),t=Wc(t,null,e,1,null!=o?o:null,i,0,s,a),e[fi]=t.current,jn(e),n)for(e=0;e<n.length;e++)i=(i=(o=n[e])._getVersion)(o._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[o,i]:t.mutableSourceEagerHydrationData.push(o,i);return new qc(t)},t.render=function(e,t,o){if(!Qc(t))throw Error(r(200));return Jc(null,e,t,!1,o)},t.unmountComponentAtNode=function(e){if(!Qc(e))throw Error(r(40));return!!e._reactRootContainer&&(uc((function(){Jc(null,null,e,!1,(function(){e._reactRootContainer=null,e[fi]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,o,n){if(!Qc(o))throw Error(r(200));if(null==e||void 0===e._reactInternals)throw Error(r(38));return Jc(e,t,o,!1,n)},t.version="18.3.1-next-f1338f8080-20240426"},391:(e,t,o)=>{"use strict";var n=o(950);t.createRoot=n.createRoot,t.hydrateRoot=n.hydrateRoot},950:(e,t,o)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=o(730)},153:(e,t,o)=>{"use strict";var n=o(43),i=Symbol.for("react.element"),r=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,o){var n,r={},c=null,u=null;for(n in void 0!==o&&(c=""+o),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)s.call(t,n)&&!l.hasOwnProperty(n)&&(r[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===r[n]&&(r[n]=t[n]);return{$$typeof:i,type:e,key:c,ref:u,props:r,_owner:a.current}}t.Fragment=r,t.jsx=c,t.jsxs=c},202:(e,t)=>{"use strict";var o=Symbol.for("react.element"),n=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},f=Object.assign,m={};function v(e,t,o){this.props=e,this.context=t,this.refs=m,this.updater=o||g}function y(){}function C(e,t,o){this.props=e,this.context=t,this.refs=m,this.updater=o||g}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var w=C.prototype=new y;w.constructor=C,f(w,v.prototype),w.isPureReactComponent=!0;var b=Array.isArray,S=Object.prototype.hasOwnProperty,E={current:null},R={key:!0,ref:!0,__self:!0,__source:!0};function P(e,t,n){var i,r={},s=null,a=null;if(null!=t)for(i in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(s=""+t.key),t)S.call(t,i)&&!R.hasOwnProperty(i)&&(r[i]=t[i]);var l=arguments.length-2;if(1===l)r.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];r.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===r[i]&&(r[i]=l[i]);return{$$typeof:o,type:e,key:s,ref:a,props:r,_owner:E.current}}function O(e){return"object"===typeof e&&null!==e&&e.$$typeof===o}var x=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function D(e,t,i,r,s){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l=!1;if(null===e)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case o:case n:l=!0}}if(l)return s=s(l=e),e=""===r?"."+T(l,0):r,b(s)?(i="",null!=e&&(i=e.replace(x,"$&/")+"/"),D(s,t,i,"",(function(e){return e}))):null!=s&&(O(s)&&(s=function(e,t){return{$$typeof:o,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,i+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(x,"$&/")+"/")+e)),t.push(s)),1;if(l=0,r=""===r?".":r+":",b(e))for(var c=0;c<e.length;c++){var u=r+T(a=e[c],c);l+=D(a,t,i,u,s)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(a=e.next()).done;)l+=D(a=a.value,t,i,u=r+T(a,c++),s);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function A(e,t,o){if(null==e)return e;var n=[],i=0;return D(e,n,"","",(function(e){return t.call(o,e,i++)})),n}function F(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var _={current:null},M={transition:null},I={ReactCurrentDispatcher:_,ReactCurrentBatchConfig:M,ReactCurrentOwner:E};function L(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:A,forEach:function(e,t,o){A(e,(function(){t.apply(this,arguments)}),o)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!O(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=s,t.PureComponent=C,t.StrictMode=r,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=I,t.act=L,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=f({},e.props),r=e.key,s=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,a=E.current),void 0!==t.key&&(r=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)S.call(t,c)&&!R.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:o,type:e.type,key:r,ref:s,props:i,_owner:a}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=P,t.createFactory=function(e){var t=P.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=O,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:F}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=M.transition;M.transition={};try{e()}finally{M.transition=t}},t.unstable_act=L,t.useCallback=function(e,t){return _.current.useCallback(e,t)},t.useContext=function(e){return _.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return _.current.useDeferredValue(e)},t.useEffect=function(e,t){return _.current.useEffect(e,t)},t.useId=function(){return _.current.useId()},t.useImperativeHandle=function(e,t,o){return _.current.useImperativeHandle(e,t,o)},t.useInsertionEffect=function(e,t){return _.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return _.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return _.current.useMemo(e,t)},t.useReducer=function(e,t,o){return _.current.useReducer(e,t,o)},t.useRef=function(e){return _.current.useRef(e)},t.useState=function(e){return _.current.useState(e)},t.useSyncExternalStore=function(e,t,o){return _.current.useSyncExternalStore(e,t,o)},t.useTransition=function(){return _.current.useTransition()},t.version="18.3.1"},43:(e,t,o)=>{"use strict";e.exports=o(202)},579:(e,t,o)=>{"use strict";e.exports=o(153)},234:(e,t)=>{"use strict";function o(e,t){var o=e.length;e.push(t);e:for(;0<o;){var n=o-1>>>1,i=e[n];if(!(0<r(i,t)))break e;e[n]=t,e[o]=i,o=n}}function n(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],o=e.pop();if(o!==t){e[0]=o;e:for(var n=0,i=e.length,s=i>>>1;n<s;){var a=2*(n+1)-1,l=e[a],c=a+1,u=e[c];if(0>r(l,o))c<i&&0>r(u,l)?(e[n]=u,e[c]=o,n=c):(e[n]=l,e[a]=o,n=a);else{if(!(c<i&&0>r(u,o)))break e;e[n]=u,e[c]=o,n=c}}}return t}function r(e,t){var o=e.sortIndex-t.sortIndex;return 0!==o?o:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],d=1,h=null,p=3,g=!1,f=!1,m=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,C="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=n(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,o(c,t)}t=n(u)}}function b(e){if(m=!1,w(e),!f)if(null!==n(c))f=!0,M(S);else{var t=n(u);null!==t&&I(b,t.startTime-e)}}function S(e,o){f=!1,m&&(m=!1,y(O),O=-1),g=!0;var r=p;try{for(w(o),h=n(c);null!==h&&(!(h.expirationTime>o)||e&&!D());){var s=h.callback;if("function"===typeof s){h.callback=null,p=h.priorityLevel;var a=s(h.expirationTime<=o);o=t.unstable_now(),"function"===typeof a?h.callback=a:h===n(c)&&i(c),w(o)}else i(c);h=n(c)}if(null!==h)var l=!0;else{var d=n(u);null!==d&&I(b,d.startTime-o),l=!1}return l}finally{h=null,p=r,g=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var E,R=!1,P=null,O=-1,x=5,T=-1;function D(){return!(t.unstable_now()-T<x)}function A(){if(null!==P){var e=t.unstable_now();T=e;var o=!0;try{o=P(!0,e)}finally{o?E():(R=!1,P=null)}}else R=!1}if("function"===typeof C)E=function(){C(A)};else if("undefined"!==typeof MessageChannel){var F=new MessageChannel,_=F.port2;F.port1.onmessage=A,E=function(){_.postMessage(null)}}else E=function(){v(A,0)};function M(e){P=e,R||(R=!0,E())}function I(e,o){O=v((function(){e(t.unstable_now())}),o)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){f||g||(f=!0,M(S))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var o=p;p=t;try{return e()}finally{p=o}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var o=p;p=e;try{return t()}finally{p=o}},t.unstable_scheduleCallback=function(e,i,r){var s=t.unstable_now();switch("object"===typeof r&&null!==r?r="number"===typeof(r=r.delay)&&0<r?s+r:s:r=s,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:r,expirationTime:a=r+a,sortIndex:-1},r>s?(e.sortIndex=r,o(u,e),null===n(c)&&e===n(u)&&(m?(y(O),O=-1):m=!0,I(b,r-s))):(e.sortIndex=a,o(c,e),f||g||(f=!0,M(S))),e},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(e){var t=p;return function(){var o=p;p=t;try{return e.apply(this,arguments)}finally{p=o}}}},853:(e,t,o)=>{"use strict";e.exports=o(234)},139:(e,t)=>{var o;!function(){"use strict";var n={}.hasOwnProperty;function i(){for(var e="",t=0;t<arguments.length;t++){var o=arguments[t];o&&(e=s(e,r(o)))}return e}function r(e){if("string"===typeof e||"number"===typeof e)return e;if("object"!==typeof e)return"";if(Array.isArray(e))return i.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var o in e)n.call(e,o)&&e[o]&&(t=s(t,o));return t}function s(e,t){return t?e?e+" "+t:e+t:e}e.exports?(i.default=i,e.exports=i):void 0===(o=function(){return i}.apply(t,[]))||(e.exports=o)}()}},t={};function o(n){var i=t[n];if(void 0!==i)return i.exports;var r=t[n]={exports:{}};return e[n](r,r.exports,o),r.exports}o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;o.t=function(n,i){if(1&i&&(n=this(n)),8&i)return n;if("object"===typeof n&&n){if(4&i&&n.__esModule)return n;if(16&i&&"function"===typeof n.then)return n}var r=Object.create(null);o.r(r);var s={};e=e||[null,t({}),t([]),t(t)];for(var a=2&i&&n;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach((e=>s[e]=()=>n[e]));return s.default=()=>n,o.d(r,s),r}})(),o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";var e={};o.r(e),o.d(e,{hasBrowserEnv:()=>wT,hasStandardBrowserEnv:()=>ST,hasStandardBrowserWebWorkerEnv:()=>ET,navigator:()=>bT,origin:()=>RT});var t=o(43),n=o.t(t,2),i=o(391);function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,n=Array(t);o<t;o++)n[o]=e[o];return n}function s(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function a(e,t){if(e){if("string"==typeof e)return r(e,t);var o={}.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?r(e,t):void 0}}function l(e){return function(e){if(Array.isArray(e))return r(e)}(e)||s(e)||a(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var c=o(139),u=o.n(c);function d(e,t){var o=Object.assign({},e);return Array.isArray(t)&&t.forEach((function(e){delete o[e]})),o}const h="ant",p="anticon",g=t.createContext({getPrefixCls:(e,t)=>t||(e?`${h}-${e}`:h),iconPrefixCls:p}),{Consumer:f}=g,m=t.createContext({siderHook:{addSider:()=>null,removeSider:()=>null}});var v=o(816);function y(e){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[];return t.Children.forEach(e,(function(e){(void 0!==e&&null!==e||o.keepEmpty)&&(Array.isArray(e)?n=n.concat(y(e)):(0,v.isFragment)(e)&&e.props?n=n.concat(y(e.props.children,o)):n.push(e))})),n}function C(){return C=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)({}).hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},C.apply(null,arguments)}const w={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 192H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM104 228a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"bars",theme:"outlined"};function b(e){if(Array.isArray(e))return e}function S(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function E(e,t){return b(e)||function(e,t){var o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var n,i,r,s,a=[],l=!0,c=!1;try{if(r=(o=o.call(e)).next,0===t){if(Object(o)!==o)return;l=!1}else for(;!(l=(n=r.call(o)).done)&&(a.push(n.value),a.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=o.return&&(s=o.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}(e,t)||a(e,t)||S()}function R(e){return R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},R(e)}function P(e){var t=function(e,t){if("object"!=R(e)||!e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var n=o.call(e,t||"default");if("object"!=R(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==R(t)?t:t+""}function O(e,t,o){return(t=P(t))in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function x(e,t){if(null==e)return{};var o,n,i=function(e,t){if(null==e)return{};var o={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.includes(n))continue;o[n]=e[n]}return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)o=r[n],t.includes(o)||{}.propertyIsEnumerable.call(e,o)&&(i[o]=e[o])}return i}function T(e,t){(function(e){return"string"===typeof e&&-1!==e.indexOf(".")&&1===parseFloat(e)})(e)&&(e="100%");var o=function(e){return"string"===typeof e&&-1!==e.indexOf("%")}(e);return e=360===t?e:Math.min(t,Math.max(0,parseFloat(e))),o&&(e=parseInt(String(e*t),10)/100),Math.abs(e-t)<1e-6?1:e=360===t?(e<0?e%t+t:e%t)/parseFloat(String(t)):e%t/parseFloat(String(t))}function D(e){return Math.min(1,Math.max(0,e))}function A(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function F(e){return e<=1?"".concat(100*Number(e),"%"):e}function _(e){return 1===e.length?"0"+e:String(e)}function M(e,t,o){e=T(e,255),t=T(t,255),o=T(o,255);var n=Math.max(e,t,o),i=Math.min(e,t,o),r=0,s=0,a=(n+i)/2;if(n===i)s=0,r=0;else{var l=n-i;switch(s=a>.5?l/(2-n-i):l/(n+i),n){case e:r=(t-o)/l+(t<o?6:0);break;case t:r=(o-e)/l+2;break;case o:r=(e-t)/l+4}r/=6}return{h:r,s:s,l:a}}function I(e,t,o){return o<0&&(o+=1),o>1&&(o-=1),o<1/6?e+6*o*(t-e):o<.5?t:o<2/3?e+(t-e)*(2/3-o)*6:e}function L(e,t,o){e=T(e,255),t=T(t,255),o=T(o,255);var n=Math.max(e,t,o),i=Math.min(e,t,o),r=0,s=n,a=n-i,l=0===n?0:a/n;if(n===i)r=0;else{switch(n){case e:r=(t-o)/a+(t<o?6:0);break;case t:r=(o-e)/a+2;break;case o:r=(e-t)/a+4}r/=6}return{h:r,s:l,v:s}}function N(e,t,o,n){var i=[_(Math.round(e).toString(16)),_(Math.round(t).toString(16)),_(Math.round(o).toString(16))];return n&&i[0].startsWith(i[0].charAt(1))&&i[1].startsWith(i[1].charAt(1))&&i[2].startsWith(i[2].charAt(1))?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function k(e){return Math.round(255*parseFloat(e)).toString(16)}function G(e){return V(e)/255}function V(e){return parseInt(e,16)}var H={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function B(e){var t={r:0,g:0,b:0},o=1,n=null,i=null,r=null,s=!1,a=!1;return"string"===typeof e&&(e=function(e){if(e=e.trim().toLowerCase(),0===e.length)return!1;var t=!1;if(H[e])e=H[e],t=!0;else if("transparent"===e)return{r:0,g:0,b:0,a:0,format:"name"};var o=U.rgb.exec(e);if(o)return{r:o[1],g:o[2],b:o[3]};if(o=U.rgba.exec(e),o)return{r:o[1],g:o[2],b:o[3],a:o[4]};if(o=U.hsl.exec(e),o)return{h:o[1],s:o[2],l:o[3]};if(o=U.hsla.exec(e),o)return{h:o[1],s:o[2],l:o[3],a:o[4]};if(o=U.hsv.exec(e),o)return{h:o[1],s:o[2],v:o[3]};if(o=U.hsva.exec(e),o)return{h:o[1],s:o[2],v:o[3],a:o[4]};if(o=U.hex8.exec(e),o)return{r:V(o[1]),g:V(o[2]),b:V(o[3]),a:G(o[4]),format:t?"name":"hex8"};if(o=U.hex6.exec(e),o)return{r:V(o[1]),g:V(o[2]),b:V(o[3]),format:t?"name":"hex"};if(o=U.hex4.exec(e),o)return{r:V(o[1]+o[1]),g:V(o[2]+o[2]),b:V(o[3]+o[3]),a:G(o[4]+o[4]),format:t?"name":"hex8"};if(o=U.hex3.exec(e),o)return{r:V(o[1]+o[1]),g:V(o[2]+o[2]),b:V(o[3]+o[3]),format:t?"name":"hex"};return!1}(e)),"object"===typeof e&&($(e.r)&&$(e.g)&&$(e.b)?(t=function(e,t,o){return{r:255*T(e,255),g:255*T(t,255),b:255*T(o,255)}}(e.r,e.g,e.b),s=!0,a="%"===String(e.r).substr(-1)?"prgb":"rgb"):$(e.h)&&$(e.s)&&$(e.v)?(n=F(e.s),i=F(e.v),t=function(e,t,o){e=6*T(e,360),t=T(t,100),o=T(o,100);var n=Math.floor(e),i=e-n,r=o*(1-t),s=o*(1-i*t),a=o*(1-(1-i)*t),l=n%6;return{r:255*[o,s,r,r,a,o][l],g:255*[a,o,o,s,r,r][l],b:255*[r,r,a,o,o,s][l]}}(e.h,n,i),s=!0,a="hsv"):$(e.h)&&$(e.s)&&$(e.l)&&(n=F(e.s),r=F(e.l),t=function(e,t,o){var n,i,r;if(e=T(e,360),t=T(t,100),o=T(o,100),0===t)i=o,r=o,n=o;else{var s=o<.5?o*(1+t):o+t-o*t,a=2*o-s;n=I(a,s,e+1/3),i=I(a,s,e),r=I(a,s,e-1/3)}return{r:255*n,g:255*i,b:255*r}}(e.h,n,r),s=!0,a="hsl"),Object.prototype.hasOwnProperty.call(e,"a")&&(o=e.a)),o=A(o),{ok:s,format:e.format||a,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:o}}var W="(?:".concat("[-\\+]?\\d*\\.\\d+%?",")|(?:").concat("[-\\+]?\\d+%?",")"),j="[\\s|\\(]+(".concat(W,")[,|\\s]+(").concat(W,")[,|\\s]+(").concat(W,")\\s*\\)?"),z="[\\s|\\(]+(".concat(W,")[,|\\s]+(").concat(W,")[,|\\s]+(").concat(W,")[,|\\s]+(").concat(W,")\\s*\\)?"),U={CSS_UNIT:new RegExp(W),rgb:new RegExp("rgb"+j),rgba:new RegExp("rgba"+z),hsl:new RegExp("hsl"+j),hsla:new RegExp("hsla"+z),hsv:new RegExp("hsv"+j),hsva:new RegExp("hsva"+z),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function $(e){return Boolean(U.CSS_UNIT.exec(String(e)))}var K=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function Y(e){var t=L(e.r,e.g,e.b);return{h:360*t.h,s:t.s,v:t.v}}function q(e){var t=e.r,o=e.g,n=e.b;return"#".concat(N(t,o,n,!1))}function X(e,t,o){var n;return(n=Math.round(e.h)>=60&&Math.round(e.h)<=240?o?Math.round(e.h)-2*t:Math.round(e.h)+2*t:o?Math.round(e.h)+2*t:Math.round(e.h)-2*t)<0?n+=360:n>=360&&(n-=360),n}function Q(e,t,o){return 0===e.h&&0===e.s?e.s:((n=o?e.s-.16*t:4===t?e.s+.16:e.s+.05*t)>1&&(n=1),o&&5===t&&n>.1&&(n=.1),n<.06&&(n=.06),Number(n.toFixed(2)));var n}function Z(e,t,o){var n;return(n=o?e.v+.05*t:e.v-.15*t)>1&&(n=1),Number(n.toFixed(2))}function J(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=[],n=B(e),i=5;i>0;i-=1){var r=Y(n),s=q(B({h:X(r,i,!0),s:Q(r,i,!0),v:Z(r,i,!0)}));o.push(s)}o.push(q(n));for(var a=1;a<=4;a+=1){var l=Y(n),c=q(B({h:X(l,a),s:Q(l,a),v:Z(l,a)}));o.push(c)}return"dark"===t.theme?K.map((function(e){var n=e.index,i=e.opacity,r=q(function(e,t,o){var n=o/100;return{r:(t.r-e.r)*n+e.r,g:(t.g-e.g)*n+e.g,b:(t.b-e.b)*n+e.b}}(B(t.backgroundColor||"#141414"),B(o[n]),100*i));return r})):o}var ee={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1677FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},te=["#fff1f0","#ffccc7","#ffa39e","#ff7875","#ff4d4f","#f5222d","#cf1322","#a8071a","#820014","#5c0011"];te.primary=te[5];var oe=["#fff2e8","#ffd8bf","#ffbb96","#ff9c6e","#ff7a45","#fa541c","#d4380d","#ad2102","#871400","#610b00"];oe.primary=oe[5];var ne=["#fff7e6","#ffe7ba","#ffd591","#ffc069","#ffa940","#fa8c16","#d46b08","#ad4e00","#873800","#612500"];ne.primary=ne[5];var ie=["#fffbe6","#fff1b8","#ffe58f","#ffd666","#ffc53d","#faad14","#d48806","#ad6800","#874d00","#613400"];ie.primary=ie[5];var re=["#feffe6","#ffffb8","#fffb8f","#fff566","#ffec3d","#fadb14","#d4b106","#ad8b00","#876800","#614700"];re.primary=re[5];var se=["#fcffe6","#f4ffb8","#eaff8f","#d3f261","#bae637","#a0d911","#7cb305","#5b8c00","#3f6600","#254000"];se.primary=se[5];var ae=["#f6ffed","#d9f7be","#b7eb8f","#95de64","#73d13d","#52c41a","#389e0d","#237804","#135200","#092b00"];ae.primary=ae[5];var le=["#e6fffb","#b5f5ec","#87e8de","#5cdbd3","#36cfc9","#13c2c2","#08979c","#006d75","#00474f","#002329"];le.primary=le[5];var ce=["#e6f4ff","#bae0ff","#91caff","#69b1ff","#4096ff","#1677ff","#0958d9","#003eb3","#002c8c","#001d66"];ce.primary=ce[5];var ue=["#f0f5ff","#d6e4ff","#adc6ff","#85a5ff","#597ef7","#2f54eb","#1d39c4","#10239e","#061178","#030852"];ue.primary=ue[5];var de=["#f9f0ff","#efdbff","#d3adf7","#b37feb","#9254de","#722ed1","#531dab","#391085","#22075e","#120338"];de.primary=de[5];var he=["#fff0f6","#ffd6e7","#ffadd2","#ff85c0","#f759ab","#eb2f96","#c41d7f","#9e1068","#780650","#520339"];he.primary=he[5];var pe=["#a6a6a6","#999999","#8c8c8c","#808080","#737373","#666666","#404040","#1a1a1a","#000000","#000000"];pe.primary=pe[5];var ge={red:te,volcano:oe,orange:ne,gold:ie,yellow:re,lime:se,green:ae,cyan:le,blue:ce,geekblue:ue,purple:de,magenta:he,grey:pe},fe=["#2a1215","#431418","#58181c","#791a1f","#a61d24","#d32029","#e84749","#f37370","#f89f9a","#fac8c3"];fe.primary=fe[5];var me=["#2b1611","#441d12","#592716","#7c3118","#aa3e19","#d84a1b","#e87040","#f3956a","#f8b692","#fad4bc"];me.primary=me[5];var ve=["#2b1d11","#442a11","#593815","#7c4a15","#aa6215","#d87a16","#e89a3c","#f3b765","#f8cf8d","#fae3b7"];ve.primary=ve[5];var ye=["#2b2111","#443111","#594214","#7c5914","#aa7714","#d89614","#e8b339","#f3cc62","#f8df8b","#faedb5"];ye.primary=ye[5];var Ce=["#2b2611","#443b11","#595014","#7c6e14","#aa9514","#d8bd14","#e8d639","#f3ea62","#f8f48b","#fafab5"];Ce.primary=Ce[5];var we=["#1f2611","#2e3c10","#3e4f13","#536d13","#6f9412","#8bbb11","#a9d134","#c9e75d","#e4f88b","#f0fab5"];we.primary=we[5];var be=["#162312","#1d3712","#274916","#306317","#3c8618","#49aa19","#6abe39","#8fd460","#b2e58b","#d5f2bb"];be.primary=be[5];var Se=["#112123","#113536","#144848","#146262","#138585","#13a8a8","#33bcb7","#58d1c9","#84e2d8","#b2f1e8"];Se.primary=Se[5];var Ee=["#111a2c","#112545","#15325b","#15417e","#1554ad","#1668dc","#3c89e8","#65a9f3","#8dc5f8","#b7dcfa"];Ee.primary=Ee[5];var Re=["#131629","#161d40","#1c2755","#203175","#263ea0","#2b4acb","#5273e0","#7f9ef3","#a8c1f8","#d2e0fa"];Re.primary=Re[5];var Pe=["#1a1325","#24163a","#301c4d","#3e2069","#51258f","#642ab5","#854eca","#ab7ae0","#cda8f0","#ebd7fa"];Pe.primary=Pe[5];var Oe=["#291321","#40162f","#551c3b","#75204f","#a02669","#cb2b83","#e0529c","#f37fb7","#f8a8cc","#fad2e3"];Oe.primary=Oe[5];var xe=["#151515","#1f1f1f","#2d2d2d","#393939","#494949","#5a5a5a","#6a6a6a","#7b7b7b","#888888","#969696"];xe.primary=xe[5];const Te=(0,t.createContext)({});function De(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function Ae(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?De(Object(o),!0).forEach((function(t){O(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):De(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function Fe(){return!("undefined"===typeof window||!window.document||!window.document.createElement)}function _e(e,t){if(!e)return!1;if(e.contains)return e.contains(t);for(var o=t;o;){if(o===e)return!0;o=o.parentNode}return!1}var Me="data-rc-order",Ie="data-rc-priority",Le=new Map;function Ne(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).mark;return e?e.startsWith("data-")?e:"data-".concat(e):"rc-util-key"}function ke(e){return e.attachTo?e.attachTo:document.querySelector("head")||document.body}function Ge(e){return Array.from((Le.get(e)||e).children).filter((function(e){return"STYLE"===e.tagName}))}function Ve(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!Fe())return null;var o=t.csp,n=t.prepend,i=t.priority,r=void 0===i?0:i,s=function(e){return"queue"===e?"prependQueue":e?"prepend":"append"}(n),a="prependQueue"===s,l=document.createElement("style");l.setAttribute(Me,s),a&&r&&l.setAttribute(Ie,"".concat(r)),null!==o&&void 0!==o&&o.nonce&&(l.nonce=null===o||void 0===o?void 0:o.nonce),l.innerHTML=e;var c=ke(t),u=c.firstChild;if(n){if(a){var d=(t.styles||Ge(c)).filter((function(e){if(!["prepend","prependQueue"].includes(e.getAttribute(Me)))return!1;var t=Number(e.getAttribute(Ie)||0);return r>=t}));if(d.length)return c.insertBefore(l,d[d.length-1].nextSibling),l}c.insertBefore(l,u)}else c.appendChild(l);return l}function He(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=ke(t);return(t.styles||Ge(o)).find((function(o){return o.getAttribute(Ne(t))===e}))}function Be(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=He(e,t);o&&ke(t).removeChild(o)}function We(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=ke(o),i=Ge(n),r=Ae(Ae({},o),{},{styles:i});!function(e,t){var o=Le.get(e);if(!o||!_e(document,o)){var n=Ve("",t),i=n.parentNode;Le.set(e,i),e.removeChild(n)}}(n,r);var s=He(t,r);if(s){var a,l,c;if(null!==(a=r.csp)&&void 0!==a&&a.nonce&&s.nonce!==(null===(l=r.csp)||void 0===l?void 0:l.nonce))s.nonce=null===(c=r.csp)||void 0===c?void 0:c.nonce;return s.innerHTML!==e&&(s.innerHTML=e),s}var u=Ve(e,r);return u.setAttribute(Ne(r),t),u}function je(e){var t;return null===e||void 0===e||null===(t=e.getRootNode)||void 0===t?void 0:t.call(e)}function ze(e){return function(e){return je(e)instanceof ShadowRoot}(e)?je(e):null}var Ue={},$e=[];function Ke(e,t){}function Ye(e,t){}function qe(e,t,o){t||Ue[o]||(e(!1,o),Ue[o]=!0)}function Xe(e,t){qe(Ke,e,t)}Xe.preMessage=function(e){$e.push(e)},Xe.resetWarned=function(){Ue={}},Xe.noteOnce=function(e,t){qe(Ye,e,t)};const Qe=Xe;function Ze(e){return"object"===R(e)&&"string"===typeof e.name&&"string"===typeof e.theme&&("object"===R(e.icon)||"function"===typeof e.icon)}function Je(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).reduce((function(t,o){var n,i=e[o];if("class"===o)t.className=i,delete t.class;else delete t[o],t[(n=o,n.replace(/-(.)/g,(function(e,t){return t.toUpperCase()})))]=i;return t}),{})}function et(e,o,n){return n?t.createElement(e.tag,Ae(Ae({key:o},Je(e.attrs)),n),(e.children||[]).map((function(t,n){return et(t,"".concat(o,"-").concat(e.tag,"-").concat(n))}))):t.createElement(e.tag,Ae({key:o},Je(e.attrs)),(e.children||[]).map((function(t,n){return et(t,"".concat(o,"-").concat(e.tag,"-").concat(n))})))}function tt(e){return J(e)[0]}function ot(e){return e?Array.isArray(e)?e:[e]:[]}var nt=["icon","className","onClick","style","primaryColor","secondaryColor"],it={primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1};var rt=function(e){var o,n,i=e.icon,r=e.className,s=e.onClick,a=e.style,l=e.primaryColor,c=e.secondaryColor,u=x(e,nt),d=t.useRef(),h=it;if(l&&(h={primaryColor:l,secondaryColor:c||tt(l)}),function(e){var o=(0,t.useContext)(Te),n=o.csp,i=o.prefixCls,r="\n.anticon {\n  display: inline-flex;\n  align-items: center;\n  color: inherit;\n  font-style: normal;\n  line-height: 0;\n  text-align: center;\n  text-transform: none;\n  vertical-align: -0.125em;\n  text-rendering: optimizeLegibility;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n.anticon > * {\n  line-height: 1;\n}\n\n.anticon svg {\n  display: inline-block;\n}\n\n.anticon::before {\n  display: none;\n}\n\n.anticon .anticon-icon {\n  display: block;\n}\n\n.anticon[tabindex] {\n  cursor: pointer;\n}\n\n.anticon-spin::before,\n.anticon-spin {\n  display: inline-block;\n  -webkit-animation: loadingCircle 1s infinite linear;\n  animation: loadingCircle 1s infinite linear;\n}\n\n@-webkit-keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n\n@keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n";i&&(r=r.replace(/anticon/g,i)),(0,t.useEffect)((function(){var t=ze(e.current);We(r,"@ant-design-icons",{prepend:!0,csp:n,attachTo:t})}),[])}(d),o=Ze(i),n="icon should be icon definiton, but got ".concat(i),Qe(o,"[@ant-design/icons] ".concat(n)),!Ze(i))return null;var p=i;return p&&"function"===typeof p.icon&&(p=Ae(Ae({},p),{},{icon:p.icon(h.primaryColor,h.secondaryColor)})),et(p.icon,"svg-".concat(p.name),Ae(Ae({className:r,onClick:s,style:a,"data-icon":p.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},u),{},{ref:d}))};rt.displayName="IconReact",rt.getTwoToneColors=function(){return Ae({},it)},rt.setTwoToneColors=function(e){var t=e.primaryColor,o=e.secondaryColor;it.primaryColor=t,it.secondaryColor=o||tt(t),it.calculated=!!o};const st=rt;function at(e){var t=E(ot(e),2),o=t[0],n=t[1];return st.setTwoToneColors({primaryColor:o,secondaryColor:n})}var lt=["className","icon","spin","rotate","tabIndex","onClick","twoToneColor"];at(ce.primary);var ct=t.forwardRef((function(e,o){var n=e.className,i=e.icon,r=e.spin,s=e.rotate,a=e.tabIndex,l=e.onClick,c=e.twoToneColor,d=x(e,lt),h=t.useContext(Te),p=h.prefixCls,g=void 0===p?"anticon":p,f=h.rootClassName,m=u()(f,g,O(O({},"".concat(g,"-").concat(i.name),!!i.name),"".concat(g,"-spin"),!!r||"loading"===i.name),n),v=a;void 0===v&&l&&(v=-1);var y=s?{msTransform:"rotate(".concat(s,"deg)"),transform:"rotate(".concat(s,"deg)")}:void 0,w=E(ot(c),2),b=w[0],S=w[1];return t.createElement("span",C({role:"img","aria-label":i.name},d,{ref:o,tabIndex:v,onClick:l,className:m}),t.createElement(st,{icon:i,primaryColor:b,secondaryColor:S,style:y}))}));ct.displayName="AntdIcon",ct.getTwoToneColor=function(){var e=st.getTwoToneColors();return e.calculated?[e.primaryColor,e.secondaryColor]:e.primaryColor},ct.setTwoToneColor=at;const ut=ct;var dt=function(e,o){return t.createElement(ut,C({},e,{ref:o,icon:w}))};const ht=t.forwardRef(dt);const pt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 000 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z"}}]},name:"left",theme:"outlined"};var gt=function(e,o){return t.createElement(ut,C({},e,{ref:o,icon:pt}))};const ft=t.forwardRef(gt);const mt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M765.7 486.8L314.9 134.7A7.97 7.97 0 00302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 000-50.4z"}}]},name:"right",theme:"outlined"};var vt=function(e,o){return t.createElement(ut,C({},e,{ref:o,icon:mt}))};const yt=t.forwardRef(vt),Ct=e=>!isNaN(parseFloat(e))&&isFinite(e);const wt=function(e){for(var t,o=0,n=0,i=e.length;i>=4;++n,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(n)|(255&e.charCodeAt(++n))<<8|(255&e.charCodeAt(++n))<<16|(255&e.charCodeAt(++n))<<24))+(59797*(t>>>16)<<16),o=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&o)+(59797*(o>>>16)<<16);switch(i){case 3:o^=(255&e.charCodeAt(n+2))<<16;case 2:o^=(255&e.charCodeAt(n+1))<<8;case 1:o=1540483477*(65535&(o^=255&e.charCodeAt(n)))+(59797*(o>>>16)<<16)}return(((o=1540483477*(65535&(o^=o>>>13))+(59797*(o>>>16)<<16))^o>>>15)>>>0).toString(36)};function bt(e,o,n){var i=t.useRef({});return"value"in i.current&&!n(i.current.condition,o)||(i.current.value=e(),i.current.condition=o),i.current.value}const St=function(e,t){var o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=new Set;return function e(t,i){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,s=n.has(t);if(Qe(!s,"Warning: There may be circular references"),s)return!1;if(t===i)return!0;if(o&&r>1)return!1;n.add(t);var a=r+1;if(Array.isArray(t)){if(!Array.isArray(i)||t.length!==i.length)return!1;for(var l=0;l<t.length;l++)if(!e(t[l],i[l],a))return!1;return!0}if(t&&i&&"object"===R(t)&&"object"===R(i)){var c=Object.keys(t);return c.length===Object.keys(i).length&&c.every((function(o){return e(t[o],i[o],a)}))}return!1}(e,t)};function Et(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Rt(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,P(n.key),n)}}function Pt(e,t,o){return t&&Rt(e.prototype,t),o&&Rt(e,o),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ot(e){return e.join("%")}var xt=function(){function e(t){Et(this,e),O(this,"instanceId",void 0),O(this,"cache",new Map),this.instanceId=t}return Pt(e,[{key:"get",value:function(e){return this.opGet(Ot(e))}},{key:"opGet",value:function(e){return this.cache.get(e)||null}},{key:"update",value:function(e,t){return this.opUpdate(Ot(e),t)}},{key:"opUpdate",value:function(e,t){var o=t(this.cache.get(e));null===o?this.cache.delete(e):this.cache.set(e,o)}}]),e}();const Tt=xt;var Dt="data-token-hash",At="data-css-hash",Ft="__cssinjs_instance__";function _t(){var e=Math.random().toString(12).slice(2);if("undefined"!==typeof document&&document.head&&document.body){var t=document.body.querySelectorAll("style[".concat(At,"]"))||[],o=document.head.firstChild;Array.from(t).forEach((function(t){t[Ft]=t[Ft]||e,t[Ft]===e&&document.head.insertBefore(t,o)}));var n={};Array.from(document.querySelectorAll("style[".concat(At,"]"))).forEach((function(t){var o,i=t.getAttribute(At);n[i]?t[Ft]===e&&(null===(o=t.parentNode)||void 0===o||o.removeChild(t)):n[i]=!0}))}return new Tt(e)}var Mt=t.createContext({hashPriority:"low",cache:_t(),defaultCache:!0});const It=Mt;var Lt="CALC_UNIT";new RegExp(Lt,"g");var Nt=function(){function e(){Et(this,e),O(this,"cache",void 0),O(this,"keys",void 0),O(this,"cacheCallTimes",void 0),this.cache=new Map,this.keys=[],this.cacheCallTimes=0}return Pt(e,[{key:"size",value:function(){return this.keys.length}},{key:"internalGet",value:function(e){var t,o,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i={map:this.cache};return e.forEach((function(e){var t;i?i=null===(t=i)||void 0===t||null===(t=t.map)||void 0===t?void 0:t.get(e):i=void 0})),null!==(t=i)&&void 0!==t&&t.value&&n&&(i.value[1]=this.cacheCallTimes++),null===(o=i)||void 0===o?void 0:o.value}},{key:"get",value:function(e){var t;return null===(t=this.internalGet(e,!0))||void 0===t?void 0:t[0]}},{key:"has",value:function(e){return!!this.internalGet(e)}},{key:"set",value:function(t,o){var n=this;if(!this.has(t)){if(this.size()+1>e.MAX_CACHE_SIZE+e.MAX_CACHE_OFFSET){var i=this.keys.reduce((function(e,t){var o=E(e,2)[1];return n.internalGet(t)[1]<o?[t,n.internalGet(t)[1]]:e}),[this.keys[0],this.cacheCallTimes]),r=E(i,1)[0];this.delete(r)}this.keys.push(t)}var s=this.cache;t.forEach((function(e,i){if(i===t.length-1)s.set(e,{value:[o,n.cacheCallTimes++]});else{var r=s.get(e);r?r.map||(r.map=new Map):s.set(e,{map:new Map}),s=s.get(e).map}}))}},{key:"deleteByPath",value:function(e,t){var o,n=e.get(t[0]);if(1===t.length)return n.map?e.set(t[0],{map:n.map}):e.delete(t[0]),null===(o=n.value)||void 0===o?void 0:o[0];var i=this.deleteByPath(n.map,t.slice(1));return n.map&&0!==n.map.size||n.value||e.delete(t[0]),i}},{key:"delete",value:function(e){if(this.has(e))return this.keys=this.keys.filter((function(t){return!function(e,t){if(e.length!==t.length)return!1;for(var o=0;o<e.length;o++)if(e[o]!==t[o])return!1;return!0}(t,e)})),this.deleteByPath(this.cache,e)}}]),e}();O(Nt,"MAX_CACHE_SIZE",20),O(Nt,"MAX_CACHE_OFFSET",5);var kt=0,Gt=function(){function e(t){Et(this,e),O(this,"derivatives",void 0),O(this,"id",void 0),this.derivatives=Array.isArray(t)?t:[t],this.id=kt,0===t.length&&t.length,kt+=1}return Pt(e,[{key:"getDerivativeToken",value:function(e){return this.derivatives.reduce((function(t,o){return o(e,t)}),void 0)}}]),e}(),Vt=new Nt;function Ht(e){var t=Array.isArray(e)?e:[e];return Vt.has(t)||Vt.set(t,new Gt(t)),Vt.get(t)}var Bt=new WeakMap,Wt={};var jt=new WeakMap;function zt(e){var t=jt.get(e)||"";return t||(Object.keys(e).forEach((function(o){var n=e[o];t+=o,n instanceof Gt?t+=n.id:n&&"object"===R(n)?t+=zt(n):t+=n})),t=wt(t),jt.set(e,t)),t}function Ut(e,t){return wt("".concat(t,"_").concat(zt(e)))}"random-".concat(Date.now(),"-").concat(Math.random()).replace(/\./g,"");var $t=Fe();function Kt(e){return"number"===typeof e?"".concat(e,"px"):e}function Yt(e,t,o){var n;if(arguments.length>4&&void 0!==arguments[4]&&arguments[4])return e;var i=Ae(Ae({},arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}),{},(O(n={},Dt,t),O(n,At,o),n)),r=Object.keys(i).map((function(e){var t=i[e];return t?"".concat(e,'="').concat(t,'"'):null})).filter((function(e){return e})).join(" ");return"<style ".concat(r,">").concat(e,"</style>")}var qt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return"--".concat(t?"".concat(t,"-"):"").concat(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").replace(/([A-Z]+)([A-Z][a-z0-9]+)/g,"$1-$2").replace(/([a-z])([A-Z0-9])/g,"$1-$2").toLowerCase()},Xt=function(e,t,o){return Object.keys(e).length?".".concat(t).concat(null!==o&&void 0!==o&&o.scope?".".concat(o.scope):"","{").concat(Object.entries(e).map((function(e){var t=E(e,2),o=t[0],n=t[1];return"".concat(o,":").concat(n,";")})).join(""),"}"):""},Qt=function(e,t,o){var n={},i={};return Object.entries(e).forEach((function(e){var t,r,s=E(e,2),a=s[0],l=s[1];if(null!==o&&void 0!==o&&null!==(t=o.preserve)&&void 0!==t&&t[a])i[a]=l;else if(("string"===typeof l||"number"===typeof l)&&(null===o||void 0===o||null===(r=o.ignore)||void 0===r||!r[a])){var c,u=qt(a,null===o||void 0===o?void 0:o.prefix);n[u]="number"!==typeof l||null!==o&&void 0!==o&&null!==(c=o.unitless)&&void 0!==c&&c[a]?String(l):"".concat(l,"px"),i[a]="var(".concat(u,")")}})),[i,Xt(n,t,{scope:null===o||void 0===o?void 0:o.scope})]},Zt=Fe()?t.useLayoutEffect:t.useEffect,Jt=function(e,o){var n=t.useRef(!0);Zt((function(){return e(n.current)}),o),Zt((function(){return n.current=!1,function(){n.current=!0}}),[])},eo=function(e,t){Jt((function(t){if(!t)return e()}),t)};const to=Jt;var oo=Ae({},n).useInsertionEffect;const no=oo?function(e,t,o){return oo((function(){return e(),t()}),o)}:function(e,o,n){t.useMemo(e,n),to((function(){return o(!0)}),n)};const io="undefined"!==typeof Ae({},n).useInsertionEffect?function(e){var o=[],n=!1;return t.useEffect((function(){return n=!1,function(){n=!0,o.length&&o.forEach((function(e){return e()}))}}),e),function(e){n||o.push(e)}}:function(){return function(e){e()}};const ro=function(){return!1};function so(e,o,n,i,r){var s=t.useContext(It).cache,a=Ot([e].concat(l(o))),c=io([a]),u=(ro(),function(e){s.opUpdate(a,(function(t){var o=E(t||[void 0,void 0],2),i=o[0];var r=[void 0===i?0:i,o[1]||n()];return e?e(r):r}))});t.useMemo((function(){u()}),[a]);var d=s.opGet(a)[1];return no((function(){null===r||void 0===r||r(d)}),(function(e){return u((function(t){var o=E(t,2),n=o[0],i=o[1];return e&&0===n&&(null===r||void 0===r||r(d)),[n+1,i]})),function(){s.opUpdate(a,(function(t){var o=E(t||[],2),n=o[0],r=void 0===n?0:n,l=o[1];return 0===r-1?(c((function(){!e&&s.opGet(a)||null===i||void 0===i||i(l,!1)})),null):[r-1,l]}))}}),[a]),d}var ao={},lo=new Map;function co(e,t){lo.set(e,(lo.get(e)||0)-1);var o=Array.from(lo.keys()),n=o.filter((function(e){return(lo.get(e)||0)<=0}));o.length-n.length>0&&n.forEach((function(e){!function(e,t){"undefined"!==typeof document&&document.querySelectorAll("style[".concat(Dt,'="').concat(e,'"]')).forEach((function(e){var o;e[Ft]===t&&(null===(o=e.parentNode)||void 0===o||o.removeChild(e))}))}(e,t),lo.delete(e)}))}var uo=function(e,t,o,n){var i=Ae(Ae({},o.getDerivativeToken(e)),t);return n&&(i=n(i)),i},ho="token";function po(e,o){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=(0,t.useContext)(It),r=i.cache.instanceId,s=i.container,a=n.salt,c=void 0===a?"":a,u=n.override,d=void 0===u?ao:u,h=n.formatToken,p=n.getComputedToken,g=n.cssVar,f=function(e,t){for(var o=Bt,n=0;n<t.length;n+=1){var i=t[n];o.has(i)||o.set(i,new WeakMap),o=o.get(i)}return o.has(Wt)||o.set(Wt,e()),o.get(Wt)}((function(){return Object.assign.apply(Object,[{}].concat(l(o)))}),o),m=zt(f),v=zt(d),y=g?zt(g):"",C=so(ho,[c,e.id,m,v,y],(function(){var t,o=p?p(f,d,e):uo(f,d,e,h),n=Ae({},o),i="";if(g){var r=E(Qt(o,g.key,{prefix:g.prefix,ignore:g.ignore,unitless:g.unitless,preserve:g.preserve}),2);o=r[0],i=r[1]}var s=Ut(o,c);o._tokenKey=s,n._tokenKey=Ut(n,c);var a=null!==(t=null===g||void 0===g?void 0:g.key)&&void 0!==t?t:s;o._themeKey=a,function(e){lo.set(e,(lo.get(e)||0)+1)}(a);var l="".concat("css","-").concat(wt(s));return o._hashId=l,[o,l,n,i,(null===g||void 0===g?void 0:g.key)||""]}),(function(e){co(e[0]._themeKey,r)}),(function(e){var t=E(e,4),o=t[0],n=t[3];if(g&&n){var i=We(n,wt("css-variables-".concat(o._themeKey)),{mark:At,prepend:"queue",attachTo:s,priority:-999});i[Ft]=r,i.setAttribute(Dt,o._themeKey)}}));return C}const go={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};var fo="comm",mo="rule",vo="decl",yo=Math.abs,Co=String.fromCharCode;Object.assign;function wo(e){return e.trim()}function bo(e,t,o){return e.replace(t,o)}function So(e,t,o){return e.indexOf(t,o)}function Eo(e,t){return 0|e.charCodeAt(t)}function Ro(e,t,o){return e.slice(t,o)}function Po(e){return e.length}function Oo(e,t){return t.push(e),e}function xo(e,t){for(var o="",n=0;n<e.length;n++)o+=t(e[n],n,e,t)||"";return o}function To(e,t,o,n){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case vo:return e.return=e.return||e.value;case fo:return"";case"@keyframes":return e.return=e.value+"{"+xo(e.children,n)+"}";case mo:if(!Po(e.value=e.props.join(",")))return""}return Po(o=xo(e.children,n))?e.return=e.value+"{"+o+"}":""}var Do=1,Ao=1,Fo=0,_o=0,Mo=0,Io="";function Lo(e,t,o,n,i,r,s,a){return{value:e,root:t,parent:o,type:n,props:i,children:r,line:Do,column:Ao,length:s,return:"",siblings:a}}function No(){return Mo=_o>0?Eo(Io,--_o):0,Ao--,10===Mo&&(Ao=1,Do--),Mo}function ko(){return Mo=_o<Fo?Eo(Io,_o++):0,Ao++,10===Mo&&(Ao=1,Do++),Mo}function Go(){return Eo(Io,_o)}function Vo(){return _o}function Ho(e,t){return Ro(Io,e,t)}function Bo(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Wo(e){return Do=Ao=1,Fo=Po(Io=e),_o=0,[]}function jo(e){return Io="",e}function zo(e){return wo(Ho(_o-1,Ko(91===e?e+2:40===e?e+1:e)))}function Uo(e){for(;(Mo=Go())&&Mo<33;)ko();return Bo(e)>2||Bo(Mo)>3?"":" "}function $o(e,t){for(;--t&&ko()&&!(Mo<48||Mo>102||Mo>57&&Mo<65||Mo>70&&Mo<97););return Ho(e,Vo()+(t<6&&32==Go()&&32==ko()))}function Ko(e){for(;ko();)switch(Mo){case e:return _o;case 34:case 39:34!==e&&39!==e&&Ko(Mo);break;case 40:41===e&&Ko(e);break;case 92:ko()}return _o}function Yo(e,t){for(;ko()&&e+Mo!==57&&(e+Mo!==84||47!==Go()););return"/*"+Ho(t,_o-1)+"*"+Co(47===e?e:ko())}function qo(e){for(;!Bo(Go());)ko();return Ho(e,_o)}function Xo(e){return jo(Qo("",null,null,null,[""],e=Wo(e),0,[0],e))}function Qo(e,t,o,n,i,r,s,a,l){for(var c=0,u=0,d=s,h=0,p=0,g=0,f=1,m=1,v=1,y=0,C="",w=i,b=r,S=n,E=C;m;)switch(g=y,y=ko()){case 40:if(108!=g&&58==Eo(E,d-1)){-1!=So(E+=bo(zo(y),"&","&\f"),"&\f",yo(c?a[c-1]:0))&&(v=-1);break}case 34:case 39:case 91:E+=zo(y);break;case 9:case 10:case 13:case 32:E+=Uo(g);break;case 92:E+=$o(Vo()-1,7);continue;case 47:switch(Go()){case 42:case 47:Oo(Jo(Yo(ko(),Vo()),t,o,l),l),5!=Bo(g||1)&&5!=Bo(Go()||1)||!Po(E)||" "===Ro(E,-1,void 0)||(E+=" ");break;default:E+="/"}break;case 123*f:a[c++]=Po(E)*v;case 125*f:case 59:case 0:switch(y){case 0:case 125:m=0;case 59+u:-1==v&&(E=bo(E,/\f/g,"")),p>0&&(Po(E)-d||0===f&&47===g)&&Oo(p>32?en(E+";",n,o,d-1,l):en(bo(E," ","")+";",n,o,d-2,l),l);break;case 59:E+=";";default:if(Oo(S=Zo(E,t,o,c,u,i,a,C,w=[],b=[],d,r),r),123===y)if(0===u)Qo(E,t,S,S,w,r,d,a,b);else switch(99===h&&110===Eo(E,3)?100:h){case 100:case 108:case 109:case 115:Qo(e,S,S,n&&Oo(Zo(e,S,S,0,0,i,a,C,i,w=[],d,b),b),i,b,d,a,n?w:b);break;default:Qo(E,S,S,S,[""],b,0,a,b)}}c=u=p=0,f=v=1,C=E="",d=s;break;case 58:d=1+Po(E),p=g;default:if(f<1)if(123==y)--f;else if(125==y&&0==f++&&125==No())continue;switch(E+=Co(y),y*f){case 38:v=u>0?1:(E+="\f",-1);break;case 44:a[c++]=(Po(E)-1)*v,v=1;break;case 64:45===Go()&&(E+=zo(ko())),h=Go(),u=d=Po(C=E+=qo(Vo())),y++;break;case 45:45===g&&2==Po(E)&&(f=0)}}return r}function Zo(e,t,o,n,i,r,s,a,l,c,u,d){for(var h=i-1,p=0===i?r:[""],g=function(e){return e.length}(p),f=0,m=0,v=0;f<n;++f)for(var y=0,C=Ro(e,h+1,h=yo(m=s[f])),w=e;y<g;++y)(w=wo(m>0?p[y]+" "+C:bo(C,/&\f/g,p[y])))&&(l[v++]=w);return Lo(e,t,o,0===i?mo:a,l,c,u,d)}function Jo(e,t,o,n){return Lo(e,t,o,fo,Co(Mo),Ro(e,2,-2),0,n)}function en(e,t,o,n,i){return Lo(e,t,o,vo,Ro(e,0,n),Ro(e,n+1,-1),n,i)}var tn,on="data-ant-cssinjs-cache-path",nn="_FILE_STYLE__";var rn=!0;function sn(e){return function(){if(!tn&&(tn={},Fe())){var e=document.createElement("div");e.className=on,e.style.position="fixed",e.style.visibility="hidden",e.style.top="-9999px",document.body.appendChild(e);var t=getComputedStyle(e).content||"";(t=t.replace(/^"/,"").replace(/"$/,"")).split(";").forEach((function(e){var t=E(e.split(":"),2),o=t[0],n=t[1];tn[o]=n}));var o,n=document.querySelector("style[".concat(on,"]"));n&&(rn=!1,null===(o=n.parentNode)||void 0===o||o.removeChild(n)),document.body.removeChild(e)}}(),!!tn[e]}var an="_multi_value_";function ln(e){return xo(Xo(e),To).replace(/\{%%%\:[^;];}/g,";")}function cn(e,t,o){if(!t)return e;var n=".".concat(t),i="low"===o?":where(".concat(n,")"):n,r=e.split(",").map((function(e){var t,o=e.trim().split(/\s+/),n=o[0]||"",r=(null===(t=n.match(/^\w+/))||void 0===t?void 0:t[0])||"";return[n="".concat(r).concat(i).concat(n.slice(r.length))].concat(l(o.slice(1))).join(" ")}));return r.join(",")}var un=function e(t){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{root:!0,parentSelectors:[]},i=n.root,r=n.injectHash,s=n.parentSelectors,a=o.hashId,c=o.layer,u=(o.path,o.hashPriority),d=o.transformers,h=void 0===d?[]:d,p=(o.linters,""),g={};function f(t){var n=t.getName(a);if(!g[n]){var i=E(e(t.style,o,{root:!1,parentSelectors:s}),1)[0];g[n]="@keyframes ".concat(t.getName(a)).concat(i)}}var m=function e(t){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return t.forEach((function(t){Array.isArray(t)?e(t,o):t&&o.push(t)})),o}(Array.isArray(t)?t:[t]);return m.forEach((function(t){var n="string"!==typeof t||i?t:{};if("string"===typeof n)p+="".concat(n,"\n");else if(n._keyframe)f(n);else{var c=h.reduce((function(e,t){var o;return(null===t||void 0===t||null===(o=t.visit)||void 0===o?void 0:o.call(t,e))||e}),n);Object.keys(c).forEach((function(t){var n=c[t];if("object"!==R(n)||!n||"animationName"===t&&n._keyframe||function(e){return"object"===R(e)&&e&&("_skip_check_"in e||an in e)}(n)){var d;function S(e,t){var o=e.replace(/[A-Z]/g,(function(e){return"-".concat(e.toLowerCase())})),n=t;go[e]||"number"!==typeof n||0===n||(n="".concat(n,"px")),"animationName"===e&&null!==t&&void 0!==t&&t._keyframe&&(f(t),n=t.getName(a)),p+="".concat(o,":").concat(n,";")}var h=null!==(d=null===n||void 0===n?void 0:n.value)&&void 0!==d?d:n;"object"===R(n)&&null!==n&&void 0!==n&&n[an]&&Array.isArray(h)?h.forEach((function(e){S(t,e)})):S(t,h)}else{var m=!1,v=t.trim(),y=!1;(i||r)&&a?v.startsWith("@")?m=!0:v=cn("&"===v?"":t,a,u):!i||a||"&"!==v&&""!==v||(v="",y=!0);var C=E(e(n,o,{root:y,injectHash:m,parentSelectors:[].concat(l(s),[v])}),2),w=C[0],b=C[1];g=Ae(Ae({},g),b),p+="".concat(v).concat(w)}}))}})),i?c&&(p&&(p="@layer ".concat(c.name," {").concat(p,"}")),c.dependencies&&(g["@layer ".concat(c.name)]=c.dependencies.map((function(e){return"@layer ".concat(e,", ").concat(c.name,";")})).join("\n"))):p="{".concat(p,"}"),[p,g]};function dn(e,t){return wt("".concat(e.join("%")).concat(t))}function hn(){return null}var pn="style";function gn(e,o){var n=e.token,i=e.path,r=e.hashId,s=e.layer,a=e.nonce,c=e.clientOnly,u=e.order,d=void 0===u?0:u,h=t.useContext(It),p=h.autoClear,g=(h.mock,h.defaultCache),f=h.hashPriority,m=h.container,v=h.ssrInline,y=h.transformers,w=h.linters,b=h.cache,S=h.layer,R=n._tokenKey,P=[R];S&&P.push("layer"),P.push.apply(P,l(i));var x=$t;var T=so(pn,P,(function(){var e=P.join("|");if(sn(e)){var t=function(e){var t=tn[e],o=null;if(t&&Fe())if(rn)o=nn;else{var n=document.querySelector("style[".concat(At,'="').concat(tn[e],'"]'));n?o=n.innerHTML:delete tn[e]}return[o,t]}(e),n=E(t,2),a=n[0],l=n[1];if(a)return[a,R,l,{},c,d]}var u=o(),h=E(un(u,{hashId:r,hashPriority:f,layer:S?s:void 0,path:i.join("-"),transformers:y,linters:w}),2),p=h[0],g=h[1],m=ln(p),v=dn(P,m);return[m,R,v,g,c,d]}),(function(e,t){var o=E(e,3)[2];(t||p)&&$t&&Be(o,{mark:At})}),(function(e){var t=E(e,4),o=t[0],n=(t[1],t[2]),i=t[3];if(x&&o!==nn){var r={mark:At,prepend:!S&&"queue",attachTo:m,priority:d},s="function"===typeof a?a():a;s&&(r.csp={nonce:s});var l=[],c=[];Object.keys(i).forEach((function(e){e.startsWith("@layer")?l.push(e):c.push(e)})),l.forEach((function(e){We(ln(i[e]),"_layer-".concat(e),Ae(Ae({},r),{},{prepend:!0}))}));var u=We(o,n,r);u[Ft]=b.instanceId,u.setAttribute(Dt,R),c.forEach((function(e){We(ln(i[e]),"_effect-".concat(e),r)}))}})),D=E(T,3),A=D[0],F=D[1],_=D[2];return function(e){var o,n;v&&!x&&g?o=t.createElement("style",C({},(O(n={},Dt,F),O(n,At,_),n),{dangerouslySetInnerHTML:{__html:A}})):o=t.createElement(hn,null);return t.createElement(t.Fragment,null,o,e)}}var fn="cssVar";const mn=function(e,o){var n=e.key,i=e.prefix,r=e.unitless,s=e.ignore,a=e.token,c=e.scope,u=void 0===c?"":c,d=(0,t.useContext)(It),h=d.cache.instanceId,p=d.container,g=a._tokenKey,f=[].concat(l(e.path),[n,u,g]),m=so(fn,f,(function(){var e=o(),t=E(Qt(e,n,{prefix:i,unitless:r,ignore:s,scope:u}),2),a=t[0],l=t[1];return[a,l,dn(f,l),n]}),(function(e){var t=E(e,3)[2];$t&&Be(t,{mark:At})}),(function(e){var t=E(e,3),o=t[1],i=t[2];if(o){var r=We(o,i,{mark:At,prepend:"queue",attachTo:p,priority:-999});r[Ft]=h,r.setAttribute(Dt,n)}}));return m};var vn;O(vn={},pn,(function(e,t,o){var n=E(e,6),i=n[0],r=n[1],s=n[2],a=n[3],l=n[4],c=n[5],u=(o||{}).plain;if(l)return null;var d=i,h={"data-rc-order":"prependQueue","data-rc-priority":"".concat(c)};return d=Yt(i,r,s,h,u),a&&Object.keys(a).forEach((function(e){if(!t[e]){t[e]=!0;var o=Yt(ln(a[e]),r,"_effect-".concat(e),h,u);e.startsWith("@layer")?d=o+d:d+=o}})),[c,s,d]})),O(vn,ho,(function(e,t,o){var n=E(e,5),i=n[2],r=n[3],s=n[4],a=(o||{}).plain;if(!r)return null;var l=i._tokenKey;return[-999,l,Yt(r,s,l,{"data-rc-order":"prependQueue","data-rc-priority":"".concat(-999)},a)]})),O(vn,fn,(function(e,t,o){var n=E(e,4),i=n[1],r=n[2],s=n[3],a=(o||{}).plain;if(!i)return null;return[-999,r,Yt(i,s,r,{"data-rc-order":"prependQueue","data-rc-priority":"".concat(-999)},a)]}));var yn=function(){function e(t,o){Et(this,e),O(this,"name",void 0),O(this,"style",void 0),O(this,"_keyframe",!0),this.name=t,this.style=o}return Pt(e,[{key:"getName",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e?"".concat(e,"-").concat(this.name):this.name}}]),e}();const Cn=yn;function wn(e){return e.notSplit=!0,e}wn(["borderTop","borderBottom"]),wn(["borderTop"]),wn(["borderBottom"]),wn(["borderLeft","borderRight"]),wn(["borderLeft"]),wn(["borderRight"]);function bn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Sn(e,t){return Sn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Sn(e,t)}function En(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Sn(e,t)}function Rn(e){return Rn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Rn(e)}function Pn(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Pn=function(){return!!e})()}function On(e){var t=Pn();return function(){var o,n=Rn(e);if(t){var i=Rn(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return function(e,t){if(t&&("object"==R(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return bn(e)}(this,o)}}const xn=Pt((function e(){Et(this,e)}));var Tn="CALC_UNIT",Dn=new RegExp(Tn,"g");function An(e){return"number"===typeof e?"".concat(e).concat(Tn):e}var Fn=function(e){En(o,e);var t=On(o);function o(e,n){var i;Et(this,o),O(bn(i=t.call(this)),"result",""),O(bn(i),"unitlessCssVar",void 0),O(bn(i),"lowPriority",void 0);var r=R(e);return i.unitlessCssVar=n,e instanceof o?i.result="(".concat(e.result,")"):"number"===r?i.result=An(e):"string"===r&&(i.result=e),i}return Pt(o,[{key:"add",value:function(e){return e instanceof o?this.result="".concat(this.result," + ").concat(e.getResult()):"number"!==typeof e&&"string"!==typeof e||(this.result="".concat(this.result," + ").concat(An(e))),this.lowPriority=!0,this}},{key:"sub",value:function(e){return e instanceof o?this.result="".concat(this.result," - ").concat(e.getResult()):"number"!==typeof e&&"string"!==typeof e||(this.result="".concat(this.result," - ").concat(An(e))),this.lowPriority=!0,this}},{key:"mul",value:function(e){return this.lowPriority&&(this.result="(".concat(this.result,")")),e instanceof o?this.result="".concat(this.result," * ").concat(e.getResult(!0)):"number"!==typeof e&&"string"!==typeof e||(this.result="".concat(this.result," * ").concat(e)),this.lowPriority=!1,this}},{key:"div",value:function(e){return this.lowPriority&&(this.result="(".concat(this.result,")")),e instanceof o?this.result="".concat(this.result," / ").concat(e.getResult(!0)):"number"!==typeof e&&"string"!==typeof e||(this.result="".concat(this.result," / ").concat(e)),this.lowPriority=!1,this}},{key:"getResult",value:function(e){return this.lowPriority||e?"(".concat(this.result,")"):this.result}},{key:"equal",value:function(e){var t=this,o=(e||{}).unit,n=!0;return"boolean"===typeof o?n=o:Array.from(this.unitlessCssVar).some((function(e){return t.result.includes(e)}))&&(n=!1),this.result=this.result.replace(Dn,n?"px":""),"undefined"!==typeof this.lowPriority?"calc(".concat(this.result,")"):this.result}}]),o}(xn);const _n=function(e){En(o,e);var t=On(o);function o(e){var n;return Et(this,o),O(bn(n=t.call(this)),"result",0),e instanceof o?n.result=e.result:"number"===typeof e&&(n.result=e),n}return Pt(o,[{key:"add",value:function(e){return e instanceof o?this.result+=e.result:"number"===typeof e&&(this.result+=e),this}},{key:"sub",value:function(e){return e instanceof o?this.result-=e.result:"number"===typeof e&&(this.result-=e),this}},{key:"mul",value:function(e){return e instanceof o?this.result*=e.result:"number"===typeof e&&(this.result*=e),this}},{key:"div",value:function(e){return e instanceof o?this.result/=e.result:"number"===typeof e&&(this.result/=e),this}},{key:"equal",value:function(){return this.result}}]),o}(xn);const Mn=function(e,t){var o="css"===e?Fn:_n;return function(e){return new o(e,t)}};const In=function(e,t){return"".concat([t,e.replace(/([A-Z]+)([A-Z][a-z]+)/g,"$1-$2").replace(/([a-z])([A-Z])/g,"$1-$2")].filter(Boolean).join("-"))};function Ln(e){var o=t.useRef();o.current=e;var n=t.useCallback((function(){for(var e,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return null===(e=o.current)||void 0===e?void 0:e.call.apply(e,[o].concat(n))}),[]);return n}function Nn(e){var o=t.useRef(!1),n=E(t.useState(e),2),i=n[0],r=n[1];return t.useEffect((function(){return o.current=!1,function(){o.current=!0}}),[]),[i,function(e,t){t&&o.current||r(e)}]}function kn(e){return void 0!==e}function Gn(e,t){var o=t||{},n=o.defaultValue,i=o.value,r=o.onChange,s=o.postState,a=E(Nn((function(){return kn(i)?i:kn(n)?"function"===typeof n?n():n:"function"===typeof e?e():e})),2),l=a[0],c=a[1],u=void 0!==i?i:l,d=s?s(u):u,h=Ln(r),p=E(Nn([u]),2),g=p[0],f=p[1];return eo((function(){var e=g[0];l!==e&&h(l,e)}),[g]),eo((function(){kn(i)||c(i)}),[i]),[d,Ln((function(e,t){c(e,t),f([u],t)}))]}var Vn=function(e,t){"function"===typeof e?e(t):"object"===R(e)&&e&&"current"in e&&(e.current=t)},Hn=function(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];var n=t.filter(Boolean);return n.length<=1?n[0]:function(e){t.forEach((function(t){Vn(t,e)}))}},Bn=function(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];return bt((function(){return Hn.apply(void 0,t)}),t,(function(e,t){return e.length!==t.length||e.every((function(e,o){return e!==t[o]}))}))},Wn=function(e){var t,o,n=(0,v.isMemo)(e)?e.type.type:e.type;return!!("function"!==typeof n||null!==(t=n.prototype)&&void 0!==t&&t.render||n.$$typeof===v.ForwardRef)&&!!("function"!==typeof e||null!==(o=e.prototype)&&void 0!==o&&o.render||e.$$typeof===v.ForwardRef)};function jn(e){return(0,t.isValidElement)(e)&&!(0,v.isFragment)(e)}Number(t.version.split(".")[0]);function zn(e,t){for(var o=e,n=0;n<t.length;n+=1){if(null===o||void 0===o)return;o=o[t[n]]}return o}function Un(e,t,o,n){if(!t.length)return o;var i,r,c=b(i=t)||s(i)||a(i)||S(),u=c[0],d=c.slice(1);return r=e||"number"!==typeof u?Array.isArray(e)?l(e):Ae({},e):[],n&&void 0===o&&1===d.length?delete r[u][d[0]]:r[u]=Un(r[u],d,o,n),r}function $n(e,t,o){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return t.length&&n&&void 0===o&&!zn(e,t.slice(0,-1))?e:Un(e,t,o,n)}function Kn(e){return Array.isArray(e)?[]:{}}var Yn="undefined"===typeof Reflect?Object.keys:Reflect.ownKeys;function qn(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];var n=Kn(t[0]);return t.forEach((function(e){!function t(o,i){var r,s=new Set(i),a=zn(e,o),c=Array.isArray(a);if(c||"object"===R(r=a)&&null!==r&&Object.getPrototypeOf(r)===Object.prototype){if(!s.has(a)){s.add(a);var u=zn(n,o);c?n=$n(n,o,[]):u&&"object"===R(u)||(n=$n(n,o,Kn(a))),Yn(a).forEach((function(e){t([].concat(l(o),[e]),s)}))}}else n=$n(n,o,a)}([])})),n}const Xn=function(e,t,o,n){var i=Ae({},t[e]);null!==n&&void 0!==n&&n.deprecatedTokens&&n.deprecatedTokens.forEach((function(e){var t,o=E(e,2),n=o[0],r=o[1];(null!==i&&void 0!==i&&i[n]||null!==i&&void 0!==i&&i[r])&&(null!==(t=i[r])&&void 0!==t||(i[r]=null===i||void 0===i?void 0:i[n]))}));var r=Ae(Ae({},o),i);return Object.keys(r).forEach((function(e){r[e]===t[e]&&delete r[e]})),r};var Qn="undefined"!==typeof CSSINJS_STATISTIC,Zn=!0;function Jn(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];if(!Qn)return Object.assign.apply(Object,[{}].concat(t));Zn=!1;var n={};return t.forEach((function(e){"object"===R(e)&&Object.keys(e).forEach((function(t){Object.defineProperty(n,t,{configurable:!0,enumerable:!0,get:function(){return e[t]}})}))})),Zn=!0,n}var ei={};function ti(){}const oi=function(e){var t,o=e,n=ti;return Qn&&"undefined"!==typeof Proxy&&(t=new Set,o=new Proxy(e,{get:function(e,o){var n;Zn&&(null===(n=t)||void 0===n||n.add(o));return e[o]}}),n=function(e,o){var n;ei[e]={global:Array.from(t),component:Ae(Ae({},null===(n=ei[e])||void 0===n?void 0:n.component),o)}}),{token:o,keys:t,flush:n}};const ni=function(e,t,o){var n;return"function"===typeof o?o(Jn(t,null!==(n=t[e])&&void 0!==n?n:{})):null!==o&&void 0!==o?o:{}};const ii=function(e){return"js"===e?{max:Math.max,min:Math.min}:{max:function(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];return"max(".concat(t.map((function(e){return Kt(e)})).join(","),")")},min:function(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];return"min(".concat(t.map((function(e){return Kt(e)})).join(","),")")}}};var ri=function(){function e(){Et(this,e),O(this,"map",new Map),O(this,"objectIDMap",new WeakMap),O(this,"nextID",0),O(this,"lastAccessBeat",new Map),O(this,"accessBeat",0)}return Pt(e,[{key:"set",value:function(e,t){this.clear();var o=this.getCompositeKey(e);this.map.set(o,t),this.lastAccessBeat.set(o,Date.now())}},{key:"get",value:function(e){var t=this.getCompositeKey(e),o=this.map.get(t);return this.lastAccessBeat.set(t,Date.now()),this.accessBeat+=1,o}},{key:"getCompositeKey",value:function(e){var t=this;return e.map((function(e){return e&&"object"===R(e)?"obj_".concat(t.getObjectID(e)):"".concat(R(e),"_").concat(e)})).join("|")}},{key:"getObjectID",value:function(e){if(this.objectIDMap.has(e))return this.objectIDMap.get(e);var t=this.nextID;return this.objectIDMap.set(e,t),this.nextID+=1,t}},{key:"clear",value:function(){var e=this;if(this.accessBeat>1e4){var t=Date.now();this.lastAccessBeat.forEach((function(o,n){t-o>6e5&&(e.map.delete(n),e.lastAccessBeat.delete(n))})),this.accessBeat=0}}}]),e}(),si=new ri;const ai=function(e,o){return t.useMemo((function(){var t=si.get(o);if(t)return t;var n=e();return si.set(o,n),n}),o)};const li=function(){return{}};const ci=function(e){var o=e.useCSP,n=void 0===o?li:o,i=e.useToken,r=e.usePrefix,s=e.getResetStyles,a=e.getCommonStyle,l=e.getCompUnitless;function c(t,o,l){var c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},u=Array.isArray(t)?t:[t,t],d=E(u,1)[0],h=u.join("-"),p=e.layer||{name:"antd"};return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,u=i(),g=u.theme,f=u.realToken,m=u.hashId,v=u.token,y=u.cssVar,C=r(),w=C.rootPrefixCls,b=C.iconPrefixCls,S=n(),E=y?"css":"js",P=ai((function(){var e=new Set;return y&&Object.keys(c.unitless||{}).forEach((function(t){e.add(qt(t,y.prefix)),e.add(qt(t,In(d,y.prefix)))})),Mn(E,e)}),[E,d,null===y||void 0===y?void 0:y.prefix]),O=ii(E),x=O.max,T=O.min,D={theme:g,token:v,hashId:m,nonce:function(){return S.nonce},clientOnly:c.clientOnly,layer:p,order:c.order||-999};return"function"===typeof s&&gn(Ae(Ae({},D),{},{clientOnly:!1,path:["Shared",w]}),(function(){return s(v,{prefix:{rootPrefixCls:w,iconPrefixCls:b},csp:S})})),[gn(Ae(Ae({},D),{},{path:[h,e,b]}),(function(){if(!1===c.injectStyle)return[];var n=oi(v),i=n.token,r=n.flush,s=ni(d,f,l),u=".".concat(e),h=Xn(d,f,s,{deprecatedTokens:c.deprecatedTokens});y&&s&&"object"===R(s)&&Object.keys(s).forEach((function(e){s[e]="var(".concat(qt(e,In(d,y.prefix)),")")}));var p=Jn(i,{componentCls:u,prefixCls:e,iconCls:".".concat(b),antCls:".".concat(w),calc:P,max:x,min:T},y?s:h),g=o(p,{hashId:m,prefixCls:e,rootPrefixCls:w,iconPrefixCls:b});r(d,h);var C="function"===typeof a?a(p,e,t,c.resetFont):null;return[!1===c.resetStyle?null:C,g]})),m]}}return{genStyleHooks:function(e,o,n,r){var s=Array.isArray(e)?e[0]:e;function a(e){return"".concat(String(s)).concat(e.slice(0,1).toUpperCase()).concat(e.slice(1))}var u=(null===r||void 0===r?void 0:r.unitless)||{},d=Ae(Ae({},"function"===typeof l?l(e):{}),{},O({},a("zIndexPopup"),!0));Object.keys(u).forEach((function(e){d[a(e)]=u[e]}));var h=Ae(Ae({},r),{},{unitless:d,prefixToken:a}),p=c(e,o,n,h),g=function(e,o,n){var r=n.unitless,s=n.injectStyle,a=void 0===s||s,l=n.prefixToken,c=n.ignore,u=function(t){var s=t.rootCls,a=t.cssVar,u=void 0===a?{}:a,d=i().realToken;return mn({path:[e],prefix:u.prefix,key:u.key,unitless:r,ignore:c,token:d,scope:s},(function(){var t=ni(e,d,o),i=Xn(e,d,t,{deprecatedTokens:null===n||void 0===n?void 0:n.deprecatedTokens});return Object.keys(t).forEach((function(e){i[l(e)]=i[e],delete i[e]})),i})),null},d=function(o){var n=i().cssVar;return[function(i){return a&&n?t.createElement(t.Fragment,null,t.createElement(u,{rootCls:o,cssVar:n,component:e}),i):i},null===n||void 0===n?void 0:n.key]};return d}(s,n,h);return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,o=E(p(e,t),2)[1],n=E(g(t),2);return[n[0],o,n[1]]}},genSubStyleComponent:function(e,t,o){var n=c(e,t,o,Ae({resetStyle:!1,order:-998},arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}));return function(e){var t=e.prefixCls,o=e.rootCls;return n(t,void 0===o?t:o),null}},genComponentStyleHook:c}},ui={overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},di=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{boxSizing:"border-box",margin:0,padding:0,color:e.colorText,fontSize:e.fontSize,lineHeight:e.lineHeight,listStyle:"none",fontFamily:t?"inherit":e.fontFamily}},hi=e=>({a:{color:e.colorLink,textDecoration:e.linkDecoration,backgroundColor:"transparent",outline:"none",cursor:"pointer",transition:`color ${e.motionDurationSlow}`,"-webkit-text-decoration-skip":"objects","&:hover":{color:e.colorLinkHover},"&:active":{color:e.colorLinkActive},"&:active, &:hover":{textDecoration:e.linkHoverDecoration,outline:0},"&:focus":{textDecoration:e.linkFocusDecoration,outline:0},"&[disabled]":{color:e.colorTextDisabled,cursor:"not-allowed"}}}),pi=e=>({outline:`${Kt(e.lineWidthFocus)} solid ${e.colorPrimaryBorder}`,outlineOffset:1,transition:"outline-offset 0s, outline 0s"}),gi=e=>({"&:focus-visible":Object.assign({},pi(e))}),fi={blue:"#1677FF",purple:"#722ED1",cyan:"#13C2C2",green:"#52C41A",magenta:"#EB2F96",pink:"#EB2F96",red:"#F5222D",orange:"#FA8C16",yellow:"#FADB14",volcano:"#FA541C",geekblue:"#2F54EB",gold:"#FAAD14",lime:"#A0D911"},mi=Object.assign(Object.assign({},fi),{colorPrimary:"#1677ff",colorSuccess:"#52c41a",colorWarning:"#faad14",colorError:"#ff4d4f",colorInfo:"#1677ff",colorLink:"",colorTextBase:"",colorBgBase:"",fontFamily:"-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial,\n'Noto Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol',\n'Noto Color Emoji'",fontFamilyCode:"'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, Courier, monospace",fontSize:14,lineWidth:1,lineType:"solid",motionUnit:.1,motionBase:0,motionEaseOutCirc:"cubic-bezier(0.08, 0.82, 0.17, 1)",motionEaseInOutCirc:"cubic-bezier(0.78, 0.14, 0.15, 0.86)",motionEaseOut:"cubic-bezier(0.215, 0.61, 0.355, 1)",motionEaseInOut:"cubic-bezier(0.645, 0.045, 0.355, 1)",motionEaseOutBack:"cubic-bezier(0.12, 0.4, 0.29, 1.46)",motionEaseInBack:"cubic-bezier(0.71, -0.46, 0.88, 0.6)",motionEaseInQuint:"cubic-bezier(0.755, 0.05, 0.855, 0.06)",motionEaseOutQuint:"cubic-bezier(0.23, 1, 0.32, 1)",borderRadius:6,sizeUnit:4,sizeStep:4,sizePopupArrow:16,controlHeight:32,zIndexBase:0,zIndexPopupBase:1e3,opacityImage:1,wireframe:!1,motion:!0});var vi=function(){function e(t,o){var n;if(void 0===t&&(t=""),void 0===o&&(o={}),t instanceof e)return t;"number"===typeof t&&(t=function(e){return{r:e>>16,g:(65280&e)>>8,b:255&e}}(t)),this.originalInput=t;var i=B(t);this.originalInput=t,this.r=i.r,this.g=i.g,this.b=i.b,this.a=i.a,this.roundA=Math.round(100*this.a)/100,this.format=null!==(n=o.format)&&void 0!==n?n:i.format,this.gradientType=o.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=i.ok}return e.prototype.isDark=function(){return this.getBrightness()<128},e.prototype.isLight=function(){return!this.isDark()},e.prototype.getBrightness=function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},e.prototype.getLuminance=function(){var e=this.toRgb(),t=e.r/255,o=e.g/255,n=e.b/255;return.2126*(t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4))+.7152*(o<=.03928?o/12.92:Math.pow((o+.055)/1.055,2.4))+.0722*(n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4))},e.prototype.getAlpha=function(){return this.a},e.prototype.setAlpha=function(e){return this.a=A(e),this.roundA=Math.round(100*this.a)/100,this},e.prototype.isMonochrome=function(){return 0===this.toHsl().s},e.prototype.toHsv=function(){var e=L(this.r,this.g,this.b);return{h:360*e.h,s:e.s,v:e.v,a:this.a}},e.prototype.toHsvString=function(){var e=L(this.r,this.g,this.b),t=Math.round(360*e.h),o=Math.round(100*e.s),n=Math.round(100*e.v);return 1===this.a?"hsv(".concat(t,", ").concat(o,"%, ").concat(n,"%)"):"hsva(".concat(t,", ").concat(o,"%, ").concat(n,"%, ").concat(this.roundA,")")},e.prototype.toHsl=function(){var e=M(this.r,this.g,this.b);return{h:360*e.h,s:e.s,l:e.l,a:this.a}},e.prototype.toHslString=function(){var e=M(this.r,this.g,this.b),t=Math.round(360*e.h),o=Math.round(100*e.s),n=Math.round(100*e.l);return 1===this.a?"hsl(".concat(t,", ").concat(o,"%, ").concat(n,"%)"):"hsla(".concat(t,", ").concat(o,"%, ").concat(n,"%, ").concat(this.roundA,")")},e.prototype.toHex=function(e){return void 0===e&&(e=!1),N(this.r,this.g,this.b,e)},e.prototype.toHexString=function(e){return void 0===e&&(e=!1),"#"+this.toHex(e)},e.prototype.toHex8=function(e){return void 0===e&&(e=!1),function(e,t,o,n,i){var r=[_(Math.round(e).toString(16)),_(Math.round(t).toString(16)),_(Math.round(o).toString(16)),_(k(n))];return i&&r[0].startsWith(r[0].charAt(1))&&r[1].startsWith(r[1].charAt(1))&&r[2].startsWith(r[2].charAt(1))&&r[3].startsWith(r[3].charAt(1))?r[0].charAt(0)+r[1].charAt(0)+r[2].charAt(0)+r[3].charAt(0):r.join("")}(this.r,this.g,this.b,this.a,e)},e.prototype.toHex8String=function(e){return void 0===e&&(e=!1),"#"+this.toHex8(e)},e.prototype.toHexShortString=function(e){return void 0===e&&(e=!1),1===this.a?this.toHexString(e):this.toHex8String(e)},e.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},e.prototype.toRgbString=function(){var e=Math.round(this.r),t=Math.round(this.g),o=Math.round(this.b);return 1===this.a?"rgb(".concat(e,", ").concat(t,", ").concat(o,")"):"rgba(".concat(e,", ").concat(t,", ").concat(o,", ").concat(this.roundA,")")},e.prototype.toPercentageRgb=function(){var e=function(e){return"".concat(Math.round(100*T(e,255)),"%")};return{r:e(this.r),g:e(this.g),b:e(this.b),a:this.a}},e.prototype.toPercentageRgbString=function(){var e=function(e){return Math.round(100*T(e,255))};return 1===this.a?"rgb(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%)"):"rgba(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%, ").concat(this.roundA,")")},e.prototype.toName=function(){if(0===this.a)return"transparent";if(this.a<1)return!1;for(var e="#"+N(this.r,this.g,this.b,!1),t=0,o=Object.entries(H);t<o.length;t++){var n=o[t],i=n[0];if(e===n[1])return i}return!1},e.prototype.toString=function(e){var t=Boolean(e);e=null!==e&&void 0!==e?e:this.format;var o=!1,n=this.a<1&&this.a>=0;return t||!n||!e.startsWith("hex")&&"name"!==e?("rgb"===e&&(o=this.toRgbString()),"prgb"===e&&(o=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(o=this.toHexString()),"hex3"===e&&(o=this.toHexString(!0)),"hex4"===e&&(o=this.toHex8String(!0)),"hex8"===e&&(o=this.toHex8String()),"name"===e&&(o=this.toName()),"hsl"===e&&(o=this.toHslString()),"hsv"===e&&(o=this.toHsvString()),o||this.toHexString()):"name"===e&&0===this.a?this.toName():this.toRgbString()},e.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},e.prototype.clone=function(){return new e(this.toString())},e.prototype.lighten=function(t){void 0===t&&(t=10);var o=this.toHsl();return o.l+=t/100,o.l=D(o.l),new e(o)},e.prototype.brighten=function(t){void 0===t&&(t=10);var o=this.toRgb();return o.r=Math.max(0,Math.min(255,o.r-Math.round(-t/100*255))),o.g=Math.max(0,Math.min(255,o.g-Math.round(-t/100*255))),o.b=Math.max(0,Math.min(255,o.b-Math.round(-t/100*255))),new e(o)},e.prototype.darken=function(t){void 0===t&&(t=10);var o=this.toHsl();return o.l-=t/100,o.l=D(o.l),new e(o)},e.prototype.tint=function(e){return void 0===e&&(e=10),this.mix("white",e)},e.prototype.shade=function(e){return void 0===e&&(e=10),this.mix("black",e)},e.prototype.desaturate=function(t){void 0===t&&(t=10);var o=this.toHsl();return o.s-=t/100,o.s=D(o.s),new e(o)},e.prototype.saturate=function(t){void 0===t&&(t=10);var o=this.toHsl();return o.s+=t/100,o.s=D(o.s),new e(o)},e.prototype.greyscale=function(){return this.desaturate(100)},e.prototype.spin=function(t){var o=this.toHsl(),n=(o.h+t)%360;return o.h=n<0?360+n:n,new e(o)},e.prototype.mix=function(t,o){void 0===o&&(o=50);var n=this.toRgb(),i=new e(t).toRgb(),r=o/100;return new e({r:(i.r-n.r)*r+n.r,g:(i.g-n.g)*r+n.g,b:(i.b-n.b)*r+n.b,a:(i.a-n.a)*r+n.a})},e.prototype.analogous=function(t,o){void 0===t&&(t=6),void 0===o&&(o=30);var n=this.toHsl(),i=360/o,r=[this];for(n.h=(n.h-(i*t>>1)+720)%360;--t;)n.h=(n.h+i)%360,r.push(new e(n));return r},e.prototype.complement=function(){var t=this.toHsl();return t.h=(t.h+180)%360,new e(t)},e.prototype.monochromatic=function(t){void 0===t&&(t=6);for(var o=this.toHsv(),n=o.h,i=o.s,r=o.v,s=[],a=1/t;t--;)s.push(new e({h:n,s:i,v:r})),r=(r+a)%1;return s},e.prototype.splitcomplement=function(){var t=this.toHsl(),o=t.h;return[this,new e({h:(o+72)%360,s:t.s,l:t.l}),new e({h:(o+216)%360,s:t.s,l:t.l})]},e.prototype.onBackground=function(t){var o=this.toRgb(),n=new e(t).toRgb(),i=o.a+n.a*(1-o.a);return new e({r:(o.r*o.a+n.r*n.a*(1-o.a))/i,g:(o.g*o.a+n.g*n.a*(1-o.a))/i,b:(o.b*o.a+n.b*n.a*(1-o.a))/i,a:i})},e.prototype.triad=function(){return this.polyad(3)},e.prototype.tetrad=function(){return this.polyad(4)},e.prototype.polyad=function(t){for(var o=this.toHsl(),n=o.h,i=[this],r=360/t,s=1;s<t;s++)i.push(new e({h:(n+s*r)%360,s:o.s,l:o.l}));return i},e.prototype.equals=function(t){return this.toRgbString()===new e(t).toRgbString()},e}();function yi(e,t){let{generateColorPalettes:o,generateNeutralColorPalettes:n}=t;const{colorSuccess:i,colorWarning:r,colorError:s,colorInfo:a,colorPrimary:l,colorBgBase:c,colorTextBase:u}=e,d=o(l),h=o(i),p=o(r),g=o(s),f=o(a),m=n(c,u),v=o(e.colorLink||e.colorInfo),y=new vi(g[1]).mix(new vi(g[3]),50).toHexString();return Object.assign(Object.assign({},m),{colorPrimaryBg:d[1],colorPrimaryBgHover:d[2],colorPrimaryBorder:d[3],colorPrimaryBorderHover:d[4],colorPrimaryHover:d[5],colorPrimary:d[6],colorPrimaryActive:d[7],colorPrimaryTextHover:d[8],colorPrimaryText:d[9],colorPrimaryTextActive:d[10],colorSuccessBg:h[1],colorSuccessBgHover:h[2],colorSuccessBorder:h[3],colorSuccessBorderHover:h[4],colorSuccessHover:h[4],colorSuccess:h[6],colorSuccessActive:h[7],colorSuccessTextHover:h[8],colorSuccessText:h[9],colorSuccessTextActive:h[10],colorErrorBg:g[1],colorErrorBgHover:g[2],colorErrorBgFilledHover:y,colorErrorBgActive:g[3],colorErrorBorder:g[3],colorErrorBorderHover:g[4],colorErrorHover:g[5],colorError:g[6],colorErrorActive:g[7],colorErrorTextHover:g[8],colorErrorText:g[9],colorErrorTextActive:g[10],colorWarningBg:p[1],colorWarningBgHover:p[2],colorWarningBorder:p[3],colorWarningBorderHover:p[4],colorWarningHover:p[4],colorWarning:p[6],colorWarningActive:p[7],colorWarningTextHover:p[8],colorWarningText:p[9],colorWarningTextActive:p[10],colorInfoBg:f[1],colorInfoBgHover:f[2],colorInfoBorder:f[3],colorInfoBorderHover:f[4],colorInfoHover:f[4],colorInfo:f[6],colorInfoActive:f[7],colorInfoTextHover:f[8],colorInfoText:f[9],colorInfoTextActive:f[10],colorLinkHover:v[4],colorLink:v[6],colorLinkActive:v[7],colorBgMask:new vi("#000").setAlpha(.45).toRgbString(),colorWhite:"#fff"})}const Ci=e=>{let t=e,o=e,n=e,i=e;return e<6&&e>=5?t=e+1:e<16&&e>=6?t=e+2:e>=16&&(t=16),e<7&&e>=5?o=4:e<8&&e>=7?o=5:e<14&&e>=8?o=6:e<16&&e>=14?o=7:e>=16&&(o=8),e<6&&e>=2?n=1:e>=6&&(n=2),e>4&&e<8?i=4:e>=8&&(i=6),{borderRadius:e,borderRadiusXS:n,borderRadiusSM:o,borderRadiusLG:t,borderRadiusOuter:i}};const wi=e=>{const{controlHeight:t}=e;return{controlHeightSM:.75*t,controlHeightXS:.5*t,controlHeightLG:1.25*t}};function bi(e){return(e+8)/e}const Si=e=>{const t=function(e){const t=new Array(10).fill(null).map(((t,o)=>{const n=o-1,i=e*Math.pow(Math.E,n/5),r=o>1?Math.floor(i):Math.ceil(i);return 2*Math.floor(r/2)}));return t[1]=e,t.map((e=>({size:e,lineHeight:bi(e)})))}(e),o=t.map((e=>e.size)),n=t.map((e=>e.lineHeight)),i=o[1],r=o[0],s=o[2],a=n[1],l=n[0],c=n[2];return{fontSizeSM:r,fontSize:i,fontSizeLG:s,fontSizeXL:o[3],fontSizeHeading1:o[6],fontSizeHeading2:o[5],fontSizeHeading3:o[4],fontSizeHeading4:o[3],fontSizeHeading5:o[2],lineHeight:a,lineHeightLG:c,lineHeightSM:l,fontHeight:Math.round(a*i),fontHeightLG:Math.round(c*s),fontHeightSM:Math.round(l*r),lineHeightHeading1:n[6],lineHeightHeading2:n[5],lineHeightHeading3:n[4],lineHeightHeading4:n[3],lineHeightHeading5:n[2]}};const Ei=(e,t)=>new vi(e).setAlpha(t).toRgbString(),Ri=(e,t)=>new vi(e).darken(t).toHexString(),Pi=e=>{const t=J(e);return{1:t[0],2:t[1],3:t[2],4:t[3],5:t[4],6:t[5],7:t[6],8:t[4],9:t[5],10:t[6]}},Oi=(e,t)=>{const o=e||"#fff",n=t||"#000";return{colorBgBase:o,colorTextBase:n,colorText:Ei(n,.88),colorTextSecondary:Ei(n,.65),colorTextTertiary:Ei(n,.45),colorTextQuaternary:Ei(n,.25),colorFill:Ei(n,.15),colorFillSecondary:Ei(n,.06),colorFillTertiary:Ei(n,.04),colorFillQuaternary:Ei(n,.02),colorBgSolid:Ei(n,1),colorBgSolidHover:Ei(n,.75),colorBgSolidActive:Ei(n,.95),colorBgLayout:Ri(o,4),colorBgContainer:Ri(o,0),colorBgElevated:Ri(o,0),colorBgSpotlight:Ei(n,.85),colorBgBlur:"transparent",colorBorder:Ri(o,15),colorBorderSecondary:Ri(o,6)}};function xi(e){ee.pink=ee.magenta,ge.pink=ge.magenta;const t=Object.keys(fi).map((t=>{const o=e[t]===ee[t]?ge[t]:J(e[t]);return new Array(10).fill(1).reduce(((e,n,i)=>(e[`${t}-${i+1}`]=o[i],e[`${t}${i+1}`]=o[i],e)),{})})).reduce(((e,t)=>e=Object.assign(Object.assign({},e),t)),{});return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},e),t),yi(e,{generateColorPalettes:Pi,generateNeutralColorPalettes:Oi})),Si(e.fontSize)),function(e){const{sizeUnit:t,sizeStep:o}=e;return{sizeXXL:t*(o+8),sizeXL:t*(o+4),sizeLG:t*(o+2),sizeMD:t*(o+1),sizeMS:t*o,size:t*o,sizeSM:t*(o-1),sizeXS:t*(o-2),sizeXXS:t*(o-3)}}(e)),wi(e)),function(e){const{motionUnit:t,motionBase:o,borderRadius:n,lineWidth:i}=e;return Object.assign({motionDurationFast:`${(o+t).toFixed(1)}s`,motionDurationMid:`${(o+2*t).toFixed(1)}s`,motionDurationSlow:`${(o+3*t).toFixed(1)}s`,lineWidthBold:i+1},Ci(n))}(e))}const Ti=Ht(xi),Di={token:mi,override:{override:mi},hashed:!0},Ai=t.createContext(Di);function Fi(e){return e>=0&&e<=255}const _i=function(e,t){const{r:o,g:n,b:i,a:r}=new vi(e).toRgb();if(r<1)return e;const{r:s,g:a,b:l}=new vi(t).toRgb();for(let c=.01;c<=1;c+=.01){const e=Math.round((o-s*(1-c))/c),t=Math.round((n-a*(1-c))/c),r=Math.round((i-l*(1-c))/c);if(Fi(e)&&Fi(t)&&Fi(r))return new vi({r:e,g:t,b:r,a:Math.round(100*c)/100}).toRgbString()}return new vi({r:o,g:n,b:i,a:1}).toRgbString()};var Mi=function(e,t){var o={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(o[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(o[n[i]]=e[n[i]])}return o};function Ii(e){const{override:t}=e,o=Mi(e,["override"]),n=Object.assign({},t);Object.keys(mi).forEach((e=>{delete n[e]}));const i=Object.assign(Object.assign({},o),n),r=1200,s=1600;if(!1===i.motion){const e="0s";i.motionDurationFast=e,i.motionDurationMid=e,i.motionDurationSlow=e}return Object.assign(Object.assign(Object.assign({},i),{colorFillContent:i.colorFillSecondary,colorFillContentHover:i.colorFill,colorFillAlter:i.colorFillQuaternary,colorBgContainerDisabled:i.colorFillTertiary,colorBorderBg:i.colorBgContainer,colorSplit:_i(i.colorBorderSecondary,i.colorBgContainer),colorTextPlaceholder:i.colorTextQuaternary,colorTextDisabled:i.colorTextQuaternary,colorTextHeading:i.colorText,colorTextLabel:i.colorTextSecondary,colorTextDescription:i.colorTextTertiary,colorTextLightSolid:i.colorWhite,colorHighlight:i.colorError,colorBgTextHover:i.colorFillSecondary,colorBgTextActive:i.colorFill,colorIcon:i.colorTextTertiary,colorIconHover:i.colorText,colorErrorOutline:_i(i.colorErrorBg,i.colorBgContainer),colorWarningOutline:_i(i.colorWarningBg,i.colorBgContainer),fontSizeIcon:i.fontSizeSM,lineWidthFocus:3*i.lineWidth,lineWidth:i.lineWidth,controlOutlineWidth:2*i.lineWidth,controlInteractiveSize:i.controlHeight/2,controlItemBgHover:i.colorFillTertiary,controlItemBgActive:i.colorPrimaryBg,controlItemBgActiveHover:i.colorPrimaryBgHover,controlItemBgActiveDisabled:i.colorFill,controlTmpOutline:i.colorFillQuaternary,controlOutline:_i(i.colorPrimaryBg,i.colorBgContainer),lineType:i.lineType,borderRadius:i.borderRadius,borderRadiusXS:i.borderRadiusXS,borderRadiusSM:i.borderRadiusSM,borderRadiusLG:i.borderRadiusLG,fontWeightStrong:600,opacityLoading:.65,linkDecoration:"none",linkHoverDecoration:"none",linkFocusDecoration:"none",controlPaddingHorizontal:12,controlPaddingHorizontalSM:8,paddingXXS:i.sizeXXS,paddingXS:i.sizeXS,paddingSM:i.sizeSM,padding:i.size,paddingMD:i.sizeMD,paddingLG:i.sizeLG,paddingXL:i.sizeXL,paddingContentHorizontalLG:i.sizeLG,paddingContentVerticalLG:i.sizeMS,paddingContentHorizontal:i.sizeMS,paddingContentVertical:i.sizeSM,paddingContentHorizontalSM:i.size,paddingContentVerticalSM:i.sizeXS,marginXXS:i.sizeXXS,marginXS:i.sizeXS,marginSM:i.sizeSM,margin:i.size,marginMD:i.sizeMD,marginLG:i.sizeLG,marginXL:i.sizeXL,marginXXL:i.sizeXXL,boxShadow:"\n      0 6px 16px 0 rgba(0, 0, 0, 0.08),\n      0 3px 6px -4px rgba(0, 0, 0, 0.12),\n      0 9px 28px 8px rgba(0, 0, 0, 0.05)\n    ",boxShadowSecondary:"\n      0 6px 16px 0 rgba(0, 0, 0, 0.08),\n      0 3px 6px -4px rgba(0, 0, 0, 0.12),\n      0 9px 28px 8px rgba(0, 0, 0, 0.05)\n    ",boxShadowTertiary:"\n      0 1px 2px 0 rgba(0, 0, 0, 0.03),\n      0 1px 6px -1px rgba(0, 0, 0, 0.02),\n      0 2px 4px 0 rgba(0, 0, 0, 0.02)\n    ",screenXS:480,screenXSMin:480,screenXSMax:575,screenSM:576,screenSMMin:576,screenSMMax:767,screenMD:768,screenMDMin:768,screenMDMax:991,screenLG:992,screenLGMin:992,screenLGMax:1199,screenXL:r,screenXLMin:r,screenXLMax:1599,screenXXL:s,screenXXLMin:s,boxShadowPopoverArrow:"2px 2px 5px rgba(0, 0, 0, 0.05)",boxShadowCard:`\n      0 1px 2px -2px ${new vi("rgba(0, 0, 0, 0.16)").toRgbString()},\n      0 3px 6px 0 ${new vi("rgba(0, 0, 0, 0.12)").toRgbString()},\n      0 5px 12px 4px ${new vi("rgba(0, 0, 0, 0.09)").toRgbString()}\n    `,boxShadowDrawerRight:"\n      -6px 0 16px 0 rgba(0, 0, 0, 0.08),\n      -3px 0 6px -4px rgba(0, 0, 0, 0.12),\n      -9px 0 28px 8px rgba(0, 0, 0, 0.05)\n    ",boxShadowDrawerLeft:"\n      6px 0 16px 0 rgba(0, 0, 0, 0.08),\n      3px 0 6px -4px rgba(0, 0, 0, 0.12),\n      9px 0 28px 8px rgba(0, 0, 0, 0.05)\n    ",boxShadowDrawerUp:"\n      0 6px 16px 0 rgba(0, 0, 0, 0.08),\n      0 3px 6px -4px rgba(0, 0, 0, 0.12),\n      0 9px 28px 8px rgba(0, 0, 0, 0.05)\n    ",boxShadowDrawerDown:"\n      0 -6px 16px 0 rgba(0, 0, 0, 0.08),\n      0 -3px 6px -4px rgba(0, 0, 0, 0.12),\n      0 -9px 28px 8px rgba(0, 0, 0, 0.05)\n    ",boxShadowTabsOverflowLeft:"inset 10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowRight:"inset -10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowTop:"inset 0 10px 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowBottom:"inset 0 -10px 8px -8px rgba(0, 0, 0, 0.08)"}),n)}var Li=function(e,t){var o={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(o[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(o[n[i]]=e[n[i]])}return o};const Ni={lineHeight:!0,lineHeightSM:!0,lineHeightLG:!0,lineHeightHeading1:!0,lineHeightHeading2:!0,lineHeightHeading3:!0,lineHeightHeading4:!0,lineHeightHeading5:!0,opacityLoading:!0,fontWeightStrong:!0,zIndexPopupBase:!0,zIndexBase:!0,opacityImage:!0},ki={size:!0,sizeSM:!0,sizeLG:!0,sizeMD:!0,sizeXS:!0,sizeXXS:!0,sizeMS:!0,sizeXL:!0,sizeXXL:!0,sizeUnit:!0,sizeStep:!0,motionBase:!0,motionUnit:!0},Gi={screenXS:!0,screenXSMin:!0,screenXSMax:!0,screenSM:!0,screenSMMin:!0,screenSMMax:!0,screenMD:!0,screenMDMin:!0,screenMDMax:!0,screenLG:!0,screenLGMin:!0,screenLGMax:!0,screenXL:!0,screenXLMin:!0,screenXLMax:!0,screenXXL:!0,screenXXLMin:!0},Vi=(e,t,o)=>{const n=o.getDerivativeToken(e),{override:i}=t,r=Li(t,["override"]);let s=Object.assign(Object.assign({},n),{override:i});return s=Ii(s),r&&Object.entries(r).forEach((e=>{let[t,o]=e;const{theme:n}=o,i=Li(o,["theme"]);let r=i;n&&(r=Vi(Object.assign(Object.assign({},s),i),{override:i},n)),s[t]=r})),s};function Hi(){const{token:e,hashed:o,theme:n,override:i,cssVar:r}=t.useContext(Ai),s=`5.22.3-${o||""}`,a=n||Ti,[l,c,u]=po(a,[mi,e],{salt:s,override:i,getComputedToken:Vi,formatToken:Ii,cssVar:r&&{prefix:r.prefix,key:r.key,unitless:Ni,ignore:ki,preserve:Gi}});return[a,u,o?c:"",l,r]}const Bi=(e,t)=>{const[o,n]=Hi();return gn({theme:o,token:n,hashId:"",path:["ant-design-icons",e],nonce:()=>null===t||void 0===t?void 0:t.nonce,layer:{name:"antd"}},(()=>[{[`.${e}`]:Object.assign(Object.assign({},{display:"inline-flex",alignItems:"center",color:"inherit",fontStyle:"normal",lineHeight:0,textAlign:"center",textTransform:"none",verticalAlign:"-0.125em",textRendering:"optimizeLegibility","-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale","> *":{lineHeight:1},svg:{display:"inline-block"}}),{[`.${e} .${e}-icon`]:{display:"block"}})}]))},{genStyleHooks:Wi,genComponentStyleHook:ji,genSubStyleComponent:zi}=ci({usePrefix:()=>{const{getPrefixCls:e,iconPrefixCls:o}=(0,t.useContext)(g);return{rootPrefixCls:e(),iconPrefixCls:o}},useToken:()=>{const[e,t,o,n,i]=Hi();return{theme:e,realToken:t,hashId:o,token:n,cssVar:i}},useCSP:()=>{const{csp:e,iconPrefixCls:o}=(0,t.useContext)(g);return Bi(o,e),null!==e&&void 0!==e?e:{}},getResetStyles:e=>[{"&":hi(e)}],getCommonStyle:(e,t,o,n)=>{const i=`[class^="${t}"], [class*=" ${t}"]`,r=o?`.${o}`:i,s={boxSizing:"border-box","&::before, &::after":{boxSizing:"border-box"}};let a={};return!1!==n&&(a={fontFamily:e.fontFamily,fontSize:e.fontSize}),{[r]:Object.assign(Object.assign(Object.assign({},a),s),{[i]:s})}},getCompUnitless:()=>Ni}),Ui=e=>{const{antCls:t,componentCls:o,colorText:n,footerBg:i,headerHeight:r,headerPadding:s,headerColor:a,footerPadding:l,fontSize:c,bodyBg:u,headerBg:d}=e;return{[o]:{display:"flex",flex:"auto",flexDirection:"column",minHeight:0,background:u,"&, *":{boxSizing:"border-box"},[`&${o}-has-sider`]:{flexDirection:"row",[`> ${o}, > ${o}-content`]:{width:0}},[`${o}-header, &${o}-footer`]:{flex:"0 0 auto"},"&-rtl":{direction:"rtl"}},[`${o}-header`]:{height:r,padding:s,color:a,lineHeight:Kt(r),background:d,[`${t}-menu`]:{lineHeight:"inherit"}},[`${o}-footer`]:{padding:l,color:n,fontSize:c,background:i},[`${o}-content`]:{flex:"auto",color:n,minHeight:0}}},$i=e=>{const{colorBgLayout:t,controlHeight:o,controlHeightLG:n,colorText:i,controlHeightSM:r,marginXXS:s,colorTextLightSolid:a,colorBgContainer:l}=e,c=1.25*n;return{colorBgHeader:"#001529",colorBgBody:t,colorBgTrigger:"#002140",bodyBg:t,headerBg:"#001529",headerHeight:2*o,headerPadding:`0 ${c}px`,headerColor:i,footerPadding:`${r}px ${c}px`,footerBg:t,siderBg:"#001529",triggerHeight:n+2*s,triggerBg:"#002140",triggerColor:a,zeroTriggerWidth:n,zeroTriggerHeight:n,lightSiderBg:l,lightTriggerBg:l,lightTriggerColor:i}},Ki=[["colorBgBody","bodyBg"],["colorBgHeader","headerBg"],["colorBgTrigger","triggerBg"]],Yi=Wi("Layout",(e=>[Ui(e)]),$i,{deprecatedTokens:Ki}),qi=e=>{const{componentCls:t,siderBg:o,motionDurationMid:n,motionDurationSlow:i,antCls:r,triggerHeight:s,triggerColor:a,triggerBg:l,headerHeight:c,zeroTriggerWidth:u,zeroTriggerHeight:d,borderRadius:h,lightSiderBg:p,lightTriggerColor:g,lightTriggerBg:f,bodyBg:m}=e;return{[t]:{position:"relative",minWidth:0,background:o,transition:`all ${n}, background 0s`,"&-has-trigger":{paddingBottom:s},"&-right":{order:1},[`${t}-children`]:{height:"100%",marginTop:-.1,paddingTop:.1,[`${r}-menu${r}-menu-inline-collapsed`]:{width:"auto"}},[`${t}-trigger`]:{position:"fixed",bottom:0,zIndex:1,height:s,color:a,lineHeight:Kt(s),textAlign:"center",background:l,cursor:"pointer",transition:`all ${n}`},"&-zero-width":{"> *":{overflow:"hidden"},"&-trigger":{position:"absolute",top:c,insetInlineEnd:e.calc(u).mul(-1).equal(),zIndex:1,width:u,height:d,color:a,fontSize:e.fontSizeXL,display:"flex",alignItems:"center",justifyContent:"center",background:o,borderStartStartRadius:0,borderStartEndRadius:h,borderEndEndRadius:h,borderEndStartRadius:0,cursor:"pointer",transition:`background ${i} ease`,"&::after":{position:"absolute",inset:0,background:"transparent",transition:`all ${i}`,content:'""'},"&:hover::after":{background:"rgba(255, 255, 255, 0.2)"},"&-right":{insetInlineStart:e.calc(u).mul(-1).equal(),borderStartStartRadius:h,borderStartEndRadius:0,borderEndEndRadius:0,borderEndStartRadius:h}}},"&-light":{background:p,[`${t}-trigger`]:{color:g,background:f},[`${t}-zero-width-trigger`]:{color:g,background:f,border:`1px solid ${m}`,borderInlineStart:0}}}}},Xi=Wi(["Layout","Sider"],(e=>[qi(e)]),$i,{deprecatedTokens:Ki});var Qi=function(e,t){var o={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(o[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(o[n[i]]=e[n[i]])}return o};const Zi={xs:"479.98px",sm:"575.98px",md:"767.98px",lg:"991.98px",xl:"1199.98px",xxl:"1599.98px"},Ji=t.createContext({}),er=(()=>{let e=0;return function(){return e+=1,`${arguments.length>0&&void 0!==arguments[0]?arguments[0]:""}${e}`}})(),tr=t.forwardRef(((e,o)=>{const{prefixCls:n,className:i,trigger:r,children:s,defaultCollapsed:a=!1,theme:l="dark",style:c={},collapsible:h=!1,reverseArrow:p=!1,width:f=200,collapsedWidth:v=80,zeroWidthTriggerStyle:y,breakpoint:C,onCollapse:w,onBreakpoint:b}=e,S=Qi(e,["prefixCls","className","trigger","children","defaultCollapsed","theme","style","collapsible","reverseArrow","width","collapsedWidth","zeroWidthTriggerStyle","breakpoint","onCollapse","onBreakpoint"]),{siderHook:E}=(0,t.useContext)(m),[R,P]=(0,t.useState)("collapsed"in e?e.collapsed:a),[O,x]=(0,t.useState)(!1);(0,t.useEffect)((()=>{"collapsed"in e&&P(e.collapsed)}),[e.collapsed]);const T=(t,o)=>{"collapsed"in e||P(t),null===w||void 0===w||w(t,o)},{getPrefixCls:D}=(0,t.useContext)(g),A=D("layout-sider",n),[F,_,M]=Xi(A),I=(0,t.useRef)();I.current=e=>{x(e.matches),null===b||void 0===b||b(e.matches),R!==e.matches&&T(e.matches,"responsive")},(0,t.useEffect)((()=>{function e(e){return I.current(e)}let t;if("undefined"!==typeof window){const{matchMedia:n}=window;if(n&&C&&C in Zi){t=n(`screen and (max-width: ${Zi[C]})`);try{t.addEventListener("change",e)}catch(o){t.addListener(e)}e(t)}}return()=>{try{null===t||void 0===t||t.removeEventListener("change",e)}catch(o){null===t||void 0===t||t.removeListener(e)}}}),[C]),(0,t.useEffect)((()=>{const e=er("ant-sider-");return E.addSider(e),()=>E.removeSider(e)}),[]);const L=()=>{T(!R,"clickTrigger")},N=t.useMemo((()=>({siderCollapsed:R})),[R]);return F(t.createElement(Ji.Provider,{value:N},(()=>{const e=d(S,["collapsed"]),n=R?v:f,a=Ct(n)?`${n}px`:String(n),g=0===parseFloat(String(v||0))?t.createElement("span",{onClick:L,className:u()(`${A}-zero-width-trigger`,`${A}-zero-width-trigger-${p?"right":"left"}`),style:y},r||t.createElement(ht,null)):null,m={expanded:p?t.createElement(yt,null):t.createElement(ft,null),collapsed:p?t.createElement(ft,null):t.createElement(yt,null)}[R?"collapsed":"expanded"],C=null!==r?g||t.createElement("div",{className:`${A}-trigger`,onClick:L,style:{width:a}},r||m):null,w=Object.assign(Object.assign({},c),{flex:`0 0 ${a}`,maxWidth:a,minWidth:a,width:a}),b=u()(A,`${A}-${l}`,{[`${A}-collapsed`]:!!R,[`${A}-has-trigger`]:h&&null!==r&&!g,[`${A}-below`]:!!O,[`${A}-zero-width`]:0===parseFloat(a)},i,_,M);return t.createElement("aside",Object.assign({className:b},e,{style:w,ref:o}),t.createElement("div",{className:`${A}-children`},s),h||O&&g?C:null)})()))}));const or=tr;var nr=function(e,t){var o={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(o[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(o[n[i]]=e[n[i]])}return o};function ir(e){let{suffixCls:o,tagName:n,displayName:i}=e;return e=>t.forwardRef(((i,r)=>t.createElement(e,Object.assign({ref:r,suffixCls:o,tagName:n},i))))}const rr=t.forwardRef(((e,o)=>{const{prefixCls:n,suffixCls:i,className:r,tagName:s}=e,a=nr(e,["prefixCls","suffixCls","className","tagName"]),{getPrefixCls:l}=t.useContext(g),c=l("layout",n),[d,h,p]=Yi(c),f=i?`${c}-${i}`:c;return d(t.createElement(s,Object.assign({className:u()(n||f,r,h,p),ref:o},a)))})),sr=t.forwardRef(((e,o)=>{const{direction:n}=t.useContext(g),[i,r]=t.useState([]),{prefixCls:s,className:a,rootClassName:c,children:h,hasSider:p,tagName:f,style:v}=e,C=d(nr(e,["prefixCls","className","rootClassName","children","hasSider","tagName","style"]),["suffixCls"]),{getPrefixCls:w,layout:b}=t.useContext(g),S=w("layout",s),E=function(e,t,o){return"boolean"===typeof o?o:!!e.length||y(t).some((e=>e.type===or))}(i,h,p),[R,P,O]=Yi(S),x=u()(S,{[`${S}-has-sider`]:E,[`${S}-rtl`]:"rtl"===n},null===b||void 0===b?void 0:b.className,a,c,P,O),T=t.useMemo((()=>({siderHook:{addSider:e=>{r((t=>[].concat(l(t),[e])))},removeSider:e=>{r((t=>t.filter((t=>t!==e))))}}})),[]);return R(t.createElement(m.Provider,{value:T},t.createElement(f,Object.assign({ref:o,className:x,style:Object.assign(Object.assign({},null===b||void 0===b?void 0:b.style),v)},C),h)))})),ar=ir({tagName:"div",displayName:"Layout"})(sr),lr=ir({suffixCls:"header",tagName:"header",displayName:"Header"})(rr),cr=ir({suffixCls:"footer",tagName:"footer",displayName:"Footer"})(rr),ur=ir({suffixCls:"content",tagName:"main",displayName:"Content"})(rr),dr=ar;dr.Header=lr,dr.Footer=cr,dr.Content=ur,dr.Sider=or,dr._InternalSiderContext=Ji;const hr=dr,pr=e=>{const t=(null===e||void 0===e?void 0:e.algorithm)?Ht(e.algorithm):Ht(xi),o=Object.assign(Object.assign({},mi),null===e||void 0===e?void 0:e.token);return uo(o,{override:null===e||void 0===e?void 0:e.token},t,Ii)};const gr=(e,t)=>{const o=null!==t&&void 0!==t?t:xi(e),n=o.fontSizeSM,i=o.controlHeight-4;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},o),function(e){const{sizeUnit:t,sizeStep:o}=e,n=o-2;return{sizeXXL:t*(n+10),sizeXL:t*(n+6),sizeLG:t*(n+2),sizeMD:t*(n+2),sizeMS:t*(n+1),size:t*n,sizeSM:t*n,sizeXS:t*(n-1),sizeXXS:t*(n-1)}}(null!==t&&void 0!==t?t:e)),Si(n)),{controlHeight:i}),wi(Object.assign(Object.assign({},o),{controlHeight:i})))},fr=(e,t)=>new vi(e).setAlpha(t).toRgbString(),mr=(e,t)=>new vi(e).lighten(t).toHexString(),vr=e=>{const t=J(e,{theme:"dark"});return{1:t[0],2:t[1],3:t[2],4:t[3],5:t[6],6:t[5],7:t[4],8:t[6],9:t[5],10:t[4]}},yr=(e,t)=>{const o=e||"#000",n=t||"#fff";return{colorBgBase:o,colorTextBase:n,colorText:fr(n,.85),colorTextSecondary:fr(n,.65),colorTextTertiary:fr(n,.45),colorTextQuaternary:fr(n,.25),colorFill:fr(n,.18),colorFillSecondary:fr(n,.12),colorFillTertiary:fr(n,.08),colorFillQuaternary:fr(n,.04),colorBgSolid:fr(n,.95),colorBgSolidHover:fr(n,1),colorBgSolidActive:fr(n,.9),colorBgElevated:mr(o,12),colorBgContainer:mr(o,8),colorBgLayout:mr(o,0),colorBgSpotlight:mr(o,26),colorBgBlur:fr(n,.04),colorBorder:mr(o,26),colorBorderSecondary:mr(o,19)}},Cr=(e,t)=>{const o=Object.keys(fi).map((t=>{const o=J(e[t],{theme:"dark"});return new Array(10).fill(1).reduce(((e,n,i)=>(e[`${t}-${i+1}`]=o[i],e[`${t}${i+1}`]=o[i],e)),{})})).reduce(((e,t)=>e=Object.assign(Object.assign({},e),t)),{}),n=null!==t&&void 0!==t?t:xi(e);return Object.assign(Object.assign(Object.assign({},n),o),yi(e,{generateColorPalettes:vr,generateNeutralColorPalettes:yr}))};const wr={defaultSeed:Di.token,useToken:function(){const[e,t,o]=Hi();return{theme:e,token:t,hashId:o}},defaultAlgorithm:xi,darkAlgorithm:Cr,compactAlgorithm:gr,getDesignToken:pr,defaultConfig:Di,_internalContext:Ai},br=function(e){if(!e)return!1;if(e instanceof Element){if(e.offsetParent)return!0;if(e.getBBox){var t=e.getBBox(),o=t.width,n=t.height;if(o||n)return!0}if(e.getBoundingClientRect){var i=e.getBoundingClientRect(),r=i.width,s=i.height;if(r||s)return!0}}return!1};function Sr(e){return e&&t.isValidElement(e)&&e.type===t.Fragment}function Er(e,o){return((e,o,n)=>t.isValidElement(e)?t.cloneElement(e,"function"===typeof n?n(e.props||{}):n):o)(e,e,o)}const Rr=e=>{const{componentCls:t,colorPrimary:o}=e;return{[t]:{position:"absolute",background:"transparent",pointerEvents:"none",boxSizing:"border-box",color:`var(--wave-color, ${o})`,boxShadow:"0 0 0 0 currentcolor",opacity:.2,"&.wave-motion-appear":{transition:[`box-shadow 0.4s ${e.motionEaseOutCirc}`,`opacity 2s ${e.motionEaseOutCirc}`].join(","),"&-active":{boxShadow:"0 0 0 6px currentcolor",opacity:0},"&.wave-quick":{transition:[`box-shadow ${e.motionDurationSlow} ${e.motionEaseInOut}`,`opacity ${e.motionDurationSlow} ${e.motionEaseInOut}`].join(",")}}}}},Pr=ji("Wave",(e=>[Rr(e)]));var Or=function(e){return+setTimeout(e,16)},xr=function(e){return clearTimeout(e)};"undefined"!==typeof window&&"requestAnimationFrame"in window&&(Or=function(e){return window.requestAnimationFrame(e)},xr=function(e){return window.cancelAnimationFrame(e)});var Tr=0,Dr=new Map;function Ar(e){Dr.delete(e)}var Fr=function(e){var t=Tr+=1;return function o(n){if(0===n)Ar(t),e();else{var i=Or((function(){o(n-1)}));Dr.set(t,i)}}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1),t};Fr.cancel=function(e){var t=Dr.get(e);return Ar(e),xr(t)};const _r=Fr,Mr=`${h}-wave-target`;var Ir=o(950),Lr=o.t(Ir,2);function Nr(e){return e instanceof HTMLElement||e instanceof SVGElement}function kr(e){var o,n=function(e){return e&&"object"===R(e)&&Nr(e.nativeElement)?e.nativeElement:Nr(e)?e:null}(e);return n||(e instanceof t.Component?null===(o=Ir.findDOMNode)||void 0===o?void 0:o.call(Ir,e):null)}var Gr=["children"],Vr=t.createContext({});function Hr(e){var o=e.children,n=x(e,Gr);return t.createElement(Vr.Provider,{value:n},o)}const Br=function(e){En(o,e);var t=On(o);function o(){return Et(this,o),t.apply(this,arguments)}return Pt(o,[{key:"render",value:function(){return this.props.children}}]),o}(t.Component);var Wr="none",jr="appear",zr="enter",Ur="leave",$r="none",Kr="prepare",Yr="start",qr="active",Xr="end",Qr="prepared";function Zr(e,t){var o={};return o[e.toLowerCase()]=t.toLowerCase(),o["Webkit".concat(e)]="webkit".concat(t),o["Moz".concat(e)]="moz".concat(t),o["ms".concat(e)]="MS".concat(t),o["O".concat(e)]="o".concat(t.toLowerCase()),o}var Jr=function(e,t){var o={animationend:Zr("Animation","AnimationEnd"),transitionend:Zr("Transition","TransitionEnd")};return e&&("AnimationEvent"in t||delete o.animationend.animation,"TransitionEvent"in t||delete o.transitionend.transition),o}(Fe(),"undefined"!==typeof window?window:{}),es={};if(Fe()){var ts=document.createElement("div");es=ts.style}var os={};function ns(e){if(os[e])return os[e];var t=Jr[e];if(t)for(var o=Object.keys(t),n=o.length,i=0;i<n;i+=1){var r=o[i];if(Object.prototype.hasOwnProperty.call(t,r)&&r in es)return os[e]=t[r],os[e]}return""}var is=ns("animationend"),rs=ns("transitionend"),ss=!(!is||!rs),as=is||"animationend",ls=rs||"transitionend";function cs(e,t){if(!e)return null;if("object"===R(e)){var o=t.replace(/-\w/g,(function(e){return e[1].toUpperCase()}));return e[o]}return"".concat(e,"-").concat(t)}const us=Fe()?t.useLayoutEffect:t.useEffect;var ds=[Kr,Yr,qr,Xr],hs=[Kr,Qr],ps=!1;function gs(e){return e===qr||e===Xr}const fs=function(e,o,n){var i=E(Nn($r),2),r=i[0],s=i[1],a=function(){var e=t.useRef(null);function o(){_r.cancel(e.current)}return t.useEffect((function(){return function(){o()}}),[]),[function t(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;o();var r=_r((function(){i<=1?n({isCanceled:function(){return r!==e.current}}):t(n,i-1)}));e.current=r},o]}(),l=E(a,2),c=l[0],u=l[1];var d=o?hs:ds;return us((function(){if(r!==$r&&r!==Xr){var e=d.indexOf(r),t=d[e+1],o=n(r);o===ps?s(t,!0):t&&c((function(e){function n(){e.isCanceled()||s(t,!0)}!0===o?n():Promise.resolve(o).then(n)}))}}),[e,r]),t.useEffect((function(){return function(){u()}}),[]),[function(){s(Kr,!0)},r]};function ms(e,o,n,i){var r=i.motionEnter,s=void 0===r||r,a=i.motionAppear,l=void 0===a||a,c=i.motionLeave,u=void 0===c||c,d=i.motionDeadline,h=i.motionLeaveImmediately,p=i.onAppearPrepare,g=i.onEnterPrepare,f=i.onLeavePrepare,m=i.onAppearStart,v=i.onEnterStart,y=i.onLeaveStart,C=i.onAppearActive,w=i.onEnterActive,b=i.onLeaveActive,S=i.onAppearEnd,R=i.onEnterEnd,P=i.onLeaveEnd,x=i.onVisibleChanged,T=E(Nn(),2),D=T[0],A=T[1],F=function(e){var o=t.useReducer((function(e){return e+1}),0),n=E(o,2)[1],i=t.useRef(e);return[Ln((function(){return i.current})),Ln((function(e){i.current="function"===typeof e?e(i.current):e,n()}))]}(Wr),_=E(F,2),M=_[0],I=_[1],L=E(Nn(null),2),N=L[0],k=L[1],G=M(),V=(0,t.useRef)(!1),H=(0,t.useRef)(null);function B(){return n()}var W=(0,t.useRef)(!1);function j(){I(Wr),k(null,!0)}var z=Ln((function(e){var t=M();if(t!==Wr){var o=B();if(!e||e.deadline||e.target===o){var n,i=W.current;t===jr&&i?n=null===S||void 0===S?void 0:S(o,e):t===zr&&i?n=null===R||void 0===R?void 0:R(o,e):t===Ur&&i&&(n=null===P||void 0===P?void 0:P(o,e)),i&&!1!==n&&j()}}})),U=function(e){var o=(0,t.useRef)();function n(t){t&&(t.removeEventListener(ls,e),t.removeEventListener(as,e))}return t.useEffect((function(){return function(){n(o.current)}}),[]),[function(t){o.current&&o.current!==t&&n(o.current),t&&t!==o.current&&(t.addEventListener(ls,e),t.addEventListener(as,e),o.current=t)},n]}(z),$=E(U,1)[0],K=function(e){switch(e){case jr:return O(O(O({},Kr,p),Yr,m),qr,C);case zr:return O(O(O({},Kr,g),Yr,v),qr,w);case Ur:return O(O(O({},Kr,f),Yr,y),qr,b);default:return{}}},Y=t.useMemo((function(){return K(G)}),[G]),q=E(fs(G,!e,(function(e){if(e===Kr){var t=Y[Kr];return t?t(B()):ps}var o;Q in Y&&k((null===(o=Y[Q])||void 0===o?void 0:o.call(Y,B(),null))||null);return Q===qr&&G!==Wr&&($(B()),d>0&&(clearTimeout(H.current),H.current=setTimeout((function(){z({deadline:!0})}),d))),Q===Qr&&j(),true})),2),X=q[0],Q=q[1],Z=gs(Q);W.current=Z,us((function(){A(o);var t,n=V.current;V.current=!0,!n&&o&&l&&(t=jr),n&&o&&s&&(t=zr),(n&&!o&&u||!n&&h&&!o&&u)&&(t=Ur);var i=K(t);t&&(e||i[Kr])?(I(t),X()):I(Wr)}),[o]),(0,t.useEffect)((function(){(G===jr&&!l||G===zr&&!s||G===Ur&&!u)&&I(Wr)}),[l,s,u]),(0,t.useEffect)((function(){return function(){V.current=!1,clearTimeout(H.current)}}),[]);var J=t.useRef(!1);(0,t.useEffect)((function(){D&&(J.current=!0),void 0!==D&&G===Wr&&((J.current||D)&&(null===x||void 0===x||x(D)),J.current=!0)}),[D,G]);var ee=N;return Y[Kr]&&Q===Yr&&(ee=Ae({transition:"none"},ee)),[G,Q,ee,null!==D&&void 0!==D?D:o]}const vs=function(e){var o=e;"object"===R(e)&&(o=e.transitionSupport);var n=t.forwardRef((function(e,n){var i=e.visible,r=void 0===i||i,s=e.removeOnLeave,a=void 0===s||s,l=e.forceRender,c=e.children,d=e.motionName,h=e.leavedClassName,p=e.eventProps,g=function(e,t){return!(!e.motionName||!o||!1===t)}(e,t.useContext(Vr).motion),f=(0,t.useRef)(),m=(0,t.useRef)();var v=E(ms(g,r,(function(){try{return f.current instanceof HTMLElement?f.current:kr(m.current)}catch(e){return null}}),e),4),y=v[0],C=v[1],w=v[2],b=v[3],S=t.useRef(b);b&&(S.current=!0);var R,P=t.useCallback((function(e){f.current=e,Vn(n,e)}),[n]),x=Ae(Ae({},p),{},{visible:r});if(c)if(y===Wr)R=b?c(Ae({},x),P):!a&&S.current&&h?c(Ae(Ae({},x),{},{className:h}),P):l||!a&&!h?c(Ae(Ae({},x),{},{style:{display:"none"}}),P):null;else{var T;C===Kr?T="prepare":gs(C)?T="active":C===Yr&&(T="start");var D=cs(d,"".concat(y,"-").concat(T));R=c(Ae(Ae({},x),{},{className:u()(cs(d,y),O(O({},D,D&&T),d,"string"===typeof d)),style:w}),P)}else R=null;t.isValidElement(R)&&Wn(R)&&(R.ref||(R=t.cloneElement(R,{ref:P})));return t.createElement(Br,{ref:m},R)}));return n.displayName="CSSMotion",n}(ss);var ys="add",Cs="keep",ws="remove",bs="removed";function Ss(e){var t;return Ae(Ae({},t=e&&"object"===R(e)&&"key"in e?e:{key:e}),{},{key:String(t.key)})}function Es(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map(Ss)}var Rs=["component","children","onVisibleChanged","onAllRemoved"],Ps=["status"],Os=["eventProps","visible","children","motionName","motionAppear","motionEnter","motionLeave","motionLeaveImmediately","motionDeadline","removeOnLeave","leavedClassName","onAppearPrepare","onAppearStart","onAppearActive","onAppearEnd","onEnterStart","onEnterActive","onEnterEnd","onLeaveStart","onLeaveActive","onLeaveEnd"];!function(){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:vs,o=function(o){En(i,o);var n=On(i);function i(){var e;Et(this,i);for(var t=arguments.length,o=new Array(t),r=0;r<t;r++)o[r]=arguments[r];return O(bn(e=n.call.apply(n,[this].concat(o))),"state",{keyEntities:[]}),O(bn(e),"removeKey",(function(t){e.setState((function(e){return{keyEntities:e.keyEntities.map((function(e){return e.key!==t?e:Ae(Ae({},e),{},{status:bs})}))}}),(function(){0===e.state.keyEntities.filter((function(e){return e.status!==bs})).length&&e.props.onAllRemoved&&e.props.onAllRemoved()}))})),e}return Pt(i,[{key:"render",value:function(){var o=this,n=this.state.keyEntities,i=this.props,r=i.component,s=i.children,a=i.onVisibleChanged,l=(i.onAllRemoved,x(i,Rs)),c=r||t.Fragment,u={};return Os.forEach((function(e){u[e]=l[e],delete l[e]})),delete l.keys,t.createElement(c,l,n.map((function(n,i){var r=n.status,l=x(n,Ps),c=r===ys||r===Cs;return t.createElement(e,C({},u,{key:l.key,visible:c,eventProps:l,onVisibleChanged:function(e){null===a||void 0===a||a(e,{key:l.key}),e||o.removeKey(l.key)}}),(function(e,t){return s(Ae(Ae({},e),{},{index:i}),t)}))})))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var o=e.keys,n=t.keyEntities,i=Es(o),r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],o=[],n=0,i=t.length,r=Es(e),s=Es(t);r.forEach((function(e){for(var t=!1,r=n;r<i;r+=1){var a=s[r];if(a.key===e.key){n<r&&(o=o.concat(s.slice(n,r).map((function(e){return Ae(Ae({},e),{},{status:ys})}))),n=r),o.push(Ae(Ae({},a),{},{status:Cs})),n+=1,t=!0;break}}t||o.push(Ae(Ae({},e),{},{status:ws}))})),n<i&&(o=o.concat(s.slice(n).map((function(e){return Ae(Ae({},e),{},{status:ys})}))));var a={};return o.forEach((function(e){var t=e.key;a[t]=(a[t]||0)+1})),Object.keys(a).filter((function(e){return a[e]>1})).forEach((function(e){(o=o.filter((function(t){var o=t.key,n=t.status;return o!==e||n!==ws}))).forEach((function(t){t.key===e&&(t.status=Cs)}))})),o}(n,i);return{keyEntities:r.filter((function(e){var t=n.find((function(t){var o=t.key;return e.key===o}));return!t||t.status!==bs||e.status!==ws}))}}}]),i}(t.Component);O(o,"defaultProps",{component:"div"})}(ss);const xs=vs;function Ts(){Ts=function(){return t};var e,t={},o=Object.prototype,n=o.hasOwnProperty,i=Object.defineProperty||function(e,t,o){e[t]=o.value},r="function"==typeof Symbol?Symbol:{},s=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",l=r.toStringTag||"@@toStringTag";function c(e,t,o){return Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,o){return e[t]=o}}function u(e,t,o,n){var r=t&&t.prototype instanceof v?t:v,s=Object.create(r.prototype),a=new F(n||[]);return i(s,"_invoke",{value:x(e,o,a)}),s}function d(e,t,o){try{return{type:"normal",arg:e.call(t,o)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var h="suspendedStart",p="suspendedYield",g="executing",f="completed",m={};function v(){}function y(){}function C(){}var w={};c(w,s,(function(){return this}));var b=Object.getPrototypeOf,S=b&&b(b(_([])));S&&S!==o&&n.call(S,s)&&(w=S);var E=C.prototype=v.prototype=Object.create(w);function P(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function O(e,t){function o(i,r,s,a){var l=d(e[i],e,r);if("throw"!==l.type){var c=l.arg,u=c.value;return u&&"object"==R(u)&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){o("next",e,s,a)}),(function(e){o("throw",e,s,a)})):t.resolve(u).then((function(e){c.value=e,s(c)}),(function(e){return o("throw",e,s,a)}))}a(l.arg)}var r;i(this,"_invoke",{value:function(e,n){function i(){return new t((function(t,i){o(e,n,t,i)}))}return r=r?r.then(i,i):i()}})}function x(t,o,n){var i=h;return function(r,s){if(i===g)throw Error("Generator is already running");if(i===f){if("throw"===r)throw s;return{value:e,done:!0}}for(n.method=r,n.arg=s;;){var a=n.delegate;if(a){var l=T(a,n);if(l){if(l===m)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===h)throw i=f,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=g;var c=d(t,o,n);if("normal"===c.type){if(i=n.done?f:p,c.arg===m)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i=f,n.method="throw",n.arg=c.arg)}}}function T(t,o){var n=o.method,i=t.iterator[n];if(i===e)return o.delegate=null,"throw"===n&&t.iterator.return&&(o.method="return",o.arg=e,T(t,o),"throw"===o.method)||"return"!==n&&(o.method="throw",o.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var r=d(i,t.iterator,o.arg);if("throw"===r.type)return o.method="throw",o.arg=r.arg,o.delegate=null,m;var s=r.arg;return s?s.done?(o[t.resultName]=s.value,o.next=t.nextLoc,"return"!==o.method&&(o.method="next",o.arg=e),o.delegate=null,m):s:(o.method="throw",o.arg=new TypeError("iterator result is not an object"),o.delegate=null,m)}function D(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function F(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(D,this),this.reset(!0)}function _(t){if(t||""===t){var o=t[s];if(o)return o.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,r=function o(){for(;++i<t.length;)if(n.call(t,i))return o.value=t[i],o.done=!1,o;return o.value=e,o.done=!0,o};return r.next=r}}throw new TypeError(R(t)+" is not iterable")}return y.prototype=C,i(E,"constructor",{value:C,configurable:!0}),i(C,"constructor",{value:y,configurable:!0}),y.displayName=c(C,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,C):(e.__proto__=C,c(e,l,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},P(O.prototype),c(O.prototype,a,(function(){return this})),t.AsyncIterator=O,t.async=function(e,o,n,i,r){void 0===r&&(r=Promise);var s=new O(u(e,o,n,i),r);return t.isGeneratorFunction(o)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},P(E),c(E,l,"Generator"),c(E,s,(function(){return this})),c(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),o=[];for(var n in t)o.push(n);return o.reverse(),function e(){for(;o.length;){var n=o.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=_,F.prototype={constructor:F,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var o in this)"t"===o.charAt(0)&&n.call(this,o)&&!isNaN(+o.slice(1))&&(this[o]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var o=this;function i(n,i){return a.type="throw",a.arg=t,o.next=n,i&&(o.method="next",o.arg=e),!!i}for(var r=this.tryEntries.length-1;r>=0;--r){var s=this.tryEntries[r],a=s.completion;if("root"===s.tryLoc)return i("end");if(s.tryLoc<=this.prev){var l=n.call(s,"catchLoc"),c=n.call(s,"finallyLoc");if(l&&c){if(this.prev<s.catchLoc)return i(s.catchLoc,!0);if(this.prev<s.finallyLoc)return i(s.finallyLoc)}else if(l){if(this.prev<s.catchLoc)return i(s.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return i(s.finallyLoc)}}}},abrupt:function(e,t){for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var r=i;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var s=r?r.completion:{};return s.type=e,s.arg=t,r?(this.method="next",this.next=r.finallyLoc,m):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var o=this.tryEntries[t];if(o.finallyLoc===e)return this.complete(o.completion,o.afterLoc),A(o),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var o=this.tryEntries[t];if(o.tryLoc===e){var n=o.completion;if("throw"===n.type){var i=n.arg;A(o)}return i}}throw Error("illegal catch attempt")},delegateYield:function(t,o,n){return this.delegate={iterator:_(t),resultName:o,nextLoc:n},"next"===this.method&&(this.arg=e),m}},t}function Ds(e,t,o,n,i,r,s){try{var a=e[r](s),l=a.value}catch(e){return void o(e)}a.done?t(l):Promise.resolve(l).then(n,i)}function As(e){return function(){var t=this,o=arguments;return new Promise((function(n,i){var r=e.apply(t,o);function s(e){Ds(r,n,i,s,a,"next",e)}function a(e){Ds(r,n,i,s,a,"throw",e)}s(void 0)}))}}var Fs,_s=Ae({},Lr),Ms=_s.version,Is=_s.render,Ls=_s.unmountComponentAtNode;try{Number((Ms||"").split(".")[0])>=18&&(Fs=_s.createRoot)}catch(bI){}function Ns(e){var t=_s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;t&&"object"===R(t)&&(t.usingClientEntryPoint=e)}var ks="__rc_react_root__";function Gs(e,t){Fs?function(e,t){Ns(!0);var o=t[ks]||Fs(t);Ns(!1),o.render(e),t[ks]=o}(e,t):function(e,t){Is(e,t)}(e,t)}function Vs(e){return Hs.apply(this,arguments)}function Hs(){return(Hs=As(Ts().mark((function e(t){return Ts().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.resolve().then((function(){var e;null===(e=t[ks])||void 0===e||e.unmount(),delete t[ks]})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Bs(e){Ls(e)}function Ws(e){return js.apply(this,arguments)}function js(){return(js=As(Ts().mark((function e(t){return Ts().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===Fs){e.next=2;break}return e.abrupt("return",Vs(t));case 2:Bs(t);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zs(e){return e&&"#fff"!==e&&"#ffffff"!==e&&"rgb(255, 255, 255)"!==e&&"rgba(255, 255, 255, 1)"!==e&&!/rgba\((?:\d*, ){3}0\)/.test(e)&&"transparent"!==e}function Us(e){return Number.isNaN(e)?0:e}const $s=e=>{const{className:o,target:n,component:i}=e,r=t.useRef(null),[s,a]=t.useState(null),[l,c]=t.useState([]),[d,h]=t.useState(0),[p,g]=t.useState(0),[f,m]=t.useState(0),[v,y]=t.useState(0),[C,w]=t.useState(!1),b={left:d,top:p,width:f,height:v,borderRadius:l.map((e=>`${e}px`)).join(" ")};function S(){const e=getComputedStyle(n);a(function(e){const{borderTopColor:t,borderColor:o,backgroundColor:n}=getComputedStyle(e);return zs(t)?t:zs(o)?o:zs(n)?n:null}(n));const t="static"===e.position,{borderLeftWidth:o,borderTopWidth:i}=e;h(t?n.offsetLeft:Us(-parseFloat(o))),g(t?n.offsetTop:Us(-parseFloat(i))),m(n.offsetWidth),y(n.offsetHeight);const{borderTopLeftRadius:r,borderTopRightRadius:s,borderBottomLeftRadius:l,borderBottomRightRadius:u}=e;c([r,s,u,l].map((e=>Us(parseFloat(e)))))}if(s&&(b["--wave-color"]=s),t.useEffect((()=>{if(n){const e=_r((()=>{S(),w(!0)}));let t;return"undefined"!==typeof ResizeObserver&&(t=new ResizeObserver(S),t.observe(n)),()=>{_r.cancel(e),null===t||void 0===t||t.disconnect()}}}),[]),!C)return null;const E=("Checkbox"===i||"Radio"===i)&&(null===n||void 0===n?void 0:n.classList.contains(Mr));return t.createElement(xs,{visible:!0,motionAppear:!0,motionName:"wave-motion",motionDeadline:5e3,onAppearEnd:(e,t)=>{var o;if(t.deadline||"opacity"===t.propertyName){const e=null===(o=r.current)||void 0===o?void 0:o.parentElement;Ws(e).then((()=>{null===e||void 0===e||e.remove()}))}return!1}},((e,n)=>{let{className:i}=e;return t.createElement("div",{ref:Hn(r,n),className:u()(o,i,{"wave-quick":E}),style:b})}))},Ks=(e,o)=>{var n;const{component:i}=o;if("Checkbox"===i&&!(null===(n=e.querySelector("input"))||void 0===n?void 0:n.checked))return;const r=document.createElement("div");r.style.position="absolute",r.style.left="0px",r.style.top="0px",null===e||void 0===e||e.insertBefore(r,null===e||void 0===e?void 0:e.firstChild),Gs(t.createElement($s,Object.assign({},o,{target:e})),r)},Ys=(e,o,n)=>{const{wave:i}=t.useContext(g),[,r,s]=Hi(),a=Ln((t=>{const a=e.current;if((null===i||void 0===i?void 0:i.disabled)||!a)return;const l=a.querySelector(`.${Mr}`)||a,{showEffect:c}=i||{};(c||Ks)(l,{className:o,token:r,component:n,event:t,hashId:s})})),l=t.useRef();return e=>{_r.cancel(l.current),l.current=_r((()=>{a(e)}))}};const qs=e=>{const{children:o,disabled:n,component:i}=e,{getPrefixCls:r}=(0,t.useContext)(g),s=(0,t.useRef)(null),a=r("wave"),[,l]=Pr(a),c=Ys(s,u()(a,l),i);if(t.useEffect((()=>{const e=s.current;if(!e||1!==e.nodeType||n)return;const t=t=>{!br(t.target)||!e.getAttribute||e.getAttribute("disabled")||e.disabled||e.className.includes("disabled")||e.className.includes("-leave")||c(t)};return e.addEventListener("click",t,!0),()=>{e.removeEventListener("click",t,!0)}}),[n]),!t.isValidElement(o))return null!==o&&void 0!==o?o:null;return Er(o,{ref:Wn(o)?Hn(o.ref,s):s})},Xs=t.createContext(!1),Qs=e=>{let{children:o,disabled:n}=e;const i=t.useContext(Xs);return t.createElement(Xs.Provider,{value:null!==n&&void 0!==n?n:i},o)},Zs=Xs,Js=t.createContext(void 0),ea=e=>{let{children:o,size:n}=e;const i=t.useContext(Js);return t.createElement(Js.Provider,{value:n||i},o)},ta=Js,oa=e=>{const o=t.useContext(ta);return t.useMemo((()=>e?"string"===typeof e?null!==e&&void 0!==e?e:o:e instanceof Function?e(o):o:o),[e,o])};const na=t.createContext(null),ia=e=>{let{children:o}=e;return t.createElement(na.Provider,{value:null},o)};var ra=function(e,t){var o={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(o[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(o[n[i]]=e[n[i]])}return o};const sa=t.createContext(void 0),aa=e=>{const{getPrefixCls:o,direction:n}=t.useContext(g),{prefixCls:i,size:r,className:s}=e,a=ra(e,["prefixCls","size","className"]),l=o("btn-group",i),[,,c]=Hi();let d="";switch(r){case"large":d="lg";break;case"small":d="sm"}const h=u()(l,{[`${l}-${d}`]:d,[`${l}-rtl`]:"rtl"===n},s,c);return t.createElement(sa.Provider,{value:r},t.createElement("div",Object.assign({},a,{className:h})))},la=/^[\u4E00-\u9FA5]{2}$/,ca=la.test.bind(la);function ua(e){return"danger"===e?{danger:!0}:{type:e}}function da(e){return"string"===typeof e}function ha(e){return"text"===e||"link"===e}function pa(e,o){let n=!1;const i=[];return t.Children.forEach(e,(e=>{const t=typeof e,o="string"===t||"number"===t;if(n&&o){const t=i.length-1,o=i[t];i[t]=`${o}${e}`}else i.push(e);n=o})),t.Children.map(i,(e=>function(e,o){if(null===e||void 0===e)return;const n=o?" ":"";return"string"!==typeof e&&"number"!==typeof e&&da(e.type)&&ca(e.props.children)?Er(e,{children:e.props.children.split("").join(n)}):da(e)?ca(e)?t.createElement("span",null,e.split("").join(n)):t.createElement("span",null,e):Sr(e)?t.createElement("span",null,e):e}(e,o)))}const ga=(0,t.forwardRef)(((e,o)=>{const{className:n,style:i,children:r,prefixCls:s}=e,a=u()(`${s}-icon`,n);return t.createElement("span",{ref:o,className:a,style:i},r)})),fa=ga;const ma={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"}}]},name:"loading",theme:"outlined"};var va=function(e,o){return t.createElement(ut,C({},e,{ref:o,icon:ma}))};const ya=t.forwardRef(va),Ca=(0,t.forwardRef)(((e,o)=>{const{prefixCls:n,className:i,style:r,iconClassName:s}=e,a=u()(`${n}-loading-icon`,i);return t.createElement(fa,{prefixCls:n,className:a,style:r,ref:o},t.createElement(ya,{className:s}))})),wa=()=>({width:0,opacity:0,transform:"scale(0)"}),ba=e=>({width:e.scrollWidth,opacity:1,transform:"scale(1)"}),Sa=e=>{const{prefixCls:o,loading:n,existIcon:i,className:r,style:s}=e,a=!!n;return i?t.createElement(Ca,{prefixCls:o,className:r,style:s}):t.createElement(xs,{visible:a,motionName:`${o}-loading-icon-motion`,motionLeave:a,removeOnLeave:!0,onAppearStart:wa,onAppearActive:ba,onEnterStart:wa,onEnterActive:ba,onLeaveStart:ba,onLeaveActive:wa},((e,n)=>{let{className:i,style:a}=e;return t.createElement(Ca,{prefixCls:o,className:r,style:Object.assign(Object.assign({},s),a),ref:n,iconClassName:i})}))},Ea=(e,t)=>({[`> span, > ${e}`]:{"&:not(:last-child)":{[`&, & > ${e}`]:{"&:not(:disabled)":{borderInlineEndColor:t}}},"&:not(:first-child)":{[`&, & > ${e}`]:{"&:not(:disabled)":{borderInlineStartColor:t}}}}}),Ra=e=>{const{componentCls:t,fontSize:o,lineWidth:n,groupBorderColor:i,colorErrorHover:r}=e;return{[`${t}-group`]:[{position:"relative",display:"inline-flex",[`> span, > ${t}`]:{"&:not(:last-child)":{[`&, & > ${t}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},"&:not(:first-child)":{marginInlineStart:e.calc(n).mul(-1).equal(),[`&, & > ${t}`]:{borderStartStartRadius:0,borderEndStartRadius:0}}},[t]:{position:"relative",zIndex:1,"&:hover, &:focus, &:active":{zIndex:2},"&[disabled]":{zIndex:0}},[`${t}-icon-only`]:{fontSize:o}},Ea(`${t}-primary`,i),Ea(`${t}-danger`,r)]}},Pa=Math.round;function Oa(e,t){const o=e.replace(/^[^(]*\((.*)/,"$1").replace(/\).*/,"").match(/\d*\.?\d+%?/g)||[],n=o.map((e=>parseFloat(e)));for(let i=0;i<3;i+=1)n[i]=t(n[i]||0,o[i]||"",i);return o[3]?n[3]=o[3].includes("%")?n[3]/100:n[3]:n[3]=1,n}const xa=(e,t,o)=>0===o?e:e/100;function Ta(e,t){const o=t||255;return e>o?o:e<0?0:e}class Da{constructor(e){function t(t){return t[0]in e&&t[1]in e&&t[2]in e}if(O(this,"isValid",!0),O(this,"r",0),O(this,"g",0),O(this,"b",0),O(this,"a",1),O(this,"_h",void 0),O(this,"_s",void 0),O(this,"_l",void 0),O(this,"_v",void 0),O(this,"_max",void 0),O(this,"_min",void 0),O(this,"_brightness",void 0),e)if("string"===typeof e){const o=e.trim();function n(e){return o.startsWith(e)}/^#?[A-F\d]{3,8}$/i.test(o)?this.fromHexString(o):n("rgb")?this.fromRgbString(o):n("hsl")?this.fromHslString(o):(n("hsv")||n("hsb"))&&this.fromHsvString(o)}else if(e instanceof Da)this.r=e.r,this.g=e.g,this.b=e.b,this.a=e.a,this._h=e._h,this._s=e._s,this._l=e._l,this._v=e._v;else if(t("rgb"))this.r=Ta(e.r),this.g=Ta(e.g),this.b=Ta(e.b),this.a="number"===typeof e.a?Ta(e.a,1):1;else if(t("hsl"))this.fromHsl(e);else{if(!t("hsv"))throw new Error("@ant-design/fast-color: unsupported input "+JSON.stringify(e));this.fromHsv(e)}else;}setR(e){return this._sc("r",e)}setG(e){return this._sc("g",e)}setB(e){return this._sc("b",e)}setA(e){return this._sc("a",e,1)}setHue(e){const t=this.toHsv();return t.h=e,this._c(t)}getLuminance(){function e(e){const t=e/255;return t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)}return.2126*e(this.r)+.7152*e(this.g)+.0722*e(this.b)}getHue(){if("undefined"===typeof this._h){const e=this.getMax()-this.getMin();this._h=0===e?0:Pa(60*(this.r===this.getMax()?(this.g-this.b)/e+(this.g<this.b?6:0):this.g===this.getMax()?(this.b-this.r)/e+2:(this.r-this.g)/e+4))}return this._h}getSaturation(){if("undefined"===typeof this._s){const e=this.getMax()-this.getMin();this._s=0===e?0:e/this.getMax()}return this._s}getLightness(){return"undefined"===typeof this._l&&(this._l=(this.getMax()+this.getMin())/510),this._l}getValue(){return"undefined"===typeof this._v&&(this._v=this.getMax()/255),this._v}getBrightness(){return"undefined"===typeof this._brightness&&(this._brightness=(299*this.r+587*this.g+114*this.b)/1e3),this._brightness}darken(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;const t=this.getHue(),o=this.getSaturation();let n=this.getLightness()-e/100;return n<0&&(n=0),this._c({h:t,s:o,l:n,a:this.a})}lighten(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;const t=this.getHue(),o=this.getSaturation();let n=this.getLightness()+e/100;return n>1&&(n=1),this._c({h:t,s:o,l:n,a:this.a})}mix(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50;const o=this._c(e),n=t/100,i=e=>(o[e]-this[e])*n+this[e],r={r:Pa(i("r")),g:Pa(i("g")),b:Pa(i("b")),a:Pa(100*i("a"))/100};return this._c(r)}tint(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;return this.mix({r:255,g:255,b:255,a:1},e)}shade(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;return this.mix({r:0,g:0,b:0,a:1},e)}onBackground(e){const t=this._c(e),o=this.a+t.a*(1-this.a),n=e=>Pa((this[e]*this.a+t[e]*t.a*(1-this.a))/o);return this._c({r:n("r"),g:n("g"),b:n("b"),a:o})}isDark(){return this.getBrightness()<128}isLight(){return this.getBrightness()>=128}equals(e){return this.r===e.r&&this.g===e.g&&this.b===e.b&&this.a===e.a}clone(){return this._c(this)}toHexString(){let e="#";const t=(this.r||0).toString(16);e+=2===t.length?t:"0"+t;const o=(this.g||0).toString(16);e+=2===o.length?o:"0"+o;const n=(this.b||0).toString(16);if(e+=2===n.length?n:"0"+n,"number"===typeof this.a&&this.a>=0&&this.a<1){const t=Pa(255*this.a).toString(16);e+=2===t.length?t:"0"+t}return e}toHsl(){return{h:this.getHue(),s:this.getSaturation(),l:this.getLightness(),a:this.a}}toHslString(){const e=this.getHue(),t=Pa(100*this.getSaturation()),o=Pa(100*this.getLightness());return 1!==this.a?`hsla(${e},${t}%,${o}%,${this.a})`:`hsl(${e},${t}%,${o}%)`}toHsv(){return{h:this.getHue(),s:this.getSaturation(),v:this.getValue(),a:this.a}}toRgb(){return{r:this.r,g:this.g,b:this.b,a:this.a}}toRgbString(){return 1!==this.a?`rgba(${this.r},${this.g},${this.b},${this.a})`:`rgb(${this.r},${this.g},${this.b})`}toString(){return this.toRgbString()}_sc(e,t,o){const n=this.clone();return n[e]=Ta(t,o),n}_c(e){return new this.constructor(e)}getMax(){return"undefined"===typeof this._max&&(this._max=Math.max(this.r,this.g,this.b)),this._max}getMin(){return"undefined"===typeof this._min&&(this._min=Math.min(this.r,this.g,this.b)),this._min}fromHexString(e){const t=e.replace("#","");function o(e,o){return parseInt(t[e]+t[o||e],16)}t.length<6?(this.r=o(0),this.g=o(1),this.b=o(2),this.a=t[3]?o(3)/255:1):(this.r=o(0,1),this.g=o(2,3),this.b=o(4,5),this.a=t[6]?o(6,7)/255:1)}fromHsl(e){let{h:t,s:o,l:n,a:i}=e;if(this._h=t%360,this._s=o,this._l=n,this.a="number"===typeof i?i:1,o<=0){const e=Pa(255*n);this.r=e,this.g=e,this.b=e}let r=0,s=0,a=0;const l=t/60,c=(1-Math.abs(2*n-1))*o,u=c*(1-Math.abs(l%2-1));l>=0&&l<1?(r=c,s=u):l>=1&&l<2?(r=u,s=c):l>=2&&l<3?(s=c,a=u):l>=3&&l<4?(s=u,a=c):l>=4&&l<5?(r=u,a=c):l>=5&&l<6&&(r=c,a=u);const d=n-c/2;this.r=Pa(255*(r+d)),this.g=Pa(255*(s+d)),this.b=Pa(255*(a+d))}fromHsv(e){let{h:t,s:o,v:n,a:i}=e;this._h=t%360,this._s=o,this._v=n,this.a="number"===typeof i?i:1;const r=Pa(255*n);if(this.r=r,this.g=r,this.b=r,o<=0)return;const s=t/60,a=Math.floor(s),l=s-a,c=Pa(n*(1-o)*255),u=Pa(n*(1-o*l)*255),d=Pa(n*(1-o*(1-l))*255);switch(a){case 0:this.g=d,this.b=c;break;case 1:this.r=u,this.b=c;break;case 2:this.r=c,this.b=d;break;case 3:this.r=c,this.g=u;break;case 4:this.r=d,this.g=c;break;default:this.g=c,this.b=u}}fromHsvString(e){const t=Oa(e,xa);this.fromHsv({h:t[0],s:t[1],v:t[2],a:t[3]})}fromHslString(e){const t=Oa(e,xa);this.fromHsl({h:t[0],s:t[1],l:t[2],a:t[3]})}fromRgbString(e){const t=Oa(e,((e,t)=>t.includes("%")?Pa(e/100*255):e));this.r=t[0],this.g=t[1],this.b=t[2],this.a=t[3]}}var Aa=["b"],Fa=["v"],_a=function(e){return Math.round(Number(e||0))},Ma=function(e){En(o,e);var t=On(o);function o(e){return Et(this,o),t.call(this,function(e){if(e instanceof Da)return e;if(e&&"object"===R(e)&&"h"in e&&"b"in e){var t=e,o=t.b;return Ae(Ae({},x(t,Aa)),{},{v:o})}return"string"===typeof e&&/hsb/.test(e)?e.replace(/hsb/,"hsv"):e}(e))}return Pt(o,[{key:"toHsbString",value:function(){var e=this.toHsb(),t=_a(100*e.s),o=_a(100*e.b),n=_a(e.h),i=e.a,r="hsb(".concat(n,", ").concat(t,"%, ").concat(o,"%)"),s="hsba(".concat(n,", ").concat(t,"%, ").concat(o,"%, ").concat(i.toFixed(0===i?0:2),")");return 1===i?r:s}},{key:"toHsb",value:function(){var e=this.toHsv(),t=e.v;return Ae(Ae({},x(e,Fa)),{},{b:t,a:this.a})}}]),o}(Da),Ia=function(e){return e instanceof Ma?e:new Ma(e)};Ia("#1677ff");let La=function(){return Pt((function e(t){var o;if(Et(this,e),this.cleared=!1,t instanceof e)return this.metaColor=t.metaColor.clone(),this.colors=null===(o=t.colors)||void 0===o?void 0:o.map((t=>({color:new e(t.color),percent:t.percent}))),void(this.cleared=t.cleared);const n=Array.isArray(t);n&&t.length?(this.colors=t.map((t=>{let{color:o,percent:n}=t;return{color:new e(o),percent:n}})),this.metaColor=new Ma(this.colors[0].color.metaColor)):this.metaColor=new Ma(n?"":t),(!t||n&&!this.colors)&&(this.metaColor=this.metaColor.setA(0),this.cleared=!0)}),[{key:"toHsb",value:function(){return this.metaColor.toHsb()}},{key:"toHsbString",value:function(){return this.metaColor.toHsbString()}},{key:"toHex",value:function(){return e=this.toHexString(),t=this.metaColor.a<1,e?((e,t)=>(null===e||void 0===e?void 0:e.replace(/[^\w/]/g,"").slice(0,t?8:6))||"")(e,t):"";var e,t}},{key:"toHexString",value:function(){return this.metaColor.toHexString()}},{key:"toRgb",value:function(){return this.metaColor.toRgb()}},{key:"toRgbString",value:function(){return this.metaColor.toRgbString()}},{key:"isGradient",value:function(){return!!this.colors&&!this.cleared}},{key:"getColors",value:function(){return this.colors||[{color:this,percent:0}]}},{key:"toCssString",value:function(){const{colors:e}=this;if(e){const t=e.map((e=>`${e.color.toRgbString()} ${e.percent}%`)).join(", ");return`linear-gradient(90deg, ${t})`}return this.metaColor.toRgbString()}},{key:"equals",value:function(e){return!(!e||this.isGradient()!==e.isGradient())&&(this.isGradient()?this.colors.length===e.colors.length&&this.colors.every(((t,o)=>{const n=e.colors[o];return t.percent===n.percent&&t.color.equals(n.color)})):this.toHexString()===e.toHexString())}}])}();const Na=(e,t)=>{const{r:o,g:n,b:i,a:r}=e.toRgb(),s=new Ma(e.toRgbString()).onBackground(t).toHsv();return r<=.5?s.v>.5:.299*o+.587*n+.114*i>192},ka=e=>{const{paddingInline:t,onlyIconSize:o,paddingBlock:n}=e;return Jn(e,{buttonPaddingHorizontal:t,buttonPaddingVertical:n,buttonIconOnlyFontSize:o})},Ga=e=>{var t,o,n,i,r,s;const a=null!==(t=e.contentFontSize)&&void 0!==t?t:e.fontSize,l=null!==(o=e.contentFontSizeSM)&&void 0!==o?o:e.fontSize,c=null!==(n=e.contentFontSizeLG)&&void 0!==n?n:e.fontSizeLG,u=null!==(i=e.contentLineHeight)&&void 0!==i?i:bi(a),d=null!==(r=e.contentLineHeightSM)&&void 0!==r?r:bi(l),h=null!==(s=e.contentLineHeightLG)&&void 0!==s?s:bi(c),p=Na(new La(e.colorBgSolid),"#fff")?"#000":"#fff";return{fontWeight:400,defaultShadow:`0 ${e.controlOutlineWidth}px 0 ${e.controlTmpOutline}`,primaryShadow:`0 ${e.controlOutlineWidth}px 0 ${e.controlOutline}`,dangerShadow:`0 ${e.controlOutlineWidth}px 0 ${e.colorErrorOutline}`,primaryColor:e.colorTextLightSolid,dangerColor:e.colorTextLightSolid,borderColorDisabled:e.colorBorder,defaultGhostColor:e.colorBgContainer,ghostBg:"transparent",defaultGhostBorderColor:e.colorBgContainer,paddingInline:e.paddingContentHorizontal-e.lineWidth,paddingInlineLG:e.paddingContentHorizontal-e.lineWidth,paddingInlineSM:8-e.lineWidth,onlyIconSize:e.fontSizeLG,onlyIconSizeSM:e.fontSizeLG-2,onlyIconSizeLG:e.fontSizeLG+2,groupBorderColor:e.colorPrimaryHover,linkHoverBg:"transparent",textTextColor:e.colorText,textTextHoverColor:e.colorText,textTextActiveColor:e.colorText,textHoverBg:e.colorFillTertiary,defaultColor:e.colorText,defaultBg:e.colorBgContainer,defaultBorderColor:e.colorBorder,defaultBorderColorDisabled:e.colorBorder,defaultHoverBg:e.colorBgContainer,defaultHoverColor:e.colorPrimaryHover,defaultHoverBorderColor:e.colorPrimaryHover,defaultActiveBg:e.colorBgContainer,defaultActiveColor:e.colorPrimaryActive,defaultActiveBorderColor:e.colorPrimaryActive,solidTextColor:p,contentFontSize:a,contentFontSizeSM:l,contentFontSizeLG:c,contentLineHeight:u,contentLineHeightSM:d,contentLineHeightLG:h,paddingBlock:Math.max((e.controlHeight-a*u)/2-e.lineWidth,0),paddingBlockSM:Math.max((e.controlHeightSM-l*d)/2-e.lineWidth,0),paddingBlockLG:Math.max((e.controlHeightLG-c*h)/2-e.lineWidth,0)}},Va=e=>{const{componentCls:t,iconCls:o,fontWeight:n}=e;return{[t]:{outline:"none",position:"relative",display:"inline-flex",gap:e.marginXS,alignItems:"center",justifyContent:"center",fontWeight:n,whiteSpace:"nowrap",textAlign:"center",backgroundImage:"none",background:"transparent",border:`${Kt(e.lineWidth)} ${e.lineType} transparent`,cursor:"pointer",transition:`all ${e.motionDurationMid} ${e.motionEaseInOut}`,userSelect:"none",touchAction:"manipulation",color:e.colorText,"&:disabled > *":{pointerEvents:"none"},[`> span, ${t}-icon`]:{display:"inline-flex"},"> a":{color:"currentColor"},"&:not(:disabled)":Object.assign({},gi(e)),[`&${t}-two-chinese-chars::first-letter`]:{letterSpacing:"0.34em"},[`&${t}-two-chinese-chars > *:not(${o})`]:{marginInlineEnd:"-0.34em",letterSpacing:"0.34em"},"&-icon-end":{flexDirection:"row-reverse"}}}},Ha=(e,t,o)=>({[`&:not(:disabled):not(${e}-disabled)`]:{"&:hover":t,"&:active":o}}),Ba=e=>({minWidth:e.controlHeight,paddingInlineStart:0,paddingInlineEnd:0,borderRadius:"50%"}),Wa=e=>({borderRadius:e.controlHeight,paddingInlineStart:e.calc(e.controlHeight).div(2).equal(),paddingInlineEnd:e.calc(e.controlHeight).div(2).equal()}),ja=e=>({cursor:"not-allowed",borderColor:e.borderColorDisabled,color:e.colorTextDisabled,background:e.colorBgContainerDisabled,boxShadow:"none"}),za=(e,t,o,n,i,r,s,a)=>({[`&${e}-background-ghost`]:Object.assign(Object.assign({color:o||void 0,background:t,borderColor:n||void 0,boxShadow:"none"},Ha(e,Object.assign({background:t},s),Object.assign({background:t},a))),{"&:disabled":{cursor:"not-allowed",color:i||void 0,borderColor:r||void 0}})}),Ua=e=>({[`&:disabled, &${e.componentCls}-disabled`]:Object.assign({},ja(e))}),$a=e=>({[`&:disabled, &${e.componentCls}-disabled`]:{cursor:"not-allowed",color:e.colorTextDisabled}}),Ka=(e,t,o,n)=>{const i=n&&["link","text"].includes(n)?$a:Ua;return Object.assign(Object.assign({},i(e)),Ha(e.componentCls,t,o))},Ya=(e,t,o,n,i)=>({[`&${e.componentCls}-variant-solid`]:Object.assign({color:t,background:o},Ka(e,n,i))}),qa=(e,t,o,n,i)=>({[`&${e.componentCls}-variant-outlined, &${e.componentCls}-variant-dashed`]:Object.assign({borderColor:t,background:o},Ka(e,n,i))}),Xa=e=>({[`&${e.componentCls}-variant-dashed`]:{borderStyle:"dashed"}}),Qa=(e,t,o,n)=>({[`&${e.componentCls}-variant-filled`]:Object.assign({boxShadow:"none",background:t},Ka(e,o,n))}),Za=(e,t,o,n,i)=>({[`&${e.componentCls}-variant-${o}`]:Object.assign({color:t,boxShadow:"none"},Ka(e,n,i,o))}),Ja=e=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({color:e.defaultColor,boxShadow:e.defaultShadow},Ya(e,e.solidTextColor,e.colorBgSolid,{background:e.colorBgSolidHover},{background:e.colorBgSolidActive})),Xa(e)),Qa(e,e.colorFillTertiary,{background:e.colorFillSecondary},{background:e.colorFill})),Za(e,e.textTextColor,"link",{color:e.colorLinkHover,background:e.linkHoverBg},{color:e.colorLinkActive})),za(e.componentCls,e.ghostBg,e.defaultGhostColor,e.defaultGhostBorderColor,e.colorTextDisabled,e.colorBorder)),el=e=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({color:e.colorPrimary,boxShadow:e.primaryShadow},qa(e,e.colorPrimary,e.colorBgContainer,{color:e.colorPrimaryTextHover,borderColor:e.colorPrimaryHover,background:e.colorBgContainer},{color:e.colorPrimaryTextActive,borderColor:e.colorPrimaryActive,background:e.colorBgContainer})),Xa(e)),Qa(e,e.colorPrimaryBg,{background:e.colorPrimaryBgHover},{background:e.colorPrimaryBorder})),Za(e,e.colorLink,"text",{color:e.colorPrimaryTextHover,background:e.colorPrimaryBg},{color:e.colorPrimaryTextActive,background:e.colorPrimaryBorder})),za(e.componentCls,e.ghostBg,e.colorPrimary,e.colorPrimary,e.colorTextDisabled,e.colorBorder,{color:e.colorPrimaryHover,borderColor:e.colorPrimaryHover},{color:e.colorPrimaryActive,borderColor:e.colorPrimaryActive})),tl=e=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({color:e.colorError,boxShadow:e.dangerShadow},Ya(e,e.dangerColor,e.colorError,{background:e.colorErrorHover},{background:e.colorErrorActive})),qa(e,e.colorError,e.colorBgContainer,{color:e.colorErrorHover,borderColor:e.colorErrorBorderHover},{color:e.colorErrorActive,borderColor:e.colorErrorActive})),Xa(e)),Qa(e,e.colorErrorBg,{background:e.colorErrorBgFilledHover},{background:e.colorErrorBgActive})),Za(e,e.colorError,"text",{color:e.colorErrorHover,background:e.colorErrorBg},{color:e.colorErrorHover,background:e.colorErrorBgActive})),Za(e,e.colorError,"link",{color:e.colorErrorHover},{color:e.colorErrorActive})),za(e.componentCls,e.ghostBg,e.colorError,e.colorError,e.colorTextDisabled,e.colorBorder,{color:e.colorErrorHover,borderColor:e.colorErrorHover},{color:e.colorErrorActive,borderColor:e.colorErrorActive})),ol=e=>{const{componentCls:t}=e;return{[`${t}-color-default`]:Ja(e),[`${t}-color-primary`]:el(e),[`${t}-color-dangerous`]:tl(e)}},nl=e=>Object.assign(Object.assign(Object.assign(Object.assign({},qa(e,e.defaultBorderColor,e.defaultBg,{color:e.defaultHoverColor,borderColor:e.defaultHoverBorderColor,background:e.defaultHoverBg},{color:e.defaultActiveColor,borderColor:e.defaultActiveBorderColor,background:e.defaultActiveBg})),Za(e,e.textTextColor,"text",{color:e.textTextHoverColor,background:e.textHoverBg},{color:e.textTextActiveColor,background:e.colorBgTextActive})),Ya(e,e.primaryColor,e.colorPrimary,{background:e.colorPrimaryHover,color:e.primaryColor},{background:e.colorPrimaryActive,color:e.primaryColor})),Za(e,e.colorLink,"link",{color:e.colorLinkHover,background:e.linkHoverBg},{color:e.colorLinkActive})),il=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const{componentCls:o,controlHeight:n,fontSize:i,lineHeight:r,borderRadius:s,buttonPaddingHorizontal:a,iconCls:l,buttonPaddingVertical:c,motionDurationSlow:u,motionEaseInOut:d,buttonIconOnlyFontSize:h,opacityLoading:p}=e;return[{[t]:{fontSize:i,lineHeight:r,height:n,padding:`${Kt(c)} ${Kt(a)}`,borderRadius:s,[`&${o}-icon-only`]:{width:n,paddingInline:0,[`&${o}-compact-item`]:{flex:"none"},[`&${o}-round`]:{width:"auto"},[l]:{fontSize:h}},[`&${o}-loading`]:{opacity:p,cursor:"default"},[`${o}-loading-icon`]:{transition:`width ${u} ${d}, opacity ${u} ${d}`}}},{[`${o}${o}-circle${t}`]:Ba(e)},{[`${o}${o}-round${t}`]:Wa(e)}]},rl=e=>{const t=Jn(e,{fontSize:e.contentFontSize,lineHeight:e.contentLineHeight});return il(t,e.componentCls)},sl=e=>{const t=Jn(e,{controlHeight:e.controlHeightSM,fontSize:e.contentFontSizeSM,lineHeight:e.contentLineHeightSM,padding:e.paddingXS,buttonPaddingHorizontal:e.paddingInlineSM,buttonPaddingVertical:e.paddingBlockSM,borderRadius:e.borderRadiusSM,buttonIconOnlyFontSize:e.onlyIconSizeSM});return il(t,`${e.componentCls}-sm`)},al=e=>{const t=Jn(e,{controlHeight:e.controlHeightLG,fontSize:e.contentFontSizeLG,lineHeight:e.contentLineHeightLG,buttonPaddingHorizontal:e.paddingInlineLG,buttonPaddingVertical:e.paddingBlockLG,borderRadius:e.borderRadiusLG,buttonIconOnlyFontSize:e.onlyIconSizeLG});return il(t,`${e.componentCls}-lg`)},ll=e=>{const{componentCls:t}=e;return{[t]:{[`&${t}-block`]:{width:"100%"}}}},cl=Wi("Button",(e=>{const t=ka(e);return[Va(t),rl(t),sl(t),al(t),ll(t),ol(t),nl(t),Ra(t)]}),Ga,{unitless:{fontWeight:!0,contentLineHeight:!0,contentLineHeightSM:!0,contentLineHeightLG:!0}});function ul(e,t,o){const{focusElCls:n,focus:i,borderElCls:r}=o,s=r?"> *":"",a=["hover",i?"focus":null,"active"].filter(Boolean).map((e=>`&:${e} ${s}`)).join(",");return{[`&-item:not(${t}-last-item)`]:{marginInlineEnd:e.calc(e.lineWidth).mul(-1).equal()},"&-item":Object.assign(Object.assign({[a]:{zIndex:2}},n?{[`&${n}`]:{zIndex:2}}:{}),{[`&[disabled] ${s}`]:{zIndex:0}})}}function dl(e,t,o){const{borderElCls:n}=o,i=n?`> ${n}`:"";return{[`&-item:not(${t}-first-item):not(${t}-last-item) ${i}`]:{borderRadius:0},[`&-item:not(${t}-last-item)${t}-first-item`]:{[`& ${i}, &${e}-sm ${i}, &${e}-lg ${i}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`&-item:not(${t}-first-item)${t}-last-item`]:{[`& ${i}, &${e}-sm ${i}, &${e}-lg ${i}`]:{borderStartStartRadius:0,borderEndStartRadius:0}}}}function hl(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{focus:!0};const{componentCls:o}=e,n=`${o}-compact`;return{[n]:Object.assign(Object.assign({},ul(e,n,t)),dl(o,n,t))}}function pl(e,t){return{[`&-item:not(${t}-last-item)`]:{marginBottom:e.calc(e.lineWidth).mul(-1).equal()},"&-item":{"&:hover,&:focus,&:active":{zIndex:2},"&[disabled]":{zIndex:0}}}}function gl(e){const t=`${e.componentCls}-compact-vertical`;return{[t]:Object.assign(Object.assign({},pl(e,t)),(o=e.componentCls,n=t,{[`&-item:not(${n}-first-item):not(${n}-last-item)`]:{borderRadius:0},[`&-item${n}-first-item:not(${n}-last-item)`]:{[`&, &${o}-sm, &${o}-lg`]:{borderEndEndRadius:0,borderEndStartRadius:0}},[`&-item${n}-last-item:not(${n}-first-item)`]:{[`&, &${o}-sm, &${o}-lg`]:{borderStartStartRadius:0,borderStartEndRadius:0}}}))};var o,n}const fl=e=>{const{componentCls:t,colorPrimaryHover:o,lineWidth:n,calc:i}=e,r=i(n).mul(-1).equal(),s=e=>({[`${t}-compact${e?"-vertical":""}-item${t}-primary:not([disabled])`]:{"& + &::before":{position:"absolute",top:e?r:0,insetInlineStart:e?0:r,backgroundColor:o,content:'""',width:e?"100%":n,height:e?n:"100%"}}});return Object.assign(Object.assign({},s()),s(!0))},ml=zi(["Button","compact"],(e=>{const t=ka(e);return[hl(t),gl(t),fl(t)]}),Ga);var vl=function(e,t){var o={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(o[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(o[n[i]]=e[n[i]])}return o};const yl={default:["default","outlined"],primary:["primary","solid"],dashed:["default","dashed"],link:["primary","link"],text:["default","text"]},Cl=t.forwardRef(((e,o)=>{var n,i,r,s;const{loading:a=!1,prefixCls:l,color:c,variant:h,type:p,danger:f=!1,shape:m="default",size:v,styles:y,disabled:C,className:w,rootClassName:b,children:S,icon:E,iconPosition:R="start",ghost:P=!1,block:O=!1,htmlType:x="button",classNames:T,style:D={},autoInsertSpace:A,autoFocus:F}=e,_=vl(e,["loading","prefixCls","color","variant","type","danger","shape","size","styles","disabled","className","rootClassName","children","icon","iconPosition","ghost","block","htmlType","classNames","style","autoInsertSpace","autoFocus"]),M=p||"default",[I,L]=(0,t.useMemo)((()=>{if(c&&h)return[c,h];const e=yl[M]||[];return f?["danger",e[1]]:e}),[p,c,h,f]),N="danger"===I?"dangerous":I,{getPrefixCls:k,direction:G,button:V}=(0,t.useContext)(g),H=null===(n=null!==A&&void 0!==A?A:null===V||void 0===V?void 0:V.autoInsertSpace)||void 0===n||n,B=k("btn",l),[W,j,z]=cl(B),U=(0,t.useContext)(Zs),$=null!==C&&void 0!==C?C:U,K=(0,t.useContext)(sa),Y=(0,t.useMemo)((()=>function(e){if("object"===typeof e&&e){let t=null===e||void 0===e?void 0:e.delay;return t=Number.isNaN(t)||"number"!==typeof t?0:t,{loading:t<=0,delay:t}}return{loading:!!e,delay:0}}(a)),[a]),[q,X]=(0,t.useState)(Y.loading),[Q,Z]=(0,t.useState)(!1),J=(0,t.useRef)(),ee=Bn(o,J),te=1===t.Children.count(S)&&!E&&!ha(L);(0,t.useEffect)((()=>{let e=null;return Y.delay>0?e=setTimeout((()=>{e=null,X(!0)}),Y.delay):X(Y.loading),function(){e&&(clearTimeout(e),e=null)}}),[Y]),(0,t.useEffect)((()=>{if(!J.current||!H)return;const e=J.current.textContent||"";te&&ca(e)?Q||Z(!0):Q&&Z(!1)})),(0,t.useEffect)((()=>{F&&J.current&&J.current.focus()}),[]);const oe=t.useCallback((t=>{var o;q||$?t.preventDefault():null===(o=e.onClick)||void 0===o||o.call(e,t)}),[e.onClick,q,$]);const{compactSize:ne,compactItemClassnames:ie}=((e,o)=>{const n=t.useContext(na),i=t.useMemo((()=>{if(!n)return"";const{compactDirection:t,isFirstItem:i,isLastItem:r}=n,s="vertical"===t?"-vertical-":"-";return u()(`${e}-compact${s}item`,{[`${e}-compact${s}first-item`]:i,[`${e}-compact${s}last-item`]:r,[`${e}-compact${s}item-rtl`]:"rtl"===o})}),[e,o,n]);return{compactSize:null===n||void 0===n?void 0:n.compactSize,compactDirection:null===n||void 0===n?void 0:n.compactDirection,compactItemClassnames:i}})(B,G),re={large:"lg",small:"sm",middle:void 0},se=oa((e=>{var t,o;return null!==(o=null!==(t=null!==v&&void 0!==v?v:ne)&&void 0!==t?t:K)&&void 0!==o?o:e})),ae=se&&null!==(i=re[se])&&void 0!==i?i:"",le=q?"loading":E,ce=d(_,["navigate"]),ue=u()(B,j,z,{[`${B}-${m}`]:"default"!==m&&m,[`${B}-${M}`]:M,[`${B}-dangerous`]:f,[`${B}-color-${N}`]:N,[`${B}-variant-${L}`]:L,[`${B}-${ae}`]:ae,[`${B}-icon-only`]:!S&&0!==S&&!!le,[`${B}-background-ghost`]:P&&!ha(L),[`${B}-loading`]:q,[`${B}-two-chinese-chars`]:Q&&H&&!q,[`${B}-block`]:O,[`${B}-rtl`]:"rtl"===G,[`${B}-icon-end`]:"end"===R},ie,w,b,null===V||void 0===V?void 0:V.className),de=Object.assign(Object.assign({},null===V||void 0===V?void 0:V.style),D),he=u()(null===T||void 0===T?void 0:T.icon,null===(r=null===V||void 0===V?void 0:V.classNames)||void 0===r?void 0:r.icon),pe=Object.assign(Object.assign({},(null===y||void 0===y?void 0:y.icon)||{}),(null===(s=null===V||void 0===V?void 0:V.styles)||void 0===s?void 0:s.icon)||{}),ge=E&&!q?t.createElement(fa,{prefixCls:B,className:he,style:pe},E):t.createElement(Sa,{existIcon:!!E,prefixCls:B,loading:q}),fe=S||0===S?pa(S,te&&H):null;if(void 0!==ce.href)return W(t.createElement("a",Object.assign({},ce,{className:u()(ue,{[`${B}-disabled`]:$}),href:$?void 0:ce.href,style:de,onClick:oe,ref:ee,tabIndex:$?-1:0}),ge,fe));let me=t.createElement("button",Object.assign({},_,{type:x,className:ue,style:de,onClick:oe,disabled:$,ref:ee}),ge,fe,ie&&t.createElement(ml,{prefixCls:B}));return ha(L)||(me=t.createElement(qs,{component:"Button",disabled:q},me)),W(me)})),wl=Cl;wl.Group=aa,wl.__ANT_BUTTON=!0;const bl=wl;const Sl={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM142.4 642.1L298.7 519a8.84 8.84 0 000-13.9L142.4 381.9c-5.8-4.6-14.4-.5-14.4 6.9v246.3a8.9 8.9 0 0014.4 7z"}}]},name:"menu-unfold",theme:"outlined"};var El=function(e,o){return t.createElement(ut,C({},e,{ref:o,icon:Sl}))};const Rl=t.forwardRef(El);const Pl={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 000 13.8z"}}]},name:"menu-fold",theme:"outlined"};var Ol=function(e,o){return t.createElement(ut,C({},e,{ref:o,icon:Pl}))};const xl=t.forwardRef(Ol);const Tl={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M834.1 469.2A347.49 347.49 0 00751.2 354l-29.1-26.7a8.09 8.09 0 00-13 3.3l-13 37.3c-8.1 23.4-23 47.3-44.1 70.8-1.4 1.5-3 1.9-4.1 2-1.1.1-2.8-.1-4.3-1.5-1.4-1.2-2.1-3-2-4.8 3.7-60.2-14.3-128.1-53.7-202C555.3 171 510 123.1 453.4 89.7l-41.3-24.3c-5.4-3.2-12.3 1-12 7.3l2.2 48c1.5 32.8-2.3 61.8-11.3 85.9-11 29.5-26.8 56.9-47 81.5a295.64 295.64 0 01-47.5 46.1 352.6 352.6 0 00-100.3 121.5A347.75 347.75 0 00160 610c0 47.2 9.3 92.9 27.7 136a349.4 349.4 0 0075.5 110.9c32.4 32 70 57.2 111.9 74.7C418.5 949.8 464.5 959 512 959s93.5-9.2 136.9-27.3A348.6 348.6 0 00760.8 857c32.4-32 57.8-69.4 75.5-110.9a344.2 344.2 0 0027.7-136c0-48.8-10-96.2-29.9-140.9z"}}]},name:"fire",theme:"filled"};var Dl=function(e,o){return t.createElement(ut,C({},e,{ref:o,icon:Tl}))};const Al=t.forwardRef(Dl);var Fl=o(579);function _l(){return(0,Fl.jsx)("div",{className:"logo",children:(0,Fl.jsx)("div",{className:"logo-icon",children:(0,Fl.jsx)(Al,{})})})}var Ml=t.createContext(null);var Il=function(){if("undefined"!==typeof Map)return Map;function e(e,t){var o=-1;return e.some((function(e,n){return e[0]===t&&(o=n,!0)})),o}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var o=e(this.__entries__,t),n=this.__entries__[o];return n&&n[1]},t.prototype.set=function(t,o){var n=e(this.__entries__,t);~n?this.__entries__[n][1]=o:this.__entries__.push([t,o])},t.prototype.delete=function(t){var o=this.__entries__,n=e(o,t);~n&&o.splice(n,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var o=0,n=this.__entries__;o<n.length;o++){var i=n[o];e.call(t,i[1],i[0])}},t}()}(),Ll="undefined"!==typeof window&&"undefined"!==typeof document&&window.document===document,Nl="undefined"!==typeof o.g&&o.g.Math===Math?o.g:"undefined"!==typeof self&&self.Math===Math?self:"undefined"!==typeof window&&window.Math===Math?window:Function("return this")(),kl="function"===typeof requestAnimationFrame?requestAnimationFrame.bind(Nl):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)};var Gl=["top","right","bottom","left","width","height","size","weight"],Vl="undefined"!==typeof MutationObserver,Hl=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var o=!1,n=!1,i=0;function r(){o&&(o=!1,e()),n&&a()}function s(){kl(r)}function a(){var e=Date.now();if(o){if(e-i<2)return;n=!0}else o=!0,n=!1,setTimeout(s,t);i=e}return a}(this.refresh.bind(this),20)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,o=t.indexOf(e);~o&&t.splice(o,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){Ll&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),Vl?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){Ll&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,o=void 0===t?"":t;Gl.some((function(e){return!!~o.indexOf(e)}))&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),Bl=function(e,t){for(var o=0,n=Object.keys(t);o<n.length;o++){var i=n[o];Object.defineProperty(e,i,{value:t[i],enumerable:!1,writable:!1,configurable:!0})}return e},Wl=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||Nl},jl=ql(0,0,0,0);function zl(e){return parseFloat(e)||0}function Ul(e){for(var t=[],o=1;o<arguments.length;o++)t[o-1]=arguments[o];return t.reduce((function(t,o){return t+zl(e["border-"+o+"-width"])}),0)}function $l(e){var t=e.clientWidth,o=e.clientHeight;if(!t&&!o)return jl;var n=Wl(e).getComputedStyle(e),i=function(e){for(var t={},o=0,n=["top","right","bottom","left"];o<n.length;o++){var i=n[o],r=e["padding-"+i];t[i]=zl(r)}return t}(n),r=i.left+i.right,s=i.top+i.bottom,a=zl(n.width),l=zl(n.height);if("border-box"===n.boxSizing&&(Math.round(a+r)!==t&&(a-=Ul(n,"left","right")+r),Math.round(l+s)!==o&&(l-=Ul(n,"top","bottom")+s)),!function(e){return e===Wl(e).document.documentElement}(e)){var c=Math.round(a+r)-t,u=Math.round(l+s)-o;1!==Math.abs(c)&&(a-=c),1!==Math.abs(u)&&(l-=u)}return ql(i.left,i.top,a,l)}var Kl="undefined"!==typeof SVGGraphicsElement?function(e){return e instanceof Wl(e).SVGGraphicsElement}:function(e){return e instanceof Wl(e).SVGElement&&"function"===typeof e.getBBox};function Yl(e){return Ll?Kl(e)?function(e){var t=e.getBBox();return ql(0,0,t.width,t.height)}(e):$l(e):jl}function ql(e,t,o,n){return{x:e,y:t,width:o,height:n}}var Xl=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=ql(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=Yl(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),Ql=function(e,t){var o=function(e){var t=e.x,o=e.y,n=e.width,i=e.height,r="undefined"!==typeof DOMRectReadOnly?DOMRectReadOnly:Object,s=Object.create(r.prototype);return Bl(s,{x:t,y:o,width:n,height:i,top:o,right:t+n,bottom:i+o,left:t}),s}(t);Bl(this,{target:e,contentRect:o})},Zl=function(){function e(e,t,o){if(this.activeObservations_=[],this.observations_=new Il,"function"!==typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=o}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof Wl(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new Xl(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof Wl(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new Ql(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),Jl="undefined"!==typeof WeakMap?new WeakMap:new Il,ec=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var o=Hl.getInstance(),n=new Zl(t,o,this);Jl.set(this,n)};["observe","unobserve","disconnect"].forEach((function(e){ec.prototype[e]=function(){var t;return(t=Jl.get(this))[e].apply(t,arguments)}}));const tc="undefined"!==typeof Nl.ResizeObserver?Nl.ResizeObserver:ec;var oc=new Map;var nc=new tc((function(e){e.forEach((function(e){var t,o=e.target;null===(t=oc.get(o))||void 0===t||t.forEach((function(e){return e(o)}))}))}));var ic=function(e){En(o,e);var t=On(o);function o(){return Et(this,o),t.apply(this,arguments)}return Pt(o,[{key:"render",value:function(){return this.props.children}}]),o}(t.Component);function rc(e,o){var n=e.children,i=e.disabled,r=t.useRef(null),s=t.useRef(null),a=t.useContext(Ml),l="function"===typeof n,c=l?n(r):n,u=t.useRef({width:-1,height:-1,offsetWidth:-1,offsetHeight:-1}),d=!l&&t.isValidElement(c)&&Wn(c),h=d?c.ref:null,p=Bn(h,r),g=function(){var e;return kr(r.current)||(r.current&&"object"===R(r.current)?kr(null===(e=r.current)||void 0===e?void 0:e.nativeElement):null)||kr(s.current)};t.useImperativeHandle(o,(function(){return g()}));var f=t.useRef(e);f.current=e;var m=t.useCallback((function(e){var t=f.current,o=t.onResize,n=t.data,i=e.getBoundingClientRect(),r=i.width,s=i.height,l=e.offsetWidth,c=e.offsetHeight,d=Math.floor(r),h=Math.floor(s);if(u.current.width!==d||u.current.height!==h||u.current.offsetWidth!==l||u.current.offsetHeight!==c){var p={width:d,height:h,offsetWidth:l,offsetHeight:c};u.current=p;var g=l===Math.round(r)?r:l,m=c===Math.round(s)?s:c,v=Ae(Ae({},p),{},{offsetWidth:g,offsetHeight:m});null===a||void 0===a||a(v,e,n),o&&Promise.resolve().then((function(){o(v,e)}))}}),[]);return t.useEffect((function(){var e,t,o=g();return o&&!i&&(e=o,t=m,oc.has(e)||(oc.set(e,new Set),nc.observe(e)),oc.get(e).add(t)),function(){return function(e,t){oc.has(e)&&(oc.get(e).delete(t),oc.get(e).size||(nc.unobserve(e),oc.delete(e)))}(o,m)}}),[r.current,i]),t.createElement(ic,{ref:s},d?t.cloneElement(c,{ref:p}):c)}const sc=t.forwardRef(rc);function ac(e,o){var n=e.children;return("function"===typeof n?[n]:y(n)).map((function(n,i){var r=(null===n||void 0===n?void 0:n.key)||"".concat("rc-observer-key","-").concat(i);return t.createElement(sc,C({},e,{key:r,ref:0===i?o:void 0}),n)}))}var lc=t.forwardRef(ac);lc.Collection=function(e){var o=e.children,n=e.onBatchResize,i=t.useRef(0),r=t.useRef([]),s=t.useContext(Ml),a=t.useCallback((function(e,t,o){i.current+=1;var a=i.current;r.current.push({size:e,element:t,data:o}),Promise.resolve().then((function(){a===i.current&&(null===n||void 0===n||n(r.current),r.current=[])})),null===s||void 0===s||s(e,t,o)}),[n,s]);return t.createElement(Ml.Provider,{value:a},o)};const cc=lc;var uc=["prefixCls","invalidate","item","renderItem","responsive","responsiveDisabled","registerSize","itemKey","className","style","children","display","order","component"],dc=void 0;function hc(e,o){var n=e.prefixCls,i=e.invalidate,r=e.item,s=e.renderItem,a=e.responsive,l=e.responsiveDisabled,c=e.registerSize,d=e.itemKey,h=e.className,p=e.style,g=e.children,f=e.display,m=e.order,v=e.component,y=void 0===v?"div":v,w=x(e,uc),b=a&&!f;function S(e){c(d,e)}t.useEffect((function(){return function(){S(null)}}),[]);var E,R=s&&r!==dc?s(r):g;i||(E={opacity:b?0:1,height:b?0:dc,overflowY:b?"hidden":dc,order:a?m:dc,pointerEvents:b?"none":dc,position:b?"absolute":dc});var P={};b&&(P["aria-hidden"]=!0);var O=t.createElement(y,C({className:u()(!i&&n,h),style:Ae(Ae({},E),p)},P,w,{ref:o}),R);return a&&(O=t.createElement(cc,{onResize:function(e){S(e.offsetWidth)},disabled:l},O)),O}var pc=t.forwardRef(hc);pc.displayName="Item";const gc=pc;function fc(){var e=t.useRef(null);return function(t){e.current||(e.current=[],function(e){if("undefined"===typeof MessageChannel)_r(e);else{var t=new MessageChannel;t.port1.onmessage=function(){return e()},t.port2.postMessage(void 0)}}((function(){(0,Ir.unstable_batchedUpdates)((function(){e.current.forEach((function(e){e()})),e.current=null}))}))),e.current.push(t)}}function mc(e,o){var n=E(t.useState(o),2),i=n[0],r=n[1];return[i,Ln((function(t){e((function(){r(t)}))}))]}var vc=t.createContext(null),yc=["component"],Cc=["className"],wc=["className"],bc=function(e,o){var n=t.useContext(vc);if(!n){var i=e.component,r=void 0===i?"div":i,s=x(e,yc);return t.createElement(r,C({},s,{ref:o}))}var a=n.className,l=x(n,Cc),c=e.className,d=x(e,wc);return t.createElement(vc.Provider,{value:null},t.createElement(gc,C({ref:o,className:u()(a,c)},l,d)))},Sc=t.forwardRef(bc);Sc.displayName="RawItem";const Ec=Sc;var Rc=["prefixCls","data","renderItem","renderRawItem","itemKey","itemWidth","ssr","style","className","maxCount","renderRest","renderRawRest","suffix","component","itemComponent","onVisibleChange"],Pc="responsive",Oc="invalidate";function xc(e){return"+ ".concat(e.length," ...")}function Tc(e,o){var n=e.prefixCls,i=void 0===n?"rc-overflow":n,r=e.data,s=void 0===r?[]:r,a=e.renderItem,l=e.renderRawItem,c=e.itemKey,d=e.itemWidth,h=void 0===d?10:d,p=e.ssr,g=e.style,f=e.className,m=e.maxCount,v=e.renderRest,y=e.renderRawRest,w=e.suffix,b=e.component,S=void 0===b?"div":b,R=e.itemComponent,P=e.onVisibleChange,O=x(e,Rc),T="full"===p,D=fc(),A=E(mc(D,null),2),F=A[0],_=A[1],M=F||0,I=E(mc(D,new Map),2),L=I[0],N=I[1],k=E(mc(D,0),2),G=k[0],V=k[1],H=E(mc(D,0),2),B=H[0],W=H[1],j=E(mc(D,0),2),z=j[0],U=j[1],$=E((0,t.useState)(null),2),K=$[0],Y=$[1],q=E((0,t.useState)(null),2),X=q[0],Q=q[1],Z=t.useMemo((function(){return null===X&&T?Number.MAX_SAFE_INTEGER:X||0}),[X,F]),J=E((0,t.useState)(!1),2),ee=J[0],te=J[1],oe="".concat(i,"-item"),ne=Math.max(G,B),ie=m===Pc,re=s.length&&ie,se=m===Oc,ae=re||"number"===typeof m&&s.length>m,le=(0,t.useMemo)((function(){var e=s;return re?e=null===F&&T?s:s.slice(0,Math.min(s.length,M/h)):"number"===typeof m&&(e=s.slice(0,m)),e}),[s,h,F,m,re]),ce=(0,t.useMemo)((function(){return re?s.slice(Z+1):s.slice(le.length)}),[s,le,re,Z]),ue=(0,t.useCallback)((function(e,t){var o;return"function"===typeof c?c(e):null!==(o=c&&(null===e||void 0===e?void 0:e[c]))&&void 0!==o?o:t}),[c]),de=(0,t.useCallback)(a||function(e){return e},[a]);function he(e,t,o){(X!==e||void 0!==t&&t!==K)&&(Q(e),o||(te(e<s.length-1),null===P||void 0===P||P(e)),void 0!==t&&Y(t))}function pe(e,t){N((function(o){var n=new Map(o);return null===t?n.delete(e):n.set(e,t),n}))}function ge(e){return L.get(ue(le[e],e))}to((function(){if(M&&"number"===typeof ne&&le){var e=z,t=le.length,o=t-1;if(!t)return void he(0,null);for(var n=0;n<t;n+=1){var i=ge(n);if(T&&(i=i||0),void 0===i){he(n-1,void 0,!0);break}if(e+=i,0===o&&e<=M||n===o-1&&e+ge(o)<=M){he(o,null);break}if(e+ne>M){he(n-1,e-i-z+B);break}}w&&ge(0)+z>M&&Y(null)}}),[M,L,B,z,ue,le]);var fe=ee&&!!ce.length,me={};null!==K&&re&&(me={position:"absolute",left:K,top:0});var ve,ye={prefixCls:oe,responsive:re,component:R,invalidate:se},Ce=l?function(e,o){var n=ue(e,o);return t.createElement(vc.Provider,{key:n,value:Ae(Ae({},ye),{},{order:o,item:e,itemKey:n,registerSize:pe,display:o<=Z})},l(e,o))}:function(e,o){var n=ue(e,o);return t.createElement(gc,C({},ye,{order:o,key:n,item:e,renderItem:de,itemKey:n,registerSize:pe,display:o<=Z}))},we={order:fe?Z:Number.MAX_SAFE_INTEGER,className:"".concat(oe,"-rest"),registerSize:function(e,t){W(t),V(B)},display:fe};if(y)y&&(ve=t.createElement(vc.Provider,{value:Ae(Ae({},ye),we)},y(ce)));else{var be=v||xc;ve=t.createElement(gc,C({},ye,we),"function"===typeof be?be(ce):be)}var Se=t.createElement(S,C({className:u()(!se&&i,f),style:g,ref:o},O),le.map(Ce),ae?ve:null,w&&t.createElement(gc,C({},ye,{responsive:ie,responsiveDisabled:!re,order:Z,className:"".concat(oe,"-suffix"),registerSize:function(e,t){U(t)},display:!0,style:me}),w));return ie&&(Se=t.createElement(cc,{onResize:function(e,t){_(t.clientWidth)},disabled:!re},Se)),Se}var Dc=t.forwardRef(Tc);Dc.displayName="Overflow",Dc.Item=Ec,Dc.RESPONSIVE=Pc,Dc.INVALIDATE=Oc;const Ac=Dc;var Fc=t.createContext(null);function _c(e,t){return void 0===e?null:"".concat(e,"-").concat(t)}function Mc(e){return _c(t.useContext(Fc),e)}var Ic=["children","locked"],Lc=t.createContext(null);function Nc(e){var o=e.children,n=e.locked,i=x(e,Ic),r=t.useContext(Lc),s=bt((function(){return function(e,t){var o=Ae({},e);return Object.keys(t).forEach((function(e){var n=t[e];void 0!==n&&(o[e]=n)})),o}(r,i)}),[r,i],(function(e,t){return!n&&(e[0]!==t[0]||!St(e[1],t[1],!0))}));return t.createElement(Lc.Provider,{value:s},o)}var kc=[],Gc=t.createContext(null);function Vc(){return t.useContext(Gc)}var Hc=t.createContext(kc);function Bc(e){var o=t.useContext(Hc);return t.useMemo((function(){return void 0!==e?[].concat(l(o),[e]):o}),[o,e])}var Wc=t.createContext(null);const jc=t.createContext({});function zc(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(br(e)){var o=e.nodeName.toLowerCase(),n=["input","select","textarea","button"].includes(o)||e.isContentEditable||"a"===o&&!!e.getAttribute("href"),i=e.getAttribute("tabindex"),r=Number(i),s=null;return i&&!Number.isNaN(r)?s=r:n&&null===s&&(s=0),n&&e.disabled&&(s=null),null!==s&&(s>=0||t&&s<0)}return!1}function Uc(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=l(e.querySelectorAll("*")).filter((function(e){return zc(e,t)}));return zc(e,t)&&o.unshift(e),o}var $c={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function(e){var t=e.keyCode;if(e.altKey&&!e.ctrlKey||e.metaKey||t>=$c.F1&&t<=$c.F12)return!1;switch(t){case $c.ALT:case $c.CAPS_LOCK:case $c.CONTEXT_MENU:case $c.CTRL:case $c.DOWN:case $c.END:case $c.ESC:case $c.HOME:case $c.INSERT:case $c.LEFT:case $c.MAC_FF_META:case $c.META:case $c.NUMLOCK:case $c.NUM_CENTER:case $c.PAGE_DOWN:case $c.PAGE_UP:case $c.PAUSE:case $c.PRINT_SCREEN:case $c.RIGHT:case $c.SHIFT:case $c.UP:case $c.WIN_KEY:case $c.WIN_KEY_RIGHT:return!1;default:return!0}},isCharacterKey:function(e){if(e>=$c.ZERO&&e<=$c.NINE)return!0;if(e>=$c.NUM_ZERO&&e<=$c.NUM_MULTIPLY)return!0;if(e>=$c.A&&e<=$c.Z)return!0;if(-1!==window.navigator.userAgent.indexOf("WebKit")&&0===e)return!0;switch(e){case $c.SPACE:case $c.QUESTION_MARK:case $c.NUM_PLUS:case $c.NUM_MINUS:case $c.NUM_PERIOD:case $c.NUM_DIVISION:case $c.SEMICOLON:case $c.DASH:case $c.EQUALS:case $c.COMMA:case $c.PERIOD:case $c.SLASH:case $c.APOSTROPHE:case $c.SINGLE_QUOTE:case $c.OPEN_SQUARE_BRACKET:case $c.BACKSLASH:case $c.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}};const Kc=$c;var Yc=Kc.LEFT,qc=Kc.RIGHT,Xc=Kc.UP,Qc=Kc.DOWN,Zc=Kc.ENTER,Jc=Kc.ESC,eu=Kc.HOME,tu=Kc.END,ou=[Xc,Qc,Yc,qc];function nu(e,t){return Uc(e,!0).filter((function(e){return t.has(e)}))}function iu(e,t,o){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;if(!e)return null;var i=nu(e,t),r=i.length,s=i.findIndex((function(e){return o===e}));return n<0?-1===s?s=r-1:s-=1:n>0&&(s+=1),i[s=(s+r)%r]}var ru=function(e,t){var o=new Set,n=new Map,i=new Map;return e.forEach((function(e){var r=document.querySelector("[data-menu-id='".concat(_c(t,e),"']"));r&&(o.add(r),i.set(r,e),n.set(e,r))})),{elements:o,key2element:n,element2key:i}};function su(e,o,n,i,r,s,a,l,c,u){var d=t.useRef(),h=t.useRef();h.current=o;var p=function(){_r.cancel(d.current)};return t.useEffect((function(){return function(){p()}}),[]),function(t){var g=t.which;if([].concat(ou,[Zc,Jc,eu,tu]).includes(g)){var f=s(),m=ru(f,i),v=m,y=v.elements,C=v.key2element,w=v.element2key,b=function(e,t){for(var o=e||document.activeElement;o;){if(t.has(o))return o;o=o.parentElement}return null}(C.get(o),y),S=w.get(b),E=function(e,t,o,n){var i,r="prev",s="next",a="children",l="parent";if("inline"===e&&n===Zc)return{inlineTrigger:!0};var c=O(O({},Xc,r),Qc,s),u=O(O(O(O({},Yc,o?s:r),qc,o?r:s),Qc,a),Zc,a),d=O(O(O(O(O(O({},Xc,r),Qc,s),Zc,a),Jc,l),Yc,o?a:l),qc,o?l:a);switch(null===(i={inline:c,horizontal:u,vertical:d,inlineSub:c,horizontalSub:d,verticalSub:d}["".concat(e).concat(t?"":"Sub")])||void 0===i?void 0:i[n]){case r:return{offset:-1,sibling:!0};case s:return{offset:1,sibling:!0};case l:return{offset:-1,sibling:!1};case a:return{offset:1,sibling:!1};default:return null}}(e,1===a(S,!0).length,n,g);if(!E&&g!==eu&&g!==tu)return;(ou.includes(g)||[eu,tu].includes(g))&&t.preventDefault();var R=function(e){if(e){var t=e,o=e.querySelector("a");null!==o&&void 0!==o&&o.getAttribute("href")&&(t=o);var n=w.get(e);l(n),p(),d.current=_r((function(){h.current===n&&t.focus()}))}};if([eu,tu].includes(g)||E.sibling||!b){var P,x,T=nu(P=b&&"inline"!==e?function(e){for(var t=e;t;){if(t.getAttribute("data-menu-list"))return t;t=t.parentElement}return null}(b):r.current,y);x=g===eu?T[0]:g===tu?T[T.length-1]:iu(P,y,b,E.offset),R(x)}else if(E.inlineTrigger)c(S);else if(E.offset>0)c(S,!0),p(),d.current=_r((function(){m=ru(f,i);var e=b.getAttribute("aria-controls"),t=iu(document.getElementById(e),m.elements);R(t)}),5);else if(E.offset<0){var D=a(S,!0),A=D[D.length-2],F=C.get(A);c(A,!1),R(F)}}null===u||void 0===u||u(t)}}var au="__RC_UTIL_PATH_SPLIT__",lu=function(e){return e.join(au)},cu="rc-menu-more";function uu(){var e=E(t.useState({}),2)[1],o=(0,t.useRef)(new Map),n=(0,t.useRef)(new Map),i=E(t.useState([]),2),r=i[0],s=i[1],a=(0,t.useRef)(0),c=(0,t.useRef)(!1),u=(0,t.useCallback)((function(t,i){var r=lu(i);n.current.set(r,t),o.current.set(t,r),a.current+=1;var s,l=a.current;s=function(){l===a.current&&(c.current||e({}))},Promise.resolve().then(s)}),[]),d=(0,t.useCallback)((function(e,t){var i=lu(t);n.current.delete(i),o.current.delete(e)}),[]),h=(0,t.useCallback)((function(e){s(e)}),[]),p=(0,t.useCallback)((function(e,t){var n=o.current.get(e)||"",i=n.split(au);return t&&r.includes(i[0])&&i.unshift(cu),i}),[r]),g=(0,t.useCallback)((function(e,t){return e.filter((function(e){return void 0!==e})).some((function(e){return p(e,!0).includes(t)}))}),[p]),f=(0,t.useCallback)((function(e){var t="".concat(o.current.get(e)).concat(au),i=new Set;return l(n.current.keys()).forEach((function(e){e.startsWith(t)&&i.add(n.current.get(e))})),i}),[]);return t.useEffect((function(){return function(){c.current=!0}}),[]),{registerPath:u,unregisterPath:d,refreshOverflowKeys:h,isSubPathKey:g,getKeyPath:p,getKeys:function(){var e=l(o.current.keys());return r.length&&e.push(cu),e},getSubPathKeys:f}}function du(e){var o=t.useRef(e);o.current=e;var n=t.useCallback((function(){for(var e,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return null===(e=o.current)||void 0===e?void 0:e.call.apply(e,[o].concat(n))}),[]);return e?n:void 0}var hu=Math.random().toFixed(5).toString().slice(2),pu=0;function gu(e,o,n,i){var r=t.useContext(Lc),s=r.activeKey,a=r.onActive,l=r.onInactive,c={active:s===e};return o||(c.onMouseEnter=function(t){null===n||void 0===n||n({key:e,domEvent:t}),a(e)},c.onMouseLeave=function(t){null===i||void 0===i||i({key:e,domEvent:t}),l(e)}),c}function fu(e){var o=t.useContext(Lc),n=o.mode,i=o.rtl,r=o.inlineIndent;if("inline"!==n)return null;return i?{paddingRight:e*r}:{paddingLeft:e*r}}function mu(e){var o,n=e.icon,i=e.props,r=e.children;return null===n||!1===n?null:("function"===typeof n?o=t.createElement(n,Ae({},i)):"boolean"!==typeof n&&(o=n),o||r||null)}var vu=["item"];function yu(e){var t=e.item,o=x(e,vu);return Object.defineProperty(o,"item",{get:function(){return Qe(!1,"`info.item` is deprecated since we will move to function component that not provides React Node instance in future."),t}}),o}var Cu=["title","attribute","elementRef"],wu=["style","className","eventKey","warnKey","disabled","itemIcon","children","role","onMouseEnter","onMouseLeave","onClick","onKeyDown","onFocus"],bu=["active"],Su=function(e){En(n,e);var o=On(n);function n(){return Et(this,n),o.apply(this,arguments)}return Pt(n,[{key:"render",value:function(){var e=this.props,o=e.title,n=e.attribute,i=e.elementRef,r=d(x(e,Cu),["eventKey","popupClassName","popupOffset","onTitleClick"]);return Qe(!n,"`attribute` of Menu.Item is deprecated. Please pass attribute directly."),t.createElement(Ac.Item,C({},n,{title:"string"===typeof o?o:void 0},r,{ref:i}))}}]),n}(t.Component),Eu=t.forwardRef((function(e,o){var n=e.style,i=e.className,r=e.eventKey,s=(e.warnKey,e.disabled),a=e.itemIcon,c=e.children,h=e.role,p=e.onMouseEnter,g=e.onMouseLeave,f=e.onClick,m=e.onKeyDown,v=e.onFocus,y=x(e,wu),w=Mc(r),b=t.useContext(Lc),S=b.prefixCls,E=b.onItemClick,R=b.disabled,P=b.overflowDisabled,T=b.itemIcon,D=b.selectedKeys,A=b.onActive,F=t.useContext(jc)._internalRenderMenuItem,_="".concat(S,"-item"),M=t.useRef(),I=t.useRef(),L=R||s,N=Bn(o,I),k=Bc(r);var G=function(e){return{key:r,keyPath:l(k).reverse(),item:M.current,domEvent:e}},V=a||T,H=gu(r,L,p,g),B=H.active,W=x(H,bu),j=D.includes(r),z=fu(k.length),U={};"option"===e.role&&(U["aria-selected"]=j);var $=t.createElement(Su,C({ref:M,elementRef:N,role:null===h?"none":h||"menuitem",tabIndex:s?null:-1,"data-menu-id":P&&w?null:w},d(y,["extra"]),W,U,{component:"li","aria-disabled":s,style:Ae(Ae({},z),n),className:u()(_,O(O(O({},"".concat(_,"-active"),B),"".concat(_,"-selected"),j),"".concat(_,"-disabled"),L),i),onClick:function(e){if(!L){var t=G(e);null===f||void 0===f||f(yu(t)),E(t)}},onKeyDown:function(e){if(null===m||void 0===m||m(e),e.which===Kc.ENTER){var t=G(e);null===f||void 0===f||f(yu(t)),E(t)}},onFocus:function(e){A(r),null===v||void 0===v||v(e)}}),c,t.createElement(mu,{props:Ae(Ae({},e),{},{isSelected:j}),icon:V}));return F&&($=F($,e,{selected:j})),$}));function Ru(e,o){var n=e.eventKey,i=Vc(),r=Bc(n);return t.useEffect((function(){if(i)return i.registerPath(n,r),function(){i.unregisterPath(n,r)}}),[r]),i?null:t.createElement(Eu,C({},e,{ref:o}))}const Pu=t.forwardRef(Ru);var Ou=["className","children"],xu=function(e,o){var n=e.className,i=e.children,r=x(e,Ou),s=t.useContext(Lc),a=s.prefixCls,l=s.mode,c=s.rtl;return t.createElement("ul",C({className:u()(a,c&&"".concat(a,"-rtl"),"".concat(a,"-sub"),"".concat(a,"-").concat("inline"===l?"inline":"vertical"),n),role:"menu"},r,{"data-menu-list":!0,ref:o}),i)},Tu=t.forwardRef(xu);Tu.displayName="SubMenuList";const Du=Tu;function Au(e,o){return y(e).map((function(e,n){if(t.isValidElement(e)){var i,r,s=e.key,a=null!==(i=null===(r=e.props)||void 0===r?void 0:r.eventKey)&&void 0!==i?i:s;(null===a||void 0===a)&&(a="tmp_key-".concat([].concat(l(o),[n]).join("-")));var c={key:a,eventKey:a};return t.cloneElement(e,c)}return e}))}const Fu=t.createContext(null);var _u=[];function Mu(e){var t="rc-scrollbar-measure-".concat(Math.random().toString(36).substring(7)),o=document.createElement("div");o.id=t;var n,i,r=o.style;if(r.position="absolute",r.left="0",r.top="0",r.width="100px",r.height="100px",r.overflow="scroll",e){var s=getComputedStyle(e);r.scrollbarColor=s.scrollbarColor,r.scrollbarWidth=s.scrollbarWidth;var a=getComputedStyle(e,"::-webkit-scrollbar"),l=parseInt(a.width,10),c=parseInt(a.height,10);try{var u=l?"width: ".concat(a.width,";"):"",d=c?"height: ".concat(a.height,";"):"";We("\n#".concat(t,"::-webkit-scrollbar {\n").concat(u,"\n").concat(d,"\n}"),t)}catch(bI){console.error(bI),n=l,i=c}}document.body.appendChild(o);var h=e&&n&&!isNaN(n)?n:o.offsetWidth-o.clientWidth,p=e&&i&&!isNaN(i)?i:o.offsetHeight-o.clientHeight;return document.body.removeChild(o),Be(t),{width:h,height:p}}var Iu="rc-util-locker-".concat(Date.now()),Lu=0;function Nu(e){var o=!!e,n=E(t.useState((function(){return Lu+=1,"".concat(Iu,"_").concat(Lu)})),1)[0];to((function(){if(o){var e=(i=document.body,"undefined"!==typeof document&&i&&i instanceof Element?Mu(i):{width:0,height:0}).width,t=document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth;We("\nhtml body {\n  overflow-y: hidden;\n  ".concat(t?"width: calc(100% - ".concat(e,"px);"):"","\n}"),n)}else Be(n);var i;return function(){Be(n)}}),[o,n])}var ku=!1;var Gu=function(e){return!1!==e&&(Fe()&&e?"string"===typeof e?document.querySelector(e):"function"===typeof e?e():e:null)},Vu=t.forwardRef((function(e,o){var n=e.open,i=e.autoLock,r=e.getContainer,s=(e.debug,e.autoDestroy),a=void 0===s||s,c=e.children,u=E(t.useState(n),2),d=u[0],h=u[1],p=d||n;t.useEffect((function(){(a||n)&&h(n)}),[n,a]);var g=E(t.useState((function(){return Gu(r)})),2),f=g[0],m=g[1];t.useEffect((function(){var e=Gu(r);m(null!==e&&void 0!==e?e:null)}));var v=function(e){var o=E(t.useState((function(){return Fe()?document.createElement("div"):null})),1)[0],n=t.useRef(!1),i=t.useContext(Fu),r=E(t.useState(_u),2),s=r[0],a=r[1],c=i||(n.current?void 0:function(e){a((function(t){return[e].concat(l(t))}))});function u(){o.parentElement||document.body.appendChild(o),n.current=!0}function d(){var e;null===(e=o.parentElement)||void 0===e||e.removeChild(o),n.current=!1}return to((function(){return e?i?i(u):u():d(),d}),[e]),to((function(){s.length&&(s.forEach((function(e){return e()})),a(_u))}),[s]),[o,c]}(p&&!f),y=E(v,2),C=y[0],w=y[1],b=null!==f&&void 0!==f?f:C;Nu(i&&n&&Fe()&&(b===C||b===document.body));var S=null;c&&Wn(c)&&o&&(S=c.ref);var R=Bn(S,o);if(!p||!Fe()||void 0===f)return null;var P,O=!1===b||("boolean"===typeof P&&(ku=P),ku),x=c;return o&&(x=t.cloneElement(c,{ref:R})),t.createElement(Fu.Provider,{value:w},O?x:(0,Ir.createPortal)(x,b))}));const Hu=Vu;var Bu=0;var Wu=Ae({},n).useId;const ju=Wu?function(e){var t=Wu();return e||t}:function(e){var o=E(t.useState("ssr-id"),2),n=o[0],i=o[1];return t.useEffect((function(){var e=Bu;Bu+=1,i("rc_unique_".concat(e))}),[]),e||n};function zu(e){var o=e.prefixCls,n=e.align,i=e.arrow,r=e.arrowPos,s=i||{},a=s.className,l=s.content,c=r.x,d=void 0===c?0:c,h=r.y,p=void 0===h?0:h,g=t.useRef();if(!n||!n.points)return null;var f={position:"absolute"};if(!1!==n.autoArrow){var m=n.points[0],v=n.points[1],y=m[0],C=m[1],w=v[0],b=v[1];y!==w&&["t","b"].includes(y)?"t"===y?f.top=0:f.bottom=0:f.top=p,C!==b&&["l","r"].includes(C)?"l"===C?f.left=0:f.right=0:f.left=d}return t.createElement("div",{ref:g,className:u()("".concat(o,"-arrow"),a),style:f},l)}function Uu(e){var o=e.prefixCls,n=e.open,i=e.zIndex,r=e.mask,s=e.motion;return r?t.createElement(xs,C({},s,{motionAppear:!0,visible:n,removeOnLeave:!0}),(function(e){var n=e.className;return t.createElement("div",{style:{zIndex:i},className:u()("".concat(o,"-mask"),n)})})):null}var $u=t.memo((function(e){return e.children}),(function(e,t){return t.cache}));const Ku=$u;var Yu=t.forwardRef((function(e,o){var n=e.popup,i=e.className,r=e.prefixCls,s=e.style,a=e.target,l=e.onVisibleChanged,c=e.open,d=e.keepDom,h=e.fresh,p=e.onClick,g=e.mask,f=e.arrow,m=e.arrowPos,v=e.align,y=e.motion,w=e.maskMotion,b=e.forceRender,S=e.getPopupContainer,R=e.autoDestroy,P=e.portal,O=e.zIndex,x=e.onMouseEnter,T=e.onMouseLeave,D=e.onPointerEnter,A=e.onPointerDownCapture,F=e.ready,_=e.offsetX,M=e.offsetY,I=e.offsetR,L=e.offsetB,N=e.onAlign,k=e.onPrepare,G=e.stretch,V=e.targetWidth,H=e.targetHeight,B="function"===typeof n?n():n,W=c||d,j=(null===S||void 0===S?void 0:S.length)>0,z=E(t.useState(!S||!j),2),U=z[0],$=z[1];if(to((function(){!U&&j&&a&&$(!0)}),[U,j,a]),!U)return null;var K="auto",Y={left:"-1000vw",top:"-1000vh",right:K,bottom:K};if(F||!c){var q,X=v.points,Q=v.dynamicInset||(null===(q=v._experimental)||void 0===q?void 0:q.dynamicInset),Z=Q&&"r"===X[0][1],J=Q&&"b"===X[0][0];Z?(Y.right=I,Y.left=K):(Y.left=_,Y.right=K),J?(Y.bottom=L,Y.top=K):(Y.top=M,Y.bottom=K)}var ee={};return G&&(G.includes("height")&&H?ee.height=H:G.includes("minHeight")&&H&&(ee.minHeight=H),G.includes("width")&&V?ee.width=V:G.includes("minWidth")&&V&&(ee.minWidth=V)),c||(ee.pointerEvents="none"),t.createElement(P,{open:b||W,getContainer:S&&function(){return S(a)},autoDestroy:R},t.createElement(Uu,{prefixCls:r,open:c,zIndex:O,mask:g,motion:w}),t.createElement(cc,{onResize:N,disabled:!c},(function(e){return t.createElement(xs,C({motionAppear:!0,motionEnter:!0,motionLeave:!0,removeOnLeave:!1,forceRender:b,leavedClassName:"".concat(r,"-hidden")},y,{onAppearPrepare:k,onEnterPrepare:k,visible:c,onVisibleChanged:function(e){var t;null===y||void 0===y||null===(t=y.onVisibleChanged)||void 0===t||t.call(y,e),l(e)}}),(function(n,a){var l=n.className,d=n.style,g=u()(r,l,i);return t.createElement("div",{ref:Hn(e,o,a),className:g,style:Ae(Ae(Ae(Ae({"--arrow-x":"".concat(m.x||0,"px"),"--arrow-y":"".concat(m.y||0,"px")},Y),ee),d),{},{boxSizing:"border-box",zIndex:O},s),onMouseEnter:x,onMouseLeave:T,onPointerEnter:D,onClick:p,onPointerDownCapture:A},f&&t.createElement(zu,{prefixCls:r,arrow:f,arrowPos:m,align:v}),t.createElement(Ku,{cache:!c&&!h},B))}))})))}));const qu=Yu;var Xu=t.forwardRef((function(e,o){var n=e.children,i=e.getTriggerDOMNode,r=Wn(n),s=t.useCallback((function(e){Vn(o,i?i(e):e)}),[i]),a=Bn(s,n.ref);return r?t.cloneElement(n,{ref:a}):n}));const Qu=Xu;const Zu=t.createContext(null);function Ju(e){return e?Array.isArray(e)?e:[e]:[]}function ed(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return(arguments.length>2?arguments[2]:void 0)?e[0]===t[0]:e[0]===t[0]&&e[1]===t[1]}function td(e,t,o,n){return t||(o?{motionName:"".concat(e,"-").concat(o)}:n?{motionName:n}:null)}function od(e){return e.ownerDocument.defaultView}function nd(e){for(var t=[],o=null===e||void 0===e?void 0:e.parentElement,n=["hidden","scroll","clip","auto"];o;){var i=od(o).getComputedStyle(o);[i.overflowX,i.overflowY,i.overflow].some((function(e){return n.includes(e)}))&&t.push(o),o=o.parentElement}return t}function id(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return Number.isNaN(e)?t:e}function rd(e){return id(parseFloat(e),0)}function sd(e,t){var o=Ae({},e);return(t||[]).forEach((function(e){if(!(e instanceof HTMLBodyElement||e instanceof HTMLHtmlElement)){var t=od(e).getComputedStyle(e),n=t.overflow,i=t.overflowClipMargin,r=t.borderTopWidth,s=t.borderBottomWidth,a=t.borderLeftWidth,l=t.borderRightWidth,c=e.getBoundingClientRect(),u=e.offsetHeight,d=e.clientHeight,h=e.offsetWidth,p=e.clientWidth,g=rd(r),f=rd(s),m=rd(a),v=rd(l),y=id(Math.round(c.width/h*1e3)/1e3),C=id(Math.round(c.height/u*1e3)/1e3),w=(h-p-m-v)*y,b=(u-d-g-f)*C,S=g*C,E=f*C,R=m*y,P=v*y,O=0,x=0;if("clip"===n){var T=rd(i);O=T*y,x=T*C}var D=c.x+R-O,A=c.y+S-x,F=D+c.width+2*O-R-P-w,_=A+c.height+2*x-S-E-b;o.left=Math.max(o.left,D),o.top=Math.max(o.top,A),o.right=Math.min(o.right,F),o.bottom=Math.min(o.bottom,_)}})),o}function ad(e){var t="".concat(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0),o=t.match(/^(.*)\%$/);return o?e*(parseFloat(o[1])/100):parseFloat(t)}function ld(e,t){var o=E(t||[],2),n=o[0],i=o[1];return[ad(e.width,n),ad(e.height,i)]}function cd(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return[e[0],e[1]]}function ud(e,t){var o,n=t[0],i=t[1];return o="t"===n?e.y:"b"===n?e.y+e.height:e.y+e.height/2,{x:"l"===i?e.x:"r"===i?e.x+e.width:e.x+e.width/2,y:o}}function dd(e,t){var o={t:"b",b:"t",l:"r",r:"l"};return e.map((function(e,n){return n===t?o[e]||"c":e})).join("")}var hd=["prefixCls","children","action","showAction","hideAction","popupVisible","defaultPopupVisible","onPopupVisibleChange","afterPopupVisibleChange","mouseEnterDelay","mouseLeaveDelay","focusDelay","blurDelay","mask","maskClosable","getPopupContainer","forceRender","autoDestroy","destroyPopupOnHide","popup","popupClassName","popupStyle","popupPlacement","builtinPlacements","popupAlign","zIndex","stretch","getPopupClassNameFromAlign","fresh","alignPoint","onPopupClick","onPopupAlign","arrow","popupMotion","maskMotion","popupTransitionName","popupAnimation","maskTransitionName","maskAnimation","className","getTriggerDOMNode"];const pd=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Hu,o=t.forwardRef((function(o,n){var i=o.prefixCls,r=void 0===i?"rc-trigger-popup":i,s=o.children,a=o.action,c=void 0===a?"hover":a,d=o.showAction,h=o.hideAction,p=o.popupVisible,g=o.defaultPopupVisible,f=o.onPopupVisibleChange,m=o.afterPopupVisibleChange,v=o.mouseEnterDelay,y=o.mouseLeaveDelay,C=void 0===y?.1:y,w=o.focusDelay,b=o.blurDelay,S=o.mask,R=o.maskClosable,P=void 0===R||R,O=o.getPopupContainer,T=o.forceRender,D=o.autoDestroy,A=o.destroyPopupOnHide,F=o.popup,_=o.popupClassName,M=o.popupStyle,I=o.popupPlacement,L=o.builtinPlacements,N=void 0===L?{}:L,k=o.popupAlign,G=o.zIndex,V=o.stretch,H=o.getPopupClassNameFromAlign,B=o.fresh,W=o.alignPoint,j=o.onPopupClick,z=o.onPopupAlign,U=o.arrow,$=o.popupMotion,K=o.maskMotion,Y=o.popupTransitionName,q=o.popupAnimation,X=o.maskTransitionName,Q=o.maskAnimation,Z=o.className,J=o.getTriggerDOMNode,ee=x(o,hd),te=D||A||!1,oe=E(t.useState(!1),2),ne=oe[0],ie=oe[1];to((function(){ie(function(){if("undefined"===typeof navigator||"undefined"===typeof window)return!1;var e=navigator.userAgent||navigator.vendor||window.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(null===e||void 0===e?void 0:e.substr(0,4))}())}),[]);var re=t.useRef({}),se=t.useContext(Zu),ae=t.useMemo((function(){return{registerSubPopup:function(e,t){re.current[e]=t,null===se||void 0===se||se.registerSubPopup(e,t)}}}),[se]),le=ju(),ce=E(t.useState(null),2),ue=ce[0],de=ce[1],he=t.useRef(null),pe=Ln((function(e){he.current=e,Nr(e)&&ue!==e&&de(e),null===se||void 0===se||se.registerSubPopup(le,e)})),ge=E(t.useState(null),2),fe=ge[0],me=ge[1],ve=t.useRef(null),ye=Ln((function(e){Nr(e)&&fe!==e&&(me(e),ve.current=e)})),Ce=t.Children.only(s),we=(null===Ce||void 0===Ce?void 0:Ce.props)||{},be={},Se=Ln((function(e){var t,o,n=fe;return(null===n||void 0===n?void 0:n.contains(e))||(null===(t=ze(n))||void 0===t?void 0:t.host)===e||e===n||(null===ue||void 0===ue?void 0:ue.contains(e))||(null===(o=ze(ue))||void 0===o?void 0:o.host)===e||e===ue||Object.values(re.current).some((function(t){return(null===t||void 0===t?void 0:t.contains(e))||e===t}))})),Ee=td(r,$,q,Y),Re=td(r,K,Q,X),Pe=E(t.useState(g||!1),2),Oe=Pe[0],xe=Pe[1],Te=null!==p&&void 0!==p?p:Oe,De=Ln((function(e){void 0===p&&xe(e)}));to((function(){xe(p||!1)}),[p]);var Fe=t.useRef(Te);Fe.current=Te;var _e=t.useRef([]);_e.current=[];var Me=Ln((function(e){var t;De(e),(null!==(t=_e.current[_e.current.length-1])&&void 0!==t?t:Te)!==e&&(_e.current.push(e),null===f||void 0===f||f(e))})),Ie=t.useRef(),Le=function(){clearTimeout(Ie.current)},Ne=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;Le(),0===t?Me(e):Ie.current=setTimeout((function(){Me(e)}),1e3*t)};t.useEffect((function(){return Le}),[]);var ke=E(t.useState(!1),2),Ge=ke[0],Ve=ke[1];to((function(e){e&&!Te||Ve(!0)}),[Te]);var He=E(t.useState(null),2),Be=He[0],We=He[1],je=E(t.useState(null),2),Ue=je[0],$e=je[1],Ke=function(e){$e([e.clientX,e.clientY])},Ye=function(e,o,n,i,r,s,a){var l=E(t.useState({ready:!1,offsetX:0,offsetY:0,offsetR:0,offsetB:0,arrowX:0,arrowY:0,scaleX:1,scaleY:1,align:r[i]||{}}),2),c=l[0],u=l[1],d=t.useRef(0),h=t.useMemo((function(){return o?nd(o):[]}),[o]),p=t.useRef({});e||(p.current={});var g=Ln((function(){if(o&&n&&e){var t,l,c,d,g,f=o,m=f.ownerDocument,v=od(f).getComputedStyle(f),y=v.width,C=v.height,w=v.position,b=f.style.left,S=f.style.top,R=f.style.right,P=f.style.bottom,O=f.style.overflow,x=Ae(Ae({},r[i]),s),T=m.createElement("div");if(null===(t=f.parentElement)||void 0===t||t.appendChild(T),T.style.left="".concat(f.offsetLeft,"px"),T.style.top="".concat(f.offsetTop,"px"),T.style.position=w,T.style.height="".concat(f.offsetHeight,"px"),T.style.width="".concat(f.offsetWidth,"px"),f.style.left="0",f.style.top="0",f.style.right="auto",f.style.bottom="auto",f.style.overflow="hidden",Array.isArray(n))g={x:n[0],y:n[1],width:0,height:0};else{var D,A,F=n.getBoundingClientRect();F.x=null!==(D=F.x)&&void 0!==D?D:F.left,F.y=null!==(A=F.y)&&void 0!==A?A:F.top,g={x:F.x,y:F.y,width:F.width,height:F.height}}var _=f.getBoundingClientRect();_.x=null!==(l=_.x)&&void 0!==l?l:_.left,_.y=null!==(c=_.y)&&void 0!==c?c:_.top;var M=m.documentElement,I=M.clientWidth,L=M.clientHeight,N=M.scrollWidth,k=M.scrollHeight,G=M.scrollTop,V=M.scrollLeft,H=_.height,B=_.width,W=g.height,j=g.width,z={left:0,top:0,right:I,bottom:L},U={left:-V,top:-G,right:N-V,bottom:k-G},$=x.htmlRegion,K="visible",Y="visibleFirst";"scroll"!==$&&$!==Y&&($=K);var q=$===Y,X=sd(U,h),Q=sd(z,h),Z=$===K?Q:X,J=q?Q:Z;f.style.left="auto",f.style.top="auto",f.style.right="0",f.style.bottom="0";var ee=f.getBoundingClientRect();f.style.left=b,f.style.top=S,f.style.right=R,f.style.bottom=P,f.style.overflow=O,null===(d=f.parentElement)||void 0===d||d.removeChild(T);var te=id(Math.round(B/parseFloat(y)*1e3)/1e3),oe=id(Math.round(H/parseFloat(C)*1e3)/1e3);if(0===te||0===oe||Nr(n)&&!br(n))return;var ne=x.offset,ie=x.targetOffset,re=E(ld(_,ne),2),se=re[0],ae=re[1],le=E(ld(g,ie),2),ce=le[0],ue=le[1];g.x-=ce,g.y-=ue;var de=E(x.points||[],2),he=de[0],pe=cd(de[1]),ge=cd(he),fe=ud(g,pe),me=ud(_,ge),ve=Ae({},x),ye=fe.x-me.x+se,Ce=fe.y-me.y+ae;function pt(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Z,n=_.x+e,i=_.y+t,r=n+B,s=i+H,a=Math.max(n,o.left),l=Math.max(i,o.top),c=Math.min(r,o.right),u=Math.min(s,o.bottom);return Math.max(0,(c-a)*(u-l))}var we,be,Se,Ee,Re=pt(ye,Ce),Pe=pt(ye,Ce,Q),Oe=ud(g,["t","l"]),xe=ud(_,["t","l"]),Te=ud(g,["b","r"]),De=ud(_,["b","r"]),Fe=x.overflow||{},_e=Fe.adjustX,Me=Fe.adjustY,Ie=Fe.shiftX,Le=Fe.shiftY,Ne=function(e){return"boolean"===typeof e?e:e>=0};function gt(){we=_.y+Ce,be=we+H,Se=_.x+ye,Ee=Se+B}gt();var ke=Ne(Me),Ge=ge[0]===pe[0];if(ke&&"t"===ge[0]&&(be>J.bottom||p.current.bt)){var Ve=Ce;Ge?Ve-=H-W:Ve=Oe.y-De.y-ae;var He=pt(ye,Ve),Be=pt(ye,Ve,Q);He>Re||He===Re&&(!q||Be>=Pe)?(p.current.bt=!0,Ce=Ve,ae=-ae,ve.points=[dd(ge,0),dd(pe,0)]):p.current.bt=!1}if(ke&&"b"===ge[0]&&(we<J.top||p.current.tb)){var We=Ce;Ge?We+=H-W:We=Te.y-xe.y-ae;var je=pt(ye,We),ze=pt(ye,We,Q);je>Re||je===Re&&(!q||ze>=Pe)?(p.current.tb=!0,Ce=We,ae=-ae,ve.points=[dd(ge,0),dd(pe,0)]):p.current.tb=!1}var Ue=Ne(_e),$e=ge[1]===pe[1];if(Ue&&"l"===ge[1]&&(Ee>J.right||p.current.rl)){var Ke=ye;$e?Ke-=B-j:Ke=Oe.x-De.x-se;var Ye=pt(Ke,Ce),qe=pt(Ke,Ce,Q);Ye>Re||Ye===Re&&(!q||qe>=Pe)?(p.current.rl=!0,ye=Ke,se=-se,ve.points=[dd(ge,1),dd(pe,1)]):p.current.rl=!1}if(Ue&&"r"===ge[1]&&(Se<J.left||p.current.lr)){var Xe=ye;$e?Xe+=B-j:Xe=Te.x-xe.x-se;var Qe=pt(Xe,Ce),Ze=pt(Xe,Ce,Q);Qe>Re||Qe===Re&&(!q||Ze>=Pe)?(p.current.lr=!0,ye=Xe,se=-se,ve.points=[dd(ge,1),dd(pe,1)]):p.current.lr=!1}gt();var Je=!0===Ie?0:Ie;"number"===typeof Je&&(Se<Q.left&&(ye-=Se-Q.left-se,g.x+j<Q.left+Je&&(ye+=g.x-Q.left+j-Je)),Ee>Q.right&&(ye-=Ee-Q.right-se,g.x>Q.right-Je&&(ye+=g.x-Q.right+Je)));var et=!0===Le?0:Le;"number"===typeof et&&(we<Q.top&&(Ce-=we-Q.top-ae,g.y+W<Q.top+et&&(Ce+=g.y-Q.top+W-et)),be>Q.bottom&&(Ce-=be-Q.bottom-ae,g.y>Q.bottom-et&&(Ce+=g.y-Q.bottom+et)));var tt=_.x+ye,ot=tt+B,nt=_.y+Ce,it=nt+H,rt=g.x,st=rt+j,at=g.y,lt=at+W,ct=(Math.max(tt,rt)+Math.min(ot,st))/2-tt,ut=(Math.max(nt,at)+Math.min(it,lt))/2-nt;null===a||void 0===a||a(o,ve);var dt=ee.right-_.x-(ye+_.width),ht=ee.bottom-_.y-(Ce+_.height);1===te&&(ye=Math.round(ye),dt=Math.round(dt)),1===oe&&(Ce=Math.round(Ce),ht=Math.round(ht)),u({ready:!0,offsetX:ye/te,offsetY:Ce/oe,offsetR:dt/te,offsetB:ht/oe,arrowX:ct/te,arrowY:ut/oe,scaleX:te,scaleY:oe,align:ve})}})),f=function(){u((function(e){return Ae(Ae({},e),{},{ready:!1})}))};return to(f,[i]),to((function(){e||f()}),[e]),[c.ready,c.offsetX,c.offsetY,c.offsetR,c.offsetB,c.arrowX,c.arrowY,c.scaleX,c.scaleY,c.align,function(){d.current+=1;var e=d.current;Promise.resolve().then((function(){d.current===e&&g()}))}]}(Te,ue,W&&null!==Ue?Ue:fe,I,N,k,z),qe=E(Ye,11),Xe=qe[0],Qe=qe[1],Ze=qe[2],Je=qe[3],et=qe[4],tt=qe[5],ot=qe[6],nt=qe[7],it=qe[8],rt=qe[9],st=qe[10],at=function(e,o,n,i){return t.useMemo((function(){var t=Ju(null!==n&&void 0!==n?n:o),r=Ju(null!==i&&void 0!==i?i:o),s=new Set(t),a=new Set(r);return e&&(s.has("hover")&&(s.delete("hover"),s.add("click")),a.has("hover")&&(a.delete("hover"),a.add("click"))),[s,a]}),[e,o,n,i])}(ne,c,d,h),lt=E(at,2),ct=lt[0],ut=lt[1],dt=ct.has("click"),ht=ut.has("click")||ut.has("contextMenu"),pt=Ln((function(){Ge||st()}));!function(e,t,o,n,i){to((function(){if(e&&t&&o){var r=o,s=nd(t),a=nd(r),c=od(r),u=new Set([c].concat(l(s),l(a)));function d(){n(),i()}return u.forEach((function(e){e.addEventListener("scroll",d,{passive:!0})})),c.addEventListener("resize",d,{passive:!0}),n(),function(){u.forEach((function(e){e.removeEventListener("scroll",d),c.removeEventListener("resize",d)}))}}}),[e,t,o])}(Te,fe,ue,pt,(function(){Fe.current&&W&&ht&&Ne(!1)})),to((function(){pt()}),[Ue,I]),to((function(){!Te||null!==N&&void 0!==N&&N[I]||pt()}),[JSON.stringify(k)]);var gt=t.useMemo((function(){var e=function(e,t,o,n){for(var i=o.points,r=Object.keys(e),s=0;s<r.length;s+=1){var a,l=r[s];if(ed(null===(a=e[l])||void 0===a?void 0:a.points,i,n))return"".concat(t,"-placement-").concat(l)}return""}(N,r,rt,W);return u()(e,null===H||void 0===H?void 0:H(rt))}),[rt,H,N,r,W]);t.useImperativeHandle(n,(function(){return{nativeElement:ve.current,popupElement:he.current,forceAlign:pt}}));var ft=E(t.useState(0),2),mt=ft[0],vt=ft[1],yt=E(t.useState(0),2),Ct=yt[0],wt=yt[1],bt=function(){if(V&&fe){var e=fe.getBoundingClientRect();vt(e.width),wt(e.height)}};function St(e,t,o,n){be[e]=function(i){var r;null===n||void 0===n||n(i),Ne(t,o);for(var s=arguments.length,a=new Array(s>1?s-1:0),l=1;l<s;l++)a[l-1]=arguments[l];null===(r=we[e])||void 0===r||r.call.apply(r,[we,i].concat(a))}}to((function(){Be&&(st(),Be(),We(null))}),[Be]),(dt||ht)&&(be.onClick=function(e){var t;Fe.current&&ht?Ne(!1):!Fe.current&&dt&&(Ke(e),Ne(!0));for(var o=arguments.length,n=new Array(o>1?o-1:0),i=1;i<o;i++)n[i-1]=arguments[i];null===(t=we.onClick)||void 0===t||t.call.apply(t,[we,e].concat(n))});var Et,Rt,Pt=function(e,o,n,i,r,s,a,l){var c=t.useRef(e);c.current=e;var u=t.useRef(!1);return t.useEffect((function(){if(o&&i&&(!r||s)){var e=function(){u.current=!1},t=function(e){var t;!c.current||a((null===(t=e.composedPath)||void 0===t||null===(t=t.call(e))||void 0===t?void 0:t[0])||e.target)||u.current||l(!1)},d=od(i);d.addEventListener("pointerdown",e,!0),d.addEventListener("mousedown",t,!0),d.addEventListener("contextmenu",t,!0);var h=ze(n);return h&&(h.addEventListener("mousedown",t,!0),h.addEventListener("contextmenu",t,!0)),function(){d.removeEventListener("pointerdown",e,!0),d.removeEventListener("mousedown",t,!0),d.removeEventListener("contextmenu",t,!0),h&&(h.removeEventListener("mousedown",t,!0),h.removeEventListener("contextmenu",t,!0))}}}),[o,n,i,r,s]),function(){u.current=!0}}(Te,ht,fe,ue,S,P,Se,Ne),Ot=ct.has("hover"),xt=ut.has("hover");Ot&&(St("onMouseEnter",!0,v,(function(e){Ke(e)})),St("onPointerEnter",!0,v,(function(e){Ke(e)})),Et=function(e){(Te||Ge)&&null!==ue&&void 0!==ue&&ue.contains(e.target)&&Ne(!0,v)},W&&(be.onMouseMove=function(e){var t;null===(t=we.onMouseMove)||void 0===t||t.call(we,e)})),xt&&(St("onMouseLeave",!1,C),St("onPointerLeave",!1,C),Rt=function(){Ne(!1,C)}),ct.has("focus")&&St("onFocus",!0,w),ut.has("focus")&&St("onBlur",!1,b),ct.has("contextMenu")&&(be.onContextMenu=function(e){var t;Fe.current&&ut.has("contextMenu")?Ne(!1):(Ke(e),Ne(!0)),e.preventDefault();for(var o=arguments.length,n=new Array(o>1?o-1:0),i=1;i<o;i++)n[i-1]=arguments[i];null===(t=we.onContextMenu)||void 0===t||t.call.apply(t,[we,e].concat(n))}),Z&&(be.className=u()(we.className,Z));var Tt=Ae(Ae({},we),be),Dt={};["onContextMenu","onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur"].forEach((function(e){ee[e]&&(Dt[e]=function(){for(var t,o=arguments.length,n=new Array(o),i=0;i<o;i++)n[i]=arguments[i];null===(t=Tt[e])||void 0===t||t.call.apply(t,[Tt].concat(n)),ee[e].apply(ee,n)})}));var At=t.cloneElement(Ce,Ae(Ae({},Tt),Dt)),Ft={x:tt,y:ot},_t=U?Ae({},!0!==U?U:{}):null;return t.createElement(t.Fragment,null,t.createElement(cc,{disabled:!Te,ref:ye,onResize:function(){bt(),pt()}},t.createElement(Qu,{getTriggerDOMNode:J},At)),t.createElement(Zu.Provider,{value:ae},t.createElement(qu,{portal:e,ref:pe,prefixCls:r,popup:F,className:u()(_,gt),style:M,target:fe,onMouseEnter:Et,onMouseLeave:Rt,onPointerEnter:Et,zIndex:G,open:Te,keepDom:Ge,fresh:B,onClick:j,onPointerDownCapture:Pt,mask:S,motion:Ee,maskMotion:Re,onVisibleChanged:function(e){Ve(!1),st(),null===m||void 0===m||m(e)},onPrepare:function(){return new Promise((function(e){bt(),We((function(){return e}))}))},forceRender:T,autoDestroy:te,getPopupContainer:O,align:rt,arrow:_t,arrowPos:Ft,ready:Xe,offsetX:Qe,offsetY:Ze,offsetR:Je,offsetB:et,onAlign:pt,stretch:V,targetWidth:mt/nt,targetHeight:Ct/it})))}));return o}(Hu);var gd={adjustX:1,adjustY:1},fd={topLeft:{points:["bl","tl"],overflow:gd},topRight:{points:["br","tr"],overflow:gd},bottomLeft:{points:["tl","bl"],overflow:gd},bottomRight:{points:["tr","br"],overflow:gd},leftTop:{points:["tr","tl"],overflow:gd},leftBottom:{points:["br","bl"],overflow:gd},rightTop:{points:["tl","tr"],overflow:gd},rightBottom:{points:["bl","br"],overflow:gd}},md={topLeft:{points:["bl","tl"],overflow:gd},topRight:{points:["br","tr"],overflow:gd},bottomLeft:{points:["tl","bl"],overflow:gd},bottomRight:{points:["tr","br"],overflow:gd},rightTop:{points:["tr","tl"],overflow:gd},rightBottom:{points:["br","bl"],overflow:gd},leftTop:{points:["tl","tr"],overflow:gd},leftBottom:{points:["bl","br"],overflow:gd}};function vd(e,t,o){return t||(o?o[e]||o.other:void 0)}var yd={horizontal:"bottomLeft",vertical:"rightTop","vertical-left":"rightTop","vertical-right":"leftTop"};function Cd(e){var o=e.prefixCls,n=e.visible,i=e.children,r=e.popup,s=e.popupStyle,a=e.popupClassName,l=e.popupOffset,c=e.disabled,d=e.mode,h=e.onVisibleChange,p=t.useContext(Lc),g=p.getPopupContainer,f=p.rtl,m=p.subMenuOpenDelay,v=p.subMenuCloseDelay,y=p.builtinPlacements,C=p.triggerSubMenuAction,w=p.forceSubMenuRender,b=p.rootClassName,S=p.motion,R=p.defaultMotions,P=E(t.useState(!1),2),x=P[0],T=P[1],D=Ae(Ae({},f?md:fd),y),A=yd[d],F=vd(d,S,R),_=t.useRef(F);"inline"!==d&&(_.current=F);var M=Ae(Ae({},_.current),{},{leavedClassName:"".concat(o,"-hidden"),removeOnLeave:!1,motionAppear:!0}),I=t.useRef();return t.useEffect((function(){return I.current=_r((function(){T(n)})),function(){_r.cancel(I.current)}}),[n]),t.createElement(pd,{prefixCls:o,popupClassName:u()("".concat(o,"-popup"),O({},"".concat(o,"-rtl"),f),a,b),stretch:"horizontal"===d?"minWidth":null,getPopupContainer:g,builtinPlacements:D,popupPlacement:A,popupVisible:x,popup:r,popupStyle:s,popupAlign:l&&{offset:l},action:c?[]:[C],mouseEnterDelay:m,mouseLeaveDelay:v,onPopupVisibleChange:h,forceRender:w,popupMotion:M,fresh:!0},i)}function wd(e){var o=e.id,n=e.open,i=e.keyPath,r=e.children,s="inline",a=t.useContext(Lc),l=a.prefixCls,c=a.forceSubMenuRender,u=a.motion,d=a.defaultMotions,h=a.mode,p=t.useRef(!1);p.current=h===s;var g=E(t.useState(!p.current),2),f=g[0],m=g[1],v=!!p.current&&n;t.useEffect((function(){p.current&&m(!1)}),[h]);var y=Ae({},vd(s,u,d));i.length>1&&(y.motionAppear=!1);var w=y.onVisibleChanged;return y.onVisibleChanged=function(e){return p.current||e||m(!0),null===w||void 0===w?void 0:w(e)},f?null:t.createElement(Nc,{mode:s,locked:!p.current},t.createElement(xs,C({visible:v},y,{forceRender:c,removeOnLeave:!1,leavedClassName:"".concat(l,"-hidden")}),(function(e){var n=e.className,i=e.style;return t.createElement(Du,{id:o,className:n,style:i},r)})))}var bd=["style","className","title","eventKey","warnKey","disabled","internalPopupClose","children","itemIcon","expandIcon","popupClassName","popupOffset","popupStyle","onClick","onMouseEnter","onMouseLeave","onTitleClick","onTitleMouseEnter","onTitleMouseLeave"],Sd=["active"],Ed=t.forwardRef((function(e,o){var n=e.style,i=e.className,r=e.title,s=e.eventKey,a=(e.warnKey,e.disabled),l=e.internalPopupClose,c=e.children,d=e.itemIcon,h=e.expandIcon,p=e.popupClassName,g=e.popupOffset,f=e.popupStyle,m=e.onClick,v=e.onMouseEnter,y=e.onMouseLeave,w=e.onTitleClick,b=e.onTitleMouseEnter,S=e.onTitleMouseLeave,R=x(e,bd),P=Mc(s),T=t.useContext(Lc),D=T.prefixCls,A=T.mode,F=T.openKeys,_=T.disabled,M=T.overflowDisabled,I=T.activeKey,L=T.selectedKeys,N=T.itemIcon,k=T.expandIcon,G=T.onItemClick,V=T.onOpenChange,H=T.onActive,B=t.useContext(jc)._internalRenderSubMenuItem,W=t.useContext(Wc).isSubPathKey,j=Bc(),z="".concat(D,"-submenu"),U=_||a,$=t.useRef(),K=t.useRef();var Y=null!==d&&void 0!==d?d:N,q=null!==h&&void 0!==h?h:k,X=F.includes(s),Q=!M&&X,Z=W(L,s),J=gu(s,U,b,S),ee=J.active,te=x(J,Sd),oe=E(t.useState(!1),2),ne=oe[0],ie=oe[1],re=function(e){U||ie(e)},se=t.useMemo((function(){return ee||"inline"!==A&&(ne||W([I],s))}),[A,ee,I,ne,s,W]),ae=fu(j.length),le=du((function(e){null===m||void 0===m||m(yu(e)),G(e)})),ce=P&&"".concat(P,"-popup"),ue=t.createElement("div",C({role:"menuitem",style:ae,className:"".concat(z,"-title"),tabIndex:U?null:-1,ref:$,title:"string"===typeof r?r:null,"data-menu-id":M&&P?null:P,"aria-expanded":Q,"aria-haspopup":!0,"aria-controls":ce,"aria-disabled":U,onClick:function(e){U||(null===w||void 0===w||w({key:s,domEvent:e}),"inline"===A&&V(s,!X))},onFocus:function(){H(s)}},te),r,t.createElement(mu,{icon:"horizontal"!==A?q:void 0,props:Ae(Ae({},e),{},{isOpen:Q,isSubMenu:!0})},t.createElement("i",{className:"".concat(z,"-arrow")}))),de=t.useRef(A);if("inline"!==A&&j.length>1?de.current="vertical":de.current=A,!M){var he=de.current;ue=t.createElement(Cd,{mode:he,prefixCls:z,visible:!l&&Q&&"inline"!==A,popupClassName:p,popupOffset:g,popupStyle:f,popup:t.createElement(Nc,{mode:"horizontal"===he?"vertical":he},t.createElement(Du,{id:ce,ref:K},c)),disabled:U,onVisibleChange:function(e){"inline"!==A&&V(s,e)}},ue)}var pe=t.createElement(Ac.Item,C({ref:o,role:"none"},R,{component:"li",style:n,className:u()(z,"".concat(z,"-").concat(A),i,O(O(O(O({},"".concat(z,"-open"),Q),"".concat(z,"-active"),se),"".concat(z,"-selected"),Z),"".concat(z,"-disabled"),U)),onMouseEnter:function(e){re(!0),null===v||void 0===v||v({key:s,domEvent:e})},onMouseLeave:function(e){re(!1),null===y||void 0===y||y({key:s,domEvent:e})}}),ue,!M&&t.createElement(wd,{id:ce,open:Q,keyPath:j},c));return B&&(pe=B(pe,e,{selected:Z,active:se,open:Q,disabled:U})),t.createElement(Nc,{onItemClick:le,mode:"horizontal"===A?"vertical":A,itemIcon:Y,expandIcon:q},pe)}));const Rd=t.forwardRef((function(e,o){var n,i=e.eventKey,r=e.children,s=Bc(i),a=Au(r,s),l=Vc();return t.useEffect((function(){if(l)return l.registerPath(i,s),function(){l.unregisterPath(i,s)}}),[s]),n=l?a:t.createElement(Ed,C({ref:o},e),a),t.createElement(Hc.Provider,{value:s},n)}));function Pd(e){var o=e.className,n=e.style,i=t.useContext(Lc).prefixCls;return Vc()?null:t.createElement("li",{role:"separator",className:u()("".concat(i,"-item-divider"),o),style:n})}var Od=["className","title","eventKey","children"],xd=t.forwardRef((function(e,o){var n=e.className,i=e.title,r=(e.eventKey,e.children),s=x(e,Od),a=t.useContext(Lc).prefixCls,l="".concat(a,"-item-group");return t.createElement("li",C({ref:o,role:"presentation"},s,{onClick:function(e){return e.stopPropagation()},className:u()(l,n)}),t.createElement("div",{role:"presentation",className:"".concat(l,"-title"),title:"string"===typeof i?i:void 0},i),t.createElement("ul",{role:"group",className:"".concat(l,"-list")},r))}));const Td=t.forwardRef((function(e,o){var n=e.eventKey,i=Au(e.children,Bc(n));return Vc()?i:t.createElement(xd,C({ref:o},d(e,["warnKey"])),i)}));var Dd=["label","children","key","type","extra"];function Ad(e,o,n){var i=o.item,r=o.group,s=o.submenu,a=o.divider;return(e||[]).map((function(e,l){if(e&&"object"===R(e)){var c=e,u=c.label,d=c.children,h=c.key,p=c.type,g=c.extra,f=x(c,Dd),m=null!==h&&void 0!==h?h:"tmp-".concat(l);return d||"group"===p?"group"===p?t.createElement(r,C({key:m},f,{title:u}),Ad(d,o,n)):t.createElement(s,C({key:m},f,{title:u}),Ad(d,o,n)):"divider"===p?t.createElement(a,C({key:m},f)):t.createElement(i,C({key:m},f,{extra:g}),u,(!!g||0===g)&&t.createElement("span",{className:"".concat(n,"-item-extra")},g))}return null})).filter((function(e){return e}))}function Fd(e,t,o,n,i){var r=e,s=Ae({divider:Pd,item:Pu,group:Td,submenu:Rd},n);return t&&(r=Ad(t,s,i)),Au(r,o)}var _d=["prefixCls","rootClassName","style","className","tabIndex","items","children","direction","id","mode","inlineCollapsed","disabled","disabledOverflow","subMenuOpenDelay","subMenuCloseDelay","forceSubMenuRender","defaultOpenKeys","openKeys","activeKey","defaultActiveFirst","selectable","multiple","defaultSelectedKeys","selectedKeys","onSelect","onDeselect","inlineIndent","motion","defaultMotions","triggerSubMenuAction","builtinPlacements","itemIcon","expandIcon","overflowedIndicator","overflowedIndicatorPopupClassName","getPopupContainer","onClick","onOpenChange","onKeyDown","openAnimation","openTransitionName","_internalRenderMenuItem","_internalRenderSubMenuItem","_internalComponents"],Md=[],Id=t.forwardRef((function(e,o){var n,i=e,r=i.prefixCls,s=void 0===r?"rc-menu":r,a=i.rootClassName,c=i.style,d=i.className,h=i.tabIndex,p=void 0===h?0:h,g=i.items,f=i.children,m=i.direction,v=i.id,y=i.mode,w=void 0===y?"vertical":y,b=i.inlineCollapsed,S=i.disabled,R=i.disabledOverflow,P=i.subMenuOpenDelay,T=void 0===P?.1:P,D=i.subMenuCloseDelay,A=void 0===D?.1:D,F=i.forceSubMenuRender,_=i.defaultOpenKeys,M=i.openKeys,I=i.activeKey,L=i.defaultActiveFirst,N=i.selectable,k=void 0===N||N,G=i.multiple,V=void 0!==G&&G,H=i.defaultSelectedKeys,B=i.selectedKeys,W=i.onSelect,j=i.onDeselect,z=i.inlineIndent,U=void 0===z?24:z,$=i.motion,K=i.defaultMotions,Y=i.triggerSubMenuAction,q=void 0===Y?"hover":Y,X=i.builtinPlacements,Q=i.itemIcon,Z=i.expandIcon,J=i.overflowedIndicator,ee=void 0===J?"...":J,te=i.overflowedIndicatorPopupClassName,oe=i.getPopupContainer,ne=i.onClick,ie=i.onOpenChange,re=i.onKeyDown,se=(i.openAnimation,i.openTransitionName,i._internalRenderMenuItem),ae=i._internalRenderSubMenuItem,le=i._internalComponents,ce=x(i,_d),ue=E(t.useMemo((function(){return[Fd(f,g,Md,le,s),Fd(f,g,Md,{},s)]}),[f,g,le]),2),de=ue[0],he=ue[1],pe=E(t.useState(!1),2),ge=pe[0],fe=pe[1],me=t.useRef(),ve=function(e){var o=E(Gn(e,{value:e}),2),n=o[0],i=o[1];return t.useEffect((function(){pu+=1;var e="".concat(hu,"-").concat(pu);i("rc-menu-uuid-".concat(e))}),[]),n}(v),ye="rtl"===m;var Ce=Gn(_,{value:M,postState:function(e){return e||Md}}),we=E(Ce,2),be=we[0],Se=we[1],Ee=function(e){function t(){Se(e),null===ie||void 0===ie||ie(e)}arguments.length>1&&void 0!==arguments[1]&&arguments[1]?(0,Ir.flushSync)(t):t()},Re=E(t.useState(be),2),Pe=Re[0],Oe=Re[1],xe=t.useRef(!1),Te=E(t.useMemo((function(){return"inline"!==w&&"vertical"!==w||!b?[w,!1]:["vertical",b]}),[w,b]),2),De=Te[0],Fe=Te[1],_e="inline"===De,Me=E(t.useState(De),2),Ie=Me[0],Le=Me[1],Ne=E(t.useState(Fe),2),ke=Ne[0],Ge=Ne[1];t.useEffect((function(){Le(De),Ge(Fe),xe.current&&(_e?Se(Pe):Ee(Md))}),[De,Fe]);var Ve=E(t.useState(0),2),He=Ve[0],Be=Ve[1],We=He>=de.length-1||"horizontal"!==Ie||R;t.useEffect((function(){_e&&Oe(be)}),[be]),t.useEffect((function(){return xe.current=!0,function(){xe.current=!1}}),[]);var je=uu(),ze=je.registerPath,Ue=je.unregisterPath,$e=je.refreshOverflowKeys,Ke=je.isSubPathKey,Ye=je.getKeyPath,qe=je.getKeys,Xe=je.getSubPathKeys,Qe=t.useMemo((function(){return{registerPath:ze,unregisterPath:Ue}}),[ze,Ue]),Ze=t.useMemo((function(){return{isSubPathKey:Ke}}),[Ke]);t.useEffect((function(){$e(We?Md:de.slice(He+1).map((function(e){return e.key})))}),[He,We]);var Je=E(Gn(I||L&&(null===(n=de[0])||void 0===n?void 0:n.key),{value:I}),2),et=Je[0],tt=Je[1],ot=du((function(e){tt(e)})),nt=du((function(){tt(void 0)}));(0,t.useImperativeHandle)(o,(function(){return{list:me.current,focus:function(e){var t,o,n=qe(),i=ru(n,ve),r=i.elements,s=i.key2element,a=i.element2key,l=nu(me.current,r),c=null!==et&&void 0!==et?et:l[0]?a.get(l[0]):null===(t=de.find((function(e){return!e.props.disabled})))||void 0===t?void 0:t.key,u=s.get(c);c&&u&&(null===u||void 0===u||null===(o=u.focus)||void 0===o||o.call(u,e))}}}));var it=Gn(H||[],{value:B,postState:function(e){return Array.isArray(e)?e:null===e||void 0===e?Md:[e]}}),rt=E(it,2),st=rt[0],at=rt[1],lt=du((function(e){null===ne||void 0===ne||ne(yu(e)),function(e){if(k){var t,o=e.key,n=st.includes(o);t=V?n?st.filter((function(e){return e!==o})):[].concat(l(st),[o]):[o],at(t);var i=Ae(Ae({},e),{},{selectedKeys:t});n?null===j||void 0===j||j(i):null===W||void 0===W||W(i)}!V&&be.length&&"inline"!==Ie&&Ee(Md)}(e)})),ct=du((function(e,t){var o=be.filter((function(t){return t!==e}));if(t)o.push(e);else if("inline"!==Ie){var n=Xe(e);o=o.filter((function(e){return!n.has(e)}))}St(be,o,!0)||Ee(o,!0)})),ut=su(Ie,et,ye,ve,me,qe,Ye,tt,(function(e,t){var o=null!==t&&void 0!==t?t:!be.includes(e);ct(e,o)}),re);t.useEffect((function(){fe(!0)}),[]);var dt=t.useMemo((function(){return{_internalRenderMenuItem:se,_internalRenderSubMenuItem:ae}}),[se,ae]),ht="horizontal"!==Ie||R?de:de.map((function(e,o){return t.createElement(Nc,{key:e.key,overflowDisabled:o>He},e)})),pt=t.createElement(Ac,C({id:v,ref:me,prefixCls:"".concat(s,"-overflow"),component:"ul",itemComponent:Pu,className:u()(s,"".concat(s,"-root"),"".concat(s,"-").concat(Ie),d,O(O({},"".concat(s,"-inline-collapsed"),ke),"".concat(s,"-rtl"),ye),a),dir:m,style:c,role:"menu",tabIndex:p,data:ht,renderRawItem:function(e){return e},renderRawRest:function(e){var o=e.length,n=o?de.slice(-o):null;return t.createElement(Rd,{eventKey:cu,title:ee,disabled:We,internalPopupClose:0===o,popupClassName:te},n)},maxCount:"horizontal"!==Ie||R?Ac.INVALIDATE:Ac.RESPONSIVE,ssr:"full","data-menu-list":!0,onVisibleChange:function(e){Be(e)},onKeyDown:ut},ce));return t.createElement(jc.Provider,{value:dt},t.createElement(Fc.Provider,{value:ve},t.createElement(Nc,{prefixCls:s,rootClassName:a,mode:Ie,openKeys:be,rtl:ye,disabled:S,motion:ge?$:null,defaultMotions:ge?K:null,activeKey:et,onActive:ot,onInactive:nt,selectedKeys:st,inlineIndent:U,subMenuOpenDelay:T,subMenuCloseDelay:A,forceSubMenuRender:F,builtinPlacements:X,triggerSubMenuAction:q,getPopupContainer:oe,itemIcon:Q,expandIcon:Z,onItemClick:lt,onOpenChange:ct},t.createElement(Wc.Provider,{value:Ze},pt),t.createElement("div",{style:{display:"none"},"aria-hidden":!0},t.createElement(Gc.Provider,{value:Qe},he)))))}));var Ld=Id;Ld.Item=Pu,Ld.SubMenu=Rd,Ld.ItemGroup=Td,Ld.Divider=Pd;const Nd=Ld;const kd={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M176 511a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"ellipsis",theme:"outlined"};var Gd=function(e,o){return t.createElement(ut,C({},e,{ref:o,icon:kd}))};const Vd=t.forwardRef(Gd),Hd=()=>({height:0,opacity:0}),Bd=e=>{const{scrollHeight:t}=e;return{height:t,opacity:1}},Wd=e=>({height:e?e.offsetHeight:0}),jd=(e,t)=>!0===(null===t||void 0===t?void 0:t.deadline)||"height"===t.propertyName,zd=(e,t,o)=>void 0!==o?o:`${e}-${t}`,Ud=function(){return{motionName:`${arguments.length>0&&void 0!==arguments[0]?arguments[0]:h}-motion-collapse`,onAppearStart:Hd,onEnterStart:Hd,onAppearActive:Bd,onEnterActive:Bd,onLeaveStart:Wd,onLeaveActive:Hd,onAppearEnd:jd,onEnterEnd:jd,onLeaveEnd:jd,motionDeadline:500}},$d=e=>{const[,,,,t]=Hi();return t?`${e}-css-var`:""},Kd=(0,t.createContext)({prefixCls:"",firstLevel:!0,inlineCollapsed:!1});var Yd=function(e,t){var o={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(o[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(o[n[i]]=e[n[i]])}return o};const qd=e=>{const{prefixCls:o,className:n,dashed:i}=e,r=Yd(e,["prefixCls","className","dashed"]),{getPrefixCls:s}=t.useContext(g),a=s("menu",o),l=u()({[`${a}-item-divider-dashed`]:!!i},n);return t.createElement(Pd,Object.assign({className:l},r))};function Xd(e){var o=e.children,n=e.prefixCls,i=e.id,r=e.overlayInnerStyle,s=e.className,a=e.style;return t.createElement("div",{className:u()("".concat(n,"-content"),s),style:a},t.createElement("div",{className:"".concat(n,"-inner"),id:i,role:"tooltip",style:r},"function"===typeof o?o():o))}var Qd={shiftX:64,adjustY:1},Zd={adjustX:1,shiftY:!0},Jd=[0,0],eh={left:{points:["cr","cl"],overflow:Zd,offset:[-4,0],targetOffset:Jd},right:{points:["cl","cr"],overflow:Zd,offset:[4,0],targetOffset:Jd},top:{points:["bc","tc"],overflow:Qd,offset:[0,-4],targetOffset:Jd},bottom:{points:["tc","bc"],overflow:Qd,offset:[0,4],targetOffset:Jd},topLeft:{points:["bl","tl"],overflow:Qd,offset:[0,-4],targetOffset:Jd},leftTop:{points:["tr","tl"],overflow:Zd,offset:[-4,0],targetOffset:Jd},topRight:{points:["br","tr"],overflow:Qd,offset:[0,-4],targetOffset:Jd},rightTop:{points:["tl","tr"],overflow:Zd,offset:[4,0],targetOffset:Jd},bottomRight:{points:["tr","br"],overflow:Qd,offset:[0,4],targetOffset:Jd},rightBottom:{points:["bl","br"],overflow:Zd,offset:[4,0],targetOffset:Jd},bottomLeft:{points:["tl","bl"],overflow:Qd,offset:[0,4],targetOffset:Jd},leftBottom:{points:["br","bl"],overflow:Zd,offset:[-4,0],targetOffset:Jd}};var th=["overlayClassName","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle","prefixCls","children","onVisibleChange","afterVisibleChange","transitionName","animation","motion","placement","align","destroyTooltipOnHide","defaultVisible","getTooltipContainer","overlayInnerStyle","arrowContent","overlay","id","showArrow"],oh=function(e,o){var n=e.overlayClassName,i=e.trigger,r=void 0===i?["hover"]:i,s=e.mouseEnterDelay,a=void 0===s?0:s,l=e.mouseLeaveDelay,c=void 0===l?.1:l,u=e.overlayStyle,d=e.prefixCls,h=void 0===d?"rc-tooltip":d,p=e.children,g=e.onVisibleChange,f=e.afterVisibleChange,m=e.transitionName,v=e.animation,y=e.motion,w=e.placement,b=void 0===w?"right":w,S=e.align,E=void 0===S?{}:S,R=e.destroyTooltipOnHide,P=void 0!==R&&R,O=e.defaultVisible,T=e.getTooltipContainer,D=e.overlayInnerStyle,A=(e.arrowContent,e.overlay),F=e.id,_=e.showArrow,M=void 0===_||_,I=x(e,th),L=(0,t.useRef)(null);(0,t.useImperativeHandle)(o,(function(){return L.current}));var N=Ae({},I);"visible"in e&&(N.popupVisible=e.visible);return t.createElement(pd,C({popupClassName:n,prefixCls:h,popup:function(){return t.createElement(Xd,{key:"content",prefixCls:h,id:F,overlayInnerStyle:D},A)},action:r,builtinPlacements:eh,popupPlacement:b,ref:L,popupAlign:E,getPopupContainer:T,onPopupVisibleChange:g,afterPopupVisibleChange:f,popupTransitionName:m,popupAnimation:v,popupMotion:y,defaultPopupVisible:O,autoDestroy:P,mouseLeaveDelay:c,popupStyle:u,mouseEnterDelay:a,arrow:M},N),p)};const nh=(0,t.forwardRef)(oh);var ih="RC_FORM_INTERNAL_HOOKS",rh=function(){Qe(!1,"Can not find FormContext. Please make sure you wrap Field under Form.")};const sh=t.createContext({getFieldValue:rh,getFieldsValue:rh,getFieldError:rh,getFieldWarning:rh,getFieldsError:rh,isFieldsTouched:rh,isFieldTouched:rh,isFieldValidating:rh,isFieldsValidating:rh,resetFields:rh,setFields:rh,setFieldValue:rh,setFieldsValue:rh,validateFields:rh,submit:rh,getInternalHooks:function(){return rh(),{dispatch:rh,initEntityValue:rh,registerField:rh,useSubscribe:rh,setInitialValues:rh,destroyForm:rh,setCallbacks:rh,registerWatch:rh,getFields:rh,setValidateMessages:rh,setPreserve:rh,getInitialValue:rh}}});const ah=t.createContext(null);function lh(e){return void 0===e||null===e?[]:Array.isArray(e)?e:[e]}function ch(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var e=JSON.parse(JSON.stringify(this));return e.clone=this.clone,e}}}var uh=ch();function dh(e){var t="function"==typeof Map?new Map:void 0;return dh=function(e){if(null===e||!function(e){try{return-1!==Function.toString.call(e).indexOf("[native code]")}catch(t){return"function"==typeof e}}(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,o)}function o(){return function(e,t,o){if(Pn())return Reflect.construct.apply(null,arguments);var n=[null];n.push.apply(n,t);var i=new(e.bind.apply(e,n));return o&&Sn(i,o.prototype),i}(e,arguments,Rn(this).constructor)}return o.prototype=Object.create(e.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),Sn(o,e)},dh(e)}var hh=/%[sdj%]/g;function ph(e){if(!e||!e.length)return null;var t={};return e.forEach((function(e){var o=e.field;t[o]=t[o]||[],t[o].push(e)})),t}function gh(e){for(var t=arguments.length,o=new Array(t>1?t-1:0),n=1;n<t;n++)o[n-1]=arguments[n];var i=0,r=o.length;if("function"===typeof e)return e.apply(null,o);if("string"===typeof e){var s=e.replace(hh,(function(e){if("%%"===e)return"%";if(i>=r)return e;switch(e){case"%s":return String(o[i++]);case"%d":return Number(o[i++]);case"%j":try{return JSON.stringify(o[i++])}catch(B_){return"[Circular]"}break;default:return e}}));return s}return e}function fh(e,t){return void 0===e||null===e||(!("array"!==t||!Array.isArray(e)||e.length)||!(!function(e){return"string"===e||"url"===e||"hex"===e||"email"===e||"date"===e||"pattern"===e}(t)||"string"!==typeof e||e))}function mh(e,t,o){var n=0,i=e.length;!function r(s){if(s&&s.length)o(s);else{var a=n;n+=1,a<i?t(e[a],r):o([])}}([])}var vh=function(e){En(o,e);var t=On(o);function o(e,n){var i;return Et(this,o),O(bn(i=t.call(this,"Async Validation Error")),"errors",void 0),O(bn(i),"fields",void 0),i.errors=e,i.fields=n,i}return Pt(o)}(dh(Error));function yh(e,t,o,n,i){if(t.first){var r=new Promise((function(t,r){var s=function(e){var t=[];return Object.keys(e).forEach((function(o){t.push.apply(t,l(e[o]||[]))})),t}(e);mh(s,o,(function(e){return n(e),e.length?r(new vh(e,ph(e))):t(i)}))}));return r.catch((function(e){return e})),r}var s=!0===t.firstFields?Object.keys(e):t.firstFields||[],a=Object.keys(e),c=a.length,u=0,d=[],h=new Promise((function(t,r){var h=function(e){if(d.push.apply(d,e),++u===c)return n(d),d.length?r(new vh(d,ph(d))):t(i)};a.length||(n(d),t(i)),a.forEach((function(t){var n=e[t];-1!==s.indexOf(t)?mh(n,o,h):function(e,t,o){var n=[],i=0,r=e.length;function s(e){n.push.apply(n,l(e||[])),++i===r&&o(n)}e.forEach((function(e){t(e,s)}))}(n,o,h)}))}));return h.catch((function(e){return e})),h}function Ch(e,t){return function(o){var n,i;return n=e.fullFields?function(e,t){for(var o=e,n=0;n<t.length;n++){if(void 0==o)return o;o=o[t[n]]}return o}(t,e.fullFields):t[o.field||e.fullField],(i=o)&&void 0!==i.message?(o.field=o.field||e.fullField,o.fieldValue=n,o):{message:"function"===typeof o?o():o,fieldValue:n,field:o.field||e.fullField}}}function wh(e,t){if(t)for(var o in t)if(t.hasOwnProperty(o)){var n=t[o];"object"===R(n)&&"object"===R(e[o])?e[o]=Ae(Ae({},e[o]),n):e[o]=n}return e}var bh="enum";const Sh=function(e,t,o,n,i,r){!e.required||o.hasOwnProperty(e.field)&&!fh(t,r||e.type)||n.push(gh(i.messages.required,e.fullField))};var Eh;var Rh=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,Ph=/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i,Oh={integer:function(e){return Oh.number(e)&&parseInt(e,10)===e},float:function(e){return Oh.number(e)&&!Oh.integer(e)},array:function(e){return Array.isArray(e)},regexp:function(e){if(e instanceof RegExp)return!0;try{return!!new RegExp(e)}catch(bI){return!1}},date:function(e){return"function"===typeof e.getTime&&"function"===typeof e.getMonth&&"function"===typeof e.getYear&&!isNaN(e.getTime())},number:function(e){return!isNaN(e)&&"number"===typeof e},object:function(e){return"object"===R(e)&&!Oh.array(e)},method:function(e){return"function"===typeof e},email:function(e){return"string"===typeof e&&e.length<=320&&!!e.match(Rh)},url:function(e){return"string"===typeof e&&e.length<=2048&&!!e.match(function(){if(Eh)return Eh;var e="[a-fA-F\\d:]",t=function(t){return t&&t.includeBoundaries?"(?:(?<=\\s|^)(?=".concat(e,")|(?<=").concat(e,")(?=\\s|$))"):""},o="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",n="[a-fA-F\\d]{1,4}",i=["(?:".concat(n,":){7}(?:").concat(n,"|:)"),"(?:".concat(n,":){6}(?:").concat(o,"|:").concat(n,"|:)"),"(?:".concat(n,":){5}(?::").concat(o,"|(?::").concat(n,"){1,2}|:)"),"(?:".concat(n,":){4}(?:(?::").concat(n,"){0,1}:").concat(o,"|(?::").concat(n,"){1,3}|:)"),"(?:".concat(n,":){3}(?:(?::").concat(n,"){0,2}:").concat(o,"|(?::").concat(n,"){1,4}|:)"),"(?:".concat(n,":){2}(?:(?::").concat(n,"){0,3}:").concat(o,"|(?::").concat(n,"){1,5}|:)"),"(?:".concat(n,":){1}(?:(?::").concat(n,"){0,4}:").concat(o,"|(?::").concat(n,"){1,6}|:)"),"(?::(?:(?::".concat(n,"){0,5}:").concat(o,"|(?::").concat(n,"){1,7}|:))")],r="(?:".concat(i.join("|"),")").concat("(?:%[0-9a-zA-Z]{1,})?"),s=new RegExp("(?:^".concat(o,"$)|(?:^").concat(r,"$)")),a=new RegExp("^".concat(o,"$")),l=new RegExp("^".concat(r,"$")),c=function(e){return e&&e.exact?s:new RegExp("(?:".concat(t(e)).concat(o).concat(t(e),")|(?:").concat(t(e)).concat(r).concat(t(e),")"),"g")};c.v4=function(e){return e&&e.exact?a:new RegExp("".concat(t(e)).concat(o).concat(t(e)),"g")},c.v6=function(e){return e&&e.exact?l:new RegExp("".concat(t(e)).concat(r).concat(t(e)),"g")};var u=c.v4().source,d=c.v6().source,h="(?:".concat("(?:(?:[a-z]+:)?//)","|www\\.)").concat("(?:\\S+(?::\\S*)?@)?","(?:localhost|").concat(u,"|").concat(d,"|").concat("(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)").concat("(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*").concat("(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))",")").concat("(?::\\d{2,5})?").concat('(?:[/?#][^\\s"]*)?');return Eh=new RegExp("(?:^".concat(h,"$)"),"i")}())},hex:function(e){return"string"===typeof e&&!!e.match(Ph)}};const xh=function(e,t,o,n,i){if(e.required&&void 0===t)Sh(e,t,o,n,i);else{var r=e.type;["integer","float","array","regexp","object","method","email","number","date","url","hex"].indexOf(r)>-1?Oh[r](t)||n.push(gh(i.messages.types[r],e.fullField,e.type)):r&&R(t)!==e.type&&n.push(gh(i.messages.types[r],e.fullField,e.type))}};const Th={required:Sh,whitespace:function(e,t,o,n,i){(/^\s+$/.test(t)||""===t)&&n.push(gh(i.messages.whitespace,e.fullField))},type:xh,range:function(e,t,o,n,i){var r="number"===typeof e.len,s="number"===typeof e.min,a="number"===typeof e.max,l=t,c=null,u="number"===typeof t,d="string"===typeof t,h=Array.isArray(t);if(u?c="number":d?c="string":h&&(c="array"),!c)return!1;h&&(l=t.length),d&&(l=t.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length),r?l!==e.len&&n.push(gh(i.messages[c].len,e.fullField,e.len)):s&&!a&&l<e.min?n.push(gh(i.messages[c].min,e.fullField,e.min)):a&&!s&&l>e.max?n.push(gh(i.messages[c].max,e.fullField,e.max)):s&&a&&(l<e.min||l>e.max)&&n.push(gh(i.messages[c].range,e.fullField,e.min,e.max))},enum:function(e,t,o,n,i){e[bh]=Array.isArray(e[bh])?e[bh]:[],-1===e[bh].indexOf(t)&&n.push(gh(i.messages[bh],e.fullField,e[bh].join(", ")))},pattern:function(e,t,o,n,i){if(e.pattern)if(e.pattern instanceof RegExp)e.pattern.lastIndex=0,e.pattern.test(t)||n.push(gh(i.messages.pattern.mismatch,e.fullField,t,e.pattern));else if("string"===typeof e.pattern){new RegExp(e.pattern).test(t)||n.push(gh(i.messages.pattern.mismatch,e.fullField,t,e.pattern))}}};const Dh=function(e,t,o,n,i){var r=[],s=Array.isArray(t)?"array":R(t);Th.required(e,t,n,r,i,s),o(r)};const Ah=function(e,t,o,n,i){var r=e.type,s=[];if(e.required||!e.required&&n.hasOwnProperty(e.field)){if(fh(t,r)&&!e.required)return o();Th.required(e,t,n,s,i,r),fh(t,r)||Th.type(e,t,n,s,i)}o(s)},Fh={string:function(e,t,o,n,i){var r=[];if(e.required||!e.required&&n.hasOwnProperty(e.field)){if(fh(t,"string")&&!e.required)return o();Th.required(e,t,n,r,i,"string"),fh(t,"string")||(Th.type(e,t,n,r,i),Th.range(e,t,n,r,i),Th.pattern(e,t,n,r,i),!0===e.whitespace&&Th.whitespace(e,t,n,r,i))}o(r)},method:function(e,t,o,n,i){var r=[];if(e.required||!e.required&&n.hasOwnProperty(e.field)){if(fh(t)&&!e.required)return o();Th.required(e,t,n,r,i),void 0!==t&&Th.type(e,t,n,r,i)}o(r)},number:function(e,t,o,n,i){var r=[];if(e.required||!e.required&&n.hasOwnProperty(e.field)){if(""===t&&(t=void 0),fh(t)&&!e.required)return o();Th.required(e,t,n,r,i),void 0!==t&&(Th.type(e,t,n,r,i),Th.range(e,t,n,r,i))}o(r)},boolean:function(e,t,o,n,i){var r=[];if(e.required||!e.required&&n.hasOwnProperty(e.field)){if(fh(t)&&!e.required)return o();Th.required(e,t,n,r,i),void 0!==t&&Th.type(e,t,n,r,i)}o(r)},regexp:function(e,t,o,n,i){var r=[];if(e.required||!e.required&&n.hasOwnProperty(e.field)){if(fh(t)&&!e.required)return o();Th.required(e,t,n,r,i),fh(t)||Th.type(e,t,n,r,i)}o(r)},integer:function(e,t,o,n,i){var r=[];if(e.required||!e.required&&n.hasOwnProperty(e.field)){if(fh(t)&&!e.required)return o();Th.required(e,t,n,r,i),void 0!==t&&(Th.type(e,t,n,r,i),Th.range(e,t,n,r,i))}o(r)},float:function(e,t,o,n,i){var r=[];if(e.required||!e.required&&n.hasOwnProperty(e.field)){if(fh(t)&&!e.required)return o();Th.required(e,t,n,r,i),void 0!==t&&(Th.type(e,t,n,r,i),Th.range(e,t,n,r,i))}o(r)},array:function(e,t,o,n,i){var r=[];if(e.required||!e.required&&n.hasOwnProperty(e.field)){if((void 0===t||null===t)&&!e.required)return o();Th.required(e,t,n,r,i,"array"),void 0!==t&&null!==t&&(Th.type(e,t,n,r,i),Th.range(e,t,n,r,i))}o(r)},object:function(e,t,o,n,i){var r=[];if(e.required||!e.required&&n.hasOwnProperty(e.field)){if(fh(t)&&!e.required)return o();Th.required(e,t,n,r,i),void 0!==t&&Th.type(e,t,n,r,i)}o(r)},enum:function(e,t,o,n,i){var r=[];if(e.required||!e.required&&n.hasOwnProperty(e.field)){if(fh(t)&&!e.required)return o();Th.required(e,t,n,r,i),void 0!==t&&Th.enum(e,t,n,r,i)}o(r)},pattern:function(e,t,o,n,i){var r=[];if(e.required||!e.required&&n.hasOwnProperty(e.field)){if(fh(t,"string")&&!e.required)return o();Th.required(e,t,n,r,i),fh(t,"string")||Th.pattern(e,t,n,r,i)}o(r)},date:function(e,t,o,n,i){var r=[];if(e.required||!e.required&&n.hasOwnProperty(e.field)){if(fh(t,"date")&&!e.required)return o();var s;if(Th.required(e,t,n,r,i),!fh(t,"date"))s=t instanceof Date?t:new Date(t),Th.type(e,s,n,r,i),s&&Th.range(e,s.getTime(),n,r,i)}o(r)},url:Ah,hex:Ah,email:Ah,required:Dh,any:function(e,t,o,n,i){var r=[];if(e.required||!e.required&&n.hasOwnProperty(e.field)){if(fh(t)&&!e.required)return o();Th.required(e,t,n,r,i)}o(r)}};var _h=function(){function e(t){Et(this,e),O(this,"rules",null),O(this,"_messages",uh),this.define(t)}return Pt(e,[{key:"define",value:function(e){var t=this;if(!e)throw new Error("Cannot configure a schema with no rules");if("object"!==R(e)||Array.isArray(e))throw new Error("Rules must be an object");this.rules={},Object.keys(e).forEach((function(o){var n=e[o];t.rules[o]=Array.isArray(n)?n:[n]}))}},{key:"messages",value:function(e){return e&&(this._messages=wh(ch(),e)),this._messages}},{key:"validate",value:function(t){var o=this,n=t,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};if("function"===typeof i&&(r=i,i={}),!this.rules||0===Object.keys(this.rules).length)return r&&r(null,n),Promise.resolve(n);if(i.messages){var s=this.messages();s===uh&&(s=ch()),wh(s,i.messages),i.messages=s}else i.messages=this.messages();var a={};(i.keys||Object.keys(this.rules)).forEach((function(e){var i=o.rules[e],r=n[e];i.forEach((function(i){var s=i;"function"===typeof s.transform&&(n===t&&(n=Ae({},n)),void 0!==(r=n[e]=s.transform(r))&&null!==r&&(s.type=s.type||(Array.isArray(r)?"array":R(r)))),(s="function"===typeof s?{validator:s}:Ae({},s)).validator=o.getValidationMethod(s),s.validator&&(s.field=e,s.fullField=s.fullField||e,s.type=o.getType(s),a[e]=a[e]||[],a[e].push({rule:s,value:r,source:n,field:e}))}))}));var c={};return yh(a,i,(function(t,o){var r,s=t.rule,a=("object"===s.type||"array"===s.type)&&("object"===R(s.fields)||"object"===R(s.defaultField));function u(e,t){return Ae(Ae({},t),{},{fullField:"".concat(s.fullField,".").concat(e),fullFields:s.fullFields?[].concat(l(s.fullFields),[e]):[e]})}function d(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],d=Array.isArray(r)?r:[r];!i.suppressWarning&&d.length&&e.warning("async-validator:",d),d.length&&void 0!==s.message&&(d=[].concat(s.message));var h=d.map(Ch(s,n));if(i.first&&h.length)return c[s.field]=1,o(h);if(a){if(s.required&&!t.value)return void 0!==s.message?h=[].concat(s.message).map(Ch(s,n)):i.error&&(h=[i.error(s,gh(i.messages.required,s.field))]),o(h);var p={};s.defaultField&&Object.keys(t.value).map((function(e){p[e]=s.defaultField})),p=Ae(Ae({},p),t.rule.fields);var g={};Object.keys(p).forEach((function(e){var t=p[e],o=Array.isArray(t)?t:[t];g[e]=o.map(u.bind(null,e))}));var f=new e(g);f.messages(i.messages),t.rule.options&&(t.rule.options.messages=i.messages,t.rule.options.error=i.error),f.validate(t.value,t.rule.options||i,(function(e){var t=[];h&&h.length&&t.push.apply(t,l(h)),e&&e.length&&t.push.apply(t,l(e)),o(t.length?t:null)}))}else o(h)}if(a=a&&(s.required||!s.required&&t.value),s.field=t.field,s.asyncValidator)r=s.asyncValidator(s,t.value,d,t.source,i);else if(s.validator){try{r=s.validator(s,t.value,d,t.source,i)}catch(g){var h,p;null===(h=(p=console).error)||void 0===h||h.call(p,g),i.suppressValidatorError||setTimeout((function(){throw g}),0),d(g.message)}!0===r?d():!1===r?d("function"===typeof s.message?s.message(s.fullField||s.field):s.message||"".concat(s.fullField||s.field," fails")):r instanceof Array?d(r):r instanceof Error&&d(r.message)}r&&r.then&&r.then((function(){return d()}),(function(e){return d(e)}))}),(function(e){!function(e){var t=[],o={};function i(e){var o;Array.isArray(e)?t=(o=t).concat.apply(o,l(e)):t.push(e)}for(var s=0;s<e.length;s++)i(e[s]);t.length?(o=ph(t),r(t,o)):r(null,n)}(e)}),n)}},{key:"getType",value:function(e){if(void 0===e.type&&e.pattern instanceof RegExp&&(e.type="pattern"),"function"!==typeof e.validator&&e.type&&!Fh.hasOwnProperty(e.type))throw new Error(gh("Unknown rule type %s",e.type));return e.type||"string"}},{key:"getValidationMethod",value:function(e){if("function"===typeof e.validator)return e.validator;var t=Object.keys(e),o=t.indexOf("message");return-1!==o&&t.splice(o,1),1===t.length&&"required"===t[0]?Fh.required:Fh[this.getType(e)]||void 0}}]),e}();O(_h,"register",(function(e,t){if("function"!==typeof t)throw new Error("Cannot register a validator by type, validator is not a function");Fh[e]=t})),O(_h,"warning",(function(){})),O(_h,"messages",uh),O(_h,"validators",Fh);var Mh="'${name}' is not a valid ${type}",Ih={default:"Validation error on field '${name}'",required:"'${name}' is required",enum:"'${name}' must be one of [${enum}]",whitespace:"'${name}' cannot be empty",date:{format:"'${name}' is invalid for format date",parse:"'${name}' could not be parsed as date",invalid:"'${name}' is invalid date"},types:{string:Mh,method:Mh,array:Mh,object:Mh,number:Mh,date:Mh,boolean:Mh,integer:Mh,float:Mh,regexp:Mh,email:Mh,url:Mh,hex:Mh},string:{len:"'${name}' must be exactly ${len} characters",min:"'${name}' must be at least ${min} characters",max:"'${name}' cannot be longer than ${max} characters",range:"'${name}' must be between ${min} and ${max} characters"},number:{len:"'${name}' must equal ${len}",min:"'${name}' cannot be less than ${min}",max:"'${name}' cannot be greater than ${max}",range:"'${name}' must be between ${min} and ${max}"},array:{len:"'${name}' must be exactly ${len} in length",min:"'${name}' cannot be less than ${min} in length",max:"'${name}' cannot be greater than ${max} in length",range:"'${name}' must be between ${min} and ${max} in length"},pattern:{mismatch:"'${name}' does not match pattern ${pattern}"}},Lh=_h;function Nh(e,t){return e.replace(/\\?\$\{\w+\}/g,(function(e){if(e.startsWith("\\"))return e.slice(1);var o=e.slice(2,-1);return t[o]}))}var kh="CODE_LOGIC_ERROR";function Gh(e,t,o,n,i){return Vh.apply(this,arguments)}function Vh(){return Vh=As(Ts().mark((function e(o,n,i,r,s){var a,c,u,d,h,p,g,f,m;return Ts().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return delete(a=Ae({},i)).ruleIndex,Lh.warning=function(){},a.validator&&(c=a.validator,a.validator=function(){try{return c.apply(void 0,arguments)}catch(e){return console.error(e),Promise.reject(kh)}}),u=null,a&&"array"===a.type&&a.defaultField&&(u=a.defaultField,delete a.defaultField),d=new Lh(O({},o,[a])),h=qn(Ih,r.validateMessages),d.messages(h),p=[],e.prev=10,e.next=13,Promise.resolve(d.validate(O({},o,n),Ae({},r)));case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(10),e.t0.errors&&(p=e.t0.errors.map((function(e,o){var n=e.message,i=n===kh?h.default:n;return t.isValidElement(i)?t.cloneElement(i,{key:"error_".concat(o)}):i})));case 18:if(p.length||!u){e.next=23;break}return e.next=21,Promise.all(n.map((function(e,t){return Gh("".concat(o,".").concat(t),e,u,r,s)})));case 21:return g=e.sent,e.abrupt("return",g.reduce((function(e,t){return[].concat(l(e),l(t))}),[]));case 23:return f=Ae(Ae({},i),{},{name:o,enum:(i.enum||[]).join(", ")},s),m=p.map((function(e){return"string"===typeof e?Nh(e,f):e})),e.abrupt("return",m);case 26:case"end":return e.stop()}}),e,null,[[10,15]])}))),Vh.apply(this,arguments)}function Hh(e,t,o,n,i,r){var s,a=e.join("."),l=o.map((function(e,t){var o=e.validator,n=Ae(Ae({},e),{},{ruleIndex:t});return o&&(n.validator=function(e,t,n){var i=!1,r=o(e,t,(function(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];Promise.resolve().then((function(){Qe(!i,"Your validator function has already return a promise. `callback` will be ignored."),i||n.apply(void 0,t)}))}));i=r&&"function"===typeof r.then&&"function"===typeof r.catch,Qe(i,"`callback` is deprecated. Please return a promise instead."),i&&r.then((function(){n()})).catch((function(e){n(e||" ")}))}),n})).sort((function(e,t){var o=e.warningOnly,n=e.ruleIndex,i=t.warningOnly,r=t.ruleIndex;return!!o===!!i?n-r:o?1:-1}));if(!0===i)s=new Promise(function(){var e=As(Ts().mark((function e(o,i){var s,c,u;return Ts().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=0;case 1:if(!(s<l.length)){e.next=12;break}return c=l[s],e.next=5,Gh(a,t,c,n,r);case 5:if(!(u=e.sent).length){e.next=9;break}return i([{errors:u,rule:c}]),e.abrupt("return");case 9:s+=1,e.next=1;break;case 12:o([]);case 13:case"end":return e.stop()}}),e)})));return function(t,o){return e.apply(this,arguments)}}());else{var c=l.map((function(e){return Gh(a,t,e,n,r).then((function(t){return{errors:t,rule:e}}))}));s=(i?function(e){return Wh.apply(this,arguments)}(c):function(e){return Bh.apply(this,arguments)}(c)).then((function(e){return Promise.reject(e)}))}return s.catch((function(e){return e})),s}function Bh(){return(Bh=As(Ts().mark((function e(t){return Ts().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all(t).then((function(e){var t;return(t=[]).concat.apply(t,l(e))})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Wh(){return(Wh=As(Ts().mark((function e(t){var o;return Ts().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=0,e.abrupt("return",new Promise((function(e){t.forEach((function(n){n.then((function(n){n.errors.length&&e([n]),(o+=1)===t.length&&e([])}))}))})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function jh(e){return lh(e)}function zh(e,t){var o={};return t.forEach((function(t){var n=zn(e,t);o=$n(o,t,n)})),o}function Uh(e,t){var o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return e&&e.some((function(e){return $h(t,e,o)}))}function $h(e,t){return!(!e||!t)&&(!(!(arguments.length>2&&void 0!==arguments[2]&&arguments[2])&&e.length!==t.length)&&t.every((function(t,o){return e[o]===t})))}function Kh(e){var t=arguments.length<=1?void 0:arguments[1];return t&&t.target&&"object"===R(t.target)&&e in t.target?t.target[e]:t}function Yh(e,t,o){var n=e.length;if(t<0||t>=n||o<0||o>=n)return e;var i=e[t],r=t-o;return r>0?[].concat(l(e.slice(0,o)),[i],l(e.slice(o,t)),l(e.slice(t+1,n))):r<0?[].concat(l(e.slice(0,t)),l(e.slice(t+1,o+1)),[i],l(e.slice(o+1,n))):e}var qh=["name"],Xh=[];function Qh(e,t,o,n,i,r){return"function"===typeof e?e(t,o,"source"in r?{source:r.source}:{}):n!==i}var Zh=function(e){En(n,e);var o=On(n);function n(e){var i;(Et(this,n),O(bn(i=o.call(this,e)),"state",{resetCount:0}),O(bn(i),"cancelRegisterFunc",null),O(bn(i),"mounted",!1),O(bn(i),"touched",!1),O(bn(i),"dirty",!1),O(bn(i),"validatePromise",void 0),O(bn(i),"prevValidating",void 0),O(bn(i),"errors",Xh),O(bn(i),"warnings",Xh),O(bn(i),"cancelRegister",(function(){var e=i.props,t=e.preserve,o=e.isListField,n=e.name;i.cancelRegisterFunc&&i.cancelRegisterFunc(o,t,jh(n)),i.cancelRegisterFunc=null})),O(bn(i),"getNamePath",(function(){var e=i.props,t=e.name,o=e.fieldContext.prefixName;return void 0!==t?[].concat(l(void 0===o?[]:o),l(t)):[]})),O(bn(i),"getRules",(function(){var e=i.props,t=e.rules,o=void 0===t?[]:t,n=e.fieldContext;return o.map((function(e){return"function"===typeof e?e(n):e}))})),O(bn(i),"refresh",(function(){i.mounted&&i.setState((function(e){return{resetCount:e.resetCount+1}}))})),O(bn(i),"metaCache",null),O(bn(i),"triggerMetaEvent",(function(e){var t=i.props.onMetaChange;if(t){var o=Ae(Ae({},i.getMeta()),{},{destroy:e});St(i.metaCache,o)||t(o),i.metaCache=o}else i.metaCache=null})),O(bn(i),"onStoreChange",(function(e,t,o){var n=i.props,r=n.shouldUpdate,s=n.dependencies,a=void 0===s?[]:s,l=n.onReset,c=o.store,u=i.getNamePath(),d=i.getValue(e),h=i.getValue(c),p=t&&Uh(t,u);switch("valueUpdate"!==o.type||"external"!==o.source||St(d,h)||(i.touched=!0,i.dirty=!0,i.validatePromise=null,i.errors=Xh,i.warnings=Xh,i.triggerMetaEvent()),o.type){case"reset":if(!t||p)return i.touched=!1,i.dirty=!1,i.validatePromise=void 0,i.errors=Xh,i.warnings=Xh,i.triggerMetaEvent(),null===l||void 0===l||l(),void i.refresh();break;case"remove":if(r&&Qh(r,e,c,d,h,o))return void i.reRender();break;case"setField":var g=o.data;if(p)return"touched"in g&&(i.touched=g.touched),"validating"in g&&!("originRCField"in g)&&(i.validatePromise=g.validating?Promise.resolve([]):null),"errors"in g&&(i.errors=g.errors||Xh),"warnings"in g&&(i.warnings=g.warnings||Xh),i.dirty=!0,i.triggerMetaEvent(),void i.reRender();if("value"in g&&Uh(t,u,!0))return void i.reRender();if(r&&!u.length&&Qh(r,e,c,d,h,o))return void i.reRender();break;case"dependenciesUpdate":if(a.map(jh).some((function(e){return Uh(o.relatedFields,e)})))return void i.reRender();break;default:if(p||(!a.length||u.length||r)&&Qh(r,e,c,d,h,o))return void i.reRender()}!0===r&&i.reRender()})),O(bn(i),"validateRules",(function(e){var t=i.getNamePath(),o=i.getValue(),n=e||{},r=n.triggerName,s=n.validateOnly,a=void 0!==s&&s,c=Promise.resolve().then(As(Ts().mark((function n(){var s,a,u,d,h,p,g;return Ts().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(i.mounted){n.next=2;break}return n.abrupt("return",[]);case 2:if(s=i.props,a=s.validateFirst,u=void 0!==a&&a,d=s.messageVariables,h=s.validateDebounce,p=i.getRules(),r&&(p=p.filter((function(e){return e})).filter((function(e){var t=e.validateTrigger;return!t||lh(t).includes(r)}))),!h||!r){n.next=10;break}return n.next=8,new Promise((function(e){setTimeout(e,h)}));case 8:if(i.validatePromise===c){n.next=10;break}return n.abrupt("return",[]);case 10:return(g=Hh(t,o,p,e,u,d)).catch((function(e){return e})).then((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xh;if(i.validatePromise===c){var t;i.validatePromise=null;var o=[],n=[];null===(t=e.forEach)||void 0===t||t.call(e,(function(e){var t=e.rule.warningOnly,i=e.errors,r=void 0===i?Xh:i;t?n.push.apply(n,l(r)):o.push.apply(o,l(r))})),i.errors=o,i.warnings=n,i.triggerMetaEvent(),i.reRender()}})),n.abrupt("return",g);case 13:case"end":return n.stop()}}),n)}))));return a||(i.validatePromise=c,i.dirty=!0,i.errors=Xh,i.warnings=Xh,i.triggerMetaEvent(),i.reRender()),c})),O(bn(i),"isFieldValidating",(function(){return!!i.validatePromise})),O(bn(i),"isFieldTouched",(function(){return i.touched})),O(bn(i),"isFieldDirty",(function(){return!(!i.dirty&&void 0===i.props.initialValue)||void 0!==(0,i.props.fieldContext.getInternalHooks(ih).getInitialValue)(i.getNamePath())})),O(bn(i),"getErrors",(function(){return i.errors})),O(bn(i),"getWarnings",(function(){return i.warnings})),O(bn(i),"isListField",(function(){return i.props.isListField})),O(bn(i),"isList",(function(){return i.props.isList})),O(bn(i),"isPreserve",(function(){return i.props.preserve})),O(bn(i),"getMeta",(function(){return i.prevValidating=i.isFieldValidating(),{touched:i.isFieldTouched(),validating:i.prevValidating,errors:i.errors,warnings:i.warnings,name:i.getNamePath(),validated:null===i.validatePromise}})),O(bn(i),"getOnlyChild",(function(e){if("function"===typeof e){var o=i.getMeta();return Ae(Ae({},i.getOnlyChild(e(i.getControlled(),o,i.props.fieldContext))),{},{isFunction:!0})}var n=y(e);return 1===n.length&&t.isValidElement(n[0])?{child:n[0],isFunction:!1}:{child:n,isFunction:!1}})),O(bn(i),"getValue",(function(e){var t=i.props.fieldContext.getFieldsValue,o=i.getNamePath();return zn(e||t(!0),o)})),O(bn(i),"getControlled",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=i.props,o=t.name,n=t.trigger,r=t.validateTrigger,s=t.getValueFromEvent,a=t.normalize,l=t.valuePropName,c=t.getValueProps,u=t.fieldContext,d=void 0!==r?r:u.validateTrigger,h=i.getNamePath(),p=u.getInternalHooks,g=u.getFieldsValue,f=p(ih).dispatch,m=i.getValue(),v=c||function(e){return O({},l,e)},y=e[n],C=void 0!==o?v(m):{};var w=Ae(Ae({},e),C);return w[n]=function(){var e;i.touched=!0,i.dirty=!0,i.triggerMetaEvent();for(var t=arguments.length,o=new Array(t),n=0;n<t;n++)o[n]=arguments[n];e=s?s.apply(void 0,o):Kh.apply(void 0,[l].concat(o)),a&&(e=a(e,m,g(!0))),e!==m&&f({type:"updateValue",namePath:h,value:e}),y&&y.apply(void 0,o)},lh(d||[]).forEach((function(e){var t=w[e];w[e]=function(){t&&t.apply(void 0,arguments);var o=i.props.rules;o&&o.length&&f({type:"validateField",namePath:h,triggerName:e})}})),w})),e.fieldContext)&&(0,(0,e.fieldContext.getInternalHooks)(ih).initEntityValue)(bn(i));return i}return Pt(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.shouldUpdate,o=e.fieldContext;if(this.mounted=!0,o){var n=(0,o.getInternalHooks)(ih).registerField;this.cancelRegisterFunc=n(this)}!0===t&&this.reRender()}},{key:"componentWillUnmount",value:function(){this.cancelRegister(),this.triggerMetaEvent(!0),this.mounted=!1}},{key:"reRender",value:function(){this.mounted&&this.forceUpdate()}},{key:"render",value:function(){var e,o=this.state.resetCount,n=this.props.children,i=this.getOnlyChild(n),r=i.child;return i.isFunction?e=r:t.isValidElement(r)?e=t.cloneElement(r,this.getControlled(r.props)):(Qe(!r,"`children` of Field is not validate ReactElement."),e=r),t.createElement(t.Fragment,{key:o},e)}}]),n}(t.Component);O(Zh,"contextType",sh),O(Zh,"defaultProps",{trigger:"onChange",valuePropName:"value"});const Jh=function(e){var o,n=e.name,i=x(e,qh),r=t.useContext(sh),s=t.useContext(ah),a=void 0!==n?jh(n):void 0,l=null!==(o=i.isListField)&&void 0!==o?o:!!s,c="keep";return l||(c="_".concat((a||[]).join("_"))),t.createElement(Zh,C({key:c,name:a,isListField:l},i,{fieldContext:r}))};const ep=function(e){var o=e.name,n=e.initialValue,i=e.children,r=e.rules,s=e.validateTrigger,a=e.isListField,c=t.useContext(sh),u=t.useContext(ah),d=t.useRef({keys:[],id:0}).current,h=t.useMemo((function(){var e=jh(c.prefixName)||[];return[].concat(l(e),l(jh(o)))}),[c.prefixName,o]),p=t.useMemo((function(){return Ae(Ae({},c),{},{prefixName:h})}),[c,h]),g=t.useMemo((function(){return{getKey:function(e){var t=h.length,o=e[t];return[d.keys[o],e.slice(t+1)]}}}),[h]);return"function"!==typeof i?(Qe(!1,"Form.List only accepts function as children."),null):t.createElement(ah.Provider,{value:g},t.createElement(sh.Provider,{value:p},t.createElement(Jh,{name:[],shouldUpdate:function(e,t,o){return"internal"!==o.source&&e!==t},rules:r,validateTrigger:s,initialValue:n,isList:!0,isListField:null!==a&&void 0!==a?a:!!u},(function(e,t){var o=e.value,n=void 0===o?[]:o,r=e.onChange,s=c.getFieldValue,a=function(){return s(h||[])||[]},u={add:function(e,t){var o=a();t>=0&&t<=o.length?(d.keys=[].concat(l(d.keys.slice(0,t)),[d.id],l(d.keys.slice(t))),r([].concat(l(o.slice(0,t)),[e],l(o.slice(t))))):(d.keys=[].concat(l(d.keys),[d.id]),r([].concat(l(o),[e]))),d.id+=1},remove:function(e){var t=a(),o=new Set(Array.isArray(e)?e:[e]);o.size<=0||(d.keys=d.keys.filter((function(e,t){return!o.has(t)})),r(t.filter((function(e,t){return!o.has(t)}))))},move:function(e,t){if(e!==t){var o=a();e<0||e>=o.length||t<0||t>=o.length||(d.keys=Yh(d.keys,e,t),r(Yh(o,e,t)))}}},p=n||[];return Array.isArray(p)||(p=[]),i(p.map((function(e,t){var o=d.keys[t];return void 0===o&&(d.keys[t]=d.id,o=d.keys[t],d.id+=1),{name:t,key:o,isListField:!0}})),u,t)}))))};var tp="__@field_split__";function op(e){return e.map((function(e){return"".concat(R(e),":").concat(e)})).join(tp)}var np=function(){function e(){Et(this,e),O(this,"kvs",new Map)}return Pt(e,[{key:"set",value:function(e,t){this.kvs.set(op(e),t)}},{key:"get",value:function(e){return this.kvs.get(op(e))}},{key:"update",value:function(e,t){var o=t(this.get(e));o?this.set(e,o):this.delete(e)}},{key:"delete",value:function(e){this.kvs.delete(op(e))}},{key:"map",value:function(e){return l(this.kvs.entries()).map((function(t){var o=E(t,2),n=o[0],i=o[1],r=n.split(tp);return e({key:r.map((function(e){var t=E(e.match(/^([^:]*):(.*)$/),3),o=t[1],n=t[2];return"number"===o?Number(n):n})),value:i})}))}},{key:"toJSON",value:function(){var e={};return this.map((function(t){var o=t.key,n=t.value;return e[o.join(".")]=n,null})),e}}]),e}();const ip=np;var rp=["name"],sp=Pt((function e(t){var o=this;Et(this,e),O(this,"formHooked",!1),O(this,"forceRootUpdate",void 0),O(this,"subscribable",!0),O(this,"store",{}),O(this,"fieldEntities",[]),O(this,"initialValues",{}),O(this,"callbacks",{}),O(this,"validateMessages",null),O(this,"preserve",null),O(this,"lastValidatePromise",null),O(this,"getForm",(function(){return{getFieldValue:o.getFieldValue,getFieldsValue:o.getFieldsValue,getFieldError:o.getFieldError,getFieldWarning:o.getFieldWarning,getFieldsError:o.getFieldsError,isFieldsTouched:o.isFieldsTouched,isFieldTouched:o.isFieldTouched,isFieldValidating:o.isFieldValidating,isFieldsValidating:o.isFieldsValidating,resetFields:o.resetFields,setFields:o.setFields,setFieldValue:o.setFieldValue,setFieldsValue:o.setFieldsValue,validateFields:o.validateFields,submit:o.submit,_init:!0,getInternalHooks:o.getInternalHooks}})),O(this,"getInternalHooks",(function(e){return e===ih?(o.formHooked=!0,{dispatch:o.dispatch,initEntityValue:o.initEntityValue,registerField:o.registerField,useSubscribe:o.useSubscribe,setInitialValues:o.setInitialValues,destroyForm:o.destroyForm,setCallbacks:o.setCallbacks,setValidateMessages:o.setValidateMessages,getFields:o.getFields,setPreserve:o.setPreserve,getInitialValue:o.getInitialValue,registerWatch:o.registerWatch}):(Qe(!1,"`getInternalHooks` is internal usage. Should not call directly."),null)})),O(this,"useSubscribe",(function(e){o.subscribable=e})),O(this,"prevWithoutPreserves",null),O(this,"setInitialValues",(function(e,t){if(o.initialValues=e||{},t){var n,i=qn(e,o.store);null===(n=o.prevWithoutPreserves)||void 0===n||n.map((function(t){var o=t.key;i=$n(i,o,zn(e,o))})),o.prevWithoutPreserves=null,o.updateStore(i)}})),O(this,"destroyForm",(function(e){if(e)o.updateStore({});else{var t=new ip;o.getFieldEntities(!0).forEach((function(e){o.isMergedPreserve(e.isPreserve())||t.set(e.getNamePath(),!0)})),o.prevWithoutPreserves=t}})),O(this,"getInitialValue",(function(e){var t=zn(o.initialValues,e);return e.length?qn(t):t})),O(this,"setCallbacks",(function(e){o.callbacks=e})),O(this,"setValidateMessages",(function(e){o.validateMessages=e})),O(this,"setPreserve",(function(e){o.preserve=e})),O(this,"watchList",[]),O(this,"registerWatch",(function(e){return o.watchList.push(e),function(){o.watchList=o.watchList.filter((function(t){return t!==e}))}})),O(this,"notifyWatch",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(o.watchList.length){var t=o.getFieldsValue(),n=o.getFieldsValue(!0);o.watchList.forEach((function(o){o(t,n,e)}))}})),O(this,"timeoutId",null),O(this,"warningUnhooked",(function(){0})),O(this,"updateStore",(function(e){o.store=e})),O(this,"getFieldEntities",(function(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]?o.fieldEntities.filter((function(e){return e.getNamePath().length})):o.fieldEntities})),O(this,"getFieldsMap",(function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new ip;return o.getFieldEntities(e).forEach((function(e){var o=e.getNamePath();t.set(o,e)})),t})),O(this,"getFieldEntitiesForNamePathList",(function(e){if(!e)return o.getFieldEntities(!0);var t=o.getFieldsMap(!0);return e.map((function(e){var o=jh(e);return t.get(o)||{INVALIDATE_NAME_PATH:jh(e)}}))})),O(this,"getFieldsValue",(function(e,t){var n,i,r;if(o.warningUnhooked(),!0===e||Array.isArray(e)?(n=e,i=t):e&&"object"===R(e)&&(r=e.strict,i=e.filter),!0===n&&!i)return o.store;var s=o.getFieldEntitiesForNamePathList(Array.isArray(n)?n:null),a=[];return s.forEach((function(e){var t,o,s,l,c="INVALIDATE_NAME_PATH"in e?e.INVALIDATE_NAME_PATH:e.getNamePath();if(r){if(null!==(s=(l=e).isList)&&void 0!==s&&s.call(l))return}else if(!n&&null!==(t=(o=e).isListField)&&void 0!==t&&t.call(o))return;if(i){var u="getMeta"in e?e.getMeta():null;i(u)&&a.push(c)}else a.push(c)})),zh(o.store,a.map(jh))})),O(this,"getFieldValue",(function(e){o.warningUnhooked();var t=jh(e);return zn(o.store,t)})),O(this,"getFieldsError",(function(e){return o.warningUnhooked(),o.getFieldEntitiesForNamePathList(e).map((function(t,o){return t&&!("INVALIDATE_NAME_PATH"in t)?{name:t.getNamePath(),errors:t.getErrors(),warnings:t.getWarnings()}:{name:jh(e[o]),errors:[],warnings:[]}}))})),O(this,"getFieldError",(function(e){o.warningUnhooked();var t=jh(e);return o.getFieldsError([t])[0].errors})),O(this,"getFieldWarning",(function(e){o.warningUnhooked();var t=jh(e);return o.getFieldsError([t])[0].warnings})),O(this,"isFieldsTouched",(function(){o.warningUnhooked();for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i,r=t[0],s=t[1],a=!1;0===t.length?i=null:1===t.length?Array.isArray(r)?(i=r.map(jh),a=!1):(i=null,a=r):(i=r.map(jh),a=s);var c=o.getFieldEntities(!0),u=function(e){return e.isFieldTouched()};if(!i)return a?c.every((function(e){return u(e)||e.isList()})):c.some(u);var d=new ip;i.forEach((function(e){d.set(e,[])})),c.forEach((function(e){var t=e.getNamePath();i.forEach((function(o){o.every((function(e,o){return t[o]===e}))&&d.update(o,(function(t){return[].concat(l(t),[e])}))}))}));var h=function(e){return e.some(u)},p=d.map((function(e){return e.value}));return a?p.every(h):p.some(h)})),O(this,"isFieldTouched",(function(e){return o.warningUnhooked(),o.isFieldsTouched([e])})),O(this,"isFieldsValidating",(function(e){o.warningUnhooked();var t=o.getFieldEntities();if(!e)return t.some((function(e){return e.isFieldValidating()}));var n=e.map(jh);return t.some((function(e){var t=e.getNamePath();return Uh(n,t)&&e.isFieldValidating()}))})),O(this,"isFieldValidating",(function(e){return o.warningUnhooked(),o.isFieldsValidating([e])})),O(this,"resetWithFieldInitialValue",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=new ip,n=o.getFieldEntities(!0);n.forEach((function(e){var o=e.props.initialValue,n=e.getNamePath();if(void 0!==o){var i=t.get(n)||new Set;i.add({entity:e,value:o}),t.set(n,i)}}));var i;e.entities?i=e.entities:e.namePathList?(i=[],e.namePathList.forEach((function(e){var o,n=t.get(e);n&&(o=i).push.apply(o,l(l(n).map((function(e){return e.entity}))))}))):i=n,i.forEach((function(n){if(void 0!==n.props.initialValue){var i=n.getNamePath();if(void 0!==o.getInitialValue(i))Qe(!1,"Form already set 'initialValues' with path '".concat(i.join("."),"'. Field can not overwrite it."));else{var r=t.get(i);if(r&&r.size>1)Qe(!1,"Multiple Field with path '".concat(i.join("."),"' set 'initialValue'. Can not decide which one to pick."));else if(r){var s=o.getFieldValue(i);n.isListField()||e.skipExist&&void 0!==s||o.updateStore($n(o.store,i,l(r)[0].value))}}}}))})),O(this,"resetFields",(function(e){o.warningUnhooked();var t=o.store;if(!e)return o.updateStore(qn(o.initialValues)),o.resetWithFieldInitialValue(),o.notifyObservers(t,null,{type:"reset"}),void o.notifyWatch();var n=e.map(jh);n.forEach((function(e){var t=o.getInitialValue(e);o.updateStore($n(o.store,e,t))})),o.resetWithFieldInitialValue({namePathList:n}),o.notifyObservers(t,n,{type:"reset"}),o.notifyWatch(n)})),O(this,"setFields",(function(e){o.warningUnhooked();var t=o.store,n=[];e.forEach((function(e){var i=e.name,r=x(e,rp),s=jh(i);n.push(s),"value"in r&&o.updateStore($n(o.store,s,r.value)),o.notifyObservers(t,[s],{type:"setField",data:e})})),o.notifyWatch(n)})),O(this,"getFields",(function(){return o.getFieldEntities(!0).map((function(e){var t=e.getNamePath(),n=Ae(Ae({},e.getMeta()),{},{name:t,value:o.getFieldValue(t)});return Object.defineProperty(n,"originRCField",{value:!0}),n}))})),O(this,"initEntityValue",(function(e){var t=e.props.initialValue;if(void 0!==t){var n=e.getNamePath();void 0===zn(o.store,n)&&o.updateStore($n(o.store,n,t))}})),O(this,"isMergedPreserve",(function(e){var t=void 0!==e?e:o.preserve;return null===t||void 0===t||t})),O(this,"registerField",(function(e){o.fieldEntities.push(e);var t=e.getNamePath();if(o.notifyWatch([t]),void 0!==e.props.initialValue){var n=o.store;o.resetWithFieldInitialValue({entities:[e],skipExist:!0}),o.notifyObservers(n,[e.getNamePath()],{type:"valueUpdate",source:"internal"})}return function(n,i){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(o.fieldEntities=o.fieldEntities.filter((function(t){return t!==e})),!o.isMergedPreserve(i)&&(!n||r.length>1)){var s=n?void 0:o.getInitialValue(t);if(t.length&&o.getFieldValue(t)!==s&&o.fieldEntities.every((function(e){return!$h(e.getNamePath(),t)}))){var a=o.store;o.updateStore($n(a,t,s,!0)),o.notifyObservers(a,[t],{type:"remove"}),o.triggerDependenciesUpdate(a,t)}}o.notifyWatch([t])}})),O(this,"dispatch",(function(e){switch(e.type){case"updateValue":var t=e.namePath,n=e.value;o.updateValue(t,n);break;case"validateField":var i=e.namePath,r=e.triggerName;o.validateFields([i],{triggerName:r})}})),O(this,"notifyObservers",(function(e,t,n){if(o.subscribable){var i=Ae(Ae({},n),{},{store:o.getFieldsValue(!0)});o.getFieldEntities().forEach((function(o){(0,o.onStoreChange)(e,t,i)}))}else o.forceRootUpdate()})),O(this,"triggerDependenciesUpdate",(function(e,t){var n=o.getDependencyChildrenFields(t);return n.length&&o.validateFields(n),o.notifyObservers(e,n,{type:"dependenciesUpdate",relatedFields:[t].concat(l(n))}),n})),O(this,"updateValue",(function(e,t){var n=jh(e),i=o.store;o.updateStore($n(o.store,n,t)),o.notifyObservers(i,[n],{type:"valueUpdate",source:"internal"}),o.notifyWatch([n]);var r=o.triggerDependenciesUpdate(i,n),s=o.callbacks.onValuesChange;s&&s(zh(o.store,[n]),o.getFieldsValue());o.triggerOnFieldsChange([n].concat(l(r)))})),O(this,"setFieldsValue",(function(e){o.warningUnhooked();var t=o.store;if(e){var n=qn(o.store,e);o.updateStore(n)}o.notifyObservers(t,null,{type:"valueUpdate",source:"external"}),o.notifyWatch()})),O(this,"setFieldValue",(function(e,t){o.setFields([{name:e,value:t}])})),O(this,"getDependencyChildrenFields",(function(e){var t=new Set,n=[],i=new ip;o.getFieldEntities().forEach((function(e){(e.props.dependencies||[]).forEach((function(t){var o=jh(t);i.update(o,(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Set;return t.add(e),t}))}))}));return function e(o){(i.get(o)||new Set).forEach((function(o){if(!t.has(o)){t.add(o);var i=o.getNamePath();o.isFieldDirty()&&i.length&&(n.push(i),e(i))}}))}(e),n})),O(this,"triggerOnFieldsChange",(function(e,t){var n=o.callbacks.onFieldsChange;if(n){var i=o.getFields();if(t){var r=new ip;t.forEach((function(e){var t=e.name,o=e.errors;r.set(t,o)})),i.forEach((function(e){e.errors=r.get(e.name)||e.errors}))}var s=i.filter((function(t){var o=t.name;return Uh(e,o)}));s.length&&n(s,i)}})),O(this,"validateFields",(function(e,t){var n,i;o.warningUnhooked(),Array.isArray(e)||"string"===typeof e||"string"===typeof t?(n=e,i=t):i=e;var r=!!n,s=r?n.map(jh):[],a=[],c=String(Date.now()),u=new Set,d=i||{},h=d.recursive,p=d.dirty;o.getFieldEntities(!0).forEach((function(e){if(r||s.push(e.getNamePath()),e.props.rules&&e.props.rules.length&&(!p||e.isFieldDirty())){var t=e.getNamePath();if(u.add(t.join(c)),!r||Uh(s,t,h)){var n=e.validateRules(Ae({validateMessages:Ae(Ae({},Ih),o.validateMessages)},i));a.push(n.then((function(){return{name:t,errors:[],warnings:[]}})).catch((function(e){var o,n=[],i=[];return null===(o=e.forEach)||void 0===o||o.call(e,(function(e){var t=e.rule.warningOnly,o=e.errors;t?i.push.apply(i,l(o)):n.push.apply(n,l(o))})),n.length?Promise.reject({name:t,errors:n,warnings:i}):{name:t,errors:n,warnings:i}})))}}}));var g=function(e){var t=!1,o=e.length,n=[];return e.length?new Promise((function(i,r){e.forEach((function(e,s){e.catch((function(e){return t=!0,e})).then((function(e){o-=1,n[s]=e,o>0||(t&&r(n),i(n))}))}))})):Promise.resolve([])}(a);o.lastValidatePromise=g,g.catch((function(e){return e})).then((function(e){var t=e.map((function(e){return e.name}));o.notifyObservers(o.store,t,{type:"validateFinish"}),o.triggerOnFieldsChange(t,e)}));var f=g.then((function(){return o.lastValidatePromise===g?Promise.resolve(o.getFieldsValue(s)):Promise.reject([])})).catch((function(e){var t=e.filter((function(e){return e&&e.errors.length}));return Promise.reject({values:o.getFieldsValue(s),errorFields:t,outOfDate:o.lastValidatePromise!==g})}));f.catch((function(e){return e}));var m=s.filter((function(e){return u.has(e.join(c))}));return o.triggerOnFieldsChange(m),f})),O(this,"submit",(function(){o.warningUnhooked(),o.validateFields().then((function(e){var t=o.callbacks.onFinish;if(t)try{t(e)}catch(n){console.error(n)}})).catch((function(e){var t=o.callbacks.onFinishFailed;t&&t(e)}))})),this.forceRootUpdate=t}));const ap=function(e){var o=t.useRef(),n=E(t.useState({}),2)[1];if(!o.current)if(e)o.current=e;else{var i=new sp((function(){n({})}));o.current=i.getForm()}return[o.current]};var lp=t.createContext({triggerFormChange:function(){},triggerFormFinish:function(){},registerForm:function(){},unregisterForm:function(){}});const cp=lp;var up=["name","initialValues","fields","form","preserve","children","component","validateMessages","validateTrigger","onValuesChange","onFieldsChange","onFinish","onFinishFailed","clearOnDestroy"];const dp=function(e,o){var n=e.name,i=e.initialValues,r=e.fields,s=e.form,a=e.preserve,c=e.children,u=e.component,d=void 0===u?"form":u,h=e.validateMessages,p=e.validateTrigger,g=void 0===p?"onChange":p,f=e.onValuesChange,m=e.onFieldsChange,v=e.onFinish,y=e.onFinishFailed,w=e.clearOnDestroy,b=x(e,up),S=t.useRef(null),P=t.useContext(cp),O=E(ap(s),1)[0],T=O.getInternalHooks(ih),D=T.useSubscribe,A=T.setInitialValues,F=T.setCallbacks,_=T.setValidateMessages,M=T.setPreserve,I=T.destroyForm;t.useImperativeHandle(o,(function(){return Ae(Ae({},O),{},{nativeElement:S.current})})),t.useEffect((function(){return P.registerForm(n,O),function(){P.unregisterForm(n)}}),[P,O,n]),_(Ae(Ae({},P.validateMessages),h)),F({onValuesChange:f,onFieldsChange:function(e){if(P.triggerFormChange(n,e),m){for(var t=arguments.length,o=new Array(t>1?t-1:0),i=1;i<t;i++)o[i-1]=arguments[i];m.apply(void 0,[e].concat(o))}},onFinish:function(e){P.triggerFormFinish(n,e),v&&v(e)},onFinishFailed:y}),M(a);var L,N=t.useRef(null);A(i,!N.current),N.current||(N.current=!0),t.useEffect((function(){return function(){return I(w)}}),[]);var k="function"===typeof c;k?L=c(O.getFieldsValue(!0),O):L=c;D(!k);var G=t.useRef();t.useEffect((function(){(function(e,t){if(e===t)return!0;if(!e&&t||e&&!t)return!1;if(!e||!t||"object"!==R(e)||"object"!==R(t))return!1;var o=Object.keys(e),n=Object.keys(t);return l(new Set([].concat(o,n))).every((function(o){var n=e[o],i=t[o];return"function"===typeof n&&"function"===typeof i||n===i}))})(G.current||[],r||[])||O.setFields(r||[]),G.current=r}),[r,O]);var V=t.useMemo((function(){return Ae(Ae({},O),{},{validateTrigger:g})}),[O,g]),H=t.createElement(ah.Provider,{value:null},t.createElement(sh.Provider,{value:V},L));return!1===d?H:t.createElement(d,C({},b,{ref:S,onSubmit:function(e){e.preventDefault(),e.stopPropagation(),O.submit()},onReset:function(e){var t;e.preventDefault(),O.resetFields(),null===(t=b.onReset)||void 0===t||t.call(b,e)}}),H)};function hp(e){try{return JSON.stringify(e)}catch(t){return Math.random()}}var pp=function(){};const gp=function(){for(var e=arguments.length,o=new Array(e),n=0;n<e;n++)o[n]=arguments[n];var i=o[0],r=o[1],s=void 0===r?{}:r,a=function(e){return e&&!!e._init}(s)?{form:s}:s,l=a.form,c=E((0,t.useState)(),2),u=c[0],d=c[1],h=(0,t.useMemo)((function(){return hp(u)}),[u]),p=(0,t.useRef)(h);p.current=h;var g=(0,t.useContext)(sh),f=l||g,m=f&&f._init,v=jh(i),y=(0,t.useRef)(v);return y.current=v,pp(v),(0,t.useEffect)((function(){if(m){var e=f.getFieldsValue,t=(0,f.getInternalHooks)(ih).registerWatch,o=function(e,t){var o=a.preserve?t:e;return"function"===typeof i?i(o):zn(o,y.current)},n=t((function(e,t){var n=o(e,t),i=hp(n);p.current!==i&&(p.current=i,d(n))})),r=o(e(),e(!0));return u!==r&&d(r),n}}),[m]),u};var fp=t.forwardRef(dp);fp.FormProvider=function(e){var o=e.validateMessages,n=e.onFormChange,i=e.onFormFinish,r=e.children,s=t.useContext(lp),a=t.useRef({});return t.createElement(lp.Provider,{value:Ae(Ae({},s),{},{validateMessages:Ae(Ae({},s.validateMessages),o),triggerFormChange:function(e,t){n&&n(e,{changedFields:t,forms:a.current}),s.triggerFormChange(e,t)},triggerFormFinish:function(e,t){i&&i(e,{values:t,forms:a.current}),s.triggerFormFinish(e,t)},registerForm:function(e,t){e&&(a.current=Ae(Ae({},a.current),{},O({},e,t))),s.registerForm(e,t)},unregisterForm:function(e){var t=Ae({},a.current);delete t[e],a.current=t,s.unregisterForm(e)}})},r)},fp.Field=Jh,fp.List=ep,fp.useForm=ap,fp.useWatch=gp;const mp=t.createContext({});const vp=e=>{let{children:o,status:n,override:i}=e;const r=(0,t.useContext)(mp),s=(0,t.useMemo)((()=>{const e=Object.assign({},r);return i&&delete e.isFormItemInput,n&&(delete e.status,delete e.hasFeedback,delete e.feedbackIcon),e}),[n,i,r]);return t.createElement(mp.Provider,{value:s},o)},yp=e=>{const{space:o,form:n,children:i}=e;if(void 0===i||null===i)return null;let r=i;return n&&(r=t.createElement(vp,{override:!0,status:!0},r)),o&&(r=t.createElement(ia,null,r)),r};const Cp=t.createContext(void 0),wp=100,bp={Modal:wp,Drawer:wp,Popover:wp,Popconfirm:wp,Tooltip:wp,Tour:wp,FloatButton:wp},Sp={SelectLike:50,Dropdown:50,DatePicker:50,Menu:50,ImagePreview:1};const Ep=(e,o)=>{const[,n]=Hi(),i=t.useContext(Cp),r=function(e){return e in bp}(e);let s;if(void 0!==o)s=[o,o];else{let t=null!==i&&void 0!==i?i:0;t+=r?(i?0:n.zIndexPopupBase)+bp[e]:Sp[e],s=[void 0===i?o:t,t]}return s};const Rp=(e,t,o)=>{const{sizePopupArrow:n,arrowPolygon:i,arrowPath:r,arrowShadowWidth:s,borderRadiusXS:a,calc:l}=e;return{pointerEvents:"none",width:n,height:n,overflow:"hidden","&::before":{position:"absolute",bottom:0,insetInlineStart:0,width:n,height:l(n).div(2).equal(),background:t,clipPath:{_multi_value_:!0,value:[i,r]},content:'""'},"&::after":{content:'""',position:"absolute",width:s,height:s,bottom:0,insetInline:0,margin:"auto",borderRadius:{_skip_check_:!0,value:`0 0 ${Kt(a)} 0`},transform:"translateY(50%) rotate(-135deg)",boxShadow:o,zIndex:0,background:"transparent"}}};function Pp(e){const{contentRadius:t,limitVerticalRadius:o}=e,n=t>12?t+2:12;return{arrowOffsetHorizontal:n,arrowOffsetVertical:o?8:n}}function Op(e,t){return e?t:{}}function xp(e,t,o){const{componentCls:n,boxShadowPopoverArrow:i,arrowOffsetVertical:r,arrowOffsetHorizontal:s}=e,{arrowDistance:a=0,arrowPlacement:l={left:!0,right:!0,top:!0,bottom:!0}}=o||{};return{[n]:Object.assign(Object.assign(Object.assign(Object.assign({[`${n}-arrow`]:[Object.assign(Object.assign({position:"absolute",zIndex:1,display:"block"},Rp(e,t,i)),{"&:before":{background:t}})]},Op(!!l.top,{[[`&-placement-top > ${n}-arrow`,`&-placement-topLeft > ${n}-arrow`,`&-placement-topRight > ${n}-arrow`].join(",")]:{bottom:a,transform:"translateY(100%) rotate(180deg)"},[`&-placement-top > ${n}-arrow`]:{left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%) translateY(100%) rotate(180deg)"},"&-placement-topLeft":{"--arrow-offset-horizontal":s,[`> ${n}-arrow`]:{left:{_skip_check_:!0,value:s}}},"&-placement-topRight":{"--arrow-offset-horizontal":`calc(100% - ${Kt(s)})`,[`> ${n}-arrow`]:{right:{_skip_check_:!0,value:s}}}})),Op(!!l.bottom,{[[`&-placement-bottom > ${n}-arrow`,`&-placement-bottomLeft > ${n}-arrow`,`&-placement-bottomRight > ${n}-arrow`].join(",")]:{top:a,transform:"translateY(-100%)"},[`&-placement-bottom > ${n}-arrow`]:{left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%) translateY(-100%)"},"&-placement-bottomLeft":{"--arrow-offset-horizontal":s,[`> ${n}-arrow`]:{left:{_skip_check_:!0,value:s}}},"&-placement-bottomRight":{"--arrow-offset-horizontal":`calc(100% - ${Kt(s)})`,[`> ${n}-arrow`]:{right:{_skip_check_:!0,value:s}}}})),Op(!!l.left,{[[`&-placement-left > ${n}-arrow`,`&-placement-leftTop > ${n}-arrow`,`&-placement-leftBottom > ${n}-arrow`].join(",")]:{right:{_skip_check_:!0,value:a},transform:"translateX(100%) rotate(90deg)"},[`&-placement-left > ${n}-arrow`]:{top:{_skip_check_:!0,value:"50%"},transform:"translateY(-50%) translateX(100%) rotate(90deg)"},[`&-placement-leftTop > ${n}-arrow`]:{top:r},[`&-placement-leftBottom > ${n}-arrow`]:{bottom:r}})),Op(!!l.right,{[[`&-placement-right > ${n}-arrow`,`&-placement-rightTop > ${n}-arrow`,`&-placement-rightBottom > ${n}-arrow`].join(",")]:{left:{_skip_check_:!0,value:a},transform:"translateX(-100%) rotate(-90deg)"},[`&-placement-right > ${n}-arrow`]:{top:{_skip_check_:!0,value:"50%"},transform:"translateY(-50%) translateX(-100%) rotate(-90deg)"},[`&-placement-rightTop > ${n}-arrow`]:{top:r},[`&-placement-rightBottom > ${n}-arrow`]:{bottom:r}}))}}const Tp={left:{points:["cr","cl"]},right:{points:["cl","cr"]},top:{points:["bc","tc"]},bottom:{points:["tc","bc"]},topLeft:{points:["bl","tl"]},leftTop:{points:["tr","tl"]},topRight:{points:["br","tr"]},rightTop:{points:["tl","tr"]},bottomRight:{points:["tr","br"]},rightBottom:{points:["bl","br"]},bottomLeft:{points:["tl","bl"]},leftBottom:{points:["br","bl"]}},Dp={topLeft:{points:["bl","tc"]},leftTop:{points:["tr","cl"]},topRight:{points:["br","tc"]},rightTop:{points:["tl","cr"]},bottomRight:{points:["tr","bc"]},rightBottom:{points:["bl","cr"]},bottomLeft:{points:["tl","bc"]},leftBottom:{points:["br","cl"]}},Ap=new Set(["topLeft","topRight","bottomLeft","bottomRight","leftTop","leftBottom","rightTop","rightBottom"]);function Fp(e){const{arrowWidth:t,autoAdjustOverflow:o,arrowPointAtCenter:n,offset:i,borderRadius:r,visibleFirst:s}=e,a=t/2,l={};return Object.keys(Tp).forEach((e=>{const c=n&&Dp[e]||Tp[e],u=Object.assign(Object.assign({},c),{offset:[0,0],dynamicInset:!0});switch(l[e]=u,Ap.has(e)&&(u.autoArrow=!1),e){case"top":case"topLeft":case"topRight":u.offset[1]=-a-i;break;case"bottom":case"bottomLeft":case"bottomRight":u.offset[1]=a+i;break;case"left":case"leftTop":case"leftBottom":u.offset[0]=-a-i;break;case"right":case"rightTop":case"rightBottom":u.offset[0]=a+i}const d=Pp({contentRadius:r,limitVerticalRadius:!0});if(n)switch(e){case"topLeft":case"bottomLeft":u.offset[0]=-d.arrowOffsetHorizontal-a;break;case"topRight":case"bottomRight":u.offset[0]=d.arrowOffsetHorizontal+a;break;case"leftTop":case"rightTop":u.offset[1]=2*-d.arrowOffsetHorizontal+a;break;case"leftBottom":case"rightBottom":u.offset[1]=2*d.arrowOffsetHorizontal-a}u.overflow=function(e,t,o,n){if(!1===n)return{adjustX:!1,adjustY:!1};const i=n&&"object"===typeof n?n:{},r={};switch(e){case"top":case"bottom":r.shiftX=2*t.arrowOffsetHorizontal+o,r.shiftY=!0,r.adjustY=!0;break;case"left":case"right":r.shiftY=2*t.arrowOffsetVertical+o,r.shiftX=!0,r.adjustX=!0}const s=Object.assign(Object.assign({},r),i);return s.shiftX||(s.adjustX=!0),s.shiftY||(s.adjustY=!0),s}(e,d,t,o),s&&(u.htmlRegion="visibleFirst")})),l}function _p(){}const Mp=t.createContext({}),Ip=()=>{const e=()=>{};return e.deprecated=_p,e},Lp=e=>({animationDuration:e,animationFillMode:"both"}),Np=e=>({animationDuration:e,animationFillMode:"both"}),kp=function(e,t,o,n){const i=arguments.length>4&&void 0!==arguments[4]&&arguments[4]?"&":"";return{[`\n      ${i}${e}-enter,\n      ${i}${e}-appear\n    `]:Object.assign(Object.assign({},Lp(n)),{animationPlayState:"paused"}),[`${i}${e}-leave`]:Object.assign(Object.assign({},Np(n)),{animationPlayState:"paused"}),[`\n      ${i}${e}-enter${e}-enter-active,\n      ${i}${e}-appear${e}-appear-active\n    `]:{animationName:t,animationPlayState:"running"},[`${i}${e}-leave${e}-leave-active`]:{animationName:o,animationPlayState:"running",pointerEvents:"none"}}},Gp=new Cn("antZoomIn",{"0%":{transform:"scale(0.2)",opacity:0},"100%":{transform:"scale(1)",opacity:1}}),Vp=new Cn("antZoomOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0.2)",opacity:0}}),Hp=new Cn("antZoomBigIn",{"0%":{transform:"scale(0.8)",opacity:0},"100%":{transform:"scale(1)",opacity:1}}),Bp=new Cn("antZoomBigOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0.8)",opacity:0}}),Wp=new Cn("antZoomUpIn",{"0%":{transform:"scale(0.8)",transformOrigin:"50% 0%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"50% 0%"}}),jp=new Cn("antZoomUpOut",{"0%":{transform:"scale(1)",transformOrigin:"50% 0%"},"100%":{transform:"scale(0.8)",transformOrigin:"50% 0%",opacity:0}}),zp={zoom:{inKeyframes:Gp,outKeyframes:Vp},"zoom-big":{inKeyframes:Hp,outKeyframes:Bp},"zoom-big-fast":{inKeyframes:Hp,outKeyframes:Bp},"zoom-left":{inKeyframes:new Cn("antZoomLeftIn",{"0%":{transform:"scale(0.8)",transformOrigin:"0% 50%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"0% 50%"}}),outKeyframes:new Cn("antZoomLeftOut",{"0%":{transform:"scale(1)",transformOrigin:"0% 50%"},"100%":{transform:"scale(0.8)",transformOrigin:"0% 50%",opacity:0}})},"zoom-right":{inKeyframes:new Cn("antZoomRightIn",{"0%":{transform:"scale(0.8)",transformOrigin:"100% 50%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"100% 50%"}}),outKeyframes:new Cn("antZoomRightOut",{"0%":{transform:"scale(1)",transformOrigin:"100% 50%"},"100%":{transform:"scale(0.8)",transformOrigin:"100% 50%",opacity:0}})},"zoom-up":{inKeyframes:Wp,outKeyframes:jp},"zoom-down":{inKeyframes:new Cn("antZoomDownIn",{"0%":{transform:"scale(0.8)",transformOrigin:"50% 100%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"50% 100%"}}),outKeyframes:new Cn("antZoomDownOut",{"0%":{transform:"scale(1)",transformOrigin:"50% 100%"},"100%":{transform:"scale(0.8)",transformOrigin:"50% 100%",opacity:0}})}},Up=(e,t)=>{const{antCls:o}=e,n=`${o}-${t}`,{inKeyframes:i,outKeyframes:r}=zp[t];return[kp(n,i,r,"zoom-big-fast"===t?e.motionDurationFast:e.motionDurationMid),{[`\n        ${n}-enter,\n        ${n}-appear\n      `]:{transform:"scale(0)",opacity:0,animationTimingFunction:e.motionEaseOutCirc,"&-prepare":{transform:"none"}},[`${n}-leave`]:{animationTimingFunction:e.motionEaseInOutCirc}}]},$p=["blue","purple","cyan","green","magenta","pink","red","orange","yellow","volcano","geekblue","lime","gold"];function Kp(e,t){return $p.reduce(((o,n)=>{const i=e[`${n}1`],r=e[`${n}3`],s=e[`${n}6`],a=e[`${n}7`];return Object.assign(Object.assign({},o),t(n,{lightColor:i,lightBorderColor:r,darkColor:s,textColor:a}))}),{})}const Yp=e=>{const{componentCls:t,tooltipMaxWidth:o,tooltipColor:n,tooltipBg:i,tooltipBorderRadius:r,zIndexPopup:s,controlHeight:a,boxShadowSecondary:l,paddingSM:c,paddingXS:u}=e;return[{[t]:Object.assign(Object.assign(Object.assign(Object.assign({},di(e)),{position:"absolute",zIndex:s,display:"block",width:"max-content",maxWidth:o,visibility:"visible","--valid-offset-x":"var(--arrow-offset-horizontal, var(--arrow-x))",transformOrigin:["var(--valid-offset-x, 50%)","var(--arrow-y, 50%)"].join(" "),"&-hidden":{display:"none"},"--antd-arrow-background-color":i,[`${t}-inner`]:{minWidth:"1em",minHeight:a,padding:`${Kt(e.calc(c).div(2).equal())} ${Kt(u)}`,color:n,textAlign:"start",textDecoration:"none",wordWrap:"break-word",backgroundColor:i,borderRadius:r,boxShadow:l,boxSizing:"border-box"},[["&-placement-left","&-placement-leftTop","&-placement-leftBottom","&-placement-right","&-placement-rightTop","&-placement-rightBottom"].join(",")]:{[`${t}-inner`]:{borderRadius:e.min(r,8)}},[`${t}-content`]:{position:"relative"}}),Kp(e,((e,o)=>{let{darkColor:n}=o;return{[`&${t}-${e}`]:{[`${t}-inner`]:{backgroundColor:n},[`${t}-arrow`]:{"--antd-arrow-background-color":n}}}}))),{"&-rtl":{direction:"rtl"}})},xp(e,"var(--antd-arrow-background-color)"),{[`${t}-pure`]:{position:"relative",maxWidth:"none",margin:e.sizePopupArrow}}]},qp=e=>Object.assign(Object.assign({zIndexPopup:e.zIndexPopupBase+70},Pp({contentRadius:e.borderRadius,limitVerticalRadius:!0})),function(e){const{sizePopupArrow:t,borderRadiusXS:o,borderRadiusOuter:n}=e,i=t/2,r=i,s=1*n/Math.sqrt(2),a=i-n*(1-1/Math.sqrt(2)),l=i-o*(1/Math.sqrt(2)),c=n*(Math.sqrt(2)-1)+o*(1/Math.sqrt(2)),u=2*i-l,d=c,h=2*i-s,p=a,g=2*i-0,f=r,m=i*Math.sqrt(2)+n*(Math.sqrt(2)-2),v=n*(Math.sqrt(2)-1);return{arrowShadowWidth:m,arrowPath:`path('M 0 ${r} A ${n} ${n} 0 0 0 ${s} ${a} L ${l} ${c} A ${o} ${o} 0 0 1 ${u} ${d} L ${h} ${p} A ${n} ${n} 0 0 0 ${g} ${f} Z')`,arrowPolygon:`polygon(${v}px 100%, 50% ${v}px, ${2*i-v}px 100%, ${v}px 100%)`}}(Jn(e,{borderRadiusOuter:Math.min(e.borderRadiusOuter,4)}))),Xp=function(e){const t=Wi("Tooltip",(e=>{const{borderRadius:t,colorTextLightSolid:o,colorBgSpotlight:n}=e,i=Jn(e,{tooltipMaxWidth:250,tooltipColor:o,tooltipBorderRadius:t,tooltipBg:n});return[Yp(i),Up(e,"zoom-big-fast")]}),qp,{resetStyle:!1,injectStyle:!(arguments.length>1&&void 0!==arguments[1])||arguments[1]});return t(e)},Qp=$p.map((e=>`${e}-inverse`));function Zp(e,t){const o=function(e){return arguments.length>1&&void 0!==arguments[1]&&!arguments[1]?$p.includes(e):[].concat(l(Qp),l($p)).includes(e)}(t),n=u()({[`${e}-${t}`]:t&&o}),i={},r={};return t&&!o&&(i.background=t,r["--antd-arrow-background-color"]=t),{className:n,overlayStyle:i,arrowStyle:r}}const Jp=e=>{const{prefixCls:o,className:n,placement:i="top",title:r,color:s,overlayInnerStyle:a}=e,{getPrefixCls:l}=t.useContext(g),c=l("tooltip",o),[d,h,p]=Xp(c),f=Zp(c,s),m=f.arrowStyle,v=Object.assign(Object.assign({},a),f.overlayStyle),y=u()(h,p,c,`${c}-pure`,`${c}-placement-${i}`,n,f.className);return d(t.createElement("div",{className:y,style:m},t.createElement("div",{className:`${c}-arrow`}),t.createElement(Xd,Object.assign({},e,{className:h,prefixCls:c,overlayInnerStyle:v}),r)))};var eg=function(e,t){var o={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(o[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(o[n[i]]=e[n[i]])}return o};const tg=t.forwardRef(((e,o)=>{var n,i;const{prefixCls:r,openClassName:s,getTooltipContainer:a,overlayClassName:l,color:c,overlayInnerStyle:d,children:h,afterOpenChange:p,afterVisibleChange:f,destroyTooltipOnHide:m,arrow:v=!0,title:y,overlay:C,builtinPlacements:w,arrowPointAtCenter:b=!1,autoAdjustOverflow:S=!0}=e,E=!!v,[,R]=Hi(),{getPopupContainer:P,getPrefixCls:O,direction:x}=t.useContext(g),T=Ip("Tooltip"),D=t.useRef(null),A=()=>{var e;null===(e=D.current)||void 0===e||e.forceAlign()};t.useImperativeHandle(o,(()=>{var e;return{forceAlign:A,forcePopupAlign:()=>{T.deprecated(!1,"forcePopupAlign","forceAlign"),A()},nativeElement:null===(e=D.current)||void 0===e?void 0:e.nativeElement}}));const[F,_]=Gn(!1,{value:null!==(n=e.open)&&void 0!==n?n:e.visible,defaultValue:null!==(i=e.defaultOpen)&&void 0!==i?i:e.defaultVisible}),M=!y&&!C&&0!==y,I=t.useMemo((()=>{var e,t;let o=b;return"object"===typeof v&&(o=null!==(t=null!==(e=v.pointAtCenter)&&void 0!==e?e:v.arrowPointAtCenter)&&void 0!==t?t:b),w||Fp({arrowPointAtCenter:o,autoAdjustOverflow:S,arrowWidth:E?R.sizePopupArrow:0,borderRadius:R.borderRadius,offset:R.marginXXS,visibleFirst:!0})}),[b,v,w,R]),L=t.useMemo((()=>0===y?y:C||y||""),[C,y]),N=t.createElement(yp,{space:!0},"function"===typeof L?L():L),{getPopupContainer:k,placement:G="top",mouseEnterDelay:V=.1,mouseLeaveDelay:H=.1,overlayStyle:B,rootClassName:W}=e,j=eg(e,["getPopupContainer","placement","mouseEnterDelay","mouseLeaveDelay","overlayStyle","rootClassName"]),z=O("tooltip",r),U=O(),$=e["data-popover-inject"];let K=F;"open"in e||"visible"in e||!M||(K=!1);const Y=t.isValidElement(h)&&!Sr(h)?h:t.createElement("span",null,h),q=Y.props,X=q.className&&"string"!==typeof q.className?q.className:u()(q.className,s||`${z}-open`),[Q,Z,J]=Xp(z,!$),ee=Zp(z,c),te=ee.arrowStyle,oe=Object.assign(Object.assign({},d),ee.overlayStyle),ne=u()(l,{[`${z}-rtl`]:"rtl"===x},ee.className,W,Z,J),[ie,re]=Ep("Tooltip",j.zIndex),se=t.createElement(nh,Object.assign({},j,{zIndex:ie,showArrow:E,placement:G,mouseEnterDelay:V,mouseLeaveDelay:H,prefixCls:z,overlayClassName:ne,overlayStyle:Object.assign(Object.assign({},te),B),getTooltipContainer:k||a||P,ref:D,builtinPlacements:I,overlay:N,visible:K,onVisibleChange:t=>{var o,n;_(!M&&t),M||(null===(o=e.onOpenChange)||void 0===o||o.call(e,t),null===(n=e.onVisibleChange)||void 0===n||n.call(e,t))},afterVisibleChange:null!==p&&void 0!==p?p:f,overlayInnerStyle:oe,arrowContent:t.createElement("span",{className:`${z}-arrow-content`}),motion:{motionName:zd(U,"zoom-big-fast",e.transitionName),motionDeadline:1e3},destroyTooltipOnHide:!!m}),K?Er(Y,{className:X}):Y);return Q(t.createElement(Cp.Provider,{value:re},se))})),og=tg;og._InternalPanelDoNotUseOrYouWillBeFired=Jp;const ng=og,ig=e=>{var o;const{className:n,children:i,icon:r,title:s,danger:a,extra:l}=e,{prefixCls:c,firstLevel:h,direction:p,disableMenuItemTitleTooltip:g,inlineCollapsed:f}=t.useContext(Kd),{siderCollapsed:m}=t.useContext(Ji);let v=s;"undefined"===typeof s?v=h?i:"":!1===s&&(v="");const C={title:v};m||f||(C.title=null,C.open=!1);const w=y(i).length;let b=t.createElement(Pu,Object.assign({},d(e,["title","icon","danger"]),{className:u()({[`${c}-item-danger`]:a,[`${c}-item-only-child`]:1===(r?w+1:w)},n),title:"string"===typeof s?s:void 0}),Er(r,{className:u()(t.isValidElement(r)?null===(o=r.props)||void 0===o?void 0:o.className:"",`${c}-item-icon`)}),(e=>{const o=null===i||void 0===i?void 0:i[0],n=t.createElement("span",{className:u()(`${c}-title-content`,{[`${c}-title-content-with-extra`]:!!l||0===l})},i);return(!r||t.isValidElement(i)&&"span"===i.type)&&i&&e&&h&&"string"===typeof o?t.createElement("div",{className:`${c}-inline-collapsed-noicon`},o.charAt(0)):n})(f));return g||(b=t.createElement(ng,Object.assign({},C,{placement:"rtl"===p?"left":"right",overlayClassName:`${c}-inline-collapsed-tooltip`}),b)),b};const rg=t.createContext(null),sg=rg,ag=e=>({[e.componentCls]:{[`${e.antCls}-motion-collapse-legacy`]:{overflow:"hidden","&-active":{transition:`height ${e.motionDurationMid} ${e.motionEaseInOut},\n        opacity ${e.motionDurationMid} ${e.motionEaseInOut} !important`}},[`${e.antCls}-motion-collapse`]:{overflow:"hidden",transition:`height ${e.motionDurationMid} ${e.motionEaseInOut},\n        opacity ${e.motionDurationMid} ${e.motionEaseInOut} !important`}}}),lg={"slide-up":{inKeyframes:new Cn("antSlideUpIn",{"0%":{transform:"scaleY(0.8)",transformOrigin:"0% 0%",opacity:0},"100%":{transform:"scaleY(1)",transformOrigin:"0% 0%",opacity:1}}),outKeyframes:new Cn("antSlideUpOut",{"0%":{transform:"scaleY(1)",transformOrigin:"0% 0%",opacity:1},"100%":{transform:"scaleY(0.8)",transformOrigin:"0% 0%",opacity:0}})},"slide-down":{inKeyframes:new Cn("antSlideDownIn",{"0%":{transform:"scaleY(0.8)",transformOrigin:"100% 100%",opacity:0},"100%":{transform:"scaleY(1)",transformOrigin:"100% 100%",opacity:1}}),outKeyframes:new Cn("antSlideDownOut",{"0%":{transform:"scaleY(1)",transformOrigin:"100% 100%",opacity:1},"100%":{transform:"scaleY(0.8)",transformOrigin:"100% 100%",opacity:0}})},"slide-left":{inKeyframes:new Cn("antSlideLeftIn",{"0%":{transform:"scaleX(0.8)",transformOrigin:"0% 0%",opacity:0},"100%":{transform:"scaleX(1)",transformOrigin:"0% 0%",opacity:1}}),outKeyframes:new Cn("antSlideLeftOut",{"0%":{transform:"scaleX(1)",transformOrigin:"0% 0%",opacity:1},"100%":{transform:"scaleX(0.8)",transformOrigin:"0% 0%",opacity:0}})},"slide-right":{inKeyframes:new Cn("antSlideRightIn",{"0%":{transform:"scaleX(0.8)",transformOrigin:"100% 0%",opacity:0},"100%":{transform:"scaleX(1)",transformOrigin:"100% 0%",opacity:1}}),outKeyframes:new Cn("antSlideRightOut",{"0%":{transform:"scaleX(1)",transformOrigin:"100% 0%",opacity:1},"100%":{transform:"scaleX(0.8)",transformOrigin:"100% 0%",opacity:0}})}},cg=(e,t)=>{const{antCls:o}=e,n=`${o}-${t}`,{inKeyframes:i,outKeyframes:r}=lg[t];return[kp(n,i,r,e.motionDurationMid),{[`\n      ${n}-enter,\n      ${n}-appear\n    `]:{transform:"scale(0)",transformOrigin:"0% 0%",opacity:0,animationTimingFunction:e.motionEaseOutQuint,"&-prepare":{transform:"scale(1)"}},[`${n}-leave`]:{animationTimingFunction:e.motionEaseInQuint}}]},ug=e=>{const{componentCls:t,motionDurationSlow:o,horizontalLineHeight:n,colorSplit:i,lineWidth:r,lineType:s,itemPaddingInline:a}=e;return{[`${t}-horizontal`]:{lineHeight:n,border:0,borderBottom:`${Kt(r)} ${s} ${i}`,boxShadow:"none","&::after":{display:"block",clear:"both",height:0,content:'"\\20"'},[`${t}-item, ${t}-submenu`]:{position:"relative",display:"inline-block",verticalAlign:"bottom",paddingInline:a},[`> ${t}-item:hover,\n        > ${t}-item-active,\n        > ${t}-submenu ${t}-submenu-title:hover`]:{backgroundColor:"transparent"},[`${t}-item, ${t}-submenu-title`]:{transition:[`border-color ${o}`,`background ${o}`].join(",")},[`${t}-submenu-arrow`]:{display:"none"}}}},dg=e=>{let{componentCls:t,menuArrowOffset:o,calc:n}=e;return{[`${t}-rtl`]:{direction:"rtl"},[`${t}-submenu-rtl`]:{transformOrigin:"100% 0"},[`${t}-rtl${t}-vertical,\n    ${t}-submenu-rtl ${t}-vertical`]:{[`${t}-submenu-arrow`]:{"&::before":{transform:`rotate(-45deg) translateY(${Kt(n(o).mul(-1).equal())})`},"&::after":{transform:`rotate(45deg) translateY(${Kt(o)})`}}}}},hg=e=>Object.assign({},pi(e)),pg=(e,t)=>{const{componentCls:o,itemColor:n,itemSelectedColor:i,groupTitleColor:r,itemBg:s,subMenuItemBg:a,itemSelectedBg:l,activeBarHeight:c,activeBarWidth:u,activeBarBorderWidth:d,motionDurationSlow:h,motionEaseInOut:p,motionEaseOut:g,itemPaddingInline:f,motionDurationMid:m,itemHoverColor:v,lineType:y,colorSplit:C,itemDisabledColor:w,dangerItemColor:b,dangerItemHoverColor:S,dangerItemSelectedColor:E,dangerItemActiveBg:R,dangerItemSelectedBg:P,popupBg:O,itemHoverBg:x,itemActiveBg:T,menuSubMenuBg:D,horizontalItemSelectedColor:A,horizontalItemSelectedBg:F,horizontalItemBorderRadius:_,horizontalItemHoverBg:M}=e;return{[`${o}-${t}, ${o}-${t} > ${o}`]:{color:n,background:s,[`&${o}-root:focus-visible`]:Object.assign({},hg(e)),[`${o}-item`]:{"&-group-title, &-extra":{color:r}},[`${o}-submenu-selected`]:{[`> ${o}-submenu-title`]:{color:i}},[`${o}-item, ${o}-submenu-title`]:{color:n,[`&:not(${o}-item-disabled):focus-visible`]:Object.assign({},hg(e))},[`${o}-item-disabled, ${o}-submenu-disabled`]:{color:`${w} !important`},[`${o}-item:not(${o}-item-selected):not(${o}-submenu-selected)`]:{[`&:hover, > ${o}-submenu-title:hover`]:{color:v}},[`&:not(${o}-horizontal)`]:{[`${o}-item:not(${o}-item-selected)`]:{"&:hover":{backgroundColor:x},"&:active":{backgroundColor:T}},[`${o}-submenu-title`]:{"&:hover":{backgroundColor:x},"&:active":{backgroundColor:T}}},[`${o}-item-danger`]:{color:b,[`&${o}-item:hover`]:{[`&:not(${o}-item-selected):not(${o}-submenu-selected)`]:{color:S}},[`&${o}-item:active`]:{background:R}},[`${o}-item a`]:{"&, &:hover":{color:"inherit"}},[`${o}-item-selected`]:{color:i,[`&${o}-item-danger`]:{color:E},"a, a:hover":{color:"inherit"}},[`& ${o}-item-selected`]:{backgroundColor:l,[`&${o}-item-danger`]:{backgroundColor:P}},[`&${o}-submenu > ${o}`]:{backgroundColor:D},[`&${o}-popup > ${o}`]:{backgroundColor:O},[`&${o}-submenu-popup > ${o}`]:{backgroundColor:O},[`&${o}-horizontal`]:Object.assign(Object.assign({},"dark"===t?{borderBottom:0}:{}),{[`> ${o}-item, > ${o}-submenu`]:{top:d,marginTop:e.calc(d).mul(-1).equal(),marginBottom:0,borderRadius:_,"&::after":{position:"absolute",insetInline:f,bottom:0,borderBottom:`${Kt(c)} solid transparent`,transition:`border-color ${h} ${p}`,content:'""'},"&:hover, &-active, &-open":{background:M,"&::after":{borderBottomWidth:c,borderBottomColor:A}},"&-selected":{color:A,backgroundColor:F,"&:hover":{backgroundColor:F},"&::after":{borderBottomWidth:c,borderBottomColor:A}}}}),[`&${o}-root`]:{[`&${o}-inline, &${o}-vertical`]:{borderInlineEnd:`${Kt(d)} ${y} ${C}`}},[`&${o}-inline`]:{[`${o}-sub${o}-inline`]:{background:a},[`${o}-item`]:{position:"relative","&::after":{position:"absolute",insetBlock:0,insetInlineEnd:0,borderInlineEnd:`${Kt(u)} solid ${i}`,transform:"scaleY(0.0001)",opacity:0,transition:[`transform ${m} ${g}`,`opacity ${m} ${g}`].join(","),content:'""'},[`&${o}-item-danger`]:{"&::after":{borderInlineEndColor:E}}},[`${o}-selected, ${o}-item-selected`]:{"&::after":{transform:"scaleY(1)",opacity:1,transition:[`transform ${m} ${p}`,`opacity ${m} ${p}`].join(",")}}}}}},gg=e=>{const{componentCls:t,itemHeight:o,itemMarginInline:n,padding:i,menuArrowSize:r,marginXS:s,itemMarginBlock:a,itemWidth:l,itemPaddingInline:c}=e,u=e.calc(r).add(i).add(s).equal();return{[`${t}-item`]:{position:"relative",overflow:"hidden"},[`${t}-item, ${t}-submenu-title`]:{height:o,lineHeight:Kt(o),paddingInline:c,overflow:"hidden",textOverflow:"ellipsis",marginInline:n,marginBlock:a,width:l},[`> ${t}-item,\n            > ${t}-submenu > ${t}-submenu-title`]:{height:o,lineHeight:Kt(o)},[`${t}-item-group-list ${t}-submenu-title,\n            ${t}-submenu-title`]:{paddingInlineEnd:u}}},fg=e=>{const{componentCls:t,iconCls:o,itemHeight:n,colorTextLightSolid:i,dropdownWidth:r,controlHeightLG:s,motionEaseOut:a,paddingXL:l,itemMarginInline:c,fontSizeLG:u,motionDurationFast:d,motionDurationSlow:h,paddingXS:p,boxShadowSecondary:g,collapsedWidth:f,collapsedIconSize:m}=e,v={height:n,lineHeight:Kt(n),listStylePosition:"inside",listStyleType:"disc"};return[{[t]:{"&-inline, &-vertical":Object.assign({[`&${t}-root`]:{boxShadow:"none"}},gg(e))},[`${t}-submenu-popup`]:{[`${t}-vertical`]:Object.assign(Object.assign({},gg(e)),{boxShadow:g})}},{[`${t}-submenu-popup ${t}-vertical${t}-sub`]:{minWidth:r,maxHeight:`calc(100vh - ${Kt(e.calc(s).mul(2.5).equal())})`,padding:"0",overflow:"hidden",borderInlineEnd:0,"&:not([class*='-active'])":{overflowX:"hidden",overflowY:"auto"}}},{[`${t}-inline`]:{width:"100%",[`&${t}-root`]:{[`${t}-item, ${t}-submenu-title`]:{display:"flex",alignItems:"center",transition:[`border-color ${h}`,`background ${h}`,`padding ${d} ${a}`].join(","),[`> ${t}-title-content`]:{flex:"auto",minWidth:0,overflow:"hidden",textOverflow:"ellipsis"},"> *":{flex:"none"}}},[`${t}-sub${t}-inline`]:{padding:0,border:0,borderRadius:0,boxShadow:"none",[`& > ${t}-submenu > ${t}-submenu-title`]:v,[`& ${t}-item-group-title`]:{paddingInlineStart:l}},[`${t}-item`]:v}},{[`${t}-inline-collapsed`]:{width:f,[`&${t}-root`]:{[`${t}-item, ${t}-submenu ${t}-submenu-title`]:{[`> ${t}-inline-collapsed-noicon`]:{fontSize:u,textAlign:"center"}}},[`> ${t}-item,\n          > ${t}-item-group > ${t}-item-group-list > ${t}-item,\n          > ${t}-item-group > ${t}-item-group-list > ${t}-submenu > ${t}-submenu-title,\n          > ${t}-submenu > ${t}-submenu-title`]:{insetInlineStart:0,paddingInline:`calc(50% - ${Kt(e.calc(u).div(2).equal())} - ${Kt(c)})`,textOverflow:"clip",[`\n            ${t}-submenu-arrow,\n            ${t}-submenu-expand-icon\n          `]:{opacity:0},[`${t}-item-icon, ${o}`]:{margin:0,fontSize:m,lineHeight:Kt(n),"+ span":{display:"inline-block",opacity:0}}},[`${t}-item-icon, ${o}`]:{display:"inline-block"},"&-tooltip":{pointerEvents:"none",[`${t}-item-icon, ${o}`]:{display:"none"},"a, a:hover":{color:i}},[`${t}-item-group-title`]:Object.assign(Object.assign({},ui),{paddingInline:p})}}]},mg=e=>{const{componentCls:t,motionDurationSlow:o,motionDurationMid:n,motionEaseInOut:i,motionEaseOut:r,iconCls:s,iconSize:a,iconMarginInlineEnd:l}=e;return{[`${t}-item, ${t}-submenu-title`]:{position:"relative",display:"block",margin:0,whiteSpace:"nowrap",cursor:"pointer",transition:[`border-color ${o}`,`background ${o}`,`padding calc(${o} + 0.1s) ${i}`].join(","),[`${t}-item-icon, ${s}`]:{minWidth:a,fontSize:a,transition:[`font-size ${n} ${r}`,`margin ${o} ${i}`,`color ${o}`].join(","),"+ span":{marginInlineStart:l,opacity:1,transition:[`opacity ${o} ${i}`,`margin ${o}`,`color ${o}`].join(",")}},[`${t}-item-icon`]:Object.assign({},{display:"inline-flex",alignItems:"center",color:"inherit",fontStyle:"normal",lineHeight:0,textAlign:"center",textTransform:"none",verticalAlign:"-0.125em",textRendering:"optimizeLegibility","-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale","> *":{lineHeight:1},svg:{display:"inline-block"}}),[`&${t}-item-only-child`]:{[`> ${s}, > ${t}-item-icon`]:{marginInlineEnd:0}}},[`${t}-item-disabled, ${t}-submenu-disabled`]:{background:"none !important",cursor:"not-allowed","&::after":{borderColor:"transparent !important"},a:{color:"inherit !important"},[`> ${t}-submenu-title`]:{color:"inherit !important",cursor:"not-allowed"}}}},vg=e=>{const{componentCls:t,motionDurationSlow:o,motionEaseInOut:n,borderRadius:i,menuArrowSize:r,menuArrowOffset:s}=e;return{[`${t}-submenu`]:{"&-expand-icon, &-arrow":{position:"absolute",top:"50%",insetInlineEnd:e.margin,width:r,color:"currentcolor",transform:"translateY(-50%)",transition:`transform ${o} ${n}, opacity ${o}`},"&-arrow":{"&::before, &::after":{position:"absolute",width:e.calc(r).mul(.6).equal(),height:e.calc(r).mul(.15).equal(),backgroundColor:"currentcolor",borderRadius:i,transition:[`background ${o} ${n}`,`transform ${o} ${n}`,`top ${o} ${n}`,`color ${o} ${n}`].join(","),content:'""'},"&::before":{transform:`rotate(45deg) translateY(${Kt(e.calc(s).mul(-1).equal())})`},"&::after":{transform:`rotate(-45deg) translateY(${Kt(s)})`}}}}},yg=e=>{const{antCls:t,componentCls:o,fontSize:n,motionDurationSlow:i,motionDurationMid:r,motionEaseInOut:s,paddingXS:a,padding:l,colorSplit:c,lineWidth:u,zIndexPopup:d,borderRadiusLG:h,subMenuItemBorderRadius:p,menuArrowSize:g,menuArrowOffset:f,lineType:m,groupTitleLineHeight:v,groupTitleFontSize:y}=e;return[{"":{[o]:Object.assign(Object.assign({},{"&::before":{display:"table",content:'""'},"&::after":{display:"table",clear:"both",content:'""'}}),{"&-hidden":{display:"none"}})},[`${o}-submenu-hidden`]:{display:"none"}},{[o]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},di(e)),{"&::before":{display:"table",content:'""'},"&::after":{display:"table",clear:"both",content:'""'}}),{marginBottom:0,paddingInlineStart:0,fontSize:n,lineHeight:0,listStyle:"none",outline:"none",transition:`width ${i} cubic-bezier(0.2, 0, 0, 1) 0s`,"ul, ol":{margin:0,padding:0,listStyle:"none"},"&-overflow":{display:"flex",[`${o}-item`]:{flex:"none"}},[`${o}-item, ${o}-submenu, ${o}-submenu-title`]:{borderRadius:e.itemBorderRadius},[`${o}-item-group-title`]:{padding:`${Kt(a)} ${Kt(l)}`,fontSize:y,lineHeight:v,transition:`all ${i}`},[`&-horizontal ${o}-submenu`]:{transition:[`border-color ${i} ${s}`,`background ${i} ${s}`].join(",")},[`${o}-submenu, ${o}-submenu-inline`]:{transition:[`border-color ${i} ${s}`,`background ${i} ${s}`,`padding ${r} ${s}`].join(",")},[`${o}-submenu ${o}-sub`]:{cursor:"initial",transition:[`background ${i} ${s}`,`padding ${i} ${s}`].join(",")},[`${o}-title-content`]:{transition:`color ${i}`,"&-with-extra":{display:"inline-flex",alignItems:"center",width:"100%"},[`> ${t}-typography-ellipsis-single-line`]:{display:"inline",verticalAlign:"unset"},[`${o}-item-extra`]:{marginInlineStart:"auto",paddingInlineStart:e.padding,fontSize:e.fontSizeSM}},[`${o}-item a`]:{"&::before":{position:"absolute",inset:0,backgroundColor:"transparent",content:'""'}},[`${o}-item-divider`]:{overflow:"hidden",lineHeight:0,borderColor:c,borderStyle:m,borderWidth:0,borderTopWidth:u,marginBlock:u,padding:0,"&-dashed":{borderStyle:"dashed"}}}),mg(e)),{[`${o}-item-group`]:{[`${o}-item-group-list`]:{margin:0,padding:0,[`${o}-item, ${o}-submenu-title`]:{paddingInline:`${Kt(e.calc(n).mul(2).equal())} ${Kt(l)}`}}},"&-submenu":{"&-popup":{position:"absolute",zIndex:d,borderRadius:h,boxShadow:"none",transformOrigin:"0 0",[`&${o}-submenu`]:{background:"transparent"},"&::before":{position:"absolute",inset:0,zIndex:-1,width:"100%",height:"100%",opacity:0,content:'""'},[`> ${o}`]:Object.assign(Object.assign(Object.assign({borderRadius:h},mg(e)),vg(e)),{[`${o}-item, ${o}-submenu > ${o}-submenu-title`]:{borderRadius:p},[`${o}-submenu-title::after`]:{transition:`transform ${i} ${s}`}})},"\n          &-placement-leftTop,\n          &-placement-bottomRight,\n          ":{transformOrigin:"100% 0"},"\n          &-placement-leftBottom,\n          &-placement-topRight,\n          ":{transformOrigin:"100% 100%"},"\n          &-placement-rightBottom,\n          &-placement-topLeft,\n          ":{transformOrigin:"0 100%"},"\n          &-placement-bottomLeft,\n          &-placement-rightTop,\n          ":{transformOrigin:"0 0"},"\n          &-placement-leftTop,\n          &-placement-leftBottom\n          ":{paddingInlineEnd:e.paddingXS},"\n          &-placement-rightTop,\n          &-placement-rightBottom\n          ":{paddingInlineStart:e.paddingXS},"\n          &-placement-topRight,\n          &-placement-topLeft\n          ":{paddingBottom:e.paddingXS},"\n          &-placement-bottomRight,\n          &-placement-bottomLeft\n          ":{paddingTop:e.paddingXS}}}),vg(e)),{[`&-inline-collapsed ${o}-submenu-arrow,\n        &-inline ${o}-submenu-arrow`]:{"&::before":{transform:`rotate(-45deg) translateX(${Kt(f)})`},"&::after":{transform:`rotate(45deg) translateX(${Kt(e.calc(f).mul(-1).equal())})`}},[`${o}-submenu-open${o}-submenu-inline > ${o}-submenu-title > ${o}-submenu-arrow`]:{transform:`translateY(${Kt(e.calc(g).mul(.2).mul(-1).equal())})`,"&::after":{transform:`rotate(-45deg) translateX(${Kt(e.calc(f).mul(-1).equal())})`},"&::before":{transform:`rotate(45deg) translateX(${Kt(f)})`}}})},{[`${t}-layout-header`]:{[o]:{lineHeight:"inherit"}}}]},Cg=e=>{var t,o,n;const{colorPrimary:i,colorError:r,colorTextDisabled:s,colorErrorBg:a,colorText:l,colorTextDescription:c,colorBgContainer:u,colorFillAlter:d,colorFillContent:h,lineWidth:p,lineWidthBold:g,controlItemBgActive:f,colorBgTextHover:m,controlHeightLG:v,lineHeight:y,colorBgElevated:C,marginXXS:w,padding:b,fontSize:S,controlHeightSM:E,fontSizeLG:R,colorTextLightSolid:P,colorErrorHover:O}=e,x=null!==(t=e.activeBarWidth)&&void 0!==t?t:0,T=null!==(o=e.activeBarBorderWidth)&&void 0!==o?o:p,D=null!==(n=e.itemMarginInline)&&void 0!==n?n:e.marginXXS,A=new vi(P).setAlpha(.65).toRgbString();return{dropdownWidth:160,zIndexPopup:e.zIndexPopupBase+50,radiusItem:e.borderRadiusLG,itemBorderRadius:e.borderRadiusLG,radiusSubMenuItem:e.borderRadiusSM,subMenuItemBorderRadius:e.borderRadiusSM,colorItemText:l,itemColor:l,colorItemTextHover:l,itemHoverColor:l,colorItemTextHoverHorizontal:i,horizontalItemHoverColor:i,colorGroupTitle:c,groupTitleColor:c,colorItemTextSelected:i,itemSelectedColor:i,colorItemTextSelectedHorizontal:i,horizontalItemSelectedColor:i,colorItemBg:u,itemBg:u,colorItemBgHover:m,itemHoverBg:m,colorItemBgActive:h,itemActiveBg:f,colorSubItemBg:d,subMenuItemBg:d,colorItemBgSelected:f,itemSelectedBg:f,colorItemBgSelectedHorizontal:"transparent",horizontalItemSelectedBg:"transparent",colorActiveBarWidth:0,activeBarWidth:x,colorActiveBarHeight:g,activeBarHeight:g,colorActiveBarBorderSize:p,activeBarBorderWidth:T,colorItemTextDisabled:s,itemDisabledColor:s,colorDangerItemText:r,dangerItemColor:r,colorDangerItemTextHover:r,dangerItemHoverColor:r,colorDangerItemTextSelected:r,dangerItemSelectedColor:r,colorDangerItemBgActive:a,dangerItemActiveBg:a,colorDangerItemBgSelected:a,dangerItemSelectedBg:a,itemMarginInline:D,horizontalItemBorderRadius:0,horizontalItemHoverBg:"transparent",itemHeight:v,groupTitleLineHeight:y,collapsedWidth:2*v,popupBg:C,itemMarginBlock:w,itemPaddingInline:b,horizontalLineHeight:1.15*v+"px",iconSize:S,iconMarginInlineEnd:E-S,collapsedIconSize:R,groupTitleFontSize:S,darkItemDisabledColor:new vi(P).setAlpha(.25).toRgbString(),darkItemColor:A,darkDangerItemColor:r,darkItemBg:"#001529",darkPopupBg:"#001529",darkSubMenuItemBg:"#000c17",darkItemSelectedColor:P,darkItemSelectedBg:i,darkDangerItemSelectedBg:r,darkItemHoverBg:"transparent",darkGroupTitleColor:A,darkItemHoverColor:P,darkDangerItemHoverColor:O,darkDangerItemSelectedColor:P,darkDangerItemActiveBg:r,itemWidth:x?`calc(100% + ${T}px)`:`calc(100% - ${2*D}px)`}},wg=e=>{var o;const{popupClassName:n,icon:i,title:r,theme:s}=e,a=t.useContext(Kd),{prefixCls:l,inlineCollapsed:c,theme:h}=a,p=Bc();let g;if(i){const e=t.isValidElement(r)&&"span"===r.type;g=t.createElement(t.Fragment,null,Er(i,{className:u()(t.isValidElement(i)?null===(o=i.props)||void 0===o?void 0:o.className:"",`${l}-item-icon`)}),e?r:t.createElement("span",{className:`${l}-title-content`},r))}else g=c&&!p.length&&r&&"string"===typeof r?t.createElement("div",{className:`${l}-inline-collapsed-noicon`},r.charAt(0)):t.createElement("span",{className:`${l}-title-content`},r);const f=t.useMemo((()=>Object.assign(Object.assign({},a),{firstLevel:!1})),[a]),[m]=Ep("Menu");return t.createElement(Kd.Provider,{value:f},t.createElement(Rd,Object.assign({},d(e,["icon"]),{title:g,popupClassName:u()(l,n,`${l}-${s||h}`),popupStyle:Object.assign({zIndex:m},e.popupStyle)})))};var bg=function(e,t){var o={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(o[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(o[n[i]]=e[n[i]])}return o};function Sg(e){return null===e||!1===e}const Eg={item:ig,submenu:wg,divider:qd},Rg=(0,t.forwardRef)(((e,o)=>{var n;const i=t.useContext(sg),r=i||{},{getPrefixCls:s,getPopupContainer:a,direction:l,menu:c}=t.useContext(g),h=s(),{prefixCls:p,className:f,style:m,theme:v="light",expandIcon:y,_internalDisableMenuItemTitleTooltip:C,inlineCollapsed:w,siderCollapsed:b,rootClassName:S,mode:E,selectable:R,onClick:P,overflowedIndicatorPopupClassName:O}=e,x=d(bg(e,["prefixCls","className","style","theme","expandIcon","_internalDisableMenuItemTitleTooltip","inlineCollapsed","siderCollapsed","rootClassName","mode","selectable","onClick","overflowedIndicatorPopupClassName"]),["collapsedWidth"]);null===(n=r.validator)||void 0===n||n.call(r,{mode:E});const T=Ln((function(){var e;null===P||void 0===P||P.apply(void 0,arguments),null===(e=r.onClick)||void 0===e||e.call(r)})),D=r.mode||E,A=null!==R&&void 0!==R?R:r.selectable,F=null!==w&&void 0!==w?w:b,_={horizontal:{motionName:`${h}-slide-up`},inline:Ud(h),other:{motionName:`${h}-zoom-big`}},M=s("menu",p||r.prefixCls),I=$d(M),[L,N,k]=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;const o=Wi("Menu",(e=>{const{colorBgElevated:t,controlHeightLG:o,fontSize:n,darkItemColor:i,darkDangerItemColor:r,darkItemBg:s,darkSubMenuItemBg:a,darkItemSelectedColor:l,darkItemSelectedBg:c,darkDangerItemSelectedBg:u,darkItemHoverBg:d,darkGroupTitleColor:h,darkItemHoverColor:p,darkItemDisabledColor:g,darkDangerItemHoverColor:f,darkDangerItemSelectedColor:m,darkDangerItemActiveBg:v,popupBg:y,darkPopupBg:C}=e,w=e.calc(n).div(7).mul(5).equal(),b=Jn(e,{menuArrowSize:w,menuHorizontalHeight:e.calc(o).mul(1.15).equal(),menuArrowOffset:e.calc(w).mul(.25).equal(),menuSubMenuBg:t,calc:e.calc,popupBg:y}),S=Jn(b,{itemColor:i,itemHoverColor:p,groupTitleColor:h,itemSelectedColor:l,itemBg:s,popupBg:C,subMenuItemBg:a,itemActiveBg:"transparent",itemSelectedBg:c,activeBarHeight:0,activeBarBorderWidth:0,itemHoverBg:d,itemDisabledColor:g,dangerItemColor:r,dangerItemHoverColor:f,dangerItemSelectedColor:m,dangerItemActiveBg:v,dangerItemSelectedBg:u,menuSubMenuBg:a,horizontalItemSelectedColor:l,horizontalItemSelectedBg:c});return[yg(b),ug(b),fg(b),pg(b,"light"),pg(S,"dark"),dg(b),ag(b),cg(b,"slide-up"),cg(b,"slide-down"),Up(b,"zoom-big")]}),Cg,{deprecatedTokens:[["colorGroupTitle","groupTitleColor"],["radiusItem","itemBorderRadius"],["radiusSubMenuItem","subMenuItemBorderRadius"],["colorItemText","itemColor"],["colorItemTextHover","itemHoverColor"],["colorItemTextHoverHorizontal","horizontalItemHoverColor"],["colorItemTextSelected","itemSelectedColor"],["colorItemTextSelectedHorizontal","horizontalItemSelectedColor"],["colorItemTextDisabled","itemDisabledColor"],["colorDangerItemText","dangerItemColor"],["colorDangerItemTextHover","dangerItemHoverColor"],["colorDangerItemTextSelected","dangerItemSelectedColor"],["colorDangerItemBgActive","dangerItemActiveBg"],["colorDangerItemBgSelected","dangerItemSelectedBg"],["colorItemBg","itemBg"],["colorItemBgHover","itemHoverBg"],["colorSubItemBg","subMenuItemBg"],["colorItemBgActive","itemActiveBg"],["colorItemBgSelectedHorizontal","horizontalItemSelectedBg"],["colorActiveBarWidth","activeBarWidth"],["colorActiveBarHeight","activeBarHeight"],["colorActiveBarBorderSize","activeBarBorderWidth"],["colorItemBgSelected","itemSelectedBg"]],injectStyle:!(arguments.length>2&&void 0!==arguments[2])||arguments[2],unitless:{groupTitleLineHeight:!0}});return o(e,t)}(M,I,!i),G=u()(`${M}-${v}`,null===c||void 0===c?void 0:c.className,f),V=t.useMemo((()=>{var e,o;if("function"===typeof y||Sg(y))return y||null;if("function"===typeof r.expandIcon||Sg(r.expandIcon))return r.expandIcon||null;if("function"===typeof(null===c||void 0===c?void 0:c.expandIcon)||Sg(null===c||void 0===c?void 0:c.expandIcon))return(null===c||void 0===c?void 0:c.expandIcon)||null;const n=null!==(e=null!==y&&void 0!==y?y:null===r||void 0===r?void 0:r.expandIcon)&&void 0!==e?e:null===c||void 0===c?void 0:c.expandIcon;return Er(n,{className:u()(`${M}-submenu-expand-icon`,t.isValidElement(n)?null===(o=n.props)||void 0===o?void 0:o.className:void 0)})}),[y,null===r||void 0===r?void 0:r.expandIcon,null===c||void 0===c?void 0:c.expandIcon,M]),H=t.useMemo((()=>({prefixCls:M,inlineCollapsed:F||!1,direction:l,firstLevel:!0,theme:v,mode:D,disableMenuItemTitleTooltip:C})),[M,F,l,C,v]);return L(t.createElement(sg.Provider,{value:null},t.createElement(Kd.Provider,{value:H},t.createElement(Nd,Object.assign({getPopupContainer:a,overflowedIndicator:t.createElement(Vd,null),overflowedIndicatorPopupClassName:u()(M,`${M}-${v}`,O),mode:D,selectable:A,onClick:T},x,{inlineCollapsed:F,style:Object.assign(Object.assign({},null===c||void 0===c?void 0:c.style),m),className:G,prefixCls:M,direction:l,defaultMotions:_,expandIcon:V,ref:o,rootClassName:u()(S,N,r.rootClassName,k,I),_internalComponents:Eg})))))})),Pg=Rg,Og=(0,t.forwardRef)(((e,o)=>{const n=(0,t.useRef)(null),i=t.useContext(Ji);return(0,t.useImperativeHandle)(o,(()=>({menu:n.current,focus:e=>{var t;null===(t=n.current)||void 0===t||t.focus(e)}}))),t.createElement(Pg,Object.assign({ref:n},e,i))}));Og.Item=ig,Og.SubMenu=wg,Og.Divider=qd,Og.ItemGroup=Td;const xg=Og;const Tg={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M946.5 505L560.1 118.8l-25.9-25.9a31.5 31.5 0 00-44.4 0L77.5 505a63.9 63.9 0 00-18.8 46c.4 35.2 29.7 63.3 64.9 63.3h42.5V940h691.8V614.3h43.4c17.1 0 33.2-6.7 45.3-18.8a63.6 63.6 0 0018.7-45.3c0-17-6.7-33.1-18.8-45.2zM568 868H456V664h112v204zm217.9-325.7V868H632V640c0-22.1-17.9-40-40-40H432c-22.1 0-40 17.9-40 40v228H238.1V542.3h-96l370-369.7 23.1 23.1L882 542.3h-96.1z"}}]},name:"home",theme:"outlined"};var Dg=function(e,o){return t.createElement(ut,C({},e,{ref:o,icon:Tg}))};const Ag=t.forwardRef(Dg);const Fg={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M594.3 601.5a111.8 111.8 0 0029.1-75.5c0-61.9-49.9-112-111.4-112s-111.4 50.1-111.4 112c0 29.1 11 55.5 29.1 75.5a158.09 158.09 0 00-74.6 126.1 8 8 0 008 8.4H407c4.2 0 7.6-3.3 7.9-7.5 3.8-50.6 46-90.5 97.2-90.5s93.4 40 97.2 90.5c.3 4.2 3.7 7.5 7.9 7.5H661a8 8 0 008-8.4c-2.8-53.3-32-99.7-74.7-126.1zM512 578c-28.5 0-51.7-23.3-51.7-52s23.2-52 51.7-52 51.7 23.3 51.7 52-23.2 52-51.7 52zm416-354H768v-56c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v56H548v-56c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v56H328v-56c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v56H96c-17.7 0-32 14.3-32 32v576c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V256c0-17.7-14.3-32-32-32zm-40 568H136V296h120v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56h148v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56h148v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56h120v496z"}}]},name:"contacts",theme:"outlined"};var _g=function(e,o){return t.createElement(ut,C({},e,{ref:o,icon:Fg}))};const Mg=t.forwardRef(_g);const Ig={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M924.8 625.7l-65.5-56c3.1-19 4.7-38.4 4.7-57.8s-1.6-38.8-4.7-57.8l65.5-56a32.03 32.03 0 009.3-35.2l-.9-2.6a443.74 443.74 0 00-79.7-137.9l-1.8-2.1a32.12 32.12 0 00-35.1-9.5l-81.3 28.9c-30-24.6-63.5-44-99.7-57.6l-15.7-85a32.05 32.05 0 00-25.8-25.7l-2.7-.5c-52.1-9.4-106.9-9.4-159 0l-2.7.5a32.05 32.05 0 00-25.8 25.7l-15.8 85.4a351.86 351.86 0 00-99 57.4l-81.9-29.1a32 32 0 00-35.1 9.5l-1.8 2.1a446.02 446.02 0 00-79.7 137.9l-.9 2.6c-4.5 12.5-.8 26.5 9.3 35.2l66.3 56.6c-3.1 18.8-4.6 38-4.6 57.1 0 19.2 1.5 38.4 4.6 57.1L99 625.5a32.03 32.03 0 00-9.3 35.2l.9 2.6c18.1 50.4 44.9 96.9 79.7 137.9l1.8 2.1a32.12 32.12 0 0035.1 9.5l81.9-29.1c29.8 24.5 63.1 43.9 99 57.4l15.8 85.4a32.05 32.05 0 0025.8 25.7l2.7.5a449.4 449.4 0 00159 0l2.7-.5a32.05 32.05 0 0025.8-25.7l15.7-85a350 350 0 0099.7-57.6l81.3 28.9a32 32 0 0035.1-9.5l1.8-2.1c34.8-41.1 61.6-87.5 79.7-137.9l.9-2.6c4.5-12.3.8-26.3-9.3-35zM788.3 465.9c2.5 15.1 3.8 30.6 3.8 46.1s-1.3 31-3.8 46.1l-6.6 40.1 74.7 63.9a370.03 370.03 0 01-42.6 73.6L721 702.8l-31.4 25.8c-23.9 19.6-50.5 35-79.3 45.8l-38.1 14.3-17.9 97a377.5 377.5 0 01-85 0l-17.9-97.2-37.8-14.5c-28.5-10.8-55-26.2-78.7-45.7l-31.4-25.9-93.4 33.2c-17-22.9-31.2-47.6-42.6-73.6l75.5-64.5-6.5-40c-2.4-14.9-3.7-30.3-3.7-45.5 0-15.3 1.2-30.6 3.7-45.5l6.5-40-75.5-64.5c11.3-26.1 25.6-50.7 42.6-73.6l93.4 33.2 31.4-25.9c23.7-19.5 50.2-34.9 78.7-45.7l37.9-14.3 17.9-97.2c28.1-3.2 56.8-3.2 85 0l17.9 97 38.1 14.3c28.7 10.8 55.4 26.2 79.3 45.8l31.4 25.8 92.8-32.9c17 22.9 31.2 47.6 42.6 73.6L781.8 426l6.5 39.9zM512 326c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm79.2 255.2A111.6 111.6 0 01512 614c-29.9 0-58-11.7-79.2-32.8A111.6 111.6 0 01400 502c0-29.9 11.7-58 32.8-79.2C454 401.6 482.1 390 512 390c29.9 0 58 11.6 79.2 32.8A111.6 111.6 0 01624 502c0 29.9-11.7 58-32.8 79.2z"}}]},name:"setting",theme:"outlined"};var Lg=function(e,o){return t.createElement(ut,C({},e,{ref:o,icon:Ig}))};const Ng=t.forwardRef(Lg);function kg(e){let{darkTheme:t}=e;return(0,Fl.jsxs)(xg,{theme:t?"dark":"light",mode:"inline",className:"menu-bar",children:[(0,Fl.jsx)(xg.Item,{icon:(0,Fl.jsx)(Ag,{}),disabled:!0,children:"Home"},"home"),(0,Fl.jsx)(xg.Item,{icon:(0,Fl.jsx)(Mg,{}),children:"Contacts"},"contacts"),(0,Fl.jsx)(xg.Item,{icon:(0,Fl.jsx)(Ng,{}),disabled:!0,children:"Setting"},"setting")]})}var Gg={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Vg=t.createContext&&t.createContext(Gg),Hg=["attr","size","title"];function Bg(e,t){if(null==e)return{};var o,n,i=function(e,t){if(null==e)return{};var o={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;o[n]=e[n]}return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)o=r[n],t.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(e,o)&&(i[o]=e[o])}return i}function Wg(){return Wg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},Wg.apply(this,arguments)}function jg(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function zg(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?jg(Object(o),!0).forEach((function(t){Ug(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):jg(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function Ug(e,t,o){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var n=o.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function $g(e){return e&&e.map(((e,o)=>t.createElement(e.tag,zg({key:o},e.attr),$g(e.child))))}function Kg(e){return o=>t.createElement(Yg,Wg({attr:zg({},e.attr)},o),$g(e.child))}function Yg(e){var o=o=>{var n,{attr:i,size:r,title:s}=e,a=Bg(e,Hg),l=r||o.size||"1em";return o.className&&(n=o.className),e.className&&(n=(n?n+" ":"")+e.className),t.createElement("svg",Wg({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},o.attr,i,a,{className:n,style:zg(zg({color:e.color||o.color},o.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),s&&t.createElement("title",null,s),e.children)};return void 0!==Vg?t.createElement(Vg.Consumer,null,(e=>o(e))):o(Gg)}function qg(e){return Kg({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"},child:[]}]})(e)}function Xg(e){return Kg({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"},child:[]}]})(e)}function Qg(e){let{darkTheme:t,toggleTheme:o}=e;return(0,Fl.jsx)("div",{className:"toggle-theme-button",children:(0,Fl.jsx)(bl,{onClick:o,children:t?(0,Fl.jsx)(Xg,{}):(0,Fl.jsx)(qg,{})})})}var Zg=class{constructor(){this.allSyncListeners=new Map,this.allAsyncListeners=new Map,this.globalSyncListeners=new Set,this.globalAsyncListeners=new Set,this.asyncFunctionsQueue=[],this.scheduled=!1,this.firedEvents={}}setFrameworkOverrides(e){this.frameworkOverrides=e}getListeners(e,t,o){const n=t?this.allAsyncListeners:this.allSyncListeners;let i=n.get(e);return!i&&o&&(i=new Set,n.set(e,i)),i}noRegisteredListenersExist(){return 0===this.allSyncListeners.size&&0===this.allAsyncListeners.size&&0===this.globalSyncListeners.size&&0===this.globalAsyncListeners.size}addEventListener(e,t){let o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.getListeners(e,o,!0).add(t)}removeEventListener(e,t){let o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const n=this.getListeners(e,o,!1);if(n&&(n.delete(t),0===n.size)){(o?this.allAsyncListeners:this.allSyncListeners).delete(e)}}addGlobalListener(e){(arguments.length>1&&void 0!==arguments[1]&&arguments[1]?this.globalAsyncListeners:this.globalSyncListeners).add(e)}removeGlobalListener(e){(arguments.length>1&&void 0!==arguments[1]&&arguments[1]?this.globalAsyncListeners:this.globalSyncListeners).delete(e)}dispatchEvent(e){const t=e;this.dispatchToListeners(t,!0),this.dispatchToListeners(t,!1),this.firedEvents[t.type]=!0}dispatchEventOnce(e){this.firedEvents[e.type]||this.dispatchEvent(e)}dispatchToListeners(e,t){const o=e.type;if(t&&"event"in e){const t=e.event;t instanceof Event&&(e.eventPath=t.composedPath())}const n=(o,n)=>o.forEach((o=>{if(!n.has(o))return;const i=this.frameworkOverrides?()=>this.frameworkOverrides.wrapIncoming((()=>o(e))):()=>o(e);t?this.dispatchAsync(i):i()})),i=this.getListeners(o,t,!1)??new Set,r=new Set(i);r.size>0&&n(r,i);new Set(t?this.globalAsyncListeners:this.globalSyncListeners).forEach((n=>{const i=this.frameworkOverrides?()=>this.frameworkOverrides.wrapIncoming((()=>n(o,e))):()=>n(o,e);t?this.dispatchAsync(i):i()}))}dispatchAsync(e){if(this.asyncFunctionsQueue.push(e),!this.scheduled){const e=()=>{window.setTimeout(this.flushAsyncQueue.bind(this),0)};this.frameworkOverrides?this.frameworkOverrides.wrapIncoming(e):e(),this.scheduled=!0}}flushAsyncQueue(){this.scheduled=!1;const e=this.asyncFunctionsQueue.slice();this.asyncFunctionsQueue=[],e.forEach((e=>e()))}},Jg=(e=>(e.CommunityCoreModule="@ag-grid-community/core",e.InfiniteRowModelModule="@ag-grid-community/infinite-row-model",e.ClientSideRowModelModule="@ag-grid-community/client-side-row-model",e.CsvExportModule="@ag-grid-community/csv-export",e.EnterpriseCoreModule="@ag-grid-enterprise/core",e.RowGroupingModule="@ag-grid-enterprise/row-grouping",e.ColumnsToolPanelModule="@ag-grid-enterprise/column-tool-panel",e.FiltersToolPanelModule="@ag-grid-enterprise/filter-tool-panel",e.MenuModule="@ag-grid-enterprise/menu",e.SetFilterModule="@ag-grid-enterprise/set-filter",e.MultiFilterModule="@ag-grid-enterprise/multi-filter",e.StatusBarModule="@ag-grid-enterprise/status-bar",e.SideBarModule="@ag-grid-enterprise/side-bar",e.RangeSelectionModule="@ag-grid-enterprise/range-selection",e.MasterDetailModule="@ag-grid-enterprise/master-detail",e.RichSelectModule="@ag-grid-enterprise/rich-select",e.GridChartsModule="@ag-grid-enterprise/charts",e.ViewportRowModelModule="@ag-grid-enterprise/viewport-row-model",e.ServerSideRowModelModule="@ag-grid-enterprise/server-side-row-model",e.ExcelExportModule="@ag-grid-enterprise/excel-export",e.ClipboardModule="@ag-grid-enterprise/clipboard",e.SparklinesModule="@ag-grid-enterprise/sparklines",e.AdvancedFilterModule="@ag-grid-enterprise/advanced-filter",e.AngularModule="@ag-grid-community/angular",e.ReactModule="@ag-grid-community/react",e.VueModule="@ag-grid-community/vue",e))(Jg||{}),ef={};function tf(e,t){ef[t]||(e(),ef[t]=!0)}function of(e){for(var t=arguments.length,o=new Array(t>1?t-1:0),n=1;n<t;n++)o[n-1]=arguments[n];console.log("AG Grid: "+e,...o)}function nf(e){for(var t=arguments.length,o=new Array(t>1?t-1:0),n=1;n<t;n++)o[n-1]=arguments[n];tf((()=>console.warn("AG Grid: "+e,...o)),e+o?.join(""))}function rf(e){for(var t=arguments.length,o=new Array(t>1?t-1:0),n=1;n<t;n++)o[n-1]=arguments[n];tf((()=>console.error("AG Grid: "+e,...o)),e+o?.join(""))}function sf(e){return!!(e&&e.constructor&&e.call&&e.apply)}function af(e){!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;e.length>0&&window.setTimeout((()=>e.forEach((e=>e()))),t)}(e,400)}var lf=[],cf=!1;function uf(e){lf.push(e),cf||(cf=!0,window.setTimeout((()=>{const e=lf.slice();lf.length=0,cf=!1,e.forEach((e=>e()))}),0))}function df(e,t){let o;return function(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];const s=this;window.clearTimeout(o),o=window.setTimeout((function(){e.apply(s,i)}),t)}}function hf(e,t){let o=0;return function(){const n=(new Date).getTime();if(!(n-o<t)){o=n;for(var i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];e.apply(this,r)}}}function pf(e){return null==e||""===e?null:e}function gf(e){return null!=e&&(""!==e||arguments.length>1&&void 0!==arguments[1]&&arguments[1])}function ff(e){return!gf(e)}function mf(e){return null==e||0===e.length}function vf(e){return null!=e&&"function"===typeof e.toString?e.toString():null}function yf(e){if(void 0===e)return;if(null===e||""===e)return null;if("number"===typeof e)return isNaN(e)?void 0:e;const t=parseInt(e,10);return isNaN(t)?void 0:t}function Cf(e){if(void 0!==e)return null!==e&&""!==e&&wf(e)}function wf(e){return"boolean"===typeof e?e:"string"===typeof e&&("TRUE"===e.toUpperCase()||""==e)}function bf(e,t){return(e?JSON.stringify(e):null)===(t?JSON.stringify(t):null)}function Sf(e,t){let o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const n=null==e,i=null==t;if(e&&e.toNumber&&(e=e.toNumber()),t&&t.toNumber&&(t=t.toNumber()),n&&i)return 0;if(n)return-1;if(i)return 1;function r(e,t){return e>t?1:e<t?-1:0}if("string"!==typeof e)return r(e,t);if(!o)return r(e,t);try{return e.localeCompare(t)}catch(bI){return r(e,t)}}function Ef(e){if(e instanceof Set||e instanceof Map){const t=[];return e.forEach((e=>t.push(e))),t}return Object.values(e)}function Rf(e,t){return e.get("rowModelType")===t}function Pf(e){return Rf(e,"clientSide")}function Of(e){return Rf(e,"serverSide")}function xf(e,t){return e.get("domLayout")===t}function Tf(e){return void 0!==nm(e)}function Df(e){return!e.get("suppressAsyncEvents")}function Af(e){return"function"===typeof e.get("getRowHeight")}function Ff(e,t){let o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3?arguments[3]:void 0;if(null==n&&(n=e.environment.getDefaultRowHeight()),Af(e)){if(o)return{height:n,estimated:!0};const i={node:t,data:t.data},r=e.getCallback("getRowHeight")(i);if(Mf(r))return 0===r&&nf("The return of `getRowHeight` cannot be zero. If the intention is to hide rows, use a filter instead."),{height:Math.max(1,r),estimated:!1}}if(t.detail&&e.get("masterDetail"))return function(e){if(e.get("detailRowAutoHeight"))return{height:1,estimated:!1};const t=e.get("detailRowHeight");if(Mf(t))return{height:t,estimated:!1};return{height:300,estimated:!1}}(e);const i=e.get("rowHeight");return{height:i&&Mf(i)?i:n,estimated:!1}}function _f(e){const{environment:t}=e,o=e.get("rowHeight");if(!o||ff(o))return t.getDefaultRowHeight();const n=t.refreshRowHeightVariable();return-1!==n?n:(nf("row height must be a number if not using standard row model"),t.getDefaultRowHeight())}function Mf(e){return!isNaN(e)&&"number"===typeof e&&isFinite(e)}function If(e,t,o){const n=t[e.getDomDataKey()];return n?n[o]:void 0}function Lf(e,t,o,n){const i=e.getDomDataKey();let r=t[i];ff(r)&&(r={},t[i]=r),r[o]=n}function Nf(e){let t=null;const o=e.get("getDocument");return o&&gf(o)?t=o():e.eGridDiv&&(t=e.eGridDiv.ownerDocument),t&&gf(t)?t:document}function kf(e){return Nf(e).defaultView||window}function Gf(e){return e.eGridDiv.getRootNode()}function Vf(e){return Gf(e).activeElement}function Hf(e){const t=Nf(e),o=Vf(e);return null===o||o===t.body}function Bf(e){return!e.get("ensureDomOrder")&&e.get("animateRows")}function Wf(e){return!(e.get("paginateChildRows")||e.get("groupHideOpenParents")||xf(e,"print"))}function jf(e){const t=e.get("autoGroupColumnDef");return!t?.comparator&&!e.get("treeData")}function zf(e){const t=e.get("groupAggFiltering");return"function"===typeof t?e.getCallback("groupAggFiltering"):!0===t?()=>!0:void 0}function Uf(e){const t=e.get("grandTotalRow");if(t)return t;return e.get("groupIncludeTotalFooter")?"bottom":void 0}function $f(e){const t=e.get("groupTotalRow");if("function"===typeof t)return e.getCallback("groupTotalRow");if(t)return()=>t;const o=e.get("groupIncludeFooter");if("function"===typeof o){const t=e.getCallback("groupIncludeFooter");return e=>t(e)?"bottom":void 0}return()=>o?"bottom":void 0}function Kf(e){return e.exists("groupDisplayType")?"multipleColumns"===e.get("groupDisplayType"):e.get("groupHideOpenParents")}function Yf(e,t){return!t&&"groupRows"===e.get("groupDisplayType")}function qf(e){const t=e.getCallback("getRowId");return void 0===t?t:e=>{let o=t(e);return"string"!==typeof o&&(nf("The getRowId callback must return a string. The ID ",o," is being cast to a string."),o=String(o)),o}}function Xf(e){return e?.checkboxes??!0}function Qf(e){return"multiRow"===e?.mode&&(e.headerCheckbox??!0)}function Zf(e){const t=e.get("cellSelection");return void 0!==t?!!t:e.get("enableRangeSelection")}function Jf(e){const t=e.get("cellSelection");return void 0!==t?"boolean"!==typeof t&&"fill"===t.handle?.mode:e.get("enableFillHandle")}function em(e){const t=e.get("rowSelection")??"single";if("string"===typeof t){const t=e.get("suppressRowClickSelection"),o=e.get("suppressRowDeselection");return(!t||!o)&&(t?"enableDeselection":!o||"enableSelection")}return("singleRow"===t.mode||"multiRow"===t.mode)&&(t.enableClickSelection??!1)}function tm(e){const t=em(e);return!0===t||"enableDeselection"===t}function om(e){const t=e.get("rowSelection");return"string"===typeof t?e.get("isRowSelectable"):t?.isRowSelectable}function nm(e){const t=e.get("rowSelection");if("string"===typeof t)switch(t){case"multiple":return"multiRow";case"single":return"singleRow";default:return}return t?.mode}function im(e){return"multiRow"===nm(e)}function rm(e){const t=e.get("rowSelection");if("string"===typeof t){const t=e.get("groupSelectsChildren"),o=e.get("groupSelectsFiltered");return t&&o?"filteredDescendants":t?"descendants":"self"}return"multiRow"===t?.mode?t.groupSelects:void 0}function sm(e){const t=rm(e);return"descendants"===t||"filteredDescendants"===t}function am(e){return e.isModuleRegistered("@ag-grid-enterprise/set-filter")&&!e.get("suppressSetFilterByDefault")}function lm(e){if(e&&e.length)return e[e.length-1]}function cm(e,t,o){return null==e&&null==t||null!=e&&null!=t&&e.length===t.length&&e.every(((e,n)=>o?o(e,t[n]):t[n]===e))}function um(e,t){const o=e.indexOf(t);o>=0&&(e[o]=e[e.length-1],e.pop())}function dm(e,t){const o=e.indexOf(t);o>=0&&e.splice(o,1)}function hm(e,t,o){e.splice(o,0,t)}function pm(e,t,o){!function(e,t){for(let o=0;o<t.length;o++)dm(e,t[o])}(e,t),t.slice().reverse().forEach((t=>hm(e,t,o)))}function gm(e,t){return e.indexOf(t)>-1}function fm(e,t){null!=t&&null!=e&&t.forEach((t=>e.push(t)))}var mm="__ag_Grid_Stop_Propagation",vm=["touchstart","touchend","touchmove","touchcancel","scroll"],ym={};function Cm(e){e[mm]=!0}function wm(e){return!0===e[mm]}var bm=(()=>{const e={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return t=>{if("boolean"===typeof ym[t])return ym[t];const o=document.createElement(e[t]||"div");return ym[t="on"+t]=t in o}})();function Sm(e,t,o){let n=t;for(;n;){const t=If(e,n,o);if(t)return t;n=n.parentElement}return null}function Em(e,t){return!(!t||!e)&&function(e){const t=e;if(t.path)return t.path;if(t.composedPath)return t.composedPath();return function(e){const t=[];let o=e.target;for(;o;)t.push(o),o=o.parentElement;return t}(t)}(t).indexOf(e)>=0}var Rm=class{constructor(){this.destroyFunctions=[],this.destroyed=!1,this.__v_skip=!0,this.propertyListenerId=0,this.lastChangeSetIdLookup={},this.isAlive=()=>!this.destroyed}preWireBeans(e){this.frameworkOverrides=e.frameworkOverrides,this.stubContext=e.context,this.eventService=e.eventService,this.gos=e.gos,this.localeService=e.localeService}getFrameworkOverrides(){return this.frameworkOverrides}destroy(){for(let e=0;e<this.destroyFunctions.length;e++)this.destroyFunctions[e]();this.destroyFunctions.length=0,this.destroyed=!0,this.dispatchLocalEvent({type:"destroyed"})}addEventListener(e,t,o){this.localEventService||(this.localEventService=new Zg),this.localEventService.addEventListener(e,t,o)}removeEventListener(e,t,o){this.localEventService&&this.localEventService.removeEventListener(e,t,o)}dispatchLocalEvent(e){this.localEventService&&this.localEventService.dispatchEvent(e)}addManagedElementListeners(e,t){return this._setupListeners(e,t)}addManagedEventListeners(e){return this._setupListeners(this.eventService,e)}addManagedListeners(e,t){return this._setupListeners(e,t)}_setupListeners(e,t){const o=[];for(const n in t){const i=t[n];i&&o.push(this._setupListener(e,n,i))}return o}_setupListener(e,t,o){if(this.destroyed)return()=>null;e instanceof HTMLElement?function(e,t,o,n){const i=gm(vm,o)?{passive:!0}:void 0;e&&e.addEventListener&&e.addEventListener(t,o,n,i)}(this.getFrameworkOverrides(),e,t,o):e.addEventListener(t,o);const n=()=>(e.removeEventListener(t,o),null);return this.destroyFunctions.push(n),()=>(n(),this.destroyFunctions=this.destroyFunctions.filter((e=>e!==n)),null)}setupGridOptionListener(e,t){this.gos.addPropertyEventListener(e,t);const o=()=>(this.gos.removePropertyEventListener(e,t),null);return this.destroyFunctions.push(o),()=>(o(),this.destroyFunctions=this.destroyFunctions.filter((e=>e!==o)),null)}addManagedPropertyListener(e,t){return this.destroyed?()=>null:this.setupGridOptionListener(e,t)}addManagedPropertyListeners(e,t){if(this.destroyed)return;const o=e.join("-")+this.propertyListenerId++,n=e=>{if(e.changeSet){if(e.changeSet&&e.changeSet.id===this.lastChangeSetIdLookup[o])return;this.lastChangeSetIdLookup[o]=e.changeSet.id}const n={type:"gridPropertyChanged",changeSet:e.changeSet,source:e.source};t(n)};e.forEach((e=>this.setupGridOptionListener(e,n)))}addDestroyFunc(e){this.isAlive()?this.destroyFunctions.push(e):e()}createManagedBean(e,t){const o=this.createBean(e,t);return this.addDestroyFunc(this.destroyBean.bind(this,e,t)),o}createBean(e,t,o){return(t||this.stubContext).createBean(e,o)}destroyBean(e,t){return(t||this.stubContext).destroyBean(e)}destroyBeans(e,t){return(t||this.stubContext).destroyBeans(e)}};function Pm(e){return e instanceof Om}var Om=class extends Rm{constructor(e,t,o,n){super(),this.isColumn=!1,this.expandable=!1,this.instanceId=Km(),this.expandableListenerRemoveCallback=null,this.colGroupDef=e,this.groupId=t,this.expanded=!!e&&!!e.openByDefault,this.padding=o,this.level=n}destroy(){this.expandableListenerRemoveCallback&&this.reset(null,void 0),super.destroy()}reset(e,t){this.colGroupDef=e,this.level=t,this.originalParent=null,this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback(),this.children=void 0,this.expandable=void 0}getInstanceId(){return this.instanceId}setOriginalParent(e){this.originalParent=e}getOriginalParent(){return this.originalParent}getLevel(){return this.level}isVisible(){return!!this.children&&this.children.some((e=>e.isVisible()))}isPadding(){return this.padding}setExpanded(e){this.expanded=void 0!==e&&e,this.dispatchLocalEvent({type:"expandedChanged"})}isExpandable(){return this.expandable}isExpanded(){return this.expanded}getGroupId(){return this.groupId}getId(){return this.getGroupId()}setChildren(e){this.children=e}getChildren(){return this.children}getColGroupDef(){return this.colGroupDef}getLeafColumns(){const e=[];return this.addLeafColumns(e),e}addLeafColumns(e){this.children&&this.children.forEach((t=>{Ym(t)?e.push(t):Pm(t)&&t.addLeafColumns(e)}))}getColumnGroupShow(){const e=this.colGroupDef;if(e)return e.columnGroupShow}setupExpandable(){this.setExpandable(),this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback();const e=this.onColumnVisibilityChanged.bind(this);this.getLeafColumns().forEach((t=>t.addEventListener("visibleChanged",e))),this.expandableListenerRemoveCallback=()=>{this.getLeafColumns().forEach((t=>t.removeEventListener("visibleChanged",e))),this.expandableListenerRemoveCallback=null}}setExpandable(){if(this.isPadding())return;let e=!1,t=!1,o=!1;const n=this.findChildrenRemovingPadding();for(let r=0,s=n.length;r<s;r++){const i=n[r];if(!i.isVisible())continue;const s=i.getColumnGroupShow();"open"===s?(e=!0,o=!0):"closed"===s?(t=!0,o=!0):(e=!0,t=!0)}const i=e&&t&&o;this.expandable!==i&&(this.expandable=i,this.dispatchLocalEvent({type:"expandableChanged"}))}findChildrenRemovingPadding(){const e=[],t=o=>{o.forEach((o=>{Pm(o)&&o.isPadding()?t(o.children):e.push(o)}))};return t(this.children),e}onColumnVisibilityChanged(){this.setExpandable()}},xm="ag-Grid-ControlsColumn",Tm=class extends Rm{constructor(){super(...arguments),this.beanName="controlsColService"}createControlsCols(){const{gos:e}=this,t=e.get("rowSelection");if(!t||"object"!==typeof t)return[];const o=Xf(t),n=Qf(t);if(o||n){const t=e.get("selectionColumnDef"),o={maxWidth:50,resizable:!1,suppressHeaderMenuButton:!0,sortable:!1,suppressMovable:!0,lockPosition:e.get("enableRtl")?"right":"left",comparator(e,t,o,n){const i=o.isSelected(),r=n.isSelected();return i&&r?0:i?1:-1},editable:!1,suppressFillHandle:!0,...t,colId:`${xm}`},n=new qm(o,null,o.colId,!1);return this.createBean(n),[n]}return[]}},Dm="ag-Grid-AutoColumn";function Am(e){const t=[],o=e=>{for(let n=0;n<e.length;n++){const i=e[n];Ym(i)?t.push(i):Pm(i)&&o(i.getChildren())}};return o(e),t}function Fm(e){return e.reduce(((e,t)=>e+t.getActualWidth()),0)}function _m(e,t,o){const n={};if(!t)return;Jm(null,t,(e=>{n[e.getInstanceId()]=e})),o&&Jm(null,o,(e=>{n[e.getInstanceId()]=null}));const i=Object.values(n).filter((e=>null!=e));e.destroyBeans(i)}function Mm(e){return e.getId().startsWith(Dm)}function Im(e){return e.getColId().startsWith(xm)}function Lm(e){let t=[];if(e instanceof Array){const o=e.some((e=>"string"!==typeof e));o?nf("if colDef.type is supplied an array it should be of type 'string[]'"):t=e}else"string"===typeof e?t=e.split(","):nf("colDef.type should be of type 'string' | 'string[]'");return t}var Nm=class{constructor(e){this.frameworkOverrides=e,this.wrappedListeners=new Map,this.wrappedGlobalListeners=new Map}wrap(e){let t=e;return this.frameworkOverrides.shouldWrapOutgoing&&(t=t=>{this.frameworkOverrides.wrapOutgoing((()=>e(t)))},this.wrappedListeners.set(e,t)),t}wrapGlobal(e){let t=e;return this.frameworkOverrides.shouldWrapOutgoing&&(t=(t,o)=>{this.frameworkOverrides.wrapOutgoing((()=>e(t,o)))},this.wrappedGlobalListeners.set(e,t)),t}unwrap(e){return this.wrappedListeners.get(e)??e}unwrapGlobal(e){return this.wrappedGlobalListeners.get(e)??e}},km=new Set(["__proto__","constructor","prototype"]);function Gm(e,t){if(null!=e)if(Array.isArray(e))for(let o=0;o<e.length;o++)t(o.toString(),e[o]);else for(const[o,n]of Object.entries(e))t(o,n)}function Vm(e){const t={},o=Object.keys(e);for(let n=0;n<o.length;n++){if(km.has(o[n]))continue;const i=o[n],r=e[i];t[i]=r}return t}function Hm(e,t){if(!e)return;const o=e,n={};return Object.keys(o).forEach((e=>{if(t&&t.indexOf(e)>=0||km.has(e))return;const i=o[e],r=zm(i)&&i.constructor===Object;n[e]=r?Hm(i):i})),n}function Bm(e){if(!e)return[];const t=Object;if("function"===typeof t.values)return t.values(e);const o=[];for(const n in e)e.hasOwnProperty(n)&&e.propertyIsEnumerable(n)&&o.push(e[n]);return o}function Wm(e,t){let o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];gf(t)&&Gm(t,((t,i)=>{if(km.has(t))return;let r=e[t];if(r!==i){if(n){if(null==r&&null!=i){"object"===typeof i&&i.constructor===Object&&(r={},e[t]=r)}}zm(i)&&zm(r)&&!Array.isArray(r)?Wm(r,i,o,n):(o||void 0!==i)&&(e[t]=i)}}))}function jm(e,t,o){if(!t||!e)return;if(!o)return e[t];const n=t.split(".");let i=e;for(let r=0;r<n.length;r++){if(null==i)return;i=i[n[r]]}return i}function zm(e){return"object"===typeof e&&null!==e}var Um={resizable:!0,sortable:!0},$m=0;function Km(){return $m++}function Ym(e){return e instanceof qm}var qm=class extends Rm{constructor(e,t,o,n){super(),this.isColumn=!0,this.instanceId=Km(),this.autoHeaderHeight=null,this.moving=!1,this.menuVisible=!1,this.lastLeftPinned=!1,this.firstRightPinned=!1,this.filterActive=!1,this.columnEventService=new Zg,this.tooltipEnabled=!1,this.rowGroupActive=!1,this.pivotActive=!1,this.aggregationActive=!1,this.colDef=e,this.userProvidedColDef=t,this.colId=o,this.primary=n,this.setState(e)}wireBeans(e){this.columnHoverService=e.columnHoverService}getInstanceId(){return this.instanceId}setState(e){void 0!==e.sort?"asc"!==e.sort&&"desc"!==e.sort||(this.sort=e.sort):"asc"!==e.initialSort&&"desc"!==e.initialSort||(this.sort=e.initialSort);const t=e.sortIndex,o=e.initialSortIndex;void 0!==t?null!==t&&(this.sortIndex=t):null!==o&&(this.sortIndex=o);const n=e.hide,i=e.initialHide;this.visible=void 0!==n?!n:!i,void 0!==e.pinned?this.setPinned(e.pinned):this.setPinned(e.initialPinned);const r=e.flex,s=e.initialFlex;void 0!==r?this.flex=r:void 0!==s&&(this.flex=s)}setColDef(e,t,o){this.colDef=e,this.userProvidedColDef=t,this.initMinAndMaxWidths(),this.initDotNotation(),this.initTooltip(),this.columnEventService.dispatchEvent(this.createColumnEvent("colDefChanged",o))}getUserProvidedColDef(){return this.userProvidedColDef}setParent(e){this.parent=e}getParent(){return this.parent}setOriginalParent(e){this.originalParent=e}getOriginalParent(){return this.originalParent}postConstruct(){this.initMinAndMaxWidths(),this.resetActualWidth("gridInitializing"),this.initDotNotation(),this.initTooltip()}initDotNotation(){const e=this.gos.get("suppressFieldDotNotation");this.fieldContainsDots=gf(this.colDef.field)&&this.colDef.field.indexOf(".")>=0&&!e,this.tooltipFieldContainsDots=gf(this.colDef.tooltipField)&&this.colDef.tooltipField.indexOf(".")>=0&&!e}initMinAndMaxWidths(){const e=this.colDef;this.minWidth=e.minWidth??this.gos.environment.getDefaultColumnMinWidth(),this.maxWidth=e.maxWidth??Number.MAX_SAFE_INTEGER}initTooltip(){this.tooltipEnabled=gf(this.colDef.tooltipField)||gf(this.colDef.tooltipValueGetter)||gf(this.colDef.tooltipComponent)}resetActualWidth(e){const t=this.calculateColInitialWidth(this.colDef);this.setActualWidth(t,e,!0)}calculateColInitialWidth(e){let t;const o=yf(e.width),n=yf(e.initialWidth);return t=null!=o?o:null!=n?n:200,Math.max(Math.min(t,this.maxWidth),this.minWidth)}isEmptyGroup(){return!1}isRowGroupDisplayed(e){if(ff(this.colDef)||ff(this.colDef.showRowGroup))return!1;const t=!0===this.colDef.showRowGroup,o=this.colDef.showRowGroup===e;return t||o}isPrimary(){return this.primary}isFilterAllowed(){return!!this.colDef.filter}isFieldContainsDots(){return this.fieldContainsDots}isTooltipEnabled(){return this.tooltipEnabled}isTooltipFieldContainsDots(){return this.tooltipFieldContainsDots}getHighlighted(){return this.highlighted}addEventListener(e,t){this.frameworkOverrides.shouldWrapOutgoing&&!this.frameworkEventListenerService&&(this.columnEventService.setFrameworkOverrides(this.frameworkOverrides),this.frameworkEventListenerService=new Nm(this.frameworkOverrides));const o=this.frameworkEventListenerService?.wrap(t)??t;this.columnEventService.addEventListener(e,o)}removeEventListener(e,t){const o=this.frameworkEventListenerService?.unwrap(t)??t;this.columnEventService.removeEventListener(e,o)}createColumnFunctionCallbackParams(e){return this.gos.addGridCommonParams({node:e,data:e.data,column:this,colDef:this.colDef})}isSuppressNavigable(e){if("boolean"===typeof this.colDef.suppressNavigable)return this.colDef.suppressNavigable;if("function"===typeof this.colDef.suppressNavigable){const t=this.createColumnFunctionCallbackParams(e);return(0,this.colDef.suppressNavigable)(t)}return!1}isCellEditable(e){if(e.group)if(this.gos.get("treeData")){if(!e.data&&!this.gos.get("enableGroupEdit"))return!1}else if(!this.gos.get("enableGroupEdit"))return!1;return this.isColumnFunc(e,this.colDef.editable)}isSuppressFillHandle(){return!!this.colDef.suppressFillHandle}isAutoHeight(){return!!this.colDef.autoHeight}isAutoHeaderHeight(){return!!this.colDef.autoHeaderHeight}isRowDrag(e){return this.isColumnFunc(e,this.colDef.rowDrag)}isDndSource(e){return this.isColumnFunc(e,this.colDef.dndSource)}isCellCheckboxSelection(e){const t=this.gos.get("rowSelection");if(t&&"string"!==typeof t){const o=Im(this)&&Xf(t);return this.isColumnFunc(e,o)}return this.isColumnFunc(e,this.colDef.checkboxSelection)}isSuppressPaste(e){return this.isColumnFunc(e,this.colDef?this.colDef.suppressPaste:null)}isResizable(){return!!this.getColDefValue("resizable")}getColDefValue(e){return this.colDef[e]??Um[e]}isColumnFunc(e,t){if("boolean"===typeof t)return t;if("function"===typeof t){return t(this.createColumnFunctionCallbackParams(e))}return!1}setHighlighted(e){this.highlighted!==e&&(this.highlighted=e,this.columnEventService.dispatchEvent(this.createColumnEvent("headerHighlightChanged","uiColumnMoved")))}setMoving(e,t){this.moving=e,this.columnEventService.dispatchEvent(this.createColumnEvent("movingChanged",t))}createColumnEvent(e,t){return this.gos.addGridCommonParams({type:e,column:this,columns:[this],source:t})}isMoving(){return this.moving}getSort(){return this.sort}setSort(e,t){this.sort!==e&&(this.sort=e,this.columnEventService.dispatchEvent(this.createColumnEvent("sortChanged",t))),this.dispatchStateUpdatedEvent("sort")}isSortable(){return!!this.getColDefValue("sortable")}isSortAscending(){return"asc"===this.sort}isSortDescending(){return"desc"===this.sort}isSortNone(){return ff(this.sort)}isSorting(){return gf(this.sort)}getSortIndex(){return this.sortIndex}setSortIndex(e){this.sortIndex=e,this.dispatchStateUpdatedEvent("sortIndex")}setMenuVisible(e,t){this.menuVisible!==e&&(this.menuVisible=e,this.columnEventService.dispatchEvent(this.createColumnEvent("menuVisibleChanged",t)))}isMenuVisible(){return this.menuVisible}setAggFunc(e){this.aggFunc=e,this.dispatchStateUpdatedEvent("aggFunc")}getAggFunc(){return this.aggFunc}getLeft(){return this.left}getOldLeft(){return this.oldLeft}getRight(){return this.left+this.actualWidth}setLeft(e,t){this.oldLeft=this.left,this.left!==e&&(this.left=e,this.columnEventService.dispatchEvent(this.createColumnEvent("leftChanged",t)))}isFilterActive(){return this.filterActive}setFilterActive(e,t,o){this.filterActive!==e&&(this.filterActive=e,this.columnEventService.dispatchEvent(this.createColumnEvent("filterActiveChanged",t)));const n=this.createColumnEvent("filterChanged",t);o&&Wm(n,o),this.columnEventService.dispatchEvent(n)}isHovered(){return this.columnHoverService.isHovered(this)}setPinned(e){this.pinned=!0===e||"left"===e?"left":"right"===e?"right":null,this.dispatchStateUpdatedEvent("pinned")}setFirstRightPinned(e,t){this.firstRightPinned!==e&&(this.firstRightPinned=e,this.columnEventService.dispatchEvent(this.createColumnEvent("firstRightPinnedChanged",t)))}setLastLeftPinned(e,t){this.lastLeftPinned!==e&&(this.lastLeftPinned=e,this.columnEventService.dispatchEvent(this.createColumnEvent("lastLeftPinnedChanged",t)))}isFirstRightPinned(){return this.firstRightPinned}isLastLeftPinned(){return this.lastLeftPinned}isPinned(){return"left"===this.pinned||"right"===this.pinned}isPinnedLeft(){return"left"===this.pinned}isPinnedRight(){return"right"===this.pinned}getPinned(){return this.pinned}setVisible(e,t){const o=!0===e;this.visible!==o&&(this.visible=o,this.columnEventService.dispatchEvent(this.createColumnEvent("visibleChanged",t))),this.dispatchStateUpdatedEvent("hide")}isVisible(){return this.visible}isSpanHeaderHeight(){return!this.getColDef().suppressSpanHeaderHeight}getColumnGroupPaddingInfo(){let e=this.getParent();if(!e||!e.isPadding())return{numberOfParents:0,isSpanningTotal:!1};const t=e.getPaddingLevel()+1;let o=!0;for(;e;){if(!e.isPadding()){o=!1;break}e=e.getParent()}return{numberOfParents:t,isSpanningTotal:o}}getColDef(){return this.colDef}getDefinition(){return this.colDef}getColumnGroupShow(){return this.colDef.columnGroupShow}getColId(){return this.colId}getId(){return this.colId}getUniqueId(){return this.colId}getActualWidth(){return this.actualWidth}getAutoHeaderHeight(){return this.autoHeaderHeight}setAutoHeaderHeight(e){const t=e!==this.autoHeaderHeight;return this.autoHeaderHeight=e,t}createBaseColDefParams(e){return this.gos.addGridCommonParams({node:e,data:e.data,colDef:this.colDef,column:this})}getColSpan(e){if(ff(this.colDef.colSpan))return 1;const t=this.createBaseColDefParams(e),o=this.colDef.colSpan(t);return Math.max(o,1)}getRowSpan(e){if(ff(this.colDef.rowSpan))return 1;const t=this.createBaseColDefParams(e),o=this.colDef.rowSpan(t);return Math.max(o,1)}setActualWidth(e,t){let o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e=Math.max(e,this.minWidth),e=Math.min(e,this.maxWidth),this.actualWidth!==e&&(this.actualWidth=e,this.flex&&"flex"!==t&&"gridInitializing"!==t&&(this.flex=null),o||this.fireColumnWidthChangedEvent(t)),this.dispatchStateUpdatedEvent("width")}fireColumnWidthChangedEvent(e){this.columnEventService.dispatchEvent(this.createColumnEvent("widthChanged",e))}isGreaterThanMax(e){return e>this.maxWidth}getMinWidth(){return this.minWidth}getMaxWidth(){return this.maxWidth}getFlex(){return this.flex||0}setFlex(e){this.flex!==e&&(this.flex=e),this.dispatchStateUpdatedEvent("flex")}setMinimum(e){this.setActualWidth(this.minWidth,e)}setRowGroupActive(e,t){this.rowGroupActive!==e&&(this.rowGroupActive=e,this.columnEventService.dispatchEvent(this.createColumnEvent("columnRowGroupChanged",t))),this.dispatchStateUpdatedEvent("rowGroup")}isRowGroupActive(){return this.rowGroupActive}setPivotActive(e,t){this.pivotActive!==e&&(this.pivotActive=e,this.columnEventService.dispatchEvent(this.createColumnEvent("columnPivotChanged",t))),this.dispatchStateUpdatedEvent("pivot")}isPivotActive(){return this.pivotActive}isAnyFunctionActive(){return this.isPivotActive()||this.isRowGroupActive()||this.isValueActive()}isAnyFunctionAllowed(){return this.isAllowPivot()||this.isAllowRowGroup()||this.isAllowValue()}setValueActive(e,t){this.aggregationActive!==e&&(this.aggregationActive=e,this.columnEventService.dispatchEvent(this.createColumnEvent("columnValueChanged",t)))}isValueActive(){return this.aggregationActive}isAllowPivot(){return!0===this.colDef.enablePivot}isAllowValue(){return!0===this.colDef.enableValue}isAllowRowGroup(){return!0===this.colDef.enableRowGroup}dispatchStateUpdatedEvent(e){this.columnEventService.dispatchEvent({type:"columnStateUpdated",key:e})}},Xm={numericColumn:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"},rightAligned:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"}},Qm=class{constructor(){this.existingKeys={}}addExistingKeys(e){for(let t=0;t<e.length;t++)this.existingKeys[e[t]]=!0}getUniqueKey(e,t){e=vf(e);let o=0;for(;;){let n;if(e?(n=e,0!==o&&(n+="_"+o)):t?(n=t,0!==o&&(n+="_"+o)):n=o,!this.existingKeys[n])return this.existingKeys[n]=!0,String(n);o++}}},Zm=class extends Rm{constructor(){super(...arguments),this.beanName="columnFactory"}wireBeans(e){this.dataTypeService=e.dataTypeService}createColumnTree(e,t,o,n){const i=new Qm,{existingCols:r,existingGroups:s,existingColKeys:a}=this.extractExistingTreeData(o);i.addExistingKeys(a);const l=this.recursivelyCreateColumns(e,0,t,r,i,s,n),c=this.findMaxDept(l,0),u=this.balanceColumnTree(l,0,c,i);return Jm(null,u,((e,t)=>{Pm(e)&&e.setupExpandable(),e.setOriginalParent(t)})),{columnTree:u,treeDept:c}}extractExistingTreeData(e){const t=[],o=[],n=[];return e&&Jm(null,e,(e=>{if(Pm(e)){const t=e;o.push(t)}else{const o=e;n.push(o.getId()),t.push(o)}})),{existingCols:t,existingGroups:o,existingColKeys:n}}balanceTreeForAutoCols(e,t){const o=[],n=this.findDepth(t);return e.forEach((e=>{let t=e;for(let o=n-1;o>=0;o--){const n=new Om(null,`FAKE_PATH_${e.getId()}}_${o}`,!0,o);this.createBean(n),n.setChildren([t]),t.setOriginalParent(n),t=n}0===n&&e.setOriginalParent(null),o.push(t)})),[o,n]}findDepth(e){let t=0,o=e;for(;o&&o[0]&&Pm(o[0]);)t++,o=o[0].getChildren();return t}balanceColumnTree(e,t,o,n){const i=[];for(let r=0;r<e.length;r++){const s=e[r];if(Pm(s)){const e=s,r=this.balanceColumnTree(e.getChildren(),t+1,o,n);e.setChildren(r),i.push(e)}else{let r,a;for(let e=o-1;e>=t;e--){const e=n.getUniqueKey(null,null),o=this.createMergedColGroupDef(null),i=new Om(o,e,!0,t);this.createBean(i),a&&a.setChildren([i]),a=i,r||(r=a)}if(r&&a){i.push(r);if(e.some((e=>Pm(e)))){a.setChildren([s]);continue}a.setChildren(e);break}i.push(s)}}return i}findMaxDept(e,t){let o=t;for(let n=0;n<e.length;n++){const i=e[n];if(Pm(i)){const e=i,n=this.findMaxDept(e.getChildren(),t+1);o<n&&(o=n)}}return o}recursivelyCreateColumns(e,t,o,n,i,r,s){if(!e)return[];const a=new Array(e.length);for(let l=0;l<a.length;l++){const c=e[l];this.isColumnGroup(c)?a[l]=this.createColumnGroup(o,c,t,n,i,r,s):a[l]=this.createColumn(o,c,n,i,s)}return a}createColumnGroup(e,t,o,n,i,r,s){const a=this.createMergedColGroupDef(t),l=i.getUniqueKey(a.groupId||null,null),c=new Om(a,l,!1,o);this.createBean(c);const u=this.findExistingGroup(t,r);u&&r.splice(u.idx,1);const d=u?.group;d&&c.setExpanded(d.isExpanded());const h=this.recursivelyCreateColumns(a.children,o+1,e,n,i,r,s);return c.setChildren(h),c}createMergedColGroupDef(e){const t={};return Object.assign(t,this.gos.get("defaultColGroupDef")),Object.assign(t,e),t}createColumn(e,t,o,n,i){const r=this.findExistingColumn(t,o);r&&o?.splice(r.idx,1);let s=r?.column;if(s){const e=this.addColumnDefaultAndTypes(t,s.getColId());s.setColDef(e,t,i),this.applyColumnState(s,e,i)}else{const o=n.getUniqueKey(t.colId,t.field),i=this.addColumnDefaultAndTypes(t,o);s=new qm(i,t,o,e),this.createBean(s)}return this.dataTypeService?.addColumnListeners(s),s}applyColumnState(e,t,o){const n=yf(t.flex);void 0!==n&&e.setFlex(n);if(e.getFlex()<=0){const n=yf(t.width);if(null!=n)e.setActualWidth(n,o);else{const t=e.getActualWidth();e.setActualWidth(t,o)}}void 0!==t.sort&&("asc"==t.sort||"desc"==t.sort?e.setSort(t.sort,o):e.setSort(void 0,o));const i=yf(t.sortIndex);void 0!==i&&e.setSortIndex(i);const r=Cf(t.hide);void 0!==r&&e.setVisible(!r,o),void 0!==t.pinned&&e.setPinned(t.pinned)}findExistingColumn(e,t){if(t)for(let o=0;o<t.length;o++){const n=t[o].getUserProvidedColDef();if(!n)continue;if(null!=e.colId){if(t[o].getId()===e.colId)return{idx:o,column:t[o]};continue}if(null!=e.field){if(n.field===e.field)return{idx:o,column:t[o]}}else if(n===e)return{idx:o,column:t[o]}}}findExistingGroup(e,t){if(null!=e.groupId)for(let o=0;o<t.length;o++){const n=t[o];if(n.getColGroupDef()&&n.getId()===e.groupId)return{idx:o,group:n}}}addColumnDefaultAndTypes(e,t){const o={};Wm(o,this.gos.get("defaultColDef"),!1,!0);const n=this.updateColDefAndGetColumnType(o,e,t);n&&this.assignColumnTypes(n,o),Wm(o,e,!1,!0);const i=this.gos.get("autoGroupColumnDef"),r=jf(this.gos);return e.rowGroup&&i&&r&&Wm(o,{sort:i.sort,initialSort:i.initialSort},!1,!0),this.dataTypeService?.validateColDef(o),o}updateColDefAndGetColumnType(e,t,o){const n=this.dataTypeService?.updateColDefAndGetColumnType(e,t,o),i=t.type??n??e.type;return e.type=i,i?Lm(i):void 0}assignColumnTypes(e,t){if(!e.length)return;const o=Object.assign({},Xm);Gm(this.gos.get("columnTypes")||{},((e,t)=>{if(e in o)nf(`the column type '${e}' is a default column type and cannot be overridden.`);else{t.type&&nf("Column type definitions 'columnTypes' with a 'type' attribute are not supported because a column type cannot refer to another column type. Only column definitions 'columnDefs' can use the 'type' attribute to refer to a column type."),o[e]=t}})),e.forEach((e=>{const n=o[e.trim()];n?Wm(t,n,!1,!0):nf("colDef.type '"+e+"' does not correspond to defined gridOptions.columnTypes")}))}isColumnGroup(e){return void 0!==e.children}};function Jm(e,t,o){if(t)for(let n=0;n<t.length;n++){const i=t[n];Pm(i)&&Jm(i,i.getChildren(),o),o(i,e)}}var ev=class extends Rm{constructor(){super(...arguments),this.beanName="columnModel",this.pivotMode=!1,this.autoHeightActiveAtLeastOnce=!1,this.ready=!1,this.changeEventsDispatching=!1,this.shouldQueueResizeOperations=!1,this.resizeOperationQueue=[]}wireBeans(e){this.context=e.context,this.ctrlsService=e.ctrlsService,this.columnFactory=e.columnFactory,this.columnSizeService=e.columnSizeService,this.visibleColsService=e.visibleColsService,this.columnViewportService=e.columnViewportService,this.pivotResultColsService=e.pivotResultColsService,this.columnAnimationService=e.columnAnimationService,this.autoColService=e.autoColService,this.controlsColService=e.controlsColService,this.valueCache=e.valueCache,this.columnDefFactory=e.columnDefFactory,this.columnApplyStateService=e.columnApplyStateService,this.columnGroupStateService=e.columnGroupStateService,this.eventDispatcher=e.columnEventDispatcher,this.columnMoveService=e.columnMoveService,this.columnAutosizeService=e.columnAutosizeService,this.funcColsService=e.funcColsService,this.quickFilterService=e.quickFilterService,this.showRowGroupColsService=e.showRowGroupColsService,this.environment=e.environment}postConstruct(){const e=this.gos.get("pivotMode");this.isPivotSettingAllowed(e)&&(this.pivotMode=e),this.addManagedPropertyListeners(["groupDisplayType","treeData","treeDataDisplayType","groupHideOpenParents"],(e=>this.refreshAll(tv(e.source)))),this.addManagedPropertyListener("rowSelection",(e=>{this.onSelectionOptionsChanged(e.currentValue,e.previousValue,tv(e.source))})),this.addManagedPropertyListener("autoGroupColumnDef",(e=>this.onAutoGroupColumnDefChanged(tv(e.source)))),this.addManagedPropertyListeners(["defaultColDef","defaultColGroupDef","columnTypes","suppressFieldDotNotation"],(e=>this.recreateColumnDefs(tv(e.source)))),this.addManagedPropertyListener("pivotMode",(e=>this.setPivotMode(this.gos.get("pivotMode"),tv(e.source)))),this.addManagedEventListeners({firstDataRendered:()=>this.onFirstDataRendered()})}createColsFromColDefs(e){const t=this.colDefs?this.columnApplyStateService.compareColumnStatesAndDispatchEvents(e):void 0;this.valueCache.expire();const o=this.colDefCols?.list,n=this.colDefCols?.tree,i=this.columnFactory.createColumnTree(this.colDefs,!0,n,e);_m(this.context,this.colDefCols?.tree,i.columnTree);const r=i.columnTree,s=i.treeDept,a=Am(r),l={};a.forEach((e=>l[e.getId()]=e)),this.colDefCols={tree:r,treeDepth:s,list:a,map:l},this.funcColsService.extractCols(e,o),this.ready=!0,this.refreshCols(!0),this.visibleColsService.refresh(e),this.columnViewportService.checkViewportColumns(),this.eventDispatcher.everythingChanged(e),t&&(this.changeEventsDispatching=!0,t(),this.changeEventsDispatching=!1),this.eventDispatcher.newColumnsLoaded(e),"gridInitializing"===e&&this.columnSizeService.applyAutosizeStrategy()}refreshCols(e){if(!this.colDefCols)return;const t=this.cols?.tree;this.saveColOrder(),this.selectCols(),this.createAutoCols(),this.addAutoCols(),this.createControlsCols(),this.addControlsCols();const o=(n=this.gos,this.showingPivotResult?!n.get("enableStrictPivotColumnOrder"):n.get("maintainColumnOrder"));var n;e&&!o||this.restoreColOrder(),this.positionLockedCols(),this.showRowGroupColsService?.refresh(),this.quickFilterService?.refreshQuickFilterCols(),this.setColSpanActive(),this.setAutoHeightActive(),this.visibleColsService.clear(),this.columnViewportService.clear();!cm(t,this.cols.tree)&&this.eventDispatcher.gridColumns()}selectCols(){const e=this.pivotResultColsService.getPivotResultCols();if(this.showingPivotResult=null!=e,e){const{map:t,list:o,tree:n,treeDepth:i}=e;this.cols={list:o.slice(),map:{...t},tree:n.slice(),treeDepth:i};e.list.some((e=>void 0!==this.cols?.map[e.getColId()]))||(this.lastPivotOrder=null)}else{const{map:e,list:t,tree:o,treeDepth:n}=this.colDefCols;this.cols={list:t.slice(),map:{...e},tree:o.slice(),treeDepth:n}}}getColsToShow(){const e=this.isPivotMode()&&!this.isShowingPivotResult(),t=this.funcColsService.getValueColumns();return this.cols.list.filter((o=>{const n=Mm(o);if(e){const e=t&&gm(t,o);return n||e}return n||o.isVisible()}))}addAutoCols(){null!=this.autoCols&&(this.cols.list=this.autoCols.list.concat(this.cols.list),this.cols.tree=this.autoCols.tree.concat(this.cols.tree),ov(this.cols))}createAutoCols(){const e=Yf(this.gos,this.pivotMode),t=this.pivotMode?this.gos.get("pivotSuppressAutoColumn"):this.isSuppressAutoCol(),o=this.funcColsService.getRowGroupColumns(),n=()=>{this.autoCols&&(_m(this.context,this.autoCols.tree),this.autoCols=null)};if(!(o.length>0||this.gos.get("treeData"))||t||e||!this.autoColService)return void n();const i=this.autoColService.createAutoCols(o)??[],r=iv(i,this.autoCols?.list||null),s=this.cols.treeDepth,a=this.autoCols?this.autoCols.treeDepth:-1;if(r&&a==s)return;n();const[l,c]=this.columnFactory.balanceTreeForAutoCols(i,this.cols.tree);this.autoCols={list:i,tree:l,treeDepth:c,map:{}};const u=e=>{if(!e)return null;const t=e.filter((e=>!Mm(e)));return[...i,...t]};this.lastOrder=u(this.lastOrder),this.lastPivotOrder=u(this.lastPivotOrder)}createControlsCols(){const e=()=>{_m(this.context,this.controlsCols?.tree),this.controlsCols=null};this.controlsColService||e();const t=this.cols.treeDepth,o=(this.controlsCols?.treeDepth??-1)==t,n=this.controlsColService?.createControlsCols()??[];if(iv(n,this.controlsCols?.list??[])&&o)return;e();const[i,r]=this.columnFactory.balanceTreeForAutoCols(n,this.cols.tree);this.controlsCols={list:n,tree:i,treeDepth:r,map:{}};const s=e=>{if(!e)return null;const t=e.filter((e=>!Im(e)));return[...n,...t]};this.lastOrder=s(this.lastOrder),this.lastPivotOrder=s(this.lastPivotOrder)}addControlsCols(){null!=this.controlsCols&&(this.cols.list=this.controlsCols.list.concat(this.cols.list),this.cols.tree=this.controlsCols.tree.concat(this.cols.tree),ov(this.cols))}refreshAll(e){this.isReady()&&(this.refreshCols(!1),this.visibleColsService.refresh(e))}setColsVisible(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=arguments.length>2?arguments[2]:void 0;this.columnApplyStateService.applyColumnState({state:e.map((e=>({colId:"string"===typeof e?e:e.getColId(),hide:!t})))},o)}setColsPinned(e,t,o){if(!this.cols)return;if(mf(e))return;if(xf(this.gos,"print"))return void nf("Changing the column pinning status is not allowed with domLayout='print'");let n;this.columnAnimationService.start(),n=!0===t||"left"===t?"left":"right"===t?"right":null;const i=[];e.forEach((e=>{if(!e)return;const t=this.getCol(e);t&&t.getPinned()!==n&&(t.setPinned(n),i.push(t))})),i.length&&(this.visibleColsService.refresh(o),this.eventDispatcher.columnPinned(i,o)),this.columnAnimationService.finish()}setColumnGroupOpened(e,t,o){let n;n=Pm(e)?e.getId():e||"",this.columnGroupStateService.setColumnGroupState([{groupId:n,open:t}],o)}getProvidedColGroup(e){let t=null;return Jm(null,this.cols?.tree,(o=>{Pm(o)&&o.getId()===e&&(t=o)})),t}isColGroupLocked(e){const t=this.gos.get("groupLockGroupColumns");if(!e.isRowGroupActive()||0===t)return!1;if(-1===t)return!0;return t>this.funcColsService.getRowGroupColumns().findIndex((t=>t.getColId()===e.getColId()))}isSuppressAutoCol(){if("custom"===this.gos.get("groupDisplayType"))return!0;return"custom"===this.gos.get("treeDataDisplayType")}setAutoHeightActive(){if(this.autoHeightActive=this.cols.list.some((e=>e.isVisible()&&e.isAutoHeight())),this.autoHeightActive){this.autoHeightActiveAtLeastOnce=!0;Pf(this.gos)||Of(this.gos)||nf("autoHeight columns only work with Client Side Row Model and Server Side Row Model.")}}restoreColOrder(){const e=this.showingPivotResult?this.lastPivotOrder:this.lastOrder;if(!e)return;const t=new Map(e.map(((e,t)=>[e,t])));if(!this.cols.list.some((e=>t.has(e))))return;const o=new Map(this.cols.list.map((e=>[e,!0]))),n=e.filter((e=>o.has(e))),i=new Map(n.map((e=>[e,!0]))),r=this.cols.list.filter((e=>!i.has(e))),s=n.slice();r.forEach((e=>{let t=e.getOriginalParent();if(!t)return void s.push(e);const o=[];for(;!o.length&&t;){t.getLeafColumns().forEach((e=>{const t=s.indexOf(e)>=0,n=o.indexOf(e)<0;t&&n&&o.push(e)})),t=t.getOriginalParent()}if(!o.length)return void s.push(e);const n=o.map((e=>s.indexOf(e))),i=Math.max(...n);hm(s,e,i+1)})),this.cols.list=s}sortColsLikeKeys(e){if(null==this.cols)return;let t=[];const o={};e.forEach((e=>{if(o[e])return;const n=this.cols.map[e];n&&(t.push(n),o[e]=!0)}));let n=0;this.cols.list.forEach((e=>{const i=e.getColId();if(null!=o[i])return;i.startsWith(Dm)?hm(t,e,n++):t.push(e)})),t=this.columnMoveService.placeLockedColumns(t),this.columnMoveService.doesMovePassMarryChildren(t)?this.cols.list=t:nf("Applying column order broke a group where columns should be married together. Applying new order has been discarded.")}sortColsLikeCols(e){if(!e||e.length<=1)return;const t=e.filter((e=>this.cols.list.indexOf(e)<0)).length>0;t||e.sort(((e,t)=>this.cols.list.indexOf(e)-this.cols.list.indexOf(t)))}resetColDefIntoCol(e,t){const o=e.getUserProvidedColDef();if(!o)return!1;const n=this.columnFactory.addColumnDefaultAndTypes(o,e.getColId());return e.setColDef(n,o,t),!0}queueResizeOperations(){this.shouldQueueResizeOperations=!0}isShouldQueueResizeOperations(){return this.shouldQueueResizeOperations}processResizeOperations(){this.shouldQueueResizeOperations=!1,this.resizeOperationQueue.forEach((e=>e())),this.resizeOperationQueue=[]}pushResizeOperation(e){this.resizeOperationQueue.push(e)}moveInCols(e,t,o){pm(this.cols?.list,e,t),this.visibleColsService.refresh(o)}positionLockedCols(){this.cols.list=this.columnMoveService.placeLockedColumns(this.cols.list)}saveColOrder(){this.showingPivotResult?this.lastPivotOrder=this.cols?.list:this.lastOrder=this.cols?.list}getColumnDefs(){if(!this.colDefCols)return;const e=this.colDefCols.list.slice();this.showingPivotResult?e.sort(((e,t)=>this.lastOrder.indexOf(e)-this.lastOrder.indexOf(t))):this.lastOrder&&e.sort(((e,t)=>this.cols.list.indexOf(e)-this.cols.list.indexOf(t)));const t=this.funcColsService.getRowGroupColumns(),o=this.funcColsService.getPivotColumns();return this.columnDefFactory.buildColumnDefs(e,t,o)}isShowingPivotResult(){return this.showingPivotResult}isChangeEventsDispatching(){return this.changeEventsDispatching}isColSpanActive(){return this.colSpanActive}isProvidedColGroupsPresent(){return this.colDefCols?.treeDepth>0}setColSpanActive(){this.colSpanActive=this.cols.list.some((e=>null!=e.getColDef().colSpan))}isAutoRowHeightActive(){return this.autoHeightActive}wasAutoRowHeightEverActive(){return this.autoHeightActiveAtLeastOnce}getHeaderRowCount(){return this.cols?this.cols.treeDepth+1:-1}isReady(){return this.ready}isPivotMode(){return this.pivotMode}setPivotMode(e,t){e!==this.pivotMode&&this.isPivotSettingAllowed(this.pivotMode)&&(this.pivotMode=e,this.ready&&(this.refreshCols(!1),this.visibleColsService.refresh(t),this.eventDispatcher.pivotModeChanged()))}isPivotSettingAllowed(e){return!e||!this.gos.get("treeData")||(nf("Pivot mode not available with treeData."),!1)}isPivotActive(){const e=this.funcColsService.getPivotColumns();return this.pivotMode&&!mf(e)}recreateColumnDefs(e){this.cols&&(this.autoCols&&this.autoColService.updateAutoCols(this.autoCols.list,e),this.createColsFromColDefs(e))}setColumnDefs(e,t){this.colDefs=e,this.createColsFromColDefs(t)}destroy(){_m(this.context,this.colDefCols?.tree),_m(this.context,this.autoCols?.tree),_m(this.context,this.controlsCols?.tree),super.destroy()}getColTree(){return this.cols.tree}getColDefColTree(){return this.colDefCols.tree}getColDefCols(){return this.colDefCols?.list?this.colDefCols.list:null}getCols(){return this.cols?.list??[]}getAllCols(){const e=this.pivotResultColsService.getPivotResultCols(),t=e?.list;return[this.colDefCols?.list??[],this.autoCols?.list??[],this.controlsCols?.list??[],t??[]].flat()}getColsForKeys(e){return e?e.map((e=>this.getCol(e))).filter((e=>null!=e)):[]}getColDefCol(e){return this.colDefCols?.list?this.getColFromCollection(e,this.colDefCols):null}getCol(e){return null==e?null:this.getColFromCollection(e,this.cols)}getColFromCollection(e,t){if(null==t)return null;const{map:o,list:n}=t;if("string"==typeof e&&o[e])return o[e];for(let i=0;i<n.length;i++)if(nv(n[i],e))return n[i];return this.getAutoCol(e)}getAutoCol(e){return this.autoCols?.list.find((t=>nv(t,e)))??null}getAutoCols(){return this.autoCols?.list??null}setColHeaderHeight(e,t){e.setAutoHeaderHeight(t)&&(e.isColumn?this.eventDispatcher.headerHeight(e):this.eventDispatcher.groupHeaderHeight(e))}getGroupRowsHeight(){const e=[],t=this.ctrlsService.getHeaderRowContainerCtrls();for(const o of t){if(!o)continue;const t=o.getGroupRowCount()||0;for(let n=0;n<t;n++){const t=o.getGroupRowCtrlAtIndex(n),i=e[n];if(t){const o=this.getColumnGroupHeaderRowHeight(t);(null==i||o>i)&&(e[n]=o)}}}return e}getColumnGroupHeaderRowHeight(e){const t=this.isPivotMode()?this.getPivotGroupHeaderHeight():this.getGroupHeaderHeight();let o=0;const n=e.getHeaderCtrls();for(const i of n){const e=i.getColumn();if(e.isAutoHeaderHeight()){const t=e.getAutoHeaderHeight();null!=t&&t>o&&(o=t)}}return Math.max(t,o)}getColumnHeaderRowHeight(){const e=this.isPivotMode()?this.getPivotHeaderHeight():this.getHeaderHeight(),t=this.visibleColsService.getAllCols().filter((e=>e.isAutoHeaderHeight())).map((e=>e.getAutoHeaderHeight()||0));return Math.max(e,...t)}getHeaderHeight(){return this.gos.get("headerHeight")??this.environment.getDefaultHeaderHeight()}getFloatingFiltersHeight(){return this.gos.get("floatingFiltersHeight")??this.getHeaderHeight()}getGroupHeaderHeight(){return this.gos.get("groupHeaderHeight")??this.getHeaderHeight()}getPivotHeaderHeight(){return this.gos.get("pivotHeaderHeight")??this.getHeaderHeight()}getPivotGroupHeaderHeight(){return this.gos.get("pivotGroupHeaderHeight")??this.getGroupHeaderHeight()}onFirstDataRendered(){const e=this.gos.get("autoSizeStrategy");if("fitCellContents"!==e?.type)return;const{colIds:t,skipHeader:o}=e;setTimeout((()=>{t?this.columnAutosizeService.autoSizeCols({colKeys:t,skipHeader:o,source:"autosizeColumns"}):this.columnAutosizeService.autoSizeAllColumns("autosizeColumns",o)}))}onAutoGroupColumnDefChanged(e){this.autoCols&&this.autoColService.updateAutoCols(this.autoCols.list,e)}onSelectionOptionsChanged(e,t,o){const n=(t&&"string"!==typeof t?Xf(t):void 0)!==(e&&"string"!==typeof e?Xf(e):void 0),i=t&&"string"!==typeof t?Qf(t):void 0,r=e&&"string"!==typeof e?Qf(e):void 0;(n||i!==r)&&this.refreshAll(o)}};function tv(e){return"gridOptionsUpdated"===e?"gridOptionsChanged":e}function ov(e){e.map={},e.list.forEach((t=>e.map[t.getId()]=t))}function nv(e,t){const o=e===t,n=e.getColDef()===t,i=e.getColId()==t;return o||n||i}function iv(e,t){return cm(e,t,((e,t)=>e.getColId()===t.getColId()))}var rv=class extends Rm{constructor(){super(...arguments),this.beanName="columnAutosizeService",this.timesDelayed=0}wireBeans(e){this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.animationFrameService=e.animationFrameService,this.autoWidthCalculator=e.autoWidthCalculator,this.eventDispatcher=e.columnEventDispatcher,this.ctrlsService=e.ctrlsService,this.renderStatusService=e.renderStatusService}autoSizeCols(e){if(this.columnModel.isShouldQueueResizeOperations())return void this.columnModel.pushResizeOperation((()=>this.autoSizeCols(e)));const{colKeys:t,skipHeader:o,skipHeaderGroups:n,stopAtGroup:i,source:r="api"}=e;if(this.animationFrameService.flushAllFrames(),this.timesDelayed<5&&this.renderStatusService&&!this.renderStatusService.areHeaderCellsRendered())return this.timesDelayed++,void setTimeout((()=>this.autoSizeCols(e)));this.timesDelayed=0;const s=[];let a=-1;const l=null!=o?o:this.gos.get("skipHeaderOnAutoSize"),c=null!=n?n:l;for(;0!==a;){a=0;const e=[];t.forEach((t=>{if(!t)return;const o=this.columnModel.getCol(t);if(!o)return;if(s.indexOf(o)>=0)return;const n=this.autoWidthCalculator.getPreferredWidthForColumn(o,l);if(n>0){const e=this.normaliseColumnWidth(o,n);o.setActualWidth(e,r),s.push(o),a++}e.push(o)})),e.length&&this.visibleColsService.refresh(r)}c||this.autoSizeColumnGroupsByColumns(t,r,i),this.eventDispatcher.columnResized(s,!0,"autosizeColumns")}autoSizeColumn(e,t,o){e&&this.autoSizeCols({colKeys:[e],skipHeader:o,skipHeaderGroups:!0,source:t})}autoSizeColumnGroupsByColumns(e,t,o){const n=new Set;let i;this.columnModel.getColsForKeys(e).forEach((e=>{let t=e.getParent();for(;t&&t!=o;)t.isPadding()||n.add(t),t=t.getParent()}));for(const r of n){for(const e of this.ctrlsService.getHeaderRowContainerCtrls())if(i=e.getHeaderCtrlForColumn(r),i)break;i&&i.resizeLeafColumnsToFit(t)}return[]}autoSizeAllColumns(e,t){if(this.columnModel.isShouldQueueResizeOperations())return void this.columnModel.pushResizeOperation((()=>this.autoSizeAllColumns(e,t)));const o=this.visibleColsService.getAllCols();this.autoSizeCols({colKeys:o,skipHeader:t,source:e})}normaliseColumnWidth(e,t){const o=e.getMinWidth();t<o&&(t=o);const n=e.getMaxWidth();return e.isGreaterThanMax(t)&&(t=n),t}},sv=class extends Rm{constructor(){super(...arguments),this.beanName="funcColsService",this.rowGroupCols=[],this.valueCols=[],this.pivotCols=[]}wireBeans(e){this.columnModel=e.columnModel,this.eventDispatcher=e.columnEventDispatcher,this.aggFuncService=e.aggFuncService,this.visibleColsService=e.visibleColsService}getModifyColumnsNoEventsCallbacks(){return{addGroupCol:e=>this.rowGroupCols.push(e),removeGroupCol:e=>dm(this.rowGroupCols,e),addPivotCol:e=>this.pivotCols.push(e),removePivotCol:e=>dm(this.pivotCols,e),addValueCol:e=>this.valueCols.push(e),removeValueCol:e=>dm(this.valueCols,e)}}getSourceColumnsForGroupColumn(e){const t=e.getColDef().showRowGroup;if(!t)return null;if(!0===t)return this.rowGroupCols.slice(0);const o=this.columnModel.getColDefCol(t);return o?[o]:null}sortRowGroupColumns(e){this.rowGroupCols.sort(e)}sortPivotColumns(e){this.pivotCols.sort(e)}getValueColumns(){return this.valueCols?this.valueCols:[]}getPivotColumns(){return this.pivotCols?this.pivotCols:[]}getRowGroupColumns(){return this.rowGroupCols?this.rowGroupCols:[]}isRowGroupEmpty(){return mf(this.rowGroupCols)}setColumnAggFunc(e,t,o){if(!e)return;const n=this.columnModel.getColDefCol(e);n&&(n.setAggFunc(t),this.eventDispatcher.columnChanged("columnValueChanged",[n],o))}setRowGroupColumns(e,t){this.setColList(e,this.rowGroupCols,"columnRowGroupChanged",!0,!0,((e,o)=>this.setRowGroupActive(e,o,t)),t)}setRowGroupActive(e,t,o){e!==t.isRowGroupActive()&&(t.setRowGroupActive(e,o),e&&!this.gos.get("suppressRowGroupHidesColumns")&&this.columnModel.setColsVisible([t],!1,o),e||this.gos.get("suppressMakeColumnVisibleAfterUnGroup")||this.columnModel.setColsVisible([t],!0,o))}addRowGroupColumns(e,t){this.updateColList(e,this.rowGroupCols,!0,!0,(e=>this.setRowGroupActive(!0,e,t)),"columnRowGroupChanged",t)}removeRowGroupColumns(e,t){this.updateColList(e,this.rowGroupCols,!1,!0,(e=>this.setRowGroupActive(!1,e,t)),"columnRowGroupChanged",t)}addPivotColumns(e,t){this.updateColList(e,this.pivotCols,!0,!1,(e=>e.setPivotActive(!0,t)),"columnPivotChanged",t)}setPivotColumns(e,t){this.setColList(e,this.pivotCols,"columnPivotChanged",!0,!1,((e,o)=>{o.setPivotActive(e,t)}),t)}removePivotColumns(e,t){this.updateColList(e,this.pivotCols,!1,!1,(e=>e.setPivotActive(!1,t)),"columnPivotChanged",t)}setValueColumns(e,t){this.setColList(e,this.valueCols,"columnValueChanged",!1,!1,((e,o)=>this.setValueActive(e,o,t)),t)}setValueActive(e,t,o){if(e!==t.isValueActive()&&(t.setValueActive(e,o),e&&!t.getAggFunc()&&this.aggFuncService)){const e=this.aggFuncService.getDefaultAggFunc(t);t.setAggFunc(e)}}addValueColumns(e,t){this.updateColList(e,this.valueCols,!0,!1,(e=>this.setValueActive(!0,e,t)),"columnValueChanged",t)}removeValueColumns(e,t){this.updateColList(e,this.valueCols,!1,!1,(e=>this.setValueActive(!1,e,t)),"columnValueChanged",t)}moveRowGroupColumn(e,t,o){if(this.isRowGroupEmpty())return;const n=this.rowGroupCols[e],i=this.rowGroupCols.slice(e,t);this.rowGroupCols.splice(e,1),this.rowGroupCols.splice(t,0,n),this.eventDispatcher.rowGroupChanged(i,o)}setColList(e,t,o,n,i,r,s){if(!this.columnModel.getCols())return;const a=new Map;t.forEach(((e,t)=>a.set(e,t))),t.length=0,gf(e)&&e.forEach((e=>{const o=this.columnModel.getColDefCol(e);o&&t.push(o)})),t.forEach(((e,t)=>{const o=a.get(e);void 0!==o?n&&o!==t||a.delete(e):a.set(e,0)}));(this.columnModel.getColDefCols()||[]).forEach((e=>{const o=t.indexOf(e)>=0;r(o,e)})),i&&this.columnModel.refreshCols(!1),this.visibleColsService.refresh(s),this.eventDispatcher.columnChanged(o,[...a.keys()],s)}updateColList(e,t,o,n,i,r,s){if(!e||mf(e))return;let a=!1;const l=new Set;e.forEach((e=>{if(!e)return;const n=this.columnModel.getColDefCol(e);if(n){if(l.add(n),o){if(t.indexOf(n)>=0)return;t.push(n)}else{const e=t.indexOf(n);if(e<0)return;for(let o=e+1;o<t.length;o++)l.add(t[o]);dm(t,n)}i(n),a=!0}})),a&&(n&&this.columnModel.refreshCols(!1),this.visibleColsService.refresh(s),this.eventDispatcher.genericColumnEvent(r,Array.from(l),s))}extractCols(e,t){this.extractRowGroupCols(e,t),this.extractPivotCols(e,t),this.extractValueCols(e,t)}extractValueCols(e,t){this.valueCols=this.extractColsCommon(t,this.valueCols,((t,o)=>t.setValueActive(o,e)),(()=>{}),(()=>{}),(e=>{const t=e.aggFunc;return null===t||""===t?null:void 0!==t?!!t:void 0}),(e=>null!=e.initialAggFunc&&""!=e.initialAggFunc)),this.valueCols.forEach((e=>{const t=e.getColDef();null!=t.aggFunc&&""!=t.aggFunc?e.setAggFunc(t.aggFunc):e.getAggFunc()||e.setAggFunc(t.initialAggFunc)}))}extractRowGroupCols(e,t){this.rowGroupCols=this.extractColsCommon(t,this.rowGroupCols,((t,o)=>t.setRowGroupActive(o,e)),(e=>e.rowGroupIndex),(e=>e.initialRowGroupIndex),(e=>e.rowGroup),(e=>e.initialRowGroup))}extractPivotCols(e,t){this.pivotCols=this.extractColsCommon(t,this.pivotCols,((t,o)=>t.setPivotActive(o,e)),(e=>e.pivotIndex),(e=>e.initialPivotIndex),(e=>e.pivot),(e=>e.initialPivot))}extractColsCommon(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],o=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0,r=arguments.length>5?arguments[5]:void 0,s=arguments.length>6?arguments[6]:void 0;const a=[],l=[];(this.columnModel.getColDefCols()||[]).forEach((o=>{const c=e.indexOf(o)<0,u=o.getColDef(),d=Cf(r(u)),h=Cf(s(u)),p=yf(n(u)),g=yf(i(u));let f;if(f=void 0!==d?d:void 0!==p?null!==p&&p>=0:c?void 0!==h?h:!!(void 0!==g)&&(null!=g&&g>=0):t.indexOf(o)>=0,f){(c?null!=p||null!=g:null!=p)?a.push(o):l.push(o)}}));const c=e=>{const t=n(e.getColDef()),o=i(e.getColDef());return null!=t?t:o};a.sort(((e,t)=>{const o=c(e),n=c(t);return o===n?0:o<n?-1:1}));const u=[].concat(a);return t.forEach((e=>{l.indexOf(e)>=0&&u.push(e)})),l.forEach((e=>{u.indexOf(e)<0&&u.push(e)})),t.forEach((e=>{u.indexOf(e)<0&&o(e,!1)})),u.forEach((e=>{t.indexOf(e)<0&&o(e,!0)})),u}generateColumnStateForRowGroupAndPivotIndexes(e,t){const o={},n=(e,t,n,i,r,s)=>{const a=this.columnModel.getColDefCols();if(!t.length||!a)return[];const l=Object.keys(e),c=new Set(l),u=new Set(l),d=new Set(t.map((e=>{const t=e.getColId();return u.delete(t),t})).concat(l)),h=[],p={};let g=0;for(let o=0;o<a.length;o++){const e=a[o].getColId();d.has(e)&&(h.push(e),p[e]=g++)}let f=1e3,m=!1,v=0;const y=t=>{const o=p[t];for(let n=v;n<o;n++){const t=h[n];u.has(t)&&(e[t][r]=f++,u.delete(t))}v=o};t.forEach((t=>{const a=t.getColId();if(c.has(a))y(a),e[a][r]=f++;else{const l=t.getColDef();if(null===l[r]||void 0===l[r]&&null==l[s]){if(!m){l[n]||void 0===l[n]&&l[i]?y(a):(u.forEach((t=>{e[t][r]=f+p[t]})),f+=h.length,m=!0)}o[a]||(o[a]={colId:a}),o[a][r]=f++}}}))};return n(e,this.rowGroupCols,"rowGroup","initialRowGroup","rowGroupIndex","initialRowGroupIndex"),n(t,this.pivotCols,"pivot","initialPivot","pivotIndex","initialPivotIndex"),Object.values(o)}},av=class extends Rm{constructor(){super(...arguments),this.beanName="columnApplyStateService"}wireBeans(e){this.columnModel=e.columnModel,this.eventDispatcher=e.columnEventDispatcher,this.sortController=e.sortController,this.columnGetStateService=e.columnGetStateService,this.funcColsService=e.funcColsService,this.visibleColsService=e.visibleColsService,this.columnAnimationService=e.columnAnimationService,this.pivotResultColsService=e.pivotResultColsService}applyColumnState(e,t){const o=this.columnModel.getColDefCols()||[];if(mf(o))return!1;if(e&&e.state&&!e.state.forEach)return nf("applyColumnState() - the state attribute should be an array, however an array was not found. Please provide an array of items (one for each col you want to change) for state."),!1;const n=this.funcColsService.getModifyColumnsNoEventsCallbacks(),i=(o,i,r)=>{const s=this.compareColumnStatesAndDispatchEvents(t),a=i.slice(),l={},c={},u=[],d=[];let h=0;const p=this.funcColsService.getRowGroupColumns().slice(),g=this.funcColsService.getPivotColumns().slice();o.forEach((o=>{const i=o.colId||"";if(i.startsWith(Dm))return u.push(o),void d.push(o);const s=r(i);s?(this.syncColumnWithStateItem(s,o,e.defaultState,l,c,!1,t,n),dm(a,s)):(d.push(o),h+=1)}));const f=o=>this.syncColumnWithStateItem(o,null,e.defaultState,l,c,!1,t,n);a.forEach(f),this.funcColsService.sortRowGroupColumns(lv.bind(this,l,p)),this.funcColsService.sortPivotColumns(lv.bind(this,c,g)),this.columnModel.refreshCols(!1);const m=(this.columnModel.getAutoCols()||[]).slice();return u.forEach((o=>{const i=this.columnModel.getAutoCol(o.colId);dm(m,i),this.syncColumnWithStateItem(i,o,e.defaultState,null,null,!0,t,n)})),m.forEach(f),this.orderLiveColsLikeState(e),this.visibleColsService.refresh(t),this.eventDispatcher.everythingChanged(t),s(),{unmatchedAndAutoStates:d,unmatchedCount:h}};this.columnAnimationService.start();let{unmatchedAndAutoStates:r,unmatchedCount:s}=i(e.state||[],o,(e=>this.columnModel.getColDefCol(e)));if(r.length>0||gf(e.defaultState)){const e=this.pivotResultColsService.getPivotResultCols(),t=e?.list;s=i(r,t||[],(e=>this.pivotResultColsService.getPivotResultCol(e))).unmatchedCount}return this.columnAnimationService.finish(),0===s}resetColumnState(e){if(mf(this.columnModel.getColDefCols()))return;const t=Am(this.columnModel.getColDefColTree()),o=[];let n=1e3,i=1e3,r=[];const s=this.columnModel.getAutoCols();s&&(r=r.concat(s)),t&&(r=r.concat(t)),r.forEach((e=>{const t=this.getColumnStateFromColDef(e);ff(t.rowGroupIndex)&&t.rowGroup&&(t.rowGroupIndex=n++),ff(t.pivotIndex)&&t.pivot&&(t.pivotIndex=i++),o.push(t)})),this.applyColumnState({state:o,applyOrder:!0},e)}getColumnStateFromColDef(e){const t=(e,t)=>null!=e?e:null!=t?t:null,o=e.getColDef(),n=t(o.sort,o.initialSort),i=t(o.sortIndex,o.initialSortIndex),r=t(o.hide,o.initialHide),s=t(o.pinned,o.initialPinned),a=t(o.width,o.initialWidth),l=t(o.flex,o.initialFlex);let c=t(o.rowGroupIndex,o.initialRowGroupIndex),u=t(o.rowGroup,o.initialRowGroup);null!=c||null!=u&&0!=u||(c=null,u=null);let d=t(o.pivotIndex,o.initialPivotIndex),h=t(o.pivot,o.initialPivot);null!=d||null!=h&&0!=h||(d=null,h=null);const p=t(o.aggFunc,o.initialAggFunc);return{colId:e.getColId(),sort:n,sortIndex:i,hide:r,pinned:s,width:a,flex:l,rowGroup:u,rowGroupIndex:c,pivot:h,pivotIndex:d,aggFunc:p}}syncColumnWithStateItem(e,t,o,n,i,r,s,a){if(!e)return;const l=(e,n)=>{const i={value1:void 0,value2:void 0};let r=!1;return t&&(void 0!==t[e]&&(i.value1=t[e],r=!0),gf(n)&&void 0!==t[n]&&(i.value2=t[n],r=!0)),!r&&o&&(void 0!==o[e]&&(i.value1=o[e]),gf(n)&&void 0!==o[n]&&(i.value2=o[n])),i},c=l("hide").value1;void 0!==c&&e.setVisible(!c,s);const u=l("pinned").value1;void 0!==u&&e.setPinned(u);const d=e.getColDef().minWidth??this.gos.environment.getDefaultColumnMinWidth(),h=l("flex").value1;if(void 0!==h&&e.setFlex(h),null==h){const t=l("width").value1;null!=t&&null!=d&&t>=d&&e.setActualWidth(t,s)}const p=l("sort").value1;void 0!==p&&("desc"===p||"asc"===p?e.setSort(p,s):e.setSort(void 0,s));const g=l("sortIndex").value1;if(void 0!==g&&e.setSortIndex(g),r||!e.isPrimary())return;const f=l("aggFunc").value1;void 0!==f&&("string"===typeof f?(e.setAggFunc(f),e.isValueActive()||(e.setValueActive(!0,s),a.addValueCol(e))):(gf(f)&&nf("stateItem.aggFunc must be a string. if using your own aggregation functions, register the functions first before using them in get/set state. This is because it is intended for the column state to be stored and retrieved as simple JSON."),e.isValueActive()&&(e.setValueActive(!1,s),a.removeValueCol(e))));const{value1:m,value2:v}=l("rowGroup","rowGroupIndex");void 0===m&&void 0===v||("number"===typeof v||m?(e.isRowGroupActive()||(e.setRowGroupActive(!0,s),a.addGroupCol(e)),n&&"number"===typeof v&&(n[e.getId()]=v)):e.isRowGroupActive()&&(e.setRowGroupActive(!1,s),a.removeGroupCol(e)));const{value1:y,value2:C}=l("pivot","pivotIndex");void 0===y&&void 0===C||("number"===typeof C||y?(e.isPivotActive()||(e.setPivotActive(!0,s),a.addPivotCol(e)),i&&"number"===typeof C&&(i[e.getId()]=C)):e.isPivotActive()&&(e.setPivotActive(!1,s),a.removePivotCol(e)))}orderLiveColsLikeState(e){if(!e.applyOrder||!e.state)return;const t=[];e.state.forEach((e=>{null!=e.colId&&t.push(e.colId)})),this.columnModel.sortColsLikeKeys(t)}compareColumnStatesAndDispatchEvents(e){const t={rowGroupColumns:this.funcColsService.getRowGroupColumns().slice(),pivotColumns:this.funcColsService.getPivotColumns().slice(),valueColumns:this.funcColsService.getValueColumns().slice()},o=this.columnGetStateService.getColumnState(),n={};return o.forEach((e=>{n[e.colId]=e})),()=>{const i=this.columnModel.getAllCols(),r=(t,o,n,i)=>{if(cm(o.map(i),n.map(i)))return;const r=new Set(o);n.forEach((e=>{r.delete(e)||r.add(e)}));const s=[...r];this.eventService.dispatchEvent({type:t,columns:s,column:1===s.length?s[0]:null,source:e})},s=e=>{const t=[];return i.forEach((o=>{const i=n[o.getColId()];i&&e(i,o)&&t.push(o)})),t},a=e=>e.getColId();r("columnRowGroupChanged",t.rowGroupColumns,this.funcColsService.getRowGroupColumns(),a),r("columnPivotChanged",t.pivotColumns,this.funcColsService.getPivotColumns(),a);const l=s(((e,t)=>{const o=null!=e.aggFunc,n=o!=t.isValueActive(),i=o&&e.aggFunc!=t.getAggFunc();return n||i}));l.length>0&&this.eventDispatcher.columnChanged("columnValueChanged",l,e);this.eventDispatcher.columnResized(s(((e,t)=>e.width!=t.getActualWidth())),!0,e);this.eventDispatcher.columnPinned(s(((e,t)=>e.pinned!=t.getPinned())),e);this.eventDispatcher.columnVisible(s(((e,t)=>e.hide==t.isVisible())),e);const c=s(((e,t)=>e.sort!=t.getSort()||e.sortIndex!=t.getSortIndex()));c.length>0&&this.sortController.dispatchSortChangedEvents(e,c),this.normaliseColumnMovedEventForColumnState(o,e)}}normaliseColumnMovedEventForColumnState(e,t){const o=this.columnGetStateService.getColumnState(),n={};o.forEach((e=>n[e.colId]=e));const i={};e.forEach((e=>{n[e.colId]&&(i[e.colId]=!0)}));const r=e.filter((e=>i[e.colId])),s=o.filter((e=>i[e.colId])),a=[];s.forEach(((e,t)=>{const o=r&&r[t];if(o&&o.colId!==e.colId){const e=this.columnModel.getCol(o.colId);e&&a.push(e)}})),a.length&&this.eventDispatcher.columnMoved({movedColumns:a,source:t,finished:!0})}},lv=(e,t,o,n)=>{const i=e[o.getId()],r=e[n.getId()],s=null!=i,a=null!=r;if(s&&a)return i-r;if(s)return-1;if(a)return 1;const l=t.indexOf(o),c=t.indexOf(n),u=l>=0;return u&&c>=0?l-c:u?-1:1},cv=class extends Rm{constructor(){super(...arguments),this.beanName="columnMoveService"}wireBeans(e){this.columnModel=e.columnModel,this.columnAnimationService=e.columnAnimationService,this.eventDispatcher=e.columnEventDispatcher}moveColumnByIndex(e,t,o){const n=this.columnModel.getCols();if(!n)return;const i=n[e];this.moveColumns([i],t,o)}moveColumns(e,t,o){let n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];const i=this.columnModel.getCols();if(!i)return;if(t>i.length-e.length)return nf("tried to insert columns in invalid location, toIndex = ",t),void nf("remember that you should not count the moving columns when calculating the new index");this.columnAnimationService.start();const r=this.columnModel.getColsForKeys(e);this.doesMovePassRules(r,t)&&(this.columnModel.moveInCols(r,t,o),this.eventDispatcher.columnMoved({movedColumns:r,source:o,toIndex:t,finished:n})),this.columnAnimationService.finish()}doesMovePassRules(e,t){const o=this.getProposedColumnOrder(e,t);return this.doesOrderPassRules(o)}doesOrderPassRules(e){return!!this.doesMovePassMarryChildren(e)&&!!this.doesMovePassLockedPositions(e)}getProposedColumnOrder(e,t){const o=this.columnModel.getCols().slice();return pm(o,e,t),o}doesMovePassLockedPositions(e){const t=this.gos.get("enableRtl");let o=t?1:-1,n=!0;return e.forEach((e=>{const i=(e=>e?"left"===e||!0===e?-1:1:0)(e.getColDef().lockPosition);t?i>o&&(n=!1):i<o&&(n=!1),o=i})),n}doesMovePassMarryChildren(e){let t=!0;return Jm(null,this.columnModel.getColTree(),(o=>{if(!Pm(o))return;const n=o,i=n.getColGroupDef();if(!(i&&i.marryChildren))return;const r=[];n.getLeafColumns().forEach((t=>{const o=e.indexOf(t);r.push(o)}));Math.max.apply(Math,r)-Math.min.apply(Math,r)>n.getLeafColumns().length-1&&(t=!1)})),t}placeLockedColumns(e){const t=[],o=[],n=[];e.forEach((e=>{const i=e.getColDef().lockPosition;"right"===i?n.push(e):"left"===i||!0===i?t.push(e):o.push(e)}));return this.gos.get("enableRtl")?[...n,...o,...t]:[...t,...o,...n]}},uv=/[&<>"']/g,dv={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function hv(e){const t=String.fromCharCode;function o(e,o){return t(e>>o&63|128)}function n(e){if(0==(4294967168&e))return t(e);let n="";return 0==(4294965248&e)?n=t(e>>6&31|192):0==(4294901760&e)?(!function(e){if(e>=55296&&e<=57343)throw Error("Lone surrogate U+"+e.toString(16).toUpperCase()+" is not a scalar value")}(e),n=t(e>>12&15|224),n+=o(e,6)):0==(4292870144&e)&&(n=t(e>>18&7|240),n+=o(e,12),n+=o(e,6)),n+=t(63&e|128),n}const i=function(e){const t=[];if(!e)return[];const o=e.length;let n,i,r=0;for(;r<o;)n=e.charCodeAt(r++),n>=55296&&n<=56319&&r<o?(i=e.charCodeAt(r++),56320==(64512&i)?t.push(((1023&n)<<10)+(1023&i)+65536):(t.push(n),r--)):t.push(n);return t}(e),r=i.length;let s,a=-1,l="";for(;++a<r;)s=i[a],l+=n(s);return l}function pv(e,t){if(null==e)return null;const o=e.toString().toString();return t?o:o.replace(uv,(e=>dv[e]))}var gv=class extends Rm{constructor(){super(...arguments),this.beanName="columnNameService"}wireBeans(e){this.expressionService=e.expressionService,this.funcColsService=e.funcColsService,this.columnModel=e.columnModel}getDisplayNameForColumn(e,t){let o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!e)return null;const n=this.getHeaderName(e.getColDef(),e,null,null,t);return o?this.wrapHeaderNameWithAggFunc(e,n):n}getDisplayNameForProvidedColumnGroup(e,t,o){const n=t?t.getColGroupDef():null;return n?this.getHeaderName(n,null,e,t,o):null}getDisplayNameForColumnGroup(e,t){return this.getDisplayNameForProvidedColumnGroup(e,e.getProvidedColumnGroup(),t)}getHeaderName(e,t,o,n,i){const r=e.headerValueGetter;if(r){const s=this.gos.addGridCommonParams({colDef:e,column:t,columnGroup:o,providedColumnGroup:n,location:i});return"function"===typeof r?r(s):"string"===typeof r?this.expressionService.evaluate(r,s):(nf("headerValueGetter must be a function or a string"),"")}return null!=e.headerName?e.headerName:e.field?function(e){return e&&null!=e?e.replace(/([a-z])([A-Z])/g,"$1 $2").replace(/([A-Z]+)([A-Z])([a-z])/g,"$1 $2$3").replace(/\./g," ").split(" ").map((e=>e.substring(0,1).toUpperCase()+(e.length>1?e.substring(1,e.length):""))).join(" "):null}(e.field):""}wrapHeaderNameWithAggFunc(e,t){if(this.gos.get("suppressAggFuncInHeader"))return t;const o=e.getColDef().pivotValueColumn;let n,i=null;if(gf(o)){const r=this.funcColsService.getValueColumns(),s=this.gos.get("removePivotHeaderRowWhenSingleValueColumn")&&1===r.length,a=void 0!==e.getColDef().pivotTotalColumnIds;if(s&&!a)return t;i=o?o.getAggFunc():null,n=!0}else{const t=e.isValueActive(),o=this.columnModel.isPivotMode()||!this.funcColsService.isRowGroupEmpty();t&&o?(i=e.getAggFunc(),n=!0):n=!1}if(n){const e="string"===typeof i?i:"func";return`${this.localeService.getLocaleTextFunc()(e,e)}(${t})`}return t}},fv=class extends Rm{constructor(){super(...arguments),this.beanName="pivotResultColsService"}wireBeans(e){this.context=e.context,this.columnModel=e.columnModel,this.columnFactory=e.columnFactory,this.visibleColsService=e.visibleColsService}destroy(){_m(this.context,this.pivotResultCols?.tree),super.destroy()}isPivotResultColsPresent(){return null!=this.pivotResultCols}lookupPivotResultCol(e,t){if(null==this.pivotResultCols)return null;const o=this.columnModel.getColDefCol(t);let n=null;return this.pivotResultCols.list.forEach((t=>{const i=t.getColDef().pivotKeys,r=t.getColDef().pivotValueColumn;cm(i,e)&&r===o&&(n=t)})),n}getPivotResultCols(){return this.pivotResultCols}getPivotResultCol(e){return this.pivotResultCols?this.columnModel.getColFromCollection(e,this.pivotResultCols):null}setPivotResultCols(e,t){if(this.columnModel.isReady()&&(null!=e||null!=this.pivotResultCols)){if(e){this.processPivotResultColDef(e);const o=this.columnFactory.createColumnTree(e,!1,this.pivotResultCols?.tree||this.previousPivotResultCols||void 0,t);_m(this.context,this.pivotResultCols?.tree,o.columnTree);const n=o.columnTree,i=o.treeDept,r=Am(n),s={};this.pivotResultCols={tree:n,treeDepth:i,list:r,map:s},this.pivotResultCols.list.forEach((e=>this.pivotResultCols.map[e.getId()]=e));const a=!!this.previousPivotResultCols;this.previousPivotResultCols=null,this.columnModel.refreshCols(!a)}else this.previousPivotResultCols=this.pivotResultCols?this.pivotResultCols.tree:null,this.pivotResultCols=null,this.columnModel.refreshCols(!1);this.visibleColsService.refresh(t)}}processPivotResultColDef(e){const t=this.gos.get("processPivotResultColDef"),o=this.gos.get("processPivotResultColGroupDef");if(!t&&!o)return;const n=e=>{e.forEach((e=>{if(gf(e.children)){const t=e;o&&o(t),n(t.children)}else{t&&t(e)}}))};e&&n(e)}},mv=class extends Rm{constructor(){super(...arguments),this.beanName="columnSizeService"}wireBeans(e){this.columnModel=e.columnModel,this.columnViewportService=e.columnViewportService,this.eventDispatcher=e.columnEventDispatcher,this.visibleColsService=e.visibleColsService,this.ctrlsService=e.ctrlsService}setColumnWidths(e,t,o,n){const i=[];e.forEach((e=>{const o=this.columnModel.getColDefCol(e.key)||this.columnModel.getCol(e.key);if(!o)return;i.push({width:e.newWidth,ratios:[1],columns:[o]});if("shift"===this.gos.get("colResizeDefault")&&(t=!t),t){const t=this.visibleColsService.getColAfter(o);if(!t)return;const n=o.getActualWidth()-e.newWidth,r=t.getActualWidth()+n;i.push({width:r,ratios:[1],columns:[t]})}})),0!==i.length&&this.resizeColumnSets({resizeSets:i,finished:o,source:n})}resizeColumnSets(e){const{resizeSets:t,finished:o,source:n}=e;if(!(!t||t.every((e=>this.checkMinAndMaxWidthsForSet(e))))){if(o){const e=t&&t.length>0?t[0].columns:null;this.eventDispatcher.columnResized(e,o,n)}return}const i=[],r=[];t.forEach((e=>{const{width:t,columns:o,ratios:s}=e,a={},l={};o.forEach((e=>r.push(e)));let c=!0,u=0;for(;c;){if(u++,u>1e3){rf("infinite loop in resizeColumnSets");break}c=!1;const e=[];let n=0,i=t;o.forEach(((t,o)=>{if(l[t.getId()])i-=a[t.getId()];else{e.push(t);const i=s[o];n+=i}}));const r=1/n;e.forEach(((o,n)=>{let u;n===e.length-1?u=i:(u=Math.round(s[n]*t*r),i-=u);const d=o.getMinWidth(),h=o.getMaxWidth();u<d?(u=d,l[o.getId()]=!0,c=!0):h>0&&u>h&&(u=h,l[o.getId()]=!0,c=!0),a[o.getId()]=u}))}o.forEach((e=>{const t=a[e.getId()];e.getActualWidth()!==t&&(e.setActualWidth(t,n),i.push(e))}))}));const s=i.length>0;let a=[];s&&(a=this.refreshFlexedColumns({resizingCols:r,skipSetLeft:!0}),this.visibleColsService.setLeftValues(n),this.visibleColsService.updateBodyWidths(),this.columnViewportService.checkViewportColumns());const l=r.concat(a);(s||o)&&this.eventDispatcher.columnResized(l,o,n,a)}checkMinAndMaxWidthsForSet(e){const{columns:t,width:o}=e;let n=0,i=0,r=!0;t.forEach((e=>{const t=e.getMinWidth();n+=t||0;const o=e.getMaxWidth();o>0?i+=o:r=!1}));return o>=n&&(!r||o<=i)}refreshFlexedColumns(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=e.source?e.source:"flex";if(null!=e.viewportWidth&&(this.flexViewportWidth=e.viewportWidth),!this.flexViewportWidth)return[];const o=this.visibleColsService.getCenterCols();let n=-1;if(e.resizingCols){const t=new Set(e.resizingCols);for(let e=o.length-1;e>=0;e--)if(t.has(o[e])){n=e;break}}let i=0,r=[],s=0,a=0;for(let h=0;h<o.length;h++){o[h].getFlex()&&h>n?(r.push(o[h]),a+=o[h].getFlex(),s+=o[h].getMinWidth()):i+=o[h].getActualWidth()}if(!r.length)return[];let l=[];i+s>this.flexViewportWidth&&(r.forEach((e=>e.setActualWidth(e.getMinWidth(),t))),l=r,r=[]);const c=[];let u;e:for(;;){u=this.flexViewportWidth-i;const e=u/a;for(let o=0;o<r.length;o++){const n=r[o],s=e*n.getFlex();let u=0;const d=n.getMinWidth(),h=n.getMaxWidth();if(s<d?u=d:s>h&&(u=h),u){n.setActualWidth(u,t),um(r,n),a-=n.getFlex(),l.push(n),i+=n.getActualWidth();continue e}c[o]=Math.floor(s)}break}let d=u;return r.forEach(((e,o)=>{const n=o<r.length-1?Math.min(c[o],d):Math.max(c[o],d);e.setActualWidth(n,t),l.push(e),d-=c[o]})),e.skipSetLeft||this.visibleColsService.setLeftValues(t),e.updateBodyWidths&&this.visibleColsService.updateBodyWidths(),e.fireResizedEvent&&this.eventDispatcher.columnResized(l,!0,t,r),r}sizeColumnsToFit(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"sizeColumnsToFit",o=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0;if(this.columnModel.isShouldQueueResizeOperations())return void this.columnModel.pushResizeOperation((()=>this.sizeColumnsToFit(e,t,o,n)));const i={};n&&n?.columnLimits?.forEach((e=>{let{key:t,...o}=e;i["string"===typeof t?t:t.getColId()]=o}));const r=this.visibleColsService.getAllCols(),s=e===Fm(r);if(e<=0||!r.length||s)return;const a=[],l=[];r.forEach((e=>{!0===e.getColDef().suppressSizeToFit?l.push(e):a.push(e)}));const c=a.slice(0);let u=!1;const d=e=>{dm(a,e),l.push(e)};for(a.forEach((e=>{e.resetActualWidth(t);const o=i?.[e.getId()],r=o?.minWidth??n?.defaultMinWidth,s=o?.maxWidth??n?.defaultMaxWidth,a=e.getActualWidth();"number"===typeof r&&a<r?e.setActualWidth(r,t,!0):"number"===typeof s&&a>s&&e.setActualWidth(s,t,!0)}));!u;){u=!0;const o=e-Fm(l);if(o<=0)a.forEach((e=>{const o=i?.[e.getId()]?.minWidth??n?.defaultMinWidth;"number"!==typeof o?e.setMinimum(t):e.setActualWidth(o,t,!0)}));else{const e=o/Fm(a);let r=o;for(let o=a.length-1;o>=0;o--){const s=a[o],l=i?.[s.getId()],c=l?.minWidth??n?.defaultMinWidth,h=l?.maxWidth??n?.defaultMaxWidth,p=s.getMinWidth(),g=s.getMaxWidth(),f="number"===typeof c&&c>p?c:p,m="number"===typeof h&&h<g?h:g;let v=Math.round(s.getActualWidth()*e);v<f?(v=f,d(s),u=!1):v>m?(v=m,d(s),u=!1):0===o&&(v=r),s.setActualWidth(v,t,!0),r-=v}}}c.forEach((e=>{e.fireColumnWidthChangedEvent(t)})),this.visibleColsService.setLeftValues(t),this.visibleColsService.updateBodyWidths(),o||this.eventDispatcher.columnResized(c,!0,t)}applyAutosizeStrategy(){const e=this.gos.get("autoSizeStrategy");if(!e)return;const{type:t}=e;setTimeout((()=>{if("fitGridWidth"===t){const{columnLimits:t,defaultMinWidth:o,defaultMaxWidth:n}=e,i=t?.map((e=>{let{colId:t,minWidth:o,maxWidth:n}=e;return{key:t,minWidth:o,maxWidth:n}}));this.ctrlsService.getGridBodyCtrl().sizeColumnsToFit({defaultMinWidth:o,defaultMaxWidth:n,columnLimits:i})}else"fitProvidedWidth"===t&&this.sizeColumnsToFit(e.width,"sizeColumnsToFit")}))}};function vv(e,t){return e+"_"+t}function yv(e){return e instanceof Cv}var Cv=class extends Rm{constructor(e,t,o,n){super(),this.isColumn=!1,this.displayedChildren=[],this.autoHeaderHeight=null,this.parent=null,this.groupId=t,this.partId=o,this.providedColumnGroup=e,this.pinned=n}reset(){this.parent=null,this.children=null,this.displayedChildren=null}getParent(){return this.parent}setParent(e){this.parent=e}getUniqueId(){return vv(this.groupId,this.partId)}isEmptyGroup(){return 0===this.displayedChildren.length}isMoving(){const e=this.getProvidedColumnGroup().getLeafColumns();return!(!e||0===e.length)&&e.every((e=>e.isMoving()))}checkLeft(){if(this.displayedChildren.forEach((e=>{yv(e)&&e.checkLeft()})),this.displayedChildren.length>0)if(this.gos.get("enableRtl")){const e=lm(this.displayedChildren).getLeft();this.setLeft(e)}else{const e=this.displayedChildren[0].getLeft();this.setLeft(e)}else this.setLeft(null)}getLeft(){return this.left}getOldLeft(){return this.oldLeft}setLeft(e){this.oldLeft=this.left,this.left!==e&&(this.left=e,this.dispatchLocalEvent({type:"leftChanged"}))}getPinned(){return this.pinned}getGroupId(){return this.groupId}getPartId(){return this.partId}getActualWidth(){let e=0;return this.displayedChildren&&this.displayedChildren.forEach((t=>{e+=t.getActualWidth()})),e}isResizable(){if(!this.displayedChildren)return!1;let e=!1;return this.displayedChildren.forEach((t=>{t.isResizable()&&(e=!0)})),e}getMinWidth(){let e=0;return this.displayedChildren.forEach((t=>{e+=t.getMinWidth()})),e}addChild(e){this.children||(this.children=[]),this.children.push(e)}getDisplayedChildren(){return this.displayedChildren}getLeafColumns(){const e=[];return this.addLeafColumns(e),e}getDisplayedLeafColumns(){const e=[];return this.addDisplayedLeafColumns(e),e}getDefinition(){return this.providedColumnGroup.getColGroupDef()}getColGroupDef(){return this.providedColumnGroup.getColGroupDef()}isPadding(){return this.providedColumnGroup.isPadding()}isExpandable(){return this.providedColumnGroup.isExpandable()}isExpanded(){return this.providedColumnGroup.isExpanded()}setExpanded(e){this.providedColumnGroup.setExpanded(e)}isAutoHeaderHeight(){return!!this.getColGroupDef()?.autoHeaderHeight}getAutoHeaderHeight(){return this.autoHeaderHeight}setAutoHeaderHeight(e){const t=e!==this.autoHeaderHeight;return this.autoHeaderHeight=e,t}addDisplayedLeafColumns(e){this.displayedChildren.forEach((t=>{Ym(t)?e.push(t):yv(t)&&t.addDisplayedLeafColumns(e)}))}addLeafColumns(e){this.children.forEach((t=>{Ym(t)?e.push(t):yv(t)&&t.addLeafColumns(e)}))}getChildren(){return this.children}getColumnGroupShow(){return this.providedColumnGroup.getColumnGroupShow()}getProvidedColumnGroup(){return this.providedColumnGroup}getPaddingLevel(){const e=this.getParent();return this.isPadding()&&e&&e.isPadding()?1+e.getPaddingLevel():0}calculateDisplayedColumns(){this.displayedChildren=[];let e=this;for(;null!=e&&e.isPadding();)e=e.getParent();if(!(!!e&&e.getProvidedColumnGroup().isExpandable()))return this.displayedChildren=this.children,void this.dispatchLocalEvent({type:"displayedChildrenChanged"});this.children.forEach((t=>{if(yv(t)&&(!t.displayedChildren||!t.displayedChildren.length))return;switch(t.getColumnGroupShow()){case"open":e.getProvidedColumnGroup().isExpanded()&&this.displayedChildren.push(t);break;case"closed":e.getProvidedColumnGroup().isExpanded()||this.displayedChildren.push(t);break;default:this.displayedChildren.push(t)}})),this.dispatchLocalEvent({type:"displayedChildrenChanged"})}},wv=class{constructor(){this.existingIds={}}getInstanceIdForKey(e){const t=this.existingIds[e];let o;return o="number"!==typeof t?0:t+1,this.existingIds[e]=o,o}},bv=class extends Rm{constructor(){super(...arguments),this.beanName="visibleColsService",this.colsAndGroupsMap={},this.columnsLeft=[],this.columnsRight=[],this.columnsCenter=[],this.columns=[],this.bodyWidth=0,this.leftWidth=0,this.rightWidth=0,this.bodyWidthDirty=!0}wireBeans(e){this.columnModel=e.columnModel,this.columnSizeService=e.columnSizeService,this.columnViewportService=e.columnViewportService,this.eventDispatcher=e.columnEventDispatcher}refresh(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1]||this.buildTrees(),this.updateOpenClosedVisibilityInColumnGroups(),this.columnsLeft=Ev(this.treeLeft),this.columnsCenter=Ev(this.treeCenter),this.columnsRight=Ev(this.treeRight),this.joinColsAriaOrder(),this.joinCols(),this.setLeftValues(e),this.autoHeightCols=this.columns.filter((e=>e.isAutoHeight())),this.columnSizeService.refreshFlexedColumns(),this.updateBodyWidths(),this.columnViewportService.checkViewportColumns(!1),this.setFirstRightAndLastLeftPinned(e),this.eventDispatcher.visibleCols(e)}updateBodyWidths(){const e=Fm(this.columnsCenter),t=Fm(this.columnsLeft),o=Fm(this.columnsRight);this.bodyWidthDirty=this.bodyWidth!==e;(this.bodyWidth!==e||this.leftWidth!==t||this.rightWidth!==o)&&(this.bodyWidth=e,this.leftWidth=t,this.rightWidth=o,this.eventService.dispatchEvent({type:"columnContainerWidthChanged"}),this.eventService.dispatchEvent({type:"displayedColumnsWidthChanged"}))}setLeftValues(e){this.setLeftValuesOfCols(e),this.setLeftValuesOfGroups()}setFirstRightAndLastLeftPinned(e){let t,o;this.gos.get("enableRtl")?(t=this.columnsLeft?this.columnsLeft[0]:null,o=this.columnsRight?lm(this.columnsRight):null):(t=this.columnsLeft?lm(this.columnsLeft):null,o=this.columnsRight?this.columnsRight[0]:null),this.columnModel.getCols().forEach((n=>{n.setLastLeftPinned(n===t,e),n.setFirstRightPinned(n===o,e)}))}buildTrees(){const e=this.columnModel.getColsToShow(),t=e.filter((e=>"left"==e.getPinned())),o=e.filter((e=>"right"==e.getPinned())),n=e.filter((e=>"left"!=e.getPinned()&&"right"!=e.getPinned())),i=new wv;this.treeLeft=this.createGroups({columns:t,idCreator:i,pinned:"left",oldDisplayedGroups:this.treeLeft}),this.treeRight=this.createGroups({columns:o,idCreator:i,pinned:"right",oldDisplayedGroups:this.treeRight}),this.treeCenter=this.createGroups({columns:n,idCreator:i,pinned:null,oldDisplayedGroups:this.treeCenter}),this.updateColsAndGroupsMap()}clear(){this.columnsLeft=[],this.columnsRight=[],this.columnsCenter=[],this.columns=[],this.ariaOrderColumns=[]}joinColsAriaOrder(){const e=this.columnModel.getCols(),t=[],o=[],n=[];for(const i of e){const e=i.getPinned();e?!0===e||"left"===e?t.push(i):n.push(i):o.push(i)}this.ariaOrderColumns=t.concat(o).concat(n)}getAriaColIndex(e){let t;return t=yv(e)?e.getLeafColumns()[0]:e,this.ariaOrderColumns.indexOf(t)+1}getAllAutoHeightCols(){return this.autoHeightCols}setLeftValuesOfGroups(){[this.treeLeft,this.treeRight,this.treeCenter].forEach((e=>{e.forEach((e=>{if(yv(e)){e.checkLeft()}}))}))}setLeftValuesOfCols(e){if(!this.columnModel.getColDefCols())return;const t=this.columnModel.getCols().slice(0),o=this.gos.get("enableRtl");[this.columnsLeft,this.columnsRight,this.columnsCenter].forEach((n=>{if(o){let t=Fm(n);n.forEach((o=>{t-=o.getActualWidth(),o.setLeft(t,e)}))}else{let t=0;n.forEach((o=>{o.setLeft(t,e),t+=o.getActualWidth()}))}!function(e,t){for(let o=0;o<t.length;o++)um(e,t[o])}(t,n)})),t.forEach((t=>{t.setLeft(null,e)}))}joinCols(){this.gos.get("enableRtl")?this.columns=this.columnsRight.concat(this.columnsCenter).concat(this.columnsLeft):this.columns=this.columnsLeft.concat(this.columnsCenter).concat(this.columnsRight)}getColsCenter(){return this.columnsCenter}getAllTrees(){return this.treeLeft&&this.treeRight&&this.treeCenter?this.treeLeft.concat(this.treeCenter).concat(this.treeRight):null}getTreeLeft(){return this.treeLeft}getTreeRight(){return this.treeRight}getTreeCenter(){return this.treeCenter}getAllCols(){return this.columns}isColDisplayed(e){return this.getAllCols().indexOf(e)>=0}getLeftColsForRow(e){return this.columnModel.isColSpanActive()?this.getColsForRow(e,this.columnsLeft):this.columnsLeft}getRightColsForRow(e){return this.columnModel.isColSpanActive()?this.getColsForRow(e,this.columnsRight):this.columnsRight}getColsForRow(e,t,o,n){const i=[];let r=null;for(let s=0;s<t.length;s++){const a=t[s],l=t.length-s,c=Math.min(a.getColSpan(e),l),u=[a];if(c>1){const e=c-1;for(let o=1;o<=e;o++)u.push(t[s+o]);s+=e}let d;if(o?(d=!1,u.forEach((e=>{o(e)&&(d=!0)}))):d=!0,d){if(0===i.length&&r){!!n&&n(a)&&i.push(r)}i.push(a)}r=a}return i}getBodyContainerWidth(){return this.bodyWidth}getContainerWidth(e){switch(e){case"left":return this.leftWidth;case"right":return this.rightWidth;default:return this.bodyWidth}}getCenterCols(){return this.columnsCenter}getLeftCols(){return this.columnsLeft}getRightCols(){return this.columnsRight}getColBefore(e){const t=this.getAllCols(),o=t.indexOf(e);return o>0?t[o-1]:null}getGroupAtDirection(e,t){const o=e.getProvidedColumnGroup().getLevel()+e.getPaddingLevel(),n=e.getDisplayedLeafColumns(),i="After"===t?lm(n):n[0],r=`getCol${t}`;for(;;){const t=this[r](i);if(!t)return null;const n=this.getColGroupAtLevel(t,o);if(n!==e)return n}}getColGroupAtLevel(e,t){let o,n,i=e.getParent();for(;;){if(o=i.getProvidedColumnGroup().getLevel(),n=i.getPaddingLevel(),o+n<=t)break;i=i.getParent()}return i}isPinningLeft(){return this.columnsLeft.length>0}isPinningRight(){return this.columnsRight.length>0}updateColsAndGroupsMap(){this.colsAndGroupsMap={};const e=e=>{this.colsAndGroupsMap[e.getUniqueId()]=e};Sv(this.treeCenter,!1,e),Sv(this.treeLeft,!1,e),Sv(this.treeRight,!1,e)}isVisible(e){return this.colsAndGroupsMap[e.getUniqueId()]===e}updateOpenClosedVisibilityInColumnGroups(){Sv(this.getAllTrees(),!1,(e=>{yv(e)&&e.calculateDisplayedColumns()}))}getFirstColumn(){const e=this.gos.get("enableRtl"),t=["getLeftCols","getCenterCols","getRightCols"];e&&t.reverse();for(let o=0;o<t.length;o++){const n=this[t[o]]();if(n.length)return e?lm(n):n[0]}return null}getColumnGroup(e,t){if(!e)return null;if(yv(e))return e;const o=this.getAllTrees(),n="number"===typeof t;let i=null;return Sv(o,!1,(o=>{if(yv(o)){const r=o;let s;s=n?e===r.getGroupId()&&t===r.getPartId():e===r.getGroupId(),s&&(i=r)}})),i}getColAfter(e){const t=this.getAllCols(),o=t.indexOf(e);return o<t.length-1?t[o+1]:null}isBodyWidthDirty(){return this.bodyWidthDirty}setBodyWidthDirty(){this.bodyWidthDirty=!0}getColsLeftWidth(){return Fm(this.columnsLeft)}getDisplayedColumnsRightWidth(){return Fm(this.columnsRight)}isColAtEdge(e,t){const o=this.getAllCols();if(!o.length)return!1;const n="first"===t;let i;if(yv(e)){const t=e.getDisplayedLeafColumns();if(!t.length)return!1;i=n?t[0]:lm(t)}else i=e;return(n?o[0]:lm(o))===i}createGroups(e){const{columns:t,idCreator:o,pinned:n,oldDisplayedGroups:i,isStandaloneStructure:r}=e,s=this.mapOldGroupsById(i),a=[];let l=t;for(;l.length;){const e=l;l=[];let t=0;const i=i=>{const c=t;t=i;const u=e[c],d=(yv(u)?u.getProvidedColumnGroup():u).getOriginalParent();if(null==d){for(let t=c;t<i;t++)a.push(e[t]);return}const h=this.createColGroup(d,o,s,n,r);for(let t=c;t<i;t++)h.addChild(e[t]);l.push(h)};for(let o=1;o<e.length;o++){const n=e[o],r=(yv(n)?n.getProvidedColumnGroup():n).getOriginalParent(),s=e[t];r!==(yv(s)?s.getProvidedColumnGroup():s).getOriginalParent()&&i(o)}t<e.length&&i(e.length)}return r||this.setupParentsIntoCols(a,null),a}createColGroup(e,t,o,n,i){const r=e.getGroupId(),s=t.getInstanceIdForKey(r);let a=o[vv(r,s)];return a&&a.getProvidedColumnGroup()!==e&&(a=null),gf(a)?a.reset():(a=new Cv(e,r,s,n),i||this.createBean(a)),a}mapOldGroupsById(e){const t={},o=e=>{e.forEach((e=>{if(yv(e)){const n=e;t[e.getUniqueId()]=n,o(n.getChildren())}}))};return e&&o(e),t}setupParentsIntoCols(e,t){e.forEach((e=>{if(e.setParent(t),yv(e)){const t=e;this.setupParentsIntoCols(t.getChildren(),t)}}))}};function Sv(e,t,o){if(e)for(let n=0;n<e.length;n++){const i=e[n];if(yv(i)){Sv(t?i.getDisplayedChildren():i.getChildren(),t,o)}o(i)}}function Ev(e){const t=[];return Sv(e,!0,(e=>{Ym(e)&&t.push(e)})),t}var Rv=["columnEverythingChanged","newColumnsLoaded","columnPivotModeChanged","pivotMaxColumnsExceeded","columnRowGroupChanged","expandOrCollapseAll","columnPivotChanged","gridColumnsChanged","columnValueChanged","columnMoved","columnVisible","columnPinned","columnGroupOpened","columnResized","displayedColumnsChanged","virtualColumnsChanged","columnHeaderMouseOver","columnHeaderMouseLeave","columnHeaderClicked","columnHeaderContextMenu","asyncTransactionsFlushed","rowGroupOpened","rowDataUpdated","pinnedRowDataChanged","rangeSelectionChanged","cellSelectionChanged","chartCreated","chartRangeSelectionChanged","chartOptionsChanged","chartDestroyed","toolPanelVisibleChanged","toolPanelSizeChanged","modelUpdated","cutStart","cutEnd","pasteStart","pasteEnd","fillStart","fillEnd","cellSelectionDeleteStart","cellSelectionDeleteEnd","rangeDeleteStart","rangeDeleteEnd","undoStarted","undoEnded","redoStarted","redoEnded","cellClicked","cellDoubleClicked","cellMouseDown","cellContextMenu","cellValueChanged","cellEditRequest","rowValueChanged","headerFocused","cellFocused","rowSelected","selectionChanged","tooltipShow","tooltipHide","cellKeyDown","cellMouseOver","cellMouseOut","filterChanged","filterModified","filterOpened","advancedFilterBuilderVisibleChanged","sortChanged","virtualRowRemoved","rowClicked","rowDoubleClicked","gridReady","gridPreDestroyed","gridSizeChanged","viewportChanged","firstDataRendered","dragStarted","dragStopped","dragCancelled","rowEditingStarted","rowEditingStopped","cellEditingStarted","cellEditingStopped","bodyScroll","bodyScrollEnd","paginationChanged","componentStateChanged","storeRefreshed","stateUpdated","columnMenuVisibleChanged","contextMenuVisibleChanged","rowDragEnter","rowDragMove","rowDragLeave","rowDragEnd","rowDragCancel"],Pv=[...Rv,"scrollbarWidthChanged","keyShortcutChangedCellStart","keyShortcutChangedCellEnd","pinnedHeightChanged","cellFocusCleared","fullWidthRowFocused","checkboxChanged","heightScaleChanged","suppressMovableColumns","suppressMenuHide","suppressFieldDotNotation","columnPanelItemDragStart","columnPanelItemDragEnd","bodyHeightChanged","columnContainerWidthChanged","displayedColumnsWidthChanged","scrollVisibilityChanged","scrollGapChanged","columnHoverChanged","flashCells","paginationPixelOffsetChanged","displayedRowsChanged","leftPinnedWidthChanged","rightPinnedWidthChanged","rowContainerHeightChanged","headerHeightChanged","columnGroupHeaderHeightChanged","columnHeaderHeightChanged","gridStylesChanged","storeUpdated","filterDestroyed","rowDataUpdateStarted","rowCountReady","advancedFilterEnabledChanged","dataTypesInferred","fieldValueChanged","fieldPickerValueSelected","richSelectListRowSelected","sideBarUpdated","alignedGridScroll","alignedGridColumn","gridOptionsChanged","chartTitleEdit","recalculateRowBounds","stickyTopOffsetChanged","overlayExclusiveChanged"],Ov={enableBrowserTooltips:!0,tooltipTrigger:!0,tooltipMouseTrack:!0,tooltipShowMode:!0,tooltipInteraction:!0,defaultColGroupDef:!0,suppressAutoSize:!0,skipHeaderOnAutoSize:!0,autoSizeStrategy:!0,components:!0,stopEditingWhenCellsLoseFocus:!0,undoRedoCellEditing:!0,undoRedoCellEditingLimit:!0,excelStyles:!0,cacheQuickFilter:!0,advancedFilterModel:!0,customChartThemes:!0,chartThemeOverrides:!0,chartToolPanelsDef:!0,loadingCellRendererSelector:!0,localeText:!0,keepDetailRows:!0,keepDetailRowsCount:!0,detailRowHeight:!0,detailRowAutoHeight:!0,tabIndex:!0,valueCache:!0,valueCacheNeverExpires:!0,enableCellExpressions:!0,suppressTouch:!0,suppressAsyncEvents:!0,suppressBrowserResizeObserver:!0,suppressPropertyNamesCheck:!0,debug:!0,dragAndDropImageComponent:!0,loadingOverlayComponent:!0,suppressLoadingOverlay:!0,noRowsOverlayComponent:!0,paginationPageSizeSelector:!0,paginateChildRows:!0,pivotPanelShow:!0,pivotSuppressAutoColumn:!0,suppressExpandablePivotGroups:!0,aggFuncs:!0,suppressAggFuncInHeader:!0,allowShowChangeAfterFilter:!0,ensureDomOrder:!0,enableRtl:!0,suppressColumnVirtualisation:!0,suppressMaxRenderedRowRestriction:!0,suppressRowVirtualisation:!0,rowDragText:!0,suppressGroupMaintainValueType:!0,groupLockGroupColumns:!0,rowGroupPanelSuppressSort:!0,suppressGroupRowsSticky:!0,rowModelType:!0,cacheOverflowSize:!0,infiniteInitialRowCount:!0,serverSideInitialRowCount:!0,suppressServerSideInfiniteScroll:!0,maxBlocksInCache:!0,maxConcurrentDatasourceRequests:!0,blockLoadDebounceMillis:!0,serverSideOnlyRefreshFilteredGroups:!0,serverSidePivotResultFieldSeparator:!0,viewportRowModelPageSize:!0,viewportRowModelBufferSize:!0,debounceVerticalScrollbar:!0,suppressAnimationFrame:!0,suppressPreventDefaultOnMouseWheel:!0,scrollbarWidth:!0,icons:!0,suppressRowTransform:!0,gridId:!0,enableGroupEdit:!0,initialState:!0,processUnpinnedColumns:!0,createChartContainer:!0,getLocaleText:!0,getRowId:!0,reactiveCustomComponents:!0,columnMenu:!0,suppressSetFilterByDefault:!0},xv=class{};xv.STRING_PROPERTIES=["overlayLoadingTemplate","overlayNoRowsTemplate","gridId","quickFilterText","rowModelType","editType","domLayout","clipboardDelimiter","rowGroupPanelShow","multiSortKey","pivotColumnGroupTotals","pivotRowTotals","pivotPanelShow","fillHandleDirection","groupDisplayType","treeDataDisplayType","colResizeDefault","tooltipTrigger","serverSidePivotResultFieldSeparator","columnMenu","tooltipShowMode","grandTotalRow"],xv.OBJECT_PROPERTIES=["components","rowStyle","context","autoGroupColumnDef","localeText","icons","datasource","dragAndDropImageComponentParams","serverSideDatasource","viewportDatasource","groupRowRendererParams","aggFuncs","fullWidthCellRendererParams","defaultColGroupDef","defaultColDef","defaultCsvExportParams","defaultExcelExportParams","columnTypes","rowClassRules","detailCellRendererParams","loadingCellRendererParams","loadingOverlayComponentParams","noRowsOverlayComponentParams","popupParent","statusBar","sideBar","theme","chartThemeOverrides","customChartThemes","chartToolPanelsDef","dataTypeDefinitions","advancedFilterModel","advancedFilterParent","advancedFilterBuilderParams","initialState","autoSizeStrategy","cellSelection","selectionColumnDef"],xv.ARRAY_PROPERTIES=["sortingOrder","alignedGrids","rowData","columnDefs","excelStyles","pinnedTopRowData","pinnedBottomRowData","chartThemes","rowClass","paginationPageSizeSelector"],xv.NUMBER_PROPERTIES=["rowHeight","detailRowHeight","rowBuffer","headerHeight","groupHeaderHeight","groupLockGroupColumns","floatingFiltersHeight","pivotHeaderHeight","pivotGroupHeaderHeight","groupDefaultExpanded","pivotDefaultExpanded","viewportRowModelPageSize","viewportRowModelBufferSize","autoSizePadding","maxBlocksInCache","maxConcurrentDatasourceRequests","tooltipShowDelay","tooltipHideDelay","cacheOverflowSize","paginationPageSize","cacheBlockSize","infiniteInitialRowCount","serverSideInitialRowCount","scrollbarWidth","asyncTransactionWaitMillis","blockLoadDebounceMillis","keepDetailRowsCount","undoRedoCellEditingLimit","cellFlashDelay","cellFadeDelay","cellFlashDuration","cellFadeDuration","tabIndex","pivotMaxGeneratedColumns"],xv.BOOLEAN_PROPERTIES=["suppressMakeColumnVisibleAfterUnGroup","suppressRowClickSelection","suppressCellFocus","suppressHeaderFocus","suppressHorizontalScroll","groupSelectsChildren","alwaysShowHorizontalScroll","alwaysShowVerticalScroll","debug","enableBrowserTooltips","enableCellExpressions","groupIncludeTotalFooter","groupSuppressBlankHeader","suppressMenuHide","suppressRowDeselection","unSortIcon","suppressMultiSort","alwaysMultiSort","singleClickEdit","suppressLoadingOverlay","suppressNoRowsOverlay","suppressAutoSize","skipHeaderOnAutoSize","suppressColumnMoveAnimation","suppressMoveWhenColumnDragging","suppressMovableColumns","suppressFieldDotNotation","enableRangeSelection","enableRangeHandle","enableFillHandle","suppressClearOnFillReduction","deltaSort","suppressTouch","suppressAsyncEvents","allowContextMenuWithControlKey","suppressContextMenu","enableCellChangeFlash","suppressDragLeaveHidesColumns","suppressRowGroupHidesColumns","suppressMiddleClickScrolls","suppressPreventDefaultOnMouseWheel","suppressCopyRowsToClipboard","copyHeadersToClipboard","copyGroupHeadersToClipboard","pivotMode","suppressAggFuncInHeader","suppressColumnVirtualisation","alwaysAggregateAtRootLevel","suppressFocusAfterRefresh","functionsReadOnly","animateRows","groupSelectsFiltered","groupRemoveSingleChildren","groupRemoveLowestSingleChildren","enableRtl","suppressClickEdit","rowDragEntireRow","rowDragManaged","suppressRowDrag","suppressMoveWhenRowDragging","rowDragMultiRow","enableGroupEdit","embedFullWidthRows","suppressPaginationPanel","groupHideOpenParents","groupAllowUnbalanced","pagination","paginationAutoPageSize","suppressScrollOnNewData","suppressScrollWhenPopupsAreOpen","purgeClosedRowNodes","cacheQuickFilter","includeHiddenColumnsInQuickFilter","ensureDomOrder","accentedSort","suppressChangeDetection","valueCache","valueCacheNeverExpires","aggregateOnlyChangedColumns","suppressAnimationFrame","suppressExcelExport","suppressCsvExport","includeHiddenColumnsInAdvancedFilter","suppressMultiRangeSelection","enterNavigatesVerticallyAfterEdit","enterNavigatesVertically","suppressPropertyNamesCheck","rowMultiSelectWithClick","suppressRowHoverHighlight","suppressRowTransform","suppressClipboardPaste","suppressLastEmptyLineOnPaste","enableCharts","suppressMaintainUnsortedOrder","enableCellTextSelection","suppressBrowserResizeObserver","suppressMaxRenderedRowRestriction","excludeChildrenWhenTreeDataFiltering","tooltipMouseTrack","tooltipInteraction","keepDetailRows","paginateChildRows","preventDefaultOnContextMenu","undoRedoCellEditing","allowDragFromColumnsToolPanel","pivotSuppressAutoColumn","suppressExpandablePivotGroups","debounceVerticalScrollbar","detailRowAutoHeight","serverSideSortAllLevels","serverSideEnableClientSideSort","serverSideOnlyRefreshFilteredGroups","serverSideSortOnServer","serverSideFilterOnServer","suppressAggFilteredOnly","showOpenedGroup","suppressClipboardApi","suppressModelUpdateAfterUpdateTransaction","stopEditingWhenCellsLoseFocus","groupMaintainOrder","columnHoverHighlight","readOnlyEdit","suppressRowVirtualisation","enableCellEditingOnBackspace","resetRowDataOnUpdate","removePivotHeaderRowWhenSingleValueColumn","suppressCopySingleCellRanges","suppressGroupRowsSticky","suppressCutToClipboard","suppressServerSideInfiniteScroll","rowGroupPanelSuppressSort","allowShowChangeAfterFilter","enableAdvancedFilter","masterDetail","treeData","suppressGroupMaintainValueType","reactiveCustomComponents","applyQuickFilterBeforePivotOrAgg","suppressServerSideFullWidthLoadingRow","suppressAdvancedFilterEval","loading","maintainColumnOrder","enableStrictPivotColumnOrder","suppressSetFilterByDefault"],xv.OTHER_PROPERTIES=["suppressStickyTotalRow","loadThemeGoogleFonts","rowSelection"],xv.FUNCTION_PROPERTIES=["doesExternalFilterPass","processPivotResultColDef","processPivotResultColGroupDef","getBusinessKeyForNode","isRowSelectable","rowDragText","groupRowRenderer","dragAndDropImageComponent","fullWidthCellRenderer","loadingCellRenderer","loadingOverlayComponent","noRowsOverlayComponent","detailCellRenderer","quickFilterParser","quickFilterMatcher","getLocaleText","isExternalFilterPresent","getRowHeight","getRowClass","getRowStyle","getContextMenuItems","getMainMenuItems","processRowPostCreate","processCellForClipboard","getGroupRowAgg","isFullWidthRow","sendToClipboard","focusGridInnerElement","navigateToNextHeader","tabToNextHeader","navigateToNextCell","tabToNextCell","processCellFromClipboard","getDocument","postProcessPopup","getChildCount","getDataPath","isRowMaster","postSortRows","processHeaderForClipboard","processUnpinnedColumns","processGroupHeaderForClipboard","paginationNumberFormatter","processDataFromClipboard","getServerSideGroupKey","isServerSideGroup","createChartContainer","getChartToolbarItems","fillOperation","isApplyServerSideTransaction","getServerSideGroupLevelParams","isServerSideGroupOpenByDefault","isGroupOpenByDefault","initialGroupOrderComparator","groupIncludeFooter","loadingCellRendererSelector","getRowId","groupAggFiltering","chartMenuItems","groupTotalRow"],xv.ALL_PROPERTIES=[...xv.ARRAY_PROPERTIES,...xv.OBJECT_PROPERTIES,...xv.STRING_PROPERTIES,...xv.NUMBER_PROPERTIES,...xv.FUNCTION_PROPERTIES,...xv.BOOLEAN_PROPERTIES,...xv.OTHER_PROPERTIES];var Tv=xv,Dv=class{static getCallbackForEvent(e){return!e||e.length<2?e:"on"+e[0].toUpperCase()+e.substring(1)}};Dv.VUE_OMITTED_PROPERTY="AG-VUE-OMITTED-PROPERTY",Dv.PUBLIC_EVENTS=Rv,Dv.EVENT_CALLBACKS=Pv.map((e=>Dv.getCallbackForEvent(e))),Dv.BOOLEAN_PROPERTIES=Tv.BOOLEAN_PROPERTIES,Dv.ALL_PROPERTIES=Tv.ALL_PROPERTIES,Dv.ALL_PROPERTIES_AND_CALLBACKS=[...Dv.ALL_PROPERTIES,...Dv.EVENT_CALLBACKS],Dv.ALL_PROPERTIES_AND_CALLBACKS_SET=new Set(Dv.ALL_PROPERTIES_AND_CALLBACKS);var Av=Dv;var Fv=class extends Rm{};function _v(e,t,o){return o&&e.addDestroyFunc((()=>t.destroyBean(o))),o??e}var Mv,Iv,Lv,Nv,kv,Gv,Vv,Hv,Bv,Wv,jv=class{constructor(e){this.cssClassStates={},this.getGui=e}addCssClass(e){const t=(e||"").split(" ");if(t.length>1)return void t.forEach((e=>this.addCssClass(e)));if(!0!==this.cssClassStates[e]&&e.length){const t=this.getGui();t&&t.classList.add(e),this.cssClassStates[e]=!0}}removeCssClass(e){const t=(e||"").split(" ");if(t.length>1)return void t.forEach((e=>this.removeCssClass(e)));if(!1!==this.cssClassStates[e]&&e.length){const t=this.getGui();t&&t.classList.remove(e),this.cssClassStates[e]=!1}}containsCssClass(e){const t=this.getGui();return!!t&&t.classList.contains(e)}addOrRemoveCssClass(e,t){if(!e)return;if(e.indexOf(" ")>=0){const o=(e||"").split(" ");if(o.length>1)return void o.forEach((e=>this.addOrRemoveCssClass(e,t)))}if(this.cssClassStates[e]!==t&&e.length){const o=this.getGui();o&&o.classList.toggle(e,t),this.cssClassStates[e]=t}}};function zv(e,t,o){null==o||"string"===typeof o&&""==o?$v(e,t):Uv(e,t,o)}function Uv(e,t,o){e.setAttribute(Kv(t),o.toString())}function $v(e,t){e.removeAttribute(Kv(t))}function Kv(e){return`aria-${e}`}function Yv(e,t){t?e.setAttribute("role",t):e.removeAttribute("role")}function qv(e,t){zv(e,"label",t)}function Xv(e,t){zv(e,"labelledby",t)}function Qv(e,t){zv(e,"live",t)}function Zv(e,t){zv(e,"hidden",t)}function Jv(e,t){Uv(e,"expanded",t)}function ey(e,t){Uv(e,"rowcount",t)}function ty(e,t){Uv(e,"rowindex",t)}function oy(e,t){Uv(e,"colcount",t)}function ny(e,t){Uv(e,"colindex",t)}function iy(e,t){Uv(e,"sort",t)}function ry(e){$v(e,"sort")}function sy(e,t){zv(e,"selected",t)}function ay(e,t){return void 0===t?e("ariaIndeterminate","indeterminate"):!0===t?e("ariaChecked","checked"):e("ariaUnchecked","unchecked")}function ly(){return void 0===Mv&&(Mv=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)),Mv}function cy(){if(void 0===Iv)if(ly()){const e=navigator.userAgent.match(/version\/(\d+)/i);e&&(Iv=null!=e[1]?parseFloat(e[1]):0)}else Iv=0;return Iv}function uy(){if(void 0===Lv){const e=window;Lv=!!e.chrome&&(!!e.chrome.webstore||!!e.chrome.runtime)||/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)}return Lv}function dy(){return void 0===Nv&&(Nv=/(firefox)/i.test(navigator.userAgent)),Nv}function hy(){return void 0===kv&&(kv=/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)),kv}function py(){return void 0===Gv&&(Gv=/iPad|iPhone|iPod/.test(navigator.platform)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1),Gv}function gy(){return!ly()||cy()>=15}function fy(e){if(!e)return null;const t=e.tabIndex,o=e.getAttribute("tabIndex");return-1!==t||null!==o&&(""!==o||dy())?t.toString():null}function my(){const e=document.body,t=document.createElement("div");t.style.width=t.style.height="100px",t.style.opacity="0",t.style.overflow="scroll",t.style.msOverflowStyle="scrollbar",t.style.position="absolute",e.appendChild(t);let o=t.offsetWidth-t.clientWidth;0===o&&0===t.clientWidth&&(o=null),t.parentNode&&t.parentNode.removeChild(t),null!=o&&(Hv=o,Vv=0===o)}function vy(){return null==Vv&&my(),Vv}var yy="[disabled], .ag-disabled:not(.ag-button), .ag-disabled *";function Cy(e){const t=Element.prototype.matches||Element.prototype.msMatchesSelector,o=t.call(e,"input, select, button, textarea"),n=t.call(e,yy),i=Ly(e);return o&&!n&&i}function wy(e,t){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{skipAriaHidden:n}=o;e.classList.toggle("ag-hidden",!t),n||Zv(e,!t)}function by(e,t){const o="disabled",n=t?e=>e.setAttribute(o,""):e=>e.removeAttribute(o);n(e),jy(e.querySelectorAll("input"),(e=>n(e)))}function Sy(e,t,o){let n=0;for(;e;){if(e.classList.contains(t))return!0;if(e=e.parentElement,"number"==typeof o){if(++n>o)break}else if(e===o)break}return!1}function Ey(e){const{height:t,width:o,borderTopWidth:n,borderRightWidth:i,borderBottomWidth:r,borderLeftWidth:s,paddingTop:a,paddingRight:l,paddingBottom:c,paddingLeft:u,marginTop:d,marginRight:h,marginBottom:p,marginLeft:g,boxSizing:f}=window.getComputedStyle(e);return{height:parseFloat(t||"0"),width:parseFloat(o||"0"),borderTopWidth:parseFloat(n||"0"),borderRightWidth:parseFloat(i||"0"),borderBottomWidth:parseFloat(r||"0"),borderLeftWidth:parseFloat(s||"0"),paddingTop:parseFloat(a||"0"),paddingRight:parseFloat(l||"0"),paddingBottom:parseFloat(c||"0"),paddingLeft:parseFloat(u||"0"),marginTop:parseFloat(d||"0"),marginRight:parseFloat(h||"0"),marginBottom:parseFloat(p||"0"),marginLeft:parseFloat(g||"0"),boxSizing:f}}function Ry(e){const t=Ey(e);return"border-box"===t.boxSizing?t.height-t.paddingTop-t.paddingBottom:t.height}function Py(e){const t=Ey(e);return"border-box"===t.boxSizing?t.width-t.paddingLeft-t.paddingRight:t.width}function Oy(e){const{height:t,marginBottom:o,marginTop:n}=Ey(e);return Math.floor(t+o+n)}function xy(e){const{width:t,marginLeft:o,marginRight:n}=Ey(e);return Math.floor(t+o+n)}function Ty(e){const t=e.getBoundingClientRect(),{borderTopWidth:o,borderLeftWidth:n,borderRightWidth:i,borderBottomWidth:r}=Ey(e);return{top:t.top+(o||0),left:t.left+(n||0),right:t.right+(i||0),bottom:t.bottom+(r||0)}}function Dy(){if("boolean"===typeof Wv)return Wv;const e=document.createElement("div");return e.style.direction="rtl",e.style.width="1px",e.style.height="1px",e.style.position="fixed",e.style.top="0px",e.style.overflow="hidden",e.dir="rtl",e.innerHTML='<div style="width: 2px">\n            <span style="display: inline-block; width: 1px"></span>\n            <span style="display: inline-block; width: 1px"></span>\n        </div>',document.body.appendChild(e),e.scrollLeft=1,Wv=0===Math.floor(e.scrollLeft),document.body.removeChild(e),Wv}function Ay(e,t){let o=e.scrollLeft;return t&&(o=Math.abs(o),uy()&&!Dy()&&(o=e.scrollWidth-e.getBoundingClientRect().width-o)),o}function Fy(e,t,o){o&&(Dy()?t*=-1:(ly()||uy())&&(t=e.scrollWidth-e.getBoundingClientRect().width-t)),e.scrollLeft=t}function _y(e){for(;e&&e.firstChild;)e.removeChild(e.firstChild)}function My(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function Iy(e){return!!e.offsetParent}function Ly(e){const t=e;if(t.checkVisibility)return t.checkVisibility({checkVisibilityCSS:!0});return!(!Iy(e)||"visible"!==window.getComputedStyle(e).visibility)}function Ny(e){const t=document.createElement("div");return t.innerHTML=(e||"").trim(),t.firstChild}function ky(e,t){"flex"===t?(e.style.removeProperty("width"),e.style.removeProperty("minWidth"),e.style.removeProperty("maxWidth"),e.style.flex="1 1 auto"):Gy(e,t)}function Gy(e,t){t=Hy(t),e.style.width=t.toString(),e.style.maxWidth=t.toString(),e.style.minWidth=t.toString()}function Vy(e,t){t=Hy(t),e.style.height=t.toString(),e.style.maxHeight=t.toString(),e.style.minHeight=t.toString()}function Hy(e){return"number"===typeof e?`${e}px`:e}function By(e){return e instanceof Node||e instanceof HTMLElement}function Wy(e,t,o){null==o||""===o?e.removeAttribute(t):e.setAttribute(t,o.toString())}function jy(e,t){if(null!=e)for(let o=0;o<e.length;o++)t(e[o])}var zy=class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.nextValue=e,this.step=t}next(){const e=this.nextValue;return this.nextValue+=this.step,e}peek(){return this.nextValue}skip(e){this.nextValue+=e}},Uy=class e extends Rm{constructor(e,t,o,n){super(),this.parentComp=e,this.tooltipShowDelayOverride=t,this.tooltipHideDelayOverride=o,this.shouldDisplayTooltip=n,this.interactionEnabled=!1,this.isInteractingWithTooltip=!1,this.state=0,this.tooltipInstanceCount=0,this.tooltipMouseTrack=!1}wireBeans(e){this.popupService=e.popupService,this.userComponentFactory=e.userComponentFactory}postConstruct(){this.gos.get("tooltipInteraction")&&(this.interactionEnabled=!0),this.tooltipTrigger=this.getTooltipTrigger(),this.tooltipMouseTrack=this.gos.get("tooltipMouseTrack");const e=this.parentComp.getGui();0===this.tooltipTrigger&&this.addManagedListeners(e,{mouseenter:this.onMouseEnter.bind(this),mouseleave:this.onMouseLeave.bind(this)}),1===this.tooltipTrigger&&this.addManagedListeners(e,{focusin:this.onFocusIn.bind(this),focusout:this.onFocusOut.bind(this)}),this.addManagedListeners(e,{mousemove:this.onMouseMove.bind(this)}),this.interactionEnabled||this.addManagedListeners(e,{mousedown:this.onMouseDown.bind(this),keydown:this.onKeyDown.bind(this)})}getGridOptionsTooltipDelay(e){const t=this.gos.get(e);return t<0&&nf(`${e} should not be lower than 0`),Math.max(200,t)}getTooltipDelay(e){return"show"===e?this.tooltipShowDelayOverride??this.getGridOptionsTooltipDelay("tooltipShowDelay"):this.tooltipHideDelayOverride??this.getGridOptionsTooltipDelay("tooltipHideDelay")}destroy(){this.setToDoNothing(),super.destroy()}getTooltipTrigger(){const e=this.gos.get("tooltipTrigger");return e&&"hover"!==e?1:0}onMouseEnter(t){this.interactionEnabled&&this.interactiveTooltipTimeoutId&&(this.unlockService(),this.startHideTimeout()),py()||(e.isLocked?this.showTooltipTimeoutId=window.setTimeout((()=>{this.prepareToShowTooltip(t)}),100):this.prepareToShowTooltip(t))}onMouseMove(e){this.lastMouseEvent&&(this.lastMouseEvent=e),this.tooltipMouseTrack&&2===this.state&&this.tooltipComp&&this.positionTooltip()}onMouseDown(){this.setToDoNothing()}onMouseLeave(){this.interactionEnabled?this.lockService():this.setToDoNothing()}onFocusIn(){this.prepareToShowTooltip()}onFocusOut(e){const t=e.relatedTarget,o=this.parentComp.getGui(),n=this.tooltipComp?.getGui();this.isInteractingWithTooltip||o.contains(t)||this.interactionEnabled&&n?.contains(t)||this.setToDoNothing()}onKeyDown(){this.isInteractingWithTooltip&&(this.isInteractingWithTooltip=!1),this.setToDoNothing()}prepareToShowTooltip(t){if(0!=this.state||e.isLocked)return;let o=0;t&&(o=this.isLastTooltipHiddenRecently()?200:this.getTooltipDelay("show")),this.lastMouseEvent=t||null,this.showTooltipTimeoutId=window.setTimeout(this.showTooltip.bind(this),o),this.state=1}isLastTooltipHiddenRecently(){return(new Date).getTime()-e.lastTooltipHideTime<1e3}setToDoNothing(e){e||2!==this.state||this.hideTooltip(),this.onBodyScrollEventCallback&&(this.onBodyScrollEventCallback(),this.onBodyScrollEventCallback=void 0),this.onColumnMovedEventCallback&&(this.onColumnMovedEventCallback(),this.onColumnMovedEventCallback=void 0),this.onDocumentKeyDownCallback&&(this.onDocumentKeyDownCallback(),this.onDocumentKeyDownCallback=void 0),this.clearTimeouts(),this.state=0,this.lastMouseEvent=null}showTooltip(){const e={...this.parentComp.getTooltipParams()};if(!gf(e.value)||this.shouldDisplayTooltip&&!this.shouldDisplayTooltip())return void this.setToDoNothing();this.state=2,this.tooltipInstanceCount++;const t=this.newTooltipComponentCallback.bind(this,this.tooltipInstanceCount);this.userComponentFactory.getTooltipCompDetails(e).newAgStackInstance().then(t)}hideTooltip(t){!t&&this.isInteractingWithTooltip||(this.tooltipComp&&(this.destroyTooltipComp(),e.lastTooltipHideTime=(new Date).getTime()),this.eventService.dispatchEvent({type:"tooltipHide",parentGui:this.parentComp.getGui()}),t&&(this.isInteractingWithTooltip=!1),this.setToDoNothing(!0))}newTooltipComponentCallback(e,t){if(2!==this.state||this.tooltipInstanceCount!==e)return void this.destroyBean(t);const o=t.getGui();this.tooltipComp=t,o.classList.contains("ag-tooltip")||o.classList.add("ag-tooltip-custom"),0===this.tooltipTrigger&&o.classList.add("ag-tooltip-animate"),this.interactionEnabled&&o.classList.add("ag-tooltip-interactive");const n=this.localeService.getLocaleTextFunc(),i=this.popupService.addPopup({eChild:o,ariaLabel:n("ariaLabelTooltip","Tooltip")});if(i&&(this.tooltipPopupDestroyFunc=i.hideFunc),this.positionTooltip(),1===this.tooltipTrigger){const e=()=>this.setToDoNothing();[this.onBodyScrollEventCallback,this.onColumnMovedEventCallback]=this.addManagedEventListeners({bodyScroll:e,columnMoved:e})}this.interactionEnabled&&([this.tooltipMouseEnterListener,this.tooltipMouseLeaveListener]=this.addManagedElementListeners(o,{mouseenter:this.onTooltipMouseEnter.bind(this),mouseleave:this.onTooltipMouseLeave.bind(this)}),[this.onDocumentKeyDownCallback]=this.addManagedElementListeners(Nf(this.gos),{keydown:e=>{o.contains(e?.target)||this.onKeyDown()}}),1===this.tooltipTrigger&&([this.tooltipFocusInListener,this.tooltipFocusOutListener]=this.addManagedElementListeners(o,{focusin:this.onTooltipFocusIn.bind(this),focusout:this.onTooltipFocusOut.bind(this)}))),this.eventService.dispatchEvent({type:"tooltipShow",tooltipGui:o,parentGui:this.parentComp.getGui()}),this.startHideTimeout()}onTooltipMouseEnter(){this.isInteractingWithTooltip=!0,this.unlockService()}onTooltipMouseLeave(){this.isTooltipFocused()||(this.isInteractingWithTooltip=!1,this.lockService())}onTooltipFocusIn(){this.isInteractingWithTooltip=!0}isTooltipFocused(){const e=this.tooltipComp?.getGui(),t=Vf(this.gos);return!!e&&e.contains(t)}onTooltipFocusOut(e){const t=this.parentComp.getGui();this.isTooltipFocused()||(this.isInteractingWithTooltip=!1,t.contains(e.relatedTarget)?this.startHideTimeout():this.hideTooltip())}positionTooltip(){const e={type:"tooltip",ePopup:this.tooltipComp.getGui(),nudgeY:18,skipObserver:this.tooltipMouseTrack};this.lastMouseEvent?this.popupService.positionPopupUnderMouseEvent({...e,mouseEvent:this.lastMouseEvent}):this.popupService.positionPopupByComponent({...e,eventSource:this.parentComp.getGui(),position:"under",keepWithinBounds:!0,nudgeY:5})}destroyTooltipComp(){this.tooltipComp.getGui().classList.add("ag-tooltip-hiding");const e=this.tooltipPopupDestroyFunc,t=this.tooltipComp,o=0===this.tooltipTrigger?1e3:0;window.setTimeout((()=>{e(),this.destroyBean(t)}),o),this.clearTooltipListeners(),this.tooltipPopupDestroyFunc=void 0,this.tooltipComp=void 0}clearTooltipListeners(){[this.tooltipMouseEnterListener,this.tooltipMouseLeaveListener,this.tooltipFocusInListener,this.tooltipFocusOutListener].forEach((e=>{e&&e()})),this.tooltipMouseEnterListener=this.tooltipMouseLeaveListener=this.tooltipFocusInListener=this.tooltipFocusOutListener=null}lockService(){e.isLocked=!0,this.interactiveTooltipTimeoutId=window.setTimeout((()=>{this.unlockService(),this.setToDoNothing()}),100)}unlockService(){e.isLocked=!1,this.clearInteractiveTimeout()}startHideTimeout(){this.clearHideTimeout(),this.hideTooltipTimeoutId=window.setTimeout(this.hideTooltip.bind(this),this.getTooltipDelay("hide"))}clearShowTimeout(){this.showTooltipTimeoutId&&(window.clearTimeout(this.showTooltipTimeoutId),this.showTooltipTimeoutId=void 0)}clearHideTimeout(){this.hideTooltipTimeoutId&&(window.clearTimeout(this.hideTooltipTimeoutId),this.hideTooltipTimeoutId=void 0)}clearInteractiveTimeout(){this.interactiveTooltipTimeoutId&&(window.clearTimeout(this.interactiveTooltipTimeoutId),this.interactiveTooltipTimeoutId=void 0)}clearTimeouts(){this.clearShowTimeout(),this.clearHideTimeout(),this.clearInteractiveTimeout()}};Uy.isLocked=!1;var $y=Uy,Ky=class extends Rm{constructor(e,t){super(),this.ctrl=e,t&&(this.beans=t)}wireBeans(e){this.beans=e}postConstruct(){this.refreshToolTip()}setBrowserTooltip(e){const t="title",o=this.ctrl.getGui();o&&(null!=e&&""!=e?o.setAttribute(t,e):o.removeAttribute(t))}updateTooltipText(){this.tooltip=this.ctrl.getTooltipValue()}createTooltipFeatureIfNeeded(){if(null!=this.tooltipManager)return;const e={getTooltipParams:()=>this.getTooltipParams(),getGui:()=>this.ctrl.getGui()};this.tooltipManager=this.createBean(new $y(e,this.ctrl.getTooltipShowDelayOverride?.(),this.ctrl.getTooltipHideDelayOverride?.(),this.ctrl.shouldDisplayTooltip),this.beans.context)}refreshToolTip(){this.browserTooltips=this.beans.gos.get("enableBrowserTooltips"),this.updateTooltipText(),this.browserTooltips?(this.setBrowserTooltip(this.tooltip),this.tooltipManager&&(this.tooltipManager=this.destroyBean(this.tooltipManager,this.beans.context))):(this.setBrowserTooltip(null),this.createTooltipFeatureIfNeeded())}getTooltipParams(){const e=this.ctrl,t=e.getColumn?.(),o=e.getColDef?.(),n=e.getRowNode?.();return{location:e.getLocation(),colDef:o,column:t,rowIndex:e.getRowIndex?.(),node:n,data:n?.data,value:this.getTooltipText(),valueFormatted:e.getValueFormatted?.(),hideTooltipCallback:()=>this.tooltipManager?.hideTooltip(!0)}}getTooltipText(){return this.tooltip}destroy(){this.tooltipManager&&(this.tooltipManager=this.destroyBean(this.tooltipManager,this.beans.context)),super.destroy()}},Yy=new zy,qy=null,Xy=class e extends Rm{constructor(e,t){super(),this.suppressDataRefValidation=!1,this.displayed=!0,this.visible=!0,this.compId=Yy.next(),this.cssClassManager=new jv((()=>this.eGui)),this.componentSelectors=new Map((t??[]).map((e=>[e.selector,e]))),e&&this.setTemplate(e)}preWireBeans(e){super.preWireBeans(e)}preConstruct(){this.usingBrowserTooltips=this.gos.get("enableBrowserTooltips"),this.wireTemplate(this.getGui())}wireTemplate(e,t){e&&this.gos&&(this.applyElementsToComponent(e),this.createChildComponentsFromTags(e,t))}getCompId(){return this.compId}getTooltipParams(){return{value:this.tooltipText,location:"UNKNOWN"}}setTooltip(e){const{newTooltipText:t,showDelayOverride:o,hideDelayOverride:n,location:i,shouldDisplayTooltip:r}=e||{};this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature)),this.tooltipText!==t&&(this.tooltipText=t);const s=()=>this.tooltipText;null!=t&&(this.tooltipFeature=this.createBean(new Ky({getTooltipValue:s,getGui:()=>this.getGui(),getLocation:()=>i??"UNKNOWN",getColDef:e?.getColDef,getColumn:e?.getColumn,getTooltipShowDelayOverride:null!=o?()=>o:void 0,getTooltipHideDelayOverride:null!=n?()=>n:void 0,shouldDisplayTooltip:r})))}getDataRefAttribute(e){return e.getAttribute?e.getAttribute("data-ref"):null}applyElementsToComponent(e,t,o){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(void 0===t&&(t=this.getDataRefAttribute(e)),t){const i=this[t];if(i===qy)this[t]=n??e;else{const e=o&&o[t];this.suppressDataRefValidation||e||nf(`Issue with data-ref: ${t} on ${this.constructor.name} with ${i}`)}}}createChildComponentsFromTags(e,t){const o=function(e){if(null==e)return[];const t=[];return jy(e,(e=>t.push(e))),t}(e.childNodes);o.forEach((o=>{if(!(o instanceof HTMLElement))return;const n=this.createComponentFromElement(o,(e=>{e.getGui()&&this.copyAttributesFromNode(o,e.getGui())}),t);if(n){if(n.addItems&&o.children.length){this.createChildComponentsFromTags(o,t);const e=Array.prototype.slice.call(o.children);n.addItems(e)}this.swapComponentForNode(n,e,o)}else o.childNodes&&this.createChildComponentsFromTags(o,t)}))}createComponentFromElement(t,o,n){const i=t.nodeName,r=this.getDataRefAttribute(t),s=0===i.indexOf("AG-"),a=s?this.componentSelectors.get(i):null;let l=null;if(a){e.elementGettingCreated=t;const i=n&&r?n[r]:void 0;l=new a.component(i),l.setParentComponent(this),this.createBean(l,null,o)}else s&&nf(`Missing selector: ${i}`);return this.applyElementsToComponent(t,r,n,l),l}copyAttributesFromNode(e,t){!function(e,t){if(e)for(let o=0;o<e.length;o++){const n=e[o];t(n.name,n.value)}}(e.attributes,((e,o)=>t.setAttribute(e,o)))}swapComponentForNode(e,t,o){const n=e.getGui();t.replaceChild(n,o),t.insertBefore(document.createComment(o.nodeName),n),this.addDestroyFunc(this.destroyBean.bind(this,e))}activateTabIndex(e){const t=this.gos.get("tabIndex");e||(e=[]),e.length||e.push(this.getGui()),e.forEach((e=>e.setAttribute("tabindex",t.toString())))}setTemplate(e,t,o){const n=Ny(e);this.setTemplateFromElement(n,t,o)}setTemplateFromElement(e,t,o){let n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(this.eGui=e,this.suppressDataRefValidation=n,t)for(let i=0;i<t.length;i++){const e=t[i];this.componentSelectors.set(e.selector,e)}this.wireTemplate(e,o)}getGui(){return this.eGui}getFocusableElement(){return this.eGui}getAriaElement(){return this.getFocusableElement()}setParentComponent(e){this.parentComponent=e}getParentComponent(){return this.parentComponent}setGui(e){this.eGui=e}queryForHtmlElement(e){return this.eGui.querySelector(e)}getContainerAndElement(e,t){let o=t;return null==e?null:(o||(o=this.eGui),By(e)?{element:e,parent:o}:{element:e.getGui(),parent:o})}prependChild(e,t){const{element:o,parent:n}=this.getContainerAndElement(e,t)||{};o&&n&&n.insertAdjacentElement("afterbegin",o)}appendChild(e,t){const{element:o,parent:n}=this.getContainerAndElement(e,t)||{};o&&n&&n.appendChild(o)}isDisplayed(){return this.displayed}setVisible(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e!==this.visible){this.visible=e;const{skipAriaHidden:o}=t;!function(e,t){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{skipAriaHidden:n}=o;e.classList.toggle("ag-invisible",!t),n||Zv(e,!t)}(this.eGui,e,{skipAriaHidden:o})}}setDisplayed(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e!==this.displayed){this.displayed=e;const{skipAriaHidden:o}=t;wy(this.eGui,e,{skipAriaHidden:o});const n={type:"displayChanged",visible:this.displayed};this.dispatchLocalEvent(n)}}destroy(){this.parentComponent&&(this.parentComponent=void 0),this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature)),super.destroy()}addGuiEventListener(e,t,o){this.eGui.addEventListener(e,t,o),this.addDestroyFunc((()=>this.eGui.removeEventListener(e,t)))}addCssClass(e){this.cssClassManager.addCssClass(e)}removeCssClass(e){this.cssClassManager.removeCssClass(e)}containsCssClass(e){return this.cssClassManager.containsCssClass(e)}addOrRemoveCssClass(e,t){this.cssClassManager.addOrRemoveCssClass(e,t)}},Qy={columnGroupOpened:"expanded",columnGroupClosed:"contracted",columnSelectClosed:"tree-closed",columnSelectOpen:"tree-open",columnSelectIndeterminate:"tree-indeterminate",columnMovePin:"pin",columnMoveHide:"eye-slash",columnMoveMove:"arrows",columnMoveLeft:"left",columnMoveRight:"right",columnMoveGroup:"group",columnMoveValue:"aggregation",columnMovePivot:"pivot",dropNotAllowed:"not-allowed",groupContracted:"tree-closed",groupExpanded:"tree-open",setFilterGroupClosed:"tree-closed",setFilterGroupOpen:"tree-open",setFilterGroupIndeterminate:"tree-indeterminate",chart:"chart",close:"cross",cancel:"cancel",check:"tick",first:"first",previous:"previous",next:"next",last:"last",linked:"linked",unlinked:"unlinked",colorPicker:"color-picker",groupLoading:"loading",menu:"menu",menuAlt:"menu-alt",filter:"filter",columns:"columns",maximize:"maximize",minimize:"minimize",menuPin:"pin",menuValue:"aggregation",menuAddRowGroup:"group",menuRemoveRowGroup:"group",clipboardCopy:"copy",clipboardCut:"cut",clipboardPaste:"paste",pivotPanel:"pivot",rowGroupPanel:"group",valuePanel:"aggregation",columnDrag:"grip",rowDrag:"grip",save:"save",csvExport:"csv",excelExport:"excel",smallDown:"small-down",smallLeft:"small-left",smallRight:"small-right",smallUp:"small-up",sortAscending:"asc",sortDescending:"desc",sortUnSort:"none",advancedFilterBuilder:"group",advancedFilterBuilderDrag:"grip",advancedFilterBuilderInvalid:"not-allowed",advancedFilterBuilderMoveUp:"up",advancedFilterBuilderMoveDown:"down",advancedFilterBuilderAdd:"plus",advancedFilterBuilderRemove:"minus",chartsMenuEdit:"chart",chartsMenuAdvancedSettings:"settings",chartsMenuAdd:"plus",checkboxChecked:"checkbox-checked",checkboxIndeterminate:"checkbox-indeterminate",checkboxUnchecked:"checkbox-unchecked",radioButtonOn:"radio-button-on",radioButtonOff:"radio-button-off"},Zy=(()=>{const e=new Set(Object.values(Qy));return e.add("eye"),e})();function Jy(e,t,o,n){let i=null;const r=o&&o.getColDef().icons;if(r&&(i=r[e]),t&&!i){const o=t.get("icons");o&&(i=o[e])}if(!i){const t=document.createElement("span");let o=Qy[e]??(Zy.has(e)?e:void 0);return o||(n?o=e:(nf(`Did not find icon ${e}`),o="")),t.setAttribute("class",`ag-icon ag-icon-${o}`),t.setAttribute("unselectable","on"),Yv(t,"presentation"),t}{let e;if("function"===typeof i)e=i();else{if("string"!==typeof i)throw new Error("icon from grid options needs to be a string or a function");e=i}if("string"===typeof e)return Ny(e);if(By(e))return e;nf("iconRenderer should return back a string or a dom object")}}var eC=class extends Xy{constructor(){super(...arguments),this.dragSource=null,this.eIcon=qy,this.eLabel=qy}postConstruct(){const e=e=>function(e,t,o){const n=Jy(e,t,o);if(n){const{className:e}=n;if("string"===typeof e&&e.indexOf("ag-icon")>-1||"object"===typeof e&&e["ag-icon"])return n}const i=document.createElement("span");return i.appendChild(n),i}(e,this.gos,null);this.dropIconMap={pinned:e("columnMovePin"),hide:e("columnMoveHide"),move:e("columnMoveMove"),left:e("columnMoveLeft"),right:e("columnMoveRight"),group:e("columnMoveGroup"),aggregate:e("columnMoveValue"),pivot:e("columnMovePivot"),notAllowed:e("dropNotAllowed")}}init(e){this.dragSource=e.dragSource,this.setTemplate('<div class="ag-dnd-ghost ag-unselectable">\n                <span data-ref="eIcon" class="ag-dnd-ghost-icon ag-shake-left-to-right"></span>\n                <div data-ref="eLabel" class="ag-dnd-ghost-label"></div>\n            </div>')}destroy(){this.dragSource=null,super.destroy()}setIcon(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];_y(this.eIcon);let o=null;e||(e=this.dragSource?.getDefaultIconName?this.dragSource?.getDefaultIconName():"notAllowed"),o=this.dropIconMap[e],this.eIcon.classList.toggle("ag-shake-left-to-right",t),o===this.dropIconMap.hide&&this.gos.get("suppressDragLeaveHidesColumns")||o&&this.eIcon.appendChild(o)}setLabel(e){this.eLabel.textContent=pv(e)}};function tC(e,t,o){if(0===o)return!1;const n=Math.abs(e.clientX-t.clientX),i=Math.abs(e.clientY-t.clientY);return Math.max(n,i)<=o}var oC=class{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.DOUBLE_TAP_MILLIS=500,this.destroyFuncs=[],this.touching=!1,this.localEventService=new Zg,this.eElement=e,this.preventMouseClick=t;const o=this.onTouchStart.bind(this),n=this.onTouchMove.bind(this),i=this.onTouchEnd.bind(this);this.eElement.addEventListener("touchstart",o,{passive:!0}),this.eElement.addEventListener("touchmove",n,{passive:!0}),this.eElement.addEventListener("touchend",i,{passive:!1}),this.destroyFuncs.push((()=>{this.eElement.removeEventListener("touchstart",o,{passive:!0}),this.eElement.removeEventListener("touchmove",n,{passive:!0}),this.eElement.removeEventListener("touchend",i,{passive:!1})}))}getActiveTouch(e){for(let t=0;t<e.length;t++){if(e[t].identifier===this.touchStart.identifier)return e[t]}return null}addEventListener(e,t){this.localEventService.addEventListener(e,t)}removeEventListener(e,t){this.localEventService.removeEventListener(e,t)}onTouchStart(e){if(this.touching)return;this.touchStart=e.touches[0],this.touching=!0,this.moved=!1;const t=this.touchStart;window.setTimeout((()=>{const o=this.touchStart===t;if(this.touching&&o&&!this.moved){this.moved=!0;const t={type:"longTap",touchStart:this.touchStart,touchEvent:e};this.localEventService.dispatchEvent(t)}}),500)}onTouchMove(e){if(!this.touching)return;const t=this.getActiveTouch(e.touches);if(!t)return;!tC(t,this.touchStart,4)&&(this.moved=!0)}onTouchEnd(e){if(this.touching){if(!this.moved){const e={type:"tap",touchStart:this.touchStart};this.localEventService.dispatchEvent(e),this.checkForDoubleTap()}this.preventMouseClick&&e.cancelable&&e.preventDefault(),this.touching=!1}}checkForDoubleTap(){const e=(new Date).getTime();if(this.lastTapTime&&this.lastTapTime>0){if(e-this.lastTapTime>this.DOUBLE_TAP_MILLIS){const e={type:"doubleTap",touchStart:this.touchStart};this.localEventService.dispatchEvent(e),this.lastTapTime=null}else this.lastTapTime=e}else this.lastTapTime=e}destroy(){this.destroyFuncs.forEach((e=>e()))}};function nC(e,t){return`<span data-ref="eSort${e}" class="ag-sort-indicator-icon ag-sort-${t} ag-hidden" aria-hidden="true"></span>`}var iC=`<span class="ag-sort-indicator-container">\n        ${nC("Order","order")}\n        ${nC("Asc","ascending-icon")}\n        ${nC("Desc","descending-icon")}\n        ${nC("Mixed","mixed-icon")}\n        ${nC("None","none-icon")}\n    </span>`,rC=class extends Xy{constructor(e){super(),this.eSortOrder=qy,this.eSortAsc=qy,this.eSortDesc=qy,this.eSortMixed=qy,this.eSortNone=qy,e||this.setTemplate(iC)}wireBeans(e){this.sortController=e.sortController}attachCustomElements(e,t,o,n,i){this.eSortOrder=e,this.eSortAsc=t,this.eSortDesc=o,this.eSortMixed=n,this.eSortNone=i}setupSort(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.column=e,this.suppressOrder=t,this.setupMultiSortIndicator(),!this.column.isSortable()&&!this.column.getColDef().showRowGroup)return;this.addInIcon("sortAscending",this.eSortAsc,e),this.addInIcon("sortDescending",this.eSortDesc,e),this.addInIcon("sortUnSort",this.eSortNone,e);const o=this.updateIcons.bind(this),n=this.onSortChanged.bind(this);this.addManagedPropertyListener("unSortIcon",o),this.addManagedEventListeners({newColumnsLoaded:o,sortChanged:n,columnRowGroupChanged:n}),this.onSortChanged()}addInIcon(e,t,o){if(null==t)return;const n=Jy(e,this.gos,o);n&&t.appendChild(n)}onSortChanged(){this.updateIcons(),this.suppressOrder||this.updateSortOrder()}updateIcons(){const e=this.sortController.getDisplaySortForColumn(this.column);if(this.eSortAsc){const t="asc"===e;wy(this.eSortAsc,t,{skipAriaHidden:!0})}if(this.eSortDesc){const t="desc"===e;wy(this.eSortDesc,t,{skipAriaHidden:!0})}if(this.eSortNone){const t=!this.column.getColDef().unSortIcon&&!this.gos.get("unSortIcon"),o=null===e||void 0===e;wy(this.eSortNone,!t&&o,{skipAriaHidden:!0})}}setupMultiSortIndicator(){this.addInIcon("sortUnSort",this.eSortMixed,this.column);const e=this.column.getColDef().showRowGroup;jf(this.gos)&&e&&(this.addManagedEventListeners({sortChanged:this.updateMultiSortIndicator.bind(this),columnRowGroupChanged:this.updateMultiSortIndicator.bind(this)}),this.updateMultiSortIndicator())}updateMultiSortIndicator(){if(this.eSortMixed){const e="mixed"===this.sortController.getDisplaySortForColumn(this.column);wy(this.eSortMixed,e,{skipAriaHidden:!0})}}updateSortOrder(){if(!this.eSortOrder)return;const e=this.sortController.getColumnsWithSortingOrdered(),t=this.sortController.getDisplaySortIndexForColumn(this.column)??-1,o=e.some((e=>this.sortController.getDisplaySortIndexForColumn(e)??!1)),n=t>=0&&o;wy(this.eSortOrder,n,{skipAriaHidden:!0}),t>=0?this.eSortOrder.textContent=(t+1).toString():_y(this.eSortOrder)}},sC={selector:"AG-SORT-INDICATOR",component:rC},aC=class extends Xy{constructor(){super(...arguments),this.eFilter=qy,this.eFilterButton=qy,this.eSortIndicator=qy,this.eMenu=qy,this.eLabel=qy,this.eText=qy,this.eSortOrder=qy,this.eSortAsc=qy,this.eSortDesc=qy,this.eSortMixed=qy,this.eSortNone=qy,this.lastMovingChanged=0}wireBeans(e){this.sortController=e.sortController,this.menuService=e.menuService,this.funcColsService=e.funcColsService}destroy(){super.destroy()}refresh(e){const t=this.params;return this.params=e,this.workOutTemplate()==this.currentTemplate&&this.workOutShowMenu()==this.currentShowMenu&&this.workOutSort()==this.currentSort&&this.shouldSuppressMenuHide()==this.currentSuppressMenuHide&&t.enableFilterButton==e.enableFilterButton&&t.enableFilterIcon==e.enableFilterIcon&&(this.setDisplayName(e),!0)}workOutTemplate(){let e=this.params.template??'<div class="ag-cell-label-container" role="presentation">\n        <span data-ref="eMenu" class="ag-header-icon ag-header-cell-menu-button" aria-hidden="true"></span>\n        <span data-ref="eFilterButton" class="ag-header-icon ag-header-cell-filter-button" aria-hidden="true"></span>\n        <div data-ref="eLabel" class="ag-header-cell-label" role="presentation">\n            <span data-ref="eText" class="ag-header-cell-text"></span>\n            <span data-ref="eFilter" class="ag-header-icon ag-header-label-icon ag-filter-icon" aria-hidden="true"></span>\n            <ag-sort-indicator data-ref="eSortIndicator"></ag-sort-indicator>\n        </div>\n    </div>';return e=e&&e.trim?e.trim():e,e}init(e){this.params=e,this.currentTemplate=this.workOutTemplate(),this.setTemplate(this.currentTemplate,[sC]),this.setupTap(),this.setMenu(),this.setupSort(),this.setupFilterIcon(),this.setupFilterButton(),this.setDisplayName(e)}setDisplayName(e){if(this.currentDisplayName!=e.displayName){this.currentDisplayName=e.displayName;const t=pv(this.currentDisplayName,!0);this.eText&&(this.eText.textContent=t)}}addInIcon(e,t,o){if(null==t)return;const n=Jy(e,this.gos,o);n&&t.appendChild(n)}setupTap(){const{gos:e}=this;if(e.get("suppressTouch"))return;const t=new oC(this.getGui(),!0),o=this.shouldSuppressMenuHide(),n=o&&gf(this.eMenu),i=n?new oC(this.eMenu,!0):t;if(this.params.enableMenu){const e=n?"tap":"longTap",t=e=>this.params.showColumnMenuAfterMouseClick(e.touchStart);this.addManagedListeners(i,{[e]:t})}if(this.params.enableSorting){const e=e=>{const t=e.touchStart.target;o&&(this.eMenu?.contains(t)||this.eFilterButton?.contains(t))||this.sortController.progressSort(this.params.column,!1,"uiColumnSorted")};this.addManagedListeners(t,{tap:e})}if(this.params.enableFilterButton){const e=new oC(this.eFilterButton,!0);this.addManagedListeners(e,{tap:()=>this.params.showFilter(this.eFilterButton)}),this.addDestroyFunc((()=>e.destroy()))}this.addDestroyFunc((()=>t.destroy())),n&&this.addDestroyFunc((()=>i.destroy()))}workOutShowMenu(){return this.params.enableMenu&&this.menuService.isHeaderMenuButtonEnabled()}shouldSuppressMenuHide(){return this.menuService.isHeaderMenuButtonAlwaysShowEnabled()}setMenu(){if(!this.eMenu)return;if(this.currentShowMenu=this.workOutShowMenu(),!this.currentShowMenu)return My(this.eMenu),void(this.eMenu=void 0);const e=this.menuService.isLegacyMenuEnabled();this.addInIcon(e?"menu":"menuAlt",this.eMenu,this.params.column),this.eMenu.classList.toggle("ag-header-menu-icon",!e),this.currentSuppressMenuHide=this.shouldSuppressMenuHide(),this.addManagedElementListeners(this.eMenu,{click:()=>this.params.showColumnMenu(this.eMenu)}),this.eMenu.classList.toggle("ag-header-menu-always-show",this.currentSuppressMenuHide)}onMenuKeyboardShortcut(e){const t=this.params.column,o=this.menuService.isLegacyMenuEnabled();if(e&&!o){if(this.menuService.isFilterMenuInHeaderEnabled(t))return this.params.showFilter(this.eFilterButton??this.eMenu??this.getGui()),!0}else if(this.params.enableMenu)return this.params.showColumnMenu(this.eMenu??this.eFilterButton??this.getGui()),!0;return!1}workOutSort(){return this.params.enableSorting}setupSort(){if(this.currentSort=this.params.enableSorting,this.eSortIndicator||(this.eSortIndicator=this.createBean(new rC(!0)),this.eSortIndicator.attachCustomElements(this.eSortOrder,this.eSortAsc,this.eSortDesc,this.eSortMixed,this.eSortNone)),this.eSortIndicator.setupSort(this.params.column),!this.currentSort)return;this.addManagedListeners(this.params.column,{movingChanged:()=>{this.lastMovingChanged=(new Date).getTime()}}),this.eLabel&&this.addManagedElementListeners(this.eLabel,{click:e=>{const t=this.params.column.isMoving(),o=(new Date).getTime()-this.lastMovingChanged<50;if(!(t||o)){const t="ctrl"===this.gos.get("multiSortKey")?e.ctrlKey||e.metaKey:e.shiftKey;this.params.progressSort(t)}}});const e=()=>{const e=this.params.column.getSort();if(this.addOrRemoveCssClass("ag-header-cell-sorted-asc","asc"===e),this.addOrRemoveCssClass("ag-header-cell-sorted-desc","desc"===e),this.addOrRemoveCssClass("ag-header-cell-sorted-none",!e),this.params.column.getColDef().showRowGroup){const e=this.funcColsService.getSourceColumnsForGroupColumn(this.params.column),t=e?.every((e=>this.params.column.getSort()==e.getSort())),o=!t;this.addOrRemoveCssClass("ag-header-cell-sorted-mixed",o)}};this.addManagedEventListeners({sortChanged:e,columnRowGroupChanged:e})}setupFilterIcon(){this.eFilter&&this.configureFilter(this.params.enableFilterIcon,this.eFilter,this.onFilterChangedIcon.bind(this))}setupFilterButton(){if(!this.eFilterButton)return;this.configureFilter(this.params.enableFilterButton,this.eFilterButton,this.onFilterChangedButton.bind(this))?this.addManagedElementListeners(this.eFilterButton,{click:()=>this.params.showFilter(this.eFilterButton)}):this.eFilterButton=void 0}configureFilter(e,t,o){if(!e)return My(t),!1;const n=this.params.column;return this.addInIcon("filter",t,n),this.addManagedListeners(n,{filterChanged:o}),o(),!0}onFilterChangedIcon(){const e=this.params.column.isFilterActive();wy(this.eFilter,e,{skipAriaHidden:!0})}onFilterChangedButton(){const e=this.params.column.isFilterActive();this.eFilterButton.classList.toggle("ag-filter-active",e)}getAnchorElementForMenu(e){return e?this.eFilterButton??this.eMenu??this.getGui():this.eMenu??this.eFilterButton??this.getGui()}},lC=class extends Xy{constructor(){super('<div class="ag-header-group-cell-label" role="presentation">\n            <span data-ref="agLabel" class="ag-header-group-text" role="presentation"></span>\n            <span data-ref="agOpened" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-expanded"></span>\n            <span data-ref="agClosed" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-collapsed"></span>\n        </div>'),this.agOpened=qy,this.agClosed=qy,this.agLabel=qy}wireBeans(e){this.columnModel=e.columnModel}destroy(){super.destroy()}init(e){this.params=e,this.checkWarnings(),this.setupLabel(),this.addGroupExpandIcon(),this.setupExpandIcons()}checkWarnings(){this.params.template&&nf("A template was provided for Header Group Comp - templates are only supported for Header Comps (not groups)")}setupExpandIcons(){this.addInIcon("columnGroupOpened",this.agOpened),this.addInIcon("columnGroupClosed",this.agClosed);const e=e=>{if(wm(e))return;const t=!this.params.columnGroup.isExpanded();this.columnModel.setColumnGroupOpened(this.params.columnGroup.getProvidedColumnGroup(),t,"uiColumnExpanded")};this.addTouchAndClickListeners(this.agClosed,e),this.addTouchAndClickListeners(this.agOpened,e);const t=e=>{Cm(e)};this.addManagedElementListeners(this.agClosed,{dblclick:t}),this.addManagedElementListeners(this.agOpened,{dblclick:t}),this.addManagedElementListeners(this.getGui(),{dblclick:e}),this.updateIconVisibility();const o=this.params.columnGroup.getProvidedColumnGroup(),n=this.updateIconVisibility.bind(this);this.addManagedListeners(o,{expandedChanged:n,expandableChanged:n})}addTouchAndClickListeners(e,t){const o=new oC(e,!0);this.addManagedListeners(o,{tap:t}),this.addDestroyFunc((()=>o.destroy())),this.addManagedElementListeners(e,{click:t})}updateIconVisibility(){if(this.params.columnGroup.isExpandable()){const e=this.params.columnGroup.isExpanded();wy(this.agOpened,e),wy(this.agClosed,!e)}else wy(this.agOpened,!1),wy(this.agClosed,!1)}addInIcon(e,t){const o=Jy(e,this.gos,null);o&&t.appendChild(o)}addGroupExpandIcon(){if(!this.params.columnGroup.isExpandable())return wy(this.agOpened,!1),void wy(this.agClosed,!1)}setupLabel(){const{displayName:e,columnGroup:t}=this.params;if(gf(e)){const t=pv(e,!0);this.agLabel.textContent=t}this.addOrRemoveCssClass("ag-sticky-label",!t.getColGroupDef()?.suppressStickyLabel)}},cC=class extends Xy{constructor(){super(),this.refreshCount=0;const e=document.createElement("span"),t=document.createElement("span");t.setAttribute("class","ag-value-change-delta");const o=document.createElement("span");o.setAttribute("class","ag-value-change-value"),e.appendChild(t),e.appendChild(o),this.setTemplateFromElement(e)}wireBeans(e){this.filterManager=e.filterManager}init(e){this.eValue=this.queryForHtmlElement(".ag-value-change-value"),this.eDelta=this.queryForHtmlElement(".ag-value-change-delta"),this.refresh(e,!0)}showDelta(e,t){const o=Math.abs(t),n=e.formatValue(o),i=gf(n)?n:o,r=t>=0;this.eDelta.textContent=r?"\u2191"+i:"\u2193"+i,this.eDelta.classList.toggle("ag-value-change-delta-up",r),this.eDelta.classList.toggle("ag-value-change-delta-down",!r)}setTimerToRemoveDelta(){this.refreshCount++;const e=this.refreshCount;this.getFrameworkOverrides().wrapIncoming((()=>{window.setTimeout((()=>{e===this.refreshCount&&this.hideDeltaValue()}),2e3)}))}hideDeltaValue(){this.eValue.classList.remove("ag-value-change-value-highlight"),_y(this.eDelta)}refresh(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const o=e.value;if(o===this.lastValue)return!1;if(gf(e.valueFormatted)?this.eValue.textContent=e.valueFormatted:gf(e.value)?this.eValue.textContent=o:_y(this.eValue),this.filterManager?.isSuppressFlashingCellsBecauseFiltering())return!1;if("number"===typeof o&&"number"===typeof this.lastValue){const t=o-this.lastValue;this.showDelta(e,t)}return this.lastValue&&this.eValue.classList.add("ag-value-change-value-highlight"),t||this.setTimerToRemoveDelta(),this.lastValue=o,!0}},uC=class extends Xy{constructor(){super(),this.refreshCount=0;const e=document.createElement("span"),t=document.createElement("span");t.setAttribute("class","ag-value-slide-current"),e.appendChild(t),this.setTemplateFromElement(e),this.eCurrent=this.queryForHtmlElement(".ag-value-slide-current")}wireBeans(e){this.filterManager=e.filterManager}init(e){this.refresh(e,!0)}addSlideAnimation(){this.refreshCount++;const e=this.refreshCount;this.ePrevious&&this.getGui().removeChild(this.ePrevious);const t=document.createElement("span");t.setAttribute("class","ag-value-slide-previous ag-value-slide-out"),this.ePrevious=t,this.ePrevious.textContent=this.eCurrent.textContent,this.getGui().insertBefore(this.ePrevious,this.eCurrent),this.getFrameworkOverrides().wrapIncoming((()=>{window.setTimeout((()=>{e===this.refreshCount&&this.ePrevious.classList.add("ag-value-slide-out-end")}),50),window.setTimeout((()=>{e===this.refreshCount&&(this.getGui().removeChild(this.ePrevious),this.ePrevious=null)}),3e3)}))}refresh(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=e.value;return ff(o)&&(o=""),o!==this.lastValue&&(!this.filterManager?.isSuppressFlashingCellsBecauseFiltering()&&(t||this.addSlideAnimation(),this.lastValue=o,gf(e.valueFormatted)?this.eCurrent.textContent=e.valueFormatted:gf(e.value)?this.eCurrent.textContent=o:_y(this.eCurrent),!0))}},dC=class{};dC.BACKSPACE="Backspace",dC.TAB="Tab",dC.ENTER="Enter",dC.ESCAPE="Escape",dC.SPACE=" ",dC.LEFT="ArrowLeft",dC.UP="ArrowUp",dC.RIGHT="ArrowRight",dC.DOWN="ArrowDown",dC.DELETE="Delete",dC.F2="F2",dC.PAGE_UP="PageUp",dC.PAGE_DOWN="PageDown",dC.PAGE_HOME="Home",dC.PAGE_END="End",dC.A="KeyA",dC.C="KeyC",dC.D="KeyD",dC.V="KeyV",dC.X="KeyX",dC.Y="KeyY",dC.Z="KeyZ";var hC=class extends Xy{constructor(e,t,o){super(t,o),this.labelSeparator="",this.labelAlignment="left",this.disabled=!1,this.label="",this.config=e||{}}postConstruct(){this.addCssClass("ag-labeled"),this.eLabel.classList.add("ag-label");const{labelSeparator:e,label:t,labelWidth:o,labelAlignment:n,disabled:i}=this.config;null!=i&&this.setDisabled(i),null!=e&&this.setLabelSeparator(e),null!=t&&this.setLabel(t),null!=o&&this.setLabelWidth(o),this.setLabelAlignment(n||this.labelAlignment),this.refreshLabel()}refreshLabel(){_y(this.eLabel),"string"===typeof this.label?this.eLabel.innerText=this.label+this.labelSeparator:this.label&&this.eLabel.appendChild(this.label),""===this.label?(wy(this.eLabel,!1),Yv(this.eLabel,"presentation")):(wy(this.eLabel,!0),Yv(this.eLabel,null))}setLabelSeparator(e){return this.labelSeparator===e||(this.labelSeparator=e,null!=this.label&&this.refreshLabel()),this}getLabelId(){return this.eLabel.id=this.eLabel.id||`ag-${this.getCompId()}-label`,this.eLabel.id}getLabel(){return this.label}setLabel(e){return this.label===e||(this.label=e,this.refreshLabel()),this}setLabelAlignment(e){const t=this.getGui().classList;return t.toggle("ag-label-align-left","left"===e),t.toggle("ag-label-align-right","right"===e),t.toggle("ag-label-align-top","top"===e),this}setLabelEllipsis(e){return this.eLabel.classList.toggle("ag-label-ellipsis",e),this}setLabelWidth(e){return null==this.label||ky(this.eLabel,e),this}setDisabled(e){e=!!e;const t=this.getGui();return by(t,e),t.classList.toggle("ag-disabled",e),this.disabled=e,this}isDisabled(){return!!this.disabled}},pC=class extends hC{constructor(e,t,o,n){super(e,t,o),this.className=n}postConstruct(){super.postConstruct();const{width:e,value:t,onValueChange:o}=this.config;null!=e&&this.setWidth(e),null!=t&&this.setValue(t),null!=o&&this.onValueChange(o),this.className&&this.addCssClass(this.className),this.refreshAriaLabelledBy()}setLabel(e){return super.setLabel(e),this.refreshAriaLabelledBy(),this}refreshAriaLabelledBy(){const e=this.getAriaElement(),t=this.getLabelId(),o=this.getLabel();null==o||""==o||null!==e.getAttribute("aria-label")?Xv(e,""):Xv(e,t??"")}setAriaLabel(e){return qv(this.getAriaElement(),e),this.refreshAriaLabelledBy(),this}onValueChange(e){return this.addManagedListeners(this,{fieldValueChanged:()=>e(this.getValue())}),this}getWidth(){return this.getGui().clientWidth}setWidth(e){return Gy(this.getGui(),e),this}getPreviousValue(){return this.previousValue}getValue(){return this.value}setValue(e,t){return this.value===e||(this.previousValue=this.value,this.value=e,t||this.dispatchLocalEvent({type:"fieldValueChanged"})),this}},gC=class extends pC{constructor(e,t){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"text",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"input";super(e,e?.template??`\n            <div role="presentation">\n                <div data-ref="eLabel" class="ag-input-field-label"></div>\n                <div data-ref="eWrapper" class="ag-wrapper ag-input-wrapper" role="presentation">\n                    <${n} data-ref="eInput" class="ag-input-field-input"></${n}>\n                </div>\n            </div>`,[],t),this.inputType=o,this.displayFieldTag=n,this.eLabel=qy,this.eWrapper=qy,this.eInput=qy}postConstruct(){super.postConstruct(),this.setInputType(),this.eLabel.classList.add(`${this.className}-label`),this.eWrapper.classList.add(`${this.className}-input-wrapper`),this.eInput.classList.add(`${this.className}-input`),this.addCssClass("ag-input-field"),this.eInput.id=this.eInput.id||`ag-${this.getCompId()}-input`;const{inputName:e,inputWidth:t}=this.config;null!=e&&this.setInputName(e),null!=t&&this.setInputWidth(t),this.addInputListeners(),this.activateTabIndex([this.eInput])}addInputListeners(){this.addManagedElementListeners(this.eInput,{input:e=>this.setValue(e.target.value)})}setInputType(){"input"===this.displayFieldTag&&this.eInput.setAttribute("type",this.inputType)}getInputElement(){return this.eInput}setInputWidth(e){return ky(this.eWrapper,e),this}setInputName(e){return this.getInputElement().setAttribute("name",e),this}getFocusableElement(){return this.eInput}setMaxLength(e){return this.eInput.maxLength=e,this}setInputPlaceholder(e){return Wy(this.eInput,"placeholder",e),this}setInputAriaLabel(e){return qv(this.eInput,e),this.refreshAriaLabelledBy(),this}setDisabled(e){return by(this.eInput,e),super.setDisabled(e)}setAutoComplete(e){if(!0===e)Wy(this.eInput,"autocomplete",null);else{const t="string"===typeof e?e:"off";Wy(this.eInput,"autocomplete",t)}return this}},fC=class extends gC{constructor(e){super(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ag-checkbox",arguments.length>2&&void 0!==arguments[2]?arguments[2]:"checkbox"),this.labelAlignment="right",this.selected=!1,this.readOnly=!1,this.passive=!1}postConstruct(){super.postConstruct();const{readOnly:e,passive:t}=this.config;"boolean"===typeof e&&this.setReadOnly(e),"boolean"===typeof t&&this.setPassive(t)}addInputListeners(){this.addManagedElementListeners(this.eInput,{click:this.onCheckboxClick.bind(this)}),this.addManagedElementListeners(this.eLabel,{click:this.toggle.bind(this)})}getNextValue(){return void 0===this.selected||!this.selected}setPassive(e){this.passive=e}isReadOnly(){return this.readOnly}setReadOnly(e){this.eWrapper.classList.toggle("ag-disabled",e),this.eInput.disabled=e,this.readOnly=e}setDisabled(e){return this.eWrapper.classList.toggle("ag-disabled",e),super.setDisabled(e)}toggle(){if(this.eInput.disabled)return;const e=this.isSelected(),t=this.getNextValue();this.passive?this.dispatchChange(t,e):this.setValue(t)}getValue(){return this.isSelected()}setValue(e,t){return this.refreshSelectedClass(e),this.setSelected(e,t),this}setName(e){return this.getInputElement().name=e,this}isSelected(){return this.selected}setSelected(e,t){this.isSelected()!==e&&(this.previousValue=this.isSelected(),e=this.selected="boolean"===typeof e?e:void 0,this.eInput.checked=e,this.eInput.indeterminate=void 0===e,t||this.dispatchChange(this.selected,this.previousValue))}dispatchChange(e,t,o){this.dispatchLocalEvent({type:"fieldValueChanged",selected:e,previousValue:t,event:o});const n=this.getInputElement();this.eventService.dispatchEvent({type:"checkboxChanged",id:n.id,name:n.name,selected:e,previousValue:t})}onCheckboxClick(e){if(this.passive||this.eInput.disabled)return;const t=this.isSelected(),o=this.selected=e.target.checked;this.refreshSelectedClass(o),this.dispatchChange(o,t,e)}refreshSelectedClass(e){this.eWrapper.classList.toggle("ag-checked",!0===e),this.eWrapper.classList.toggle("ag-indeterminate",null==e)}},mC={selector:"AG-CHECKBOX",component:fC},vC=class extends Xy{constructor(){super('\n            <div class="ag-cell-wrapper ag-checkbox-cell" role="presentation">\n                <ag-checkbox role="presentation" data-ref="eCheckbox"></ag-checkbox>\n            </div>',[mC]),this.eCheckbox=qy}init(e){this.refresh(e);const t=this.eCheckbox.getInputElement();t.setAttribute("tabindex","-1"),Qv(t,"polite"),this.addManagedListeners(t,{click:e=>{if(Cm(e),this.eCheckbox.isDisabled())return;const t=this.eCheckbox.getValue();this.onCheckboxChanged(t)},dblclick:e=>{Cm(e)}}),this.addManagedElementListeners(this.params.eGridCell,{keydown:e=>{if(e.key===dC.SPACE&&!this.eCheckbox.isDisabled()){this.params.eGridCell===Vf(this.gos)&&this.eCheckbox.toggle();const t=this.eCheckbox.getValue();this.onCheckboxChanged(t),e.preventDefault()}}})}refresh(e){return this.params=e,this.updateCheckbox(e),!0}updateCheckbox(e){let t,o=!0;if(e.node.group&&e.column)if("boolean"===typeof e.value)t=e.value;else{const n=e.column.getColId();n.startsWith(Dm)?t=null==e.value||""===e.value?void 0:"true"===e.value:e.node.aggData&&void 0!==e.node.aggData[n]?t=e.value??void 0:o=!1}else t=e.value??void 0;if(!o)return void this.eCheckbox.setDisplayed(!1);this.eCheckbox.setValue(t);const n=null!=e.disabled?e.disabled:!e.column?.isCellEditable(e.node);this.eCheckbox.setDisabled(n);const i=this.localeService.getLocaleTextFunc(),r=ay(i,t),s=n?r:`${i("ariaToggleCellValue","Press SPACE to toggle cell value")} (${r})`;this.eCheckbox.setInputAriaLabel(s)}onCheckboxChanged(e){const{column:t,node:o,value:n}=this.params;this.eventService.dispatchEvent({type:"cellEditingStarted",column:t,colDef:t?.getColDef(),data:o.data,node:o,rowIndex:o.rowIndex,rowPinned:o.rowPinned,value:n});const i=this.params.node.setDataValue(this.params.column,e,"edit");this.eventService.dispatchEvent({type:"cellEditingStopped",column:t,colDef:t?.getColDef(),data:o.data,node:o,rowIndex:o.rowIndex,rowPinned:o.rowPinned,value:n,oldValue:n,newValue:e,valueChanged:i}),i||this.updateCheckbox(this.params)}},yC=class extends Xy{constructor(){super('<div class="ag-loading">\n            <span class="ag-loading-icon" data-ref="eLoadingIcon"></span>\n            <span class="ag-loading-text" data-ref="eLoadingText"></span>\n        </div>'),this.eLoadingIcon=qy,this.eLoadingText=qy}init(e){e.node.failedLoad?this.setupFailed():this.setupLoading()}setupFailed(){const e=this.localeService.getLocaleTextFunc();this.eLoadingText.innerText=e("loadingError","ERR")}setupLoading(){const e=Jy("groupLoading",this.gos,null);e&&this.eLoadingIcon.appendChild(e);const t=this.localeService.getLocaleTextFunc();this.eLoadingText.innerText=t("loadingOoo","Loading")}refresh(e){return!1}destroy(){super.destroy()}},CC=class extends Xy{constructor(){super('<div class="ag-skeleton-container"></div>')}init(e){const t=`ag-cell-skeleton-renderer-${this.getCompId()}`;this.getGui().setAttribute("id",t),this.addDestroyFunc((()=>Xv(e.eParentOfValue))),Xv(e.eParentOfValue,t),e.node.failedLoad?this.setupFailed():this.setupLoading(e)}setupFailed(){const e=this.localeService.getLocaleTextFunc();this.getGui().innerText=e("loadingError","ERR");const t=e("ariaSkeletonCellLoadingFailed","Row failed to load");qv(this.getGui(),t)}setupLoading(e){const t=Nf(this.gos).createElement("div");t.classList.add("ag-skeleton-effect");const o=e.node.rowIndex;if(null!=o){const e=75+25*(o%2===0?Math.sin(o):Math.cos(o));t.style.width=`${e}%`}this.getGui().appendChild(t);const n=this.localeService.getLocaleTextFunc()("ariaSkeletonCellLoading","Row data is loading");qv(this.getGui(),n)}refresh(e){return!1}destroy(){super.destroy()}},wC=class extends Xy{constructor(){super()}destroy(){super.destroy()}},bC=class extends wC{init(){const e=pf(this.gos.get("overlayLoadingTemplate")?.trim());if(this.setTemplate(e??'<span aria-live="polite" aria-atomic="true" class="ag-overlay-loading-center"></span>'),!e){const e=this.localeService.getLocaleTextFunc();setTimeout((()=>{this.getGui().textContent=e("loadingOoo","Loading...")}))}}},SC=class extends wC{init(){const e=pf(this.gos.get("overlayNoRowsTemplate")?.trim());if(this.setTemplate(e??'<span class="ag-overlay-no-rows-center"></span>'),!e){const e=this.localeService.getLocaleTextFunc();setTimeout((()=>{this.getGui().textContent=e("noRowsToShow","No Rows To Show")}))}}},EC=class extends Xy{isPopup(){return!0}setParentComponent(e){e.addCssClass("ag-has-popup"),super.setParentComponent(e)}destroy(){const e=this.parentComponent;e&&e.isAlive()&&e.getGui().classList.remove("ag-has-popup"),super.destroy()}},RC=class extends EC{constructor(){super('<div class="ag-tooltip"></div>')}init(e){const{value:t}=e;this.getGui().textContent=pv(t,!0)}};function PC(e){const{inputValue:t,allSuggestions:o,hideIrrelevant:n,filterByPercentageOfBestMatch:i,addSequentialWeight:r}=e;let s=o.map(((e,o)=>({value:e,relevance:OC(t.toLowerCase(),e.toLocaleLowerCase(),r),idx:o})));if(s.sort(((e,t)=>t.relevance-e.relevance)),n&&(s=s.filter((e=>0!==e.relevance))),s.length>0&&i&&i>0){const e=s[0].relevance*i;s=s.filter((t=>e-t.relevance<0))}const a=[],l=[];for(const c of s)a.push(c.value),l.push(c.idx);return{values:a,indices:l}}function OC(e,t){let o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const n=e.replace(/\s/g,""),i=t.replace(/\s/g,""),r=n.length,s=i.length,a=new Array(r+1).fill(null).map((()=>new Array(s+1).fill(0)));for(let u=0;u<=r;u+=1)a[u][0]=u;for(let u=0;u<=s;u+=1)a[0][u]=u;for(let u=1;u<=r;u++)for(let e=1;e<=s;e++)n[u-1]===i[e-1]?a[u][e]=a[u-1][e-1]:a[u][e]=1+Math.min(a[u][e-1],Math.min(a[u-1][e],a[u-1][e-1]));const l=a[r][s];let c=Math.max(r,s)-l;if(o){const e=function(e){const t=[],o=e.length;for(let n=1;n<=o;n++)for(let i=0;i<=o-n;i++){const o=i+n-1;t.push(e.slice(i,o+1))}return t}(n);for(let t=0;t<e.length;t++){const o=e[t];-1!==i.indexOf(o)&&(c+=1,c*=o.length)}}return c}var xC=class extends Rm{constructor(){super(...arguments),this.beanName="userComponentRegistry",this.agGridDefaults={agDragAndDropImage:eC,agColumnHeader:aC,agColumnGroupHeader:lC,agSortIndicator:rC,agAnimateShowChangeCellRenderer:cC,agAnimateSlideCellRenderer:uC,agLoadingCellRenderer:yC,agSkeletonCellRenderer:CC,agCheckboxCellRenderer:vC,agLoadingOverlay:bC,agNoRowsOverlay:SC,agTooltipComponent:RC},this.agGridDefaultParams={},this.enterpriseAgDefaultCompsModule={agSetColumnFilter:"@ag-grid-enterprise/set-filter",agSetColumnFloatingFilter:"@ag-grid-enterprise/set-filter",agMultiColumnFilter:"@ag-grid-enterprise/multi-filter",agMultiColumnFloatingFilter:"@ag-grid-enterprise/multi-filter",agGroupColumnFilter:"@ag-grid-enterprise/row-grouping",agGroupColumnFloatingFilter:"@ag-grid-enterprise/row-grouping",agGroupCellRenderer:"@ag-grid-enterprise/row-grouping",agGroupRowRenderer:"@ag-grid-enterprise/row-grouping",agRichSelect:"@ag-grid-enterprise/rich-select",agRichSelectCellEditor:"@ag-grid-enterprise/rich-select",agDetailCellRenderer:"@ag-grid-enterprise/master-detail",agSparklineCellRenderer:"@ag-grid-enterprise/sparklines"},this.jsComps={}}postConstruct(){const e=this.gos.get("components");null!=e&&Gm(e,((e,t)=>this.registerJsComponent(e,t)))}registerDefaultComponent(e,t,o){this.agGridDefaults[e]=t,o&&(this.agGridDefaultParams[e]=o)}registerJsComponent(e,t){this.jsComps[e]=t}retrieve(e,t){const o=(e,t,o)=>({componentFromFramework:t,component:e,params:o}),n=this.getFrameworkOverrides().frameworkComponent(t,this.gos.get("components"));if(null!=n)return o(n,!0);const i=this.jsComps[t];if(i){return o(i,this.getFrameworkOverrides().isFrameworkComponent(i))}const r=this.agGridDefaults[t];if(r)return o(r,!1,this.agGridDefaultParams[t]);const s=this.enterpriseAgDefaultCompsModule[t];return s?this.gos.assertModuleRegistered(s,`AG Grid '${e}' component: ${t}`):tf((()=>{this.warnAboutMissingComponent(e,t)}),"MissingComp"+t),null}warnAboutMissingComponent(e,t){const o=[...Object.keys(this.agGridDefaults).filter((e=>!["agCellEditor","agGroupRowRenderer","agSortIndicator"].includes(e))),...Object.keys(this.jsComps)],n=PC({inputValue:t,allSuggestions:o,hideIrrelevant:!0,filterByPercentageOfBestMatch:.8}).values;nf(`Could not find '${t}' component. It was configured as "${e}: '${t}'" but it wasn't found in the list of registered components.`),n.length>0&&nf(`         Did you mean: [${n.slice(0,3)}]?`),nf(`If using a custom component check it has been registered as described in: ${this.getFrameworkOverrides().getDocLink("components/")}`)}},TC=class e{constructor(e){this.status=0,this.resolution=null,this.waiters=[],e((e=>this.onDone(e)),(e=>this.onReject(e)))}static all(t){return t.length?new e((e=>{let o=t.length;const n=new Array(o);t.forEach(((t,i)=>{t.then((t=>{n[i]=t,o--,0===o&&e(n)}))}))})):e.resolve()}static resolve(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return new e((e=>e(t)))}then(t){return new e((e=>{1===this.status?e(t(this.resolution)):this.waiters.push((o=>e(t(o))))}))}onDone(e){this.status=1,this.resolution=e,this.waiters.forEach((t=>t(e)))}onReject(e){}},DC={propertyName:"dateComponent",cellRenderer:!1},AC={propertyName:"dragAndDropImageComponent",cellRenderer:!1},FC={propertyName:"headerComponent",cellRenderer:!1},_C={propertyName:"headerGroupComponent",cellRenderer:!1},MC={propertyName:"cellRenderer",cellRenderer:!0},IC={propertyName:"cellRenderer",cellRenderer:!1},LC={propertyName:"loadingCellRenderer",cellRenderer:!0},NC={propertyName:"cellEditor",cellRenderer:!1},kC={propertyName:"innerRenderer",cellRenderer:!0},GC={propertyName:"loadingOverlayComponent",cellRenderer:!1},VC={propertyName:"noRowsOverlayComponent",cellRenderer:!1},HC={propertyName:"tooltipComponent",cellRenderer:!1},BC={propertyName:"filter",cellRenderer:!1},WC={propertyName:"floatingFilterComponent",cellRenderer:!1},jC={propertyName:"toolPanel",cellRenderer:!1},zC={propertyName:"statusPanel",cellRenderer:!1},UC={propertyName:"fullWidthCellRenderer",cellRenderer:!0},$C={propertyName:"loadingCellRenderer",cellRenderer:!0},KC={propertyName:"groupRowRenderer",cellRenderer:!0},YC={propertyName:"detailCellRenderer",cellRenderer:!0},qC={propertyName:"menuItem",cellRenderer:!1},XC=class e extends Rm{constructor(){super(...arguments),this.beanName="userComponentFactory"}wireBeans(e){this.agComponentUtils=e.agComponentUtils,this.componentMetadataProvider=e.componentMetadataProvider,this.userComponentRegistry=e.userComponentRegistry,this.frameworkComponentWrapper=e.frameworkComponentWrapper,this.gridOptions=e.gridOptions}getDragAndDropImageCompDetails(e){return this.getCompDetails(this.gridOptions,AC,"agDragAndDropImage",e,!0)}getHeaderCompDetails(e,t){return this.getCompDetails(e,FC,"agColumnHeader",t)}getHeaderGroupCompDetails(e){const t=e.columnGroup.getColGroupDef();return this.getCompDetails(t,_C,"agColumnGroupHeader",e)}getFullWidthCellRendererDetails(e){return this.getCompDetails(this.gridOptions,UC,null,e,!0)}getFullWidthLoadingCellRendererDetails(e){return this.getCompDetails(this.gridOptions,$C,"agLoadingCellRenderer",e,!0)}getFullWidthGroupCellRendererDetails(e){return this.getCompDetails(this.gridOptions,KC,"agGroupRowRenderer",e,!0)}getFullWidthDetailCellRendererDetails(e){return this.getCompDetails(this.gridOptions,YC,"agDetailCellRenderer",e,!0)}getInnerRendererDetails(e,t){return this.getCompDetails(e,kC,null,t)}getFullWidthGroupRowInnerCellRenderer(e,t){return this.getCompDetails(e,kC,null,t)}getCellRendererDetails(e,t){return this.getCompDetails(e,MC,null,t)}getEditorRendererDetails(e,t){return this.getCompDetails(e,IC,null,t)}getLoadingCellRendererDetails(e,t){return this.getCompDetails(e,LC,"agSkeletonCellRenderer",t,!0)}getCellEditorDetails(e,t){return this.getCompDetails(e,NC,"agCellEditor",t,!0)}getFilterDetails(e,t,o){return this.getCompDetails(e,BC,o,t,!0)}getDateCompDetails(e){return this.getCompDetails(this.gridOptions,DC,"agDateInput",e,!0)}getLoadingOverlayCompDetails(e){return this.getCompDetails(this.gridOptions,GC,"agLoadingOverlay",e,!0)}getNoRowsOverlayCompDetails(e){return this.getCompDetails(this.gridOptions,VC,"agNoRowsOverlay",e,!0)}getTooltipCompDetails(e){return this.getCompDetails(e.colDef,HC,"agTooltipComponent",e,!0)}getSetFilterCellRendererDetails(e,t){return this.getCompDetails(e,MC,null,t)}getFloatingFilterCompDetails(e,t,o){return this.getCompDetails(e,WC,o,t)}getToolPanelCompDetails(e,t){return this.getCompDetails(e,jC,null,t,!0)}getStatusPanelCompDetails(e,t){return this.getCompDetails(e,zC,null,t,!0)}getMenuItemCompDetails(e,t){return this.getCompDetails(e,qC,"agMenuItem",t,!0)}getCompDetails(t,o,n,i){let r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const{propertyName:s,cellRenderer:a}=o;let l,{compName:c,jsComp:u,fwComp:d,paramsFromSelector:h,popupFromSelector:p,popupPositionFromSelector:g}=e.getCompKeys(this.frameworkOverrides,t,o,i);const f=e=>{const t=this.userComponentRegistry.retrieve(s,e);t&&(u=t.componentFromFramework?void 0:t.component,d=t.componentFromFramework?t.component:void 0,l=t.params)};if(null!=c&&f(c),null==u&&null==d&&null!=n&&f(n),u&&a&&!this.agComponentUtils.doesImplementIComponent(u)&&(u=this.agComponentUtils.adaptFunction(s,u)),!u&&!d)return void(r&&rf(`Could not find component ${c}, did you forget to configure this component?`));const m=this.mergeParamsWithApplicationProvidedParams(t,o,i,h,l),v=null==u,y=u||d;return{componentFromFramework:v,componentClass:y,params:m,type:o,popupFromSelector:p,popupPositionFromSelector:g,newAgStackInstance:()=>this.newAgStackInstance(y,v,m,o)}}static getCompKeys(e,t,o,n){const{propertyName:i}=o;let r,s,a,l,c,u;if(t){const o=t,d=o[i+"Selector"],h=d?d(n):null,p=t=>{if("string"===typeof t)r=t;else if(null!=t&&!0!==t){e.isFrameworkComponent(t)?a=t:s=t}};h?(p(h.component),l=h.params,c=h.popup,u=h.popupPosition):p(o[i])}return{compName:r,jsComp:s,fwComp:a,paramsFromSelector:l,popupFromSelector:c,popupPositionFromSelector:u}}newAgStackInstance(e,t,o,n){const i=n.propertyName;let r;if(!t)r=new e;else{const t=this.componentMetadataProvider.retrieve(i);r=this.frameworkComponentWrapper.wrap(e,t.mandatoryMethodList,t.optionalMethodList,n)}const s=this.initComponent(r,o);return null==s?TC.resolve(r):s.then((()=>r))}mergeParamsWithApplicationProvidedParams(e,t,o){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=arguments.length>4?arguments[4]:void 0;const r=this.gos.getGridCommonParams();Wm(r,o),i&&Wm(r,i);const s=e&&e[t.propertyName+"Params"];if("function"===typeof s){Wm(r,s(o))}else"object"===typeof s&&Wm(r,s);return Wm(r,n),r}initComponent(e,t){if(this.createBean(e),null!=e.init)return e.init(t)}};function QC(e){const t=e;return null!=t&&null!=t.getFrameworkComponentInstance?t.getFrameworkComponentInstance():e}var ZC=class e{static register(t){e.__register(t,!0,void 0)}static registerModules(t){e.__registerModules(t,!0,void 0)}static __register(t,o,n){e.runVersionChecks(t),void 0!==n?(e.areGridScopedModules=!0,void 0===e.gridModulesMap[n]&&(e.gridModulesMap[n]={}),e.gridModulesMap[n][t.moduleName]=t):e.globalModulesMap[t.moduleName]=t,e.setModuleBased(o)}static __unRegisterGridModules(t){delete e.gridModulesMap[t]}static __registerModules(t,o,n){e.setModuleBased(o),t&&t.forEach((t=>e.__register(t,o,n)))}static isValidModuleVersion(t){const[o,n]=t.version.split(".")||[],[i,r]=e.currentModuleVersion.split(".")||[];return o===i&&n===r}static runVersionChecks(t){e.currentModuleVersion||(e.currentModuleVersion=t.version);const o=e=>`You are using incompatible versions of AG Grid modules. Major and minor versions should always match across modules. ${e} Please update all modules to the same version.`;if(t.version?e.isValidModuleVersion(t)||rf(o(`'${t.moduleName}' is version ${t.version} but the other modules are version ${e.currentModuleVersion}.`)):rf(o(`'${t.moduleName}' is incompatible.`)),t.validate){const e=t.validate();if(!e.isValid){rf(`${e.message}`)}}}static setModuleBased(t){void 0===e.moduleBased?e.moduleBased=t:e.moduleBased!==t&&(rf("AG Grid: You are mixing modules (i.e. @ag-grid-community/core) and packages (ag-grid-community) - you can only use one or the other of these mechanisms."),rf("Please see https://www.ag-grid.com/javascript-grid/modules/ for more information."))}static __setIsBundled(){e.isBundled=!0}static __assertRegistered(t,o,n){if(this.__isRegistered(t,n))return!0;let i;if(e.isBundled)i=`AG Grid: unable to use ${o} as 'ag-grid-enterprise' has not been loaded. Check you are using the Enterprise bundle:\n        \n        <script src="https://cdn.jsdelivr.net/npm/ag-grid-enterprise@AG_GRID_VERSION/dist/ag-grid-enterprise.min.js"><\/script>\n        \nFor more info see: https://ag-grid.com/javascript-data-grid/getting-started/#getting-started-with-ag-grid-enterprise`;else if(e.moduleBased||void 0===e.moduleBased){const r=Object.entries(Jg).find((e=>{let[o,n]=e;return n===t}))?.[0];i=`AG Grid: unable to use ${o} as the ${r} is not registered${e.areGridScopedModules?` for gridId: ${n}`:""}. Check if you have registered the module:\n           \n    import { ModuleRegistry } from '@ag-grid-community/core';\n    import { ${r} } from '${t}';\n    \n    ModuleRegistry.registerModules([ ${r} ]);\n\nFor more info see: https://www.ag-grid.com/javascript-grid/modules/`}else i=`AG Grid: unable to use ${o} as package 'ag-grid-enterprise' has not been imported. Check that you have imported the package:\n            \n    import 'ag-grid-enterprise';`;return rf(i),!1}static __isRegistered(t,o){return!!e.globalModulesMap[t]||!!e.gridModulesMap[o]?.[t]}static __getRegisteredModules(t){return[...Ef(e.globalModulesMap),...Ef(e.gridModulesMap[t]||{})]}static __getGridRegisteredModules(t){return Ef(e.gridModulesMap[t]??{})||[]}static __isPackageBased(){return!e.moduleBased}};ZC.globalModulesMap={},ZC.gridModulesMap={},ZC.areGridScopedModules=!1;var JC=ZC,ew=class{constructor(e){this.beans={},this.createdBeans=[],this.destroyed=!1,e&&e.beanClasses&&(this.beanDestroyComparator=e.beanDestroyComparator,this.init(e))}init(e){Object.entries(e.providedBeanInstances).forEach((e=>{let[t,o]=e;this.beans[t]=o})),e.beanClasses.forEach((e=>{const t=new e;t.beanName?this.beans[t.beanName]=t:console.error(`Bean ${e.name} is missing beanName`),this.createdBeans.push(t)})),e.derivedBeans?.forEach((e=>{const{beanName:t,bean:o}=e(this);this.beans[t]=o,this.createdBeans.push(o)})),e.beanInitComparator&&this.createdBeans.sort(e.beanInitComparator),this.initBeans(this.createdBeans)}getBeanInstances(){return Object.values(this.beans)}createBean(e,t){if(!e)throw Error("Can't wire to bean since it is null");return this.initBeans([e],t),e}initBeans(e,t){e.forEach((e=>{e.preWireBeans?.(this.beans),e.wireBeans?.(this.beans)})),e.forEach((e=>e.preConstruct?.())),t&&e.forEach(t),e.forEach((e=>e.postConstruct?.()))}getBeans(){return this.beans}getBean(e){return this.beans[e]}destroy(){if(this.destroyed)return;this.destroyed=!0;const e=this.getBeanInstances();this.beanDestroyComparator&&e.sort(this.beanDestroyComparator),this.destroyBeans(e),this.beans={},this.createdBeans=[]}destroyBean(e){e?.destroy?.()}destroyBeans(e){if(e)for(let t=0;t<e.length;t++)this.destroyBean(e[t]);return[]}isDestroyed(){return this.destroyed}},tw=class extends ew{init(e){this.gridId=e.gridId,this.beans.context=this,super.init(e)}destroy(){super.destroy(),JC.__unRegisterGridModules(this.gridId)}getGridId(){return this.gridId}},ow=(e=>(e[e.Left=0]="Left",e[e.Right=1]="Right",e))(ow||{}),nw=class extends Rm{constructor(){super(...arguments),this.beanName="dragAndDropService",this.dragSourceAndParamsList=[],this.dropTargets=[]}wireBeans(e){this.ctrlsService=e.ctrlsService,this.dragService=e.dragService,this.mouseEventService=e.mouseEventService,this.environment=e.environment,this.userComponentFactory=e.userComponentFactory}addDragSource(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const o={eElement:e.eElement,dragStartPixels:e.dragStartPixels,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this),onDragging:this.onDragging.bind(this),onDragCancel:this.onDragCancel.bind(this),includeTouch:t};this.dragSourceAndParamsList.push({params:o,dragSource:e}),this.dragService.addDragSource(o)}getDragAndDropImageComponent(){const{dragAndDropImageComp:e}=this;return e&&e.comp?e.comp:null}removeDragSource(e){const t=this.dragSourceAndParamsList.find((t=>t.dragSource===e));t&&(this.dragService.removeDragSource(t.params),dm(this.dragSourceAndParamsList,t))}destroy(){this.dragSourceAndParamsList.forEach((e=>this.dragService.removeDragSource(e.params))),this.dragSourceAndParamsList.length=0,this.dropTargets.length=0,this.clearDragAndDropProperties(),super.destroy()}nudge(){this.dragging&&this.onDragging(this.eventLastTime,!0)}onDragStart(e,t){this.dragging=!0,this.dragSource=e,this.eventLastTime=t,this.dragItem=this.dragSource.getDragItem(),this.dragSource.onDragStarted?.(),this.createDragAndDropImageComponent()}onDragStop(e){if(this.dragSource?.onDragStopped?.(),this.lastDropTarget?.onDragStop){const t=this.createDropTargetEvent(this.lastDropTarget,e,null,null,!1);this.lastDropTarget.onDragStop(t)}this.clearDragAndDropProperties()}onDragCancel(){this.dragSource?.onDragCancelled?.(),this.lastDropTarget?.onDragCancel&&this.lastDropTarget.onDragCancel(this.createDropTargetEvent(this.lastDropTarget,this.eventLastTime,null,null,!1)),this.clearDragAndDropProperties()}clearDragAndDropProperties(){this.eventLastTime=null,this.dragging=!1,this.lastDropTarget=void 0,this.dragItem=null,this.dragSource=null,this.removeDragAndDropImageComponent()}onDragging(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const o=this.getHorizontalDirection(e),n=this.getVerticalDirection(e);this.eventLastTime=e,this.positionDragAndDropImageComp(e);const i=this.dropTargets.filter((t=>this.isMouseOnDropTarget(e,t))),r=this.findCurrentDropTarget(e,i);if(r!==this.lastDropTarget){if(this.leaveLastTargetIfExists(e,o,n,t),null!==this.lastDropTarget&&null===r&&this.dragSource?.onGridExit?.(this.dragItem),null===this.lastDropTarget&&null!==r&&this.dragSource?.onGridEnter?.(this.dragItem),this.enterDragTargetIfExists(r,e,o,n,t),r&&this.dragAndDropImageComp){const{comp:e,promise:t}=this.dragAndDropImageComp;e?e.setIcon(r.getIconName?r.getIconName():null):t.then((e=>{e&&e.setIcon(r.getIconName?r.getIconName():null)}))}this.lastDropTarget=r}else if(r&&r.onDragging){const i=this.createDropTargetEvent(r,e,o,n,t);r.onDragging(i)}}getAllContainersFromDropTarget(e){const t=e.getSecondaryContainers?e.getSecondaryContainers():null,o=[[e.getContainer()]];return t?o.concat(t):o}allContainersIntersect(e,t){for(const o of t){const{width:t,height:n,left:i,right:r,top:s,bottom:a}=o.getBoundingClientRect();if(0===t||0===n)return!1;const l=e.clientX>=i&&e.clientX<r,c=e.clientY>=s&&e.clientY<a;if(!l||!c)return!1}return!0}isMouseOnDropTarget(e,t){const o=this.getAllContainersFromDropTarget(t);let n=!1;for(const s of o)if(this.allContainersIntersect(e,s)){n=!0;break}const{eElement:i,type:r}=this.dragSource;return!(t.targetContainsSource&&!t.getContainer().contains(i))&&(n&&t.isInterestedIn(r,i))}findCurrentDropTarget(e,t){const o=t.length;if(0===o)return null;if(1===o)return t[0];const n=Gf(this.gos).elementsFromPoint(e.clientX,e.clientY);for(const r of n)for(const e of t){if(-1!==(i=this.getAllContainersFromDropTarget(e),i?.flatMap((e=>e))??[]).indexOf(r))return e}var i;return null}enterDragTargetIfExists(e,t,o,n,i){if(e&&e.onDragEnter){const r=this.createDropTargetEvent(e,t,o,n,i);e.onDragEnter(r)}}leaveLastTargetIfExists(e,t,o,n){if(!this.lastDropTarget)return;if(this.lastDropTarget.onDragLeave){const i=this.createDropTargetEvent(this.lastDropTarget,e,t,o,n);this.lastDropTarget.onDragLeave(i)}const i=this.getDragAndDropImageComponent();i&&i.setIcon(null)}addDropTarget(e){this.dropTargets.push(e)}removeDropTarget(e){this.dropTargets=this.dropTargets.filter((t=>t.getContainer()!==e.getContainer()))}hasExternalDropZones(){return this.dropTargets.some((e=>e.external))}findExternalZone(e){return this.dropTargets.filter((e=>e.external)).find((t=>t.getContainer()===e.getContainer()))||null}isDropZoneWithinThisGrid(e){const t=this.ctrlsService.getGridBodyCtrl().getGui(),{dropZoneTarget:o}=e;return t.contains(o)}getHorizontalDirection(e){const t=this.eventLastTime&&this.eventLastTime.clientX,o=e.clientX;return t===o?null:t>o?0:1}getVerticalDirection(e){const t=this.eventLastTime&&this.eventLastTime.clientY,o=e.clientY;return t===o?null:t>o?0:1}createDropTargetEvent(e,t,o,n,i){const r=e.getContainer(),s=r.getBoundingClientRect(),{dragItem:a,dragSource:l}=this,c=t.clientX-s.left,u=t.clientY-s.top;return this.gos.addGridCommonParams({event:t,x:c,y:u,vDirection:n,hDirection:o,dragSource:l,fromNudge:i,dragItem:a,dropZoneTarget:r})}positionDragAndDropImageComp(e){const t=this.getDragAndDropImageComponent();if(!t)return;const o=t.getGui(),n=o.getBoundingClientRect().height,i=(document.body?.clientWidth??(window.innerHeight||document.documentElement?.clientWidth||-1))-2,r=(document.body?.clientHeight??(window.innerHeight||document.documentElement?.clientHeight||-1))-2;if(!o.offsetParent)return;const s=Ty(o.offsetParent),{clientY:a,clientX:l}=e;let c=a-s.top-n/2,u=l-s.left-10;const d=Nf(this.gos),h=d.defaultView||window,p=h.pageYOffset||d.documentElement.scrollTop,g=h.pageXOffset||d.documentElement.scrollLeft;i>0&&u+o.clientWidth>i+g&&(u=i+g-o.clientWidth),u<0&&(u=0),r>0&&c+o.clientHeight>r+p&&(c=r+p-o.clientHeight),c<0&&(c=0),o.style.left=`${u}px`,o.style.top=`${c}px`}removeDragAndDropImageComponent(){if(this.dragAndDropImageComp){const{comp:e}=this.dragAndDropImageComp;if(e){const t=e.getGui();this.dragAndDropImageParent&&this.dragAndDropImageParent.removeChild(t),this.destroyBean(e)}}this.dragAndDropImageComp=null}createDragAndDropImageComponent(){const{dragSource:e}=this;if(!e)return;const t=this.userComponentFactory.getDragAndDropImageCompDetails({dragSource:e}).newAgStackInstance();this.dragAndDropImageComp={promise:t},t.then((e=>{e&&this.isAlive()&&(this.processDragAndDropImageComponent(e),this.dragAndDropImageComp.comp=e)}))}processDragAndDropImageComponent(e){const{dragSource:t,mouseEventService:o,environment:n}=this;if(!t)return;const i=e.getGui();i.style.setProperty("position","absolute"),i.style.setProperty("z-index","9999"),o.stampTopLevelGridCompWithGridInstance(i),n.applyThemeClasses(i),e.setIcon(null);let{dragItemName:r}=t;sf(r)&&(r=r()),e.setLabel(r||""),i.style.top="20px",i.style.left="20px";const s=Nf(this.gos);let a=null,l=null;try{a=s.fullscreenElement}catch(bI){}finally{a||(a=Gf(this.gos));const e=a.querySelector("body");l=e||(a instanceof ShadowRoot?a:a instanceof Document?a?.documentElement:a)}this.dragAndDropImageParent=l,l?l.appendChild(i):nf("Could not find document body, it is needed for drag and drop.")}},iw=class{constructor(e){this.tickingInterval=null,this.onScrollCallback=null,this.scrollContainer=e.scrollContainer,this.scrollHorizontally=-1!==e.scrollAxis.indexOf("x"),this.scrollVertically=-1!==e.scrollAxis.indexOf("y"),this.scrollByTick=null!=e.scrollByTick?e.scrollByTick:20,e.onScrollCallback&&(this.onScrollCallback=e.onScrollCallback),this.scrollVertically&&(this.getVerticalPosition=e.getVerticalPosition,this.setVerticalPosition=e.setVerticalPosition),this.scrollHorizontally&&(this.getHorizontalPosition=e.getHorizontalPosition,this.setHorizontalPosition=e.setHorizontalPosition),this.shouldSkipVerticalScroll=e.shouldSkipVerticalScroll||(()=>!1),this.shouldSkipHorizontalScroll=e.shouldSkipHorizontalScroll||(()=>!1)}check(e){const t=arguments.length>1&&void 0!==arguments[1]&&arguments[1]||this.shouldSkipVerticalScroll();if(t&&this.shouldSkipHorizontalScroll())return;const o=this.scrollContainer.getBoundingClientRect(),n=this.scrollByTick;this.tickLeft=e.clientX<o.left+n,this.tickRight=e.clientX>o.right-n,this.tickUp=e.clientY<o.top+n&&!t,this.tickDown=e.clientY>o.bottom-n&&!t,this.tickLeft||this.tickRight||this.tickUp||this.tickDown?this.ensureTickingStarted():this.ensureCleared()}ensureTickingStarted(){null===this.tickingInterval&&(this.tickingInterval=window.setInterval(this.doTick.bind(this),100),this.tickCount=0)}doTick(){this.tickCount++;const e=this.tickCount>20?200:this.tickCount>10?80:40;if(this.scrollVertically){const t=this.getVerticalPosition();this.tickUp&&this.setVerticalPosition(t-e),this.tickDown&&this.setVerticalPosition(t+e)}if(this.scrollHorizontally){const t=this.getHorizontalPosition();this.tickLeft&&this.setHorizontalPosition(t-e),this.tickRight&&this.setHorizontalPosition(t+e)}this.onScrollCallback&&this.onScrollCallback()}ensureCleared(){this.tickingInterval&&(window.clearInterval(this.tickingInterval),this.tickingInterval=null)}},rw=class extends Rm{wireBeans(e){this.dragAndDropService=e.dragAndDropService,this.rowModel=e.rowModel,this.pageBoundsService=e.pageBoundsService,this.focusService=e.focusService,this.sortController=e.sortController,this.filterManager=e.filterManager,this.selectionService=e.selectionService,this.mouseEventService=e.mouseEventService,this.ctrlsService=e.ctrlsService,this.funcColsService=e.funcColsService,this.rangeService=e.rangeService}constructor(e){super(),this.eContainer=e}postConstruct(){Pf(this.gos)&&(this.clientSideRowModel=this.rowModel),this.ctrlsService.whenReady(this,(e=>{const t=e.gridBodyCtrl;this.autoScrollService=new iw({scrollContainer:t.getBodyViewportElement(),scrollAxis:"y",getVerticalPosition:()=>t.getScrollFeature().getVScrollPosition().top,setVerticalPosition:e=>t.getScrollFeature().setVerticalScrollPosition(e),onScrollCallback:()=>{this.onDragging(this.lastDraggingEvent)}})}))}getContainer(){return this.eContainer}isInterestedIn(e){return 2===e}getIconName(){return this.gos.get("rowDragManaged")&&this.shouldPreventRowMove()?"notAllowed":"move"}shouldPreventRowMove(){if(this.funcColsService.getRowGroupColumns().length)return!0;const e=this.filterManager?.isAnyFilterPresent();if(e)return!0;return!!this.sortController.isSortActive()}getRowNodes(e){if(!this.isFromThisGrid(e))return e.dragItem.rowNodes||[];const t=e.dragItem.rowNode;if(this.gos.get("rowDragMultiRow")){const e=[...this.selectionService.getSelectedNodes()].sort(((e,t)=>null==e.rowIndex||null==t.rowIndex?0:this.getRowIndexNumber(e)-this.getRowIndexNumber(t)));if(-1!==e.indexOf(t))return e}return[t]}onDragEnter(e){e.dragItem.rowNodes=this.getRowNodes(e),this.dispatchGridEvent("rowDragEnter",e),this.getRowNodes(e).forEach((e=>{e.setDragging(!0)})),this.onEnterOrDragging(e)}onDragging(e){this.onEnterOrDragging(e)}isFromThisGrid(e){const{dragSourceDomDataKey:t}=e.dragSource;return t===this.gos.getDomDataKey()}onEnterOrDragging(e){this.dispatchGridEvent("rowDragMove",e),this.lastDraggingEvent=e;const t=this.mouseEventService.getNormalisedPosition(e).y;this.gos.get("rowDragManaged")&&this.doManagedDrag(e,t),this.autoScrollService.check(e.event)}doManagedDrag(e,t){const o=this.isFromThisGrid(e),n=this.gos.get("rowDragManaged"),i=e.dragItem.rowNodes;n&&this.shouldPreventRowMove()||(this.gos.get("suppressMoveWhenRowDragging")||!o?this.dragAndDropService.isDropZoneWithinThisGrid(e)&&this.clientSideRowModel.highlightRowAtPixel(i[0],t):this.moveRows(i,t))}getRowIndexNumber(e){const t=e.getRowIndexString();return parseInt(lm(t.split("-")),10)}moveRowAndClearHighlight(e){const t=this.clientSideRowModel.getLastHighlightedRowNode(),o=t&&1===t.highlighted,n=this.mouseEventService.getNormalisedPosition(e).y,i=e.dragItem.rowNodes;let r=o?1:0;if(this.isFromThisGrid(e))i.forEach((e=>{e.rowTop<n&&(r-=1)})),this.moveRows(i,n,r);else{const e=qf(this.gos);let t=this.clientSideRowModel.getRowIndexAtPixel(n)+1;0===this.clientSideRowModel.getHighlightPosition(n)&&t--,this.clientSideRowModel.updateRowData({add:i.filter((t=>!this.clientSideRowModel.getRowNode(e?.({data:t.data,level:0,rowPinned:t.rowPinned})??t.data.id))).map((e=>e.data)),addIndex:t})}this.clearRowHighlight()}clearRowHighlight(){this.clientSideRowModel.highlightRowAtPixel(null)}moveRows(e,t){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.clientSideRowModel.ensureRowsAtPixel(e,t,o)&&(this.focusService.clearFocusedCell(),this.rangeService?.removeAllCellRanges())}addRowDropZone(e){if(!e.getContainer())return void nf("addRowDropZone - A container target needs to be provided");if(this.dragAndDropService.findExternalZone(e))return void nf("addRowDropZone - target already exists in the list of DropZones. Use `removeRowDropZone` before adding it again.");let t={getContainer:e.getContainer};e.fromGrid?t=e:(e.onDragEnter&&(t.onDragEnter=t=>{e.onDragEnter(this.draggingToRowDragEvent("rowDragEnter",t))}),e.onDragLeave&&(t.onDragLeave=t=>{e.onDragLeave(this.draggingToRowDragEvent("rowDragLeave",t))}),e.onDragging&&(t.onDragging=t=>{e.onDragging(this.draggingToRowDragEvent("rowDragMove",t))}),e.onDragStop&&(t.onDragStop=t=>{e.onDragStop(this.draggingToRowDragEvent("rowDragEnd",t))}),e.onDragCancel&&(t.onDragCancel=t=>{e.onDragCancel(this.draggingToRowDragEvent("rowDragCancel",t))}));const o={isInterestedIn:e=>2===e,getIconName:()=>"move",external:!0,...t};this.dragAndDropService.addDropTarget(o),this.addDestroyFunc((()=>this.dragAndDropService.removeDropTarget(o)))}getRowDropZone(e){const t=this.getContainer.bind(this),o=this.onDragEnter.bind(this),n=this.onDragLeave.bind(this),i=this.onDragging.bind(this),r=this.onDragStop.bind(this),s=this.onDragCancel.bind(this);let a;return a=e?{getContainer:t,onDragEnter:e.onDragEnter?t=>{o(t),e.onDragEnter(this.draggingToRowDragEvent("rowDragEnter",t))}:o,onDragLeave:e.onDragLeave?t=>{n(t),e.onDragLeave(this.draggingToRowDragEvent("rowDragLeave",t))}:n,onDragging:e.onDragging?t=>{i(t),e.onDragging(this.draggingToRowDragEvent("rowDragMove",t))}:i,onDragStop:e.onDragStop?t=>{r(t),e.onDragStop(this.draggingToRowDragEvent("rowDragEnd",t))}:r,onDragCancel:e.onDragCancel?t=>{s(t),e.onDragCancel(this.draggingToRowDragEvent("rowDragCancel",t))}:s,fromGrid:!0}:{getContainer:t,onDragEnter:o,onDragLeave:n,onDragging:i,onDragStop:r,onDragCancel:s,fromGrid:!0},a}draggingToRowDragEvent(e,t){const o=this.mouseEventService.getNormalisedPosition(t).y;let n,i,r=-1;switch(o>this.pageBoundsService.getCurrentPageHeight()||(r=this.rowModel.getRowIndexAtPixel(o),n=this.rowModel.getRow(r)),t.vDirection){case 1:i="down";break;case 0:i="up";break;default:i=null}return this.gos.addGridCommonParams({type:e,event:t.event,node:t.dragItem.rowNode,nodes:t.dragItem.rowNodes,overIndex:r,overNode:n,y:o,vDirection:i})}dispatchGridEvent(e,t){const o=this.draggingToRowDragEvent(e,t);this.eventService.dispatchEvent(o)}onDragLeave(e){this.dispatchGridEvent("rowDragLeave",e),this.stopDragging(e),this.gos.get("rowDragManaged")&&this.clearRowHighlight()}onDragStop(e){this.dispatchGridEvent("rowDragEnd",e),this.stopDragging(e),this.gos.get("rowDragManaged")&&(this.gos.get("suppressMoveWhenRowDragging")||!this.isFromThisGrid(e))&&this.dragAndDropService.isDropZoneWithinThisGrid(e)&&this.moveRowAndClearHighlight(e)}onDragCancel(e){this.dispatchGridEvent("rowDragCancel",e),this.stopDragging(e),this.gos.get("rowDragManaged")&&(this.gos.get("suppressMoveWhenRowDragging")||!this.isFromThisGrid(e))&&this.dragAndDropService.isDropZoneWithinThisGrid(e)&&this.clearRowHighlight()}stopDragging(e){this.autoScrollService.ensureCleared(),this.getRowNodes(e).forEach((e=>{e.setDragging(!1)}))}},sw=class extends Rm{constructor(){super(...arguments),this.beanName="dragService",this.dragEndFunctions=[],this.dragSources=[]}wireBeans(e){this.mouseEventService=e.mouseEventService}destroy(){this.dragSources.forEach(this.removeListener.bind(this)),this.dragSources.length=0,super.destroy()}removeListener(e){const t=e.dragSource.eElement,o=e.mouseDownListener;if(t.removeEventListener("mousedown",o),e.touchEnabled){const o=e.touchStartListener;t.removeEventListener("touchstart",o,{passive:!0})}}removeDragSource(e){const t=this.dragSources.find((t=>t.dragSource===e));t&&(this.removeListener(t),dm(this.dragSources,t))}isDragging(){return this.dragging}addDragSource(e){const t=this.onMouseDown.bind(this,e),{eElement:o,includeTouch:n,stopPropagationForTouch:i}=e;o.addEventListener("mousedown",t);let r=null;const s=this.gos.get("suppressTouch");n&&!s&&(r=t=>{Cy(t.target)||(i&&t.stopPropagation(),this.onTouchStart(e,t))},o.addEventListener("touchstart",r,{passive:!1})),this.dragSources.push({dragSource:e,mouseDownListener:t,touchStartListener:r,touchEnabled:!!n})}getStartTarget(){return this.startTarget}onTouchStart(e,t){this.currentDragParams=e,this.dragging=!1;const o=t.touches[0];this.touchLastTime=o,this.touchStart=o;const n=t=>this.onTouchUp(t,e.eElement),i=t.target,r=[{target:Gf(this.gos),type:"touchmove",listener:e=>{e.cancelable&&e.preventDefault()},options:{passive:!1}},{target:i,type:"touchmove",listener:t=>this.onTouchMove(t,e.eElement),options:{passive:!0}},{target:i,type:"touchend",listener:n,options:{passive:!0}},{target:i,type:"touchcancel",listener:n,options:{passive:!0}}];this.addTemporaryEvents(r),0===e.dragStartPixels&&this.onCommonMove(o,this.touchStart,e.eElement)}onMouseDown(e,t){const o=t;if(e.skipMouseEvent&&e.skipMouseEvent(t))return;if(o._alreadyProcessedByDragService)return;if(o._alreadyProcessedByDragService=!0,0!==t.button)return;this.shouldPreventMouseEvent(t)&&t.preventDefault(),this.currentDragParams=e,this.dragging=!1,this.mouseStartEvent=t,this.startTarget=t.target;const n=Gf(this.gos),i=[{target:n,type:"mousemove",listener:t=>this.onMouseMove(t,e.eElement)},{target:n,type:"mouseup",listener:t=>this.onMouseUp(t,e.eElement)},{target:n,type:"contextmenu",listener:e=>e.preventDefault()},{target:n,type:"keydown",listener:t=>{t.key===dC.ESCAPE&&this.cancelDrag(e.eElement)}}];this.addTemporaryEvents(i),0===e.dragStartPixels&&this.onMouseMove(t,e.eElement)}addTemporaryEvents(e){e.forEach((e=>{const{target:t,type:o,listener:n,options:i}=e;t.addEventListener(o,n,i)})),this.dragEndFunctions.push((()=>{e.forEach((e=>{const{target:t,type:o,listener:n,options:i}=e;t.removeEventListener(o,n,i)}))}))}isEventNearStartEvent(e,t){const{dragStartPixels:o}=this.currentDragParams;return tC(e,t,gf(o)?o:4)}getFirstActiveTouch(e){for(let t=0;t<e.length;t++)if(e[t].identifier===this.touchStart.identifier)return e[t];return null}onCommonMove(e,t,o){if(!this.dragging){if(this.isEventNearStartEvent(e,t))return;if(this.dragging=!0,this.eventService.dispatchEvent({type:"dragStarted",target:o}),this.currentDragParams.onDragStart(t),!this.currentDragParams)return void(this.dragging=!1);this.currentDragParams.onDragging(t)}this.currentDragParams?.onDragging(e)}onTouchMove(e,t){const o=this.getFirstActiveTouch(e.touches);o&&this.onCommonMove(o,this.touchStart,t)}onMouseMove(e,t){if(ly()){const e=Nf(this.gos);e.getSelection()?.removeAllRanges()}this.shouldPreventMouseEvent(e)&&e.preventDefault(),this.onCommonMove(e,this.mouseStartEvent,t)}shouldPreventMouseEvent(e){const t=this.gos.get("enableCellTextSelection"),o="mousemove"===e.type;return t&&o&&e.cancelable&&this.mouseEventService.isEventFromThisGrid(e)&&!this.isOverFormFieldElement(e)}isOverFormFieldElement(e){const t=e.target,o=t?.tagName.toLocaleLowerCase();return!!o?.match("^a$|textarea|input|select|button")}onTouchUp(e,t){let o=this.getFirstActiveTouch(e.changedTouches);o||(o=this.touchLastTime),this.onUpCommon(o,t)}onMouseUp(e,t){this.onUpCommon(e,t)}onUpCommon(e,t){this.dragging&&(this.dragging=!1,this.currentDragParams.onDragStop(e),this.eventService.dispatchEvent({type:"dragStopped",target:t})),this.resetDragProperties()}cancelDrag(e){this.eventService.dispatchEvent({type:"dragCancelled",target:e}),this.currentDragParams?.onDragCancel?.(),this.resetDragProperties()}resetDragProperties(){this.mouseStartEvent=null,this.startTarget=null,this.touchStart=null,this.touchLastTime=null,this.currentDragParams=null,this.dragEndFunctions.forEach((e=>e())),this.dragEndFunctions.length=0}},aw=class extends Xy{constructor(e,t,o,n,i,r){super(),this.cellValueFn=e,this.rowNode=t,this.column=o,this.customGui=n,this.dragStartPixels=i,this.suppressVisibilityChange=r,this.dragSource=null}wireBeans(e){this.beans=e}isCustomGui(){return null!=this.customGui}postConstruct(){if(this.customGui?this.setDragElement(this.customGui,this.dragStartPixels):(this.setTemplate('<div class="ag-drag-handle ag-row-drag" aria-hidden="true"></div>'),this.getGui().appendChild(Jy("rowDrag",this.gos,null)),this.addDragSource()),this.checkCompatibility(),!this.suppressVisibilityChange){const e=this.gos.get("rowDragManaged")?new uw(this,this.beans,this.rowNode,this.column):new cw(this,this.beans,this.rowNode,this.column);this.createManagedBean(e,this.beans.context)}}setDragElement(e,t){this.setTemplateFromElement(e,void 0,void 0,!0),this.addDragSource(t)}getSelectedNodes(){if(!this.gos.get("rowDragMultiRow"))return[this.rowNode];const e=this.beans.selectionService.getSelectedNodes();return-1!==e.indexOf(this.rowNode)?e:[this.rowNode]}checkCompatibility(){const e=this.gos.get("rowDragManaged");this.gos.get("treeData")&&e&&nf("If using row drag with tree data, you cannot have rowDragManaged=true")}getDragItem(){return{rowNode:this.rowNode,rowNodes:this.getSelectedNodes(),columns:this.column?[this.column]:void 0,defaultTextValue:this.cellValueFn()}}getRowDragText(e){if(e){const t=e.getColDef();if(t.rowDragText)return t.rowDragText}return this.gos.get("rowDragText")}addDragSource(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:4;this.dragSource&&this.removeDragSource();const t=this.getGui();this.gos.get("enableCellTextSelection")&&(this.removeMouseDownListener(),this.mouseDownListener=this.addManagedElementListeners(t,{mousedown:e=>{e?.preventDefault()}})[0]);const o=this.localeService.getLocaleTextFunc();this.dragSource={type:2,eElement:t,dragItemName:()=>{const e=this.getDragItem(),t=e.rowNodes?.length||1,n=this.getRowDragText(this.column);return n?n(e,t):1===t?this.cellValueFn():`${t} ${o("rowDragRows","rows")}`},getDragItem:()=>this.getDragItem(),dragStartPixels:e,dragSourceDomDataKey:this.gos.getDomDataKey()},this.beans.dragAndDropService.addDragSource(this.dragSource,!0)}destroy(){this.removeDragSource(),this.removeMouseDownListener(),super.destroy()}removeDragSource(){this.dragSource&&(this.beans.dragAndDropService.removeDragSource(this.dragSource),this.dragSource=null)}removeMouseDownListener(){this.mouseDownListener&&(this.mouseDownListener(),this.mouseDownListener=void 0)}},lw=class extends Rm{constructor(e,t,o){super(),this.parent=e,this.rowNode=t,this.column=o}setDisplayedOrVisible(e){const t={skipAriaHidden:!0};if(e)this.parent.setDisplayed(!1,t);else{let e=!0,o=!1;this.column&&(e=this.column.isRowDrag(this.rowNode)||this.parent.isCustomGui(),o=sf(this.column.getColDef().rowDrag)),o?(this.parent.setDisplayed(!0,t),this.parent.setVisible(e,t)):(this.parent.setDisplayed(e,t),this.parent.setVisible(!0,t))}}},cw=class extends lw{constructor(e,t,o,n){super(e,o,n),this.beans=t}postConstruct(){this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this));const e=this.workOutVisibility.bind(this);this.addManagedListeners(this.rowNode,{dataChanged:e,cellChanged:e}),this.addManagedListeners(this.beans.eventService,{newColumnsLoaded:e}),this.workOutVisibility()}onSuppressRowDrag(){this.workOutVisibility()}workOutVisibility(){const e=this.gos.get("suppressRowDrag");this.setDisplayedOrVisible(e)}},uw=class extends lw{constructor(e,t,o,n){super(e,o,n),this.beans=t}postConstruct(){const e=this.workOutVisibility.bind(this);this.addManagedListeners(this.beans.eventService,{sortChanged:e,filterChanged:e,columnRowGroupChanged:e,newColumnsLoaded:e}),this.addManagedListeners(this.rowNode,{dataChanged:e,cellChanged:e}),this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.workOutVisibility()}onSuppressRowDrag(){this.workOutVisibility()}workOutVisibility(){const e=this.beans.ctrlsService.getGridBodyCtrl().getRowDragFeature(),t=e&&e.shouldPreventRowMove(),o=this.gos.get("suppressRowDrag"),n=this.beans.dragAndDropService.hasExternalDropZones(),i=t&&!n||o;this.setDisplayedOrVisible(i)}},dw=new Set(["localEventService","__objectId","sticky","__autoHeights","checkAutoHeightsDebounced"]),hw=class e{constructor(t){this.rowIndex=null,this.key=null,this.sourceRowIndex=-1,this.childrenMapped={},this.treeNode=null,this.treeNodeFlags=0,this.displayed=!1,this.rowTop=null,this.oldRowTop=null,this.selectable=!0,this.__objectId=e.OBJECT_ID_SEQUENCE++,this.__autoHeights={},this.alreadyRendered=!1,this.highlighted=null,this.hovered=!1,this.selected=!1,this.beans=t}setData(e){this.setDataCommon(e,!1)}updateData(e){this.setDataCommon(e,!0)}setDataCommon(e,t){const o=this.data;this.data=e,this.beans.valueCache.onDataChanged(),this.updateDataOnDetailNode(),this.checkRowSelectable(),this.resetQuickFilterAggregateText();const n=this.createDataChangedEvent(e,o,t);this.localEventService?.dispatchEvent(n)}updateDataOnDetailNode(){this.detailNode&&(this.detailNode.data=this.data)}createDataChangedEvent(e,t,o){return{type:"dataChanged",node:this,oldData:t,newData:e,update:o}}getRowIndexString(){return null==this.rowIndex?(rf("Could not find rowIndex, this means tasks are being executed on a rowNode that has been removed from the grid."),null):"top"===this.rowPinned?e.ID_PREFIX_TOP_PINNED+this.rowIndex:"bottom"===this.rowPinned?e.ID_PREFIX_BOTTOM_PINNED+this.rowIndex:this.rowIndex.toString()}createDaemonNode(){const t=new e(this.beans);return t.id=this.id,t.data=this.data,t.__daemon=!0,t.selected=this.selected,t.level=this.level,t}setDataAndId(e,t){const o=gf(this.id)?this.createDaemonNode():null,n=this.data;this.data=e,this.updateDataOnDetailNode(),this.setId(t),this.checkRowSelectable(),this.beans.selectionService.syncInRowNode(this,o);const i=this.createDataChangedEvent(e,n,!1);this.localEventService?.dispatchEvent(i)}checkRowSelectable(){const e=om(this.beans.gos);this.setRowSelectable(!e||e(this))}setRowSelectable(e,t){if(this.selectable!==e){if(this.selectable=e,this.dispatchRowEvent("selectableChanged"),t)return;if(sm(this.beans.gos)){const e=this.calculateSelectedFromChildren();return void this.setSelectedParams({newValue:e??!1,source:"selectableChanged"})}this.isSelected()&&!this.selectable&&this.setSelectedParams({newValue:!1,source:"selectableChanged"})}}setId(t){const o=qf(this.beans.gos);if(o)if(this.data){const t=this.parent?.getRoute()??[];this.id=o({data:this.data,parentKeys:t.length>0?t:void 0,level:this.level,rowPinned:this.rowPinned}),this.id.startsWith(e.ID_PREFIX_ROW_GROUP)&&rf(`Row IDs cannot start with ${e.ID_PREFIX_ROW_GROUP}, this is a reserved prefix for AG Grid's row grouping feature.`)}else this.id=void 0;else this.id=t}setRowTop(e){this.oldRowTop=this.rowTop,this.rowTop!==e&&(this.rowTop=e,this.dispatchRowEvent("topChanged"),this.setDisplayed(null!==e))}clearRowTopAndRowIndex(){this.oldRowTop=null,this.setRowTop(null),this.setRowIndex(null)}setHovered(e){this.hovered=e}isHovered(){return this.hovered}setMaster(e){this.master!==e&&(this.master&&!e&&(this.expanded=!1),this.master=e,this.dispatchRowEvent("masterChanged"))}setGroup(e){this.group!==e&&(this.group&&!e&&(this.expanded=!1),this.group=e,this.updateHasChildren(),this.checkRowSelectable(),this.dispatchRowEvent("groupChanged"))}setRowHeight(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.rowHeight=e,this.rowHeightEstimated=t,this.dispatchRowEvent("heightChanged")}setRowAutoHeight(e,t){this.__autoHeights||(this.__autoHeights={}),this.__autoHeights[t.getId()]=e,null!=e&&(null==this.checkAutoHeightsDebounced&&(this.checkAutoHeightsDebounced=df(this.checkAutoHeights.bind(this),1)),this.checkAutoHeightsDebounced())}checkAutoHeights(){let e=!1,t=!0,o=0;const n=this.__autoHeights;if(null==n)return;if(this.beans.visibleColsService.getAllAutoHeightCols().forEach((i=>{let r=n[i.getId()];if(null==r){if(!this.beans.columnModel.isColSpanActive())return void(e=!0);{let t=[];switch(i.getPinned()){case"left":t=this.beans.visibleColsService.getLeftColsForRow(this);break;case"right":t=this.beans.visibleColsService.getRightColsForRow(this);break;case null:t=this.beans.columnViewportService.getColsWithinViewport(this)}if(t.includes(i))return void(e=!0);r=-1}}else t=!1;r>o&&(o=r)})),e)return;if((t||o<10)&&(o=Ff(this.beans.gos,this).height),o==this.rowHeight)return;this.setRowHeight(o);const i=this.beans.rowModel;i.onRowHeightChangedDebounced?.()}setExpanded(e,t,o){if(this.expanded===e)return;this.expanded=e,this.dispatchRowEvent("expandedChanged");const n={...this.createGlobalRowEvent("rowGroupOpened"),expanded:e,event:t||null};this.beans.rowNodeEventThrottle.dispatchExpanded(n,o),this.beans.rowRenderer.refreshCells({rowNodes:[this]})}createGlobalRowEvent(e){return this.beans.gos.addGridCommonParams({type:e,node:this,data:this.data,rowIndex:this.rowIndex,rowPinned:this.rowPinned})}setDataValue(e,t,o){const n=(()=>"string"!==typeof e?e:this.beans.columnModel.getCol(e)??this.beans.columnModel.getColDefCol(e))(),i=this.beans.valueService.getValueForDisplay(n,this);if(this.beans.gos.get("readOnlyEdit"))return this.beans.eventService.dispatchEvent({type:"cellEditRequest",event:null,rowIndex:this.rowIndex,rowPinned:this.rowPinned,column:n,colDef:n.getColDef(),data:this.data,node:this,oldValue:i,newValue:t,value:t,source:o}),!1;const r=this.beans.valueService.setValue(this,n,t,o);return this.dispatchCellChangedEvent(n,t,i),this.checkRowSelectable(),r}setGroupValue(e,t){const o=this.beans.columnModel.getCol(e);ff(this.groupData)&&(this.groupData={});const n=o.getColId(),i=this.groupData[n];i!==t&&(this.groupData[n]=t,this.dispatchCellChangedEvent(o,t,i))}setAggData(e){const t=this.aggData;if(this.aggData=e,this.localEventService){const o=e=>{const o=this.aggData?this.aggData[e]:void 0,n=t?t[e]:void 0;if(o===n)return;const i=this.beans.columnModel.getCol(e);i&&this.dispatchCellChangedEvent(i,o,n)};for(const e in t)o(e);for(const n in e)t&&n in t||o(n)}}updateHasChildren(){let e=this.group&&!this.footer||this.childrenAfterGroup&&this.childrenAfterGroup.length>0;if(Of(this.beans.gos)){const t=this.beans.gos.get("treeData"),o=this.beans.gos.get("isServerSideGroup");e=!this.stub&&!this.footer&&(t?!!o&&o(this.data):!!this.group)}e!==this.__hasChildren&&(this.__hasChildren=!!e,this.dispatchRowEvent("hasChildrenChanged"))}hasChildren(){return null==this.__hasChildren&&this.updateHasChildren(),this.__hasChildren}dispatchCellChangedEvent(e,t,o){const n={type:"cellChanged",node:this,column:e,newValue:t,oldValue:o};this.localEventService?.dispatchEvent(n)}resetQuickFilterAggregateText(){this.quickFilterAggregateText=null}isExpandable(){return!this.footer&&(this.beans.columnModel.isPivotMode()?this.hasChildren()&&!this.leafGroup:this.hasChildren()||!!this.master)}isSelected(){return this.footer?this.sibling.isSelected():this.selected}depthFirstSearch(e){this.childrenAfterGroup&&this.childrenAfterGroup.forEach((t=>t.depthFirstSearch(e))),e(this)}calculateSelectedFromChildren(){let e=!1,t=!1;if(!this.childrenAfterGroup?.length)return this.selectable?this.selected:null;for(let o=0;o<this.childrenAfterGroup.length;o++){const n=this.childrenAfterGroup[o];let i=n.isSelected();if(!n.selectable){const e=n.calculateSelectedFromChildren();if(null===e)continue;i=e}switch(i){case!0:e=!0;break;case!1:t=!0;break;default:return}}return e&&t?void 0:!!e||!t&&(this.selectable?this.selected:null)}setSelectedInitialValue(e){this.selected=e}dispatchRowEvent(e){this.localEventService?.dispatchEvent({type:e,node:this})}selectThisNode(e,t){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"api";const n=!this.selectable&&e,i=this.selected===e;if(n||i)return!1;this.selected=e,this.dispatchRowEvent("rowSelected");const r=this.sibling;return r&&r.footer&&r.localEventService&&r.dispatchRowEvent("rowSelected"),this.beans.eventService.dispatchEvent({...this.createGlobalRowEvent("rowSelected"),event:t||null,source:o}),!0}setSelected(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"api";"boolean"!==typeof o?this.setSelectedParams({newValue:e,clearSelection:t,rangeSelect:!1,source:o}):nf("since version v30, rowNode.setSelected() property `suppressFinishActions` has been removed, please use `gridApi.setNodesSelected()` for bulk actions, and the event `source` property for ignoring events instead.")}setSelectedParams(e){return this.rowPinned?(nf("cannot select pinned rows"),0):void 0===this.id?(nf("cannot select node until id for node is known"),0):this.beans.selectionService.setNodesSelected({...e,nodes:[this.footer?this.sibling:this]})}isRowPinned(){return!!this.rowPinned}addEventListener(e,t){this.localEventService||(this.localEventService=new Zg),this.beans.frameworkOverrides.shouldWrapOutgoing&&!this.frameworkEventListenerService&&(this.localEventService.setFrameworkOverrides(this.beans.frameworkOverrides),this.frameworkEventListenerService=new Nm(this.beans.frameworkOverrides));const o=this.frameworkEventListenerService?.wrap(t)??t;this.localEventService.addEventListener(e,o)}removeEventListener(e,t){if(!this.localEventService)return;const o=this.frameworkEventListenerService?.unwrap(t)??t;this.localEventService.removeEventListener(e,o),this.localEventService.noRegisteredListenersExist()&&(this.localEventService=null)}onMouseEnter(){this.dispatchRowEvent("mouseEnter")}onMouseLeave(){this.dispatchRowEvent("mouseLeave")}isFullWidthCell(){if(nf("since version v32.2.0, rowNode.isFullWidthCell() has been deprecated. Instead check `rowNode.detail` followed by the user provided `isFullWidthRow` grid option."),this.detail)return!0;const e=this.beans.gos.getCallback("isFullWidthRow");return!!e&&e({rowNode:this})}getRoute(){if(-1===this.level)return[];if(null==this.key)return;const e=[];let t=this;for(;t&&null!=t.key;)e.push(t.key),t=t.parent;return e.reverse()}createFooter(){if(this.sibling)return;const t=new e(this.beans);Object.keys(this).forEach((e=>{dw.has(e)||(t[e]=this[e])})),t.footer=!0,t.setRowTop(null),t.setRowIndex(null),t.oldRowTop=null,t.id="rowGroupFooter_"+this.id,t.sibling=this,this.sibling=t}destroyFooter(){this.sibling&&(this.sibling.setRowTop(null),this.sibling.setRowIndex(null),this.sibling=void 0)}setFirstChild(e){this.firstChild!==e&&(this.firstChild=e,this.dispatchRowEvent("firstChildChanged"))}setLastChild(e){this.lastChild!==e&&(this.lastChild=e,this.dispatchRowEvent("lastChildChanged"))}setChildIndex(e){this.childIndex!==e&&(this.childIndex=e,this.dispatchRowEvent("childIndexChanged"))}setDisplayed(e){this.displayed!==e&&(this.displayed=e,this.dispatchRowEvent("displayedChanged"))}setDragging(e){this.dragging!==e&&(this.dragging=e,this.dispatchRowEvent("draggingChanged"))}setHighlighted(e){this.highlighted!==e&&(this.highlighted=e,this.dispatchRowEvent("rowHighlightChanged"))}setAllChildrenCount(e){this.allChildrenCount!==e&&(this.allChildrenCount=e,this.dispatchRowEvent("allChildrenCountChanged"))}setRowIndex(e){this.rowIndex!==e&&(this.rowIndex=e,this.dispatchRowEvent("rowIndexChanged"))}setUiLevel(e){this.uiLevel!==e&&(this.uiLevel=e,this.dispatchRowEvent("uiLevelChanged"))}};hw.ID_PREFIX_ROW_GROUP="row-group-",hw.ID_PREFIX_TOP_PINNED="t-",hw.ID_PREFIX_BOTTOM_PINNED="b-",hw.OBJECT_ID_SEQUENCE=0;var pw=hw,gw=class extends Xy{constructor(e,t){super('<div class="ag-filter"></div>'),this.column=e,this.source=t,this.filterWrapper=null}wireBeans(e){this.filterManager=e.filterManager,this.columnModel=e.columnModel}postConstruct(){this.createFilter(!0),this.addManagedEventListeners({filterDestroyed:this.onFilterDestroyed.bind(this)})}hasFilter(){return!!this.filterWrapper}getFilter(){return this.filterWrapper?.filterPromise??null}afterInit(){return this.filterWrapper?.filterPromise?.then((()=>{}))??TC.resolve()}afterGuiAttached(e){this.filterWrapper?.filterPromise?.then((t=>{t?.afterGuiAttached?.(e)}))}afterGuiDetached(){this.filterWrapper?.filterPromise?.then((e=>{e?.afterGuiDetached?.()}))}createFilter(e){const{column:t,source:o}=this;this.filterWrapper=this.filterManager?.getOrCreateFilterWrapper(t)??null,this.filterWrapper?.filterPromise&&this.filterWrapper.filterPromise.then((n=>{const i=n.getGui();gf(i)||nf(`getGui method from filter returned ${i}; it should be a DOM element.`),this.appendChild(i),e&&this.eventService.dispatchEvent({type:"filterOpened",column:t,source:o,eGui:this.getGui()})}))}onFilterDestroyed(e){"api"!==e.source&&"paramsUpdated"!==e.source||e.column.getId()!==this.column.getId()||!this.columnModel.getColDefCol(this.column)||(_y(this.getGui()),this.createFilter())}destroy(){this.filterWrapper=null,super.destroy()}},fw="ag-resizer-wrapper",mw=(e,t)=>`<div data-ref="${e}Resizer" class="ag-resizer ag-resizer-${t}"></div>`,vw=`<div class="${fw}">\n        ${mw("eTopLeft","topLeft")}\n        ${mw("eTop","top")}\n        ${mw("eTopRight","topRight")}\n        ${mw("eRight","right")}\n        ${mw("eBottomRight","bottomRight")}\n        ${mw("eBottom","bottom")}\n        ${mw("eBottomLeft","bottomLeft")}\n        ${mw("eLeft","left")}\n    </div>`,yw=class extends Rm{constructor(e,t){super(),this.element=e,this.dragStartPosition={x:0,y:0},this.position={x:0,y:0},this.lastSize={width:-1,height:-1},this.positioned=!1,this.resizersAdded=!1,this.resizeListeners=[],this.boundaryEl=null,this.isResizing=!1,this.isMoving=!1,this.resizable={},this.movable=!1,this.currentResizer=null,this.config=Object.assign({},{popup:!1},t)}wireBeans(e){this.popupService=e.popupService,this.resizeObserverService=e.resizeObserverService,this.dragService=e.dragService}center(){const{clientHeight:e,clientWidth:t}=this.offsetParent,o=t/2-this.getWidth()/2,n=e/2-this.getHeight()/2;this.offsetElement(o,n)}initialisePosition(){if(this.positioned)return;const{centered:e,forcePopupParentAsOffsetParent:t,minWidth:o,width:n,minHeight:i,height:r,x:s,y:a}=this.config;this.offsetParent||this.setOffsetParent();let l=0,c=0;const u=Ly(this.element);if(u){const e=this.findBoundaryElement(),t=window.getComputedStyle(e);if(null!=t.minWidth){const o=e.offsetWidth-this.element.offsetWidth;c=parseInt(t.minWidth,10)-o}if(null!=t.minHeight){const o=e.offsetHeight-this.element.offsetHeight;l=parseInt(t.minHeight,10)-o}}if(this.minHeight=i||l,this.minWidth=o||c,n&&this.setWidth(n),r&&this.setHeight(r),n&&r||this.refreshSize(),e)this.center();else if(s||a)this.offsetElement(s,a);else if(u&&t){let e=this.boundaryEl,t=!0;if(e||(e=this.findBoundaryElement(),t=!1),e){const o=parseFloat(e.style.top),n=parseFloat(e.style.left);t?this.offsetElement(isNaN(n)?0:n,isNaN(o)?0:o):this.setPosition(n,o)}}this.positioned=!!this.offsetParent}isPositioned(){return this.positioned}getPosition(){return this.position}setMovable(e,t){if(!this.config.popup||e===this.movable)return;this.movable=e;const o=this.moveElementDragListener||{eElement:t,onDragStart:this.onMoveStart.bind(this),onDragging:this.onMove.bind(this),onDragStop:this.onMoveEnd.bind(this)};e?(this.dragService.addDragSource(o),this.moveElementDragListener=o):(this.dragService.removeDragSource(o),this.moveElementDragListener=void 0)}setResizable(e){if(this.clearResizeListeners(),e?this.addResizers():this.removeResizers(),"boolean"===typeof e){if(!1===e)return;e={topLeft:e,top:e,topRight:e,right:e,bottomRight:e,bottom:e,bottomLeft:e,left:e}}Object.keys(e).forEach((t=>{const o=!!e[t],n=this.getResizerElement(t),i={dragStartPixels:0,eElement:n,onDragStart:e=>this.onResizeStart(e,t),onDragging:this.onResize.bind(this),onDragStop:e=>this.onResizeEnd(e,t)};(o||!this.isAlive()&&!o)&&(o?(this.dragService.addDragSource(i),this.resizeListeners.push(i),n.style.pointerEvents="all"):n.style.pointerEvents="none",this.resizable[t]=o)}))}removeSizeFromEl(){this.element.style.removeProperty("height"),this.element.style.removeProperty("width"),this.element.style.removeProperty("flex")}restoreLastSize(){this.element.style.flex="0 0 auto";const{height:e,width:t}=this.lastSize;-1!==t&&(this.element.style.width=`${t}px`),-1!==e&&(this.element.style.height=`${e}px`)}getHeight(){return this.element.offsetHeight}setHeight(e){const{popup:t}=this.config,o=this.element;let n=!1;if("string"===typeof e&&-1!==e.indexOf("%"))Vy(o,e),e=Oy(o),n=!0;else if(e=Math.max(this.minHeight,e),this.positioned){const t=this.getAvailableHeight();t&&e>t&&(e=t)}this.getHeight()!==e&&(n?(o.style.maxHeight="unset",o.style.minHeight="unset"):t?Vy(o,e):(o.style.height=`${e}px`,o.style.flex="0 0 auto",this.lastSize.height="number"===typeof e?e:parseFloat(e)))}getAvailableHeight(){const{popup:e,forcePopupParentAsOffsetParent:t}=this.config;this.positioned||this.initialisePosition();const{clientHeight:o}=this.offsetParent;if(!o)return null;const n=this.element.getBoundingClientRect(),i=this.offsetParent.getBoundingClientRect(),r=e?this.position.y:n.top,s=e?0:i.top;let a=0;if(t){const e=this.element.parentElement;if(e){const{bottom:t}=e.getBoundingClientRect();a=t-n.bottom}}return o+s-r-a}getWidth(){return this.element.offsetWidth}setWidth(e){const t=this.element,{popup:o}=this.config;let n=!1;if("string"===typeof e&&-1!==e.indexOf("%"))Gy(t,e),e=xy(t),n=!0;else if(this.positioned){e=Math.max(this.minWidth,e);const{clientWidth:t}=this.offsetParent,n=o?this.position.x:this.element.getBoundingClientRect().left;t&&e+n>t&&(e=t-n)}this.getWidth()!==e&&(n?(t.style.maxWidth="unset",t.style.minWidth="unset"):this.config.popup?Gy(t,e):(t.style.width=`${e}px`,t.style.flex=" unset",this.lastSize.width="number"===typeof e?e:parseFloat(e)))}offsetElement(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const{forcePopupParentAsOffsetParent:o}=this.config,n=o?this.boundaryEl:this.element;n&&(this.popupService.positionPopup({ePopup:n,keepWithinBounds:!0,skipObserver:this.movable||this.isResizable(),updatePosition:()=>({x:e,y:t})}),this.setPosition(parseFloat(n.style.left),parseFloat(n.style.top)))}constrainSizeToAvailableHeight(e){if(!this.config.forcePopupParentAsOffsetParent)return;const t=()=>{const e=this.getAvailableHeight();this.element.style.setProperty("max-height",`${e}px`)};e?this.resizeObserverSubscriber=this.resizeObserverService.observeResize(this.popupService.getPopupParent(),t):(this.element.style.removeProperty("max-height"),this.resizeObserverSubscriber&&(this.resizeObserverSubscriber(),this.resizeObserverSubscriber=void 0))}setPosition(e,t){this.position.x=e,this.position.y=t}updateDragStartPosition(e,t){this.dragStartPosition={x:e,y:t}}calculateMouseMovement(e){const{e:t,isLeft:o,isTop:n,anywhereWithin:i,topBuffer:r}=e,s=t.clientX-this.dragStartPosition.x,a=t.clientY-this.dragStartPosition.y;return{movementX:this.shouldSkipX(t,!!o,!!i,s)?0:s,movementY:this.shouldSkipY(t,!!n,r,a)?0:a}}shouldSkipX(e,t,o,n){const i=this.element.getBoundingClientRect(),r=this.offsetParent.getBoundingClientRect(),s=this.boundaryEl.getBoundingClientRect(),a=this.config.popup?this.position.x:i.left;let l=a<=0&&r.left>=e.clientX||r.right<=e.clientX&&r.right<=s.right;return!!l||(l=t?n<0&&e.clientX>a+r.left||n>0&&e.clientX<a+r.left:o?n<0&&e.clientX>s.right||n>0&&e.clientX<a+r.left:n<0&&e.clientX>s.right||n>0&&e.clientX<s.right,l)}shouldSkipY(e,t){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3?arguments[3]:void 0;const i=this.element.getBoundingClientRect(),r=this.offsetParent.getBoundingClientRect(),s=this.boundaryEl.getBoundingClientRect(),a=this.config.popup?this.position.y:i.top;let l=a<=0&&r.top>=e.clientY||r.bottom<=e.clientY&&r.bottom<=s.bottom;return!!l||(l=t?n<0&&e.clientY>a+r.top+o||n>0&&e.clientY<a+r.top:n<0&&e.clientY>s.bottom||n>0&&e.clientY<s.bottom,l)}createResizeMap(){const e=this.element;this.resizerMap={topLeft:{element:e.querySelector("[data-ref=eTopLeftResizer]")},top:{element:e.querySelector("[data-ref=eTopResizer]")},topRight:{element:e.querySelector("[data-ref=eTopRightResizer]")},right:{element:e.querySelector("[data-ref=eRightResizer]")},bottomRight:{element:e.querySelector("[data-ref=eBottomRightResizer]")},bottom:{element:e.querySelector("[data-ref=eBottomResizer]")},bottomLeft:{element:e.querySelector("[data-ref=eBottomLeftResizer]")},left:{element:e.querySelector("[data-ref=eLeftResizer]")}}}addResizers(){if(this.resizersAdded)return;const e=this.element;if(!e)return;const t=(new DOMParser).parseFromString(vw,"text/html").body;e.appendChild(t.firstChild),this.createResizeMap(),this.resizersAdded=!0}removeResizers(){this.resizerMap=void 0;const e=this.element.querySelector(`.${fw}`);e&&this.element.removeChild(e),this.resizersAdded=!1}getResizerElement(e){return this.resizerMap[e].element}onResizeStart(e,t){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.currentResizer={isTop:!!t.match(/top/i),isRight:!!t.match(/right/i),isBottom:!!t.match(/bottom/i),isLeft:!!t.match(/left/i)},this.element.classList.add("ag-resizing"),this.resizerMap[t].element.classList.add("ag-active");const{popup:o,forcePopupParentAsOffsetParent:n}=this.config;o||n||this.applySizeToSiblings(this.currentResizer.isBottom||this.currentResizer.isTop),this.isResizing=!0,this.updateDragStartPosition(e.clientX,e.clientY)}getSiblings(){const e=this.element.parentElement;return e?Array.prototype.slice.call(e.children).filter((e=>!e.classList.contains("ag-hidden"))):null}getMinSizeOfSiblings(){const e=this.getSiblings()||[];let t=0,o=0;for(let n=0;n<e.length;n++){const i=e[n],r=!!i.style.flex&&"0 0 auto"!==i.style.flex;if(i===this.element)continue;let s=this.minHeight||0,a=this.minWidth||0;if(r){const e=window.getComputedStyle(i);e.minHeight&&(s=parseInt(e.minHeight,10)),e.minWidth&&(a=parseInt(e.minWidth,10))}else s=i.offsetHeight,a=i.offsetWidth;t+=s,o+=a}return{height:t,width:o}}applySizeToSiblings(e){let t=null;const o=this.getSiblings();if(o){for(let n=0;n<o.length;n++){const i=o[n];i!==t&&(e?i.style.height=`${i.offsetHeight}px`:i.style.width=`${i.offsetWidth}px`,i.style.flex="0 0 auto",i===this.element&&(t=o[n+1]))}t&&(t.style.removeProperty("height"),t.style.removeProperty("min-height"),t.style.removeProperty("max-height"),t.style.flex="1 1 auto")}}isResizable(){return Object.values(this.resizable).some((e=>e))}onResize(e){if(!this.isResizing||!this.currentResizer)return;const{popup:t,forcePopupParentAsOffsetParent:o}=this.config,{isTop:n,isRight:i,isBottom:r,isLeft:s}=this.currentResizer,a=i||s,l=r||n,{movementX:c,movementY:u}=this.calculateMouseMovement({e:e,isLeft:s,isTop:n}),d=this.position.x,h=this.position.y;let p=0,g=0;if(a&&c){const e=s?-1:1,t=this.getWidth(),o=t+c*e;let n=!1;s&&(p=t-o,(d+p<=0||o<=this.minWidth)&&(n=!0,p=0)),n||this.setWidth(o)}if(l&&u){const e=n?-1:1,t=this.getHeight(),o=t+u*e;let i=!1;n?(g=t-o,(h+g<=0||o<=this.minHeight)&&(i=!0,g=0)):!this.config.popup&&!this.config.forcePopupParentAsOffsetParent&&t<o&&this.getMinSizeOfSiblings().height+o>this.element.parentElement.offsetHeight&&(i=!0),i||this.setHeight(o)}this.updateDragStartPosition(e.clientX,e.clientY),((t||o)&&p||g)&&this.offsetElement(d+p,h+g)}onResizeEnd(e,t){this.isResizing=!1,this.currentResizer=null,this.boundaryEl=null,this.element.classList.remove("ag-resizing"),this.resizerMap[t].element.classList.remove("ag-active"),this.dispatchLocalEvent({type:"resize"})}refreshSize(){const e=this.element;this.config.popup&&(this.config.width||this.setWidth(e.offsetWidth),this.config.height||this.setHeight(e.offsetHeight))}onMoveStart(e){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.isMoving=!0,this.element.classList.add("ag-moving"),this.updateDragStartPosition(e.clientX,e.clientY)}onMove(e){if(!this.isMoving)return;const{x:t,y:o}=this.position;let n;this.config.calculateTopBuffer&&(n=this.config.calculateTopBuffer());const{movementX:i,movementY:r}=this.calculateMouseMovement({e:e,isTop:!0,anywhereWithin:!0,topBuffer:n});this.offsetElement(t+i,o+r),this.updateDragStartPosition(e.clientX,e.clientY)}onMoveEnd(){this.isMoving=!1,this.boundaryEl=null,this.element.classList.remove("ag-moving")}setOffsetParent(){this.config.forcePopupParentAsOffsetParent?this.offsetParent=this.popupService.getPopupParent():this.offsetParent=this.element.offsetParent}findBoundaryElement(){let e=this.element;for(;e;){if("static"!==window.getComputedStyle(e).position)return e;e=e.parentElement}return this.element}clearResizeListeners(){for(;this.resizeListeners.length;){const e=this.resizeListeners.pop();this.dragService.removeDragSource(e)}}destroy(){super.destroy(),this.moveElementDragListener&&this.dragService.removeDragSource(this.moveElementDragListener),this.constrainSizeToAvailableHeight(!1),this.clearResizeListeners(),this.removeResizers()}},Cw=class e extends Rm{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(),this.eFocusableElement=e,this.callbacks=t,this.callbacks={shouldStopEventPropagation:()=>!1,onTabKeyDown:e=>{if(e.defaultPrevented)return;const t=this.focusService.findNextFocusableElement(this.eFocusableElement,!1,e.shiftKey);t&&(t.focus(),e.preventDefault())},...t}}wireBeans(e){this.focusService=e.focusService}postConstruct(){this.eFocusableElement.classList.add(e.FOCUS_MANAGED_CLASS),this.addKeyDownListeners(this.eFocusableElement),this.callbacks.onFocusIn&&this.addManagedElementListeners(this.eFocusableElement,{focusin:this.callbacks.onFocusIn}),this.callbacks.onFocusOut&&this.addManagedElementListeners(this.eFocusableElement,{focusout:this.callbacks.onFocusOut})}addKeyDownListeners(e){this.addManagedElementListeners(e,{keydown:e=>{e.defaultPrevented||wm(e)||(this.callbacks.shouldStopEventPropagation(e)?Cm(e):e.key===dC.TAB?this.callbacks.onTabKeyDown(e):this.callbacks.handleKeyDown&&this.callbacks.handleKeyDown(e))}})}};Cw.FOCUS_MANAGED_CLASS="ag-focus-managed";var ww=Cw,bw={applyFilter:"Apply",clearFilter:"Clear",resetFilter:"Reset",cancelFilter:"Cancel",textFilter:"Text Filter",numberFilter:"Number Filter",dateFilter:"Date Filter",setFilter:"Set Filter",filterOoo:"Filter...",empty:"Choose one",equals:"Equals",notEqual:"Does not equal",lessThan:"Less than",greaterThan:"Greater than",inRange:"Between",inRangeStart:"From",inRangeEnd:"To",lessThanOrEqual:"Less than or equal to",greaterThanOrEqual:"Greater than or equal to",contains:"Contains",notContains:"Does not contain",startsWith:"Begins with",endsWith:"Ends with",blank:"Blank",notBlank:"Not blank",before:"Before",after:"After",andCondition:"AND",orCondition:"OR",dateFormatOoo:"yyyy-mm-dd"};function Sw(e,t){return Ew(e)?(null!=e.debounceMs&&nf("debounceMs is ignored when apply button is present"),0):null!=e.debounceMs?e.debounceMs:t}function Ew(e){return!!e.buttons&&e.buttons.indexOf("apply")>=0}var Rw=class extends Xy{constructor(e){super(),this.filterNameKey=e,this.applyActive=!1,this.hidePopup=null,this.debouncePending=!1,this.appliedModel=null,this.eFilterBody=qy,this.buttonListeners=[]}wireBeans(e){this.rowModel=e.rowModel}postConstruct(){this.resetTemplate(),this.createManagedBean(new ww(this.getFocusableElement(),{handleKeyDown:this.handleKeyDown.bind(this)})),this.positionableFeature=new yw(this.getPositionableElement(),{forcePopupParentAsOffsetParent:!0}),this.createBean(this.positionableFeature)}handleKeyDown(e){}getFilterTitle(){return this.translate(this.filterNameKey)}isFilterActive(){return!!this.appliedModel}resetTemplate(e){let t=this.getGui();t&&t.removeEventListener("submit",this.onFormSubmit);const o=`\n            <form class="ag-filter-wrapper">\n                <div class="ag-filter-body-wrapper ag-${this.getCssIdentifier()}-body-wrapper" data-ref="eFilterBody">\n                    ${this.createBodyTemplate()}\n                </div>\n            </form>`;this.setTemplate(o,this.getAgComponents(),e),t=this.getGui(),t&&t.addEventListener("submit",this.onFormSubmit)}isReadOnly(){return!!this.providedFilterParams.readOnly}init(e){this.setParams(e),this.resetUiToDefaults(!0).then((()=>{this.updateUiVisibility(),this.setupOnBtApplyDebounce()}))}setParams(e){this.providedFilterParams=e,this.applyActive=Ew(e),this.resetButtonsPanel(e)}updateParams(e){this.providedFilterParams=e,this.applyActive=Ew(e),this.resetUiToActiveModel(this.getModel(),(()=>{this.updateUiVisibility(),this.setupOnBtApplyDebounce()}))}resetButtonsPanel(e,t){const{buttons:o,readOnly:n}=t??{},{buttons:i,readOnly:r}=e;if(n===r&&bf(o,i))return;const s=i&&i.length>0&&!this.isReadOnly();if(this.eButtonsPanel?(_y(this.eButtonsPanel),this.buttonListeners.forEach((e=>e())),this.buttonListeners=[]):s&&(this.eButtonsPanel=document.createElement("div"),this.eButtonsPanel.classList.add("ag-filter-apply-panel")),!s)return void(this.eButtonsPanel&&My(this.eButtonsPanel));const a=document.createDocumentFragment(),l=e=>{let t,o;switch(e){case"apply":t=this.translate("applyFilter"),o=e=>this.onBtApply(!1,!1,e);break;case"clear":t=this.translate("clearFilter"),o=()=>this.onBtClear();break;case"reset":t=this.translate("resetFilter"),o=()=>this.onBtReset();break;case"cancel":t=this.translate("cancelFilter"),o=e=>{this.onBtCancel(e)};break;default:return void nf("Unknown button type specified")}const n=Ny(`<button\n                    type="${"apply"===e?"submit":"button"}"\n                    data-ref="${e}FilterButton"\n                    class="ag-button ag-standard-button ag-filter-apply-panel-button"\n                >${t}\n                </button>`);this.buttonListeners.push(...this.addManagedElementListeners(n,{click:o})),a.append(n)};i.forEach((e=>l(e))),this.eButtonsPanel.append(a),this.getGui().appendChild(this.eButtonsPanel)}getDefaultDebounceMs(){return 0}setupOnBtApplyDebounce(){const e=Sw(this.providedFilterParams,this.getDefaultDebounceMs()),t=df(this.checkApplyDebounce.bind(this),e);this.onBtApplyDebounce=()=>{this.debouncePending=!0,t()}}checkApplyDebounce(){this.debouncePending&&(this.debouncePending=!1,this.onBtApply())}getModel(){return this.appliedModel?this.appliedModel:null}setModel(e){return(null!=e?this.setModelIntoUi(e):this.resetUiToDefaults()).then((()=>{this.updateUiVisibility(),this.applyModel("api")}))}onBtCancel(e){this.resetUiToActiveModel(this.getModel(),(()=>{this.handleCancelEnd(e)}))}handleCancelEnd(e){this.providedFilterParams.closeOnApply&&this.close(e)}resetUiToActiveModel(e,t){const o=()=>{this.onUiChanged(!1,"prevent"),t?.()};null!=e?this.setModelIntoUi(e).then(o):this.resetUiToDefaults().then(o)}onBtClear(){this.resetUiToDefaults().then((()=>this.onUiChanged()))}onBtReset(){this.onBtClear(),this.onBtApply()}applyModel(){const e=this.getModelFromUi();if(!this.isModelValid(e))return!1;const t=this.appliedModel;return this.appliedModel=e,!this.areModelsEqual(t,e)}isModelValid(e){return!0}onFormSubmit(e){e.preventDefault()}onBtApply(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=arguments.length>2?arguments[2]:void 0;if(o&&o.preventDefault(),this.applyModel(t?"rowDataUpdated":"ui")){const o="columnFilter";this.providedFilterParams.filterChangedCallback({afterFloatingFilter:e,afterDataChange:t,source:o})}const{closeOnApply:n}=this.providedFilterParams;n&&this.applyActive&&!e&&!t&&this.close(o)}onNewRowsLoaded(){}close(e){if(!this.hidePopup)return;const t=e,o=t&&t.key;let n;"Enter"!==o&&"Space"!==o||(n={keyboardEvent:t}),this.hidePopup(n),this.hidePopup=null}onUiChanged(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;if(this.updateUiVisibility(),this.providedFilterParams.filterModifiedCallback(),this.applyActive&&!this.isReadOnly()){const e=this.isModelValid(this.getModelFromUi()),t=this.queryForHtmlElement('[data-ref="applyFilterButton"]');t&&by(t,!e)}e&&!t||"immediately"===t?this.onBtApply(e):(this.applyActive||t)&&"debounce"!==t||this.onBtApplyDebounce()}afterGuiAttached(e){e&&(this.hidePopup=e.hidePopup),this.refreshFilterResizer(e?.container)}refreshFilterResizer(e){if(!this.positionableFeature||"toolPanel"===e)return;const t="floatingFilter"===e||"columnFilter"===e,{positionableFeature:o,gos:n}=this;t?(o.restoreLastSize(),o.setResizable(n.get("enableRtl")?{bottom:!0,bottomLeft:!0,left:!0}:{bottom:!0,bottomRight:!0,right:!0})):(this.positionableFeature.removeSizeFromEl(),this.positionableFeature.setResizable(!1)),this.positionableFeature.constrainSizeToAvailableHeight(!0)}afterGuiDetached(){this.checkApplyDebounce(),this.positionableFeature&&this.positionableFeature.constrainSizeToAvailableHeight(!1)}refresh(e){const t=this.providedFilterParams;return this.providedFilterParams=e,this.resetButtonsPanel(e,t),!0}destroy(){const e=this.getGui();e&&e.removeEventListener("submit",this.onFormSubmit),this.hidePopup=null,this.positionableFeature&&(this.positionableFeature=this.destroyBean(this.positionableFeature)),this.appliedModel=null,super.destroy()}translate(e){return this.localeService.getLocaleTextFunc()(e,bw[e])}getCellValue(e){return this.providedFilterParams.getValue(e)}getPositionableElement(){return this.eFilterBody}},Pw=class extends fC{constructor(e){super(e,"ag-radio-button","radio")}isSelected(){return this.eInput.checked}toggle(){this.eInput.disabled||this.isSelected()||this.setValue(!0)}addInputListeners(){super.addInputListeners(),this.addManagedEventListeners({checkboxChanged:this.onChange.bind(this)})}onChange(e){e.selected&&e.name&&this.eInput.name&&this.eInput.name===e.name&&e.id&&this.eInput.id!==e.id&&this.setValue(!1,!0)}},Ow=class extends Xy{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];super(`<div class="ag-list ag-${e}-list" role="listbox"></div>`),this.cssIdentifier=e,this.unFocusable=t,this.activeClass="ag-active-item",this.options=[],this.itemEls=[]}postConstruct(){const e=this.getGui();this.addManagedElementListeners(e,{mouseleave:()=>this.clearHighlighted()}),this.unFocusable||this.addManagedElementListeners(e,{keydown:this.handleKeyDown.bind(this)})}handleKeyDown(e){const t=e.key;switch(t){case dC.ENTER:if(this.highlightedEl){const e=this.itemEls.indexOf(this.highlightedEl);this.setValueByIndex(e)}else this.setValue(this.getValue());break;case dC.DOWN:case dC.UP:e.preventDefault(),this.navigate(t);break;case dC.PAGE_DOWN:case dC.PAGE_UP:case dC.PAGE_HOME:case dC.PAGE_END:e.preventDefault(),this.navigateToPage(t)}}navigate(e){const t=e===dC.DOWN;let o;if(this.highlightedEl){let e=this.itemEls.indexOf(this.highlightedEl)+(t?1:-1);e=Math.min(Math.max(e,0),this.itemEls.length-1),o=this.itemEls[e]}else o=this.itemEls[t?0:this.itemEls.length-1];this.highlightItem(o)}navigateToPage(e){if(!this.highlightedEl||0===this.itemEls.length)return;const t=this.itemEls.indexOf(this.highlightedEl),o=this.options.length-1,n=this.itemEls[0].clientHeight,i=Math.floor(this.getGui().clientHeight/n);let r=-1;e===dC.PAGE_HOME?r=0:e===dC.PAGE_END?r=o:e===dC.PAGE_DOWN?r=Math.min(t+i,o):e===dC.PAGE_UP&&(r=Math.max(t-i,0)),-1!==r&&this.highlightItem(this.itemEls[r])}addOptions(e){return e.forEach((e=>this.addOption(e))),this}addOption(e){const{value:t,text:o}=e,n=o||t;return this.options.push({value:t,text:n}),this.renderOption(t,n),this.updateIndices(),this}clearOptions(){this.options=[],this.reset(!0),this.itemEls.forEach((e=>{My(e)})),this.itemEls=[]}updateIndices(){const e=this.getGui().querySelectorAll(".ag-list-item");e.forEach(((t,o)=>{var n,i;!function(e,t){Uv(e,"posinset",t)}(t,o+1),n=t,i=e.length,Uv(n,"setsize",i)}))}renderOption(e,t){const o=Nf(this.gos),n=o.createElement("div");Yv(n,"option"),n.classList.add("ag-list-item",`ag-${this.cssIdentifier}-list-item`);const i=o.createElement("span");n.appendChild(i),i.textContent=t,this.unFocusable||(n.tabIndex=-1),this.itemEls.push(n),this.addManagedListeners(n,{mouseover:()=>this.highlightItem(n),mousedown:t=>{t.preventDefault(),t.stopPropagation(),this.setValue(e)}}),this.createManagedBean(new Ky({getTooltipValue:()=>t,getGui:()=>n,getLocation:()=>"UNKNOWN",shouldDisplayTooltip:()=>i.scrollWidth>i.clientWidth})),this.getGui().appendChild(n)}setValue(e,t){if(this.value===e)return this.fireItemSelected(),this;if(null==e)return this.reset(t),this;const o=this.options.findIndex((t=>t.value===e));if(-1!==o){const e=this.options[o];this.value=e.value,this.displayValue=e.text,this.highlightItem(this.itemEls[o]),t||this.fireChangeEvent()}return this}setValueByIndex(e){return this.setValue(this.options[e].value)}getValue(){return this.value}getDisplayValue(){return this.displayValue}refreshHighlighted(){this.clearHighlighted();const e=this.options.findIndex((e=>e.value===this.value));-1!==e&&this.highlightItem(this.itemEls[e])}reset(e){this.value=null,this.displayValue=null,this.clearHighlighted(),e||this.fireChangeEvent()}highlightItem(e){if(!Ly(e))return;this.clearHighlighted(),this.highlightedEl=e,this.highlightedEl.classList.add(this.activeClass),sy(this.highlightedEl,!0);const t=this.getGui(),{scrollTop:o,clientHeight:n}=t,{offsetTop:i,offsetHeight:r}=e;(i+r>o+n||i<o)&&this.highlightedEl.scrollIntoView({block:"nearest"}),this.unFocusable||this.highlightedEl.focus()}clearHighlighted(){this.highlightedEl&&Ly(this.highlightedEl)&&(this.highlightedEl.classList.remove(this.activeClass),sy(this.highlightedEl,!1),this.highlightedEl=null)}fireChangeEvent(){this.dispatchLocalEvent({type:"fieldValueChanged"}),this.fireItemSelected()}fireItemSelected(){this.dispatchLocalEvent({type:"selectedItem"})}},xw=class extends pC{constructor(e){if(super(e,e?.template||'\n            <div class="ag-picker-field" role="presentation">\n                <div data-ref="eLabel"></div>\n                <div data-ref="eWrapper" class="ag-wrapper ag-picker-field-wrapper ag-picker-collapsed">\n                    <div data-ref="eDisplayField" class="ag-picker-field-display"></div>\n                    <div data-ref="eIcon" class="ag-picker-field-icon" aria-hidden="true"></div>\n                </div>\n            </div>',e?.agComponents||[],e?.className),this.isPickerDisplayed=!1,this.skipClick=!1,this.pickerGap=4,this.hideCurrentPicker=null,this.eLabel=qy,this.eWrapper=qy,this.eDisplayField=qy,this.eIcon=qy,this.ariaRole=e?.ariaRole,this.onPickerFocusIn=this.onPickerFocusIn.bind(this),this.onPickerFocusOut=this.onPickerFocusOut.bind(this),!e)return;const{pickerGap:t,maxPickerHeight:o,variableWidth:n,minPickerWidth:i,maxPickerWidth:r}=e;null!=t&&(this.pickerGap=t),this.variableWidth=!!n,null!=o&&this.setPickerMaxHeight(o),null!=i&&this.setPickerMinWidth(i),null!=r&&this.setPickerMaxWidth(r)}wireBeans(e){this.popupService=e.popupService}postConstruct(){super.postConstruct(),this.setupAria();const e=`ag-${this.getCompId()}-display`;this.eDisplayField.setAttribute("id",e);const t=this.getAriaElement();this.addManagedElementListeners(t,{keydown:this.onKeyDown.bind(this)}),this.addManagedElementListeners(this.eLabel,{mousedown:this.onLabelOrWrapperMouseDown.bind(this)}),this.addManagedElementListeners(this.eWrapper,{mousedown:this.onLabelOrWrapperMouseDown.bind(this)});const{pickerIcon:o,inputWidth:n}=this.config;if(o){const e=Jy(o,this.gos);e&&this.eIcon.appendChild(e)}null!=n&&this.setInputWidth(n)}setupAria(){const e=this.getAriaElement();e.setAttribute("tabindex",this.gos.get("tabIndex").toString()),Jv(e,!1),this.ariaRole&&Yv(e,this.ariaRole)}onLabelOrWrapperMouseDown(e){if(e){const t=this.getFocusableElement();if(t!==this.eWrapper&&e?.target===t)return;e.preventDefault(),this.getFocusableElement().focus()}this.skipClick?this.skipClick=!1:this.isDisabled()||(this.isPickerDisplayed?this.hidePicker():this.showPicker())}onKeyDown(e){switch(e.key){case dC.UP:case dC.DOWN:case dC.ENTER:case dC.SPACE:e.preventDefault(),this.onLabelOrWrapperMouseDown();break;case dC.ESCAPE:this.isPickerDisplayed&&(e.preventDefault(),e.stopPropagation(),this.hideCurrentPicker&&this.hideCurrentPicker())}}showPicker(){this.isPickerDisplayed=!0,this.pickerComponent||(this.pickerComponent=this.createPickerComponent());const e=this.pickerComponent.getGui();e.addEventListener("focusin",this.onPickerFocusIn),e.addEventListener("focusout",this.onPickerFocusOut),this.hideCurrentPicker=this.renderAndPositionPicker(),this.toggleExpandedStyles(!0)}renderAndPositionPicker(){const e=this.pickerComponent.getGui();this.gos.get("suppressScrollWhenPopupsAreOpen")||([this.destroyMouseWheelFunc]=this.addManagedEventListeners({bodyScroll:()=>{this.hidePicker()}}));const t=this.localeService.getLocaleTextFunc(),{pickerAriaLabelKey:o,pickerAriaLabelValue:n,modalPicker:i=!0}=this.config,r={modal:i,eChild:e,closeOnEsc:!0,closedCallback:()=>{const e=Hf(this.gos);this.beforeHidePicker(),e&&this.isAlive()&&this.getFocusableElement().focus()},ariaLabel:t(o,n),anchorToElement:this.eWrapper};e.style.position="absolute";const s=this.popupService.addPopup(r),{maxPickerHeight:a,minPickerWidth:l,maxPickerWidth:c,variableWidth:u}=this;u?(l&&(e.style.minWidth=l),e.style.width=Hy(xy(this.eWrapper)),c&&(e.style.maxWidth=c)):ky(e,c??xy(this.eWrapper));const d=a??`${Ry(this.popupService.getPopupParent())}px`;return e.style.setProperty("max-height",d),this.alignPickerToComponent(),s.hideFunc}alignPickerToComponent(){if(!this.pickerComponent)return;const{pickerType:e}=this.config,{pickerGap:t}=this,o=this.gos.get("enableRtl")?"right":"left";this.popupService.positionPopupByComponent({type:e,eventSource:this.eWrapper,ePopup:this.pickerComponent.getGui(),position:"under",alignSide:o,keepWithinBounds:!0,nudgeY:t})}beforeHidePicker(){this.destroyMouseWheelFunc&&(this.destroyMouseWheelFunc(),this.destroyMouseWheelFunc=void 0),this.toggleExpandedStyles(!1);const e=this.pickerComponent.getGui();e.removeEventListener("focusin",this.onPickerFocusIn),e.removeEventListener("focusout",this.onPickerFocusOut),this.isPickerDisplayed=!1,this.pickerComponent=void 0,this.hideCurrentPicker=null}toggleExpandedStyles(e){if(!this.isAlive())return;Jv(this.getAriaElement(),e),this.eWrapper.classList.toggle("ag-picker-expanded",e),this.eWrapper.classList.toggle("ag-picker-collapsed",!e)}onPickerFocusIn(){this.togglePickerHasFocus(!0)}onPickerFocusOut(e){this.pickerComponent?.getGui().contains(e.relatedTarget)||this.togglePickerHasFocus(!1)}togglePickerHasFocus(e){this.pickerComponent&&this.eWrapper.classList.toggle("ag-picker-has-focus",e)}hidePicker(){this.hideCurrentPicker&&this.hideCurrentPicker()}setInputWidth(e){return ky(this.eWrapper,e),this}getFocusableElement(){return this.eWrapper}setPickerGap(e){return this.pickerGap=e,this}setPickerMinWidth(e){return"number"===typeof e&&(e=`${e}px`),this.minPickerWidth=null==e?void 0:e,this}setPickerMaxWidth(e){return"number"===typeof e&&(e=`${e}px`),this.maxPickerWidth=null==e?void 0:e,this}setPickerMaxHeight(e){return"number"===typeof e&&(e=`${e}px`),this.maxPickerHeight=null==e?void 0:e,this}destroy(){this.hidePicker(),super.destroy()}},Tw=class extends xw{constructor(e){super({pickerAriaLabelKey:"ariaLabelSelectField",pickerAriaLabelValue:"Select Field",pickerType:"ag-list",className:"ag-select",pickerIcon:"smallDown",ariaRole:"combobox",...e})}postConstruct(){super.postConstruct(),this.createListComponent(),this.eWrapper.tabIndex=this.gos.get("tabIndex");const{options:e,value:t,placeholder:o}=this.config;null!=e&&this.addOptions(e),null!=t&&this.setValue(t,!0),o&&null==t&&(this.eDisplayField.textContent=o),this.addManagedElementListeners(this.eWrapper,{focusout:this.onWrapperFocusOut.bind(this)})}onWrapperFocusOut(e){this.eWrapper.contains(e.relatedTarget)||this.hidePicker()}createListComponent(){this.listComponent=this.createBean(new Ow("select",!0)),this.listComponent.setParentComponent(this);const e=this.listComponent.getAriaElement(),t=`ag-select-list-${this.listComponent.getCompId()}`;var o,n;e.setAttribute("id",t),zv(o=this.getAriaElement(),"controls",(n=e).id),Xv(n,o.id),this.listComponent.addManagedListeners(this.listComponent,{selectedItem:()=>{this.hidePicker(),this.dispatchLocalEvent({type:"selectedItem"})}}),this.listComponent.addManagedListeners(this.listComponent,{fieldValueChanged:()=>{this.listComponent&&(this.setValue(this.listComponent.getValue(),!1,!0),this.hidePicker())}})}createPickerComponent(){return this.listComponent}onKeyDown(e){const{key:t}=e;switch(t===dC.TAB&&this.hidePicker(),t){case dC.ENTER:case dC.UP:case dC.DOWN:case dC.PAGE_UP:case dC.PAGE_DOWN:case dC.PAGE_HOME:case dC.PAGE_END:e.preventDefault(),this.isPickerDisplayed?this.listComponent?.handleKeyDown(e):super.onKeyDown(e);break;case dC.ESCAPE:super.onKeyDown(e);break;case dC.SPACE:this.isPickerDisplayed?e.preventDefault():super.onKeyDown(e)}}showPicker(){this.listComponent&&(super.showPicker(),this.listComponent.refreshHighlighted())}addOptions(e){return e.forEach((e=>this.addOption(e))),this}addOption(e){return this.listComponent.addOption(e),this}clearOptions(){return this.listComponent?.clearOptions(),this}setValue(e,t,o){if(this.value===e||!this.listComponent)return this;o||this.listComponent.setValue(e,!0);if(this.listComponent.getValue()===this.getValue())return this;let n=this.listComponent.getDisplayValue();return null==n&&this.config.placeholder&&(n=this.config.placeholder),this.eDisplayField.textContent=n,this.setTooltip({newTooltipText:n??null,shouldDisplayTooltip:()=>this.eDisplayField.scrollWidth>this.eDisplayField.clientWidth}),super.setValue(e,t)}destroy(){this.listComponent&&(this.listComponent=this.destroyBean(this.listComponent)),super.destroy()}},Dw={selector:"AG-SELECT",component:Tw},Aw=class{constructor(){this.customFilterOptions={}}init(e,t){this.filterOptions=e.filterOptions||t,this.mapCustomOptions(),this.selectDefaultItem(e)}getFilterOptions(){return this.filterOptions}mapCustomOptions(){this.filterOptions&&this.filterOptions.forEach((e=>{if("string"===typeof e)return;[["displayKey"],["displayName"],["predicate","test"]].every((t=>!!t.some((t=>null!=e[t]))||(nf(`ignoring FilterOptionDef as it doesn't contain one of '${t}'`),!1)))?this.customFilterOptions[e.displayKey]=e:this.filterOptions=this.filterOptions.filter((t=>t===e))||[]}))}selectDefaultItem(e){if(e.defaultOption)this.defaultOption=e.defaultOption;else if(this.filterOptions.length>=1){const e=this.filterOptions[0];"string"===typeof e?this.defaultOption=e:e.displayKey?this.defaultOption=e.displayKey:nf("invalid FilterOptionDef supplied as it doesn't contain a 'displayKey'")}else nf("no filter options for filter")}getDefaultOption(){return this.defaultOption}getCustomOption(e){return this.customFilterOptions[e]}},Fw=class extends Rw{constructor(){super(...arguments),this.eTypes=[],this.eJoinOperatorPanels=[],this.eJoinOperatorsAnd=[],this.eJoinOperatorsOr=[],this.eConditionBodies=[],this.listener=()=>this.onUiChanged(),this.lastUiCompletePosition=null,this.joinOperatorId=0}getNumberOfInputs(e){const t=this.optionsFactory.getCustomOption(e);if(t){const{numberOfInputs:e}=t;return null!=e?e:1}return e&&["empty","notBlank","blank"].indexOf(e)>=0?0:"inRange"===e?2:1}onFloatingFilterChanged(e,t){this.setTypeFromFloatingFilter(e),this.setValueFromFloatingFilter(t),this.onUiChanged(!0)}setTypeFromFloatingFilter(e){this.eTypes.forEach(((t,o)=>{0===o?t.setValue(e,!0):t.setValue(this.optionsFactory.getDefaultOption(),!0)}))}getModelFromUi(){const e=this.getUiCompleteConditions();return 0===e.length?null:this.maxNumConditions>1&&e.length>1?{filterType:this.getFilterType(),operator:this.getJoinOperator(),conditions:e}:e[0]}getConditionTypes(){return this.eTypes.map((e=>e.getValue()))}getConditionType(e){return this.eTypes[e].getValue()}getJoinOperator(){return 0===this.eJoinOperatorsOr.length?this.defaultJoinOperator:!0===this.eJoinOperatorsOr[0].getValue()?"OR":"AND"}areModelsEqual(e,t){if(!e&&!t)return!0;if(!e&&t||e&&!t)return!1;const o=!e.operator,n=!t.operator;if(!o&&n||o&&!n)return!1;let i;if(o){const o=e,n=t;i=this.areSimpleModelsEqual(o,n)}else{const o=e,n=t;i=o.operator===n.operator&&cm(o.conditions,n.conditions,((e,t)=>this.areSimpleModelsEqual(e,t)))}return i}shouldRefresh(e){const t=this.getModel(),o=t?t.conditions??[t]:null,n=e.filterOptions?.map((e=>"string"===typeof e?e:e.displayKey))??this.getDefaultFilterOptions();return!(o&&!o.every((e=>void 0!==n.find((t=>t===e.type)))))&&!("number"===typeof e.maxNumConditions&&o&&o.length>e.maxNumConditions)}refresh(e){if(!this.shouldRefresh(e))return!1;return!!super.refresh(e)&&(this.setParams(e),this.removeConditionsAndOperators(0),this.createOption(),this.setModel(this.getModel()),!0)}setModelIntoUi(e){if(e.operator){const t=e;let o=t.conditions;null==o&&(o=[],nf("Filter model is missing 'conditions'"));const n=this.validateAndUpdateConditions(o),i=this.getNumConditions();if(n<i)this.removeConditionsAndOperators(n);else if(n>i)for(let e=i;e<n;e++)this.createJoinOperatorPanel(),this.createOption();const r="OR"===t.operator;this.eJoinOperatorsAnd.forEach((e=>e.setValue(!r,!0))),this.eJoinOperatorsOr.forEach((e=>e.setValue(r,!0))),o.forEach(((e,t)=>{this.eTypes[t].setValue(e.type,!0),this.setConditionIntoUi(e,t)}))}else{const t=e;this.getNumConditions()>1&&this.removeConditionsAndOperators(1),this.eTypes[0].setValue(t.type,!0),this.setConditionIntoUi(t,0)}return this.lastUiCompletePosition=this.getNumConditions()-1,this.createMissingConditionsAndOperators(),this.onUiChanged(),TC.resolve()}validateAndUpdateConditions(e){let t=e.length;return t>this.maxNumConditions&&(e.splice(this.maxNumConditions),nf('Filter Model contains more conditions than "filterParams.maxNumConditions". Additional conditions have been ignored.'),t=this.maxNumConditions),t}doesFilterPass(e){const t=this.getModel();if(null==t)return!0;const{operator:o}=t,n=[];if(o){const e=t;n.push(...e.conditions??[])}else n.push(t);return n[o&&"OR"===o?"some":"every"]((t=>this.individualConditionPasses(e,t)))}setParams(e){super.setParams(e),this.setNumConditions(e),this.defaultJoinOperator=this.getDefaultJoinOperator(e.defaultJoinOperator),this.filterPlaceholder=e.filterPlaceholder,this.optionsFactory=new Aw,this.optionsFactory.init(e,this.getDefaultFilterOptions()),this.createFilterListOptions(),this.createOption(),this.createMissingConditionsAndOperators(),this.isReadOnly()&&this.eFilterBody.setAttribute("tabindex","-1")}setNumConditions(e){this.maxNumConditions=e.maxNumConditions??2,this.maxNumConditions<1&&(nf('"filterParams.maxNumConditions" must be greater than or equal to zero.'),this.maxNumConditions=1),this.numAlwaysVisibleConditions=e.numAlwaysVisibleConditions??1,this.numAlwaysVisibleConditions<1&&(nf('"filterParams.numAlwaysVisibleConditions" must be greater than or equal to zero.'),this.numAlwaysVisibleConditions=1),this.numAlwaysVisibleConditions>this.maxNumConditions&&(nf('"filterParams.numAlwaysVisibleConditions" cannot be greater than "filterParams.maxNumConditions".'),this.numAlwaysVisibleConditions=this.maxNumConditions)}createOption(){const e=this.createManagedBean(new Tw);this.eTypes.push(e),e.addCssClass("ag-filter-select"),this.eFilterBody.appendChild(e.getGui());const t=this.createValueElement();this.eConditionBodies.push(t),this.eFilterBody.appendChild(t),this.putOptionsIntoDropdown(e),this.resetType(e);const o=this.getNumConditions()-1;this.forEachPositionInput(o,(e=>this.resetInput(e))),this.addChangedListeners(e,o)}createJoinOperatorPanel(){const e=document.createElement("div");this.eJoinOperatorPanels.push(e),e.classList.add("ag-filter-condition");const t=this.createJoinOperator(this.eJoinOperatorsAnd,e,"and"),o=this.createJoinOperator(this.eJoinOperatorsOr,e,"or");this.eFilterBody.appendChild(e);const n=this.eJoinOperatorPanels.length-1,i=this.joinOperatorId++;this.resetJoinOperatorAnd(t,n,i),this.resetJoinOperatorOr(o,n,i),this.isReadOnly()||(t.onValueChange(this.listener),o.onValueChange(this.listener))}createJoinOperator(e,t,o){const n=this.createManagedBean(new Pw);return e.push(n),n.addCssClass("ag-filter-condition-operator"),n.addCssClass(`ag-filter-condition-operator-${o}`),t.appendChild(n.getGui()),n}getDefaultJoinOperator(e){return"AND"===e||"OR"===e?e:"AND"}createFilterListOptions(){const e=this.optionsFactory.getFilterOptions();this.filterListOptions=e.map((e=>"string"===typeof e?this.createBoilerplateListOption(e):this.createCustomListOption(e)))}putOptionsIntoDropdown(e){this.filterListOptions.forEach((t=>{e.addOption(t)})),e.setDisabled(this.filterListOptions.length<=1)}createBoilerplateListOption(e){return{value:e,text:this.translate(e)}}createCustomListOption(e){const{displayKey:t}=e,o=this.optionsFactory.getCustomOption(e.displayKey);return{value:t,text:o?this.localeService.getLocaleTextFunc()(o.displayKey,o.displayName):this.translate(t)}}createBodyTemplate(){return""}getAgComponents(){return[]}getCssIdentifier(){return"simple-filter"}updateUiVisibility(){const e=this.getJoinOperator();this.updateNumConditions(),this.updateConditionStatusesAndValues(this.lastUiCompletePosition,e)}updateNumConditions(){let e=-1,t=!0;for(let o=0;o<this.getNumConditions();o++)this.isConditionUiComplete(o)?e=o:t=!1;if(this.shouldAddNewConditionAtEnd(t))this.createJoinOperatorPanel(),this.createOption();else{const t=this.lastUiCompletePosition??this.getNumConditions()-2;if(e<t){this.removeConditionsAndOperators(t+1);const o=e+1,n=t-o;n>0&&this.removeConditionsAndOperators(o,n),this.createMissingConditionsAndOperators()}}this.lastUiCompletePosition=e}updateConditionStatusesAndValues(e,t){this.eTypes.forEach(((t,o)=>{const n=this.isConditionDisabled(o,e);t.setDisabled(n||this.filterListOptions.length<=1),1===o&&(by(this.eJoinOperatorPanels[0],n),this.eJoinOperatorsAnd[0].setDisabled(n),this.eJoinOperatorsOr[0].setDisabled(n))})),this.eConditionBodies.forEach(((e,t)=>{wy(e,this.isConditionBodyVisible(t))}));const o="OR"===(t??this.getJoinOperator());this.eJoinOperatorsAnd.forEach((e=>{e.setValue(!o,!0)})),this.eJoinOperatorsOr.forEach((e=>{e.setValue(o,!0)})),this.forEachInput(((t,o,n,i)=>{this.setElementDisplayed(t,o<i),this.setElementDisabled(t,this.isConditionDisabled(n,e))})),this.resetPlaceholder()}shouldAddNewConditionAtEnd(e){return e&&this.getNumConditions()<this.maxNumConditions&&!this.isReadOnly()}removeConditionsAndOperators(e,t){if(e>=this.getNumConditions())return;this.removeComponents(this.eTypes,e,t),this.removeElements(this.eConditionBodies,e,t),this.removeValueElements(e,t);const o=Math.max(e-1,0);this.removeElements(this.eJoinOperatorPanels,o,t),this.removeComponents(this.eJoinOperatorsAnd,o,t),this.removeComponents(this.eJoinOperatorsOr,o,t)}removeElements(e,t,o){this.removeItems(e,t,o).forEach((e=>My(e)))}removeComponents(e,t,o){this.removeItems(e,t,o).forEach((e=>{My(e.getGui()),this.destroyBean(e)}))}removeItems(e,t,o){return null==o?e.splice(t):e.splice(t,o)}afterGuiAttached(e){if(super.afterGuiAttached(e),this.resetPlaceholder(),!e?.suppressFocus)if(this.isReadOnly())this.eFilterBody.focus();else{const e=this.getInputs(0)[0];if(!e)return;e instanceof gC&&e.getInputElement().focus()}}afterGuiDetached(){super.afterGuiDetached();const e=this.getModel();this.resetUiToActiveModel(e);let t=-1,o=-1,n=!1;const i=this.getJoinOperator();for(let s=this.getNumConditions()-1;s>=0;s--)if(this.isConditionUiComplete(s))-1===t&&(t=s,o=s);else{const e=s<t;(s>=this.numAlwaysVisibleConditions&&!this.isConditionUiComplete(s-1)||e)&&(this.removeConditionsAndOperators(s,1),n=!0,e&&o--)}let r=!1;this.getNumConditions()<this.numAlwaysVisibleConditions&&(this.createMissingConditionsAndOperators(),r=!0),this.shouldAddNewConditionAtEnd(o===this.getNumConditions()-1)&&(this.createJoinOperatorPanel(),this.createOption(),r=!0),r&&this.updateConditionStatusesAndValues(o,i),n&&this.updateJoinOperatorsDisabled(),this.lastUiCompletePosition=o}getPlaceholderText(e,t){let o=this.translate(e);if(sf(this.filterPlaceholder)){const e=this.filterPlaceholder,n=this.eTypes[t].getValue();o=e({filterOptionKey:n,filterOption:this.translate(n),placeholder:o})}else"string"===typeof this.filterPlaceholder&&(o=this.filterPlaceholder);return o}resetPlaceholder(){const e=this.localeService.getLocaleTextFunc();this.forEachInput(((t,o,n,i)=>{if(!(t instanceof gC))return;const r=0===o&&i>1?"inRangeStart":0===o?"filterOoo":"inRangeEnd",s=0===o&&i>1?e("ariaFilterFromValue","Filter from value"):0===o?e("ariaFilterValue","Filter Value"):e("ariaFilterToValue","Filter to Value");t.setInputPlaceholder(this.getPlaceholderText(r,n)),t.setInputAriaLabel(s)}))}setElementValue(e,t,o){e instanceof gC&&e.setValue(null!=t?String(t):null,!0)}setElementDisplayed(e,t){e instanceof Xy&&wy(e.getGui(),t)}setElementDisabled(e,t){e instanceof Xy&&by(e.getGui(),t)}attachElementOnChange(e,t){e instanceof gC&&e.onValueChange(t)}forEachInput(e){this.getConditionTypes().forEach(((t,o)=>{this.forEachPositionTypeInput(o,t,e)}))}forEachPositionInput(e,t){const o=this.getConditionType(e);this.forEachPositionTypeInput(e,o,t)}forEachPositionTypeInput(e,t,o){const n=this.getNumberOfInputs(t),i=this.getInputs(e);for(let r=0;r<i.length;r++){const t=i[r];null!=t&&o(t,r,e,n)}}isConditionDisabled(e,t){return!!this.isReadOnly()||0!==e&&e>t+1}isConditionBodyVisible(e){const t=this.getConditionType(e);return this.getNumberOfInputs(t)>0}isConditionUiComplete(e){if(e>=this.getNumConditions())return!1;return"empty"!==this.getConditionType(e)&&!this.getValues(e).some((e=>null==e))}getNumConditions(){return this.eTypes.length}getUiCompleteConditions(){const e=[];for(let t=0;t<this.getNumConditions();t++)this.isConditionUiComplete(t)&&e.push(this.createCondition(t));return e}createMissingConditionsAndOperators(){if(!this.isReadOnly())for(let e=this.getNumConditions();e<this.numAlwaysVisibleConditions;e++)this.createJoinOperatorPanel(),this.createOption()}resetUiToDefaults(e){return this.removeConditionsAndOperators(this.isReadOnly()?1:this.numAlwaysVisibleConditions),this.eTypes.forEach((e=>this.resetType(e))),this.eJoinOperatorsAnd.forEach(((e,t)=>this.resetJoinOperatorAnd(e,t,this.joinOperatorId+t))),this.eJoinOperatorsOr.forEach(((e,t)=>this.resetJoinOperatorOr(e,t,this.joinOperatorId+t))),this.joinOperatorId++,this.forEachInput((e=>this.resetInput(e))),this.resetPlaceholder(),this.createMissingConditionsAndOperators(),this.lastUiCompletePosition=null,e||this.onUiChanged(),TC.resolve()}resetType(e){const t=this.localeService.getLocaleTextFunc()("ariaFilteringOperator","Filtering operator");e.setValue(this.optionsFactory.getDefaultOption(),!0).setAriaLabel(t).setDisabled(this.isReadOnly()||this.filterListOptions.length<=1)}resetJoinOperatorAnd(e,t,o){this.resetJoinOperator(e,t,this.isDefaultOperator("AND"),this.translate("andCondition"),o)}resetJoinOperatorOr(e,t,o){this.resetJoinOperator(e,t,this.isDefaultOperator("OR"),this.translate("orCondition"),o)}resetJoinOperator(e,t,o,n,i){this.updateJoinOperatorDisabled(e.setValue(o,!0).setName(`ag-simple-filter-and-or-${this.getCompId()}-${i}`).setLabel(n),t)}updateJoinOperatorsDisabled(){this.eJoinOperatorsAnd.forEach(((e,t)=>this.updateJoinOperatorDisabled(e,t))),this.eJoinOperatorsOr.forEach(((e,t)=>this.updateJoinOperatorDisabled(e,t)))}updateJoinOperatorDisabled(e,t){e.setDisabled(this.isReadOnly()||t>0)}resetInput(e){this.setElementValue(e,null),this.setElementDisabled(e,this.isReadOnly())}setConditionIntoUi(e,t){const o=this.mapValuesFromModel(e);this.forEachInput(((e,n,i)=>{i===t&&this.setElementValue(e,null!=o[n]?o[n]:null)}))}setValueFromFloatingFilter(e){this.forEachInput(((t,o,n)=>{this.setElementValue(t,0===o&&0===n?e:null,!0)}))}isDefaultOperator(e){return e===this.defaultJoinOperator}addChangedListeners(e,t){this.isReadOnly()||(e.onValueChange(this.listener),this.forEachPositionInput(t,(e=>{this.attachElementOnChange(e,this.listener)})))}individualConditionPasses(e,t){const o=this.getCellValue(e.node),n=this.mapValuesFromModel(t),i=this.optionsFactory.getCustomOption(t.type),r=this.evaluateCustomFilter(i,n,o);return null!=r?r:null==o?this.evaluateNullValue(t.type):this.evaluateNonNullValue(n,o,t,e)}evaluateCustomFilter(e,t,o){if(null==e)return;const{predicate:n}=e;return null==n||t.some((e=>null==e))?void 0:n(t,o)}isBlank(e){return null==e||"string"===typeof e&&0===e.trim().length}hasInvalidInputs(){return!1}},_w=class extends Fw{setParams(e){super.setParams(e),this.scalarFilterParams=e}evaluateNullValue(e){switch(e){case"equals":if(this.scalarFilterParams.includeBlanksInEquals)return!0;break;case"notEqual":if(this.scalarFilterParams.includeBlanksInNotEqual)return!0;break;case"greaterThan":case"greaterThanOrEqual":if(this.scalarFilterParams.includeBlanksInGreaterThan)return!0;break;case"lessThan":case"lessThanOrEqual":if(this.scalarFilterParams.includeBlanksInLessThan)return!0;break;case"inRange":if(this.scalarFilterParams.includeBlanksInRange)return!0;break;case"blank":return!0;case"notBlank":return!1}return!1}evaluateNonNullValue(e,t,o){const n=this.comparator(),i=null!=e[0]?n(e[0],t):0;switch(o.type){case"equals":return 0===i;case"notEqual":return 0!==i;case"greaterThan":return i>0;case"greaterThanOrEqual":return i>=0;case"lessThan":return i<0;case"lessThanOrEqual":return i<=0;case"inRange":{const o=n(e[1],t);return this.scalarFilterParams.inRangeInclusive?i>=0&&o<=0:i>0&&o<0}case"blank":return this.isBlank(t);case"notBlank":return!this.isBlank(t);default:return nf('Unexpected type of filter "'+o.type+'", it looks like the filter was configured with incorrect Filter Options'),!0}}};function Mw(e){if(e.altKey||e.ctrlKey||e.metaKey)return!1;return 1===e.key?.length}function Iw(e,t,o,n,i){const r=n?n.getColDef().suppressKeyboardEvent:void 0;if(!r)return!1;const s=e.addGridCommonParams({event:t,editing:i,column:n,node:o,data:o.data,colDef:n.getColDef()});if(r){if(r(s))return!0}return!1}var Lw=class extends gC{constructor(e){super(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ag-text-field",arguments.length>2&&void 0!==arguments[2]?arguments[2]:"text")}postConstruct(){super.postConstruct(),this.config.allowedCharPattern&&this.preventDisallowedCharacters()}setValue(e,t){return this.eInput.value!==e&&(this.eInput.value=gf(e)?e:""),super.setValue(e,t)}setStartValue(e){this.setValue(e,!0)}preventDisallowedCharacters(){const e=new RegExp(`[${this.config.allowedCharPattern}]`);this.addManagedListeners(this.eInput,{keydown:t=>{Mw(t)&&t.key&&!e.test(t.key)&&t.preventDefault()},paste:t=>{const o=t.clipboardData?.getData("text");o&&o.split("").some((t=>!e.test(t)))&&t.preventDefault()}})}},Nw={selector:"AG-INPUT-TEXT-FIELD",component:Lw},kw=class extends Lw{constructor(e){super(e,"ag-number-field","number")}postConstruct(){super.postConstruct(),this.addManagedListeners(this.eInput,{blur:()=>{const e=parseFloat(this.eInput.value),t=isNaN(e)?"":this.normalizeValue(e.toString());this.value!==t&&this.setValue(t)},wheel:this.onWheel.bind(this)}),this.eInput.step="any";const{precision:e,min:t,max:o,step:n}=this.config;"number"===typeof e&&this.setPrecision(e),"number"===typeof t&&this.setMin(t),"number"===typeof o&&this.setMax(o),"number"===typeof n&&this.setStep(n)}onWheel(e){Vf(this.gos)===this.eInput&&e.preventDefault()}normalizeValue(e){if(""===e)return"";null!=this.precision&&(e=this.adjustPrecision(e));const t=parseFloat(e);return null!=this.min&&t<this.min?e=this.min.toString():null!=this.max&&t>this.max&&(e=this.max.toString()),e}adjustPrecision(e,t){if(null==this.precision)return e;if(t){const t=parseFloat(e).toFixed(this.precision);return parseFloat(t).toString()}const o=String(e).split(".");if(o.length>1){if(o[1].length<=this.precision)return e;if(this.precision>0)return`${o[0]}.${o[1].slice(0,this.precision)}`}return o[0]}setMin(e){return this.min===e||(this.min=e,Wy(this.eInput,"min",e)),this}setMax(e){return this.max===e||(this.max=e,Wy(this.eInput,"max",e)),this}setPrecision(e){return this.precision=e,this}setStep(e){return this.step===e||(this.step=e,Wy(this.eInput,"step",e)),this}setValue(e,t){return this.setValueOrInputValue((e=>super.setValue(e,t)),(()=>this),e)}setStartValue(e){return this.setValueOrInputValue((e=>super.setValue(e,!0)),(e=>{this.eInput.value=e}),e)}setValueOrInputValue(e,t,o){if(gf(o)){let n=this.isScientificNotation(o);if(n&&this.eInput.validity.valid)return e(o);if(!n){n=(o=this.adjustPrecision(o))!=this.normalizeValue(o)}if(n)return t(o)}return e(o)}getValue(){if(!this.eInput.validity.valid)return;const e=this.eInput.value;return this.isScientificNotation(e)?this.adjustPrecision(e,!0):super.getValue()}isScientificNotation(e){return"string"===typeof e&&e.includes("e")}},Gw={selector:"AG-INPUT-NUMBER-FIELD",component:kw},Vw=["equals","notEqual","greaterThan","greaterThanOrEqual","lessThan","lessThanOrEqual","inRange","blank","notBlank"],Hw=class{constructor(e,t,o){this.localeService=e,this.optionsFactory=t,this.valueFormatter=o}getModelAsString(e){if(!e)return null;const t=null!=e.operator,o=this.localeService.getLocaleTextFunc();if(t){const t=e,n=(t.conditions??[]).map((e=>this.getModelAsString(e))),i="AND"===t.operator?"andCondition":"orCondition";return n.join(` ${o(i,bw[i])} `)}if("blank"===e.type||"notBlank"===e.type)return o(e.type,e.type);{const t=e,n=this.optionsFactory.getCustomOption(t.type),{displayKey:i,displayName:r,numberOfInputs:s}=n||{};return i&&r&&0===s?(o(i,r),r):this.conditionToString(t,n)}}updateParams(e){this.optionsFactory=e.optionsFactory}formatValue(e){return this.valueFormatter?this.valueFormatter(e??null)??"":String(e)}},Bw=class extends Hw{conditionToString(e,t){const{numberOfInputs:o}=t||{};return"inRange"==e.type||2===o?`${this.formatValue(e.filter)}-${this.formatValue(e.filterTo)}`:null!=e.filter?this.formatValue(e.filter):`${e.type}`}};function Ww(e){const{allowedCharPattern:t}=e??{};return t??null}var jw=["contains","notContains","equals","notEqual","startsWith","endsWith","blank","notBlank"],zw=class extends Hw{conditionToString(e,t){const{numberOfInputs:o}=t||{};return"inRange"==e.type||2===o?`${e.filter}-${e.filterTo}`:null!=e.filter?`${e.filter}`:`${e.type}`}};function Uw(e){const t=e&&e.trim();return""===t?e:t}function $w(e){if("number"===typeof e)return e;if("string"===typeof e){const t=parseInt(e);if(isNaN(t))return;return t}}function Kw(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE;return o=>{const n=$w(o);if(!(null==n||n<e||n>t))return n}}function Yw(e,t){return e.toString().padStart(t,"0")}function qw(e,t,o){return"number"!==typeof e?"":e.toString().replace(".",o).replace(/(\d)(?=(\d{3})+(?!\d))/g,`$1${t}`)}function Xw(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"-";if(!e)return null;let n=[e.getFullYear(),e.getMonth()+1,e.getDate()].map((e=>Yw(e,2))).join(o);return t&&(n+=" "+[e.getHours(),e.getMinutes(),e.getSeconds()].map((e=>Yw(e,2))).join(":")),n}var Qw=e=>{if(e>3&&e<21)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd"}return"th"};function Zw(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"YYYY-MM-DD";const o=Yw(e.getFullYear(),4),n=["January","February","March","April","May","June","July","August","September","October","November","December"],i=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],r={YYYY:()=>o.slice(o.length-4,o.length),YY:()=>o.slice(o.length-2,o.length),Y:()=>`${e.getFullYear()}`,MMMM:()=>n[e.getMonth()],MMM:()=>n[e.getMonth()].slice(0,3),MM:()=>Yw(e.getMonth()+1,2),Mo:()=>`${e.getMonth()+1}${Qw(e.getMonth()+1)}`,M:()=>`${e.getMonth()+1}`,Do:()=>`${e.getDate()}${Qw(e.getDate())}`,DD:()=>Yw(e.getDate(),2),D:()=>`${e.getDate()}`,dddd:()=>i[e.getDay()],ddd:()=>i[e.getDay()].slice(0,3),dd:()=>i[e.getDay()].slice(0,2),do:()=>`${e.getDay()}${Qw(e.getDay())}`,d:()=>`${e.getDay()}`},s=new RegExp(Object.keys(r).join("|"),"g");return t.replace(s,(e=>e in r?r[e]():e))}function Jw(e){if(!e)return null;const[t,o]=e.split(" ");if(!t)return null;const n=t.split("-").map((e=>parseInt(e,10)));if(3!==n.filter((e=>!isNaN(e))).length)return null;const[i,r,s]=n,a=new Date(i,r-1,s);if(a.getFullYear()!==i||a.getMonth()!==r-1||a.getDate()!==s)return null;if(!o||"00:00:00"===o)return a;const[l,c,u]=o.split(":").map((e=>parseInt(e,10)));return l>=0&&l<24&&a.setHours(l),c>=0&&c<60&&a.setMinutes(c),u>=0&&u<60&&a.setSeconds(u),a}var eb=class{constructor(e,t,o,n,i){this.alive=!0,this.context=e,this.eParent=n;t.getDateCompDetails(o).newAgStackInstance().then((t=>{this.alive?(this.dateComp=t,t&&(n.appendChild(t.getGui()),t.afterGuiAttached&&t.afterGuiAttached(),this.tempValue&&t.setDate(this.tempValue),null!=this.disabled&&this.setDateCompDisabled(this.disabled),i?.(this))):e.destroyBean(t)}))}destroy(){this.alive=!1,this.dateComp=this.context.destroyBean(this.dateComp)}getDate(){return this.dateComp?this.dateComp.getDate():this.tempValue}setDate(e){this.dateComp?this.dateComp.setDate(e):this.tempValue=e}setDisabled(e){this.dateComp?this.setDateCompDisabled(e):this.disabled=e}setDisplayed(e){wy(this.eParent,e)}setInputPlaceholder(e){this.dateComp&&this.dateComp.setInputPlaceholder&&this.dateComp.setInputPlaceholder(e)}setInputAriaLabel(e){this.dateComp&&this.dateComp.setInputAriaLabel&&this.dateComp.setInputAriaLabel(e)}afterGuiAttached(e){this.dateComp&&"function"===typeof this.dateComp.afterGuiAttached&&this.dateComp.afterGuiAttached(e)}updateParams(e){let t=!1;if(this.dateComp?.refresh&&"function"===typeof this.dateComp.refresh){null!==this.dateComp.refresh(e)&&(t=!0)}if(!t&&this.dateComp?.onParamsUpdated&&"function"===typeof this.dateComp.onParamsUpdated){null!==this.dateComp.onParamsUpdated(e)&&nf("Custom date component method 'onParamsUpdated' is deprecated. Use 'refresh' instead.")}}setDateCompDisabled(e){null!=this.dateComp&&null!=this.dateComp.setDisabled&&this.dateComp.setDisabled(e)}},tb=["equals","notEqual","lessThan","greaterThan","inRange","blank","notBlank"],ob=class extends Hw{constructor(e,t,o){super(t,o),this.dateFilterParams=e}conditionToString(e,t){const{type:o}=e,{numberOfInputs:n}=t||{},i="inRange"==o||2===n,r=Jw(e.dateFrom),s=Jw(e.dateTo),a=this.dateFilterParams.inRangeFloatingFilterDateFormat;if(i){return`${null!==r?Zw(r,a):"null"}-${null!==s?Zw(s,a):"null"}`}return null!=r?Zw(r,a):`${o}`}updateParams(e){super.updateParams(e),this.dateFilterParams=e.dateFilterParams}},nb=1/0,ib=class extends Rm{constructor(e,t,o,n){super(),this.columnOrGroup=e,this.columnOrGroup=e,this.eCell=t,this.ariaEl=this.eCell.querySelector("[role=columnheader]")||this.eCell,this.colsSpanning=n,this.beans=o}setColsSpanning(e){this.colsSpanning=e,this.onLeftChanged()}getColumnOrGroup(){return this.beans.gos.get("enableRtl")&&this.colsSpanning?lm(this.colsSpanning):this.columnOrGroup}postConstruct(){const e=this.onLeftChanged.bind(this);this.addManagedListeners(this.columnOrGroup,{leftChanged:e}),this.setLeftFirstTime(),this.addManagedEventListeners({displayedColumnsWidthChanged:e}),this.addManagedPropertyListener("domLayout",e)}setLeftFirstTime(){const e=this.beans.gos.get("suppressColumnMoveAnimation"),t=gf(this.columnOrGroup.getOldLeft());this.beans.columnAnimationService.isActive()&&t&&!e?this.animateInLeft():this.onLeftChanged()}animateInLeft(){const e=this.getColumnOrGroup(),t=e.getLeft(),o=e.getOldLeft(),n=this.modifyLeftForPrintLayout(e,o),i=this.modifyLeftForPrintLayout(e,t);this.setLeft(n),this.actualLeft=i,this.beans.columnAnimationService.executeNextVMTurn((()=>{this.actualLeft===i&&this.setLeft(i)}))}onLeftChanged(){const e=this.getColumnOrGroup(),t=e.getLeft();this.actualLeft=this.modifyLeftForPrintLayout(e,t),this.setLeft(this.actualLeft)}modifyLeftForPrintLayout(e,t){if(!xf(this.beans.gos,"print"))return t;if("left"===e.getPinned())return t;const o=this.beans.visibleColsService.getColsLeftWidth();if("right"===e.getPinned()){return o+this.beans.visibleColsService.getBodyContainerWidth()+t}return o+t}setLeft(e){if(gf(e)&&(this.eCell.style.left=`${e}px`),yv(this.columnOrGroup)){const e=this.columnOrGroup.getLeafColumns();if(!e.length)return;e.length>1&&(t=this.ariaEl,o=e.length,Uv(t,"colspan",o))}var t,o}};function rb(e,t,o,n){return ff(e)?[]:ab(e.headerClass,e,t,o,n)}function sb(e,t,o){e.addOrRemoveCssClass("ag-column-first",o.isColAtEdge(t,"first")),e.addOrRemoveCssClass("ag-column-last",o.isColAtEdge(t,"last"))}function ab(e,t,o,n,i){if(ff(e))return[];let r;if("function"===typeof e){const s=function(e,t,o,n){return t.addGridCommonParams({colDef:e,column:o,columnGroup:n})}(t,o,n,i);r=e(s)}else r=e;return"string"===typeof r?[r]:Array.isArray(r)?[...r]:[]}var lb=0,cb=class e extends Rm{constructor(e,t,o){super(),this.resizeToggleTimeout=0,this.resizeMultiplier=1,this.resizeFeature=null,this.lastFocusEvent=null,this.dragSource=null,this.columnGroupChild=e,this.parentRowCtrl=o,this.beans=t,this.instanceId=e.getUniqueId()+"-"+lb++}wireBeans(e){this.pinnedWidthService=e.pinnedWidthService,this.focusService=e.focusService,this.userComponentFactory=e.userComponentFactory,this.ctrlsService=e.ctrlsService,this.dragAndDropService=e.dragAndDropService,this.menuService=e.menuService}postConstruct(){const e=this.refreshTabIndex.bind(this);this.addManagedPropertyListeners(["suppressHeaderFocus"],e),this.addManagedEventListeners({overlayExclusiveChanged:e})}shouldStopEventPropagation(e){const{headerRowIndex:t,column:o}=this.focusService.getFocusedHeader();return function(e,t,o,n){const i=n.getDefinition(),r=i&&i.suppressHeaderKeyboardEvent;return!!gf(r)&&!!r(e.addGridCommonParams({colDef:i,column:n,headerRowIndex:o,event:t}))}(this.gos,e,t,o)}getWrapperHasFocus(){return Vf(this.gos)===this.eGui}setGui(e,t){this.eGui=e,this.addDomData(t),t.addManagedListeners(this.beans.eventService,{displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this)}),t.addManagedElementListeners(this.eGui,{focus:this.onGuiFocus.bind(this)}),this.onDisplayedColumnsChanged(),this.refreshTabIndex()}onGuiFocus(){this.eventService.dispatchEvent({type:"headerFocused",column:this.column})}setupAutoHeight(e){const{wrapperElement:t,checkMeasuringCallback:o,compBean:n}=e,{animationFrameService:i,resizeObserverService:r,columnModel:s,gos:a}=this.beans,l=e=>{if(!this.isAlive()||!n.isAlive())return;const{paddingTop:o,paddingBottom:r,borderBottomWidth:c,borderTopWidth:u}=Ey(this.getGui()),d=o+r+c+u,h=t.offsetHeight+d;if(e<5){const o=Nf(a);if(!o||!o.contains(t)||0==h)return void i.requestAnimationFrame((()=>l(e+1)))}s.setColHeaderHeight(this.column,h)};let c,u=!1;const d=()=>{const e=this.column.isAutoHeaderHeight();e&&!u&&h(),!e&&u&&p()},h=()=>{u=!0,l(0),this.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!0),c=r.observeResize(t,(()=>l(0)))},p=()=>{u=!1,c&&c(),this.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!1),c=void 0};d(),n.addDestroyFunc((()=>p())),n.addManagedListeners(this.column,{widthChanged:()=>u&&l(0)}),n.addManagedEventListeners({sortChanged:()=>{u&&window.setTimeout((()=>l(0)))}}),o&&o(d)}onDisplayedColumnsChanged(){const{comp:e,column:t,beans:o,eGui:n}=this;e&&t&&n&&(sb(e,t,o.visibleColsService),ny(n,o.visibleColsService.getAriaColIndex(t)))}addResizeAndMoveKeyboardListeners(e){this.resizeFeature&&e.addManagedListeners(this.eGui,{keydown:this.onGuiKeyDown.bind(this),keyup:this.onGuiKeyUp.bind(this)})}refreshTabIndex(){const e=this.focusService.isHeaderFocusSuppressed();this.eGui&&Wy(this.eGui,"tabindex",e?null:"-1")}onGuiKeyDown(e){const t=Vf(this.gos),o=e.key===dC.LEFT||e.key===dC.RIGHT;if(this.isResizing&&(e.preventDefault(),e.stopImmediatePropagation()),t!==this.eGui||!e.shiftKey&&!e.altKey)return;if((this.isResizing||o)&&(e.preventDefault(),e.stopImmediatePropagation()),!o)return;const n=e.key===dC.LEFT!==this.gos.get("enableRtl"),i=ow[n?"Left":"Right"];if(e.altKey){this.isResizing=!0,this.resizeMultiplier+=1;const t=this.getViewportAdjustedResizeDiff(e);this.resizeHeader(t,e.shiftKey),this.resizeFeature?.toggleColumnResizing(!0)}else this.moveHeader(i)}getViewportAdjustedResizeDiff(e){let t=this.getResizeDiff(e);if(this.column.getPinned()){const e=this.pinnedWidthService.getPinnedLeftWidth(),o=this.pinnedWidthService.getPinnedRightWidth(),n=Py(this.ctrlsService.getGridBodyCtrl().getBodyViewportElement())-50;if(e+o+t>n){if(!(n>e+o))return 0;t=n-e-o}}return t}getResizeDiff(e){let t=e.key===dC.LEFT!==this.gos.get("enableRtl");const o=this.column.getPinned(),n=this.gos.get("enableRtl");return o&&n!==("right"===o)&&(t=!t),(t?-1:1)*this.resizeMultiplier}onGuiKeyUp(){this.isResizing&&(this.resizeToggleTimeout&&(window.clearTimeout(this.resizeToggleTimeout),this.resizeToggleTimeout=0),this.isResizing=!1,this.resizeMultiplier=1,this.resizeToggleTimeout=window.setTimeout((()=>{this.resizeFeature?.toggleColumnResizing(!1)}),150))}handleKeyDown(e){const t=this.getWrapperHasFocus();switch(e.key){case dC.PAGE_DOWN:case dC.PAGE_UP:case dC.PAGE_HOME:case dC.PAGE_END:t&&e.preventDefault()}}addDomData(t){const o=e.DOM_DATA_KEY_HEADER_CTRL;Lf(this.gos,this.eGui,o,this),t.addDestroyFunc((()=>Lf(this.gos,this.eGui,o,null)))}getGui(){return this.eGui}focus(e){return!!this.eGui&&(this.lastFocusEvent=e||null,this.eGui.focus(),!0)}getRowIndex(){return this.parentRowCtrl.getRowIndex()}getParentRowCtrl(){return this.parentRowCtrl}getPinned(){return this.parentRowCtrl.getPinned()}getColumnGroupChild(){return this.columnGroupChild}removeDragSource(){this.dragSource&&(this.dragAndDropService.removeDragSource(this.dragSource),this.dragSource=null)}handleContextMenuMouseEvent(e,t,o){const n=e??t;this.gos.get("preventDefaultOnContextMenu")&&n.preventDefault(),this.menuService.isHeaderContextMenuEnabled(o)&&this.menuService.showHeaderContextMenu(o,e,t),this.dispatchColumnMouseEvent("columnHeaderContextMenu",o)}dispatchColumnMouseEvent(e,t){this.eventService.dispatchEvent({type:e,column:t})}clearComponent(){this.removeDragSource(),this.resizeFeature=null,this.comp=null,this.eGui=null}destroy(){super.destroy(),this.column=null,this.lastFocusEvent=null,this.columnGroupChild=null,this.parentRowCtrl=null}};cb.DOM_DATA_KEY_HEADER_CTRL="headerCtrl";var ub=cb,db=class extends Rm{wireBeans(e){this.columnHoverService=e.columnHoverService}constructor(e,t){super(),this.columns=e,this.element=t}postConstruct(){this.gos.get("columnHoverHighlight")&&this.addMouseHoverListeners()}addMouseHoverListeners(){this.addManagedListeners(this.element,{mouseout:this.onMouseOut.bind(this),mouseover:this.onMouseOver.bind(this)})}onMouseOut(){this.columnHoverService.clearMouseOver()}onMouseOver(){this.columnHoverService.setMouseOver(this.columns)}};var hb="32.3.3";var pb={january:"January",february:"February",march:"March",april:"April",may:"May",june:"June",july:"July",august:"August",september:"September",october:"October",november:"November",december:"December"},gb=["january","february","march","april","may","june","july","august","september","october","november","december"];var fb=class extends Xy{wireBeans(e){this.columnNameService=e.columnNameService}getDefaultDebounceMs(){return 0}destroy(){super.destroy()}isEventFromFloatingFilter(e){return e&&e.afterFloatingFilter}isEventFromDataChange(e){return e?.afterDataChange}getLastType(){return this.lastType}isReadOnly(){return this.readOnly}setLastTypeFromModel(e){if(!e)return void(this.lastType=this.optionsFactory.getDefaultOption());let t;if(e.operator){t=e.conditions[0]}else t=e;this.lastType=t.type}canWeEditAfterModelFromParentFilter(e){if(!e)return this.isTypeEditable(this.lastType);if(e.operator)return!1;const t=e;return this.isTypeEditable(t.type)}init(e){this.setSimpleParams(e,!1)}setSimpleParams(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.optionsFactory=new Aw,this.optionsFactory.init(e.filterParams,this.getDefaultFilterOptions()),t||(this.lastType=this.optionsFactory.getDefaultOption()),this.readOnly=!!e.filterParams.readOnly;const o=this.isTypeEditable(this.optionsFactory.getDefaultOption());this.setEditable(o)}onParamsUpdated(e){this.refresh(e)}refresh(e){this.setSimpleParams(e)}doesFilterHaveSingleInput(e){const t=this.optionsFactory.getCustomOption(e),{numberOfInputs:o}=t||{};return null==o||1==o}isTypeEditable(e){return!!e&&!this.isReadOnly()&&this.doesFilterHaveSingleInput(e)&&["inRange","empty","blank","notBlank"].indexOf(e)<0}getAriaLabel(e){return`${this.columnNameService.getDisplayNameForColumn(e.column,"header",!0)} ${this.localeService.getLocaleTextFunc()("ariaFilterInput","Filter Input")}`}},mb=class extends Rm{constructor(e){super(),this.params=e,this.eFloatingFilterTextInput=qy,this.valueChangedListener=()=>{}}setupGui(e){this.eFloatingFilterTextInput=this.createManagedBean(new Lw(this.params?.config));const t=this.eFloatingFilterTextInput.getGui();e.appendChild(t);const o=e=>this.valueChangedListener(e);this.addManagedListeners(t,{input:o,keydown:o})}setEditable(e){this.eFloatingFilterTextInput.setDisabled(!e)}setAutoComplete(e){this.eFloatingFilterTextInput.setAutoComplete(e)}getValue(){return this.eFloatingFilterTextInput.getValue()}setValue(e,t){this.eFloatingFilterTextInput.setValue(e,t)}setValueChangedListener(e){this.valueChangedListener=e}setParams(e){this.setAriaLabel(e.ariaLabel),void 0!==e.autoComplete&&this.setAutoComplete(e.autoComplete)}setAriaLabel(e){this.eFloatingFilterTextInput.setInputAriaLabel(e)}},vb=class extends fb{constructor(){super(...arguments),this.eFloatingFilterInputContainer=qy}postConstruct(){this.setTemplate('\n            <div class="ag-floating-filter-input" role="presentation" data-ref="eFloatingFilterInputContainer"></div>\n        ')}getDefaultDebounceMs(){return 500}onParentModelChanged(e,t){this.isEventFromFloatingFilter(t)||this.isEventFromDataChange(t)||(this.setLastTypeFromModel(e),this.setEditable(this.canWeEditAfterModelFromParentFilter(e)),this.floatingFilterInputService.setValue(this.getFilterModelFormatter().getModelAsString(e)))}init(e){this.setupFloatingFilterInputService(e),super.init(e),this.setTextInputParams(e)}setupFloatingFilterInputService(e){this.floatingFilterInputService=this.createFloatingFilterInputService(e),this.floatingFilterInputService.setupGui(this.eFloatingFilterInputContainer)}setTextInputParams(e){this.params=e;const t=e.browserAutoComplete??!1;if(this.floatingFilterInputService.setParams({ariaLabel:this.getAriaLabel(e),autoComplete:t}),this.applyActive=Ew(this.params.filterParams),!this.isReadOnly()){const e=Sw(this.params.filterParams,this.getDefaultDebounceMs()),t=df(this.syncUpWithParentFilter.bind(this),e);this.floatingFilterInputService.setValueChangedListener(t)}}onParamsUpdated(e){this.refresh(e)}refresh(e){super.refresh(e),this.setTextInputParams(e)}recreateFloatingFilterInputService(e){const t=this.floatingFilterInputService.getValue();_y(this.eFloatingFilterInputContainer),this.destroyBean(this.floatingFilterInputService),this.setupFloatingFilterInputService(e),this.floatingFilterInputService.setValue(t,!0)}syncUpWithParentFilter(e){const t=e.key===dC.ENTER;if(this.applyActive&&!t)return;let o=this.floatingFilterInputService.getValue();this.params.filterParams.trimInput&&(o=Uw(o),this.floatingFilterInputService.setValue(o,!0)),this.params.parentFilterInstance((e=>{e&&e.onFloatingFilterChanged(this.getLastType()||null,o||null)}))}setEditable(e){this.floatingFilterInputService.setEditable(e)}},yb=class extends Rm{constructor(){super(...arguments),this.valueChangedListener=()=>{},this.numberInputActive=!0}setupGui(e){this.eFloatingFilterNumberInput=this.createManagedBean(new kw),this.eFloatingFilterTextInput=this.createManagedBean(new Lw),this.eFloatingFilterTextInput.setDisabled(!0);const t=this.eFloatingFilterNumberInput.getGui(),o=this.eFloatingFilterTextInput.getGui();e.appendChild(t),e.appendChild(o),this.setupListeners(t,(e=>this.valueChangedListener(e))),this.setupListeners(o,(e=>this.valueChangedListener(e)))}setEditable(e){this.numberInputActive=e,this.eFloatingFilterNumberInput.setDisplayed(this.numberInputActive),this.eFloatingFilterTextInput.setDisplayed(!this.numberInputActive)}setAutoComplete(e){this.eFloatingFilterNumberInput.setAutoComplete(e),this.eFloatingFilterTextInput.setAutoComplete(e)}getValue(){return this.getActiveInputElement().getValue()}setValue(e,t){this.getActiveInputElement().setValue(e,t)}getActiveInputElement(){return this.numberInputActive?this.eFloatingFilterNumberInput:this.eFloatingFilterTextInput}setValueChangedListener(e){this.valueChangedListener=e}setupListeners(e,t){this.addManagedListeners(e,{input:t,keydown:t})}setParams(e){this.setAriaLabel(e.ariaLabel),void 0!==e.autoComplete&&this.setAutoComplete(e.autoComplete)}setAriaLabel(e){this.eFloatingFilterNumberInput.setInputAriaLabel(e),this.eFloatingFilterTextInput.setInputAriaLabel(e)}};var Cb={version:hb,moduleName:"@ag-grid-community/filter-core",beans:[class extends Rm{constructor(){super(...arguments),this.beanName="filterManager",this.advancedFilterModelUpdateQueue=[]}wireBeans(e){this.columnModel=e.columnModel,this.dataTypeService=e.dataTypeService,this.quickFilterService=e.quickFilterService,this.advancedFilterService=e.advancedFilterService,this.columnFilterService=e.columnFilterService}postConstruct(){const e=this.refreshFiltersForAggregations.bind(this),t=this.updateAdvancedFilterColumns.bind(this);this.addManagedEventListeners({columnValueChanged:e,columnPivotChanged:e,columnPivotModeChanged:e,newColumnsLoaded:t,columnVisible:t,advancedFilterEnabledChanged:e=>{let{enabled:t}=e;return this.onAdvancedFilterEnabledChanged(t)},dataTypesInferred:this.processFilterModelUpdateQueue.bind(this)}),this.externalFilterPresent=this.isExternalFilterPresentCallback(),this.addManagedPropertyListeners(["isExternalFilterPresent","doesExternalFilterPass"],(()=>{this.onFilterChanged({source:"api"})})),this.updateAggFiltering(),this.addManagedPropertyListener("groupAggFiltering",(()=>{this.updateAggFiltering(),this.onFilterChanged()})),this.addManagedPropertyListener("advancedFilterModel",(e=>this.setAdvancedFilterModel(e.currentValue))),this.quickFilterService&&this.addManagedListeners(this.quickFilterService,{quickFilterChanged:()=>this.onFilterChanged({source:"quickFilter"})})}isExternalFilterPresentCallback(){const e=this.gos.getCallback("isExternalFilterPresent");return"function"===typeof e&&e({})}doesExternalFilterPass(e){const t=this.gos.get("doesExternalFilterPass");return"function"===typeof t&&t(e)}setFilterModel(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"api";this.isAdvancedFilterEnabled()?this.warnAdvancedFilters():this.columnFilterService?.setFilterModel(e,t)}getFilterModel(){return this.columnFilterService?.getFilterModel()??{}}isColumnFilterPresent(){return!!this.columnFilterService?.isColumnFilterPresent()}isAggregateFilterPresent(){return!!this.columnFilterService?.isAggregateFilterPresent()}isExternalFilterPresent(){return this.externalFilterPresent}isChildFilterPresent(){return this.isColumnFilterPresent()||this.isQuickFilterPresent()||this.isExternalFilterPresent()||this.isAdvancedFilterPresent()}isAdvancedFilterPresent(){return this.isAdvancedFilterEnabled()&&this.advancedFilterService.isFilterPresent()}onAdvancedFilterEnabledChanged(e){e?this.columnFilterService?.disableColumnFilters()&&this.onFilterChanged({source:"advancedFilter"}):this.advancedFilterService?.isFilterPresent()&&(this.advancedFilterService.setModel(null),this.onFilterChanged({source:"advancedFilter"}))}isAdvancedFilterEnabled(){return!!this.advancedFilterService?.isEnabled()}isAdvancedFilterHeaderActive(){return this.isAdvancedFilterEnabled()&&this.advancedFilterService.isHeaderActive()}isAnyFilterPresent(){return this.isQuickFilterPresent()||this.isColumnFilterPresent()||this.isAggregateFilterPresent()||this.isExternalFilterPresent()||this.isAdvancedFilterPresent()}resetQuickFilterCache(){this.quickFilterService?.resetQuickFilterCache()}refreshFiltersForAggregations(){zf(this.gos)&&this.onFilterChanged()}onFilterChanged(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{source:t,additionalEventAttributes:o,columns:n=[]}=e;this.externalFilterPresent=this.isExternalFilterPresentCallback(),(this.columnFilterService?this.columnFilterService.updateBeforeFilterChanged(e):TC.resolve()).then((()=>{const e={source:t,type:"filterChanged",columns:n};o&&Wm(e,o),this.eventService.dispatchEvent(e),this.columnFilterService?.updateAfterFilterChanged()}))}isSuppressFlashingCellsBecauseFiltering(){return!!this.columnFilterService?.isSuppressFlashingCellsBecauseFiltering()}isQuickFilterPresent(){return!!this.quickFilterService?.isQuickFilterPresent()}updateAggFiltering(){this.aggFiltering=!!zf(this.gos)}isAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&this.shouldApplyQuickFilterAfterAgg()}isNonAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&!this.shouldApplyQuickFilterAfterAgg()}shouldApplyQuickFilterAfterAgg(){return(this.aggFiltering||this.columnModel.isPivotMode())&&!this.gos.get("applyQuickFilterBeforePivotOrAgg")}doesRowPassOtherFilters(e,t){return this.doesRowPassFilter({rowNode:t,filterInstanceToSkip:e})}doesRowPassAggregateFilters(e){return!(this.isAggregateQuickFilterPresent()&&!this.quickFilterService.doesRowPassQuickFilter(e.rowNode))&&!(this.isAggregateFilterPresent()&&!this.columnFilterService.doAggregateFiltersPass(e.rowNode,e.filterInstanceToSkip))}doesRowPassFilter(e){return!(this.isNonAggregateQuickFilterPresent()&&!this.quickFilterService.doesRowPassQuickFilter(e.rowNode))&&(!(this.isExternalFilterPresent()&&!this.doesExternalFilterPass(e.rowNode))&&(!(this.isColumnFilterPresent()&&!this.columnFilterService.doColumnFiltersPass(e.rowNode,e.filterInstanceToSkip))&&!(this.isAdvancedFilterPresent()&&!this.advancedFilterService.doesFilterPass(e.rowNode))))}isFilterActive(e){return!!this.columnFilterService?.isFilterActive(e)}getOrCreateFilterWrapper(e){return this.columnFilterService?.getOrCreateFilterWrapper(e)??null}getDefaultFloatingFilter(e){return this.columnFilterService.getDefaultFloatingFilter(e)}createFilterParams(e,t){return this.columnFilterService.createFilterParams(e,t)}isFilterAllowed(e){return!this.isAdvancedFilterEnabled()&&!!this.columnFilterService?.isFilterAllowed(e)}getFloatingFilterCompDetails(e,t){return this.columnFilterService?.getFloatingFilterCompDetails(e,t)}getCurrentFloatingFilterParentModel(e){return this.columnFilterService?.getCurrentFloatingFilterParentModel(e)}destroyFilter(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"api";this.columnFilterService?.destroyFilter(e,t)}areFilterCompsDifferent(e,t){return!!this.columnFilterService?.areFilterCompsDifferent(e,t)}getAdvancedFilterModel(){return this.isAdvancedFilterEnabled()?this.advancedFilterService.getModel():null}setAdvancedFilterModel(e){this.isAdvancedFilterEnabled()&&(this.dataTypeService?.isPendingInference()?this.advancedFilterModelUpdateQueue.push(e):(this.advancedFilterService.setModel(e??null),this.onFilterChanged({source:"advancedFilter"})))}toggleAdvancedFilterBuilder(e,t){this.isAdvancedFilterEnabled()&&this.advancedFilterService.getCtrl().toggleFilterBuilder({source:t,force:e})}updateAdvancedFilterColumns(){this.isAdvancedFilterEnabled()&&this.advancedFilterService.updateValidity()&&this.onFilterChanged({source:"advancedFilter"})}hasFloatingFilters(){return!this.isAdvancedFilterEnabled()&&!!this.columnFilterService?.hasFloatingFilters()}getFilterInstance(e,t){if(!this.isAdvancedFilterEnabled())return this.columnFilterService?.getFilterInstance(e,t);this.warnAdvancedFilters()}getColumnFilterInstance(e){return this.isAdvancedFilterEnabled()?(this.warnAdvancedFilters(),Promise.resolve(void 0)):this.columnFilterService?.getColumnFilterInstance(e)??Promise.resolve(void 0)}warnAdvancedFilters(){nf("Column Filter API methods have been disabled as Advanced Filters are enabled.")}setupAdvancedFilterHeaderComp(e){this.advancedFilterService?.getCtrl().setupHeaderComp(e)}getHeaderRowCount(){return this.isAdvancedFilterHeaderActive()?1:0}getHeaderHeight(){return this.isAdvancedFilterHeaderActive()?this.advancedFilterService.getCtrl().getHeaderHeight():0}processFilterModelUpdateQueue(){this.advancedFilterModelUpdateQueue.forEach((e=>this.setAdvancedFilterModel(e))),this.advancedFilterModelUpdateQueue=[]}getColumnFilterModel(e){return this.columnFilterService?.getColumnFilterModel(e)}setColumnFilterModel(e,t){return this.isAdvancedFilterEnabled()?(this.warnAdvancedFilters(),Promise.resolve()):this.columnFilterService?.setColumnFilterModel(e,t)??Promise.resolve()}setColDefPropertiesForDataType(e,t,o){this.columnFilterService?.setColDefPropertiesForDataType(e,t,o)}}]},wb={version:hb,moduleName:"@ag-grid-community/filter-api",apiFunctions:{isAnyFilterPresent:function(e){return!!e.filterManager?.isAnyFilterPresent()},onFilterChanged:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"api";e.filterManager?.onFilterChanged({source:t})}},dependantModules:[Cb]},bb={version:hb,moduleName:"@ag-grid-community/column-filter",beans:[class extends Rm{constructor(){super(...arguments),this.beanName="columnFilterService",this.allColumnFilters=new Map,this.allColumnListeners=new Map,this.activeAggregateFilters=[],this.activeColumnFilters=[],this.processingFilterChange=!1,this.filterModelUpdateQueue=[],this.columnFilterModelUpdateQueue=[]}wireBeans(e){this.valueService=e.valueService,this.columnModel=e.columnModel,this.rowModel=e.rowModel,this.userComponentFactory=e.userComponentFactory,this.rowRenderer=e.rowRenderer,this.dataTypeService=e.dataTypeService,this.filterManager=e.filterManager}postConstruct(){this.addManagedEventListeners({gridColumnsChanged:this.onColumnsChanged.bind(this),rowDataUpdated:()=>this.onNewRowsLoaded("rowDataUpdated"),dataTypesInferred:this.processFilterModelUpdateQueue.bind(this)}),this.initialFilterModel={...this.gos.get("initialState")?.filter?.filterModel??{}}}setFilterModel(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"api";if(this.dataTypeService?.isPendingInference())return void this.filterModelUpdateQueue.push({model:e,source:t});const o=[],n=this.getFilterModel(!0);if(e){const t=new Set(Object.keys(e));this.allColumnFilters.forEach(((n,i)=>{const r=e[i];o.push(this.setModelOnFilterWrapper(n.filterPromise,r)),t.delete(i)})),t.forEach((t=>{const n=this.columnModel.getColDefCol(t)||this.columnModel.getCol(t);if(!n)return void nf("setFilterModel() - no column found for colId: "+t);if(!n.isFilterAllowed())return void nf("setFilterModel() - unable to fully apply model, filtering disabled for colId: "+t);const i=this.getOrCreateFilterWrapper(n);i?o.push(this.setModelOnFilterWrapper(i.filterPromise,e[t])):nf("setFilterModel() - unable to fully apply model, unable to create filter for colId: "+t)}))}else this.allColumnFilters.forEach((e=>{o.push(this.setModelOnFilterWrapper(e.filterPromise,null))}));TC.all(o).then((()=>{const e=this.getFilterModel(!0),o=[];this.allColumnFilters.forEach(((t,i)=>{bf(n?n[i]:null,e?e[i]:null)||o.push(t.column)})),o.length>0&&this.filterManager?.onFilterChanged({columns:o,source:t})}))}setModelOnFilterWrapper(e,t){return new TC((o=>{e.then((e=>{"function"!==typeof e.setModel&&(nf("filter missing setModel method, which is needed for setFilterModel"),o()),(e.setModel(t)||TC.resolve()).then((()=>o()))}))}))}getFilterModel(e){const t={},{allColumnFilters:o,initialFilterModel:n}=this;return o.forEach(((e,o)=>{const n=this.getModelFromFilterWrapper(e);gf(n)&&(t[o]=n)})),e||Object.entries(n).forEach((e=>{let[n,i]=e;gf(i)&&!o.has(n)&&this.columnModel.getCol(n)?.isFilterAllowed()&&(t[n]=i)})),t}getModelFromFilterWrapper(e){const{filter:t}=e;return t?"function"!==typeof t.getModel?(nf("filter API missing getModel method, which is needed for getFilterModel"),null):t.getModel():this.getModelFromInitialState(e.column)}getModelFromInitialState(e){return this.initialFilterModel[e.getColId()]??null}isColumnFilterPresent(){return this.activeColumnFilters.length>0}isAggregateFilterPresent(){return!!this.activeAggregateFilters.length}disableColumnFilters(){return!!this.allColumnFilters.size&&(this.allColumnFilters.forEach((e=>this.disposeFilterWrapper(e,"advancedFilterEnabled"))),!0)}doAggregateFiltersPass(e,t){return this.doColumnFiltersPass(e,t,!0)}updateActiveFilters(){const e=!!zf(this.gos),t=t=>{if(!t.isPrimary())return!0;const o=!this.columnModel.isPivotActive();return!(!t.isValueActive()||!o)&&(!!this.columnModel.isPivotMode()||e)},o=[],n=[];return this.forEachColumnFilter(((e,i)=>{const r=(e=>!!e&&(e.isFilterActive?e.isFilterActive():(nf("Filter is missing isFilterActive() method"),!1)))(e);r&&(t(i.column)?o.push(e):n.push(e))})).then((()=>{this.activeAggregateFilters=o,this.activeColumnFilters=n}))}updateFilterFlagInColumns(e,t){return this.forEachColumnFilter(((o,n)=>n.column.setFilterActive(o.isFilterActive(),e,t)))}forEachColumnFilter(e){return TC.all(Array.from(this.allColumnFilters.values()).map((t=>t.filterPromise.then((o=>e(o,t))))))}doColumnFiltersPass(e,t,o){const{data:n,aggData:i}=e,r=o?this.activeAggregateFilters:this.activeColumnFilters,s=o?i:n;for(let a=0;a<r.length;a++){const o=r[a];if(null!=o&&o!==t){if("function"!==typeof o.doesFilterPass)throw new Error("Filter is missing method doesFilterPass");if(!o.doesFilterPass({node:e,data:s}))return!1}}return!0}callOnFilterChangedOutsideRenderCycle(e){const t=()=>this.filterManager?.onFilterChanged(e);this.rowRenderer.isRefreshInProgress()?setTimeout(t,0):t()}updateBeforeFilterChanged(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{filterInstance:t,additionalEventAttributes:o}=e;return this.updateDependentFilters(),this.updateActiveFilters().then((()=>this.updateFilterFlagInColumns("filterChanged",o).then((()=>{this.allColumnFilters.forEach((e=>{e.filterPromise&&e.filterPromise.then((e=>{e&&e!==t&&e.onAnyFilterChanged&&e.onAnyFilterChanged()}))})),this.processingFilterChange=!0}))))}updateAfterFilterChanged(){this.processingFilterChange=!1}isSuppressFlashingCellsBecauseFiltering(){return!(this.gos.get("allowShowChangeAfterFilter")??!1)&&this.processingFilterChange}onNewRowsLoaded(e){this.forEachColumnFilter((e=>{e.onNewRowsLoaded&&e.onNewRowsLoaded()})).then((()=>this.updateFilterFlagInColumns(e,{afterDataChange:!0}))).then((()=>this.updateActiveFilters()))}createValueGetter(e){return t=>{let{node:o}=t;return this.valueService.getValue(e,o,!0)}}createGetValue(e){return(t,o)=>{const n=o?this.columnModel.getCol(o):e;return n?this.valueService.getValue(n,t,!0):void 0}}isFilterActive(e){const{filter:t}=this.cachedFilter(e)??{};return t?t.isFilterActive():null!=this.getModelFromInitialState(e)}getOrCreateFilterWrapper(e){if(!e.isFilterAllowed())return null;let t=this.cachedFilter(e);return t||(t=this.createFilterWrapper(e),this.setColumnFilterWrapper(e,t)),t}cachedFilter(e){return this.allColumnFilters.get(e.getColId())}getDefaultFilter(e){let t;if(am(this.gos))t="agSetColumnFilter";else{const o=this.dataTypeService?.getBaseDataType(e);t="number"===o?"agNumberColumnFilter":"date"===o||"dateString"===o?"agDateColumnFilter":"agTextColumnFilter"}return t}getDefaultFloatingFilter(e){let t;if(am(this.gos))t="agSetColumnFloatingFilter";else{const o=this.dataTypeService?.getBaseDataType(e);t="number"===o?"agNumberColumnFloatingFilter":"date"===o||"dateString"===o?"agDateColumnFloatingFilter":"agTextColumnFloatingFilter"}return t}createFilterInstance(e,t){const o=this.getDefaultFilter(e),n=e.getColDef();let i;const r={...this.createFilterParams(e,n),filterModifiedCallback:()=>this.filterModifiedCallbackFactory(i,e)(),filterChangedCallback:t=>this.filterChangedCallbackFactory(i,e)(t),doesRowPassOtherFilter:e=>!this.filterManager||this.filterManager.doesRowPassOtherFilters(i,e)},s=this.userComponentFactory.getFilterDetails(n,r,o);return s?{filterPromise:()=>{const e=s.newAgStackInstance();return null!=e&&e.then((e=>{i=e,t&&(t.filter=e)})),e},compDetails:s}:{filterPromise:null,compDetails:null}}createFilterParams(e,t){return this.gos.addGridCommonParams({column:e,colDef:Vm(t),rowModel:this.rowModel,filterChangedCallback:()=>{},filterModifiedCallback:()=>{},valueGetter:this.createValueGetter(e),getValue:this.createGetValue(e),doesRowPassOtherFilter:()=>!0})}createFilterWrapper(e){const t={column:e,filterPromise:null,compiledElement:null,compDetails:null},{filterPromise:o,compDetails:n}=this.createFilterInstance(e,t);return t.filterPromise=o?.()??null,t.compDetails=n,t}onColumnsChanged(){const e=[];this.allColumnFilters.forEach(((t,o)=>{let n;n=t.column.isPrimary()?this.columnModel.getColDefCol(o):this.columnModel.getCol(o),n&&n===t.column||(e.push(t.column),this.disposeFilterWrapper(t,"columnChanged"),this.disposeColumnListener(o))}));const t=e.every((e=>"agGroupColumnFilter"===e.getColDef().filter));e.length>0&&!t?this.filterManager?.onFilterChanged({columns:e,source:"api"}):this.updateDependentFilters()}updateDependentFilters(){const e=this.columnModel.getAutoCols();e?.forEach((e=>{"agGroupColumnFilter"===e.getColDef().filter&&this.getOrCreateFilterWrapper(e)}))}isFilterAllowed(e){if(!e.isFilterAllowed())return!1;const{filter:t}=this.allColumnFilters.get(e.getColId())??{};return!t||("function"!==typeof t?.isFilterAllowed||t.isFilterAllowed())}getFloatingFilterCompDetails(e,t){const o=t=>{const o=this.getOrCreateFilterWrapper(e)?.filterPromise;null!=o&&o.then((e=>{t(QC(e))}))},n=e.getColDef(),i={...this.createFilterParams(e,n),filterChangedCallback:()=>o((t=>this.filterChangedCallbackFactory(t,e)()))},r=this.userComponentFactory.mergeParamsWithApplicationProvidedParams(n,BC,i);let s=function(e,t,o){if(null==t)return null;let n=null;const{compName:i,jsComp:r,fwComp:s}=XC.getCompKeys(e,t,BC);i?n={set:"agSetColumnFloatingFilter",agSetColumnFilter:"agSetColumnFloatingFilter",multi:"agMultiColumnFloatingFilter",agMultiColumnFilter:"agMultiColumnFloatingFilter",group:"agGroupColumnFloatingFilter",agGroupColumnFilter:"agGroupColumnFloatingFilter",number:"agNumberColumnFloatingFilter",agNumberColumnFilter:"agNumberColumnFloatingFilter",date:"agDateColumnFloatingFilter",agDateColumnFilter:"agDateColumnFloatingFilter",text:"agTextColumnFloatingFilter",agTextColumnFilter:"agTextColumnFloatingFilter"}[i]:null==r&&null==s&&!0===t.filter&&(n=o());return n}(this.frameworkOverrides,n,(()=>this.getDefaultFloatingFilter(e)));null==s&&(s="agReadOnlyFloatingFilter");const a={column:e,filterParams:r,currentParentModel:()=>this.getCurrentFloatingFilterParentModel(e),parentFilterInstance:o,showParentFilter:t,suppressFilterButton:!1};return this.userComponentFactory.getFloatingFilterCompDetails(n,a,s)}getCurrentFloatingFilterParentModel(e){return this.getModelFromFilterWrapper(this.cachedFilter(e)??{column:e})}destroyFilter(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"api";const o=e.getColId(),n=this.allColumnFilters.get(o);this.disposeColumnListener(o),delete this.initialFilterModel[o],n&&(this.disposeFilterWrapper(n,t),this.filterManager?.onFilterChanged({columns:[e],source:"api"}))}disposeColumnListener(e){const t=this.allColumnListeners.get(e);t&&(this.allColumnListeners.delete(e),t())}disposeFilterWrapper(e,t){e.filterPromise.then((o=>{this.destroyBean(o),e.column.setFilterActive(!1,"filterDestroyed"),this.allColumnFilters.delete(e.column.getColId()),this.eventService.dispatchEvent({type:"filterDestroyed",source:t,column:e.column})}))}filterModifiedCallbackFactory(e,t){return()=>{this.eventService.dispatchEvent({type:"filterModified",column:t,filterInstance:e})}}filterChangedCallbackFactory(e,t){return o=>{const n={filter:e,additionalEventAttributes:o,columns:[t],source:o?.source??"columnFilter"};this.callOnFilterChangedOutsideRenderCycle(n)}}checkDestroyFilter(e){const t=this.allColumnFilters.get(e);if(!t)return;const o=t.column,{compDetails:n}=o.isFilterAllowed()?this.createFilterInstance(o):{compDetails:null};if(this.areFilterCompsDifferent(t.compDetails,n))return void this.destroyFilter(o,"paramsUpdated");const i=o.getColDef().filterParams;t.filterPromise?t.filterPromise.then((e=>{const t=!e?.refresh||e.refresh({...this.createFilterParams(o,o.getColDef()),filterModifiedCallback:this.filterModifiedCallbackFactory(e,o),filterChangedCallback:this.filterChangedCallbackFactory(e,o),doesRowPassOtherFilter:t=>!this.filterManager||this.filterManager.doesRowPassOtherFilters(e,t),...i});!1===t&&this.destroyFilter(o,"paramsUpdated")})):this.destroyFilter(o,"paramsUpdated")}setColumnFilterWrapper(e,t){const o=e.getColId();this.allColumnFilters.set(o,t),this.allColumnListeners.set(o,this.addManagedListeners(e,{colDefChanged:()=>this.checkDestroyFilter(o)})[0])}areFilterCompsDifferent(e,t){if(!t||!e)return!0;const{componentClass:o}=e,{componentClass:n}=t;return!(o===n||o?.render&&n?.render&&o.render===n.render)}hasFloatingFilters(){return this.columnModel.getCols().some((e=>e.getColDef().floatingFilter))}getFilterInstance(e,t){t&&this.getFilterInstanceImpl(e).then((e=>{const o=QC(e);t(o)}))}getColumnFilterInstance(e){return new Promise((t=>{this.getFilterInstanceImpl(e).then((e=>{t(QC(e))}))}))}getFilterInstanceImpl(e){const t=this.columnModel.getColDefCol(e);if(!t)return TC.resolve(void 0);const o=this.getOrCreateFilterWrapper(t)?.filterPromise;return o??TC.resolve(null)}processFilterModelUpdateQueue(){this.filterModelUpdateQueue.forEach((e=>{let{model:t,source:o}=e;return this.setFilterModel(t,o)})),this.filterModelUpdateQueue=[],this.columnFilterModelUpdateQueue.forEach((e=>{let{key:t,model:o,resolve:n}=e;this.setColumnFilterModel(t,o).then((()=>n()))})),this.columnFilterModelUpdateQueue=[]}getColumnFilterModel(e){const t=this.getFilterWrapper(e);return t?this.getModelFromFilterWrapper(t):null}setColumnFilterModel(e,t){if(this.dataTypeService?.isPendingInference()){let o=()=>{};const n=new Promise((e=>{o=e}));return this.columnFilterModelUpdateQueue.push({key:e,model:t,resolve:o}),n}const o=this.columnModel.getColDefCol(e),n=o?this.getOrCreateFilterWrapper(o):null;return n?(i=this.setModelOnFilterWrapper(n.filterPromise,t),new Promise((e=>{i.then((t=>e(t)))}))):Promise.resolve();var i}getFilterWrapper(e){const t=this.columnModel.getColDefCol(e);return t?this.cachedFilter(t)??null:null}setColDefPropertiesForDataType(e,t,o){const n=am(this.gos),i=this.localeService.getLocaleTextFunc(),r=t=>{const{filterParams:o}=e;e.filterParams="object"===typeof o?{...o,...t}:t};switch(t.baseDataType){case"number":n&&r({comparator:(e,t)=>{const o=null==e?0:parseInt(e),n=null==t?0:parseInt(t);return o===n?0:o>n?1:-1}});break;case"boolean":r(n?{valueFormatter:e=>gf(e.value)?i(String(e.value),e.value?"True":"False"):i("blanks","(Blanks)")}:{maxNumConditions:1,debounceMs:0,filterOptions:["empty",{displayKey:"true",displayName:"True",predicate:(e,t)=>t,numberOfInputs:0},{displayKey:"false",displayName:"False",predicate:(e,t)=>!1===t,numberOfInputs:0}]});break;case"date":n&&r({valueFormatter:e=>{const t=o(e);return gf(t)?t:i("blanks","(Blanks)")},treeList:!0,treeListFormatter:(e,t)=>{if(1===t&&null!=e){const t=gb[Number(e)-1];return i(t,pb[t])}return e??i("blanks","(Blanks)")}});break;case"dateString":{const e=t.dateParser;r(n?{valueFormatter:e=>{const t=o(e);return gf(t)?t:i("blanks","(Blanks)")},treeList:!0,treeListPathGetter:t=>{const o=e(t??void 0);return o?[String(o.getFullYear()),String(o.getMonth()+1),String(o.getDate())]:null},treeListFormatter:(e,t)=>{if(1===t&&null!=e){const t=gb[Number(e)-1];return i(t,pb[t])}return e??i("blanks","(Blanks)")}}:{comparator:(t,o)=>{const n=e(o);return null==o||n<t?-1:n>t?1:0}});break}case"object":n?r({valueFormatter:e=>{const t=o(e);return gf(t)?t:i("blanks","(Blanks)")}}):e.filterValueGetter=e=>o({column:e.column,node:e.node,value:this.valueService.getValue(e.column,e.node)})}}destroy(){super.destroy(),this.allColumnFilters.forEach((e=>this.disposeFilterWrapper(e,"gridDestroyed"))),this.allColumnListeners.clear()}}],dependantModules:[Cb]},Sb={version:hb,moduleName:"@ag-grid-community/column-filter-api",apiFunctions:{isColumnFilterPresent:function(e){return!!e.filterManager?.isColumnFilterPresent()||!!e.filterManager?.isAggregateFilterPresent()},getFilterInstance:function(e,t,o){return e.filterManager?.getFilterInstance(t,o)},getColumnFilterInstance:function(e,t){return e.filterManager?.getColumnFilterInstance(t)??Promise.resolve(void 0)},destroyFilter:function(e,t){const o=e.columnModel.getColDefCol(t);if(o)return e.filterManager?.destroyFilter(o,"api")},setFilterModel:function(e,t){e.frameworkOverrides.wrapIncoming((()=>e.filterManager?.setFilterModel(t)))},getFilterModel:function(e){return e.filterManager?.getFilterModel()??{}},getColumnFilterModel:function(e,t){return e.filterManager?.getColumnFilterModel(t)??null},setColumnFilterModel:function(e,t,o){return e.filterManager?.setColumnFilterModel(t,o)??Promise.resolve()},showColumnFilter:function(e,t){const o=e.columnModel.getCol(t);o?e.menuService.showFilterMenu({column:o,containerType:"columnFilter",positionBy:"auto"}):rf(`column '${t}' not found`)}},dependantModules:[bb,wb]},Eb={version:hb,moduleName:"@ag-grid-community/floating-filter-core",controllers:[{name:"headerFilterCell",classImp:class extends ub{constructor(e,t,o){super(e,t,o),this.iconCreated=!1,this.column=e}setComp(e,t,o,n,i){this.comp=e,i=_v(this,this.beans.context,i),this.eButtonShowMainFilter=o,this.eFloatingFilterBody=n,this.setGui(t,i),this.setupActive(),this.setupWidth(i),this.setupLeft(i),this.setupHover(i),this.setupFocus(i),this.setupAria(),this.setupFilterButton(),this.setupUserComp(),this.setupSyncWithFilter(i),this.setupUi(),i.addManagedElementListeners(this.eButtonShowMainFilter,{click:this.showParentFilter.bind(this)}),this.setupFilterChangedListener(i),i.addManagedListeners(this.column,{colDefChanged:()=>this.onColDefChanged(i)}),i.addDestroyFunc((()=>{this.eButtonShowMainFilter=null,this.eFloatingFilterBody=null,this.userCompDetails=null,this.clearComponent()}))}resizeHeader(){}moveHeader(){}setupActive(){const e=this.column.getColDef(),t=!!e.filter,o=!!e.floatingFilter;this.active=t&&o}setupUi(){if(this.comp.setButtonWrapperDisplayed(!this.suppressFilterButton&&this.active),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-full-body",this.suppressFilterButton),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-body",!this.suppressFilterButton),!this.active||this.iconCreated)return;const e=Jy("filter",this.gos,this.column);e&&(this.iconCreated=!0,this.eButtonShowMainFilter.appendChild(e))}setupFocus(e){e.createManagedBean(new ww(this.eGui,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}))}setupAria(){const e=this.localeService.getLocaleTextFunc();qv(this.eButtonShowMainFilter,e("ariaFilterMenuOpen","Open Filter Menu"))}onTabKeyDown(e){if(Vf(this.gos)===this.eGui)return;const t=this.focusService.findNextFocusableElement(this.eGui,null,e.shiftKey);if(t)return this.beans.headerNavigationService.scrollToColumn(this.column),e.preventDefault(),void t.focus();const o=this.findNextColumnWithFloatingFilter(e.shiftKey);o&&this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:this.getParentRowCtrl().getRowIndex(),column:o},event:e})&&e.preventDefault()}findNextColumnWithFloatingFilter(e){const t=this.beans.visibleColsService;let o=this.column;do{if(o=e?t.getColBefore(o):t.getColAfter(o),!o)break}while(!o.getColDef().filter||!o.getColDef().floatingFilter);return o}handleKeyDown(e){super.handleKeyDown(e);const t=this.getWrapperHasFocus();switch(e.key){case dC.UP:case dC.DOWN:t||e.preventDefault();case dC.LEFT:case dC.RIGHT:if(t)return;e.stopPropagation();case dC.ENTER:t&&this.focusService.focusInto(this.eGui)&&e.preventDefault();break;case dC.ESCAPE:t||this.eGui.focus()}}onFocusIn(e){if(this.eGui.contains(e.relatedTarget))return;const t=!!e.relatedTarget&&!e.relatedTarget.classList.contains("ag-floating-filter"),o=!!e.relatedTarget&&Sy(e.relatedTarget,"ag-floating-filter");if(t&&o&&e.target===this.eGui){const e=this.lastFocusEvent,t=!(!e||e.key!==dC.TAB);if(e&&t){const t=e.shiftKey;this.focusService.focusInto(this.eGui,t)}}const n=this.getRowIndex();this.beans.focusService.setFocusedHeader(n,this.column)}setupHover(e){e.createManagedBean(new db([this.column],this.eGui));const t=()=>{if(!this.gos.get("columnHoverHighlight"))return;const e=this.beans.columnHoverService.isHovered(this.column);this.comp.addOrRemoveCssClass("ag-column-hover",e)};e.addManagedEventListeners({columnHoverChanged:t}),t()}setupLeft(e){const t=new ib(this.column,this.eGui,this.beans);e.createManagedBean(t)}setupFilterButton(){this.suppressFilterButton=!this.menuService.isFloatingFilterButtonEnabled(this.column),this.highlightFilterButtonWhenActive=!this.menuService.isLegacyMenuEnabled()}setupUserComp(){if(!this.active)return;const e=this.beans.filterManager?.getFloatingFilterCompDetails(this.column,(()=>this.showParentFilter()));e&&this.setCompDetails(e)}setCompDetails(e){this.userCompDetails=e,this.comp.setCompDetails(e)}showParentFilter(){const e=this.suppressFilterButton?this.eFloatingFilterBody:this.eButtonShowMainFilter;this.menuService.showFilterMenu({column:this.column,buttonElement:e,containerType:"floatingFilter",positionBy:"button"})}setupSyncWithFilter(e){if(!this.active)return;const{filterManager:t}=this.beans,o=e=>{if("filterDestroyed"===e?.source&&!this.isAlive())return;const o=this.comp.getFloatingFilterComp();o&&o.then((o=>{if(o){const n=t?.getCurrentFloatingFilterParentModel(this.column),i=e?{...e,columns:e.columns??[],source:"api"===e.source?"api":"columnFilter"}:null;o.onParentModelChanged(n,i)}}))};[this.destroySyncListener]=e.addManagedListeners(this.column,{filterChanged:o}),t?.isFilterActive(this.column)&&o(null)}setupWidth(e){const t=()=>{const e=`${this.column.getActualWidth()}px`;this.comp.setWidth(e)};e.addManagedListeners(this.column,{widthChanged:t}),t()}setupFilterChangedListener(e){this.active&&([this.destroyFilterChangedListener]=e.addManagedListeners(this.column,{filterChanged:this.updateFilterButton.bind(this)}),this.updateFilterButton())}updateFilterButton(){if(!this.suppressFilterButton&&this.comp){const e=!!this.beans.filterManager?.isFilterAllowed(this.column);this.comp.setButtonWrapperDisplayed(e),this.highlightFilterButtonWhenActive&&e&&this.eButtonShowMainFilter.classList.toggle("ag-filter-active",this.column.isFilterActive())}}onColDefChanged(e){const t=this.active;this.setupActive();const o=!t&&this.active;t&&!this.active&&(this.destroySyncListener(),this.destroyFilterChangedListener());const n=this.active?this.beans.filterManager?.getFloatingFilterCompDetails(this.column,(()=>this.showParentFilter())):null,i=this.comp.getFloatingFilterComp();i&&n?i.then((t=>{!t||this.beans.filterManager?.areFilterCompsDifferent(this.userCompDetails??null,n)?this.updateCompDetails(e,n,o):this.updateFloatingFilterParams(n)})):this.updateCompDetails(e,n,o)}updateCompDetails(e,t,o){this.isAlive()&&(this.setCompDetails(t),this.setupFilterButton(),this.setupUi(),o&&(this.setupSyncWithFilter(e),this.setupFilterChangedListener(e)))}updateFloatingFilterParams(e){if(!e)return;const t=e.params;this.comp.getFloatingFilterComp()?.then((e=>{let o=!1;if(e?.refresh&&"function"===typeof e.refresh){null!==e.refresh(t)&&(o=!0)}if(!o&&e?.onParamsUpdated&&"function"===typeof e.onParamsUpdated){null!==e.onParamsUpdated(t)&&nf("Custom floating filter method 'onParamsUpdated' is deprecated. Use 'refresh' instead.")}}))}destroy(){super.destroy(),this.destroySyncListener=null,this.destroyFilterChangedListener=null}}}],dependantModules:[bb]},Rb={version:hb,moduleName:"@ag-grid-community/read-only-floating-filter",userComponents:[{name:"agReadOnlyFloatingFilter",classImp:class extends Xy{constructor(){super('\n            <div class="ag-floating-filter-input" role="presentation">\n                <ag-input-text-field data-ref="eFloatingFilterText"></ag-input-text-field>\n            </div>',[Nw]),this.eFloatingFilterText=qy}wireBeans(e){this.columnNameService=e.columnNameService}destroy(){super.destroy()}init(e){this.params=e;const t=this.columnNameService.getDisplayNameForColumn(e.column,"header",!0),o=this.localeService.getLocaleTextFunc();this.eFloatingFilterText.setDisabled(!0).setInputAriaLabel(`${t} ${o("ariaFilterInput","Filter Input")}`)}onParentModelChanged(e){null!=e?this.params.parentFilterInstance((t=>{if(t.getModelAsString){const o=t.getModelAsString(e);this.eFloatingFilterText.setValue(o)}})):this.eFloatingFilterText.setValue("")}onParamsUpdated(e){this.refresh(e)}refresh(e){this.init(e)}}}],dependantModules:[Eb]},Pb={version:hb,moduleName:"@ag-grid-community/simple-filter",dependantModules:[bb],userComponents:[{name:"agTextColumnFilter",classImp:class extends Fw{constructor(){super("textFilter"),this.defaultFormatter=e=>e,this.defaultLowercaseFormatter=e=>null==e?null:e.toString().toLowerCase(),this.defaultMatcher=e=>{let{filterOption:t,value:o,filterText:n}=e;if(null==n)return!1;switch(t){case"contains":return o.indexOf(n)>=0;case"notContains":return o.indexOf(n)<0;case"equals":return o===n;case"notEqual":return o!=n;case"startsWith":return 0===o.indexOf(n);case"endsWith":{const e=o.lastIndexOf(n);return e>=0&&e===o.length-n.length}default:return!1}},this.eValuesFrom=[],this.eValuesTo=[]}getDefaultDebounceMs(){return 500}setParams(e){this.textFilterParams=e,super.setParams(e),this.matcher=this.getTextMatcher(),this.formatter=this.textFilterParams.textFormatter||(this.textFilterParams.caseSensitive?this.defaultFormatter:this.defaultLowercaseFormatter),this.filterModelFormatter=new zw(this.localeService,this.optionsFactory)}getTextMatcher(){const e=this.textFilterParams.textCustomComparator;return e?(nf("textCustomComparator is deprecated, use textMatcher instead."),t=>{let{filterOption:o,value:n,filterText:i}=t;return e(o,n,i)}):this.textFilterParams.textMatcher||this.defaultMatcher}createCondition(e){const t=this.getConditionType(e),o={filterType:this.getFilterType(),type:t},n=this.getValuesWithSideEffects(e,!0);return n.length>0&&(o.filter=n[0]),n.length>1&&(o.filterTo=n[1]),o}getFilterType(){return"text"}areSimpleModelsEqual(e,t){return e.filter===t.filter&&e.filterTo===t.filterTo&&e.type===t.type}getInputs(e){return e>=this.eValuesFrom.length?[null,null]:[this.eValuesFrom[e],this.eValuesTo[e]]}getValues(e){return this.getValuesWithSideEffects(e,!1)}getValuesWithSideEffects(e,t){const o=[];return this.forEachPositionInput(e,((e,n,i,r)=>{if(n<r){let n=pf(e.getValue());t&&this.textFilterParams.trimInput&&(n=Uw(n)??null,e.setValue(n,!0)),o.push(n)}})),o}getDefaultFilterOptions(){return jw}createValueElement(){const e=document.createElement("div");return e.classList.add("ag-filter-body"),Yv(e,"presentation"),this.createFromToElement(e,this.eValuesFrom,"from"),this.createFromToElement(e,this.eValuesTo,"to"),e}createFromToElement(e,t,o){const n=this.createManagedBean(new Lw);n.addCssClass(`ag-filter-${o}`),n.addCssClass("ag-filter-filter"),t.push(n),e.appendChild(n.getGui())}removeValueElements(e,t){this.removeComponents(this.eValuesFrom,e,t),this.removeComponents(this.eValuesTo,e,t)}mapValuesFromModel(e){const{filter:t,filterTo:o,type:n}=e||{};return[t||null,o||null].slice(0,this.getNumberOfInputs(n))}evaluateNullValue(e){return!!e&&["notEqual","notContains","blank"].indexOf(e)>=0}evaluateNonNullValue(e,t,o,n){const i=e.map((e=>this.formatter(e)))||[],r=this.formatter(t),{api:s,colDef:a,column:l,context:c,textFormatter:u}=this.textFilterParams;if("blank"===o.type)return this.isBlank(t);if("notBlank"===o.type)return!this.isBlank(t);const d={api:s,colDef:a,column:l,context:c,node:n.node,data:n.data,filterOption:o.type,value:r,textFormatter:u};return i.some((e=>this.matcher({...d,filterText:e})))}getModelAsString(e){return this.filterModelFormatter.getModelAsString(e)??""}}},{name:"agNumberColumnFilter",classImp:class extends _w{constructor(){super("numberFilter"),this.eValuesFrom=[],this.eValuesTo=[]}refresh(e){return this.numberFilterParams.allowedCharPattern===e.allowedCharPattern&&super.refresh(e)}mapValuesFromModel(e){const{filter:t,filterTo:o,type:n}=e||{};return[this.processValue(t),this.processValue(o)].slice(0,this.getNumberOfInputs(n))}getDefaultDebounceMs(){return 500}comparator(){return(e,t)=>e===t?0:e<t?1:-1}setParams(e){this.numberFilterParams=e,super.setParams(e),this.filterModelFormatter=new Bw(this.localeService,this.optionsFactory,this.numberFilterParams.numberFormatter)}getDefaultFilterOptions(){return Vw}setElementValue(e,t,o){const n=!o&&this.numberFilterParams.numberFormatter?this.numberFilterParams.numberFormatter(t??null):t;super.setElementValue(e,n)}createValueElement(){const e=Ww(this.numberFilterParams),t=document.createElement("div");return t.classList.add("ag-filter-body"),Yv(t,"presentation"),this.createFromToElement(t,this.eValuesFrom,"from",e),this.createFromToElement(t,this.eValuesTo,"to",e),t}createFromToElement(e,t,o,n){const i=this.createManagedBean(n?new Lw({allowedCharPattern:n}):new kw);i.addCssClass(`ag-filter-${o}`),i.addCssClass("ag-filter-filter"),t.push(i),e.appendChild(i.getGui())}removeValueElements(e,t){this.removeComponents(this.eValuesFrom,e,t),this.removeComponents(this.eValuesTo,e,t)}getValues(e){const t=[];return this.forEachPositionInput(e,((e,o,n,i)=>{o<i&&t.push(this.processValue(this.stringToFloat(e.getValue())))})),t}areSimpleModelsEqual(e,t){return e.filter===t.filter&&e.filterTo===t.filterTo&&e.type===t.type}getFilterType(){return"number"}processValue(e){return null==e||isNaN(e)?null:e}stringToFloat(e){if("number"===typeof e)return e;let t=pf(e);return null!=t&&""===t.trim()&&(t=null),this.numberFilterParams.numberParser?this.numberFilterParams.numberParser(t):null==t||"-"===t.trim()?null:parseFloat(t)}createCondition(e){const t=this.getConditionType(e),o={filterType:this.getFilterType(),type:t},n=this.getValues(e);return n.length>0&&(o.filter=n[0]),n.length>1&&(o.filterTo=n[1]),o}getInputs(e){return e>=this.eValuesFrom.length?[null,null]:[this.eValuesFrom[e],this.eValuesTo[e]]}getModelAsString(e){return this.filterModelFormatter.getModelAsString(e)??""}hasInvalidInputs(){let e=!1;return this.forEachInput((t=>{t.getInputElement().validity.valid||(e=!0)})),e}}},{name:"agDateColumnFilter",classImp:class extends _w{constructor(){super("dateFilter"),this.eConditionPanelsFrom=[],this.eConditionPanelsTo=[],this.dateConditionFromComps=[],this.dateConditionToComps=[],this.minValidYear=1e3,this.maxValidYear=nb,this.minValidDate=null,this.maxValidDate=null}wireBeans(e){super.wireBeans(e),this.context=e.context,this.userComponentFactory=e.userComponentFactory}afterGuiAttached(e){super.afterGuiAttached(e),this.dateConditionFromComps[0].afterGuiAttached(e)}mapValuesFromModel(e){const{dateFrom:t,dateTo:o,type:n}=e||{};return[t&&Jw(t)||null,o&&Jw(o)||null].slice(0,this.getNumberOfInputs(n))}comparator(){return this.dateFilterParams.comparator?this.dateFilterParams.comparator:this.defaultComparator.bind(this)}defaultComparator(e,t){return null==t||t<e?-1:t>e?1:0}setParams(e){this.dateFilterParams=e,super.setParams(e);const t=(t,o)=>{if(null!=e[t]){if(!isNaN(e[t]))return null==e[t]?o:Number(e[t]);nf(`DateFilter ${t} is not a number`)}return o};this.minValidYear=t("minValidYear",1e3),this.maxValidYear=t("maxValidYear",nb),this.minValidYear>this.maxValidYear&&nf("DateFilter minValidYear should be <= maxValidYear"),e.minValidDate?this.minValidDate=e.minValidDate instanceof Date?e.minValidDate:Jw(e.minValidDate):this.minValidDate=null,e.maxValidDate?this.maxValidDate=e.maxValidDate instanceof Date?e.maxValidDate:Jw(e.maxValidDate):this.maxValidDate=null,this.minValidDate&&this.maxValidDate&&this.minValidDate>this.maxValidDate&&nf("DateFilter minValidDate should be <= maxValidDate"),this.filterModelFormatter=new ob(this.dateFilterParams,this.localeService,this.optionsFactory)}createDateCompWrapper(e){const t=new eb(this.context,this.userComponentFactory,{onDateChanged:()=>this.onUiChanged(),filterParams:this.dateFilterParams},e);return this.addDestroyFunc((()=>t.destroy())),t}setElementValue(e,t){e.setDate(t)}setElementDisplayed(e,t){e.setDisplayed(t)}setElementDisabled(e,t){e.setDisabled(t)}getDefaultFilterOptions(){return tb}createValueElement(){const e=Nf(this.gos).createElement("div");return e.classList.add("ag-filter-body"),this.createFromToElement(e,this.eConditionPanelsFrom,this.dateConditionFromComps,"from"),this.createFromToElement(e,this.eConditionPanelsTo,this.dateConditionToComps,"to"),e}createFromToElement(e,t,o,n){const i=Nf(this.gos).createElement("div");i.classList.add(`ag-filter-${n}`),i.classList.add(`ag-filter-date-${n}`),t.push(i),e.appendChild(i),o.push(this.createDateCompWrapper(i))}removeValueElements(e,t){this.removeDateComps(this.dateConditionFromComps,e,t),this.removeDateComps(this.dateConditionToComps,e,t),this.removeItems(this.eConditionPanelsFrom,e,t),this.removeItems(this.eConditionPanelsTo,e,t)}removeDateComps(e,t,o){this.removeItems(e,t,o).forEach((e=>e.destroy()))}isValidDateValue(e){if(null===e)return!1;if(this.minValidDate){if(e<this.minValidDate)return!1}else if(e.getUTCFullYear()<this.minValidYear)return!1;if(this.maxValidDate){if(e>this.maxValidDate)return!1}else if(e.getUTCFullYear()>this.maxValidYear)return!1;return!0}isConditionUiComplete(e){if(!super.isConditionUiComplete(e))return!1;let t=!0;return this.forEachInput(((o,n,i,r)=>{i!==e||!t||n>=r||(t=t&&this.isValidDateValue(o.getDate()))})),t}areSimpleModelsEqual(e,t){return e.dateFrom===t.dateFrom&&e.dateTo===t.dateTo&&e.type===t.type}getFilterType(){return"date"}createCondition(e){const t=this.getConditionType(e),o={},n=this.getValues(e);return n.length>0&&(o.dateFrom=Xw(n[0])),n.length>1&&(o.dateTo=Xw(n[1])),{dateFrom:null,dateTo:null,filterType:this.getFilterType(),type:t,...o}}resetPlaceholder(){const e=this.localeService.getLocaleTextFunc(),t=this.translate("dateFormatOoo"),o=e("ariaFilterValue","Filter Value");this.forEachInput((e=>{e.setInputPlaceholder(t),e.setInputAriaLabel(o)}))}getInputs(e){return e>=this.dateConditionFromComps.length?[null,null]:[this.dateConditionFromComps[e],this.dateConditionToComps[e]]}getValues(e){const t=[];return this.forEachPositionInput(e,((e,o,n,i)=>{o<i&&t.push(e.getDate())})),t}translate(e){return"lessThan"===e?super.translate("before"):"greaterThan"===e?super.translate("after"):super.translate(e)}getModelAsString(e){return this.filterModelFormatter.getModelAsString(e)??""}}},{name:"agDateInput",classImp:class extends Xy{constructor(){super('\n            <div class="ag-filter-filter">\n                <ag-input-text-field class="ag-date-filter" data-ref="eDateInput"></ag-input-text-field>\n            </div>',[Nw]),this.eDateInput=qy}destroy(){super.destroy()}init(e){this.params=e,this.setParams(e);const t=this.eDateInput.getInputElement();this.addManagedListeners(t,{mouseDown:()=>{this.eDateInput.isDisabled()||this.usingSafariDatePicker||t.focus()},input:e=>{e.target===Vf(this.gos)&&(this.eDateInput.isDisabled()||this.params.onDateChanged())}})}setParams(e){const t=this.eDateInput.getInputElement(),o=this.shouldUseBrowserDatePicker(e);this.usingSafariDatePicker=o&&ly(),t.type=o?"date":"text";const{minValidYear:n,maxValidYear:i,minValidDate:r,maxValidDate:s}=e.filterParams||{};if(r&&n&&nf("DateFilter should not have both minValidDate and minValidYear parameters set at the same time! minValidYear will be ignored."),s&&i&&nf("DateFilter should not have both maxValidDate and maxValidYear parameters set at the same time! maxValidYear will be ignored."),r&&s){const[e,t]=[r,s].map((e=>e instanceof Date?e:Jw(e)));e&&t&&e.getTime()>t.getTime()&&nf("DateFilter parameter minValidDate should always be lower than or equal to parameter maxValidDate.")}r?r instanceof Date?t.min=Zw(r):t.min=r:n&&(t.min=`${n}-01-01`),s?s instanceof Date?t.max=Zw(s):t.max=s:i&&(t.max=`${i}-12-31`)}onParamsUpdated(e){this.refresh(e)}refresh(e){this.params=e,this.setParams(e)}getDate(){return Jw(this.eDateInput.getValue())}setDate(e){this.eDateInput.setValue(Xw(e,!1))}setInputPlaceholder(e){this.eDateInput.setInputPlaceholder(e)}setInputAriaLabel(e){this.eDateInput.setAriaLabel(e)}setDisabled(e){this.eDateInput.setDisabled(e)}afterGuiAttached(e){e&&e.suppressFocus||this.eDateInput.getInputElement().focus()}shouldUseBrowserDatePicker(e){return e.filterParams&&null!=e.filterParams.browserDatePicker?e.filterParams.browserDatePicker:uy()||dy()||ly()&&cy()>=14.1}}}]},Ob={version:hb,moduleName:"@ag-grid-community/simple-floating-filter",dependantModules:[Pb,Eb],userComponents:[{name:"agTextColumnFloatingFilter",classImp:class extends vb{init(e){super.init(e),this.filterModelFormatter=new zw(this.localeService,this.optionsFactory)}onParamsUpdated(e){this.refresh(e)}refresh(e){super.refresh(e),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory})}getDefaultFilterOptions(){return jw}getFilterModelFormatter(){return this.filterModelFormatter}createFloatingFilterInputService(){return this.createManagedBean(new mb)}}},{name:"agNumberColumnFloatingFilter",classImp:class extends vb{init(e){super.init(e),this.filterModelFormatter=new Bw(this.localeService,this.optionsFactory,e.filterParams?.numberFormatter)}onParamsUpdated(e){this.refresh(e)}refresh(e){Ww(e.filterParams)!==this.allowedCharPattern&&this.recreateFloatingFilterInputService(e),super.refresh(e),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory})}getDefaultFilterOptions(){return Vw}getFilterModelFormatter(){return this.filterModelFormatter}createFloatingFilterInputService(e){return this.allowedCharPattern=Ww(e.filterParams),this.allowedCharPattern?this.createManagedBean(new mb({config:{allowedCharPattern:this.allowedCharPattern}})):this.createManagedBean(new yb)}}},{name:"agDateColumnFloatingFilter",classImp:class extends fb{constructor(){super('\n            <div class="ag-floating-filter-input" role="presentation">\n                <ag-input-text-field data-ref="eReadOnlyText"></ag-input-text-field>\n                <div data-ref="eDateWrapper" style="display: flex;"></div>\n            </div>',[Nw]),this.eReadOnlyText=qy,this.eDateWrapper=qy}wireBeans(e){super.wireBeans(e),this.context=e.context,this.userComponentFactory=e.userComponentFactory}getDefaultFilterOptions(){return tb}init(e){super.init(e),this.params=e,this.filterParams=e.filterParams,this.createDateComponent(),this.filterModelFormatter=new ob(this.filterParams,this.localeService,this.optionsFactory);const t=this.localeService.getLocaleTextFunc();this.eReadOnlyText.setDisabled(!0).setInputAriaLabel(t("ariaDateFilterInput","Date Filter Input"))}onParamsUpdated(e){this.refresh(e)}refresh(e){super.refresh(e),this.params=e,this.filterParams=e.filterParams,this.updateDateComponent(),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory,dateFilterParams:this.filterParams}),this.updateCompOnModelChange(e.currentParentModel())}updateCompOnModelChange(e){const t=!this.isReadOnly()&&this.canWeEditAfterModelFromParentFilter(e);if(this.setEditable(t),t){if(e){const t=e;this.dateComp.setDate(Jw(t.dateFrom))}else this.dateComp.setDate(null);this.eReadOnlyText.setValue("")}else this.eReadOnlyText.setValue(this.filterModelFormatter.getModelAsString(e)),this.dateComp.setDate(null)}setEditable(e){wy(this.eDateWrapper,e),wy(this.eReadOnlyText.getGui(),!e)}onParentModelChanged(e,t){this.isEventFromFloatingFilter(t)||this.isEventFromDataChange(t)||(super.setLastTypeFromModel(e),this.updateCompOnModelChange(e))}onDateChanged(){const e=Xw(this.dateComp.getDate());this.params.parentFilterInstance((t=>{if(t){const o=Jw(e);t.onFloatingFilterChanged(this.getLastType()||null,o)}}))}getDateComponentParams(){const e=Sw(this.params.filterParams,this.getDefaultDebounceMs());return{onDateChanged:df(this.onDateChanged.bind(this),e),filterParams:this.params.column.getColDef().filterParams}}createDateComponent(){this.dateComp=new eb(this.context,this.userComponentFactory,this.getDateComponentParams(),this.eDateWrapper,(e=>{e.setInputAriaLabel(this.getAriaLabel(this.params))})),this.addDestroyFunc((()=>this.dateComp.destroy()))}updateDateComponent(){const e=this.gos.addGridCommonParams(this.getDateComponentParams());this.dateComp.updateParams(e)}getFilterModelFormatter(){return this.filterModelFormatter}}}]},xb={version:hb,moduleName:"@ag-grid-community/quick-filter-core",beans:[class extends Rm{constructor(){super(...arguments),this.beanName="quickFilterService",this.quickFilter=null,this.quickFilterParts=null}wireBeans(e){this.valueService=e.valueService,this.columnModel=e.columnModel,this.rowModel=e.rowModel,this.pivotResultColsService=e.pivotResultColsService}postConstruct(){const e=this.resetQuickFilterCache.bind(this);this.addManagedEventListeners({columnPivotModeChanged:e,newColumnsLoaded:e,columnRowGroupChanged:e,columnVisible:()=>{this.gos.get("includeHiddenColumnsInQuickFilter")||this.resetQuickFilterCache()}}),this.addManagedPropertyListener("quickFilterText",(e=>this.setQuickFilter(e.currentValue))),this.addManagedPropertyListeners(["includeHiddenColumnsInQuickFilter","applyQuickFilterBeforePivotOrAgg"],(()=>this.onQuickFilterColumnConfigChanged())),this.quickFilter=this.parseQuickFilter(this.gos.get("quickFilterText")),this.parser=this.gos.get("quickFilterParser"),this.matcher=this.gos.get("quickFilterMatcher"),this.setQuickFilterParts(),this.addManagedPropertyListeners(["quickFilterMatcher","quickFilterParser"],(()=>this.setQuickFilterParserAndMatcher()))}refreshQuickFilterCols(){const e=this.columnModel.isPivotMode(),t=this.columnModel.getAutoCols(),o=this.columnModel.getColDefCols();let n=(e&&!this.gos.get("applyQuickFilterBeforePivotOrAgg")?this.pivotResultColsService.getPivotResultCols()?.list:o)??[];t&&(n=n.concat(t)),this.colsForQuickFilter=this.gos.get("includeHiddenColumnsInQuickFilter")?n:n.filter((e=>e.isVisible()||e.isRowGroupActive()))}isQuickFilterPresent(){return null!==this.quickFilter}doesRowPassQuickFilter(e){const t=this.gos.get("cacheQuickFilter");return this.matcher?this.doesRowPassQuickFilterMatcher(t,e):this.quickFilterParts.every((o=>t?this.doesRowPassQuickFilterCache(e,o):this.doesRowPassQuickFilterNoCache(e,o)))}resetQuickFilterCache(){this.rowModel.forEachNode((e=>e.quickFilterAggregateText=null))}setQuickFilterParts(){const{quickFilter:e,parser:t}=this;this.quickFilterParts=e?t?t(e):e.split(" "):null}parseQuickFilter(e){return gf(e)?Pf(this.gos)?e.toUpperCase():(nf("Quick filtering only works with the Client-Side Row Model"),null):null}setQuickFilter(e){if(null!=e&&"string"!==typeof e)return void nf("Grid option quickFilterText only supports string inputs, received: "+typeof e);const t=this.parseQuickFilter(e);this.quickFilter!==t&&(this.quickFilter=t,this.setQuickFilterParts(),this.dispatchLocalEvent({type:"quickFilterChanged"}))}setQuickFilterParserAndMatcher(){const e=this.gos.get("quickFilterParser"),t=this.gos.get("quickFilterMatcher"),o=e!==this.parser||t!==this.matcher;this.parser=e,this.matcher=t,o&&(this.setQuickFilterParts(),this.dispatchLocalEvent({type:"quickFilterChanged"}))}onQuickFilterColumnConfigChanged(){this.refreshQuickFilterCols(),this.resetQuickFilterCache(),this.isQuickFilterPresent()&&this.dispatchLocalEvent({type:"quickFilterChanged"})}doesRowPassQuickFilterNoCache(e,t){return this.colsForQuickFilter.some((o=>{const n=this.getQuickFilterTextForColumn(o,e);return gf(n)&&n.indexOf(t)>=0}))}doesRowPassQuickFilterCache(e,t){return this.checkGenerateQuickFilterAggregateText(e),e.quickFilterAggregateText.indexOf(t)>=0}doesRowPassQuickFilterMatcher(e,t){let o;e?(this.checkGenerateQuickFilterAggregateText(t),o=t.quickFilterAggregateText):o=this.getQuickFilterAggregateText(t);const{quickFilterParts:n,matcher:i}=this;return i(n,o)}checkGenerateQuickFilterAggregateText(e){e.quickFilterAggregateText||(e.quickFilterAggregateText=this.getQuickFilterAggregateText(e))}getQuickFilterTextForColumn(e,t){let o=this.valueService.getValue(e,t,!0);const n=e.getColDef();if(n.getQuickFilterText){const i=this.gos.addGridCommonParams({value:o,node:t,data:t.data,column:e,colDef:n});o=n.getQuickFilterText(i)}return gf(o)?o.toString().toUpperCase():null}getQuickFilterAggregateText(e){const t=[];return this.colsForQuickFilter.forEach((o=>{const n=this.getQuickFilterTextForColumn(o,e);gf(n)&&t.push(n)})),t.join("\n")}}],dependantModules:[Cb]},Tb={version:hb,moduleName:"@ag-grid-community/filter",dependantModules:[Ob,Rb,{version:hb,moduleName:"@ag-grid-community/quick-filter",dependantModules:[xb,{version:hb,moduleName:"@ag-grid-community/quick-filter-api",apiFunctions:{isQuickFilterPresent:function(e){return!!e.filterManager?.isQuickFilterPresent()},getQuickFilter:function(e){return e.gos.get("quickFilterText")},resetQuickFilter:function(e){e.filterManager?.resetQuickFilterCache()}},dependantModules:[xb]}]},Sb]},Db=(e=>(e.COLUMN_GROUP="group",e.COLUMN="column",e.FLOATING_FILTER="filter",e))(Db||{}),Ab=class extends Rm{constructor(){super(...arguments),this.beanName="headerNavigationService",this.currentHeaderRowWithoutSpan=-1}wireBeans(e){this.focusService=e.focusService,this.headerPositionUtils=e.headerPositionUtils,this.ctrlsService=e.ctrlsService,this.columnModel=e.columnModel,this.visibleColService=e.visibleColsService}postConstruct(){this.ctrlsService.whenReady(this,(e=>{this.gridBodyCon=e.gridBodyCtrl}));const e=Nf(this.gos);this.addManagedElementListeners(e,{mousedown:()=>this.setCurrentHeaderRowWithoutSpan(-1)})}getHeaderRowCount(){return this.ctrlsService.getHeaderRowContainerCtrl()?.getRowCount()??0}getHeaderPositionForColumn(e,t){let o;if("string"===typeof e?(o=this.columnModel.getCol(e),o||(o=this.visibleColService.getColumnGroup(e))):o=e,!o)return null;const n=this.ctrlsService.getHeaderRowContainerCtrl(),i=n?.getAllCtrls(),r="filter"===lm(i||[]).getType(),s=this.getHeaderRowCount()-1;let a=-1,l=o;for(;l;)a++,l=l.getParent();let c=a;return t&&r&&c===s-1&&c++,-1===c?null:{headerRowIndex:c,column:o}}navigateVertically(e,t,o){if(t||(t=this.focusService.getFocusedHeader()),!t)return!1;const{headerRowIndex:n}=t,i=t.column,r=this.getHeaderRowCount(),s=0===e;let{headerRowIndex:a,column:l,headerRowIndexWithoutSpan:c}=s?this.headerPositionUtils.getColumnVisibleParent(i,n):this.headerPositionUtils.getColumnVisibleChild(i,n),u=!1;return a<0&&(a=0,l=i,u=!0),a>=r?(a=-1,this.setCurrentHeaderRowWithoutSpan(-1)):void 0!==c&&(this.currentHeaderRowWithoutSpan=c),!(!u&&!l)&&this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:a,column:l},allowUserOverride:!0,event:o})}setCurrentHeaderRowWithoutSpan(e){this.currentHeaderRowWithoutSpan=e}navigateHorizontally(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=arguments.length>2?arguments[2]:void 0;const n=this.focusService.getFocusedHeader(),i=2===e,r=this.gos.get("enableRtl");let s,a;if(-1!==this.currentHeaderRowWithoutSpan?n.headerRowIndex=this.currentHeaderRowWithoutSpan:this.currentHeaderRowWithoutSpan=n.headerRowIndex,i!==r?(a="Before",s=this.headerPositionUtils.findHeader(n,a)):(a="After",s=this.headerPositionUtils.findHeader(n,a)),s||!t)return this.focusService.focusHeaderPosition({headerPosition:s,direction:a,fromTab:t,allowUserOverride:!0,event:o});if(t){const e=this.gos.getCallback("tabToNextHeader");if(e)return this.focusService.focusHeaderPositionFromUserFunc({userFunc:e,headerPosition:s,direction:a})}return this.focusNextHeaderRow(n,a,o)}focusNextHeaderRow(e,t,o){const n=e.headerRowIndex;let i,r=null;if("Before"===t?n>0&&(i=n-1,this.currentHeaderRowWithoutSpan-=1,r=this.headerPositionUtils.findColAtEdgeForHeaderRow(i,"end")):(i=n+1,this.currentHeaderRowWithoutSpan<this.getHeaderRowCount()?this.currentHeaderRowWithoutSpan+=1:this.setCurrentHeaderRowWithoutSpan(-1),r=this.headerPositionUtils.findColAtEdgeForHeaderRow(i,"start")),!r)return!1;const{column:s,headerRowIndex:a}=this.headerPositionUtils.getHeaderIndexToFocus(r.column,r?.headerRowIndex);return this.focusService.focusHeaderPosition({headerPosition:{column:s,headerRowIndex:a},direction:t,fromTab:!0,allowUserOverride:!0,event:o})}scrollToColumn(e){let t,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"After";if(!e.getPinned()){if(yv(e)){const n=e.getDisplayedLeafColumns();t="Before"===o?lm(n):n[0]}else t=e;this.gridBodyCon.getScrollFeature().ensureColumnVisible(t)}}},Fb=class extends Rm{wireBeans(e){this.animationFrameService=e.animationFrameService,this.headerNavigationService=e.headerNavigationService,this.focusService=e.focusService,this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.ctrlsService=e.ctrlsService,this.filterManager=e.filterManager,this.menuService=e.menuService}setComp(e,t,o){this.comp=e,this.eGui=t,this.createManagedBean(new ww(o,{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addManagedEventListeners({columnPivotModeChanged:this.onPivotModeChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this)}),this.onPivotModeChanged(),this.setupHeaderHeight();const n=this.onHeaderContextMenu.bind(this);this.addManagedElementListeners(this.eGui,{contextmenu:n}),this.mockContextMenuForIPad(n),this.ctrlsService.register("gridHeaderCtrl",this)}setupHeaderHeight(){const e=this.setHeaderHeight.bind(this);e(),this.addManagedPropertyListeners(["headerHeight","pivotHeaderHeight","groupHeaderHeight","pivotGroupHeaderHeight","floatingFiltersHeight"],e),this.addManagedEventListeners({displayedColumnsChanged:e,columnHeaderHeightChanged:e,columnGroupHeaderHeightChanged:()=>this.animationFrameService.requestAnimationFrame((()=>e())),gridStylesChanged:e,advancedFilterEnabledChanged:e})}getHeaderHeight(){return this.headerHeight}setHeaderHeight(){const{columnModel:e}=this;let t=0;const o=this.columnModel.getGroupRowsHeight().reduce(((e,t)=>e+t),0),n=this.columnModel.getColumnHeaderRowHeight();if(this.filterManager?.hasFloatingFilters()&&(t+=e.getFloatingFiltersHeight()),t+=o,t+=n,this.headerHeight===t)return;this.headerHeight=t;const i=`${t+1}px`;this.comp.setHeightAndMinHeight(i),this.eventService.dispatchEvent({type:"headerHeightChanged"})}onPivotModeChanged(){const e=this.columnModel.isPivotMode();this.comp.addOrRemoveCssClass("ag-pivot-on",e),this.comp.addOrRemoveCssClass("ag-pivot-off",!e)}onDisplayedColumnsChanged(){const e=this.visibleColsService.getAllCols().some((e=>e.isSpanHeaderHeight()));this.comp.addOrRemoveCssClass("ag-header-allow-overflow",e)}onTabKeyDown(e){const t=this.gos.get("enableRtl"),o=e.shiftKey,n=o!==t?2:3;(this.headerNavigationService.navigateHorizontally(n,!0,e)||!o&&this.focusService.focusOverlay(!1)||this.focusService.focusNextGridCoreContainer(o,!0))&&e.preventDefault()}handleKeyDown(e){let t=null;switch(e.key){case dC.LEFT:t=2;case dC.RIGHT:gf(t)||(t=3),this.headerNavigationService.navigateHorizontally(t,!1,e)&&e.preventDefault();break;case dC.UP:t=0;case dC.DOWN:gf(t)||(t=1),this.headerNavigationService.navigateVertically(t,null,e)&&e.preventDefault();break;default:return}}onFocusOut(e){const{relatedTarget:t}=e;!t&&this.eGui.contains(Vf(this.gos))||this.eGui.contains(t)||this.focusService.clearFocusedHeader()}onHeaderContextMenu(e,t,o){if(!e&&!o||!this.menuService.isHeaderContextMenuEnabled())return;const{target:n}=e??t;n!==this.eGui&&n!==this.ctrlsService.getHeaderRowContainerCtrl()?.getViewportElement()||this.menuService.showHeaderContextMenu(void 0,e,o)}mockContextMenuForIPad(e){if(!py())return;const t=new oC(this.eGui);this.addManagedListeners(t,{longTap:t=>{e(void 0,t.touchStart,t.touchEvent)}}),this.addDestroyFunc((()=>t.destroy()))}},_b=class extends Rm{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];super(),this.callback=e,this.addSpacer=t}wireBeans(e){this.visibleColsService=e.visibleColsService,this.scrollVisibleService=e.scrollVisibleService}postConstruct(){const e=this.setWidth.bind(this);this.addManagedPropertyListener("domLayout",e),this.addManagedEventListeners({columnContainerWidthChanged:e,displayedColumnsChanged:e,leftPinnedWidthChanged:e}),this.addSpacer&&this.addManagedEventListeners({rightPinnedWidthChanged:e,scrollVisibilityChanged:e,scrollbarWidthChanged:e}),this.setWidth()}setWidth(){const e=xf(this.gos,"print"),t=this.visibleColsService.getBodyContainerWidth(),o=this.visibleColsService.getColsLeftWidth(),n=this.visibleColsService.getDisplayedColumnsRightWidth();let i;if(e)i=t+o+n;else if(i=t,this.addSpacer){0===(this.gos.get("enableRtl")?o:n)&&this.scrollVisibleService.isVerticalScrollShowing()&&(i+=this.scrollVisibleService.getScrollbarWidth())}this.callback(i)}},Mb=class extends Rm{constructor(e){super(),this.columnsToAggregate=[],this.columnsToGroup=[],this.columnsToPivot=[],this.pinned=e}wireBeans(e){this.funcColsService=e.funcColsService}onDragEnter(e){if(this.clearColumnsList(),this.gos.get("functionsReadOnly"))return;const t=e.dragItem.columns;t&&t.forEach((e=>{e.isPrimary()&&(e.isAnyFunctionActive()||(e.isAllowValue()?this.columnsToAggregate.push(e):e.isAllowRowGroup()?this.columnsToGroup.push(e):e.isAllowPivot()&&this.columnsToPivot.push(e)))}))}getIconName(){return this.columnsToAggregate.length+this.columnsToGroup.length+this.columnsToPivot.length>0?this.pinned?"pinned":"move":null}onDragLeave(e){this.clearColumnsList()}clearColumnsList(){this.columnsToAggregate.length=0,this.columnsToGroup.length=0,this.columnsToPivot.length=0}onDragging(e){}onDragStop(e){this.columnsToAggregate.length>0&&this.funcColsService.addValueColumns(this.columnsToAggregate,"toolPanelDragAndDrop"),this.columnsToGroup.length>0&&this.funcColsService.addRowGroupColumns(this.columnsToGroup,"toolPanelDragAndDrop"),this.columnsToPivot.length>0&&this.funcColsService.addPivotColumns(this.columnsToPivot,"toolPanelDragAndDrop")}onDragCancel(){this.clearColumnsList()}};function Ib(e){const{isFromHeader:t,fromLeft:o,xPosition:n,fromEnter:i,fakeEvent:r,pinned:s,gos:a,columnModel:l,columnMoveService:c,visibleColsService:u}=e;let{allMovingColumns:d}=e;if(t){const e=[];d.forEach((t=>{let o=null,n=t.getParent();for(;null!=n&&1===n.getDisplayedLeafColumns().length;)o=n,n=n.getParent();if(null!=o){(!!o.getColGroupDef()?.marryChildren?o.getProvidedColumnGroup().getLeafColumns():o.getLeafColumns()).forEach((t=>{e.includes(t)||e.push(t)}))}else e.includes(t)||e.push(t)})),d=e}const h=d.slice();l.sortColsLikeCols(h);const p=function(e){const{movingCols:t,draggingRight:o,xPosition:n,pinned:i,gos:r,columnModel:s,visibleColsService:a}=e,l=r.get("suppressMovableColumns")||t.some((e=>e.getColDef().suppressMovable));if(l)return[];const c=function(e,t){switch(t){case"left":return e.getLeftCols();case"right":return e.getRightCols();default:return e.getCenterCols()}}(a,i),u=s.getCols(),d=c.filter((e=>gm(t,e))),h=c.filter((e=>!gm(t,e))),p=u.filter((e=>!gm(t,e)));let g,f=0,m=n;if(o){let e=0;d.forEach((t=>e+=t.getActualWidth())),m-=e}if(m>0){for(let e=0;e<h.length;e++){if(m-=h[e].getActualWidth(),m<0)break;f++}o&&f++}if(f>0){const e=h[f-1];g=p.indexOf(e)+1}else g=p.indexOf(h[0]),-1===g&&(g=0);const v=[g],y=(e,t)=>e-t;if(o){let e=g+1;const t=u.length-1;for(;e<=t;)v.push(e),e++;v.sort(y)}else{let e=g;const t=u.length-1;let o=u[e];for(;e<=t&&c.indexOf(o)<0;)e++,v.push(e),o=u[e];e=g-1;const n=0;for(;e>=n;)v.push(e),e--;v.sort(y).reverse()}return v}({movingCols:h,draggingRight:o,xPosition:n,pinned:s,gos:a,columnModel:l,visibleColsService:u}),g=function(e,t){const o=t.getCols(),n=function(e){return e.sort(((e,t)=>e-t))}(e.map((e=>o.indexOf(e)))),i=n[0],r=lm(n)-i,s=r!==n.length-1;return s?null:i}(h,l);if(0===p.length)return;const f=p[0];let m=null!==g&&!i;if(t&&(m=null!==g),m&&!r){if(!o&&f>=g)return;if(o&&f<=g)return}const v=u.getAllCols(),y=[];let C=null;for(let b=0;b<p.length;b++){const e=p[b],t=c.getProposedColumnOrder(h,e);if(!c.doesOrderPassRules(t))continue;const o=t.filter((e=>v.includes(e)));if(null===C)C=o;else if(!cm(o,C))break;const n=Nb(t);y.push({move:e,fragCount:n})}if(0===y.length)return;y.sort(((e,t)=>e.fragCount-t.fragCount));const w=y[0].move;return w>l.getCols().length-d.length?void 0:{columns:d,toIndex:w}}function Lb(e){const{columns:t,toIndex:o}=Ib(e)||{},{finished:n,columnMoveService:i}=e;return t&&null!=o?(i.moveColumns(t,o,"uiColumnMoved",n),n?null:{columns:t,toIndex:o}):null}function Nb(e){function t(e){const t=[];let o=e.getOriginalParent();for(;null!=o;)t.push(o),o=o.getOriginalParent();return t}let o=0;for(let n=0;n<e.length-1;n++){let i=t(e[n]),r=t(e[n+1]);[i,r]=i.length>r.length?[i,r]:[r,i],i.forEach((e=>{-1===r.indexOf(e)&&o++}))}return o}function kb(e){const{pinned:t,fromKeyboard:o,gos:n,ctrlsService:i,useHeaderRow:r,skipScrollPadding:s}=e;let a=i.getHeaderRowContainerCtrl(t)?.getViewportElement(),{x:l}=e;return a?(o&&(l-=a.getBoundingClientRect().left),n.get("enableRtl")&&(r&&(a=a.querySelector(".ag-header-row")),l=a.clientWidth-l),null!=t||s||(l+=i.get("center").getCenterViewportScrollLeft()),l):0}function Gb(e,t){for(const o of e)o.setMoving(t,"uiColumnMoved")}var Vb=class extends Rm{constructor(e){super(),this.needToMoveLeft=!1,this.needToMoveRight=!1,this.lastMovedInfo=null,this.pinned=e,this.isCenterContainer=!gf(e)}wireBeans(e){this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.columnMoveService=e.columnMoveService,this.dragAndDropService=e.dragAndDropService,this.ctrlsService=e.ctrlsService}postConstruct(){this.ctrlsService.whenReady(this,(e=>{this.gridBodyCon=e.gridBodyCtrl}))}getIconName(){const e=this.lastDraggingEvent?.dragItem.columns??[];for(const t of e){const e=t.getPinned();if(t.getColDef().lockPinned){if(e==this.pinned)return"move"}else{if(e===this.pinned||!this.pinned)return"move";if(!e&&this.pinned)return"pinned"}}return"notAllowed"}onDragEnter(e){const t=e.dragItem.columns;if(0===e.dragSource.type)this.setColumnsVisible(t,!0,"uiColumnDragged");else{const o=e.dragItem.visibleState,n=(t||[]).filter((e=>o[e.getId()]));this.setColumnsVisible(n,!0,"uiColumnDragged")}this.gos.get("suppressMoveWhenColumnDragging")||this.attemptToPinColumns(t,this.pinned),this.onDragging(e,!0,!0)}onDragging(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.lastDraggingEvent,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=this.gos.get("suppressMoveWhenColumnDragging");if(n&&!i)return void this.finishColumnMoving();if(this.lastDraggingEvent=e,!e||!n&&ff(e.hDirection))return;const{pinned:r,gos:s,ctrlsService:a}=this,l=kb({x:e.x,pinned:r,gos:s,ctrlsService:a});t||this.checkCenterForScrolling(l),i?this.handleColumnDragWhileSuppressingMovement(e,t,o,l,n):this.handleColumnDragWhileAllowingMovement(e,t,o,l,n)}onDragLeave(){this.ensureIntervalCleared(),this.clearHighlighted(),this.lastMovedInfo=null}onDragStop(){this.onDragging(this.lastDraggingEvent,!1,!0,!0),this.ensureIntervalCleared(),this.lastMovedInfo=null}onDragCancel(){this.clearHighlighted(),this.ensureIntervalCleared(),this.lastMovedInfo=null}setColumnsVisible(e,t,o){if(!e)return;const n=e.filter((e=>!e.getColDef().lockVisible));this.columnModel.setColsVisible(n,t,o)}finishColumnMoving(){if(this.clearHighlighted(),!this.lastMovedInfo)return;const{columns:e,toIndex:t}=this.lastMovedInfo;this.columnMoveService.moveColumns(e,t,"uiColumnMoved",!0)}handleColumnDragWhileSuppressingMovement(e,t,o,n,i){const r=this.getAllMovingColumns(e,!0);if(i){const e=this.isAttemptingToPin(r);e&&this.attemptToPinColumns(r,void 0,!0);const{fromLeft:n,xPosition:i}=this.getNormalisedXPositionInfo(r,e)||{};if(null==n||null==i)return void this.finishColumnMoving();this.moveColumnsAfterHighlight({allMovingColumns:r,xPosition:i,fromEnter:t,fakeEvent:o,fromLeft:n})}else{if(!this.dragAndDropService.isDropZoneWithinThisGrid(e))return;this.highlightHoveredColumn(r,n)}}handleColumnDragWhileAllowingMovement(e,t,o,n,i){const r=this.getAllMovingColumns(e),s=1===this.normaliseDirection(e.hDirection),a=1===e.dragSource.type,l=Lb({...this.getMoveColumnParams({allMovingColumns:r,isFromHeader:a,xPosition:n,fromLeft:s,fromEnter:t,fakeEvent:o}),finished:i});l&&(this.lastMovedInfo=l)}getAllMovingColumns(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const o=e.dragSource.getDragItem();let n=null;t?(n=o.columnsInSplit,n||(n=o.columns)):n=o.columns;return n?n.filter((e=>!e.getColDef().lockPinned||e.getPinned()==this.pinned)):[]}getMoveColumnParams(e){const{allMovingColumns:t,isFromHeader:o,xPosition:n,fromLeft:i,fromEnter:r,fakeEvent:s}=e,{pinned:a,gos:l,columnModel:c,columnMoveService:u,visibleColsService:d}=this;return{allMovingColumns:t,isFromHeader:o,fromLeft:i,xPosition:n,pinned:a,fromEnter:r,fakeEvent:s,gos:l,columnModel:c,columnMoveService:u,visibleColsService:d}}findFirstAndLastMovingColumns(e){const t=e.length;let o,n;for(let i=0;i<=t;i++){if(!o){const t=e[i];null!=t.getLeft()&&(o=t)}if(!n){const o=e[t-1-i];null!=o.getLeft()&&(n=o)}if(o&&n)break}return{firstMovingCol:o,lastMovingCol:n}}highlightHoveredColumn(e,t){const{gos:o,columnModel:n}=this,i=o.get("enableRtl"),r=n.getCols().filter((e=>e.isVisible()&&e.getPinned()===this.pinned));let s,a=null,l=null,c=null;for(const u of r){if(l=u.getActualWidth(),a=this.getNormalisedColumnLeft(u,0,i),null!=a){if(a<=t&&a+l>=t){c=u;break}}a=null,l=null}if(c)-1!==e.indexOf(c)&&(c=null);else{for(let e=r.length-1;e>=0;e--){const t=r[e],o=r[e].getParent();if(!o){c=t;break}const n=o?.getDisplayedLeafColumns();if(n.length){c=lm(n);break}}if(!c)return;a=this.getNormalisedColumnLeft(c,0,i),l=c.getActualWidth()}this.lastHighlightedColumn?.column!==c&&this.clearHighlighted(),null!=c&&null!=a&&null!=l&&(s=t-a<l/2!==i?0:1,c.setHighlighted(s),this.lastHighlightedColumn={column:c,position:s})}getNormalisedXPositionInfo(e,t){const{gos:o,visibleColsService:n}=this,i=o.get("enableRtl"),{firstMovingCol:r,column:s,position:a}=this.getColumnMoveAndTargetInfo(e,t,i);if(!r||!s||null==a)return;const l=n.getAllCols(),c=l.indexOf(r),u=l.indexOf(s),d=0===a!==i,h=c<u||c===u&&!d;let p=0;if(d?h&&(p-=1):h||(p+=1),u+p===c)return;const g=l[u+p];if(!g)return;return{fromLeft:h,xPosition:this.getNormalisedColumnLeft(g,20,i)}}getColumnMoveAndTargetInfo(e,t,o){const n=this.lastHighlightedColumn||{},{firstMovingCol:i,lastMovingCol:r}=this.findFirstAndLastMovingColumns(e);if(!i||!r||n.column||!t)return{firstMovingCol:i,...n};const s="left"===this.getPinDirection();return{firstMovingCol:i,position:s?1:0,column:s!==o?i:r}}normaliseDirection(e){if(this.gos.get("enableRtl"))switch(e){case 0:return 1;case 1:return 0}return e}getNormalisedColumnLeft(e,t,o){const{gos:n,ctrlsService:i}=this,r=e.getLeft();if(null==r)return null;const s=e.getActualWidth();return kb({x:o?r+s-t:r+t,pinned:e.getPinned(),useHeaderRow:o,skipScrollPadding:!0,gos:n,ctrlsService:i})}isAttemptingToPin(e){const t=this.needToMoveLeft||this.needToMoveRight,o=this.failedMoveAttempts>7;return t&&o||e.some((e=>e.getPinned()!==this.pinned))}moveColumnsAfterHighlight(e){const{allMovingColumns:t,xPosition:o,fromEnter:n,fakeEvent:i,fromLeft:r}=e,s=this.getMoveColumnParams({allMovingColumns:t,isFromHeader:!0,xPosition:o,fromLeft:r,fromEnter:n,fakeEvent:i}),{columns:a,toIndex:l}=Ib(s)||{};a&&null!=l&&(this.lastMovedInfo={columns:a,toIndex:l}),this.finishColumnMoving()}clearHighlighted(){this.lastHighlightedColumn&&(this.lastHighlightedColumn.column.setHighlighted(null),this.lastHighlightedColumn=null)}checkCenterForScrolling(e){if(!this.isCenterContainer)return;const t=this.ctrlsService.get("center"),o=t.getCenterViewportScrollLeft(),n=o+t.getCenterWidth();this.gos.get("enableRtl")?(this.needToMoveRight=e<o+50,this.needToMoveLeft=e>n-50):(this.needToMoveLeft=e<o+50,this.needToMoveRight=e>n-50),this.needToMoveLeft||this.needToMoveRight?this.ensureIntervalStarted():this.ensureIntervalCleared()}ensureIntervalStarted(){this.movingIntervalId||(this.intervalCount=0,this.failedMoveAttempts=0,this.movingIntervalId=window.setInterval(this.moveInterval.bind(this),100),this.dragAndDropService.getDragAndDropImageComponent()?.setIcon(this.needToMoveLeft?"left":"right",!0))}ensureIntervalCleared(){this.movingIntervalId&&(window.clearInterval(this.movingIntervalId),this.movingIntervalId=null,this.failedMoveAttempts=0,this.dragAndDropService.getDragAndDropImageComponent()?.setIcon(this.getIconName()))}moveInterval(){let e;this.intervalCount++,e=10+5*this.intervalCount,e>100&&(e=100);let t=null;const o=this.gridBodyCon.getScrollFeature();if(this.needToMoveLeft?t=o.scrollHorizontally(-e):this.needToMoveRight&&(t=o.scrollHorizontally(e)),0!==t)this.onDragging(this.lastDraggingEvent),this.failedMoveAttempts=0;else{if(this.failedMoveAttempts++,this.failedMoveAttempts<=8)return;if(this.dragAndDropService.getDragAndDropImageComponent()?.setIcon("pinned"),!this.gos.get("suppressMoveWhenColumnDragging")){const e=this.lastDraggingEvent?.dragItem.columns;this.attemptToPinColumns(e,void 0,!0)}}}getPinDirection(){return this.needToMoveLeft||"left"===this.pinned?"left":this.needToMoveRight||"right"===this.pinned?"right":void 0}attemptToPinColumns(e,t){let o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const n=(e||[]).filter((e=>!e.getColDef().lockPinned));return n.length?(o&&(t=this.getPinDirection()),this.columnModel.setColsPinned(n,t,"uiColumnDragged"),o&&this.dragAndDropService.nudge(),n.length):0}destroy(){super.destroy(),this.lastDraggingEvent=null,this.clearHighlighted(),this.lastMovedInfo=null}},Hb=class extends Rm{wireBeans(e){this.dragAndDropService=e.dragAndDropService,this.columnModel=e.columnModel,this.ctrlsService=e.ctrlsService}constructor(e,t){super(),this.pinned=e,this.eContainer=t}postConstruct(){this.ctrlsService.whenReady(this,(e=>{switch(this.pinned){case"left":this.eSecondaryContainers=[[e.gridBodyCtrl.getBodyViewportElement(),e.left.getContainerElement()],[e.bottomLeft.getContainerElement()],[e.topLeft.getContainerElement()]];break;case"right":this.eSecondaryContainers=[[e.gridBodyCtrl.getBodyViewportElement(),e.right.getContainerElement()],[e.bottomRight.getContainerElement()],[e.topRight.getContainerElement()]];break;default:this.eSecondaryContainers=[[e.gridBodyCtrl.getBodyViewportElement(),e.center.getViewportElement()],[e.bottomCenter.getViewportElement()],[e.topCenter.getViewportElement()]]}})),this.moveColumnFeature=this.createManagedBean(new Vb(this.pinned)),this.bodyDropPivotTarget=this.createManagedBean(new Mb(this.pinned)),this.dragAndDropService.addDropTarget(this),this.addDestroyFunc((()=>this.dragAndDropService.removeDropTarget(this)))}isInterestedIn(e){return 1===e||0===e&&this.gos.get("allowDragFromColumnsToolPanel")}getSecondaryContainers(){return this.eSecondaryContainers}getContainer(){return this.eContainer}getIconName(){return this.currentDropListener.getIconName()}isDropColumnInPivotMode(e){return this.columnModel.isPivotMode()&&0===e.dragSource.type}onDragEnter(e){this.currentDropListener=this.isDropColumnInPivotMode(e)?this.bodyDropPivotTarget:this.moveColumnFeature,this.currentDropListener.onDragEnter(e)}onDragLeave(e){this.currentDropListener.onDragLeave(e)}onDragging(e){this.currentDropListener.onDragging(e)}onDragStop(e){this.currentDropListener.onDragStop(e)}onDragCancel(){this.currentDropListener.onDragCancel()}},Bb=class extends Rm{wireBeans(e){this.horizontalResizeService=e.horizontalResizeService,this.pinnedWidthService=e.pinnedWidthService,this.ctrlsService=e.ctrlsService,this.columnSizeService=e.columnSizeService,this.columnAutosizeService=e.columnAutosizeService}constructor(e,t,o,n,i){super(),this.pinned=e,this.column=t,this.eResize=o,this.comp=n,this.ctrl=i}postConstruct(){const e=[];let t,o;const n=()=>{if(wy(this.eResize,t),!t)return;const n=this.horizontalResizeService.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});if(e.push(n),o){const t=this.gos.get("skipHeaderOnAutoSize"),o=()=>{this.columnAutosizeService.autoSizeColumn(this.column,"uiColumnResized",t)};this.eResize.addEventListener("dblclick",o);const n=new oC(this.eResize);n.addEventListener("doubleTap",o),e.push((()=>{this.eResize.removeEventListener("dblclick",o),n.removeEventListener("doubleTap",o),n.destroy()}))}},i=()=>{e.forEach((e=>e())),e.length=0},r=()=>{const e=this.column.isResizable(),r=!this.gos.get("suppressAutoSize")&&!this.column.getColDef().suppressAutoSize;(e!==t||r!==o)&&(t=e,o=r,i(),n())};r(),this.addDestroyFunc(i),this.ctrl.setRefreshFunction("resize",r)}onResizing(e,t){const{column:o,lastResizeAmount:n,resizeStartWidth:i}=this,r=this.normaliseResizeAmount(t),s=[{key:o,newWidth:i+r}];if(this.column.getPinned()){if(this.pinnedWidthService.getPinnedLeftWidth()+this.pinnedWidthService.getPinnedRightWidth()+(r-n)>Py(this.ctrlsService.getGridBodyCtrl().getBodyViewportElement())-50)return}this.lastResizeAmount=r,this.columnSizeService.setColumnWidths(s,this.resizeWithShiftKey,e,"uiColumnResized"),e&&this.toggleColumnResizing(!1)}onResizeStart(e){this.resizeStartWidth=this.column.getActualWidth(),this.lastResizeAmount=0,this.resizeWithShiftKey=e,this.toggleColumnResizing(!0)}toggleColumnResizing(e){this.comp.addOrRemoveCssClass("ag-column-resizing",e)}normaliseResizeAmount(e){let t=e;const o="left"!==this.pinned,n="right"===this.pinned;return this.gos.get("enableRtl")?o&&(t*=-1):n&&(t*=-1),t}},Wb=class extends Rm{constructor(e){super(),this.cbSelectAllVisible=!1,this.processingEventFromCheckbox=!1,this.column=e}wireBeans(e){this.rowModel=e.rowModel,this.selectionService=e.selectionService}onSpaceKeyDown(e){const t=this.cbSelectAll;t.isDisplayed()&&!t.getGui().contains(Vf(this.gos))&&(e.preventDefault(),t.setValue(!t.getValue()))}getCheckboxGui(){return this.cbSelectAll.getGui()}setComp(e){this.headerCellCtrl=e,this.cbSelectAll=this.createManagedBean(new fC),this.cbSelectAll.addCssClass("ag-header-select-all"),Yv(this.cbSelectAll.getGui(),"presentation"),this.showOrHideSelectAll(),this.addManagedEventListeners({newColumnsLoaded:this.onNewColumnsLoaded.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),selectionChanged:this.onSelectionChanged.bind(this),paginationChanged:this.onSelectionChanged.bind(this),modelUpdated:this.onModelChanged.bind(this)}),this.addManagedListeners(this.cbSelectAll,{fieldValueChanged:this.onCbSelectAll.bind(this)}),this.cbSelectAll.getInputElement().setAttribute("tabindex","-1"),this.refreshSelectAllLabel()}onNewColumnsLoaded(){this.showOrHideSelectAll()}onDisplayedColumnsChanged(){this.isAlive()&&this.showOrHideSelectAll()}showOrHideSelectAll(){this.cbSelectAllVisible=this.isCheckboxSelection(),this.cbSelectAll.setDisplayed(this.cbSelectAllVisible),this.cbSelectAllVisible&&(this.checkRightRowModelType("selectAllCheckbox"),this.checkSelectionType("selectAllCheckbox"),this.updateStateOfCheckbox()),this.refreshSelectAllLabel()}onModelChanged(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()}onSelectionChanged(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()}updateStateOfCheckbox(){if(this.processingEventFromCheckbox)return;this.processingEventFromCheckbox=!0;const e=this.selectionService.getSelectAllState(this.isFilteredOnly(),this.isCurrentPageOnly());this.cbSelectAll.setValue(e);const t=this.selectionService.hasNodesToSelect(this.isFilteredOnly(),this.isCurrentPageOnly());this.cbSelectAll.setDisabled(!t),this.refreshSelectAllLabel(),this.processingEventFromCheckbox=!1}refreshSelectAllLabel(){const e=this.localeService.getLocaleTextFunc(),t=this.cbSelectAll.getValue()?e("ariaChecked","checked"):e("ariaUnchecked","unchecked"),o=e("ariaRowSelectAll","Press Space to toggle all rows selection");this.cbSelectAllVisible?this.headerCellCtrl.setAriaDescriptionProperty("selectAll",`${o} (${t})`):this.headerCellCtrl.setAriaDescriptionProperty("selectAll",null),this.cbSelectAll.setInputAriaLabel(e("ariaHeaderSelection","Column with Header Selection")),this.headerCellCtrl.announceAriaDescription()}checkSelectionType(e){return!!im(this.gos)||(nf(`${e} is only available if using 'multiRow' selection mode.`),!1)}checkRightRowModelType(e){return!(!Pf(this.gos)&&!Of(this.gos))||(nf(`${e} is only available if using 'clientSide' or 'serverSide' rowModelType, you are using ${this.rowModel.getType()}.`),!1)}onCbSelectAll(){if(this.processingEventFromCheckbox)return;if(!this.cbSelectAllVisible)return;const e=this.cbSelectAll.getValue(),t=this.isFilteredOnly(),o=this.isCurrentPageOnly();let n="uiSelectAll";o?n="uiSelectAllCurrentPage":t&&(n="uiSelectAllFiltered");const i={source:n,justFiltered:t,justCurrentPage:o};e?this.selectionService.selectAllRowNodes(i):this.selectionService.deselectAllRowNodes(i)}isCheckboxSelection(){const e=this.gos.get("rowSelection"),t="object"===typeof e&&Qf(e)&&Im(this.column),o=this.column.getColDef().headerCheckboxSelection;let n=!1;return n=!!t||("function"===typeof o?o(this.gos.addGridCommonParams({column:this.column,colDef:this.column.getColDef()})):!!o),n&&this.checkRightRowModelType(t?"headerCheckbox":"headerCheckboxSelection")&&this.checkSelectionType(t?"headerCheckbox":"headerCheckboxSelection")}isFilteredOnly(){const e=this.gos.get("rowSelection");return"object"===typeof e?"multiRow"===e.mode&&"filtered"===e.selectAll:!!this.column.getColDef().headerCheckboxSelectionFilteredOnly}isCurrentPageOnly(){const e=this.gos.get("rowSelection");return"object"===typeof e?"multiRow"===e.mode&&"currentPage"===e.selectAll:!!this.column.getColDef().headerCheckboxSelectionCurrentPageOnly}},jb=class extends ub{constructor(e,t,o){super(e,t,o),this.refreshFunctions={},this.userHeaderClasses=new Set,this.ariaDescriptionProperties=new Map,this.column=e}setComp(e,t,o,n,i){this.comp=e,i=_v(this,this.beans.context,i),this.setGui(t,i),this.updateState(),this.setupWidth(i),this.setupMovingCss(i),this.setupMenuClass(i),this.setupSortableClass(i),this.setupWrapTextClass(),this.refreshSpanHeaderHeight(),this.setupAutoHeight({wrapperElement:n,checkMeasuringCallback:e=>this.setRefreshFunction("measuring",e),compBean:i}),this.addColumnHoverListener(i),this.setupFilterClass(i),this.setupClassesFromColDef(),this.setupTooltip(i),this.addActiveHeaderMouseListeners(i),this.setupSelectAll(i),this.setupUserComp(i),this.refreshAria(),this.resizeFeature=i.createManagedBean(new Bb(this.getPinned(),this.column,o,e,this)),i.createManagedBean(new db([this.column],t)),i.createManagedBean(new ib(this.column,t,this.beans)),i.createManagedBean(new ww(t,{shouldStopEventPropagation:e=>this.shouldStopEventPropagation(e),onTabKeyDown:()=>null,handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addResizeAndMoveKeyboardListeners(i),i.addManagedPropertyListeners(["suppressMovableColumns","suppressMenuHide","suppressAggFuncInHeader"],(()=>this.refresh(i))),i.addManagedListeners(this.column,{colDefChanged:()=>this.refresh(i)}),i.addManagedListeners(this.column,{headerHighlightChanged:this.onHeaderHighlightChanged.bind(this)});const r=()=>this.checkDisplayName(i);i.addManagedEventListeners({columnValueChanged:r,columnRowGroupChanged:r,columnPivotChanged:r,headerHeightChanged:this.onHeaderHeightChanged.bind(this)}),i.addDestroyFunc((()=>{this.refreshFunctions={},this.selectAllFeature=null,this.dragSourceElement=void 0,this.userCompDetails=null,this.userHeaderClasses.clear(),this.ariaDescriptionProperties.clear(),this.clearComponent()}))}resizeHeader(e,t){if(!this.column.isResizable())return;const o=this.column.getActualWidth(),n=this.column.getMinWidth(),i=this.column.getMaxWidth(),r=Math.min(Math.max(o+e,n),i);this.beans.columnSizeService.setColumnWidths([{key:this.column,newWidth:r}],t,!0,"uiColumnResized")}moveHeader(e){const{eGui:t,beans:o,column:n,ctrlsService:i}=this,{gos:r,columnModel:s,columnMoveService:a,visibleColsService:l}=o,c=this.getPinned(),u=t.getBoundingClientRect().left,d=n.getActualWidth(),h=kb({x:0===e!==r.get("enableRtl")?u-20:u+d+20,pinned:c,fromKeyboard:!0,gos:r,ctrlsService:i}),p=this.focusService.getFocusedHeader();Lb({allMovingColumns:[n],isFromHeader:!0,fromLeft:1===e,xPosition:h,pinned:c,fromEnter:!1,fakeEvent:!1,gos:r,columnModel:s,columnMoveService:a,visibleColsService:l,finished:!0}),i.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(n,"auto"),this.isAlive()&&!this.beans.gos.get("ensureDomOrder")||!p||this.restoreFocus(p)}restoreFocus(e){this.focusService.focusHeaderPosition({headerPosition:{...e,column:this.column}})}setupUserComp(e){const t=this.lookupUserCompDetails(e);this.setCompDetails(t)}setCompDetails(e){this.userCompDetails=e,this.comp.setUserCompDetails(e)}lookupUserCompDetails(e){const t=this.createParams(e),o=this.column.getColDef();return this.userComponentFactory.getHeaderCompDetails(o,t)}createParams(e){return this.gos.addGridCommonParams({column:this.column,displayName:this.displayName,enableSorting:this.column.isSortable(),enableMenu:this.menuEnabled,enableFilterButton:this.openFilterEnabled&&this.menuService.isHeaderFilterButtonEnabled(this.column),enableFilterIcon:!this.openFilterEnabled||this.menuService.isLegacyMenuEnabled(),showColumnMenu:e=>{this.menuService.showColumnMenu({column:this.column,buttonElement:e,positionBy:"button"})},showColumnMenuAfterMouseClick:e=>{this.menuService.showColumnMenu({column:this.column,mouseEvent:e,positionBy:"mouse"})},showFilter:e=>{this.menuService.showFilterMenu({column:this.column,buttonElement:e,containerType:"columnFilter",positionBy:"button"})},progressSort:e=>{this.beans.sortController.progressSort(this.column,!!e,"uiColumnSorted")},setSort:(e,t)=>{this.beans.sortController.setSortForColumn(this.column,e,!!t,"uiColumnSorted")},eGridHeader:this.getGui(),setTooltip:(t,o)=>{this.setupTooltip(e,t,o)}})}setupSelectAll(e){this.selectAllFeature=e.createManagedBean(new Wb(this.column)),this.selectAllFeature.setComp(this)}getSelectAllGui(){return this.selectAllFeature.getCheckboxGui()}handleKeyDown(e){super.handleKeyDown(e),e.key===dC.SPACE&&this.selectAllFeature.onSpaceKeyDown(e),e.key===dC.ENTER&&this.onEnterKeyDown(e),e.key===dC.DOWN&&e.altKey&&this.showMenuOnKeyPress(e,!1)}onEnterKeyDown(e){if(e.ctrlKey||e.metaKey)this.showMenuOnKeyPress(e,!0);else if(this.sortable){const t=e.shiftKey;this.beans.sortController.progressSort(this.column,t,"uiColumnSorted")}}showMenuOnKeyPress(e,t){const o=this.comp.getUserCompInstance();o&&o instanceof aC&&o.onMenuKeyboardShortcut(t)&&e.preventDefault()}onFocusIn(e){if(!this.getGui().contains(e.relatedTarget)){const e=this.getRowIndex();this.focusService.setFocusedHeader(e,this.column),this.announceAriaDescription()}this.focusService.isKeyboardMode()&&this.setActiveHeader(!0)}onFocusOut(e){this.getGui().contains(e.relatedTarget)||this.setActiveHeader(!1)}setupTooltip(e,t,o){this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature));const n="whenTruncated"===this.gos.get("tooltipShowMode"),i=this.eGui,r=this.column.getColDef();o||!n||r.headerComponent||(o=()=>{const e=i.querySelector(".ag-header-cell-text");return!e||e.scrollWidth>e.clientWidth});const s={getColumn:()=>this.column,getColDef:()=>this.column.getColDef(),getGui:()=>i,getLocation:()=>"header",getTooltipValue:()=>{if(null!=t)return t;return this.column.getColDef().headerTooltip},shouldDisplayTooltip:o},a=e.createManagedBean(new Ky(s));this.setRefreshFunction("tooltip",(()=>a.refreshToolTip()))}setupClassesFromColDef(){const e=()=>{const e=rb(this.column.getColDef(),this.gos,this.column,null),t=this.userHeaderClasses;this.userHeaderClasses=new Set(e),e.forEach((e=>{t.has(e)?t.delete(e):this.comp.addOrRemoveCssClass(e,!0)})),t.forEach((e=>this.comp.addOrRemoveCssClass(e,!1)))};this.setRefreshFunction("headerClasses",e),e()}setDragSource(e){if(this.dragSourceElement=e,this.removeDragSource(),!e||!this.draggable)return;const{column:t,beans:o,displayName:n,dragAndDropService:i,gos:r}=this,{columnModel:s}=o;let a=!this.gos.get("suppressDragLeaveHidesColumns");const l=this.dragSource={type:1,eElement:e,getDefaultIconName:()=>a?"hide":"notAllowed",getDragItem:()=>this.createDragItem(t),dragItemName:n,onDragStarted:()=>{a=!r.get("suppressDragLeaveHidesColumns"),Gb([t],!0)},onDragStopped:()=>Gb([t],!1),onDragCancelled:()=>Gb([t],!1),onGridEnter:e=>{if(a){const t=e?.columns?.filter((e=>!e.getColDef().lockVisible))||[];s.setColsVisible(t,!0,"uiColumnMoved")}},onGridExit:e=>{if(a){const t=e?.columns?.filter((e=>!e.getColDef().lockVisible))||[];s.setColsVisible(t,!1,"uiColumnMoved")}}};i.addDragSource(l,!0)}createDragItem(e){const t={};return t[e.getId()]=e.isVisible(),{columns:[e],visibleState:t}}updateState(){this.menuEnabled=this.menuService.isColumnMenuInHeaderEnabled(this.column),this.openFilterEnabled=this.menuService.isFilterMenuInHeaderEnabled(this.column),this.sortable=this.column.isSortable(),this.displayName=this.calculateDisplayName(),this.draggable=this.workOutDraggable()}setRefreshFunction(e,t){this.refreshFunctions[e]=t}refresh(e){this.updateState(),this.refreshHeaderComp(e),this.refreshAria(),Object.values(this.refreshFunctions).forEach((e=>e()))}refreshHeaderComp(e){const t=this.lookupUserCompDetails(e);!!(null!=this.comp.getUserCompInstance()&&this.userCompDetails.componentClass==t.componentClass)&&this.attemptHeaderCompRefresh(t.params)?this.setDragSource(this.dragSourceElement):this.setCompDetails(t)}attemptHeaderCompRefresh(e){const t=this.comp.getUserCompInstance();if(!t)return!1;if(!t.refresh)return!1;return t.refresh(e)}calculateDisplayName(){return this.beans.columnNameService.getDisplayNameForColumn(this.column,"header",!0)}checkDisplayName(e){this.displayName!==this.calculateDisplayName()&&this.refresh(e)}workOutDraggable(){const e=this.column.getColDef();return!!(!this.gos.get("suppressMovableColumns")&&!e.suppressMovable&&!e.lockPosition)||!!e.enableRowGroup||!!e.enablePivot}setupWidth(e){const t=()=>{const e=this.column.getActualWidth();this.comp.setWidth(`${e}px`)};e.addManagedListeners(this.column,{widthChanged:t}),t()}setupMovingCss(e){const t=()=>{this.comp.addOrRemoveCssClass("ag-header-cell-moving",this.column.isMoving())};e.addManagedListeners(this.column,{movingChanged:t}),t()}setupMenuClass(e){const t=()=>{this.comp.addOrRemoveCssClass("ag-column-menu-visible",this.column.isMenuVisible())};e.addManagedListeners(this.column,{menuVisibleChanged:t}),t()}setupSortableClass(e){const t=()=>{this.comp.addOrRemoveCssClass("ag-header-cell-sortable",!!this.sortable)};t(),this.setRefreshFunction("updateSortable",t),e.addManagedEventListeners({sortChanged:this.refreshAriaSort.bind(this)})}setupFilterClass(e){const t=()=>{const e=this.column.isFilterActive();this.comp.addOrRemoveCssClass("ag-header-cell-filtered",e),this.refreshAria()};e.addManagedListeners(this.column,{filterActiveChanged:t}),t()}setupWrapTextClass(){const e=()=>{const e=!!this.column.getColDef().wrapHeaderText;this.comp.addOrRemoveCssClass("ag-header-cell-wrap-text",e)};e(),this.setRefreshFunction("wrapText",e)}onHeaderHighlightChanged(){const e=this.column.getHighlighted(),t=0===e,o=1===e;this.comp.addOrRemoveCssClass("ag-header-highlight-before",t),this.comp.addOrRemoveCssClass("ag-header-highlight-after",o)}onDisplayedColumnsChanged(){super.onDisplayedColumnsChanged(),this.isAlive()&&this.onHeaderHeightChanged()}onHeaderHeightChanged(){this.refreshSpanHeaderHeight()}refreshSpanHeaderHeight(){const{eGui:e,column:t,comp:o,beans:n}=this,i=this.beans.columnModel.getGroupRowsHeight(),r=0===i.reduce(((e,t)=>e+t),0);if(o.addOrRemoveCssClass("ag-header-parent-hidden",r),!t.isSpanHeaderHeight())return e.style.removeProperty("top"),e.style.removeProperty("height"),o.addOrRemoveCssClass("ag-header-span-height",!1),void o.addOrRemoveCssClass("ag-header-span-total",!1);const{numberOfParents:s,isSpanningTotal:a}=this.column.getColumnGroupPaddingInfo();o.addOrRemoveCssClass("ag-header-span-height",s>0);const{columnModel:l}=n,c=l.getColumnHeaderRowHeight();if(0===s)return o.addOrRemoveCssClass("ag-header-span-total",!1),e.style.setProperty("top","0px"),void e.style.setProperty("height",`${c}px`);o.addOrRemoveCssClass("ag-header-span-total",a);let u=0;for(let d=0;d<s;d++)u+=i[i.length-1-d];e.style.setProperty("top",-u+"px"),e.style.setProperty("height",`${c+u}px`)}refreshAriaSort(){if(this.sortable){const e=this.localeService.getLocaleTextFunc(),t=this.beans.sortController.getDisplaySortForColumn(this.column)||null;this.comp.setAriaSort(function(e){let t;return t="asc"===e?"ascending":"desc"===e?"descending":"mixed"===e?"other":"none",t}(t)),this.setAriaDescriptionProperty("sort",e("ariaSortableColumn","Press ENTER to sort"))}else this.comp.setAriaSort(),this.setAriaDescriptionProperty("sort",null)}refreshAriaMenu(){if(this.menuEnabled){const e=this.localeService.getLocaleTextFunc();this.setAriaDescriptionProperty("menu",e("ariaMenuColumn","Press ALT DOWN to open column menu"))}else this.setAriaDescriptionProperty("menu",null)}refreshAriaFilterButton(){if(this.openFilterEnabled&&!this.menuService.isLegacyMenuEnabled()){const e=this.localeService.getLocaleTextFunc();this.setAriaDescriptionProperty("filterButton",e("ariaFilterColumn","Press CTRL ENTER to open filter"))}else this.setAriaDescriptionProperty("filterButton",null)}refreshAriaFiltered(){const e=this.localeService.getLocaleTextFunc();this.column.isFilterActive()?this.setAriaDescriptionProperty("filter",e("ariaColumnFiltered","Column Filtered")):this.setAriaDescriptionProperty("filter",null)}setAriaDescriptionProperty(e,t){null!=t?this.ariaDescriptionProperties.set(e,t):this.ariaDescriptionProperties.delete(e)}announceAriaDescription(){if(!this.eGui.contains(Vf(this.beans.gos)))return;const e=Array.from(this.ariaDescriptionProperties.keys()).sort(((e,t)=>"filter"===e?-1:t.charCodeAt(0)-e.charCodeAt(0))).map((e=>this.ariaDescriptionProperties.get(e))).join(". ");this.beans.ariaAnnouncementService.announceValue(e,"columnHeader")}refreshAria(){this.refreshAriaSort(),this.refreshAriaMenu(),this.refreshAriaFilterButton(),this.refreshAriaFiltered()}addColumnHoverListener(e){const t=()=>{if(!this.gos.get("columnHoverHighlight"))return;const e=this.beans.columnHoverService.isHovered(this.column);this.comp.addOrRemoveCssClass("ag-column-hover",e)};e.addManagedEventListeners({columnHoverChanged:t}),t()}getColId(){return this.column.getColId()}addActiveHeaderMouseListeners(e){const t=e=>this.handleMouseOverChange("mouseenter"===e.type);e.addManagedListeners(this.getGui(),{mouseenter:t,mouseleave:t,click:()=>this.dispatchColumnMouseEvent("columnHeaderClicked",this.column),contextmenu:e=>this.handleContextMenuMouseEvent(e,void 0,this.column)})}handleMouseOverChange(e){this.setActiveHeader(e),this.eventService.dispatchEvent({type:e?"columnHeaderMouseOver":"columnHeaderMouseLeave",column:this.column})}setActiveHeader(e){this.comp.addOrRemoveCssClass("ag-header-active",e)}getAnchorElementForMenu(e){const t=this.comp.getUserCompInstance();return t instanceof aC?t.getAnchorElementForMenu(e):this.getGui()}destroy(){super.destroy()}},zb=class extends Rm{wireBeans(e){this.horizontalResizeService=e.horizontalResizeService,this.autoWidthCalculator=e.autoWidthCalculator,this.visibleColsService=e.visibleColsService,this.columnSizeService=e.columnSizeService,this.columnAutosizeService=e.columnAutosizeService}constructor(e,t,o,n){super(),this.eResize=t,this.comp=e,this.pinned=o,this.columnGroup=n}postConstruct(){if(!this.columnGroup.isResizable())return void this.comp.setResizableDisplayed(!1);const e=this.horizontalResizeService.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});if(this.addDestroyFunc(e),!this.gos.get("suppressAutoSize")){const e=this.gos.get("skipHeaderOnAutoSize");this.eResize.addEventListener("dblclick",(()=>{const t=[];this.columnGroup.getDisplayedLeafColumns().forEach((e=>{e.getColDef().suppressAutoSize||t.push(e.getColId())})),t.length>0&&this.columnAutosizeService.autoSizeCols({colKeys:t,skipHeader:e,stopAtGroup:this.columnGroup,source:"uiColumnResized"}),this.resizeLeafColumnsToFit("uiColumnResized")}))}}onResizeStart(e){const t=this.getInitialValues(e);this.storeLocalValues(t),this.toggleColumnResizing(!0)}onResizing(e,t){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"uiColumnResized";const n=this.normaliseDragChange(t),i=this.resizeStartWidth+n;this.resizeColumnsFromLocalValues(i,o,e)}getInitialValues(e){const t=this.getColumnsToResize(),o=this.getInitialSizeOfColumns(t),n={columnsToResize:t,resizeStartWidth:o,resizeRatios:this.getSizeRatiosOfColumns(t,o)};let i=null;if(e&&(i=this.visibleColsService.getGroupAtDirection(this.columnGroup,"After")),i){const e=i.getDisplayedLeafColumns(),t=n.groupAfterColumns=e.filter((e=>e.isResizable())),o=n.groupAfterStartWidth=this.getInitialSizeOfColumns(t);n.groupAfterRatios=this.getSizeRatiosOfColumns(t,o)}else n.groupAfterColumns=void 0,n.groupAfterStartWidth=void 0,n.groupAfterRatios=void 0;return n}storeLocalValues(e){const{columnsToResize:t,resizeStartWidth:o,resizeRatios:n,groupAfterColumns:i,groupAfterStartWidth:r,groupAfterRatios:s}=e;this.resizeCols=t,this.resizeStartWidth=o,this.resizeRatios=n,this.resizeTakeFromCols=i,this.resizeTakeFromStartWidth=r,this.resizeTakeFromRatios=s}clearLocalValues(){this.resizeCols=void 0,this.resizeRatios=void 0,this.resizeTakeFromCols=void 0,this.resizeTakeFromRatios=void 0}resizeLeafColumnsToFit(e){const t=this.autoWidthCalculator.getPreferredWidthForColumnGroup(this.columnGroup),o=this.getInitialValues();t>o.resizeStartWidth&&this.resizeColumns(o,t,e,!0)}resizeColumnsFromLocalValues(e,t){let o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!this.resizeCols||!this.resizeRatios)return;const n={columnsToResize:this.resizeCols,resizeStartWidth:this.resizeStartWidth,resizeRatios:this.resizeRatios,groupAfterColumns:this.resizeTakeFromCols??void 0,groupAfterStartWidth:this.resizeTakeFromStartWidth??void 0,groupAfterRatios:this.resizeTakeFromRatios??void 0};this.resizeColumns(n,e,t,o)}resizeColumns(e,t,o){let n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];const{columnsToResize:i,resizeStartWidth:r,resizeRatios:s,groupAfterColumns:a,groupAfterStartWidth:l,groupAfterRatios:c}=e,u=[];if(u.push({columns:i,ratios:s,width:t}),a){const e=t-r;u.push({columns:a,ratios:c,width:l-e})}this.columnSizeService.resizeColumnSets({resizeSets:u,finished:n,source:o}),n&&this.toggleColumnResizing(!1)}toggleColumnResizing(e){this.comp.addOrRemoveCssClass("ag-column-resizing",e)}getColumnsToResize(){return this.columnGroup.getDisplayedLeafColumns().filter((e=>e.isResizable()))}getInitialSizeOfColumns(e){return e.reduce(((e,t)=>e+t.getActualWidth()),0)}getSizeRatiosOfColumns(e,t){return e.map((e=>e.getActualWidth()/t))}normaliseDragChange(e){let t=e;return this.gos.get("enableRtl")?"left"!==this.pinned&&(t*=-1):"right"===this.pinned&&(t*=-1),t}destroy(){super.destroy(),this.clearLocalValues()}},Ub=class extends Rm{constructor(e,t){super(),this.removeChildListenersFuncs=[],this.columnGroup=t,this.comp=e}postConstruct(){this.addListenersToChildrenColumns(),this.addManagedListeners(this.columnGroup,{displayedChildrenChanged:this.onDisplayedChildrenChanged.bind(this)}),this.onWidthChanged(),this.addDestroyFunc(this.removeListenersOnChildrenColumns.bind(this))}addListenersToChildrenColumns(){this.removeListenersOnChildrenColumns();const e=this.onWidthChanged.bind(this);this.columnGroup.getLeafColumns().forEach((t=>{t.addEventListener("widthChanged",e),t.addEventListener("visibleChanged",e),this.removeChildListenersFuncs.push((()=>{t.removeEventListener("widthChanged",e),t.removeEventListener("visibleChanged",e)}))}))}removeListenersOnChildrenColumns(){this.removeChildListenersFuncs.forEach((e=>e())),this.removeChildListenersFuncs=[]}onDisplayedChildrenChanged(){this.addListenersToChildrenColumns(),this.onWidthChanged()}onWidthChanged(){const e=this.columnGroup.getActualWidth();this.comp.setWidth(`${e}px`),this.comp.addOrRemoveCssClass("ag-hidden",0===e)}},$b=class extends ub{constructor(e,t,o){super(e,t,o),this.onSuppressColMoveChange=()=>{if(!this.isAlive()||this.isSuppressMoving())this.removeDragSource();else if(!this.dragSource){const e=this.getGui();this.setDragSource(e)}},this.column=e}setComp(e,t,o,n,i){this.comp=e,i=_v(this,this.beans.context,i),this.setGui(t,i),this.displayName=this.beans.columnNameService.getDisplayNameForColumnGroup(this.column,"header"),this.addClasses(),this.setupMovingCss(i),this.setupExpandable(i),this.setupTooltip(i),this.setupAutoHeight({wrapperElement:n,compBean:i}),this.setupUserComp(i),this.addHeaderMouseListeners(i),this.addManagedPropertyListener("groupHeaderHeight",this.refreshMaxHeaderHeight.bind(this)),this.refreshMaxHeaderHeight();const r=this.getParentRowCtrl().getPinned(),s=this.column.getProvidedColumnGroup().getLeafColumns();i.createManagedBean(new db(s,t)),i.createManagedBean(new ib(this.column,t,this.beans)),i.createManagedBean(new Ub(e,this.column)),this.resizeFeature=i.createManagedBean(new zb(e,o,r,this.column)),i.createManagedBean(new ww(t,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:()=>{},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)})),this.addHighlightListeners(i,s),i.addManagedPropertyListener("suppressMovableColumns",this.onSuppressColMoveChange),this.addResizeAndMoveKeyboardListeners(i),i.addDestroyFunc((()=>this.clearComponent()))}refreshMaxHeaderHeight(){const{gos:e,comp:t}=this,o=e.get("groupHeaderHeight");null!=o?0===o?t.setHeaderWrapperHidden(!0):t.setHeaderWrapperMaxHeight(o):(t.setHeaderWrapperHidden(!1),t.setHeaderWrapperMaxHeight(null))}addHighlightListeners(e,t){if(this.beans.gos.get("suppressMoveWhenColumnDragging"))for(const o of t)e.addManagedListeners(o,{headerHighlightChanged:this.onLeafColumnHighlightChanged.bind(this,o)})}onLeafColumnHighlightChanged(e){const t=this.column.getDisplayedLeafColumns(),o=t[0]===e,n=lm(t)===e;if(!o&&!n)return;const i=e.getHighlighted();let r=!1,s=!1;if(!!this.getParentRowCtrl().findHeaderCellCtrl((e=>e.getColumnGroupChild().isMoving()))){const e=this.beans.gos.get("enableRtl"),t=1===i,a=0===i;o&&(e?s=t:r=a),n&&(e?r=a:s=t)}this.comp.addOrRemoveCssClass("ag-header-highlight-before",r),this.comp.addOrRemoveCssClass("ag-header-highlight-after",s)}getColumn(){return this.column}resizeHeader(e,t){if(!this.resizeFeature)return;const o=this.resizeFeature.getInitialValues(t);this.resizeFeature.resizeColumns(o,o.resizeStartWidth+e,"uiColumnResized",!0)}moveHeader(e){const{beans:t,eGui:o,column:n,ctrlsService:i}=this,{gos:r,columnModel:s,columnMoveService:a,visibleColsService:l}=t,c=r.get("enableRtl"),u=0===e,d=this.getPinned(),h=o.getBoundingClientRect(),p=h.left,g=h.width,f=kb({x:u!==c?p-20:p+g+20,pinned:d,fromKeyboard:!0,gos:r,ctrlsService:i}),m=n.getGroupId(),v=this.focusService.getFocusedHeader();Lb({allMovingColumns:this.column.getLeafColumns(),isFromHeader:!0,fromLeft:1===e,xPosition:f,pinned:d,fromEnter:!1,fakeEvent:!1,gos:r,columnModel:s,columnMoveService:a,visibleColsService:l,finished:!0});const y=n.getDisplayedLeafColumns(),C=u?y[0]:lm(y);this.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(C,"auto"),this.isAlive()&&!this.beans.gos.get("ensureDomOrder")||!v||this.restoreFocus(m,n,v)}restoreFocus(e,t,o){const n=t.getLeafColumns();if(!n.length)return;const i=n[0].getParent();if(!i)return;const r=this.findGroupWidthId(i,e);r&&this.focusService.focusHeaderPosition({headerPosition:{...o,column:r}})}findGroupWidthId(e,t){for(;e;){if(e.getGroupId()===t)return e;e=e.getParent()}return null}resizeLeafColumnsToFit(e){this.resizeFeature&&this.resizeFeature.resizeLeafColumnsToFit(e)}setupUserComp(e){const t=this.gos.addGridCommonParams({displayName:this.displayName,columnGroup:this.column,setExpanded:e=>{this.beans.columnModel.setColumnGroupOpened(this.column.getProvidedColumnGroup(),e,"gridInitializing")},setTooltip:(t,o)=>{this.setupTooltip(e,t,o)}}),o=this.userComponentFactory.getHeaderGroupCompDetails(t);this.comp.setUserCompDetails(o)}addHeaderMouseListeners(e){const t=e=>this.handleMouseOverChange("mouseenter"===e.type);e.addManagedListeners(this.getGui(),{mouseenter:t,mouseleave:t,click:()=>this.dispatchColumnMouseEvent("columnHeaderClicked",this.column.getProvidedColumnGroup()),contextmenu:e=>this.handleContextMenuMouseEvent(e,void 0,this.column.getProvidedColumnGroup())})}handleMouseOverChange(e){this.eventService.dispatchEvent({type:e?"columnHeaderMouseOver":"columnHeaderMouseLeave",column:this.column.getProvidedColumnGroup()})}setupTooltip(e,t,o){this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature));const n=this.column.getColGroupDef(),i="whenTruncated"===this.gos.get("tooltipShowMode"),r=this.eGui;o||!i||n?.headerGroupComponent||(o=()=>{const e=r.querySelector(".ag-header-group-text");return!e||e.scrollWidth>e.clientWidth});const s={getColumn:()=>this.column,getGui:()=>r,getLocation:()=>"headerGroup",getTooltipValue:()=>t??(n&&n.headerTooltip),shouldDisplayTooltip:o};n&&(s.getColDef=()=>n),e.createManagedBean(new Ky(s))}setupExpandable(e){const t=this.column.getProvidedColumnGroup();this.refreshExpanded();const o=this.refreshExpanded.bind(this);e.addManagedListeners(t,{expandedChanged:o,expandableChanged:o})}refreshExpanded(){const{column:e}=this;this.expandable=e.isExpandable();const t=e.isExpanded();this.expandable?this.comp.setAriaExpanded(t?"true":"false"):this.comp.setAriaExpanded(void 0)}getColId(){return this.column.getUniqueId()}addClasses(){const e=this.column.getColGroupDef(),t=rb(e,this.gos,null,this.column);if(this.column.isPadding()){t.push("ag-header-group-cell-no-group");this.column.getLeafColumns().every((e=>e.isSpanHeaderHeight()))&&t.push("ag-header-span-height")}else t.push("ag-header-group-cell-with-group"),e?.wrapHeaderText&&t.push("ag-header-cell-wrap-text");t.forEach((e=>this.comp.addOrRemoveCssClass(e,!0)))}setupMovingCss(e){const t=this.column.getProvidedColumnGroup().getLeafColumns(),o=()=>this.comp.addOrRemoveCssClass("ag-header-cell-moving",this.column.isMoving());t.forEach((t=>{e.addManagedListeners(t,{movingChanged:o})})),o()}onFocusIn(e){if(!this.eGui.contains(e.relatedTarget)){const e=this.getRowIndex();this.beans.focusService.setFocusedHeader(e,this.column)}}handleKeyDown(e){super.handleKeyDown(e);const t=this.getWrapperHasFocus();if(this.expandable&&t&&e.key===dC.ENTER){const e=this.column,t=!e.isExpanded();this.beans.columnModel.setColumnGroupOpened(e.getProvidedColumnGroup(),t,"uiColumnExpanded")}}setDragSource(e){if(!this.isAlive()||this.isSuppressMoving())return;if(this.removeDragSource(),!e)return;const{beans:t,column:o,displayName:n,gos:i,dragAndDropService:r}=this,{columnModel:s}=t,a=o.getProvidedColumnGroup().getLeafColumns();let l=!i.get("suppressDragLeaveHidesColumns");const c=this.dragSource={type:1,eElement:e,getDefaultIconName:()=>l?"hide":"notAllowed",dragItemName:n,getDragItem:()=>this.getDragItemForGroup(o),onDragStarted:()=>{l=!i.get("suppressDragLeaveHidesColumns"),Gb(a,!0)},onDragStopped:()=>Gb(a,!1),onDragCancelled:()=>Gb(a,!1),onGridEnter:e=>{if(l){const{columns:t=[],visibleState:o}=e??{},n=t.filter((e=>!e.getColDef().lockVisible&&(!o||o[e.getColId()])));s.setColsVisible(n,!0,"uiColumnMoved")}},onGridExit:e=>{if(l){const t=e?.columns?.filter((e=>!e.getColDef().lockVisible))||[];s.setColsVisible(t,!1,"uiColumnMoved")}}};r.addDragSource(c,!0)}getDragItemForGroup(e){const t=e.getProvidedColumnGroup().getLeafColumns(),o={};t.forEach((e=>o[e.getId()]=e.isVisible()));const n=[];this.beans.visibleColsService.getAllCols().forEach((e=>{t.indexOf(e)>=0&&(n.push(e),dm(t,e))})),t.forEach((e=>n.push(e)));const i=[],r=e.getLeafColumns();for(const s of n)-1!==r.indexOf(s)&&i.push(s);return{columns:n,columnsInSplit:i,visibleState:o}}isSuppressMoving(){let e=!1;this.column.getLeafColumns().forEach((t=>{(t.getColDef().suppressMovable||t.getColDef().lockPosition)&&(e=!0)}));return e||this.gos.get("suppressMovableColumns")}destroy(){super.destroy()}},Kb=0,Yb=class extends Rm{constructor(e,t,o){super(),this.instanceId=Kb++,this.rowIndex=e,this.pinned=t,this.type=o;const n="group"==o?"ag-header-row-column-group":"filter"==o?"ag-header-row-column-filter":"ag-header-row-column";this.headerRowClass=`ag-header-row ${n}`}wireBeans(e){this.beans=e}postConstruct(){this.isPrintLayout=xf(this.gos,"print"),this.isEnsureDomOrder=this.gos.get("ensureDomOrder")}areCellsRendered(){return!!this.comp&&this.getHeaderCellCtrls().every((e=>null!=e.getGui()))}setComp(e,t){let o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this.comp=e,t=_v(this,this.beans.context,t),o&&(this.onRowHeightChanged(),this.onVirtualColumnsChanged()),this.setWidth(),this.addEventListeners(t)}getHeaderRowClass(){return this.headerRowClass}getAriaRowIndex(){return this.rowIndex+1}addEventListeners(e){const t=this.onRowHeightChanged.bind(this);e.addManagedEventListeners({columnResized:this.onColumnResized.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),virtualColumnsChanged:e=>this.onVirtualColumnsChanged(e.afterScroll),columnGroupHeaderHeightChanged:t,columnHeaderHeightChanged:t,gridStylesChanged:t,advancedFilterEnabledChanged:t}),e.addManagedPropertyListener("domLayout",this.onDisplayedColumnsChanged.bind(this)),e.addManagedPropertyListener("ensureDomOrder",(e=>this.isEnsureDomOrder=e.currentValue)),e.addManagedPropertyListeners(["headerHeight","pivotHeaderHeight","groupHeaderHeight","pivotGroupHeaderHeight","floatingFiltersHeight"],t)}getHeaderCellCtrl(e){if(this.headerCellCtrls)return Ef(this.headerCellCtrls).find((t=>t.getColumnGroupChild()===e))}onDisplayedColumnsChanged(){this.isPrintLayout=xf(this.gos,"print"),this.onVirtualColumnsChanged(),this.setWidth(),this.onRowHeightChanged()}getType(){return this.type}onColumnResized(){this.setWidth()}setWidth(){const e=this.getWidthForRow();this.comp.setWidth(`${e}px`)}getWidthForRow(){const{visibleColsService:e}=this.beans;if(this.isPrintLayout){return null!=this.pinned?0:e.getContainerWidth("right")+e.getContainerWidth("left")+e.getContainerWidth(null)}return e.getContainerWidth(this.pinned)}onRowHeightChanged(){const{topOffset:e,rowHeight:t}=this.getTopAndHeight();this.comp.setTop(e+"px"),this.comp.setHeight(t+"px")}getTopAndHeight(){const{columnModel:e,filterManager:t}=this.beans,o=[],n=e.getGroupRowsHeight(),i=e.getColumnHeaderRowHeight();o.push(...n),o.push(i),t?.hasFloatingFilters()&&o.push(e.getFloatingFiltersHeight());let r=0;for(let s=0;s<this.rowIndex;s++)r+=o[s];return{topOffset:r,rowHeight:o[this.rowIndex]}}getPinned(){return this.pinned}getRowIndex(){return this.rowIndex}onVirtualColumnsChanged(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=this.getHeaderCtrls(),o=this.isEnsureDomOrder||this.isPrintLayout;this.comp.setHeaderCtrls(t,o,e)}getHeaderCtrls(){const e=this.headerCellCtrls;this.headerCellCtrls=new Map;const t=this.getColumnsInViewport();for(const n of t)this.recycleAndCreateHeaderCtrls(n,e);const o=e=>{const{focusService:t,visibleColsService:o}=this.beans;if(!t.isHeaderWrapperFocused(e))return!1;return o.isVisible(e.getColumnGroupChild())};if(e)for(const[n,i]of e){o(i)?this.headerCellCtrls.set(n,i):this.destroyBean(i)}return this.getHeaderCellCtrls()}getHeaderCellCtrls(){return Array.from(this.headerCellCtrls?.values()??[])}recycleAndCreateHeaderCtrls(e,t){if(!this.headerCellCtrls)return;if(e.isEmptyGroup())return;const o=e.getUniqueId();let n;t&&(n=t.get(o),t.delete(o));if(n&&n.getColumnGroupChild()!=e&&(this.destroyBean(n),n=void 0),null==n)switch(this.type){case"filter":n=this.createBean(this.beans.ctrlsFactory.getInstance("headerFilterCell",e,this.beans,this));break;case"group":n=this.createBean(new $b(e,this.beans,this));break;default:n=this.createBean(new jb(e,this.beans,this))}this.headerCellCtrls.set(o,n)}getColumnsInViewport(){return this.isPrintLayout?this.getColumnsInViewportPrintLayout():this.getColumnsInViewportNormalLayout()}getColumnsInViewportPrintLayout(){if(null!=this.pinned)return[];let e=[];const t=this.getActualDepth(),{columnViewportService:o}=this.beans;return["left",null,"right"].forEach((n=>{const i=o.getHeadersToRender(n,t);e=e.concat(i)})),e}getActualDepth(){return"filter"==this.type?this.rowIndex-1:this.rowIndex}getColumnsInViewportNormalLayout(){return this.beans.columnViewportService.getHeadersToRender(this.pinned,this.getActualDepth())}findHeaderCellCtrl(e){if(!this.headerCellCtrls)return;const t=this.getHeaderCellCtrls();let o;return o="function"===typeof e?t.find(e):t.find((t=>t.getColumnGroupChild()==e)),o}focusHeader(e,t){const o=this.findHeaderCellCtrl(e);if(!o)return!1;return o.focus(t)}destroy(){this.headerCellCtrls?.forEach((e=>{this.destroyBean(e)})),this.headerCellCtrls=void 0,super.destroy()}},qb=class extends Rm{constructor(e){super(),this.hidden=!1,this.includeFloatingFilter=!1,this.groupsRowCtrls=[],this.pinned=e}wireBeans(e){this.ctrlsService=e.ctrlsService,this.scrollVisibleService=e.scrollVisibleService,this.pinnedWidthService=e.pinnedWidthService,this.columnModel=e.columnModel,this.focusService=e.focusService,this.filterManager=e.filterManager}setComp(e,t){this.comp=e,this.eViewport=t,this.setupCenterWidth(),this.setupPinnedWidth(),this.setupDragAndDrop(this.eViewport);const o=this.onDisplayedColumnsChanged.bind(this);this.addManagedEventListeners({gridColumnsChanged:this.onGridColumnsChanged.bind(this),displayedColumnsChanged:o,advancedFilterEnabledChanged:o});const n=`${"string"===typeof this.pinned?this.pinned:"center"}Header`;this.ctrlsService.register(n,this),this.columnModel.isReady()&&this.refresh()}getAllCtrls(){const e=[...this.groupsRowCtrls];return this.columnsRowCtrl&&e.push(this.columnsRowCtrl),this.filtersRowCtrl&&e.push(this.filtersRowCtrl),e}refresh(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=new zy,o=this.focusService.getFocusHeaderToUseAfterRefresh();(()=>{const e=this.columnModel.getHeaderRowCount()-1;this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls);for(let o=0;o<e;o++){const e=this.createBean(new Yb(t.next(),this.pinned,"group"));this.groupsRowCtrls.push(e)}})(),(()=>{const o=t.next(),n=!this.hidden&&(null==this.columnsRowCtrl||!e||this.columnsRowCtrl.getRowIndex()!==o);(n||this.hidden)&&(this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl)),n&&(this.columnsRowCtrl=this.createBean(new Yb(o,this.pinned,"column")))})(),(()=>{this.includeFloatingFilter=!!this.filterManager?.hasFloatingFilters()&&!this.hidden;const o=()=>{this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl)};if(!this.includeFloatingFilter)return void o();const n=t.next();if(this.filtersRowCtrl){const t=this.filtersRowCtrl.getRowIndex()!==n;e&&!t||o()}this.filtersRowCtrl||(this.filtersRowCtrl=this.createBean(new Yb(n,this.pinned,"filter")))})();const n=this.getAllCtrls();this.comp.setCtrls(n),this.restoreFocusOnHeader(o)}getHeaderCtrlForColumn(e){if(Ym(e))return this.columnsRowCtrl?.getHeaderCellCtrl(e);if(0!==this.groupsRowCtrls.length)for(let t=0;t<this.groupsRowCtrls.length;t++){const o=this.groupsRowCtrls[t].getHeaderCellCtrl(e);if(o)return o}}getHtmlElementForColumnHeader(e){const t=this.getHeaderCtrlForColumn(e);return t?t.getGui():null}getRowType(e){const t=this.getAllCtrls()[e];return t?t.getType():void 0}focusHeader(e,t,o){const n=this.getAllCtrls()[e];return!!n&&n.focusHeader(t,o)}getViewportElement(){return this.eViewport}getGroupRowCount(){return this.groupsRowCtrls.length}getGroupRowCtrlAtIndex(e){return this.groupsRowCtrls[e]}getRowCount(){return this.groupsRowCtrls.length+(this.columnsRowCtrl?1:0)+(this.filtersRowCtrl?1:0)}setHorizontalScroll(e){this.comp.setViewportScrollLeft(e)}onScrollCallback(e){this.addManagedElementListeners(this.getViewportElement(),{scroll:e})}destroy(){this.filtersRowCtrl&&(this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl)),this.columnsRowCtrl&&(this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl)),this.groupsRowCtrls&&this.groupsRowCtrls.length&&(this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls)),super.destroy()}setupDragAndDrop(e){const t=new Hb(this.pinned,e);this.createManagedBean(t)}restoreFocusOnHeader(e){if(!e)return;const{column:t}=e;t.getPinned()==this.pinned&&this.focusService.focusHeaderPosition({headerPosition:e})}onGridColumnsChanged(){this.refresh(!0)}onDisplayedColumnsChanged(){const e=this.filterManager?.hasFloatingFilters()&&!this.hidden;this.includeFloatingFilter!==e&&this.refresh(!0)}setupCenterWidth(){null==this.pinned&&this.createManagedBean(new _b((e=>this.comp.setCenterWidth(`${e}px`)),!0))}setupPinnedWidth(){if(null==this.pinned)return;const e="left"===this.pinned,t="right"===this.pinned;this.hidden=!0;const o=()=>{const o=e?this.pinnedWidthService.getPinnedLeftWidth():this.pinnedWidthService.getPinnedRightWidth();if(null==o)return;const n=0==o,i=this.hidden!==n,r=this.gos.get("enableRtl"),s=this.scrollVisibleService.getScrollbarWidth(),a=this.scrollVisibleService.isVerticalScrollShowing()&&(r&&e||!r&&t)?o+s:o;this.comp.setPinnedContainerWidth(`${a}px`),this.comp.setDisplayed(!n),i&&(this.hidden=n,this.refresh())};this.addManagedEventListeners({leftPinnedWidthChanged:o,rightPinnedWidthChanged:o,scrollVisibilityChanged:o,scrollbarWidthChanged:o})}},Xb=class extends Rm{constructor(e){super(),this.view=e}postConstruct(){this.addManagedPropertyListener("domLayout",this.updateLayoutClasses.bind(this)),this.updateLayoutClasses()}updateLayoutClasses(){const e=this.getDomLayout(),t={autoHeight:"autoHeight"===e,normal:"normal"===e,print:"print"===e},o=t.autoHeight?"ag-layout-auto-height":t.print?"ag-layout-print":"ag-layout-normal";this.view.updateLayoutClasses(o,t)}getDomLayout(){const e=this.gos.get("domLayout")??"normal";return-1===["normal","print","autoHeight"].indexOf(e)?(nf(`${e} is not valid for DOM Layout, valid values are 'normal', 'autoHeight', 'print'.`),"normal"):e}},Qb=class extends Xy{constructor(){super('\n            <div class="ag-overlay" role="presentation">\n                <div class="ag-overlay-panel" role="presentation">\n                    <div class="ag-overlay-wrapper" data-ref="eOverlayWrapper" role="presentation"></div>\n                </div>\n            </div>'),this.eOverlayWrapper=qy,this.activePromise=null,this.activeOverlay=null,this.updateListenerDestroyFunc=null,this.activeOverlayWrapperCssClass=null,this.elToFocusAfter=null}wireBeans(e){this.overlayService=e.overlayService,this.focusService=e.focusService,this.visibleColsService=e.visibleColsService}handleKeyDown(e){if(e.key!==dC.TAB||e.defaultPrevented||wm(e))return;if(this.focusService.findNextFocusableElement(this.eOverlayWrapper,!1,e.shiftKey))return;let t=!1;t=e.shiftKey?this.focusService.focusGridView(lm(this.visibleColsService.getAllCols()),!0,!1):this.focusService.focusNextGridCoreContainer(!1),t&&e.preventDefault()}updateLayoutClasses(e,t){const o=this.eOverlayWrapper.classList;o.toggle("ag-layout-auto-height",t.autoHeight),o.toggle("ag-layout-normal",t.normal),o.toggle("ag-layout-print",t.print)}postConstruct(){this.createManagedBean(new Xb(this)),this.setDisplayed(!1,{skipAriaHidden:!0}),this.overlayService.setOverlayWrapperComp(this),this.addManagedElementListeners(this.getFocusableElement(),{keydown:this.handleKeyDown.bind(this)})}setWrapperTypeClass(e){const t=this.eOverlayWrapper.classList;this.activeOverlayWrapperCssClass&&t.toggle(this.activeOverlayWrapperCssClass,!1),this.activeOverlayWrapperCssClass=e,t.toggle(e,!0)}showOverlay(e,t,o,n){if(this.setWrapperTypeClass(t),this.destroyActiveOverlay(),this.elToFocusAfter=null,this.activePromise=e,e){if(this.setDisplayed(!0,{skipAriaHidden:!0}),o&&this.focusService.isGridFocused()){const e=Vf(this.gos);e&&!Hf(this.gos)&&(this.elToFocusAfter=e)}e.then((t=>{if(this.activePromise!==e)return void(this.activeOverlay!==t&&(this.destroyBean(t),t=null));if(this.activePromise=null,!t)return;if(this.activeOverlay!==t&&(this.eOverlayWrapper.appendChild(t.getGui()),this.activeOverlay=t,n)){const e=t;this.updateListenerDestroyFunc=this.addManagedPropertyListener(n,(t=>{let{currentValue:o}=t;e.refresh?.(this.gos.addGridCommonParams({...o??{}}))}))}const i=this.focusService;o&&i.isGridFocused()&&i.focusInto(this.eOverlayWrapper)}))}}updateOverlayWrapperPaddingTop(e){this.eOverlayWrapper.style.setProperty("padding-top",`${e}px`)}destroyActiveOverlay(){this.activePromise=null;const e=this.activeOverlay;if(!e)return;let t=this.elToFocusAfter;this.activeOverlay=null,this.elToFocusAfter=null,t&&!this.focusService.isGridFocused()&&(t=null);const o=this.updateListenerDestroyFunc;o&&(o(),this.updateListenerDestroyFunc=null),this.destroyBean(e),_y(this.eOverlayWrapper),t?.focus?.({preventScroll:!0})}hideOverlay(){this.destroyActiveOverlay(),this.setDisplayed(!1,{skipAriaHidden:!0})}destroy(){this.elToFocusAfter=null,this.destroyActiveOverlay(),this.overlayService.setOverlayWrapperComp(void 0),super.destroy()}},Zb=class extends Xy{constructor(e,t){super(),this.direction=t,this.eViewport=qy,this.eContainer=qy,this.hideTimeout=null,this.setTemplate(e)}wireBeans(e){this.animationFrameService=e.animationFrameService}postConstruct(){this.addManagedEventListeners({scrollVisibilityChanged:this.onScrollVisibilityChanged.bind(this)}),this.onScrollVisibilityChanged(),this.addOrRemoveCssClass("ag-apple-scrollbar",hy()||py())}initialiseInvisibleScrollbar(){void 0===this.invisibleScrollbar&&(this.invisibleScrollbar=vy(),this.invisibleScrollbar&&(this.hideAndShowInvisibleScrollAsNeeded(),this.addActiveListenerToggles()))}addActiveListenerToggles(){const e=this.getGui(),t=()=>this.addOrRemoveCssClass("ag-scrollbar-active",!0),o=()=>this.addOrRemoveCssClass("ag-scrollbar-active",!1);this.addManagedListeners(e,{mouseenter:t,mousedown:t,touchstart:t,mouseleave:o,touchend:o})}onScrollVisibilityChanged(){void 0===this.invisibleScrollbar&&this.initialiseInvisibleScrollbar(),this.animationFrameService.requestAnimationFrame((()=>this.setScrollVisible()))}hideAndShowInvisibleScrollAsNeeded(){this.addManagedEventListeners({bodyScroll:e=>{e.direction===this.direction&&(null!==this.hideTimeout&&(window.clearTimeout(this.hideTimeout),this.hideTimeout=null),this.addOrRemoveCssClass("ag-scrollbar-scrolling",!0))},bodyScrollEnd:()=>{this.hideTimeout=window.setTimeout((()=>{this.addOrRemoveCssClass("ag-scrollbar-scrolling",!1),this.hideTimeout=null}),400)}})}attemptSettingScrollPosition(e){const t=this.getViewportElement();!function(e,t){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100,n=arguments.length>3?arguments[3]:void 0;const i=(new Date).getTime();let r=null,s=!1;const a=()=>{const a=(new Date).getTime()-i>o;(e()||a)&&(t(),s=!0,null!=r&&(window.clearInterval(r),r=null),a&&n&&nf(n))};a(),s||(r=window.setInterval(a,10))}((()=>Ly(t)),(()=>this.setScrollPosition(e)),100)}getViewportElement(){return this.eViewport}getContainer(){return this.eContainer}onScrollCallback(e){this.addManagedElementListeners(this.getViewportElement(),{scroll:e})}},Jb=class extends Zb{constructor(){super('<div class="ag-body-horizontal-scroll" aria-hidden="true">\n            <div class="ag-horizontal-left-spacer" data-ref="eLeftSpacer"></div>\n            <div class="ag-body-horizontal-scroll-viewport" data-ref="eViewport">\n                <div class="ag-body-horizontal-scroll-container" data-ref="eContainer"></div>\n            </div>\n            <div class="ag-horizontal-right-spacer" data-ref="eRightSpacer"></div>\n        </div>',"horizontal"),this.eLeftSpacer=qy,this.eRightSpacer=qy}wireBeans(e){super.wireBeans(e),this.visibleColsService=e.visibleColsService,this.pinnedRowModel=e.pinnedRowModel,this.ctrlsService=e.ctrlsService,this.scrollVisibleService=e.scrollVisibleService}postConstruct(){super.postConstruct();const e=this.setFakeHScrollSpacerWidths.bind(this);this.addManagedEventListeners({displayedColumnsChanged:e,displayedColumnsWidthChanged:e,pinnedRowDataChanged:this.onPinnedRowDataChanged.bind(this)}),this.addManagedPropertyListener("domLayout",e),this.ctrlsService.register("fakeHScrollComp",this),this.createManagedBean(new _b((e=>this.eContainer.style.width=`${e}px`))),this.addManagedPropertyListeners(["suppressHorizontalScroll"],this.onScrollVisibilityChanged.bind(this))}initialiseInvisibleScrollbar(){void 0===this.invisibleScrollbar&&(this.enableRtl=this.gos.get("enableRtl"),super.initialiseInvisibleScrollbar(),this.invisibleScrollbar&&this.refreshCompBottom())}onPinnedRowDataChanged(){this.refreshCompBottom()}refreshCompBottom(){if(!this.invisibleScrollbar)return;const e=this.pinnedRowModel.getPinnedBottomTotalHeight();this.getGui().style.bottom=`${e}px`}onScrollVisibilityChanged(){super.onScrollVisibilityChanged(),this.setFakeHScrollSpacerWidths()}setFakeHScrollSpacerWidths(){const e=this.scrollVisibleService.isVerticalScrollShowing();let t=this.visibleColsService.getDisplayedColumnsRightWidth();const o=!this.enableRtl&&e,n=this.scrollVisibleService.getScrollbarWidth();o&&(t+=n),Gy(this.eRightSpacer,t),this.eRightSpacer.classList.toggle("ag-scroller-corner",t<=n);let i=this.visibleColsService.getColsLeftWidth();this.enableRtl&&e&&(i+=n),Gy(this.eLeftSpacer,i),this.eLeftSpacer.classList.toggle("ag-scroller-corner",i<=n)}setScrollVisible(){const e=this.scrollVisibleService.isHorizontalScrollShowing(),t=this.invisibleScrollbar,o=this.gos.get("suppressHorizontalScroll"),n=e&&this.scrollVisibleService.getScrollbarWidth()||0,i=o?0:0===n&&t?16:n;this.addOrRemoveCssClass("ag-scrollbar-invisible",t),Vy(this.getGui(),i),Vy(this.eViewport,i),Vy(this.eContainer,i),this.setDisplayed(e,{skipAriaHidden:!0})}getScrollPosition(){return Ay(this.getViewportElement(),this.enableRtl)}setScrollPosition(e){Ly(this.getViewportElement())||this.attemptSettingScrollPosition(e),Fy(this.getViewportElement(),e,this.enableRtl)}},eS=class extends Rm{wireBeans(e){this.maxDivHeightScaler=e.rowContainerHeightService}constructor(e,t){super(),this.eContainer=e,this.eViewport=t}postConstruct(){this.addManagedEventListeners({rowContainerHeightChanged:this.onHeightChanged.bind(this)})}onHeightChanged(){const e=this.maxDivHeightScaler.getUiContainerHeight(),t=null!=e?`${e}px`:"";this.eContainer.style.height=t,this.eViewport&&(this.eViewport.style.height=t)}},tS=class extends Zb{wireBeans(e){super.wireBeans(e),this.ctrlsService=e.ctrlsService,this.scrollVisibleService=e.scrollVisibleService}constructor(){super('<div class="ag-body-vertical-scroll" aria-hidden="true">\n            <div class="ag-body-vertical-scroll-viewport" data-ref="eViewport">\n                <div class="ag-body-vertical-scroll-container" data-ref="eContainer"></div>\n            </div>\n        </div>',"vertical")}postConstruct(){super.postConstruct(),this.createManagedBean(new eS(this.eContainer)),this.ctrlsService.register("fakeVScrollComp",this),this.addManagedEventListeners({rowContainerHeightChanged:this.onRowContainerHeightChanged.bind(this)})}setScrollVisible(){const e=this.scrollVisibleService.isVerticalScrollShowing(),t=this.invisibleScrollbar,o=e&&this.scrollVisibleService.getScrollbarWidth()||0,n=0===o&&t?16:o;this.addOrRemoveCssClass("ag-scrollbar-invisible",t),Gy(this.getGui(),n),Gy(this.eViewport,n),Gy(this.eContainer,n),this.setDisplayed(e,{skipAriaHidden:!0})}onRowContainerHeightChanged(){const{ctrlsService:e}=this,t=e.getGridBodyCtrl().getBodyViewportElement(),o=this.getScrollPosition(),n=t.scrollTop;o!=n&&this.setScrollPosition(n,!0)}getScrollPosition(){return this.getViewportElement().scrollTop}setScrollPosition(e,t){t||Ly(this.getViewportElement())||this.attemptSettingScrollPosition(e),this.getViewportElement().scrollTop=e}},oS=(e=>(e.FakeHScrollbar="fakeHScrollComp",e.Header="centerHeader",e.PinnedTop="topCenter",e.PinnedBottom="bottomCenter",e.StickyTop="stickyTopCenter",e.StickyBottom="stickyBottomCenter",e))(oS||{}),nS=class extends Rm{constructor(e){super(),this.lastScrollSource=[null,null],this.scrollLeft=-1,this.nextScrollTop=-1,this.scrollTop=-1,this.lastOffsetHeight=-1,this.lastScrollTop=-1,this.eBodyViewport=e,this.resetLastHScrollDebounced=df((()=>this.lastScrollSource[1]=null),500),this.resetLastVScrollDebounced=df((()=>this.lastScrollSource[0]=null),500)}wireBeans(e){this.ctrlsService=e.ctrlsService,this.animationFrameService=e.animationFrameService,this.paginationService=e.paginationService,this.pageBoundsService=e.pageBoundsService,this.rowModel=e.rowModel,this.heightScaler=e.rowContainerHeightService,this.rowRenderer=e.rowRenderer,this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService}postConstruct(){this.enableRtl=this.gos.get("enableRtl"),this.addManagedEventListeners({displayedColumnsWidthChanged:this.onDisplayedColumnsWidthChanged.bind(this)}),this.ctrlsService.whenReady(this,(e=>{this.centerRowsCtrl=e.center,this.onDisplayedColumnsWidthChanged(),this.addScrollListener()}))}addScrollListener(){this.addHorizontalScrollListeners(),this.addVerticalScrollListeners()}addHorizontalScrollListeners(){this.addManagedElementListeners(this.centerRowsCtrl.getViewportElement(),{scroll:this.onHScroll.bind(this,"Viewport")});for(const e of Object.values(oS)){const t=this.ctrlsService.get(e);this.registerScrollPartner(t,this.onHScroll.bind(this,e))}}addVerticalScrollListeners(){const e=this.ctrlsService.get("fakeVScrollComp"),t=this.gos.get("debounceVerticalScrollbar"),o=t?df(this.onVScroll.bind(this,"Viewport"),100):this.onVScroll.bind(this,"Viewport"),n=t?df(this.onVScroll.bind(this,"fakeVScrollComp"),100):this.onVScroll.bind(this,"fakeVScrollComp");this.addManagedElementListeners(this.eBodyViewport,{scroll:o}),this.registerScrollPartner(e,n)}registerScrollPartner(e,t){e.onScrollCallback(t)}onDisplayedColumnsWidthChanged(){this.enableRtl&&this.horizontallyScrollHeaderCenterAndFloatingCenter()}horizontallyScrollHeaderCenterAndFloatingCenter(e){null==this.centerRowsCtrl||(void 0===e&&(e=this.centerRowsCtrl.getCenterViewportScrollLeft()),this.setScrollLeftForAllContainersExceptCurrent(Math.abs(e)))}setScrollLeftForAllContainersExceptCurrent(e){for(const t of[...Object.values(oS),"Viewport"]){if(this.lastScrollSource[1]===t)continue;Fy(this.getViewportForSource(t),e,this.enableRtl)}}getViewportForSource(e){return"Viewport"===e?this.centerRowsCtrl.getViewportElement():this.ctrlsService.get(e).getViewportElement()}isControllingScroll(e,t){return null==this.lastScrollSource[t]?(0===t?this.lastScrollSource[0]=e:this.lastScrollSource[1]=e,!0):this.lastScrollSource[t]===e}onHScroll(e){if(!this.isControllingScroll(e,1))return;const t=this.centerRowsCtrl.getViewportElement(),{scrollLeft:o}=t;if(this.shouldBlockScrollUpdate(1,o,!0))return;const n=Ay(this.getViewportForSource(e),this.enableRtl);this.doHorizontalScroll(n),this.resetLastHScrollDebounced()}onVScroll(e){if(!this.isControllingScroll(e,0))return;let t;t="Viewport"===e?this.eBodyViewport.scrollTop:this.ctrlsService.get("fakeVScrollComp").getScrollPosition(),this.shouldBlockScrollUpdate(0,t,!0)||(this.animationFrameService.setScrollTop(t),this.nextScrollTop=t,"Viewport"===e?this.ctrlsService.get("fakeVScrollComp").setScrollPosition(t):this.eBodyViewport.scrollTop=t,this.gos.get("suppressAnimationFrame")?this.scrollGridIfNeeded():this.animationFrameService.schedule(),this.resetLastVScrollDebounced())}doHorizontalScroll(e){const t=this.ctrlsService.get("fakeHScrollComp").getScrollPosition();this.scrollLeft===e&&e===t||(this.scrollLeft=e,this.fireScrollEvent(1),this.horizontallyScrollHeaderCenterAndFloatingCenter(e),this.centerRowsCtrl.onHorizontalViewportChanged(!0))}fireScrollEvent(e){const t={type:"bodyScroll",direction:1===e?"horizontal":"vertical",left:this.scrollLeft,top:this.scrollTop};this.eventService.dispatchEvent(t),window.clearTimeout(this.scrollTimer),this.scrollTimer=void 0,this.scrollTimer=window.setTimeout((()=>{this.eventService.dispatchEvent({...t,type:"bodyScrollEnd"})}),100)}shouldBlockScrollUpdate(e,t){return!(arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&!py())&&(0===e?this.shouldBlockVerticalScroll(t):this.shouldBlockHorizontalScroll(t))}shouldBlockVerticalScroll(e){const t=Ry(this.eBodyViewport),{scrollHeight:o}=this.eBodyViewport;return e<0||e+t>o}shouldBlockHorizontalScroll(e){const t=this.centerRowsCtrl.getCenterWidth(),{scrollWidth:o}=this.centerRowsCtrl.getViewportElement();if(this.enableRtl&&Dy()){if(e>0)return!0}else if(e<0)return!0;return Math.abs(e)+t>o}redrawRowsAfterScroll(){this.fireScrollEvent(0)}checkScrollLeft(){this.scrollLeft!==this.centerRowsCtrl.getCenterViewportScrollLeft()&&this.onHScroll("Viewport")}scrollGridIfNeeded(){const e=this.scrollTop!=this.nextScrollTop;return e&&(this.scrollTop=this.nextScrollTop,this.redrawRowsAfterScroll()),e}setHorizontalScrollPosition(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const o=this.centerRowsCtrl.getViewportElement().scrollWidth-this.centerRowsCtrl.getCenterWidth();!t&&this.shouldBlockScrollUpdate(1,e)&&(e=this.enableRtl&&Dy()?e>0?0:o:Math.min(Math.max(e,0),o)),Fy(this.centerRowsCtrl.getViewportElement(),Math.abs(e),this.enableRtl),this.doHorizontalScroll(e)}setVerticalScrollPosition(e){this.eBodyViewport.scrollTop=e}getVScrollPosition(){this.lastScrollTop=this.eBodyViewport.scrollTop,this.lastOffsetHeight=this.eBodyViewport.offsetHeight;return{top:this.lastScrollTop,bottom:this.lastScrollTop+this.lastOffsetHeight}}getApproximateVScollPosition(){return this.lastScrollTop>=0&&this.lastOffsetHeight>=0?{top:this.scrollTop,bottom:this.scrollTop+this.lastOffsetHeight}:this.getVScrollPosition()}getHScrollPosition(){return this.centerRowsCtrl.getHScrollPosition()}isHorizontalScrollShowing(){return this.centerRowsCtrl.isHorizontalScrollShowing()}scrollHorizontally(e){const t=this.centerRowsCtrl.getViewportElement().scrollLeft;return this.setHorizontalScrollPosition(t+e),this.centerRowsCtrl.getViewportElement().scrollLeft-t}scrollToTop(){this.eBodyViewport.scrollTop=0}ensureNodeVisible(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const o=this.rowModel.getRowCount();let n=-1;for(let i=0;i<o;i++){const t=this.rowModel.getRow(i);if("function"===typeof e){if(t&&e(t)){n=i;break}}else if(e===t||e===t.data){n=i;break}}n>=0&&this.ensureIndexVisible(n,t)}ensureIndexVisible(e,t){if(xf(this.gos,"print"))return;const o=this.rowModel.getRowCount();if("number"!==typeof e||e<0||e>=o)return void nf("Invalid row index for ensureIndexVisible: "+e);const n=this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel");this.getFrameworkOverrides().wrapIncoming((()=>{n||this.paginationService?.goToPageWithIndex(e);const o=this.ctrlsService.getGridBodyCtrl(),i=o.getStickyTopHeight(),r=o.getStickyBottomHeight(),s=this.rowModel.getRow(e);let a;do{const e=s.rowTop,o=s.rowHeight,n=this.pageBoundsService.getPixelOffset(),l=s.rowTop-n,c=l+s.rowHeight,u=this.getVScrollPosition(),d=this.heightScaler.getDivStretchOffset(),h=u.top+d,p=u.bottom+d,g=p-h,f=this.heightScaler.getScrollPositionForPixel(l),m=this.heightScaler.getScrollPositionForPixel(c-g),v=Math.min((f+m)/2,l);let y=null;"top"===t?y=f:"bottom"===t?y=m:"middle"===t?y=v:h+i>l?y=f-i:p-r<c&&(y=m+r),null!==y&&(this.setVerticalScrollPosition(y),this.rowRenderer.redraw({afterScroll:!0})),a=e!==s.rowTop||o!==s.rowHeight}while(a);this.animationFrameService.flushAllFrames()}))}ensureColumnVisible(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"auto";const o=this.columnModel.getCol(e);if(!o)return;if(o.isPinned())return;if(!this.visibleColsService.isColDisplayed(o))return;const n=this.getPositionedHorizontalScroll(o,t);this.getFrameworkOverrides().wrapIncoming((()=>{null!==n&&this.centerRowsCtrl.setCenterViewportScrollLeft(n),this.centerRowsCtrl.onHorizontalViewportChanged(),this.animationFrameService.flushAllFrames()}))}setScrollPosition(e,t){this.getFrameworkOverrides().wrapIncoming((()=>{this.centerRowsCtrl.setCenterViewportScrollLeft(t),this.setVerticalScrollPosition(e),this.rowRenderer.redraw({afterScroll:!0}),this.animationFrameService.flushAllFrames()}))}getPositionedHorizontalScroll(e,t){const{columnBeforeStart:o,columnAfterEnd:n}=this.isColumnOutsideViewport(e),i=this.centerRowsCtrl.getCenterWidth()<e.getActualWidth(),r=this.centerRowsCtrl.getCenterWidth(),s=this.enableRtl;let a=(s?o:n)||i,l=s?n:o;"auto"!==t&&(a="start"===t,l="end"===t);const c="middle"===t;if(a||l||c){const{colLeft:t,colMiddle:o,colRight:n}=this.getColumnBounds(e);return c?o-r/2:a?s?n:t:s?t-r:n-r}return null}isColumnOutsideViewport(e){const{start:t,end:o}=this.getViewportBounds(),{colLeft:n,colRight:i}=this.getColumnBounds(e),r=this.enableRtl;return{columnBeforeStart:r?t>i:o<i,columnAfterEnd:r?o<n:t>n}}getColumnBounds(e){const t=this.enableRtl,o=this.visibleColsService.getBodyContainerWidth(),n=e.getActualWidth(),i=e.getLeft(),r=t?-1:1,s=t?o-i:i;return{colLeft:s,colMiddle:s+n/2*r,colRight:s+n*r}}getViewportBounds(){const e=this.centerRowsCtrl.getCenterWidth(),t=this.centerRowsCtrl.getCenterViewportScrollLeft();return{start:t,end:e+t,width:e}}},iS=class extends Rm{wireBeans(e){this.animationFrameService=e.animationFrameService,this.ctrlsService=e.ctrlsService,this.pinnedWidthService=e.pinnedWidthService,this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.columnSizeService=e.columnSizeService,this.scrollVisibleService=e.scrollVisibleService,this.columnViewportService=e.columnViewportService}constructor(e){super(),this.centerContainerCtrl=e}postConstruct(){this.ctrlsService.whenReady(this,(e=>{this.gridBodyCtrl=e.gridBodyCtrl,this.listenForResize()})),this.addManagedEventListeners({scrollbarWidthChanged:this.onScrollbarWidthChanged.bind(this)}),this.addManagedPropertyListeners(["alwaysShowHorizontalScroll","alwaysShowVerticalScroll"],(()=>{this.checkViewportAndScrolls()}))}listenForResize(){const e=()=>{this.animationFrameService.requestAnimationFrame((()=>{this.onCenterViewportResized()}))};this.centerContainerCtrl.registerViewportResizeListener(e),this.gridBodyCtrl.registerBodyViewportResizeListener(e)}onScrollbarWidthChanged(){this.checkViewportAndScrolls()}onCenterViewportResized(){if(this.scrollVisibleService.onCentreViewportResized(),this.centerContainerCtrl.isViewportInTheDOMTree()){this.keepPinnedColumnsNarrowerThanViewport(),this.checkViewportAndScrolls();const e=this.centerContainerCtrl.getCenterWidth();e!==this.centerWidth&&(this.centerWidth=e,this.columnSizeService.refreshFlexedColumns({viewportWidth:this.centerWidth,updateBodyWidths:!0,fireResizedEvent:!0}))}else this.bodyHeight=0}keepPinnedColumnsNarrowerThanViewport(){const e=Py(this.gridBodyCtrl.getBodyViewportElement());if(e<=50)return;let t=this.getPinnedColumnsOverflowingViewport(e-50);const o=this.gos.getCallback("processUnpinnedColumns");if(t.length){if(o){t=o({columns:t,viewportWidth:e})}this.columnModel.setColsPinned(t,null,"viewportSizeFeature")}}getPinnedColumnsOverflowingViewport(e){const t=this.pinnedWidthService.getPinnedRightWidth()+this.pinnedWidthService.getPinnedLeftWidth();if(t<e)return[];const o=[...this.visibleColsService.getLeftCols()],n=[...this.visibleColsService.getRightCols()];let i=0,r=0;const s=[];let a=t-0-e;for(;(r<o.length||i<n.length)&&a>0;){if(i<n.length){const e=n[i++];a-=e.getActualWidth(),s.push(e)}if(r<o.length&&a>0){const e=o[r++];a-=e.getActualWidth(),s.push(e)}}return s}checkViewportAndScrolls(){this.updateScrollVisibleService(),this.checkBodyHeight(),this.onHorizontalViewportChanged(),this.gridBodyCtrl.getScrollFeature().checkScrollLeft()}getBodyHeight(){return this.bodyHeight}checkBodyHeight(){const e=Ry(this.gridBodyCtrl.getBodyViewportElement());this.bodyHeight!==e&&(this.bodyHeight=e,this.eventService.dispatchEvent({type:"bodyHeightChanged"}))}updateScrollVisibleService(){this.updateScrollVisibleServiceImpl(),setTimeout(this.updateScrollVisibleServiceImpl.bind(this),500)}updateScrollVisibleServiceImpl(){const e={horizontalScrollShowing:this.isHorizontalScrollShowing(),verticalScrollShowing:this.gridBodyCtrl.isVerticalScrollShowing()};this.scrollVisibleService.setScrollsVisible(e)}isHorizontalScrollShowing(){return this.centerContainerCtrl.isHorizontalScrollShowing()}onHorizontalViewportChanged(){const e=this.centerContainerCtrl.getCenterWidth(),t=this.centerContainerCtrl.getViewportScrollLeft();this.columnViewportService.setScrollPosition(e,t)}},rS=class extends Rm{wireBeans(e){this.dragService=e.dragService,this.rangeService=e.rangeService}constructor(e){super(),this.eContainer=e}postConstruct(){if(!this.rangeService)return;this.params={eElement:this.eContainer,onDragStart:this.rangeService.onDragStart.bind(this.rangeService),onDragStop:this.rangeService.onDragStop.bind(this.rangeService),onDragging:this.rangeService.onDragging.bind(this.rangeService)},this.addManagedPropertyListeners(["enableRangeSelection","cellSelection"],(()=>{Zf(this.gos)?this.enableFeature():this.disableFeature()})),this.addDestroyFunc((()=>this.disableFeature()));Zf(this.gos)&&this.enableFeature()}enableFeature(){this.dragService.addDragSource(this.params)}disableFeature(){this.dragService.removeDragSource(this.params)}},sS=class extends Xy{constructor(){super('\n            <div class="ag-selection-checkbox" role="presentation">\n                <ag-checkbox role="presentation" data-ref="eCheckbox"></ag-checkbox>\n            </div>',[mC]),this.eCheckbox=qy}postConstruct(){this.eCheckbox.setPassive(!0)}getCheckboxId(){return this.eCheckbox.getInputElement().id}onDataChanged(){this.onSelectionChanged()}onSelectableChanged(){this.showOrHideSelect()}onSelectionChanged(){const e=this.localeService.getLocaleTextFunc(),t=this.rowNode.isSelected(),o=ay(e,t),[n,i]=this.rowNode.selectable?["ariaRowToggleSelection","Press Space to toggle row selection"]:["ariaRowSelectionDisabled","Row Selection is disabled for this row"],r=e(n,i);this.eCheckbox.setValue(t,!0),this.eCheckbox.setInputAriaLabel(`${r} (${o})`)}onClicked(e,t,o){return this.rowNode.setSelectedParams({newValue:e,rangeSelect:o.shiftKey,groupSelectsFiltered:t,event:o,source:"checkboxSelected"})}init(e){this.rowNode=e.rowNode,this.column=e.column,this.overrides=e.overrides,this.onSelectionChanged(),this.addManagedListeners(this.eCheckbox.getInputElement(),{dblclick:e=>Cm(e),click:e=>{Cm(e);const t="filteredDescendants"===rm(this.gos),o=this.eCheckbox.getValue();if(this.shouldHandleIndeterminateState(o,t)){0===this.onClicked(!0,t,e||{})&&this.onClicked(!1,t,e)}else o?this.onClicked(!1,t,e):this.onClicked(!0,t,e||{})}}),this.addManagedListeners(this.rowNode,{rowSelected:this.onSelectionChanged.bind(this),dataChanged:this.onDataChanged.bind(this),selectableChanged:this.onSelectableChanged.bind(this)});if(om(this.gos)||"function"===typeof this.getIsVisible()){const e=this.showOrHideSelect.bind(this);this.addManagedEventListeners({displayedColumnsChanged:e}),this.addManagedListeners(this.rowNode,{dataChanged:e,cellChanged:e}),this.showOrHideSelect()}this.eCheckbox.getInputElement().setAttribute("tabindex","-1")}shouldHandleIndeterminateState(e,t){return t&&(void 0===this.eCheckbox.getPreviousValue()||void 0===e)&&Pf(this.gos)}showOrHideSelect(){let e=this.rowNode.selectable;const t=this.getIsVisible();if(e)if("function"===typeof t){const o=this.overrides?.callbackParams;if(this.column){const n=this.column.createColumnFunctionCallbackParams(this.rowNode);e=t({...o,...n})}else e=t({...o,node:this.rowNode,data:this.rowNode.data})}else e=t??!1;const o=this.gos.get("rowSelection");var n;if(o&&"string"!==typeof o?(n=o,!n?.hideDisabledCheckboxes):this.column?.getColDef().showDisabledCheckboxes)return this.eCheckbox.setDisabled(!e),this.setVisible(!0),void this.setDisplayed(!0);this.overrides?.removeHidden?this.setDisplayed(e):this.setVisible(e)}getIsVisible(){if(this.overrides)return this.overrides.isVisible;const e=this.gos.get("rowSelection");return e&&"string"!==typeof e?Xf(e):this.column?.getColDef()?.checkboxSelection}},aS=class extends Xy{constructor(e,t,o){super('<div class="ag-drag-handle ag-row-drag" draggable="true"></div>'),this.rowNode=e,this.column=t,this.eCell=o}postConstruct(){this.getGui().appendChild(Jy("rowDrag",this.gos,null)),this.addGuiEventListener("mousedown",(e=>{e.stopPropagation()})),this.addDragSource(),this.checkVisibility()}addDragSource(){this.addGuiEventListener("dragstart",this.onDragStart.bind(this))}onDragStart(e){const t=this.column.getColDef().dndSourceOnRowDrag;e.dataTransfer.setDragImage(this.eCell,0,0);const o=()=>{try{const t=JSON.stringify(this.rowNode.data);e.dataTransfer.setData("application/json",t),e.dataTransfer.setData("text/plain",t)}catch(bI){}};if(t){t(this.gos.addGridCommonParams({rowNode:this.rowNode,dragEvent:e}))}else o()}checkVisibility(){const e=this.column.isDndSource(this.rowNode);this.setDisplayed(e)}},lS=class extends Rm{constructor(e,t){super(),this.staticClasses=[],this.cellCtrl=e,this.beans=t,this.column=e.getColumn(),this.rowNode=e.getRowNode()}setComp(e){this.cellComp=e,this.applyUserStyles(),this.applyCellClassRules(),this.applyClassesFromColDef()}applyCellClassRules(){const e=this.column.getColDef(),{cellClassRules:t}=e,o=this.beans.gos.addGridCommonParams({value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,colDef:e,column:this.column,rowIndex:this.rowNode.rowIndex});this.beans.stylingService.processClassRules(t===this.cellClassRules?void 0:this.cellClassRules,t,o,(e=>this.cellComp.addOrRemoveCssClass(e,!0)),(e=>this.cellComp.addOrRemoveCssClass(e,!1))),this.cellClassRules=t}applyUserStyles(){const e=this.column.getColDef();if(!e.cellStyle)return;let t;if("function"===typeof e.cellStyle){const o=this.beans.gos.addGridCommonParams({column:this.column,value:this.cellCtrl.getValue(),colDef:e,data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex});t=(0,e.cellStyle)(o)}else t=e.cellStyle;t&&this.cellComp.setUserStyles(t)}applyClassesFromColDef(){const e=this.column.getColDef(),t=this.beans.gos.addGridCommonParams({value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,column:this.column,colDef:e,rowIndex:this.rowNode.rowIndex});this.staticClasses.length&&this.staticClasses.forEach((e=>this.cellComp.addOrRemoveCssClass(e,!1))),this.staticClasses=this.beans.stylingService.getStaticCellClasses(e,t),this.staticClasses.length&&this.staticClasses.forEach((e=>this.cellComp.addOrRemoveCssClass(e,!0)))}destroy(){super.destroy()}},cS=class extends Rm{constructor(e,t,o,n,i){super(),this.cellCtrl=e,this.beans=t,this.rowNode=n,this.rowCtrl=i}setComp(e){this.eGui=e}onKeyDown(e){const t=e.key;switch(t){case dC.ENTER:this.onEnterKeyDown(e);break;case dC.F2:this.onF2KeyDown(e);break;case dC.ESCAPE:this.onEscapeKeyDown(e);break;case dC.TAB:this.onTabKeyDown(e);break;case dC.BACKSPACE:case dC.DELETE:this.onBackspaceOrDeleteKeyDown(t,e);break;case dC.DOWN:case dC.UP:case dC.RIGHT:case dC.LEFT:this.onNavigationKeyDown(e,t)}}onNavigationKeyDown(e,t){this.cellCtrl.isEditing()||(e.shiftKey&&this.cellCtrl.isRangeSelectionEnabled()?this.onShiftRangeSelect(e):this.beans.navigationService.navigateToNextCell(e,t,this.cellCtrl.getCellPosition(),!0),e.preventDefault())}onShiftRangeSelect(e){if(!this.beans.rangeService)return;const t=this.beans.rangeService.extendLatestRangeInDirection(e);t&&this.beans.navigationService.ensureCellVisible(t)}onTabKeyDown(e){this.beans.navigationService.onTabKeyDown(this.cellCtrl,e)}onBackspaceOrDeleteKeyDown(e,t){const{cellCtrl:o,beans:n,rowNode:i}=this,{gos:r,rangeService:s,eventService:a}=n;if(!o.isEditing()){if(a.dispatchEvent({type:"keyShortcutChangedCellStart"}),function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e===dC.DELETE||!t&&e===dC.BACKSPACE&&hy()}(e,r.get("enableCellEditingOnBackspace"))){if(s&&Zf(r))s.clearCellRangeCellValues({dispatchWrapperEvents:!0,wrapperEventSource:"deleteKey"});else if(o.isCellEditable()){const e=o.getColumn(),t=this.beans.valueService.getDeleteValue(e,i);i.setDataValue(e,t,"cellClear")}}else o.startRowOrCellEdit(e,t);a.dispatchEvent({type:"keyShortcutChangedCellEnd"})}}onEnterKeyDown(e){if(this.cellCtrl.isEditing()||this.rowCtrl.isEditing())this.cellCtrl.stopEditingAndFocus(!1,e.shiftKey);else if(this.beans.gos.get("enterNavigatesVertically")){const t=e.shiftKey?dC.UP:dC.DOWN;this.beans.navigationService.navigateToNextCell(null,t,this.cellCtrl.getCellPosition(),!1)}else this.cellCtrl.startRowOrCellEdit(dC.ENTER,e),this.cellCtrl.isEditing()&&e.preventDefault()}onF2KeyDown(e){this.cellCtrl.isEditing()||this.cellCtrl.startRowOrCellEdit(dC.F2,e)}onEscapeKeyDown(e){this.cellCtrl.isEditing()&&(this.cellCtrl.stopRowOrCellEdit(!0),this.cellCtrl.focusCell(!0))}processCharacter(e){if(e.target!==this.eGui||this.cellCtrl.isEditing())return;const t=e.key;" "===t?this.onSpaceKeyDown(e):this.cellCtrl.startRowOrCellEdit(t,e)&&e.preventDefault()}onSpaceKeyDown(e){const{gos:t}=this.beans;if(!this.cellCtrl.isEditing()&&Tf(t)){const o=this.rowNode.isSelected(),n=!o,i="filteredDescendants"===rm(t),r=this.rowNode.setSelectedParams({newValue:n,rangeSelect:e.shiftKey,groupSelectsFiltered:i,event:e,source:"spaceKey"});void 0===o&&0===r&&this.rowNode.setSelectedParams({newValue:!1,rangeSelect:e.shiftKey,groupSelectsFiltered:i,event:e,source:"spaceKey"})}e.preventDefault()}destroy(){super.destroy()}},uS=class extends Rm{constructor(e,t,o){super(),this.cellCtrl=e,this.beans=t,this.column=o}onMouseEvent(e,t){if(!wm(t))switch(e){case"click":this.onCellClicked(t);break;case"mousedown":case"touchstart":this.onMouseDown(t);break;case"dblclick":this.onCellDoubleClicked(t);break;case"mouseout":this.onMouseOut(t);break;case"mouseover":this.onMouseOver(t)}}onCellClicked(e){if(this.isDoubleClickOnIPad())return this.onCellDoubleClicked(e),void e.preventDefault();const{eventService:t,rangeService:o,gos:n}=this.beans,i=e.ctrlKey||e.metaKey;o&&i&&o.getCellRangeCount(this.cellCtrl.getCellPosition())>1&&o.intersectLastRange(!0);const r=this.cellCtrl.createEvent(e,"cellClicked");t.dispatchEvent(r);const s=this.column.getColDef();s.onCellClicked&&window.setTimeout((()=>{this.beans.frameworkOverrides.wrapOutgoing((()=>{s.onCellClicked(r)}))}),0);!((n.get("singleClickEdit")||s.singleClickEdit)&&!n.get("suppressClickEdit"))||e.shiftKey&&0!=o?.getCellRanges().length||this.cellCtrl.startRowOrCellEdit()}isDoubleClickOnIPad(){if(!py()||bm("dblclick"))return!1;const e=(new Date).getTime(),t=e-this.lastIPadMouseClickEvent<200;return this.lastIPadMouseClickEvent=e,t}onCellDoubleClicked(e){const{column:t,beans:o,cellCtrl:n}=this,{eventService:i,frameworkOverrides:r,gos:s}=o,a=t.getColDef(),l=n.createEvent(e,"cellDoubleClicked");i.dispatchEvent(l),"function"===typeof a.onCellDoubleClicked&&window.setTimeout((()=>{r.wrapOutgoing((()=>{a.onCellDoubleClicked(l)}))}),0);!s.get("singleClickEdit")&&!s.get("suppressClickEdit")&&n.startRowOrCellEdit(null,e)}onMouseDown(e){const{ctrlKey:t,metaKey:o,shiftKey:n}=e,i=e.target,{cellCtrl:r,beans:s}=this,{eventService:a,rangeService:l,focusService:c,gos:u}=s;if(this.isRightClickInExistingRange(e))return;const d=l&&0!=l.getCellRanges().length;if(!n||!d){const t=u.get("enableCellTextSelection")&&e.defaultPrevented,o=(ly()||t)&&!r.isEditing()&&!Cy(i);r.focusCell(o)}if(n&&d&&!c.isCellFocused(r.getCellPosition())){e.preventDefault();const t=c.getFocusedCell();if(t){const{column:e,rowIndex:o,rowPinned:n}=t,i=s.rowRenderer.getRowByPosition({rowIndex:o,rowPinned:n}),r=i?.getCellCtrl(e);r?.isEditing()&&r.stopEditing(),c.setFocusedCell({column:e,rowIndex:o,rowPinned:n,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}}if(!this.containsWidget(i)){if(l){const e=this.cellCtrl.getCellPosition();if(n)l.extendLatestRangeToCell(e);else{const n=t||o;l.setRangeToCell(e,n)}}a.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseDown"))}}isRightClickInExistingRange(e){const{rangeService:t}=this.beans;if(t){const o=t.isCellInAnyRange(this.cellCtrl.getCellPosition()),n=2===e.button||e.ctrlKey&&this.beans.gos.get("allowContextMenuWithControlKey");if(o&&n)return!0}return!1}containsWidget(e){return Sy(e,"ag-selection-checkbox",3)}onMouseOut(e){this.mouseStayingInsideCell(e)||(this.beans.eventService.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseOut")),this.beans.columnHoverService.clearMouseOver())}onMouseOver(e){this.mouseStayingInsideCell(e)||(this.beans.eventService.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseOver")),this.beans.columnHoverService.setMouseOver([this.column]))}mouseStayingInsideCell(e){if(!e.target||!e.relatedTarget)return!1;const t=this.cellCtrl.getGui(),o=t.contains(e.target),n=t.contains(e.relatedTarget);return o&&n}destroy(){super.destroy()}},dS=class extends Rm{constructor(e,t){super(),this.cellCtrl=e,this.beans=t,this.column=e.getColumn(),this.rowNode=e.getRowNode()}setupRowSpan(){this.rowSpan=this.column.getRowSpan(this.rowNode),this.addManagedListeners(this.beans.eventService,{newColumnsLoaded:()=>this.onNewColumnsLoaded()})}setComp(e){this.eGui=e,this.setupColSpan(),this.setupRowSpan(),this.onLeftChanged(),this.onWidthChanged(),this.applyRowSpan()}onNewColumnsLoaded(){const e=this.column.getRowSpan(this.rowNode);this.rowSpan!==e&&(this.rowSpan=e,this.applyRowSpan(!0))}onDisplayColumnsChanged(){const e=this.getColSpanningList();cm(this.colsSpanning,e)||(this.colsSpanning=e,this.onWidthChanged(),this.onLeftChanged())}setupColSpan(){null!=this.column.getColDef().colSpan&&(this.colsSpanning=this.getColSpanningList(),this.addManagedListeners(this.beans.eventService,{displayedColumnsChanged:this.onDisplayColumnsChanged.bind(this),displayedColumnsWidthChanged:this.onWidthChanged.bind(this)}))}onWidthChanged(){if(!this.eGui)return;const e=this.getCellWidth();this.eGui.style.width=`${e}px`}getCellWidth(){return this.colsSpanning?this.colsSpanning.reduce(((e,t)=>e+t.getActualWidth()),0):this.column.getActualWidth()}getColSpanningList(){const e=this.column.getColSpan(this.rowNode),t=[];if(1===e)t.push(this.column);else{let o=this.column;const n=this.column.getPinned();for(let i=0;o&&i<e&&(t.push(o),o=this.beans.visibleColsService.getColAfter(o),o&&!ff(o))&&n===o.getPinned();i++);}return t}onLeftChanged(){if(!this.eGui)return;const e=this.modifyLeftForPrintLayout(this.getCellLeft());this.eGui.style.left=e+"px"}getCellLeft(){let e;return e=this.beans.gos.get("enableRtl")&&this.colsSpanning?lm(this.colsSpanning):this.column,e.getLeft()}modifyLeftForPrintLayout(e){if(!this.cellCtrl.isPrintLayout()||"left"===this.column.getPinned())return e;const t=this.beans.visibleColsService.getColsLeftWidth();if("right"===this.column.getPinned()){return t+this.beans.visibleColsService.getBodyContainerWidth()+(e||0)}return t+(e||0)}applyRowSpan(e){if(1===this.rowSpan&&!e)return;const t=_f(this.beans.gos)*this.rowSpan;this.eGui.style.height=`${t}px`,this.eGui.style.zIndex="1"}destroy(){super.destroy()}},hS="ag-cell-range-selected",pS=class{constructor(e,t){this.beans=e,this.rangeService=e.rangeService,this.selectionHandleFactory=e.selectionHandleFactory,this.cellCtrl=t}setComp(e,t){this.cellComp=e,this.eGui=t,this.onCellSelectionChanged()}onCellSelectionChanged(){this.cellComp&&(this.rangeCount=this.rangeService.getCellRangeCount(this.cellCtrl.getCellPosition()),this.hasChartRange=this.getHasChartRange(),this.cellComp.addOrRemoveCssClass(hS,0!==this.rangeCount),this.cellComp.addOrRemoveCssClass(`${hS}-1`,1===this.rangeCount),this.cellComp.addOrRemoveCssClass(`${hS}-2`,2===this.rangeCount),this.cellComp.addOrRemoveCssClass(`${hS}-3`,3===this.rangeCount),this.cellComp.addOrRemoveCssClass(`${hS}-4`,this.rangeCount>=4),this.cellComp.addOrRemoveCssClass("ag-cell-range-chart",this.hasChartRange),sy(this.eGui,this.rangeCount>0||void 0),this.cellComp.addOrRemoveCssClass("ag-cell-range-single-cell",this.isSingleCell()),this.updateRangeBorders(),this.refreshHandle())}updateRangeBorders(){const e=this.getRangeBorders(),t=this.isSingleCell(),o=!t&&e.top,n=!t&&e.right,i=!t&&e.bottom,r=!t&&e.left;this.cellComp.addOrRemoveCssClass("ag-cell-range-top",o),this.cellComp.addOrRemoveCssClass("ag-cell-range-right",n),this.cellComp.addOrRemoveCssClass("ag-cell-range-bottom",i),this.cellComp.addOrRemoveCssClass("ag-cell-range-left",r)}isSingleCell(){const{rangeService:e}=this.beans;return 1===this.rangeCount&&!!e&&!e.isMoreThanOneCell()}getHasChartRange(){const{rangeService:e}=this.beans;if(!this.rangeCount||!e)return!1;const t=e.getCellRanges();return t.length>0&&t.every((e=>gm([1,0],e.type)))}updateRangeBordersIfRangeCount(){this.rangeCount>0&&(this.updateRangeBorders(),this.refreshHandle())}getRangeBorders(){const e=this.beans.gos.get("enableRtl");let t=!1,o=!1,n=!1,i=!1;const r=this.cellCtrl.getCellPosition().column,s=this.beans.visibleColsService;let a,l;e?(a=s.getColAfter(r),l=s.getColBefore(r)):(a=s.getColBefore(r),l=s.getColAfter(r));const c=this.rangeService.getCellRanges().filter((e=>this.rangeService.isCellInSpecificRange(this.cellCtrl.getCellPosition(),e)));a||(i=!0),l||(o=!0);for(let u=0;u<c.length&&!(t&&o&&n&&i);u++){const e=c[u],r=this.rangeService.getRangeStartRow(e),s=this.rangeService.getRangeEndRow(e);!t&&this.beans.rowPositionUtils.sameRow(r,this.cellCtrl.getCellPosition())&&(t=!0),!n&&this.beans.rowPositionUtils.sameRow(s,this.cellCtrl.getCellPosition())&&(n=!0),!i&&a&&e.columns.indexOf(a)<0&&(i=!0),!o&&l&&e.columns.indexOf(l)<0&&(o=!0)}return{top:t,right:o,bottom:n,left:i}}refreshHandle(){if(this.beans.context.isDestroyed())return;const e=this.shouldHaveSelectionHandle();this.selectionHandle&&!e&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),e&&this.addSelectionHandle(),this.cellComp.addOrRemoveCssClass("ag-cell-range-handle",!!this.selectionHandle)}shouldHaveSelectionHandle(){const e=this.beans.gos,t=this.rangeService.getCellRanges(),o=t.length;if(this.rangeCount<1||o<1)return!1;const n=lm(t),i=this.cellCtrl.getCellPosition(),r=Jf(e)&&!this.cellCtrl.isSuppressFillHandle(),s=function(e){const t=e.get("cellSelection");return void 0!==t?"boolean"!==typeof t&&"range"===t.handle?.mode:e.get("enableRangeHandle")}(e);let a=1===o&&!this.cellCtrl.isEditing()&&(r||s);if(this.hasChartRange){const e=1===t[0].type&&this.rangeService.isCellInSpecificRange(i,t[0]);this.cellComp.addOrRemoveCssClass("ag-cell-range-chart-category",e),a=0===n.type}return a&&null!=n.endRow&&this.rangeService.isContiguousRange(n)&&this.rangeService.isBottomRightCell(n,i)}addSelectionHandle(){const e=lm(this.rangeService.getCellRanges()).type,t=Jf(this.beans.gos)&&ff(e)?0:1;this.selectionHandle&&this.selectionHandle.getType()!==t&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),this.selectionHandle||(this.selectionHandle=this.selectionHandleFactory.createSelectionHandle(t)),this.selectionHandle.refresh(this.cellCtrl)}destroy(){this.beans.context.destroyBean(this.selectionHandle)}},gS=0,fS=class e extends Rm{constructor(e,t,o,n){super(),this.column=e,this.rowNode=t,this.beans=o,this.rowCtrl=n,this.cellRangeFeature=void 0,this.cellPositionFeature=void 0,this.cellCustomStyleFeature=void 0,this.tooltipFeature=void 0,this.cellMouseListenerFeature=void 0,this.cellKeyboardListenerFeature=void 0,this.suppressRefreshCell=!1,this.onCellCompAttachedFuncs=[],this.onCellEditorAttachedFuncs=[],this.instanceId=e.getId()+"-"+gS++,this.colIdSanitised=pv(this.column.getId()),this.createCellPosition(),this.updateAndFormatValue(!1)}shouldRestoreFocus(){return this.beans.focusService.shouldRestoreFocus(this.cellPosition)}onFocusOut(){this.beans.focusService.clearRestoreFocus()}addFeatures(){this.cellPositionFeature=new dS(this,this.beans),this.cellCustomStyleFeature=new lS(this,this.beans),this.cellMouseListenerFeature=new uS(this,this.beans,this.column),this.cellKeyboardListenerFeature=new cS(this,this.beans,this.column,this.rowNode,this.rowCtrl),this.column.isTooltipEnabled()&&this.enableTooltipFeature();this.beans.rangeService&&Zf(this.beans.gos)&&(this.cellRangeFeature=new pS(this.beans,this))}removeFeatures(){const e=this.beans.context;this.cellPositionFeature=e.destroyBean(this.cellPositionFeature),this.cellCustomStyleFeature=e.destroyBean(this.cellCustomStyleFeature),this.cellMouseListenerFeature=e.destroyBean(this.cellMouseListenerFeature),this.cellKeyboardListenerFeature=e.destroyBean(this.cellKeyboardListenerFeature),this.cellRangeFeature=e.destroyBean(this.cellRangeFeature),this.disableTooltipFeature()}enableTooltipFeature(e,t){const o="whenTruncated"===this.beans.gos.get("tooltipShowMode");t||!o||this.isCellRenderer()||(t=()=>{const e=this.getGui(),t=0===e.children.length?e:e.querySelector(".ag-cell-value");return!t||t.scrollWidth>t.clientWidth});const n={getColumn:()=>this.column,getColDef:()=>this.column.getColDef(),getRowIndex:()=>this.cellPosition.rowIndex,getRowNode:()=>this.rowNode,getGui:()=>this.getGui(),getLocation:()=>"cell",getTooltipValue:null!=e?()=>e:()=>{const e=this.column.getColDef(),t=this.rowNode.data;if(e.tooltipField&&gf(t))return jm(t,e.tooltipField,this.column.isTooltipFieldContainsDots());const o=e.tooltipValueGetter;return o?o(this.beans.gos.addGridCommonParams({location:"cell",colDef:this.column.getColDef(),column:this.column,rowIndex:this.cellPosition.rowIndex,node:this.rowNode,data:this.rowNode.data,value:this.value,valueFormatted:this.valueFormatted})):null},getValueFormatted:()=>this.valueFormatted,shouldDisplayTooltip:t};this.tooltipFeature=new Ky(n,this.beans)}disableTooltipFeature(){this.tooltipFeature=this.beans.context.destroyBean(this.tooltipFeature)}setComp(e,t,o,n,i,r){this.cellComp=e,this.eGui=t,this.printLayout=n,r??(r=this),this.addDomData(r),this.addFeatures(),r.addDestroyFunc((()=>this.removeFeatures())),this.onSuppressCellFocusChanged(this.beans.gos.get("suppressCellFocus")),this.onCellFocused(this.focusEventToRestore),this.applyStaticCssClasses(),this.setWrapText(),this.onFirstRightPinnedChanged(),this.onLastLeftPinnedChanged(),this.onColumnHover(),this.setupControlComps(),this.setupAutoHeight(o,r),this.refreshFirstAndLastStyles(),this.refreshAriaColIndex(),this.cellPositionFeature?.setComp(t),this.cellCustomStyleFeature?.setComp(e),this.tooltipFeature?.refreshToolTip(),this.cellKeyboardListenerFeature?.setComp(this.eGui),this.cellRangeFeature&&this.cellRangeFeature.setComp(e,t),i&&this.isCellEditable()?this.startEditing():this.showValue(),this.onCellCompAttachedFuncs.length&&(this.onCellCompAttachedFuncs.forEach((e=>e())),this.onCellCompAttachedFuncs=[])}setupAutoHeight(e,t){if(this.isAutoHeight=this.column.isAutoHeight(),!this.isAutoHeight||!e)return;const o=e.parentElement,n=Ff(this.beans.gos,this.rowNode).height,i=r=>{if(this.editing)return;if(!this.isAlive()||!t.isAlive())return;const{paddingTop:s,paddingBottom:a,borderBottomWidth:l,borderTopWidth:c}=Ey(o),u=s+a+l+c,d=e.offsetHeight+u;if(r<5){const t=Nf(this.beans.gos);if(!t||!t.contains(e)||0==d)return void window.setTimeout((()=>i(r+1)),0)}const h=Math.max(d,n);this.rowNode.setRowAutoHeight(h,this.column)},r=()=>i(0);r();const s=this.beans.resizeObserverService.observeResize(e,r);t.addDestroyFunc((()=>{s(),this.rowNode.setRowAutoHeight(void 0,this.column)}))}getCellAriaRole(){return this.column.getColDef().cellAriaRole??"gridcell"}isCellRenderer(){const e=this.column.getColDef();return null!=e.cellRenderer||null!=e.cellRendererSelector}getValueToDisplay(){return this.valueFormatted??this.value}showValue(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const{beans:t,column:o,rowNode:n,cellRangeFeature:i,cellComp:r}=this,{userComponentFactory:s,animationFrameService:a}=t,l=this.getValueToDisplay();let c;if(n.stub&&null==n.groupData?.[this.column.getId()]){const e=this.createCellRendererParams();c=s.getLoadingCellRendererDetails(o.getColDef(),e)}else if(this.isCellRenderer()){const e=this.createCellRendererParams();c=s.getCellRendererDetails(o.getColDef(),e)}r.setRenderDetails(c,l,e),a.requestAnimationFrame((()=>i?.refreshHandle()))}setupControlComps(){const e=this.column.getColDef();this.includeSelection=this.isIncludeControl(this.isCheckboxSelection(e)),this.includeRowDrag=this.isIncludeControl(e.rowDrag),this.includeDndSource=this.isIncludeControl(e.dndSource),this.cellComp.setIncludeSelection(this.includeSelection),this.cellComp.setIncludeDndSource(this.includeDndSource),this.cellComp.setIncludeRowDrag(this.includeRowDrag)}isForceWrapper(){return this.beans.gos.get("enableCellTextSelection")||this.column.isAutoHeight()}isIncludeControl(e){return!(null!=this.rowNode.rowPinned)&&("function"===typeof e||!0===e)}isCheckboxSelection(e){const{rowSelection:t}=this.beans.gridOptions;return e.checkboxSelection||Im(this.column)&&t&&"string"!==typeof t&&Xf(t)}refreshShouldDestroy(){const e=this.column.getColDef(),t=this.includeSelection!=this.isIncludeControl(this.isCheckboxSelection(e)),o=this.includeRowDrag!=this.isIncludeControl(e.rowDrag),n=this.includeDndSource!=this.isIncludeControl(e.dndSource),i=this.isAutoHeight!=this.column.isAutoHeight();return t||o||n||i}startEditing(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const{editService:n}=this.beans;return!(this.isCellEditable()&&!this.editing&&n)||(this.cellComp?n.startEditing(this,e,t,o):(this.onCellCompAttachedFuncs.push((()=>{this.startEditing(e,t,o)})),!0))}setEditing(e,t){this.editCompDetails=t,this.editing!==e&&(this.editing=e)}stopRowOrCellEdit(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];"fullRow"===this.beans.gos.get("editType")?this.rowCtrl.stopEditing(e):this.stopEditing(e)}onPopupEditorClosed(){this.editing&&this.stopEditingAndFocus()}stopEditing(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.onCellEditorAttachedFuncs=[];const{editService:t}=this.beans;return!(!this.editing||!t)&&t.stopEditing(this,e)}createCellRendererParams(){return this.beans.gos.addGridCommonParams({value:this.value,valueFormatted:this.valueFormatted,getValue:()=>this.beans.valueService.getValueForDisplay(this.column,this.rowNode),setValue:e=>this.beans.valueService.setValue(this.rowNode,this.column,e),formatValue:this.formatValue.bind(this),data:this.rowNode.data,node:this.rowNode,pinned:this.column.getPinned(),colDef:this.column.getColDef(),column:this.column,refreshCell:this.refreshCell.bind(this),eGridCell:this.getGui(),eParentOfValue:this.cellComp.getParentOfValue(),registerRowDragger:(e,t,o,n)=>this.registerRowDragger(e,t,n),setTooltip:(e,t)=>{this.tooltipFeature&&this.disableTooltipFeature(),this.enableTooltipFeature(e,t),this.tooltipFeature?.refreshToolTip()}})}setFocusOutOnEditor(){this.editing&&this.beans.editService?.setFocusOutOnEditor(this)}setFocusInOnEditor(){this.editing&&this.beans.editService?.setFocusInOnEditor(this)}onCellChanged(e){e.column===this.column&&this.refreshCell({})}refreshOrDestroyCell(e){this.refreshShouldDestroy()?this.rowCtrl?.recreateCell(this):this.refreshCell(e)}refreshCell(e){if(this.suppressRefreshCell||this.editing)return;const t=this.column.getColDef(),o=null!=e&&!!e.newData,n=null!=e&&!!e.suppressFlash||!!t.suppressCellFlash,i=null==t.field&&null==t.valueGetter&&null==t.showRowGroup,r=e&&e.forceRefresh||i||o,s=!!this.cellComp,a=this.updateAndFormatValue(s);if(s){if(r||a){this.showValue(o);const e=this.beans.filterManager?.isSuppressFlashingCellsBecauseFiltering();!n&&!e&&(this.beans.gos.get("enableCellChangeFlash")||t.enableCellChangeFlash)&&this.flashCell(),this.cellCustomStyleFeature?.applyUserStyles(),this.cellCustomStyleFeature?.applyClassesFromColDef()}this.tooltipFeature?.refreshToolTip(),this.cellCustomStyleFeature?.applyCellClassRules()}}stopEditingAndFocus(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.beans.editService?.stopEditingAndFocus(this,e,t)}flashCell(e){const t=e?.flashDuration??e?.flashDelay,o=e?.fadeDuration??e?.fadeDelay;this.animateCell("data-changed",t,o)}animateCell(e,t,o){if(!this.cellComp)return;const{gos:n}=this.beans;if(t||(t=n.get("cellFlashDuration")),0===t)return;gf(o)||(o=n.get("cellFadeDuration"));const i=`ag-cell-${e}`,r=`ag-cell-${e}-animation`;this.cellComp.addOrRemoveCssClass(i,!0),this.cellComp.addOrRemoveCssClass(r,!1),this.beans.frameworkOverrides.wrapIncoming((()=>{window.setTimeout((()=>{this.isAlive()&&(this.cellComp.addOrRemoveCssClass(i,!1),this.cellComp.addOrRemoveCssClass(r,!0),this.eGui.style.transition=`background-color ${o}ms`,window.setTimeout((()=>{this.isAlive()&&(this.cellComp.addOrRemoveCssClass(r,!1),this.eGui.style.transition="")}),o))}),t)}))}onFlashCells(e){if(!this.cellComp)return;const t=this.beans.cellPositionUtils.createId(this.getCellPosition());e.cells[t]&&this.animateCell("highlight")}isCellEditable(){return this.column.isCellEditable(this.rowNode)}isSuppressFillHandle(){return this.column.isSuppressFillHandle()}formatValue(e){return this.callValueFormatter(e)??e}callValueFormatter(e){return this.beans.valueService.formatValue(this.column,this.rowNode,e)}updateAndFormatValue(e){const t=this.value,o=this.valueFormatted;return this.value=this.beans.valueService.getValueForDisplay(this.column,this.rowNode),this.valueFormatted=this.callValueFormatter(this.value),!e||(!this.valuesAreEqual(t,this.value)||this.valueFormatted!=o)}valuesAreEqual(e,t){const o=this.column.getColDef();return o.equals?o.equals(e,t):e===t}getComp(){return this.cellComp}getValue(){return this.value}addDomData(t){const o=this.getGui();Lf(this.beans.gos,o,e.DOM_DATA_KEY_CELL_CTRL,this),t.addDestroyFunc((()=>Lf(this.beans.gos,o,e.DOM_DATA_KEY_CELL_CTRL,null)))}createEvent(e,t){return this.beans.gos.addGridCommonParams({type:t,node:this.rowNode,data:this.rowNode.data,value:this.value,column:this.column,colDef:this.column.getColDef(),rowPinned:this.rowNode.rowPinned,event:e,rowIndex:this.rowNode.rowIndex})}processCharacter(e){this.cellKeyboardListenerFeature?.processCharacter(e)}onKeyDown(e){this.cellKeyboardListenerFeature?.onKeyDown(e)}onMouseEvent(e,t){this.cellMouseListenerFeature?.onMouseEvent(e,t)}getGui(){return this.eGui}getColSpanningList(){return this.cellPositionFeature.getColSpanningList()}onLeftChanged(){this.cellComp&&this.cellPositionFeature?.onLeftChanged()}onDisplayedColumnsChanged(){this.eGui&&(this.refreshAriaColIndex(),this.refreshFirstAndLastStyles())}refreshFirstAndLastStyles(){const{cellComp:e,column:t,beans:o}=this;sb(e,t,o.visibleColsService)}refreshAriaColIndex(){const e=this.beans.visibleColsService.getAriaColIndex(this.column);ny(this.getGui(),e)}isSuppressNavigable(){return this.column.isSuppressNavigable(this.rowNode)}onWidthChanged(){return this.cellPositionFeature?.onWidthChanged()}getColumn(){return this.column}getRowNode(){return this.rowNode}isPrintLayout(){return this.printLayout}getCellPosition(){return this.cellPosition}isEditing(){return this.editing}startRowOrCellEdit(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this.cellComp?"fullRow"===this.beans.gos.get("editType")?this.rowCtrl.startRowEditing(e,this):this.startEditing(e,!0,t):(this.onCellCompAttachedFuncs.push((()=>{this.startRowOrCellEdit(e,t)})),!0)}getRowCtrl(){return this.rowCtrl}getRowPosition(){return{rowIndex:this.cellPosition.rowIndex,rowPinned:this.cellPosition.rowPinned}}updateRangeBordersIfRangeCount(){this.cellComp&&this.cellRangeFeature&&this.cellRangeFeature.updateRangeBordersIfRangeCount()}onCellSelectionChanged(){this.cellComp&&this.cellRangeFeature&&this.cellRangeFeature.onCellSelectionChanged()}isRangeSelectionEnabled(){return null!=this.cellRangeFeature}focusCell(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.beans.focusService.setFocusedCell({rowIndex:this.getCellPosition().rowIndex,column:this.column,rowPinned:this.rowNode.rowPinned,forceBrowserFocus:e})}onRowIndexChanged(){this.createCellPosition(),this.onCellFocused(),this.cellRangeFeature&&this.cellRangeFeature.onCellSelectionChanged()}onSuppressCellFocusChanged(e){this.eGui&&Wy(this.eGui,"tabindex",e?void 0:-1)}onFirstRightPinnedChanged(){if(!this.cellComp)return;const e=this.column.isFirstRightPinned();this.cellComp.addOrRemoveCssClass("ag-cell-first-right-pinned",e)}onLastLeftPinnedChanged(){if(!this.cellComp)return;const e=this.column.isLastLeftPinned();this.cellComp.addOrRemoveCssClass("ag-cell-last-left-pinned",e)}onCellFocused(e){if(this.beans.focusService.isCellFocusSuppressed())return;const t=this.beans.focusService.isCellFocused(this.cellPosition);if(!this.cellComp)return void(t&&e?.forceBrowserFocus&&(this.focusEventToRestore=e));if(this.focusEventToRestore=void 0,this.cellComp.addOrRemoveCssClass("ag-cell-focus",t),t&&e&&e.forceBrowserFocus){let t=this.cellComp.getFocusableElement();if(this.editing){const e=this.beans.focusService.findFocusableElements(t,null,!0);e.length&&(t=e[0])}t.focus({preventScroll:!!e.preventScrollOnBrowserFocus})}const o="fullRow"===this.beans.gos.get("editType");t||o||!this.editing||this.stopRowOrCellEdit(),t&&this.rowCtrl.announceDescription()}createCellPosition(){this.cellPosition={rowIndex:this.rowNode.rowIndex,rowPinned:pf(this.rowNode.rowPinned),column:this.column}}applyStaticCssClasses(){this.cellComp.addOrRemoveCssClass("ag-cell",!0),this.cellComp.addOrRemoveCssClass("ag-cell-not-inline-editing",!0);const e=1==this.column.isAutoHeight();this.cellComp.addOrRemoveCssClass("ag-cell-auto-height",e),this.cellComp.addOrRemoveCssClass("ag-cell-normal-height",!e)}onColumnHover(){if(!this.cellComp)return;if(!this.beans.gos.get("columnHoverHighlight"))return;const e=this.beans.columnHoverService.isHovered(this.column);this.cellComp.addOrRemoveCssClass("ag-column-hover",e)}onColDefChanged(){if(!this.cellComp)return;this.column.isTooltipEnabled()?(this.disableTooltipFeature(),this.enableTooltipFeature()):this.disableTooltipFeature(),this.setWrapText(),this.editing?this.beans.editService?.handleColDefChanged(this):this.refreshOrDestroyCell({forceRefresh:!0,suppressFlash:!0})}setWrapText(){const e=1==this.column.getColDef().wrapText;this.cellComp.addOrRemoveCssClass("ag-cell-wrap-text",e)}dispatchCellContextMenuEvent(e){const t=this.column.getColDef(),o=this.createEvent(e,"cellContextMenu");this.beans.eventService.dispatchEvent(o),t.onCellContextMenu&&window.setTimeout((()=>{this.beans.frameworkOverrides.wrapOutgoing((()=>{t.onCellContextMenu(o)}))}),0)}getCellRenderer(){return this.cellComp?this.cellComp.getCellRenderer():null}getCellEditor(){return this.cellComp?this.cellComp.getCellEditor():null}destroy(){this.onCellCompAttachedFuncs=[],this.onCellEditorAttachedFuncs=[],super.destroy()}createSelectionCheckbox(){const e=new sS;return this.beans.context.createBean(e),e.init({rowNode:this.rowNode,column:this.column}),e}createDndSource(){const e=new aS(this.rowNode,this.column,this.eGui);return this.beans.context.createBean(e),e}registerRowDragger(e,t,o){if(this.customRowDragComp)return void this.customRowDragComp.setDragElement(e,t);const n=this.createRowDragComp(e,t,o);n&&(this.customRowDragComp=n,this.addDestroyFunc((()=>{this.beans.context.destroyBean(n),this.customRowDragComp=null})))}createRowDragComp(e,t,o){const n=this.beans.gos.get("pagination"),i=this.beans.gos.get("rowDragManaged"),r=Pf(this.beans.gos);if(i){if(!r)return void nf("managed row dragging is only allowed in the Client Side Row Model");if(n)return void nf("managed row dragging is not possible when doing pagination")}const s=new aw((()=>this.value),this.rowNode,this.column,e,t,o);return this.beans.context.createBean(s),s}setSuppressRefreshCell(e){this.suppressRefreshCell=e}getEditCompDetails(){return this.editCompDetails}onCellEditorAttached(e){this.onCellEditorAttachedFuncs.push(e)}cellEditorAttached(){this.onCellEditorAttachedFuncs.forEach((e=>e())),this.onCellEditorAttachedFuncs=[]}};fS.DOM_DATA_KEY_CELL_CTRL="cellCtrl";var mS=fS,vS=0,yS=class e extends Rm{constructor(e,t,o,n,i){super(),this.allRowGuis=[],this.active=!0,this.centerCellCtrls={list:[],map:{}},this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}},this.slideInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.fadeInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.rowDragComps=[],this.lastMouseDownOnDragger=!1,this.emptyStyle={},this.updateColumnListsPending=!1,this.rowId=null,this.businessKeySanitised=null,this.beans=t,this.gos=t.gos,this.rowNode=e,this.paginationPage=t.paginationService?.getCurrentPage()??0,this.useAnimationFrameForCreate=n,this.printLayout=i,this.suppressRowTransform=this.gos.get("suppressRowTransform"),this.instanceId=e.id+"-"+vS++,this.rowId=pv(e.id),this.initRowBusinessKey(),this.rowFocused=t.focusService.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned),this.rowLevel=t.rowCssClassCalculator.calculateRowLevel(this.rowNode),this.setRowType(),this.setAnimateFlags(o),this.rowStyles=this.processStylesFromGridOptions(),this.addListeners()}initRowBusinessKey(){this.businessKeyForNodeFunc=this.gos.get("getBusinessKeyForNode"),this.updateRowBusinessKey()}updateRowBusinessKey(){if("function"!==typeof this.businessKeyForNodeFunc)return;const e=this.businessKeyForNodeFunc(this.rowNode);this.businessKeySanitised=pv(e)}getRowId(){return this.rowId}getRowStyles(){return this.rowStyles}isSticky(){return this.rowNode.sticky}updateGui(e,t){"left"===e?this.leftGui=t:"right"===e?this.rightGui=t:"fullWidth"===e?this.fullWidthGui=t:this.centerGui=t}setComp(e,t,o,n){const i={rowComp:e,element:t,containerType:o,compBean:n=_v(this,this.beans.context,n)};this.allRowGuis.push(i),this.updateGui(o,i),this.initialiseRowComp(i),"FullWidthLoading"===this.rowType||this.rowNode.rowPinned||this.beans.rowRenderer.dispatchFirstDataRenderedEvent()}unsetComp(e){this.allRowGuis=this.allRowGuis.filter((t=>t.containerType!==e)),this.updateGui(e,void 0)}isCacheable(){return"FullWidthDetail"===this.rowType&&this.gos.get("keepDetailRows")}setCached(e){const t=e?"none":"";this.allRowGuis.forEach((e=>e.element.style.display=t))}initialiseRowComp(t){const o=this.gos;this.onSuppressCellFocusChanged(this.beans.gos.get("suppressCellFocus")),this.listenOnDomOrder(t),this.beans.columnModel.wasAutoRowHeightEverActive()&&this.rowNode.checkAutoHeights(),this.onRowHeightChanged(t),this.updateRowIndexes(t),this.setFocusedClasses(t),this.setStylesFromGridOptions(!1,t),Tf(o)&&this.rowNode.selectable&&this.onRowSelected(t),this.updateColumnLists(!this.useAnimationFrameForCreate);const n=t.rowComp;this.getInitialRowClasses(t.containerType).forEach((e=>n.addOrRemoveCssClass(e,!0))),this.executeSlideAndFadeAnimations(t),this.rowNode.group&&Jv(t.element,1==this.rowNode.expanded),this.setRowCompRowId(n),this.setRowCompRowBusinessKey(n),Lf(o,t.element,e.DOM_DATA_KEY_ROW_CTRL,this),t.compBean.addDestroyFunc((()=>Lf(o,t.element,e.DOM_DATA_KEY_ROW_CTRL,null))),this.useAnimationFrameForCreate?this.beans.animationFrameService.createTask(this.addHoverFunctionality.bind(this,t),this.rowNode.rowIndex,"createTasksP2"):this.addHoverFunctionality(t),this.isFullWidth()&&this.setupFullWidth(t),o.get("rowDragEntireRow")&&this.addRowDraggerToRow(t),this.useAnimationFrameForCreate&&this.beans.animationFrameService.addDestroyTask((()=>{this.isAlive()&&t.rowComp.addOrRemoveCssClass("ag-after-created",!0)})),this.executeProcessRowPostCreateFunc()}setRowCompRowBusinessKey(e){null!=this.businessKeySanitised&&e.setRowBusinessKey(this.businessKeySanitised)}getBusinessKey(){return this.businessKeySanitised}setRowCompRowId(e){this.rowId=pv(this.rowNode.id),null!=this.rowId&&e.setRowId(this.rowId)}executeSlideAndFadeAnimations(e){const{containerType:t}=e;this.slideInAnimation[t]&&(uf((()=>{this.onTopChanged()})),this.slideInAnimation[t]=!1);this.fadeInAnimation[t]&&(uf((()=>{e.rowComp.addOrRemoveCssClass("ag-opacity-zero",!1)})),this.fadeInAnimation[t]=!1)}addRowDraggerToRow(e){if(Zf(this.gos))return void nf("Setting `rowDragEntireRow: true` in the gridOptions doesn't work with `cellSelection: true`");const t=this.beans.localeService.getLocaleTextFunc(),o=new aw((()=>`1 ${t("rowDragRow","row")}`),this.rowNode,void 0,e.element,void 0,!0),n=this.createBean(o,this.beans.context);this.rowDragComps.push(n),e.compBean.addDestroyFunc((()=>{this.rowDragComps=this.rowDragComps.filter((e=>e!==n)),this.destroyBean(n,this.beans.context)}))}setupFullWidth(e){const t=this.getPinnedForContainer(e.containerType);if("FullWidthDetail"==this.rowType&&!this.gos.assertModuleRegistered("@ag-grid-enterprise/master-detail","cell renderer 'agDetailCellRenderer' (for master detail)"))return;const o=this.createFullWidthCompDetails(e.element,t);e.rowComp.showFullWidth(o)}isPrintLayout(){return this.printLayout}getFullWidthCellRenderers(){return this.gos.get("embedFullWidthRows")?this.allRowGuis.map((e=>e?.rowComp?.getFullWidthCellRenderer())):[this.fullWidthGui?.rowComp?.getFullWidthCellRenderer()]}getCellElement(e){const t=this.getCellCtrl(e);return t?t.getGui():null}executeProcessRowPostCreateFunc(){const e=this.gos.getCallback("processRowPostCreate");if(!e||!this.areAllContainersReady())return;e({eRow:this.centerGui.element,ePinnedLeftRow:this.leftGui?this.leftGui.element:void 0,ePinnedRightRow:this.rightGui?this.rightGui.element:void 0,node:this.rowNode,rowIndex:this.rowNode.rowIndex,addRenderedRowListener:this.addEventListener.bind(this)})}areAllContainersReady(){const e=!!this.leftGui||!this.beans.visibleColsService.isPinningLeft(),t=!!this.centerGui,o=!!this.rightGui||!this.beans.visibleColsService.isPinningRight();return e&&t&&o}isNodeFullWidthCell(){if(this.rowNode.detail)return!0;const e=this.beans.gos.getCallback("isFullWidthRow");return!!e&&e({rowNode:this.rowNode})}setRowType(){const e=this.rowNode.stub&&!this.gos.get("suppressServerSideFullWidthLoadingRow")&&!this.gos.get("groupHideOpenParents"),t=this.isNodeFullWidthCell(),o=this.gos.get("masterDetail")&&this.rowNode.detail,n=this.beans.columnModel.isPivotMode(),i=!!this.rowNode.group&&!this.rowNode.footer&&Yf(this.gos,n);this.rowType=e?"FullWidthLoading":o?"FullWidthDetail":t?"FullWidth":i?"FullWidthGroup":"Normal"}updateColumnLists(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.isFullWidth())return;e||this.gos.get("suppressAnimationFrame")||this.printLayout?this.updateColumnListsImpl(t):this.updateColumnListsPending||(this.beans.animationFrameService.createTask((()=>{this.active&&this.updateColumnListsImpl(!0)}),this.rowNode.rowIndex,"createTasksP1"),this.updateColumnListsPending=!0)}createCellCtrls(e,t){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const n={list:[],map:{}},i=(e,t)=>{n.list.push(t),n.map[e]=t};return t.forEach((t=>{const o=t.getInstanceId();let n=e.map[o];n||(n=new mS(t,this.rowNode,this.beans,this)),i(o,n)})),e.list.forEach((e=>{const t=e.getColumn().getInstanceId();if(null!=n.map[t])return;this.isCellEligibleToBeRemoved(e,o)?e.destroy():i(t,e)})),n}updateColumnListsImpl(e){this.updateColumnListsPending=!1,this.createAllCellCtrls(),this.setCellCtrls(e)}setCellCtrls(e){this.allRowGuis.forEach((t=>{const o=this.getCellCtrlsForContainer(t.containerType);t.rowComp.setCellCtrls(o,e)}))}getCellCtrlsForContainer(e){switch(e){case"left":return this.leftCellCtrls.list;case"right":return this.rightCellCtrls.list;case"fullWidth":return[];case"center":return this.centerCellCtrls.list}}createAllCellCtrls(){const e=this.beans.columnViewportService,t=this.beans.visibleColsService;if(this.printLayout)this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,t.getAllCols()),this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}};else{const o=e.getColsWithinViewport(this.rowNode);this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,o);const n=t.getLeftColsForRow(this.rowNode);this.leftCellCtrls=this.createCellCtrls(this.leftCellCtrls,n,"left");const i=t.getRightColsForRow(this.rowNode);this.rightCellCtrls=this.createCellCtrls(this.rightCellCtrls,i,"right")}}isCellEligibleToBeRemoved(e,t){const o=!0;if(e.getColumn().getPinned()!=t)return o;const n=e.isEditing(),i=this.beans.focusService.isCellFocused(e.getCellPosition());if(n||i){const t=e.getColumn();return!(this.beans.visibleColsService.getAllCols().indexOf(t)>=0)&&o}return o}getDomOrder(){return this.gos.get("ensureDomOrder")||xf(this.gos,"print")}listenOnDomOrder(e){e.compBean.addManagedPropertyListeners(["domLayout","ensureDomOrder"],(()=>{e.rowComp.setDomOrder(this.getDomOrder())}))}setAnimateFlags(e){if(this.isSticky()||!e)return;const t=gf(this.rowNode.oldRowTop),o=this.beans.visibleColsService.isPinningLeft(),n=this.beans.visibleColsService.isPinningRight();if(t){if(this.isFullWidth()&&!this.gos.get("embedFullWidthRows"))return void(this.slideInAnimation.fullWidth=!0);this.slideInAnimation.center=!0,this.slideInAnimation.left=o,this.slideInAnimation.right=n}else{if(this.isFullWidth()&&!this.gos.get("embedFullWidthRows"))return void(this.fadeInAnimation.fullWidth=!0);this.fadeInAnimation.center=!0,this.fadeInAnimation.left=o,this.fadeInAnimation.right=n}}isEditing(){return this.editingRow}isFullWidth(){return"Normal"!==this.rowType}refreshFullWidth(){const e=(e,t)=>!e||e.rowComp.refreshFullWidth((()=>this.createFullWidthCompDetails(e.element,t).params)),t=e(this.fullWidthGui,null),o=e(this.centerGui,null),n=e(this.leftGui,"left"),i=e(this.rightGui,"right");return t&&o&&n&&i}addListeners(){this.addManagedListeners(this.rowNode,{heightChanged:()=>this.onRowHeightChanged(),rowSelected:()=>this.onRowSelected(),rowIndexChanged:this.onRowIndexChanged.bind(this),topChanged:this.onTopChanged.bind(this),expandedChanged:this.updateExpandedCss.bind(this),hasChildrenChanged:this.updateExpandedCss.bind(this)}),this.rowNode.detail&&this.addManagedListeners(this.rowNode.parent,{dataChanged:this.onRowNodeDataChanged.bind(this)}),this.addManagedListeners(this.rowNode,{dataChanged:this.onRowNodeDataChanged.bind(this),cellChanged:this.postProcessCss.bind(this),rowHighlightChanged:this.onRowNodeHighlightChanged.bind(this),draggingChanged:this.postProcessRowDragging.bind(this),uiLevelChanged:this.onUiLevelChanged.bind(this)}),this.addManagedListeners(this.beans.eventService,{paginationPixelOffsetChanged:this.onPaginationPixelOffsetChanged.bind(this),heightScaleChanged:this.onTopChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),virtualColumnsChanged:this.onVirtualColumnsChanged.bind(this),cellFocused:this.onCellFocusChanged.bind(this),cellFocusCleared:this.onCellFocusChanged.bind(this),paginationChanged:this.onPaginationChanged.bind(this),modelUpdated:this.refreshFirstAndLastRowStyles.bind(this),columnMoved:()=>this.updateColumnLists()}),this.addDestroyFunc((()=>{this.rowDragComps=this.destroyBeans(this.rowDragComps,this.beans.context),this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature,this.beans.context))})),this.addManagedPropertyListeners(["rowStyle","getRowStyle","rowClass","getRowClass","rowClassRules"],this.postProcessCss.bind(this)),this.addManagedPropertyListener("rowDragEntireRow",(()=>{this.gos.get("rowDragEntireRow")?this.allRowGuis.forEach((e=>{this.addRowDraggerToRow(e)})):this.rowDragComps=this.destroyBeans(this.rowDragComps,this.beans.context)})),this.addListenersForCellComps()}addListenersForCellComps(){this.addManagedListeners(this.rowNode,{rowIndexChanged:()=>{this.getAllCellCtrls().forEach((e=>e.onRowIndexChanged()))},cellChanged:e=>{this.getAllCellCtrls().forEach((t=>t.onCellChanged(e)))}})}onRowNodeDataChanged(e){if(this.isFullWidth()!==!!this.isNodeFullWidthCell())this.beans.rowRenderer.redrawRow(this.rowNode);else if(this.isFullWidth()){this.refreshFullWidth()||this.beans.rowRenderer.redrawRow(this.rowNode)}else this.getAllCellCtrls().forEach((t=>t.refreshCell({suppressFlash:!e.update,newData:!e.update}))),this.allRowGuis.forEach((e=>{this.setRowCompRowId(e.rowComp),this.updateRowBusinessKey(),this.setRowCompRowBusinessKey(e.rowComp)})),this.onRowSelected(),this.postProcessCss()}postProcessCss(){this.setStylesFromGridOptions(!0),this.postProcessClassesFromGridOptions(),this.postProcessRowClassRules(),this.postProcessRowDragging()}onRowNodeHighlightChanged(){const e=this.rowNode.highlighted;this.allRowGuis.forEach((t=>{const o=0===e,n=1===e;t.rowComp.addOrRemoveCssClass("ag-row-highlight-above",o),t.rowComp.addOrRemoveCssClass("ag-row-highlight-below",n)}))}postProcessRowDragging(){const e=this.rowNode.dragging;this.allRowGuis.forEach((t=>t.rowComp.addOrRemoveCssClass("ag-row-dragging",e)))}updateExpandedCss(){const e=this.rowNode.isExpandable(),t=1==this.rowNode.expanded;this.allRowGuis.forEach((o=>{o.rowComp.addOrRemoveCssClass("ag-row-group",e),o.rowComp.addOrRemoveCssClass("ag-row-group-expanded",e&&t),o.rowComp.addOrRemoveCssClass("ag-row-group-contracted",e&&!t),Jv(o.element,e&&t)}))}onDisplayedColumnsChanged(){this.updateColumnLists(!0),this.beans.columnModel.wasAutoRowHeightEverActive()&&this.rowNode.checkAutoHeights()}onVirtualColumnsChanged(){this.updateColumnLists(!1,!0)}getRowPosition(){return{rowPinned:pf(this.rowNode.rowPinned),rowIndex:this.rowNode.rowIndex}}findFullWidthRowGui(e){return this.allRowGuis.find((t=>t.element.contains(e)))}onKeyboardNavigate(e){const t=this.findFullWidthRowGui(e.target);if(!((t?t.element:null)===e.target))return;const o=this.rowNode,n=this.beans.focusService.getFocusedCell(),i={rowIndex:o.rowIndex,rowPinned:o.rowPinned,column:n?.column??this.getColumnForFullWidth(t)};this.beans.navigationService.navigateToNextCell(e,e.key,i,!0),e.preventDefault()}onTabKeyDown(e){if(e.defaultPrevented||wm(e))return;const t=this.allRowGuis.find((t=>t.element.contains(e.target))),o=t?t.element:null,n=o===e.target,i=Vf(this.gos);let r=!1;o&&i&&(r=o.contains(i)&&i.classList.contains("ag-cell"));let s=null;n||r||(s=this.beans.focusService.findNextFocusableElement(o,!1,e.shiftKey)),(this.isFullWidth()&&n||!s)&&this.beans.navigationService.onTabKeyDown(this,e)}getFullWidthElement(){return this.fullWidthGui?this.fullWidthGui.element:null}getRowYPosition(){const e=this.allRowGuis.find((e=>Ly(e.element)))?.element;return e?e.getBoundingClientRect().top:0}onSuppressCellFocusChanged(e){const t=this.isFullWidth()&&e?void 0:-1;this.allRowGuis.forEach((e=>{Wy(e.element,"tabindex",t)}))}onFullWidthRowFocused(e){const t=this.rowNode,o=!!e&&(this.isFullWidth()&&e.rowIndex===t.rowIndex&&e.rowPinned==t.rowPinned),n=this.fullWidthGui?this.fullWidthGui.element:this.centerGui?.element;n&&(n.classList.toggle("ag-full-width-focus",o),o&&e?.forceBrowserFocus&&n.focus({preventScroll:!0}))}recreateCell(e){this.centerCellCtrls=this.removeCellCtrl(this.centerCellCtrls,e),this.leftCellCtrls=this.removeCellCtrl(this.leftCellCtrls,e),this.rightCellCtrls=this.removeCellCtrl(this.rightCellCtrls,e),e.destroy(),this.updateColumnLists()}removeCellCtrl(e,t){const o={list:[],map:{}};return e.list.forEach((e=>{e!==t&&(o.list.push(e),o.map[e.getColumn().getInstanceId()]=e)})),o}onMouseEvent(e,t){switch(e){case"dblclick":this.onRowDblClick(t);break;case"click":this.onRowClick(t);break;case"touchstart":case"mousedown":this.onRowMouseDown(t)}}createRowEvent(e,t){return this.gos.addGridCommonParams({type:e,node:this.rowNode,data:this.rowNode.data,rowIndex:this.rowNode.rowIndex,rowPinned:this.rowNode.rowPinned,event:t})}createRowEventWithSource(e,t){const o=this.createRowEvent(e,t);return o.source=this,o}onRowDblClick(e){wm(e)||this.beans.eventService.dispatchEvent(this.createRowEventWithSource("rowDoubleClicked",e))}getColumnForFullWidth(e){const{visibleColsService:t}=this.beans;switch(e?.containerType){case"center":return t.getCenterCols()[0];case"left":return t.getLeftCols()[0];case"right":return t.getRightCols()[0];default:return t.getAllCols()[0]}}onRowMouseDown(e){if(this.lastMouseDownOnDragger=Sy(e.target,"ag-row-drag",3),!this.isFullWidth())return;const t=this.rowNode;this.beans.rangeService&&this.beans.rangeService.removeAllCellRanges();const o=this.findFullWidthRowGui(e.target),n=o?.element,i=e.target;let r=!0;n&&n.contains(i)&&Cy(i)&&(r=!1),this.beans.focusService.setFocusedCell({rowIndex:t.rowIndex,column:this.getColumnForFullWidth(o),rowPinned:t.rowPinned,forceBrowserFocus:r})}onRowClick(e){if(wm(e)||this.lastMouseDownOnDragger)return;const{gos:t}=this;this.beans.eventService.dispatchEvent(this.createRowEventWithSource("rowClicked",e));const o=e.ctrlKey||e.metaKey,n=e.shiftKey,i=this.rowNode.isSelected(),r=sm(t),s=tm(t),a=function(e){const t=em(e);return!0===t||"enableSelection"===t}(t);if(r&&this.rowNode.group||this.isRowSelectionBlocked()||!a&&!i||!s&&i)return;const l=function(e){const t=e.get("rowSelection");return"string"===typeof t?e.get("rowMultiSelectWithClick"):t?.enableSelectionWithoutKeys??!1}(t),c="rowClicked";if(i)l?this.rowNode.setSelectedParams({newValue:!1,event:e,source:c}):o?s&&this.rowNode.setSelectedParams({newValue:!1,event:e,source:c}):a&&this.rowNode.setSelectedParams({newValue:!0,clearSelection:!n,rangeSelect:n,event:e,source:c});else{const t=!l&&!o;this.rowNode.setSelectedParams({newValue:!0,clearSelection:t,rangeSelect:n,event:e,source:c})}}isRowSelectionBlocked(){return!this.rowNode.selectable||!!this.rowNode.rowPinned||!Tf(this.gos)}setupDetailRowAutoHeight(e){if("FullWidthDetail"!==this.rowType)return;if(!this.gos.get("detailRowAutoHeight"))return;const t=()=>{const t=e.clientHeight;if(null!=t&&t>0){const e=()=>{this.rowNode.setRowHeight(t),(Pf(this.gos)||Of(this.gos))&&this.beans.rowModel.onRowHeightChanged()};window.setTimeout(e,0)}},o=this.beans.resizeObserverService.observeResize(e,t);this.addDestroyFunc(o),t()}createFullWidthCompDetails(e,t){const{gos:o,rowNode:n}=this,i=o.addGridCommonParams({fullWidth:!0,data:n.data,node:n,value:n.key,valueFormatted:n.key,eGridCell:e,eParentOfValue:e,pinned:t,addRenderedRowListener:this.addEventListener.bind(this),registerRowDragger:(e,t,o,n)=>this.addFullWidthRowDragging(e,t,o,n),setTooltip:(e,t)=>this.refreshRowTooltip(e,t)}),r=this.beans.userComponentFactory;switch(this.rowType){case"FullWidthDetail":return r.getFullWidthDetailCellRendererDetails(i);case"FullWidthGroup":return r.getFullWidthGroupCellRendererDetails(i);case"FullWidthLoading":return r.getFullWidthLoadingCellRendererDetails(i);default:return r.getFullWidthCellRendererDetails(i)}}refreshRowTooltip(e,t){if(!this.fullWidthGui)return;const o={getGui:()=>this.fullWidthGui.element,getTooltipValue:()=>e,getLocation:()=>"fullWidthRow",shouldDisplayTooltip:t};this.tooltipFeature&&this.destroyBean(this.tooltipFeature,this.beans.context),this.tooltipFeature=this.createBean(new Ky(o,this.beans))}addFullWidthRowDragging(e,t){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=arguments.length>3?arguments[3]:void 0;if(!this.isFullWidth())return;const i=new aw((()=>o),this.rowNode,void 0,e,t,n);this.createBean(i,this.beans.context),this.addDestroyFunc((()=>{this.destroyBean(i,this.beans.context)}))}onUiLevelChanged(){const e=this.beans.rowCssClassCalculator.calculateRowLevel(this.rowNode);if(this.rowLevel!=e){const t="ag-row-level-"+e,o="ag-row-level-"+this.rowLevel;this.allRowGuis.forEach((e=>{e.rowComp.addOrRemoveCssClass(t,!0),e.rowComp.addOrRemoveCssClass(o,!1)}))}this.rowLevel=e}isFirstRowOnPage(){return this.rowNode.rowIndex===this.beans.pageBoundsService.getFirstRow()}isLastRowOnPage(){return this.rowNode.rowIndex===this.beans.pageBoundsService.getLastRow()}refreshFirstAndLastRowStyles(){const e=this.isFirstRowOnPage(),t=this.isLastRowOnPage();this.firstRowOnPage!==e&&(this.firstRowOnPage=e,this.allRowGuis.forEach((t=>t.rowComp.addOrRemoveCssClass("ag-row-first",e)))),this.lastRowOnPage!==t&&(this.lastRowOnPage=t,this.allRowGuis.forEach((e=>e.rowComp.addOrRemoveCssClass("ag-row-last",t))))}stopEditing(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.stoppingRowEdit||this.beans.rowEditService?.stopEditing(this,e)}setInlineEditingCss(){const e=this.editingRow||this.getAllCellCtrls().some((e=>e.isEditing()));this.allRowGuis.forEach((t=>{t.rowComp.addOrRemoveCssClass("ag-row-inline-editing",e),t.rowComp.addOrRemoveCssClass("ag-row-not-inline-editing",!e)}))}setEditingRow(e){this.editingRow=e}startRowEditing(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return!!this.editingRow||(this.beans.rowEditService?.startEditing(this,e,t,o)??!0)}getAllCellCtrls(){if(0===this.leftCellCtrls.list.length&&0===this.rightCellCtrls.list.length)return this.centerCellCtrls.list;return[...this.centerCellCtrls.list,...this.leftCellCtrls.list,...this.rightCellCtrls.list]}postProcessClassesFromGridOptions(){const e=this.beans.rowCssClassCalculator.processClassesFromGridOptions(this.rowNode);e&&e.length&&e.forEach((e=>{this.allRowGuis.forEach((t=>t.rowComp.addOrRemoveCssClass(e,!0)))}))}postProcessRowClassRules(){this.beans.rowCssClassCalculator.processRowClassRules(this.rowNode,(e=>{this.allRowGuis.forEach((t=>t.rowComp.addOrRemoveCssClass(e,!0)))}),(e=>{this.allRowGuis.forEach((t=>t.rowComp.addOrRemoveCssClass(e,!1)))}))}setStylesFromGridOptions(e,t){e&&(this.rowStyles=this.processStylesFromGridOptions()),this.forEachGui(t,(e=>e.rowComp.setUserStyles(this.rowStyles)))}getPinnedForContainer(e){return"left"===e||"right"===e?e:null}getInitialRowClasses(e){const t=this.getPinnedForContainer(e),o={rowNode:this.rowNode,rowFocused:this.rowFocused,fadeRowIn:this.fadeInAnimation[e],rowIsEven:this.rowNode.rowIndex%2===0,rowLevel:this.rowLevel,fullWidthRow:this.isFullWidth(),firstRowOnPage:this.isFirstRowOnPage(),lastRowOnPage:this.isLastRowOnPage(),printLayout:this.printLayout,expandable:this.rowNode.isExpandable(),pinned:t};return this.beans.rowCssClassCalculator.getInitialRowClasses(o)}processStylesFromGridOptions(){const e=this.gos.get("rowStyle");if(e&&"function"===typeof e)return void nf("rowStyle should be an object of key/value styles, not be a function, use getRowStyle() instead");const t=this.gos.getCallback("getRowStyle");let o;if(t){o=t({data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex})}return o||e?Object.assign({},e,o):this.emptyStyle}onRowSelected(e){const t=!!this.rowNode.isSelected();this.forEachGui(e,(e=>{e.rowComp.addOrRemoveCssClass("ag-row-selected",t),sy(e.element,t);!e.element.contains(Vf(this.gos))||e!==this.centerGui&&e!==this.fullWidthGui||this.announceDescription()}))}announceDescription(){if(this.isRowSelectionBlocked())return;const e=this.rowNode.isSelected();if(e&&!tm(this.gos))return;const t=this.beans.localeService.getLocaleTextFunc()(e?"ariaRowDeselect":"ariaRowSelect",`Press SPACE to ${e?"deselect":"select"} this row.`);this.beans.ariaAnnouncementService.announceValue(t,"rowSelection")}addHoverFunctionality(e){if(!this.active)return;const{element:t,compBean:o}=e,{rowNode:n,beans:i,gos:r}=this;o.addManagedListeners(t,{mouseenter:()=>n.onMouseEnter(),mouseleave:()=>n.onMouseLeave()}),o.addManagedListeners(n,{mouseEnter:()=>{i.dragService.isDragging()||r.get("suppressRowHoverHighlight")||(t.classList.add("ag-row-hover"),n.setHovered(!0))},mouseLeave:()=>{t.classList.remove("ag-row-hover"),n.setHovered(!1)}})}roundRowTopToBounds(e){const t=this.beans.ctrlsService.getGridBodyCtrl().getScrollFeature().getApproximateVScollPosition(),o=this.applyPaginationOffset(t.top,!0)-100,n=this.applyPaginationOffset(t.bottom,!0)+100;return Math.min(Math.max(o,e),n)}getFrameworkOverrides(){return this.beans.frameworkOverrides}forEachGui(e,t){e?t(e):this.allRowGuis.forEach(t)}onRowHeightChanged(e){if(null==this.rowNode.rowHeight)return;const t=this.rowNode.rowHeight,o=this.beans.environment.getDefaultRowHeight(),n=Af(this.gos)?Ff(this.gos,this.rowNode).height:void 0,i=n?Math.min(o,n)-2+"px":void 0;this.forEachGui(e,(e=>{e.element.style.height=`${t}px`,i&&e.element.style.setProperty("--ag-line-height",i)}))}addEventListener(e,t){super.addEventListener(e,t)}removeEventListener(e,t){super.removeEventListener(e,t)}destroyFirstPass(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.active=!1,!e&&Bf(this.gos)&&!this.isSticky()){if(null!=this.rowNode.rowTop){const e=this.roundRowTopToBounds(this.rowNode.rowTop);this.setRowTop(e)}else this.allRowGuis.forEach((e=>e.rowComp.addOrRemoveCssClass("ag-opacity-zero",!0)))}this.rowNode.setHovered(!1);const t=this.createRowEvent("virtualRowRemoved");this.dispatchLocalEvent(t),this.beans.eventService.dispatchEvent(t),super.destroy()}destroySecondPass(){this.allRowGuis.length=0,this.stopEditing();const e=e=>(e.list.forEach((e=>e.destroy())),{list:[],map:{}});this.centerCellCtrls=e(this.centerCellCtrls),this.leftCellCtrls=e(this.leftCellCtrls),this.rightCellCtrls=e(this.rightCellCtrls)}setFocusedClasses(e){this.forEachGui(e,(e=>{e.rowComp.addOrRemoveCssClass("ag-row-focus",this.rowFocused),e.rowComp.addOrRemoveCssClass("ag-row-no-focus",!this.rowFocused)}))}onCellFocusChanged(){const e=this.beans.focusService.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned);e!==this.rowFocused&&(this.rowFocused=e,this.setFocusedClasses()),!e&&this.editingRow&&this.stopEditing(!1)}onPaginationChanged(){const e=this.beans.paginationService?.getCurrentPage()??0;this.paginationPage!==e&&(this.paginationPage=e,this.onTopChanged()),this.refreshFirstAndLastRowStyles()}onTopChanged(){this.setRowTop(this.rowNode.rowTop)}onPaginationPixelOffsetChanged(){this.onTopChanged()}applyPaginationOffset(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.rowNode.isRowPinned()||this.rowNode.sticky)return e;return e+this.beans.pageBoundsService.getPixelOffset()*(t?1:-1)}setRowTop(e){if(!this.printLayout&&gf(e)){const t=this.applyPaginationOffset(e),o=`${this.rowNode.isRowPinned()||this.rowNode.sticky?t:this.beans.rowContainerHeightService.getRealPixelPosition(t)}px`;this.setRowTopStyle(o)}}getInitialRowTop(e){return this.suppressRowTransform?this.getInitialRowTopShared(e):void 0}getInitialTransform(e){return this.suppressRowTransform?void 0:`translateY(${this.getInitialRowTopShared(e)})`}getInitialRowTopShared(e){if(this.printLayout)return"";const t=this.rowNode;let o;if(this.isSticky())o=t.stickyRowTop;else{const n=this.slideInAnimation[e]?this.roundRowTopToBounds(t.oldRowTop):t.rowTop,i=this.applyPaginationOffset(n);o=t.isRowPinned()?i:this.beans.rowContainerHeightService.getRealPixelPosition(i)}return o+"px"}setRowTopStyle(e){this.allRowGuis.forEach((t=>this.suppressRowTransform?t.rowComp.setTop(e):t.rowComp.setTransform(`translateY(${e})`)))}getRowNode(){return this.rowNode}getCellCtrl(e){let t=null;return this.getAllCellCtrls().forEach((o=>{o.getColumn()==e&&(t=o)})),null!=t||this.getAllCellCtrls().forEach((o=>{o.getColSpanningList().indexOf(e)>=0&&(t=o)})),t}onRowIndexChanged(){null!=this.rowNode.rowIndex&&(this.onCellFocusChanged(),this.updateRowIndexes(),this.postProcessCss())}getRowIndex(){return this.rowNode.getRowIndexString()}updateRowIndexes(e){const t=this.rowNode.getRowIndexString();if(null===t)return;const o=this.beans.headerNavigationService.getHeaderRowCount()+(this.beans.filterManager?.getHeaderRowCount()??0),n=this.rowNode.rowIndex%2===0,i=o+this.rowNode.rowIndex+1;this.forEachGui(e,(e=>{e.rowComp.setRowIndex(t),e.rowComp.addOrRemoveCssClass("ag-row-even",n),e.rowComp.addOrRemoveCssClass("ag-row-odd",!n),ty(e.element,i)}))}setStoppingRowEdit(e){this.stoppingRowEdit=e}};yS.DOM_DATA_KEY_ROW_CTRL="renderedRow";var CS=yS,wS=class extends Rm{wireBeans(e){this.mouseEventService=e.mouseEventService,this.valueService=e.valueService,this.menuService=e.menuService,this.ctrlsService=e.ctrlsService,this.navigationService=e.navigationService,this.focusService=e.focusService,this.undoRedoService=e.undoRedoService,this.visibleColsService=e.visibleColsService,this.rowModel=e.rowModel,this.pinnedRowModel=e.pinnedRowModel,this.rangeService=e.rangeService,this.clipboardService=e.clipboardService}constructor(e){super(),this.element=e}postConstruct(){this.addKeyboardListeners(),this.addMouseListeners(),this.mockContextMenuForIPad()}addKeyboardListeners(){const e="keydown",t=this.processKeyboardEvent.bind(this,e);this.addManagedElementListeners(this.element,{[e]:t})}addMouseListeners(){["dblclick","contextmenu","mouseover","mouseout","click",bm("touchstart")?"touchstart":"mousedown"].forEach((e=>{const t=this.processMouseEvent.bind(this,e);this.addManagedElementListeners(this.element,{[e]:t})}))}processMouseEvent(e,t){if(!this.mouseEventService.isEventFromThisGrid(t)||wm(t))return;const o=this.getRowForEvent(t),n=this.mouseEventService.getRenderedCellForEvent(t);"contextmenu"===e?this.handleContextMenuMouseEvent(t,void 0,o,n):(n&&n.onMouseEvent(e,t),o&&o.onMouseEvent(e,t))}mockContextMenuForIPad(){if(!py())return;const e=new oC(this.element);this.addManagedListeners(e,{longTap:e=>{const t=this.getRowForEvent(e.touchEvent),o=this.mouseEventService.getRenderedCellForEvent(e.touchEvent);this.handleContextMenuMouseEvent(void 0,e.touchEvent,t,o)}}),this.addDestroyFunc((()=>e.destroy()))}getRowForEvent(e){let t=e.target;for(;t;){const e=If(this.gos,t,CS.DOM_DATA_KEY_ROW_CTRL);if(e)return e;t=t.parentElement}return null}handleContextMenuMouseEvent(e,t,o,n){const i=o?o.getRowNode():null,r=n?n.getColumn():null;let s=null;if(r){const o=e||t;n.dispatchCellContextMenuEvent(o??null),s=this.valueService.getValue(r,i)}const a=this.ctrlsService.getGridBodyCtrl(),l=n?n.getGui():a.getGridBodyElement();this.menuService.showContextMenu({mouseEvent:e,touchEvent:t,rowNode:i,column:r,value:s,anchorToElement:l})}getControlsForEventTarget(e){return{cellCtrl:Sm(this.gos,e,mS.DOM_DATA_KEY_CELL_CTRL),rowCtrl:Sm(this.gos,e,CS.DOM_DATA_KEY_ROW_CTRL)}}processKeyboardEvent(e,t){const{cellCtrl:o,rowCtrl:n}=this.getControlsForEventTarget(t.target);t.defaultPrevented||(o?this.processCellKeyboardEvent(o,e,t):n&&n.isFullWidth()&&this.processFullWidthRowKeyboardEvent(n,e,t))}processCellKeyboardEvent(e,t,o){const n=e.getRowNode(),i=e.getColumn(),r=e.isEditing();if(!Iw(this.gos,o,n,i,r)&&"keydown"===t){!r&&this.navigationService.handlePageScrollingKey(o)||e.onKeyDown(o),this.doGridOperations(o,e.isEditing()),Mw(o)&&e.processCharacter(o)}"keydown"===t&&this.eventService.dispatchEvent(e.createEvent(o,"cellKeyDown"))}processFullWidthRowKeyboardEvent(e,t,o){const n=e.getRowNode(),i=this.focusService.getFocusedCell(),r=i&&i.column;if(!Iw(this.gos,o,n,r,!1)){const n=o.key;if("keydown"===t)switch(n){case dC.PAGE_HOME:case dC.PAGE_END:case dC.PAGE_UP:case dC.PAGE_DOWN:this.navigationService.handlePageScrollingKey(o,!0);break;case dC.UP:case dC.DOWN:e.onKeyboardNavigate(o);break;case dC.TAB:e.onTabKeyDown(o)}}"keydown"===t&&this.eventService.dispatchEvent(e.createRowEvent("cellKeyDown",o))}doGridOperations(e,t){if(!e.ctrlKey&&!e.metaKey)return;if(t)return;if(!this.mouseEventService.isEventFromThisGrid(e))return;const o=function(e){const{keyCode:t}=e;let o;switch(t){case 65:o=dC.A;break;case 67:o=dC.C;break;case 86:o=dC.V;break;case 68:o=dC.D;break;case 90:o=dC.Z;break;case 89:o=dC.Y;break;default:o=e.code}return o}(e);return o===dC.A?this.onCtrlAndA(e):o===dC.C?this.onCtrlAndC(e):o===dC.D?this.onCtrlAndD(e):o===dC.V?this.onCtrlAndV(e):o===dC.X?this.onCtrlAndX(e):o===dC.Y?this.onCtrlAndY():o===dC.Z?this.onCtrlAndZ(e):void 0}onCtrlAndA(e){const{pinnedRowModel:t,rowModel:o,rangeService:n}=this;if(n&&o.isRowsToRender()){const[e,i]=[t.isEmpty("top"),t.isEmpty("bottom")],r=e?null:"top";let s,a;i?(s=null,a=o.getRowCount()-1):(s="bottom",a=t.getPinnedBottomRowCount()-1);const l=this.visibleColsService.getAllCols();if(mf(l))return;n.setCellRange({rowStartIndex:0,rowStartPinned:r,rowEndIndex:a,rowEndPinned:s,columnStart:l[0],columnEnd:lm(l)})}e.preventDefault()}onCtrlAndC(e){if(!this.clipboardService||this.gos.get("enableCellTextSelection"))return;const{cellCtrl:t,rowCtrl:o}=this.getControlsForEventTarget(e.target);t?.isEditing()||o?.isEditing()||(e.preventDefault(),this.clipboardService.copyToClipboard())}onCtrlAndX(e){if(!this.clipboardService||this.gos.get("enableCellTextSelection")||this.gos.get("suppressCutToClipboard"))return;const{cellCtrl:t,rowCtrl:o}=this.getControlsForEventTarget(e.target);t?.isEditing()||o?.isEditing()||(e.preventDefault(),this.clipboardService.cutToClipboard(void 0,"ui"))}onCtrlAndV(e){const{cellCtrl:t,rowCtrl:o}=this.getControlsForEventTarget(e.target);t?.isEditing()||o?.isEditing()||this.clipboardService&&!this.gos.get("suppressClipboardPaste")&&this.clipboardService.pasteFromClipboard()}onCtrlAndD(e){this.clipboardService&&!this.gos.get("suppressClipboardPaste")&&this.clipboardService.copyRangeDown(),e.preventDefault()}onCtrlAndZ(e){this.gos.get("undoRedoCellEditing")&&this.undoRedoService&&(e.preventDefault(),e.shiftKey?this.undoRedoService.redo("ui"):this.undoRedoService.undo("ui"))}onCtrlAndY(){this.undoRedoService?.redo("ui")}},bS=class extends Rm{wireBeans(e){this.pinnedWidthService=e.pinnedWidthService}constructor(e){super(),this.element=e}postConstruct(){this.addManagedEventListeners({leftPinnedWidthChanged:this.onPinnedLeftWidthChanged.bind(this)})}onPinnedLeftWidthChanged(){const e=this.pinnedWidthService.getPinnedLeftWidth(),t=e>0;wy(this.element,t),Gy(this.element,e)}getWidth(){return this.pinnedWidthService.getPinnedLeftWidth()}},SS=class extends Rm{wireBeans(e){this.pinnedWidthService=e.pinnedWidthService}constructor(e){super(),this.element=e}postConstruct(){this.addManagedEventListeners({rightPinnedWidthChanged:this.onPinnedRightWidthChanged.bind(this)})}onPinnedRightWidthChanged(){const e=this.pinnedWidthService.getPinnedRightWidth(),t=e>0;wy(this.element,t),Gy(this.element,e)}getWidth(){return this.pinnedWidthService.getPinnedRightWidth()}},ES=e=>e.getTopRowCtrls(),RS=e=>e.getStickyTopRowCtrls(),PS=e=>e.getStickyBottomRowCtrls(),OS=e=>e.getBottomRowCtrls(),xS=e=>e.getCentreRowCtrls(),TS={center:{type:"center",container:"ag-center-cols-container",viewport:"ag-center-cols-viewport",getRowCtrls:xS},left:{type:"left",container:"ag-pinned-left-cols-container",pinnedType:"left",getRowCtrls:xS},right:{type:"right",container:"ag-pinned-right-cols-container",pinnedType:"right",getRowCtrls:xS},fullWidth:{type:"fullWidth",container:"ag-full-width-container",fullWidth:!0,getRowCtrls:xS},topCenter:{type:"center",container:"ag-floating-top-container",viewport:"ag-floating-top-viewport",getRowCtrls:ES},topLeft:{type:"left",container:"ag-pinned-left-floating-top",pinnedType:"left",getRowCtrls:ES},topRight:{type:"right",container:"ag-pinned-right-floating-top",pinnedType:"right",getRowCtrls:ES},topFullWidth:{type:"fullWidth",container:"ag-floating-top-full-width-container",fullWidth:!0,getRowCtrls:ES},stickyTopCenter:{type:"center",container:"ag-sticky-top-container",viewport:"ag-sticky-top-viewport",getRowCtrls:RS},stickyTopLeft:{type:"left",container:"ag-pinned-left-sticky-top",pinnedType:"left",getRowCtrls:RS},stickyTopRight:{type:"right",container:"ag-pinned-right-sticky-top",pinnedType:"right",getRowCtrls:RS},stickyTopFullWidth:{type:"fullWidth",container:"ag-sticky-top-full-width-container",fullWidth:!0,getRowCtrls:RS},stickyBottomCenter:{type:"center",container:"ag-sticky-bottom-container",viewport:"ag-sticky-bottom-viewport",getRowCtrls:PS},stickyBottomLeft:{type:"left",container:"ag-pinned-left-sticky-bottom",pinnedType:"left",getRowCtrls:PS},stickyBottomRight:{type:"right",container:"ag-pinned-right-sticky-bottom",pinnedType:"right",getRowCtrls:PS},stickyBottomFullWidth:{type:"fullWidth",container:"ag-sticky-bottom-full-width-container",fullWidth:!0,getRowCtrls:PS},bottomCenter:{type:"center",container:"ag-floating-bottom-container",viewport:"ag-floating-bottom-viewport",getRowCtrls:OS},bottomLeft:{type:"left",container:"ag-pinned-left-floating-bottom",pinnedType:"left",getRowCtrls:OS},bottomRight:{type:"right",container:"ag-pinned-right-floating-bottom",pinnedType:"right",getRowCtrls:OS},bottomFullWidth:{type:"fullWidth",container:"ag-floating-bottom-full-width-container",fullWidth:!0,getRowCtrls:OS}};function DS(e){return TS[e]}var AS=["center","left","right","fullWidth"],FS=["stickyTopCenter","stickyBottomCenter","center","topCenter","bottomCenter"],_S=["left","bottomLeft","topLeft","stickyTopLeft","stickyBottomLeft"],MS=["right","bottomRight","topRight","stickyTopRight","stickyBottomRight"],IS=["stickyTopCenter","stickyTopLeft","stickyTopRight"],LS=["stickyBottomCenter","stickyBottomLeft","stickyBottomRight"],NS=[...IS,"stickyTopFullWidth",...LS,"stickyBottomFullWidth"],kS=["topCenter","topLeft","topRight","bottomCenter","bottomLeft","bottomRight","center","left","right",...IS,...LS],GS=class extends Rm{constructor(e){super(),this.visible=!0,this.EMPTY_CTRLS=[],this.name=e,this.options=DS(e)}wireBeans(e){this.dragService=e.dragService,this.ctrlsService=e.ctrlsService,this.columnViewportService=e.columnViewportService,this.resizeObserverService=e.resizeObserverService,this.rowRenderer=e.rowRenderer}postConstruct(){this.enableRtl=this.gos.get("enableRtl"),this.forContainers(["center"],(()=>{this.viewportSizeFeature=this.createManagedBean(new iS(this)),this.addManagedEventListeners({stickyTopOffsetChanged:this.onStickyTopOffsetChanged.bind(this)})}))}onStickyTopOffsetChanged(e){this.comp.setOffsetTop(`${e.offset}px`)}registerWithCtrlsService(){this.options.fullWidth||this.ctrlsService.register(this.name,this)}forContainers(e,t){e.indexOf(this.name)>=0&&t()}getContainerElement(){return this.eContainer}getViewportSizeFeature(){return this.viewportSizeFeature}setComp(e,t,o){this.comp=e,this.eContainer=t,this.eViewport=o,this.createManagedBean(new wS(this.eContainer)),this.addPreventScrollWhileDragging(),this.listenOnDomOrder();const n=()=>this.onPinnedWidthChanged();this.forContainers(_S,(()=>{this.pinnedWidthFeature=this.createManagedBean(new bS(this.eContainer)),this.addManagedEventListeners({leftPinnedWidthChanged:n})})),this.forContainers(MS,(()=>{this.pinnedWidthFeature=this.createManagedBean(new SS(this.eContainer)),this.addManagedEventListeners({rightPinnedWidthChanged:n})})),this.forContainers(AS,(()=>this.createManagedBean(new eS(this.eContainer,"center"===this.name?o:void 0)))),this.forContainers(kS,(()=>this.createManagedBean(new rS(this.eContainer)))),this.forContainers(FS,(()=>this.createManagedBean(new _b((e=>this.comp.setContainerWidth(`${e}px`)))))),this.visible=this.isContainerVisible(),this.addListeners(),this.registerWithCtrlsService()}onScrollCallback(e){this.addManagedElementListeners(this.getViewportElement(),{scroll:e})}addListeners(){this.addManagedEventListeners({displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),displayedColumnsWidthChanged:this.onDisplayedColumnsWidthChanged.bind(this),displayedRowsChanged:e=>this.onDisplayedRowsChanged(e.afterScroll)}),this.onDisplayedColumnsChanged(),this.onDisplayedColumnsWidthChanged(),this.onDisplayedRowsChanged()}listenOnDomOrder(){if(NS.indexOf(this.name)>=0)return void this.comp.setDomOrder(!0);const e=()=>{const e=this.gos.get("ensureDomOrder"),t=xf(this.gos,"print");this.comp.setDomOrder(e||t)};this.addManagedPropertyListener("domLayout",e),e()}onDisplayedColumnsChanged(){this.forContainers(["center"],(()=>this.onHorizontalViewportChanged()))}onDisplayedColumnsWidthChanged(){this.forContainers(["center"],(()=>this.onHorizontalViewportChanged()))}addPreventScrollWhileDragging(){const e=e=>{this.dragService.isDragging()&&e.cancelable&&e.preventDefault()};this.eContainer.addEventListener("touchmove",e,{passive:!1}),this.addDestroyFunc((()=>this.eContainer.removeEventListener("touchmove",e)))}onHorizontalViewportChanged(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=this.getCenterWidth(),o=this.getCenterViewportScrollLeft();this.columnViewportService.setScrollPosition(t,o,e)}hasHorizontalScrollGap(){return this.eContainer.clientWidth-this.eViewport.clientWidth<0}hasVerticalScrollGap(){return this.eContainer.clientHeight-this.eViewport.clientHeight<0}getCenterWidth(){return Py(this.eViewport)}getCenterViewportScrollLeft(){return Ay(this.eViewport,this.enableRtl)}registerViewportResizeListener(e){const t=this.resizeObserverService.observeResize(this.eViewport,e);this.addDestroyFunc((()=>t()))}isViewportInTheDOMTree(){return Iy(this.eViewport)}getViewportScrollLeft(){return Ay(this.eViewport,this.enableRtl)}isHorizontalScrollShowing(){return this.gos.get("alwaysShowHorizontalScroll")||(e=this.eViewport).clientWidth<e.scrollWidth;var e}getViewportElement(){return this.eViewport}setHorizontalScroll(e){this.comp.setHorizontalScroll(e)}getHScrollPosition(){return{left:this.eViewport.scrollLeft,right:this.eViewport.scrollLeft+this.eViewport.offsetWidth}}setCenterViewportScrollLeft(e){Fy(this.eViewport,e,this.enableRtl)}isContainerVisible(){return!(null!=this.options.pinnedType)||!!this.pinnedWidthFeature&&this.pinnedWidthFeature.getWidth()>0}onPinnedWidthChanged(){const e=this.isContainerVisible();this.visible!=e&&(this.visible=e,this.onDisplayedRowsChanged())}onDisplayedRowsChanged(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=this.options.getRowCtrls(this.rowRenderer);if(!this.visible||0===t.length)return void this.comp.setRowCtrls({rowCtrls:this.EMPTY_CTRLS});const o=xf(this.gos,"print"),n=this.gos.get("embedFullWidthRows")||o,i=t.filter((e=>{const t=e.isFullWidth();return this.options.fullWidth?!n&&t:n||!t}));this.comp.setRowCtrls({rowCtrls:i,useFlushSync:e})}},VS="ag-force-vertical-scroll",HS=class extends Rm{constructor(){super(...arguments),this.stickyTopHeight=0,this.stickyBottomHeight=0}wireBeans(e){this.animationFrameService=e.animationFrameService,this.rowContainerHeightService=e.rowContainerHeightService,this.ctrlsService=e.ctrlsService,this.columnModel=e.columnModel,this.columnSizeService=e.columnSizeService,this.scrollVisibleService=e.scrollVisibleService,this.menuService=e.menuService,this.headerNavigationService=e.headerNavigationService,this.dragAndDropService=e.dragAndDropService,this.pinnedRowModel=e.pinnedRowModel,this.rowRenderer=e.rowRenderer,this.popupService=e.popupService,this.mouseEventService=e.mouseEventService,this.rowModel=e.rowModel,this.filterManager=e.filterManager,this.environment=e.environment}getScrollFeature(){return this.bodyScrollFeature}getBodyViewportElement(){return this.eBodyViewport}setComp(e,t,o,n,i,r,s){this.comp=e,this.eGridBody=t,this.eBodyViewport=o,this.eTop=n,this.eBottom=i,this.eStickyTop=r,this.eStickyBottom=s,this.eCenterColsViewport=o.querySelector(`.${DS("center").viewport}`),this.eFullWidthContainer=o.querySelector(`.${DS("fullWidth").container}`),this.eStickyTopFullWidthContainer=r.querySelector(`.${DS("stickyTopFullWidth").container}`),this.eStickyBottomFullWidthContainer=s.querySelector(`.${DS("stickyBottomFullWidth").container}`),this.setCellTextSelection(this.gos.get("enableCellTextSelection")),this.addManagedPropertyListener("enableCellTextSelection",(e=>this.setCellTextSelection(e.currentValue))),this.createManagedBean(new Xb(this.comp)),this.bodyScrollFeature=this.createManagedBean(new nS(this.eBodyViewport)),this.addRowDragListener(),this.setupRowAnimationCssClass(),this.addEventListeners(),this.addFocusListeners([n,o,i,r,s]),this.onGridColumnsChanged(),this.addBodyViewportListener(),this.setFloatingHeights(),this.disableBrowserDragging(),this.addStopEditingWhenGridLosesFocus(),this.updateScrollingClasses(),this.filterManager?.setupAdvancedFilterHeaderComp(n),this.ctrlsService.register("gridBodyCtrl",this)}getComp(){return this.comp}addEventListeners(){const e=this.setFloatingHeights.bind(this);this.addManagedEventListeners({gridColumnsChanged:this.onGridColumnsChanged.bind(this),scrollVisibilityChanged:this.onScrollVisibilityChanged.bind(this),scrollGapChanged:this.onScrollGapChanged.bind(this),pinnedRowDataChanged:e,pinnedHeightChanged:e,headerHeightChanged:this.onHeaderHeightChanged.bind(this)})}addFocusListeners(e){e.forEach((e=>{this.addManagedElementListeners(e,{focusin:t=>{const{target:o}=t,n=Sy(o,"ag-root",e);e.classList.toggle("ag-has-focus",!n)},focusout:t=>{const{target:o,relatedTarget:n}=t,i=e.contains(n),r=Sy(n,"ag-root",e);Sy(o,"ag-root",e)||i&&!r||e.classList.remove("ag-has-focus")}})}))}setColumnMovingCss(e){this.comp.setColumnMovingCss("ag-column-moving",e)}setCellTextSelection(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.comp.setCellSelectableCss("ag-selectable",e)}onScrollVisibilityChanged(){const e=this.scrollVisibleService.isVerticalScrollShowing();this.setVerticalScrollPaddingVisible(e),this.setStickyWidth(e),this.setStickyBottomOffsetBottom();const t=`calc(100% + ${(e&&this.scrollVisibleService.getScrollbarWidth()||0)+(vy()?16:0)}px)`;this.animationFrameService.requestAnimationFrame((()=>this.comp.setBodyViewportWidth(t))),this.updateScrollingClasses()}onScrollGapChanged(){this.updateScrollingClasses()}updateScrollingClasses(){this.eGridBody.classList.toggle("ag-body-vertical-content-no-gap",!this.scrollVisibleService.hasVerticalScrollGap()),this.eGridBody.classList.toggle("ag-body-horizontal-content-no-gap",!this.scrollVisibleService.hasHorizontalScrollGap())}onGridColumnsChanged(){const e=this.columnModel.getCols();this.comp.setColumnCount(e.length)}disableBrowserDragging(){this.addManagedElementListeners(this.eGridBody,{dragstart:e=>{if(e.target instanceof HTMLImageElement)return e.preventDefault(),!1}})}addStopEditingWhenGridLosesFocus(){if(!this.gos.get("stopEditingWhenCellsLoseFocus"))return;const e=e=>{const o=e.relatedTarget;if(null===fy(o))return void this.rowRenderer.stopEditing();let n=t.some((e=>e.contains(o)))&&this.mouseEventService.isElementInThisGrid(o);if(!n){const e=this.popupService;n=e.getActivePopups().some((e=>e.contains(o)))||e.isElementWithinCustomPopup(o)}n||this.rowRenderer.stopEditing()},t=[this.eBodyViewport,this.eBottom,this.eTop,this.eStickyTop,this.eStickyBottom];t.forEach((t=>this.addManagedElementListeners(t,{focusout:e})))}updateRowCount(){const e=this.headerNavigationService.getHeaderRowCount()+(this.filterManager?.getHeaderRowCount()??0),t=this.rowModel.isLastRowIndexKnown()?this.rowModel.getRowCount():-1,o=-1===t?-1:e+t;this.comp.setRowCount(o)}registerBodyViewportResizeListener(e){this.comp.registerBodyViewportResizeListener(e)}setVerticalScrollPaddingVisible(e){const t=e?"scroll":"hidden";this.comp.setPinnedTopBottomOverflowY(t)}isVerticalScrollShowing(){const e=this.gos.get("alwaysShowVerticalScroll"),t=e?VS:null,o=xf(this.gos,"normal");return this.comp.setAlwaysVerticalScrollClass(t,e),e||o&&(n=this.eBodyViewport).clientHeight<n.scrollHeight;var n}setupRowAnimationCssClass(){let e=this.environment.hasMeasuredSizes();const t=()=>{const t=e&&Bf(this.gos)&&!this.rowContainerHeightService.isStretching(),o=t?"ag-row-animation":"ag-row-no-animation";this.comp.setRowAnimationCssOnBodyViewport(o,t)};t(),this.addManagedEventListeners({heightScaleChanged:t}),this.addManagedPropertyListener("animateRows",t),this.addManagedEventListeners({gridStylesChanged:()=>{!e&&this.environment.hasMeasuredSizes()&&(e=!0,t())}})}getGridBodyElement(){return this.eGridBody}addBodyViewportListener(){const e=this.onBodyViewportContextMenu.bind(this);this.addManagedElementListeners(this.eBodyViewport,{contextmenu:e}),this.mockContextMenuForIPad(e),this.addManagedElementListeners(this.eBodyViewport,{wheel:this.onBodyViewportWheel.bind(this)}),this.addManagedElementListeners(this.eStickyTop,{wheel:this.onStickyWheel.bind(this)}),this.addManagedElementListeners(this.eStickyBottom,{wheel:this.onStickyWheel.bind(this)}),this.addFullWidthContainerWheelListener()}addFullWidthContainerWheelListener(){this.addManagedElementListeners(this.eFullWidthContainer,{wheel:e=>this.onFullWidthContainerWheel(e)})}onFullWidthContainerWheel(e){const{deltaX:t,deltaY:o,shiftKey:n}=e;(n||Math.abs(t)>Math.abs(o))&&this.mouseEventService.isEventFromThisGrid(e)&&this.scrollGridBodyToMatchEvent(e)}onStickyWheel(e){const{deltaX:t,deltaY:o,shiftKey:n}=e,i=n||Math.abs(t)>Math.abs(o),r=e.target;i?(this.eStickyTopFullWidthContainer.contains(r)||this.eStickyBottomFullWidthContainer.contains(r))&&this.scrollGridBodyToMatchEvent(e):(e.preventDefault(),this.scrollVertically(o))}scrollGridBodyToMatchEvent(e){const{deltaX:t,deltaY:o}=e;e.preventDefault(),this.eCenterColsViewport.scrollBy({left:t||o})}onBodyViewportContextMenu(e,t,o){if(!e&&!o)return;if(this.gos.get("preventDefaultOnContextMenu")){(e||o).preventDefault()}const{target:n}=e||t;n!==this.eBodyViewport&&n!==this.ctrlsService.get("center").getViewportElement()||this.menuService.showContextMenu({mouseEvent:e,touchEvent:o,value:null,anchorToElement:this.eGridBody})}mockContextMenuForIPad(e){if(!py())return;const t=new oC(this.eBodyViewport);this.addManagedListeners(t,{longTap:t=>{e(void 0,t.touchStart,t.touchEvent)}}),this.addDestroyFunc((()=>t.destroy()))}onBodyViewportWheel(e){this.gos.get("suppressScrollWhenPopupsAreOpen")&&this.popupService.hasAnchoredPopup()&&e.preventDefault()}getGui(){return this.eGridBody}scrollVertically(e){const t=this.eBodyViewport.scrollTop;return this.bodyScrollFeature.setVerticalScrollPosition(t+e),this.eBodyViewport.scrollTop-t}addRowDragListener(){this.rowDragFeature=this.createManagedBean(new rw(this.eBodyViewport)),this.dragAndDropService.addDropTarget(this.rowDragFeature),this.addDestroyFunc((()=>this.dragAndDropService.removeDropTarget(this.rowDragFeature)))}getRowDragFeature(){return this.rowDragFeature}setFloatingHeights(){const{pinnedRowModel:e}=this,t=e.getPinnedTopTotalHeight(),o=e.getPinnedBottomTotalHeight();this.comp.setTopHeight(t),this.comp.setBottomHeight(o),this.comp.setTopDisplay(t?"inherit":"none"),this.comp.setBottomDisplay(o?"inherit":"none"),this.setStickyTopOffsetTop(),this.setStickyBottomOffsetBottom()}setStickyTopHeight(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.comp.setStickyTopHeight(`${e}px`),this.stickyTopHeight=e}getStickyTopHeight(){return this.stickyTopHeight}setStickyBottomHeight(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.comp.setStickyBottomHeight(`${e}px`),this.stickyBottomHeight=e}getStickyBottomHeight(){return this.stickyBottomHeight}setStickyWidth(e){if(e){const e=this.scrollVisibleService.getScrollbarWidth();this.comp.setStickyTopWidth(`calc(100% - ${e}px)`),this.comp.setStickyBottomWidth(`calc(100% - ${e}px)`)}else this.comp.setStickyTopWidth("100%"),this.comp.setStickyBottomWidth("100%")}onHeaderHeightChanged(){this.setStickyTopOffsetTop()}setStickyTopOffsetTop(){const e=this.ctrlsService.get("gridHeaderCtrl").getHeaderHeight()+(this.filterManager?.getHeaderHeight()??0),t=this.pinnedRowModel.getPinnedTopTotalHeight();let o=0;e>0&&(o+=e),t>0&&(o+=t),o>0&&(o+=1),this.comp.setStickyTopTop(`${o}px`)}setStickyBottomOffsetBottom(){const e=this.pinnedRowModel.getPinnedBottomTotalHeight()+(this.scrollVisibleService.isHorizontalScrollShowing()&&this.scrollVisibleService.getScrollbarWidth()||0);this.comp.setStickyBottomBottom(`${e}px`)}sizeColumnsToFit(e,t){const o=this.isVerticalScrollShowing()?this.scrollVisibleService.getScrollbarWidth():0,n=Py(this.eGridBody)-o;n>0?this.columnSizeService.sizeColumnsToFit(n,"sizeColumnsToFit",!1,e):void 0===t?window.setTimeout((()=>{this.sizeColumnsToFit(e,100)}),0):100===t?window.setTimeout((()=>{this.sizeColumnsToFit(e,500)}),100):500===t?window.setTimeout((()=>{this.sizeColumnsToFit(e,-1)}),500):nf("tried to call sizeColumnsToFit() but the grid is coming back with zero width, maybe the grid is not visible yet on the screen?")}addScrollEventListener(e){this.eBodyViewport.addEventListener("scroll",e,{passive:!0})}removeScrollEventListener(e){this.eBodyViewport.removeEventListener("scroll",e)}};function BS(e){return e.map((e=>`<ag-row-container name="${e}"></ag-row-container>`)).join("")}BS(["topLeft","topCenter","topRight","topFullWidth"]),BS(["left","center","right","fullWidth"]),BS(["stickyTopLeft","stickyTopCenter","stickyTopRight","stickyTopFullWidth"]),BS(["stickyBottomLeft","stickyBottomCenter","stickyBottomRight","stickyBottomFullWidth"]),BS(["bottomLeft","bottomCenter","bottomRight","bottomFullWidth"]);var WS=class extends Rm{constructor(){super(...arguments),this.beanName="scrollVisibleService"}wireBeans(e){this.ctrlsService=e.ctrlsService,this.columnAnimationService=e.columnAnimationService}postConstruct(){this.getScrollbarWidth(),this.addManagedEventListeners({displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),displayedColumnsWidthChanged:this.onDisplayedColumnsWidthChanged.bind(this)})}onDisplayedColumnsChanged(){this.updateScrollVisible()}onDisplayedColumnsWidthChanged(){this.updateScrollVisible()}onCentreViewportResized(){this.updateScrollGap()}updateScrollVisible(){this.columnAnimationService.isActive()?this.columnAnimationService.executeLaterVMTurn((()=>{this.columnAnimationService.executeLaterVMTurn((()=>this.updateScrollVisibleImpl()))})):this.updateScrollVisibleImpl()}updateScrollVisibleImpl(){const e=this.ctrlsService.get("center");if(!e||this.columnAnimationService.isActive())return;const t={horizontalScrollShowing:e.isHorizontalScrollShowing(),verticalScrollShowing:this.isVerticalScrollShowing()};this.setScrollsVisible(t),this.updateScrollGap()}updateScrollGap(){const e=this.ctrlsService.get("center"),t=e.hasHorizontalScrollGap(),o=e.hasVerticalScrollGap();(this.horizontalScrollGap!==t||this.verticalScrollGap!==o)&&(this.horizontalScrollGap=t,this.verticalScrollGap=o,this.eventService.dispatchEvent({type:"scrollGapChanged"}))}setScrollsVisible(e){(this.horizontalScrollShowing!==e.horizontalScrollShowing||this.verticalScrollShowing!==e.verticalScrollShowing)&&(this.horizontalScrollShowing=e.horizontalScrollShowing,this.verticalScrollShowing=e.verticalScrollShowing,this.eventService.dispatchEvent({type:"scrollVisibilityChanged"}))}isHorizontalScrollShowing(){return this.horizontalScrollShowing}isVerticalScrollShowing(){return this.verticalScrollShowing}hasHorizontalScrollGap(){return this.horizontalScrollGap}hasVerticalScrollGap(){return this.verticalScrollGap}getScrollbarWidth(){if(null==this.scrollbarWidth){const e=this.gos.get("scrollbarWidth"),t="number"===typeof e&&e>=0?e:(null==Hv&&my(),Hv);null!=t&&(this.scrollbarWidth=t,this.eventService.dispatchEvent({type:"scrollbarWidthChanged"}))}return this.scrollbarWidth}},jS="__ag_grid_instance",zS=class e extends Rm{constructor(){super(...arguments),this.beanName="mouseEventService",this.gridInstanceId=e.gridInstanceSequence.next()}wireBeans(e){this.ctrlsService=e.ctrlsService}stampTopLevelGridCompWithGridInstance(e){e[jS]=this.gridInstanceId}getRenderedCellForEvent(e){return Sm(this.gos,e.target,mS.DOM_DATA_KEY_CELL_CTRL)}isEventFromThisGrid(e){return this.isElementInThisGrid(e.target)}isElementInThisGrid(e){let t=e;for(;t;){const e=t[jS];if(gf(e)){return e===this.gridInstanceId}t=t.parentElement}return!1}getCellPositionForEvent(e){const t=this.getRenderedCellForEvent(e);return t?t.getCellPosition():null}getNormalisedPosition(e){const t=xf(this.gos,"normal"),o=e;let n,i;if(null!=o.clientX||null!=o.clientY?(n=o.clientX,i=o.clientY):(n=o.x,i=o.y),t){const e=this.ctrlsService.getGridBodyCtrl(),t=e.getScrollFeature().getVScrollPosition();n+=e.getScrollFeature().getHScrollPosition().left,i+=t.top}return{x:n,y:i}}};zS.gridInstanceSequence=new zy;var US=zS,$S=class extends Rm{constructor(){super(),this.beanName="navigationService",this.onPageDown=hf(this.onPageDown,100),this.onPageUp=hf(this.onPageUp,100)}wireBeans(e){this.mouseEventService=e.mouseEventService,this.pageBoundsService=e.pageBoundsService,this.focusService=e.focusService,this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.rowModel=e.rowModel,this.ctrlsService=e.ctrlsService,this.rowRenderer=e.rowRenderer,this.headerNavigationService=e.headerNavigationService,this.rowPositionUtils=e.rowPositionUtils,this.cellNavigationService=e.cellNavigationService,this.pinnedRowModel=e.pinnedRowModel,this.scrollVisibleService=e.scrollVisibleService,this.rangeService=e.rangeService}postConstruct(){this.ctrlsService.whenReady(this,(e=>{this.gridBodyCon=e.gridBodyCtrl}))}handlePageScrollingKey(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const o=e.key,n=e.altKey,i=e.ctrlKey||e.metaKey,r=!!this.rangeService&&e.shiftKey,s=this.mouseEventService.getCellPositionForEvent(e);let a=!1;switch(o){case dC.PAGE_HOME:case dC.PAGE_END:i||n||(this.onHomeOrEndKey(o),a=!0);break;case dC.LEFT:case dC.RIGHT:case dC.UP:case dC.DOWN:if(!s)return!1;!i||n||r||(this.onCtrlUpDownLeftRight(o,s),a=!0);break;case dC.PAGE_DOWN:case dC.PAGE_UP:i||n||(a=this.handlePageUpDown(o,s,t))}return a&&e.preventDefault(),a}handlePageUpDown(e,t,o){return o&&(t=this.focusService.getFocusedCell()),!!t&&(e===dC.PAGE_UP?this.onPageUp(t):this.onPageDown(t),!0)}navigateTo(e){const{scrollIndex:t,scrollType:o,scrollColumn:n,focusIndex:i,focusColumn:r}=e;gf(n)&&!n.isPinned()&&this.gridBodyCon.getScrollFeature().ensureColumnVisible(n),gf(t)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(t,o),e.isAsync||this.gridBodyCon.getScrollFeature().ensureIndexVisible(i),this.focusService.setFocusedCell({rowIndex:i,column:r,rowPinned:null,forceBrowserFocus:!0}),this.rangeService?.setRangeToCell({rowIndex:i,rowPinned:null,column:r})}onPageDown(e){const t=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),o=this.getViewportHeight(),n=this.pageBoundsService.getPixelOffset(),i=t.top+o,r=this.rowModel.getRowIndexAtPixel(i+n);this.columnModel.isAutoRowHeightActive()?this.navigateToNextPageWithAutoHeight(e,r):this.navigateToNextPage(e,r)}onPageUp(e){const t=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),o=this.pageBoundsService.getPixelOffset(),n=t.top,i=this.rowModel.getRowIndexAtPixel(n+o);this.columnModel.isAutoRowHeightActive()?this.navigateToNextPageWithAutoHeight(e,i,!0):this.navigateToNextPage(e,i,!0)}navigateToNextPage(e,t){let o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const n=this.getViewportHeight(),i=this.pageBoundsService.getFirstRow(),r=this.pageBoundsService.getLastRow(),s=this.pageBoundsService.getPixelOffset(),a=this.rowModel.getRow(e.rowIndex),l=o?a?.rowHeight-n-s:n-s,c=a?.rowTop+l;let u,d=this.rowModel.getRowIndexAtPixel(c+s);if(d===e.rowIndex){const n=o?-1:1;t=d=e.rowIndex+n}o?(u="bottom",d<i&&(d=i),t<i&&(t=i)):(u="top",d>r&&(d=r),t>r&&(t=r)),this.isRowTallerThanView(d)&&(t=d,u="top"),this.navigateTo({scrollIndex:t,scrollType:u,scrollColumn:null,focusIndex:d,focusColumn:e.column})}navigateToNextPageWithAutoHeight(e,t){let o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.navigateTo({scrollIndex:t,scrollType:o?"bottom":"top",scrollColumn:null,focusIndex:t,focusColumn:e.column}),setTimeout((()=>{const n=this.getNextFocusIndexForAutoHeight(e,o);this.navigateTo({scrollIndex:t,scrollType:o?"bottom":"top",scrollColumn:null,focusIndex:n,focusColumn:e.column,isAsync:!0})}),50)}getNextFocusIndexForAutoHeight(e){const t=arguments.length>1&&void 0!==arguments[1]&&arguments[1]?-1:1,o=this.getViewportHeight(),n=this.pageBoundsService.getLastRow();let i=0,r=e.rowIndex;for(;r>=0&&r<=n;){const e=this.rowModel.getRow(r);if(e){const t=e.rowHeight??0;if(i+t>o)break;i+=t}r+=t}return Math.max(0,Math.min(r,n))}getViewportHeight(){const e=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),t=this.scrollVisibleService.getScrollbarWidth();let o=e.bottom-e.top;return this.ctrlsService.get("center").isHorizontalScrollShowing()&&(o-=t),o}isRowTallerThanView(e){const t=this.rowModel.getRow(e);if(!t)return!1;const o=t.rowHeight;return"number"===typeof o&&o>this.getViewportHeight()}onCtrlUpDownLeftRight(e,t){const o=this.cellNavigationService.getNextCellToFocus(e,t,!0),{rowIndex:n}=o,i=o.column;this.navigateTo({scrollIndex:n,scrollType:null,scrollColumn:i,focusIndex:n,focusColumn:i})}onHomeOrEndKey(e){const t=e===dC.PAGE_HOME,o=this.visibleColsService.getAllCols(),n=t?o[0]:lm(o),i=t?this.pageBoundsService.getFirstRow():this.pageBoundsService.getLastRow();this.navigateTo({scrollIndex:i,scrollType:null,scrollColumn:n,focusIndex:i,focusColumn:n})}onTabKeyDown(e,t){const o=t.shiftKey,n=this.tabToNextCellCommon(e,o,t);if(!1===n)if(o){const{rowIndex:o,rowPinned:n}=e.getRowPosition();(n?0===o:o===this.pageBoundsService.getFirstRow())&&(0===this.gos.get("headerHeight")||this.focusService.isHeaderFocusSuppressed()?this.focusService.focusNextGridCoreContainer(!0,!0):(t.preventDefault(),this.focusService.focusPreviousFromFirstCell(t)))}else e instanceof mS&&e.focusCell(!0),(!o&&this.focusService.focusOverlay(!1)||this.focusService.focusNextGridCoreContainer(o))&&t.preventDefault();else n?t.preventDefault():null===n&&this.focusService.allowFocusForNextGridCoreContainer(o)}tabToNextCell(e,t){const o=this.focusService.getFocusedCell();if(!o)return!1;let n=this.getCellByPosition(o);return!!(n||(n=this.rowRenderer.getRowByPosition(o),n&&n.isFullWidth()))&&!!this.tabToNextCellCommon(n,e,t)}tabToNextCellCommon(e,t,o){let n,i=e.isEditing();if(!i&&e instanceof mS){const t=e.getRowCtrl();t&&(i=t.isEditing())}return n=i?"fullRow"===this.gos.get("editType")?this.moveToNextEditingRow(e,t,o):this.moveToNextEditingCell(e,t,o):this.moveToNextCellNotEditing(e,t),null===n?n:n||!!this.focusService.getFocusedHeader()}moveToNextEditingCell(e,t){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const n=e.getCellPosition();e.getGui().focus(),e.stopEditing();const i=this.findNextCellToFocusOn(n,t,!0);return!1===i?null:null!=i&&(i.startEditing(null,!0,o),i.focusCell(!1),!0)}moveToNextEditingRow(e,t){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const n=e.getCellPosition(),i=this.findNextCellToFocusOn(n,t,!0);if(!1===i)return null;if(null==i)return!1;const r=i.getCellPosition(),s=this.isCellEditable(n),a=this.isCellEditable(r),l=r&&n.rowIndex===r.rowIndex&&n.rowPinned===r.rowPinned;if(s&&e.setFocusOutOnEditor(),!l){e.getRowCtrl().stopEditing();i.getRowCtrl().startRowEditing(void 0,void 0,o)}return a?(i.setFocusInOnEditor(),i.focusCell()):i.focusCell(!0),!0}moveToNextCellNotEditing(e,t){const o=this.visibleColsService.getAllCols();let n;n=e instanceof CS?{...e.getRowPosition(),column:t?o[0]:lm(o)}:e.getCellPosition();const i=this.findNextCellToFocusOn(n,t,!1);if(!1===i)return null;if(i instanceof mS)i.focusCell(!0);else if(i)return this.tryToFocusFullWidthRow(i.getRowPosition(),t);return gf(i)}findNextCellToFocusOn(e,t,o){let n=e;for(;;){e!==n&&(e=n),t||(n=this.getLastCellOfColSpan(n)),n=this.cellNavigationService.getNextTabbedCell(n,t);const i=this.gos.getCallback("tabToNextCell");if(gf(i)){const r=i({backwards:t,editing:o,previousCellPosition:e,nextCellPosition:n||null});if(!0===r||null===r)null===r&&nf("Returning `null` from tabToNextCell is deprecated. Return `true` to stay on the current cell, or `false` to let the browser handle the tab behaviour."),n=e;else{if(!1===r)return!1;n={rowIndex:r.rowIndex,column:r.column,rowPinned:r.rowPinned}}}if(!n)return null;if(n.rowIndex<0){const e=this.headerNavigationService.getHeaderRowCount();return this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:e+n.rowIndex,column:n.column},fromCell:!0}),null}const r="fullRow"===this.gos.get("editType");if(o&&!r){if(!this.isCellEditable(n))continue}this.ensureCellVisible(n);const s=this.getCellByPosition(n);if(!s){const e=this.rowRenderer.getRowByPosition(n);if(!e||!e.isFullWidth()||o)continue;return e}if(!s.isSuppressNavigable())return this.rangeService?.setRangeToCell(n),s}}isCellEditable(e){const t=this.lookupRowNodeForCell(e);return!!t&&e.column.isCellEditable(t)}getCellByPosition(e){const t=this.rowRenderer.getRowByPosition(e);return t?t.getCellCtrl(e.column):null}lookupRowNodeForCell(e){return"top"===e.rowPinned?this.pinnedRowModel.getPinnedTopRow(e.rowIndex):"bottom"===e.rowPinned?this.pinnedRowModel.getPinnedBottomRow(e.rowIndex):this.rowModel.getRow(e.rowIndex)}navigateToNextCell(e,t,o,n){let i=o,r=!1;for(;i&&(i===o||!this.isValidNavigateCell(i));)this.gos.get("enableRtl")?t===dC.LEFT&&(i=this.getLastCellOfColSpan(i)):t===dC.RIGHT&&(i=this.getLastCellOfColSpan(i)),i=this.cellNavigationService.getNextCellToFocus(t,i),r=ff(i);if(r&&e&&e.key===dC.UP&&(i={rowIndex:-1,rowPinned:null,column:o.column}),n){const n=this.gos.getCallback("navigateToNextCell");if(gf(n)){const r=n({key:t,previousCellPosition:o,nextCellPosition:i||null,event:e});i=gf(r)?{rowPinned:r.rowPinned,rowIndex:r.rowIndex,column:r.column}:null}}if(!i)return;if(i.rowIndex<0){const t=this.headerNavigationService.getHeaderRowCount();return void this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:t+i.rowIndex,column:o.column},event:e||void 0,fromCell:!0})}const s=this.getNormalisedPosition(i);s?this.focusPosition(s):this.tryToFocusFullWidthRow(i)}getNormalisedPosition(e){this.ensureCellVisible(e);const t=this.getCellByPosition(e);return t?(e=t.getCellPosition(),this.ensureCellVisible(e),e):null}tryToFocusFullWidthRow(e,t){const o=this.visibleColsService.getAllCols(),n=this.rowRenderer.getRowByPosition(e);if(!n||!n.isFullWidth())return!1;const i=this.focusService.getFocusedCell(),r={rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:e.column||(t?lm(o):o[0])};this.focusPosition(r);const s=null==t?null!=i&&this.rowPositionUtils.before(r,i):t;return this.eventService.dispatchEvent({type:"fullWidthRowFocused",rowIndex:r.rowIndex,rowPinned:r.rowPinned,column:r.column,isFullWidthCell:!0,fromBelow:s}),!0}focusPosition(e){this.focusService.setFocusedCell({rowIndex:e.rowIndex,column:e.column,rowPinned:e.rowPinned,forceBrowserFocus:!0}),this.rangeService?.setRangeToCell(e)}isValidNavigateCell(e){return!!this.rowPositionUtils.getRowNode(e)}getLastCellOfColSpan(e){const t=this.getCellByPosition(e);if(!t)return e;const o=t.getColSpanningList();return 1===o.length?e:{rowIndex:e.rowIndex,column:lm(o),rowPinned:e.rowPinned}}ensureCellVisible(e){const t=Wf(this.gos),o=this.rowModel.getRow(e.rowIndex);!(t&&o?.sticky)&&ff(e.rowPinned)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(e.rowIndex),e.column.isPinned()||this.gridBodyCon.getScrollFeature().ensureColumnVisible(e.column)}},KS=class extends Rm{constructor(){super(...arguments),this.beanName="horizontalResizeService"}wireBeans(e){this.dragService=e.dragService,this.ctrlsService=e.ctrlsService}addResizeBar(e){const t={dragStartPixels:e.dragStartPixels||0,eElement:e.eResizeBar,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this,e),onDragging:this.onDragging.bind(this,e),onDragCancel:this.onDragStop.bind(this,e),includeTouch:!0,stopPropagationForTouch:!0};this.dragService.addDragSource(t);return()=>this.dragService.removeDragSource(t)}onDragStart(e,t){this.dragStartX=t.clientX,this.setResizeIcons();const o=t instanceof MouseEvent&&!0===t.shiftKey;e.onResizeStart(o)}setResizeIcons(){const e=this.ctrlsService.get("gridCtrl");e.setResizeCursor(!0),e.disableUserSelect(!0)}onDragStop(e){e.onResizeEnd(this.resizeAmount),this.resetIcons()}resetIcons(){const e=this.ctrlsService.get("gridCtrl");e.setResizeCursor(!1),e.disableUserSelect(!1)}onDragging(e,t){this.resizeAmount=t.clientX-this.dragStartX,e.onResizing(this.resizeAmount)}},YS=class extends Rm{constructor(){super(...arguments),this.beanName="filterMenuFactory"}wireBeans(e){this.popupService=e.popupService,this.focusService=e.focusService,this.ctrlsService=e.ctrlsService,this.menuService=e.menuService}hideActiveMenu(){this.hidePopup&&this.hidePopup()}showMenuAfterMouseEvent(e,t,o){this.showPopup(e,(n=>{this.popupService.positionPopupUnderMouseEvent({column:e,type:o,mouseEvent:t,ePopup:n})}),o,t.target,this.menuService.isLegacyMenuEnabled())}showMenuAfterButtonClick(e,t,o){let n=-1,i="left";const r=this.menuService.isLegacyMenuEnabled();!r&&this.gos.get("enableRtl")&&(n=1,i="right");const s=r?void 0:4*n,a=r?void 0:4;this.showPopup(e,(n=>{this.popupService.positionPopupByComponent({type:o,eventSource:t,ePopup:n,nudgeX:s,nudgeY:a,alignSide:i,keepWithinBounds:!0,position:"under",column:e})}),o,t,r)}showPopup(e,t,o,n,i){const r=e?this.createBean(new gw(e,"COLUMN_MENU")):void 0;if(this.activeMenu=r,!r?.hasFilter()||!e)throw new Error("AG Grid - unable to show popup filter, filter instantiation failed");const s=document.createElement("div");let a;Yv(s,"presentation"),s.classList.add("ag-menu"),i||s.classList.add("ag-filter-menu"),[this.tabListener]=this.addManagedElementListeners(s,{keydown:e=>this.trapFocusWithin(e,s)}),s.appendChild(r?.getGui());const l=this.menuService.isColumnMenuAnchoringEnabled()?n??this.ctrlsService.getGridBodyCtrl().getGui():void 0,c=this.localeService.getLocaleTextFunc(),u=i&&"columnFilter"!==o?c("ariaLabelColumnMenu","Column Menu"):c("ariaLabelColumnFilter","Column Filter"),d=this.popupService.addPopup({modal:!0,eChild:s,closeOnEsc:!0,closedCallback:t=>{e.setMenuVisible(!1,"contextMenu");const i=t instanceof KeyboardEvent;if(this.tabListener&&(this.tabListener=this.tabListener()),i&&n&&Ly(n)){const e=this.focusService.findTabbableParent(n);e&&e.focus()}r?.afterGuiDetached(),this.destroyBean(this.activeMenu),this.dispatchVisibleChangedEvent(!1,o,e)},positionCallback:()=>t(s),anchorToElement:l,ariaLabel:u});d&&(this.hidePopup=a=d.hideFunc),r.afterInit().then((()=>{t(s),r.afterGuiAttached({container:o,hidePopup:a})})),e.setMenuVisible(!0,"contextMenu"),this.dispatchVisibleChangedEvent(!0,o,e)}trapFocusWithin(e,t){e.key!==dC.TAB||e.defaultPrevented||this.focusService.findNextFocusableElement(t,!1,e.shiftKey)||(e.preventDefault(),this.focusService.focusInto(t,e.shiftKey))}dispatchVisibleChangedEvent(e,t,o){this.eventService.dispatchEvent({type:"columnMenuVisibleChanged",visible:e,switchingTab:!1,key:t,column:o??null,columnGroup:null})}isMenuEnabled(e){return e.isFilterAllowed()&&(e.getColDef().menuTabs??["filterMenuTab"]).includes("filterMenuTab")}showMenuAfterContextMenuEvent(){}destroy(){this.destroyBean(this.activeMenu),super.destroy()}},qS=class extends Rm{constructor(){super(...arguments),this.beanName="resizeObserverService"}observeResize(e,t){const o=kf(this.gos).ResizeObserver,n=o?new o(t):null;return n?.observe(e),()=>n?.disconnect()}},XS=class extends Rm{constructor(){super(...arguments),this.beanName="animationFrameService",this.createTasksP1={list:[],sorted:!1},this.createTasksP2={list:[],sorted:!1},this.destroyTasks=[],this.ticking=!1,this.scrollGoingDown=!0,this.lastPage=0,this.lastScrollTop=0,this.taskCount=0,this.cancelledTasks=new Set}wireBeans(e){this.ctrlsService=e.ctrlsService,this.paginationService=e.paginationService}setScrollTop(e){const t=this.gos.get("pagination");if(this.scrollGoingDown=e>=this.lastScrollTop,t&&0===e){const e=this.paginationService?.getCurrentPage()??0;e!==this.lastPage&&(this.lastPage=e,this.scrollGoingDown=!0)}this.lastScrollTop=e}postConstruct(){this.useAnimationFrame=!this.gos.get("suppressAnimationFrame")}isOn(){return this.useAnimationFrame}verifyAnimationFrameOn(e){!1===this.useAnimationFrame&&nf(`AnimationFrameService.${e} called but animation frames are off`)}createTask(e,t,o){this.verifyAnimationFrameOn(o);const n={task:e,index:t,createOrder:++this.taskCount};this.addTaskToList(this[o],n),this.schedule()}cancelTask(e){this.cancelledTasks.add(e)}addTaskToList(e,t){e.list.push(t),e.sorted=!1}sortTaskList(e){if(e.sorted)return;const t=this.scrollGoingDown?1:-1;e.list.sort(((e,o)=>e.index!==o.index?t*(o.index-e.index):o.createOrder-e.createOrder)),e.sorted=!0}addDestroyTask(e){this.verifyAnimationFrameOn("createTasksP3"),this.destroyTasks.push(e),this.schedule()}executeFrame(e){this.verifyAnimationFrameOn("executeFrame");const t=this.createTasksP1,o=t.list,n=this.createTasksP2,i=n.list,r=this.destroyTasks,s=(new Date).getTime();let a=(new Date).getTime()-s;const l=e<=0,c=this.ctrlsService.getGridBodyCtrl();for(;l||a<e;){if(!c.getScrollFeature().scrollGridIfNeeded()){let e;if(o.length)this.sortTaskList(t),e=o.pop().task;else if(i.length)this.sortTaskList(n),e=i.pop().task;else{if(!r.length){this.cancelledTasks.clear();break}e=r.pop()}this.cancelledTasks.has(e)||e()}a=(new Date).getTime()-s}o.length||i.length||r.length?this.requestFrame():this.stopTicking()}stopTicking(){this.ticking=!1}flushAllFrames(){this.useAnimationFrame&&this.executeFrame(-1)}schedule(){this.useAnimationFrame&&(this.ticking||(this.ticking=!0,this.requestFrame()))}requestFrame(){const e=this.executeFrame.bind(this,60);this.requestAnimationFrame(e)}requestAnimationFrame(e){const t=kf(this.gos);t.requestAnimationFrame?t.requestAnimationFrame(e):t.webkitRequestAnimationFrame?t.webkitRequestAnimationFrame(e):t.setTimeout(e,0)}isQueueEmpty(){return!this.ticking}debounce(e){let t=!1;return()=>{this.isOn()?t||(t=!0,this.addDestroyTask((()=>{t=!1,e()}))):window.setTimeout(e,0)}}},QS=class extends Rm{constructor(){super(...arguments),this.beanName="expansionService"}wireBeans(e){this.rowModel=e.rowModel}postConstruct(){this.isClientSideRowModel=Pf(this.gos)}expandRows(e){if(!this.isClientSideRowModel)return;const t=new Set(e);this.rowModel.forEachNode((e=>{e.id&&t.has(e.id)&&(e.expanded=!0)})),this.onGroupExpandedOrCollapsed()}getExpandedRows(){const e=[];return this.rowModel.forEachNode((t=>{let{expanded:o,id:n}=t;o&&n&&e.push(n)})),e}expandAll(e){this.isClientSideRowModel&&this.rowModel.expandOrCollapseAll(e)}setRowNodeExpanded(e,t,o,n){e&&(o&&e.parent&&-1!==e.parent.level&&this.setRowNodeExpanded(e.parent,t,o,n),e.setExpanded(t,void 0,n))}onGroupExpandedOrCollapsed(){this.isClientSideRowModel&&this.rowModel.refreshModel({step:"map"})}},ZS=class extends Rm{constructor(){super(...arguments),this.beanName="menuService"}wireBeans(e){this.valueService=e.valueService,this.filterMenuFactory=e.filterMenuFactory,this.ctrlsService=e.ctrlsService,this.animationFrameService=e.animationFrameService,this.filterManager=e.filterManager,this.rowRenderer=e.rowRenderer,this.columnChooserFactory=e.columnChooserFactory,this.contextMenuFactory=e.contextMenuFactory,this.enterpriseMenuFactory=e.enterpriseMenuFactory}postConstruct(){this.activeMenuFactory=this.enterpriseMenuFactory??this.filterMenuFactory}showColumnMenu(e){this.showColumnMenuCommon(this.activeMenuFactory,e,"columnMenu")}showFilterMenu(e){const t=this.enterpriseMenuFactory&&this.isLegacyMenuEnabled()?this.enterpriseMenuFactory:this.filterMenuFactory;this.showColumnMenuCommon(t,e,e.containerType,!0)}showHeaderContextMenu(e,t,o){this.activeMenuFactory.showMenuAfterContextMenuEvent(e,t,o)}getContextMenuPosition(e,t){const o=this.getRowCtrl(e),n=this.getCellGui(o,t);if(!n)return o?{x:0,y:o.getRowYPosition()}:{x:0,y:0};const i=n.getBoundingClientRect();return{x:i.x+i.width/2,y:i.y+i.height/2}}showContextMenu(e){const t=e.rowNode,o=e.column;let{anchorToElement:n,value:i}=e;t&&o&&null==i&&(i=this.valueService.getValueForDisplay(o,t)),null==n&&(n=this.getContextMenuAnchorElement(t,o)),this.contextMenuFactory?.onContextMenu(e.mouseEvent??null,e.touchEvent??null,t??null,o??null,i,n)}showColumnChooser(e){this.columnChooserFactory?.showColumnChooser(e)}hidePopupMenu(){this.contextMenuFactory?.hideActiveMenu(),this.activeMenuFactory.hideActiveMenu()}hideColumnChooser(){this.columnChooserFactory?.hideActiveColumnChooser()}isColumnMenuInHeaderEnabled(e){const{suppressMenu:t,suppressHeaderMenuButton:o}=e.getColDef();return!(o??t)&&this.activeMenuFactory.isMenuEnabled(e)&&(this.isLegacyMenuEnabled()||!!this.enterpriseMenuFactory)}isFilterMenuInHeaderEnabled(e){return!e.getColDef().suppressHeaderFilterButton&&!!this.filterManager?.isFilterAllowed(e)}isHeaderContextMenuEnabled(e){const t=e&&Ym(e)?e.getColDef():e?.getColGroupDef();return!t?.suppressHeaderContextMenu&&"new"===this.getColumnMenuType()}isHeaderMenuButtonAlwaysShowEnabled(){return this.isSuppressMenuHide()}isHeaderMenuButtonEnabled(){const e=!this.isSuppressMenuHide();return!(py()&&e)}isHeaderFilterButtonEnabled(e){return this.isFilterMenuInHeaderEnabled(e)&&!this.isLegacyMenuEnabled()&&!this.isFloatingFilterButtonDisplayed(e)}isFilterMenuItemEnabled(e){return!!this.filterManager?.isFilterAllowed(e)&&!this.isLegacyMenuEnabled()&&!this.isFilterMenuInHeaderEnabled(e)&&!this.isFloatingFilterButtonDisplayed(e)}isColumnMenuAnchoringEnabled(){return!this.isLegacyMenuEnabled()}areAdditionalColumnMenuItemsEnabled(){return"new"===this.getColumnMenuType()}isLegacyMenuEnabled(){return"legacy"===this.getColumnMenuType()}isFloatingFilterButtonEnabled(e){const t=e.getColDef(),o=t.floatingFilterComponentParams?.suppressFilterButton;return null!=o&&nf("As of v31.1, 'colDef.floatingFilterComponentParams.suppressFilterButton' is deprecated. Use 'colDef.suppressFloatingFilterButton' instead."),null==t.suppressFloatingFilterButton?!o:!t.suppressFloatingFilterButton}getColumnMenuType(){return this.gos.get("columnMenu")}isFloatingFilterButtonDisplayed(e){return!!e.getColDef().floatingFilter&&this.isFloatingFilterButtonEnabled(e)}isSuppressMenuHide(){const e=this.gos.get("suppressMenuHide");return this.isLegacyMenuEnabled()?!!this.gos.exists("suppressMenuHide")&&e:e}showColumnMenuCommon(e,t,o,n){const{positionBy:i}=t,r=t.column;if("button"===i){const{buttonElement:i}=t;e.showMenuAfterButtonClick(r,i,o,n)}else if("mouse"===i){const{mouseEvent:i}=t;e.showMenuAfterMouseEvent(r,i,o,n)}else r&&(this.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(r,"auto"),this.animationFrameService.requestAnimationFrame((()=>{const t=this.ctrlsService.getHeaderRowContainerCtrl(r.getPinned())?.getHeaderCtrlForColumn(r);t&&e.showMenuAfterButtonClick(r,t.getAnchorElementForMenu(n),o,!0)})))}getRowCtrl(e){const{rowIndex:t,rowPinned:o}=e||{};if(null!=t)return this.rowRenderer.getRowByPosition({rowIndex:t,rowPinned:o})||void 0}getCellGui(e,t){if(!e||!t)return;const o=e.getCellCtrl(t);return o?.getGui()||void 0}getContextMenuAnchorElement(e,t){const o=this.ctrlsService.getGridBodyCtrl().getGridBodyElement(),n=this.getRowCtrl(e);if(!n)return o;const i=this.getCellGui(n,t);return i||(n.isFullWidth()?n.getFullWidthElement():o)}},JS={selector:"AG-INPUT-TEXT-AREA",component:class extends gC{constructor(e){super(e,"ag-text-area",null,"textarea")}setValue(e,t){const o=super.setValue(e,t);return this.eInput.value=e,o}setCols(e){return this.eInput.cols=e,this}setRows(e){return this.eInput.rows=e,this}}},eE=class extends EC{constructor(e){super('<div class="ag-popup-editor" tabindex="-1"/>'),this.params=e}postConstruct(){Lf(this.gos,this.getGui(),"popupEditorWrapper",!0),this.addKeyDownListener()}addKeyDownListener(){const e=this.getGui(),t=this.params;this.addManagedElementListeners(e,{keydown:e=>{Iw(this.gos,e,t.node,t.column,!0)||t.onKeyDown(e)}})}},tE=class extends EC{constructor(e){super(`\n            <div class="ag-cell-edit-wrapper">\n                ${e.getTemplate()}\n            </div>`,e.getAgComponents()),this.cellEditorInput=e,this.eInput=qy}init(e){this.params=e;const{cellStartedEdit:t,eventKey:o,suppressPreventDefault:n}=e,i=this.eInput;let r;this.cellEditorInput.init(i,e);let s=!0;t?(this.focusAfterAttached=!0,o===dC.BACKSPACE||o===dC.DELETE?r="":o&&1===o.length?n?s=!1:r=o:(r=this.cellEditorInput.getStartValue(),o!==dC.F2&&(this.highlightAllOnFocus=!0))):(this.focusAfterAttached=!1,r=this.cellEditorInput.getStartValue()),s&&null!=r&&i.setStartValue(r),this.addManagedElementListeners(i.getGui(),{keydown:e=>{const{key:t}=e;t!==dC.PAGE_UP&&t!==dC.PAGE_DOWN||e.preventDefault()}})}afterGuiAttached(){const e=this.localeService.getLocaleTextFunc(),t=this.eInput;if(t.setInputAriaLabel(e("ariaInputEditor","Input Editor")),!this.focusAfterAttached)return;ly()||t.getFocusableElement().focus();const o=t.getInputElement();this.highlightAllOnFocus?o.select():this.cellEditorInput.setCaret?.()}focusIn(){const e=this.eInput,t=e.getFocusableElement(),o=e.getInputElement();t.focus(),o.select()}getValue(){return this.cellEditorInput.getValue()}isPopup(){return!1}},oE=class{getTemplate(){return'<ag-input-text-field class="ag-cell-editor" data-ref="eInput"></ag-input-text-field>'}getAgComponents(){return[Nw]}init(e,t){this.eInput=e,this.params=t,null!=t.maxLength&&e.setMaxLength(t.maxLength)}getValue(){const e=this.eInput.getValue();return gf(e)||gf(this.params.value)?this.params.parseValue(e):this.params.value}getStartValue(){return this.params.useFormatter||this.params.column.getColDef().refData?this.params.formatValue(this.params.value):this.params.value}setCaret(){const e=this.eInput.getValue(),t=gf(e)&&e.length||0;t&&this.eInput.getInputElement().setSelectionRange(t,t)}},nE=class extends tE{constructor(){super(new oE)}},iE=class{getTemplate(){return'<ag-input-number-field class="ag-cell-editor" data-ref="eInput"></ag-input-number-field>'}getAgComponents(){return[Gw]}init(e,t){this.eInput=e,this.params=t,null!=t.max&&e.setMax(t.max),null!=t.min&&e.setMin(t.min),null!=t.precision&&e.setPrecision(t.precision),null!=t.step&&e.setStep(t.step);const o=e.getInputElement();t.preventStepping?e.addManagedElementListeners(o,{keydown:this.preventStepping}):t.showStepperButtons&&o.classList.add("ag-number-field-input-stepper")}preventStepping(e){e.key!==dC.UP&&e.key!==dC.DOWN||e.preventDefault()}getValue(){const e=this.eInput.getValue();if(!gf(e)&&!gf(this.params.value))return this.params.value;let t=this.params.parseValue(e);if(null==t)return t;if("string"===typeof t){if(""===t)return null;t=Number(t)}return isNaN(t)?null:t}getStartValue(){return this.params.value}setCaret(){ly()&&this.eInput.getInputElement().focus({preventScroll:!0})}},rE={selector:"AG-INPUT-DATE-FIELD",component:class extends Lw{constructor(e){super(e,"ag-date-field","date")}postConstruct(){super.postConstruct();const e=ly();this.addManagedListeners(this.eInput,{wheel:this.onWheel.bind(this),mousedown:()=>{this.isDisabled()||e||this.eInput.focus()}}),this.eInput.step="any"}onWheel(e){Vf(this.gos)===this.eInput&&e.preventDefault()}setMin(e){const t=e instanceof Date?Xw(e??null,!1)??void 0:e;return this.min===t||(this.min=t,Wy(this.eInput,"min",t)),this}setMax(e){const t=e instanceof Date?Xw(e??null,!1)??void 0:e;return this.max===t||(this.max=t,Wy(this.eInput,"max",t)),this}setStep(e){return this.step===e||(this.step=e,Wy(this.eInput,"step",e)),this}getDate(){if(this.eInput.validity.valid)return Jw(this.getValue())??void 0}setDate(e,t){this.setValue(Xw(e??null,!1),t)}}},sE=class{getTemplate(){return'<ag-input-date-field class="ag-cell-editor" data-ref="eInput"></ag-input-date-field>'}getAgComponents(){return[rE]}init(e,t){this.eInput=e,this.params=t,null!=t.min&&e.setMin(t.min),null!=t.max&&e.setMax(t.max),null!=t.step&&e.setStep(t.step)}getValue(){const e=this.eInput.getDate();return gf(e)||gf(this.params.value)?e??null:this.params.value}getStartValue(){const{value:e}=this.params;if(e instanceof Date)return Xw(e,!1)}},aE=class{constructor(e){this.getDataTypeService=e}getTemplate(){return'<ag-input-date-field class="ag-cell-editor" data-ref="eInput"></ag-input-date-field>'}getAgComponents(){return[rE]}init(e,t){this.eInput=e,this.params=t,null!=t.min&&e.setMin(t.min),null!=t.max&&e.setMax(t.max),null!=t.step&&e.setStep(t.step)}getValue(){const e=this.formatDate(this.eInput.getDate());return gf(e)||gf(this.params.value)?this.params.parseValue(e??""):this.params.value}getStartValue(){return Xw(this.parseDate(this.params.value??void 0)??null,!1)}parseDate(e){const t=this.getDataTypeService();return t?t.getDateParserFunction(this.params.column)(e):Jw(e)??void 0}formatDate(e){const t=this.getDataTypeService();return t?t.getDateFormatterFunction(this.params.column)(e):Xw(e??null,!1)??void 0}},lE=class{constructor(e){this.cellValueChanges=e}},cE=class extends lE{constructor(e,t,o,n){super(e),this.initialRange=t,this.finalRange=o,this.ranges=n}},uE=class{constructor(e){this.actionStack=[],this.maxStackSize=e||10,this.actionStack=new Array(this.maxStackSize)}pop(){return this.actionStack.pop()}push(e){e.cellValueChanges&&e.cellValueChanges.length>0&&(this.actionStack.length===this.maxStackSize&&this.actionStack.shift(),this.actionStack.push(e))}clear(){this.actionStack=[]}getCurrentStackSize(){return this.actionStack.length}};function dE(e,t){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"auto";e.frameworkOverrides.wrapIncoming((()=>e.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(t,o)),"ensureVisible")}function hE(e,t,o){e.frameworkOverrides.wrapIncoming((()=>e.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureIndexVisible(t,o)),"ensureVisible")}var pE={version:hb,moduleName:"@ag-grid-community/edit-core",beans:[class extends Rm{constructor(){super(...arguments),this.beanName="editService"}wireBeans(e){this.navigationService=e.navigationService,this.userComponentFactory=e.userComponentFactory,this.valueService=e.valueService}startEditing(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;const i=this.createCellEditorParams(e,t,o),r=e.getColumn().getColDef(),s=this.userComponentFactory.getCellEditorDetails(r,i),a=null!=s?.popupFromSelector?s.popupFromSelector:!!r.cellEditorPopup,l=null!=s?.popupPositionFromSelector?s.popupPositionFromSelector:r.cellEditorPopupPosition;return e.setEditing(!0,s),e.getComp().setEditDetails(s,a,l,this.gos.get("reactiveCustomComponents")),this.eventService.dispatchEvent(e.createEvent(n,"cellEditingStarted")),!s?.params?.suppressPreventDefault}stopEditing(e,t){const o=e.getComp(),{newValue:n,newValueExists:i}=this.takeValueFromCellEditor(t,o),r=e.getRowNode(),s=e.getColumn(),a=this.valueService.getValueForDisplay(s,r);let l=!1;return i&&(l=this.saveNewValue(e,a,n,r,s)),e.setEditing(!1,void 0),o.setEditDetails(),e.updateAndFormatValue(!1),e.refreshCell({forceRefresh:!0,suppressFlash:!0}),this.eventService.dispatchEvent({...e.createEvent(null,"cellEditingStopped"),oldValue:a,newValue:n,valueChanged:l}),l}handleColDefChanged(e){const t=e.getCellEditor();if(t?.refresh){const{eventKey:o,cellStartedEdit:n}=e.getEditCompDetails().params,i=this.createCellEditorParams(e,o,n),r=e.getColumn().getColDef(),s=this.userComponentFactory.getCellEditorDetails(r,i);t.refresh(s.params)}}setFocusOutOnEditor(e){const t=e.getComp().getCellEditor();t&&t.focusOut&&t.focusOut()}setFocusInOnEditor(e){const t=e.getComp(),o=t.getCellEditor();o?.focusIn?o.focusIn():(e.focusCell(!0),e.onCellEditorAttached((()=>t.getCellEditor()?.focusIn?.())))}stopEditingAndFocus(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e.stopRowOrCellEdit(),e.focusCell(!0),t||this.navigateAfterEdit(o,e.getCellPosition())}createPopupEditorWrapper(e){return new eE(e)}takeValueFromCellEditor(e,t){const o={newValueExists:!1};if(e)return o;const n=t.getCellEditor();if(!n)return o;if(n.isCancelAfterEnd&&n.isCancelAfterEnd())return o;return{newValue:n.getValue(),newValueExists:!0}}saveNewValue(e,t,o,n,i){if(o===t)return!1;e.setSuppressRefreshCell(!0);const r=n.setDataValue(i,o,"edit");return e.setSuppressRefreshCell(!1),r}createCellEditorParams(e,t,o){const n=e.getColumn(),i=e.getRowNode();return this.gos.addGridCommonParams({value:this.valueService.getValueForDisplay(n,i),eventKey:t,column:n,colDef:n.getColDef(),rowIndex:e.getCellPosition().rowIndex,node:i,data:i.data,cellStartedEdit:o,onKeyDown:e.onKeyDown.bind(e),stopEditing:e.stopEditingAndFocus.bind(e),eGridCell:e.getGui(),parseValue:t=>this.valueService.parseValue(n,i,t,e.getValue()),formatValue:e.formatValue.bind(e)})}navigateAfterEdit(e,t){if(this.gos.get("enterNavigatesVerticallyAfterEdit")){const o=e?dC.UP:dC.DOWN;this.navigationService.navigateToNextCell(null,o,t,!1)}}}]},gE={version:hb,moduleName:"@ag-grid-community/edit-api",apiFunctions:{undoCellEditing:function(e){e.undoRedoService?.undo("api")},redoCellEditing:function(e){e.undoRedoService?.redo("api")},getCellEditorInstances:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.rowRenderer.getCellEditorInstances(t).map(QC)},getEditingCells:function(e){return e.rowRenderer.getEditingCells()},stopEditing:function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.rowRenderer.stopEditing(t)},startEditingCell:function(e,t){const o=e.columnModel.getCol(t.colKey);if(!o)return void nf(`no column found for ${t.colKey}`);const n={rowIndex:t.rowIndex,rowPinned:t.rowPinned||null,column:o};null==t.rowPinned&&hE(e,t.rowIndex),dE(e,t.colKey);const i=e.navigationService.getCellByPosition(n);if(!i)return;const{focusService:r,gos:s}=e,a=s.get("stopEditingWhenCellsLoseFocus")&&(()=>{const e=Vf(s),t=i.getGui();return e!==t&&!!t?.contains(e)})();!a&&r.isCellFocused(n)||r.setFocusedCell({...n,forceBrowserFocus:a,preventScrollOnBrowserFocus:!0}),i.startRowOrCellEdit(t.key)},getCurrentUndoSize:function(e){return e.undoRedoService?.getCurrentUndoStackSize()??0},getCurrentRedoSize:function(e){return e.undoRedoService?.getCurrentRedoStackSize()??0}},dependantModules:[pE]},fE={version:hb,moduleName:"@ag-grid-community/undo-redo-edit",beans:[class extends Rm{constructor(){super(...arguments),this.beanName="undoRedoService",this.cellValueChanges=[],this.activeCellEdit=null,this.activeRowEdit=null,this.isPasting=!1,this.isRangeInAction=!1,this.onCellValueChanged=e=>{const t={column:e.column,rowIndex:e.rowIndex,rowPinned:e.rowPinned},o=null!==this.activeCellEdit&&this.cellPositionUtils.equals(this.activeCellEdit,t),n=null!==this.activeRowEdit&&this.rowPositionUtils.sameRow(this.activeRowEdit,t);if(!(o||n||this.isPasting||this.isRangeInAction))return;const{rowPinned:i,rowIndex:r,column:s,oldValue:a,value:l}=e,c={rowPinned:i,rowIndex:r,columnId:s.getColId(),newValue:l,oldValue:a};this.cellValueChanges.push(c)},this.clearStacks=()=>{this.undoStack.clear(),this.redoStack.clear()}}wireBeans(e){this.focusService=e.focusService,this.ctrlsService=e.ctrlsService,this.cellPositionUtils=e.cellPositionUtils,this.rowPositionUtils=e.rowPositionUtils,this.columnModel=e.columnModel,this.rangeService=e.rangeService}postConstruct(){if(!this.gos.get("undoRedoCellEditing"))return;const e=this.gos.get("undoRedoCellEditingLimit");if(e<=0)return;this.undoStack=new uE(e),this.redoStack=new uE(e),this.addListeners();const t=this.clearStacks.bind(this);this.addManagedEventListeners({cellValueChanged:this.onCellValueChanged.bind(this),modelUpdated:e=>{e.keepUndoRedoStack||this.clearStacks()},columnPivotModeChanged:t,newColumnsLoaded:t,columnGroupOpened:t,columnRowGroupChanged:t,columnMoved:t,columnPinned:t,columnVisible:t,rowDragEnd:t}),this.ctrlsService.whenReady(this,(e=>{this.gridBodyCtrl=e.gridBodyCtrl}))}getCurrentUndoStackSize(){return this.undoStack?this.undoStack.getCurrentStackSize():0}getCurrentRedoStackSize(){return this.redoStack?this.redoStack.getCurrentStackSize():0}undo(e){this.eventService.dispatchEvent({type:"undoStarted",source:e});const t=this.undoRedo(this.undoStack,this.redoStack,"initialRange","oldValue","undo");this.eventService.dispatchEvent({type:"undoEnded",source:e,operationPerformed:t})}redo(e){this.eventService.dispatchEvent({type:"redoStarted",source:e});const t=this.undoRedo(this.redoStack,this.undoStack,"finalRange","newValue","redo");this.eventService.dispatchEvent({type:"redoEnded",source:e,operationPerformed:t})}undoRedo(e,t,o,n,i){if(!e)return!1;const r=e.pop();return!(!r||!r.cellValueChanges)&&(this.processAction(r,(e=>e[n]),i),r instanceof cE?this.processRange(this.rangeService,r.ranges||[r[o]]):this.processCell(r.cellValueChanges),t.push(r),!0)}processAction(e,t,o){e.cellValueChanges.forEach((e=>{const{rowIndex:n,rowPinned:i,columnId:r}=e,s={rowIndex:n,rowPinned:i},a=this.rowPositionUtils.getRowNode(s);a.displayed&&a.setDataValue(r,t(e),o)}))}processRange(e,t){let o;e.removeAllCellRanges(!0),t.forEach(((n,i)=>{if(!n)return;const r=n.startRow,s=n.endRow;i===t.length-1&&(o={rowPinned:r.rowPinned,rowIndex:r.rowIndex,columnId:n.startColumn.getColId()},this.setLastFocusedCell(o));const a={rowStartIndex:r.rowIndex,rowStartPinned:r.rowPinned,rowEndIndex:s.rowIndex,rowEndPinned:s.rowPinned,columnStart:n.startColumn,columns:n.columns};e.addCellRange(a)}))}processCell(e){const t=e[0],{rowIndex:o,rowPinned:n}=t,i={rowIndex:o,rowPinned:n},r=this.rowPositionUtils.getRowNode(i),s={rowPinned:t.rowPinned,rowIndex:r.rowIndex,columnId:t.columnId};this.setLastFocusedCell(s,this.rangeService)}setLastFocusedCell(e,t){const{rowIndex:o,columnId:n,rowPinned:i}=e,r=this.gridBodyCtrl.getScrollFeature(),s=this.columnModel.getCol(n);if(!s)return;r.ensureIndexVisible(o),r.ensureColumnVisible(s);const a={rowIndex:o,column:s,rowPinned:i};this.focusService.setFocusedCell({...a,forceBrowserFocus:!0}),t?.setRangeToCell(a)}addListeners(){this.addManagedEventListeners({rowEditingStarted:e=>{this.activeRowEdit={rowIndex:e.rowIndex,rowPinned:e.rowPinned}},rowEditingStopped:()=>{const e=new lE(this.cellValueChanges);this.pushActionsToUndoStack(e),this.activeRowEdit=null},cellEditingStarted:e=>{this.activeCellEdit={column:e.column,rowIndex:e.rowIndex,rowPinned:e.rowPinned}},cellEditingStopped:e=>{this.activeCellEdit=null;if(e.valueChanged&&!this.activeRowEdit&&!this.isPasting&&!this.isRangeInAction){const e=new lE(this.cellValueChanges);this.pushActionsToUndoStack(e)}},pasteStart:()=>{this.isPasting=!0},pasteEnd:()=>{const e=new lE(this.cellValueChanges);this.pushActionsToUndoStack(e),this.isPasting=!1},fillStart:()=>{this.isRangeInAction=!0},fillEnd:e=>{const t=new cE(this.cellValueChanges,e.initialRange,e.finalRange);this.pushActionsToUndoStack(t),this.isRangeInAction=!1},keyShortcutChangedCellStart:()=>{this.isRangeInAction=!0},keyShortcutChangedCellEnd:()=>{let e;e=this.rangeService&&Zf(this.gos)?new cE(this.cellValueChanges,void 0,void 0,[...this.rangeService.getCellRanges()]):new lE(this.cellValueChanges),this.pushActionsToUndoStack(e),this.isRangeInAction=!1}})}pushActionsToUndoStack(e){this.undoStack.push(e),this.cellValueChanges=[],this.redoStack.clear()}}],dependantModules:[pE]},mE={version:hb,moduleName:"@ag-grid-community/full-row-edit",beans:[class extends Rm{constructor(){super(...arguments),this.beanName="rowEditService"}startEditing(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=!0;const r=e.getAllCellCtrls().reduce(((e,r)=>{const s=r===o;return s?i=r.startEditing(t,s,n):r.startEditing(null,s,n),!!e||r.isEditing()}),!1);return r&&this.setEditing(e,!0),i}stopEditing(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const o=e.getAllCellCtrls(),n=e.isEditing();e.setStoppingRowEdit(!0);let i=!1;for(const r of o){const e=r.stopEditing(t);n&&!t&&!i&&e&&(i=!0)}i&&this.eventService.dispatchEvent(e.createRowEvent("rowValueChanged")),n&&this.setEditing(e,!1),e.setStoppingRowEdit(!1)}setEditing(e,t){e.setEditingRow(t),e.forEachGui(void 0,(e=>e.rowComp.addOrRemoveCssClass("ag-row-editing",t)));const o=t?e.createRowEvent("rowEditingStarted"):e.createRowEvent("rowEditingStopped");this.eventService.dispatchEvent(o)}}],dependantModules:[pE]},vE={version:hb,moduleName:"@ag-grid-community/default-editor",userComponents:[{name:"agCellEditor",classImp:nE}],dependantModules:[pE]},yE={version:hb,moduleName:"@ag-grid-community/data-type-editors",userComponents:[{name:"agTextCellEditor",classImp:nE},{name:"agNumberCellEditor",classImp:class extends tE{constructor(){super(new iE)}},params:{suppressPreventDefault:!0}},{name:"agDateCellEditor",classImp:class extends tE{constructor(){super(new sE)}}},{name:"agDateStringCellEditor",classImp:class extends tE{wireBeans(e){this.dataTypeService=e.dataTypeService}constructor(){super(new aE((()=>this.dataTypeService)))}}},{name:"agCheckboxCellEditor",classImp:class extends EC{constructor(){super('\n            <div class="ag-cell-wrapper ag-cell-edit-wrapper ag-checkbox-edit">\n                <ag-checkbox role="presentation" data-ref="eCheckbox"></ag-checkbox>\n            </div>',[mC]),this.eCheckbox=qy}init(e){this.params=e;const t=e.value??void 0;this.eCheckbox.setValue(t);this.eCheckbox.getInputElement().setAttribute("tabindex","-1"),this.setAriaLabel(t),this.addManagedListeners(this.eCheckbox,{fieldValueChanged:e=>this.setAriaLabel(e.selected)})}getValue(){return this.eCheckbox.getValue()}focusIn(){this.eCheckbox.getFocusableElement().focus()}afterGuiAttached(){this.params.cellStartedEdit&&this.focusIn()}isPopup(){return!1}setAriaLabel(e){const t=this.localeService.getLocaleTextFunc(),o=ay(t,e),n=t("ariaToggleCellValue","Press SPACE to toggle cell value");this.eCheckbox.setInputAriaLabel(`${n} (${o})`)}}}],dependantModules:[vE]},CE={version:hb,moduleName:"@ag-grid-community/select-editor",userComponents:[{name:"agSelectCellEditor",classImp:class extends EC{constructor(){super('<div class="ag-cell-edit-wrapper">\n                <ag-select class="ag-cell-editor" data-ref="eSelect"></ag-select>\n            </div>',[Dw]),this.eSelect=qy,this.startedByEnter=!1}wireBeans(e){this.valueService=e.valueService}init(e){this.focusAfterAttached=e.cellStartedEdit;const{eSelect:t,valueService:o,gos:n}=this,{values:i,value:r,eventKey:s}=e;if(ff(i))return void nf("no values found for select cellEditor");this.startedByEnter=null!=s&&s===dC.ENTER;let a=!1;i.forEach((n=>{const i={value:n},s=o.formatValue(e.column,null,n),l=null!==s&&void 0!==s;i.text=l?s:n,t.addOption(i),a=a||r===n})),a?t.setValue(e.value,!0):e.values.length&&t.setValue(e.values[0],!0);const{valueListGap:l,valueListMaxWidth:c,valueListMaxHeight:u}=e;null!=l&&t.setPickerGap(l),null!=u&&t.setPickerMaxHeight(u),null!=c&&t.setPickerMaxWidth(c),"fullRow"!==n.get("editType")&&this.addManagedListeners(this.eSelect,{selectedItem:()=>e.stopEditing()})}afterGuiAttached(){this.focusAfterAttached&&this.eSelect.getFocusableElement().focus(),this.startedByEnter&&setTimeout((()=>{this.isAlive()&&this.eSelect.showPicker()}))}focusIn(){this.eSelect.getFocusableElement().focus()}getValue(){return this.eSelect.getValue()}isPopup(){return!1}}}],dependantModules:[pE]},wE={version:hb,moduleName:"@ag-grid-community/editing",dependantModules:[pE,fE,mE,{version:hb,moduleName:"@ag-grid-community/all-editors",dependantModules:[vE,yE,CE,{version:hb,moduleName:"@ag-grid-community/large-text-editor",userComponents:[{name:"agLargeTextCellEditor",classImp:class extends EC{constructor(){super('<div class="ag-large-text">\n        <ag-input-text-area data-ref="eTextArea" class="ag-large-text-input"></ag-input-text-area>\n        </div>',[JS]),this.eTextArea=qy}init(e){this.params=e,this.focusAfterAttached=e.cellStartedEdit,this.eTextArea.setMaxLength(e.maxLength||200).setCols(e.cols||60).setRows(e.rows||10),gf(e.value,!0)&&this.eTextArea.setValue(e.value.toString(),!0),this.addGuiEventListener("keydown",this.onKeyDown.bind(this)),this.activateTabIndex()}onKeyDown(e){const t=e.key;(t===dC.LEFT||t===dC.UP||t===dC.RIGHT||t===dC.DOWN||e.shiftKey&&t===dC.ENTER)&&e.stopPropagation()}afterGuiAttached(){const e=this.localeService.getLocaleTextFunc();this.eTextArea.setInputAriaLabel(e("ariaInputEditor","Input Editor")),this.focusAfterAttached&&this.eTextArea.getFocusableElement().focus()}getValue(){const e=this.eTextArea.getValue();return gf(e)||gf(this.params.value)?this.params.parseValue(e):this.params.value}}}],dependantModules:[pE]}]},gE]},bE=class extends Rm{constructor(){super(...arguments),this.beanName="autoWidthCalculator"}wireBeans(e){this.rowRenderer=e.rowRenderer,this.ctrlsService=e.ctrlsService}postConstruct(){this.ctrlsService.whenReady(this,(e=>{this.centerRowContainerCtrl=e.center}))}getPreferredWidthForColumn(e,t){const o=this.getHeaderCellForColumn(e);if(!o)return-1;const n=this.rowRenderer.getAllCellsForColumn(e);return t||n.push(o),this.addElementsToContainerAndGetWidth(n)}getPreferredWidthForColumnGroup(e){const t=this.getHeaderCellForColumn(e);return t?this.addElementsToContainerAndGetWidth([t]):-1}addElementsToContainerAndGetWidth(e){const t=document.createElement("form");t.style.position="fixed";const o=this.centerRowContainerCtrl.getContainerElement();e.forEach((e=>this.cloneItemIntoDummy(e,t))),o.appendChild(t);const n=t.offsetWidth;o.removeChild(t);return n+this.getAutoSizePadding()}getAutoSizePadding(){return this.gos.get("autoSizePadding")}getHeaderCellForColumn(e){let t=null;return this.ctrlsService.getHeaderRowContainerCtrls().forEach((o=>{const n=o.getHtmlElementForColumnHeader(e);null!=n&&(t=n)})),t}cloneItemIntoDummy(e,t){const o=e.cloneNode(!0);o.style.width="",o.style.position="static",o.style.left="";const n=document.createElement("div"),i=n.classList;["ag-header-cell","ag-header-group-cell"].some((e=>o.classList.contains(e)))?(i.add("ag-header","ag-header-row"),n.style.position="static"):i.add("ag-row");let r=e.parentElement;for(;r;){if(["ag-header-row","ag-row"].some((e=>r.classList.contains(e)))){for(let e=0;e<r.classList.length;e++){const t=r.classList[e];"ag-row-position-absolute"!=t&&i.add(t)}break}r=r.parentElement}n.appendChild(o),t.appendChild(n)}},SE=class extends Rm{constructor(e,t){super(),this.createRowCon=e,this.destroyRowCtrls=t,this.stickyTopRowCtrls=[],this.stickyBottomRowCtrls=[],this.extraTopHeight=0,this.extraBottomHeight=0}wireBeans(e){this.rowModel=e.rowModel,this.rowRenderer=e.rowRenderer,this.ctrlsService=e.ctrlsService,this.pageBoundsService=e.pageBoundsService}postConstruct(){this.isClientSide=Pf(this.gos),this.ctrlsService.whenReady(this,(e=>{this.gridBodyCtrl=e.gridBodyCtrl})),this.resetStickyContainers()}getStickyTopRowCtrls(){return this.stickyTopRowCtrls}getStickyBottomRowCtrls(){return this.stickyBottomRowCtrls}setOffsetTop(e){this.extraTopHeight!==e&&(this.extraTopHeight=e,this.eventService.dispatchEvent({type:"stickyTopOffsetChanged",offset:e}))}setOffsetBottom(e){this.extraBottomHeight!==e&&(this.extraBottomHeight=e)}resetOffsets(){this.setOffsetBottom(0),this.setOffsetTop(0)}getExtraTopHeight(){return this.extraTopHeight}getExtraBottomHeight(){return this.extraBottomHeight}getLastPixelOfGroup(e){return this.isClientSide?this.getClientSideLastPixelOfGroup(e):this.getServerSideLastPixelOfGroup(e)}getFirstPixelOfGroup(e){return e.footer?e.sibling.rowTop+e.sibling.rowHeight-1:e.hasChildren()?e.rowTop-1:0}getServerSideLastPixelOfGroup(e){if(this.isClientSide)throw new Error("This func should only be called in server side row model.");if(e.isExpandable()||e.footer){if(e.master)return e.detailNode.rowTop+e.detailNode.rowHeight;if(!e.sibling||1===Math.abs(e.sibling.rowIndex-e.rowIndex)){let t=e.childStore?.getStoreBounds();return e.footer&&(t=e.sibling.childStore?.getStoreBounds()),(t?.heightPx??0)+(t?.topPx??0)}return e.footer?e.rowTop+e.rowHeight:e.sibling.rowTop+e.sibling.rowHeight}return Number.MAX_SAFE_INTEGER}getClientSideLastPixelOfGroup(e){if(!this.isClientSide)throw new Error("This func should only be called in client side row model.");if(e.isExpandable()||e.footer){if(e.footer&&0===e.rowIndex)return Number.MAX_SAFE_INTEGER;if(!e.sibling||1===Math.abs(e.sibling.rowIndex-e.rowIndex)){let t=e.footer?e.sibling:e;for(;t.isExpandable()&&t.expanded;)if(t.master)t=t.detailNode;else if(t.childrenAfterSort){if(0===t.childrenAfterSort.length)break;t=lm(t.childrenAfterSort)}return t.rowTop+t.rowHeight}return e.footer?e.rowTop+e.rowHeight:e.sibling.rowTop+e.sibling.rowHeight}return Number.MAX_SAFE_INTEGER}updateStickyRows(e){const t="top"===e;let o=0;if(!this.canRowsBeSticky())return this.refreshNodesAndContainerHeight(e,new Set,o);const n=t?this.rowRenderer.getFirstVisibleVerticalPixel()-this.extraTopHeight:this.rowRenderer.getLastVisibleVerticalPixel()-this.extraTopHeight,i=new Set,r=e=>{if(i.add(e),t){const t=this.getLastPixelOfGroup(e),i=n+o+e.rowHeight;e.stickyRowTop=t<i?o+(t-i):o}else{const t=this.getFirstPixelOfGroup(e),i=n-(o+e.rowHeight);e.stickyRowTop=t>i?o-(t-i):o}o=0,i.forEach((e=>{const t=e.stickyRowTop+e.rowHeight;o<t&&(o=t)}))},s=this.areFooterRowsStickySuppressed(),a=this.gos.get("suppressGroupRowsSticky"),l=t=>{if(!t.displayed)return!1;if(t.footer){if(!0===s)return!1;if("grand"===s&&-1===t.level)return!1;if("group"===s&&t.level>-1)return!1;const o=!!t.sibling.rowIndex&&t.sibling.rowIndex+1===t.rowIndex;if("bottom"===e&&o)return!1;return!i.has(t)}if(t.isExpandable()){if(!0===a)return!1;if("bottom"===e)return!1;return!i.has(t)&&t.expanded}return!1};for(let c=0;c<100;c++){let e=n+o;t||(e=n-o);const i=this.rowModel.getRowIndexAtPixel(e),s=this.rowModel.getRow(i);if(null==s)break;const a=this.getStickyAncestors(s).find((e=>(t?e.rowIndex<i:e.rowIndex>i)&&l(e)));if(a){r(a);continue}if(!(t?s.rowTop<e:s.rowTop+s.rowHeight>e)||!l(s))break;r(s)}return t||i.forEach((e=>{e.stickyRowTop=o-(e.stickyRowTop+e.rowHeight)})),this.refreshNodesAndContainerHeight(e,i,o)}areFooterRowsStickySuppressed(){const e=this.gos.get("suppressStickyTotalRow");if(!0===e)return!0;const t=!!this.gos.get("groupIncludeFooter")||"group"===e,o=!!this.gos.get("groupIncludeTotalFooter")||"grand"===e;return!(!t||!o)||(o?"grand":!!t&&"group")}canRowsBeSticky(){const e=Wf(this.gos),t=this.areFooterRowsStickySuppressed(),o=this.gos.get("suppressGroupRowsSticky");return e&&(!t||!o)}getStickyAncestors(e){const t=[];let o=e.footer?e.sibling:e.parent;for(;o;)o.sibling&&t.push(o.sibling),t.push(o),o=o.parent;return t.reverse()}checkStickyRows(){const e=this.updateStickyRows("top"),t=this.updateStickyRows("bottom");return e||t}destroyStickyCtrls(){this.resetStickyContainers()}resetStickyContainers(){this.refreshNodesAndContainerHeight("top",new Set,0),this.refreshNodesAndContainerHeight("bottom",new Set,0)}refreshStickyNode(e){const t=new Set;if(this.stickyTopRowCtrls.some((t=>t.getRowNode()===e))){for(let o=0;o<this.stickyTopRowCtrls.length;o++){const n=this.stickyTopRowCtrls[o].getRowNode();n!==e&&t.add(n)}this.refreshNodesAndContainerHeight("top",t,this.topContainerHeight)&&this.checkStickyRows()}else{for(let o=0;o<this.stickyBottomRowCtrls.length;o++){const n=this.stickyBottomRowCtrls[o].getRowNode();n!==e&&t.add(n)}this.refreshNodesAndContainerHeight("bottom",t,this.bottomContainerHeight)&&this.checkStickyRows()}}refreshNodesAndContainerHeight(e,t,o){const n="top"===e,i=n?this.stickyTopRowCtrls:this.stickyBottomRowCtrls,r={},s=[];for(let h=0;h<i.length;h++){const e=i[h].getRowNode();!t.has(e)?(r[e.id]=i[h],e.sticky=!1):s.push(i[h])}const a=new Set;for(let h=0;h<s.length;h++)a.add(s[h].getRowNode());const l=[];t.forEach((e=>{a.has(e)||(e.sticky=!0,l.push(this.createRowCon(e,!1,!1)))}));let c=!!l.length||s.length!==i.length;n?this.topContainerHeight!==o&&(this.topContainerHeight=o,this.gridBodyCtrl.setStickyTopHeight(o),c=!0):this.bottomContainerHeight!==o&&(this.bottomContainerHeight=o,this.gridBodyCtrl.setStickyBottomHeight(o),c=!0),this.destroyRowCtrls(r,!1);const u=[...s,...l];u.sort(((e,t)=>t.getRowNode().rowIndex-e.getRowNode().rowIndex)),n||u.reverse(),u.forEach((e=>e.setRowTop(e.getRowNode().stickyRowTop)));let d=0;return n?(t.forEach((e=>{e.rowIndex<this.pageBoundsService.getFirstRow()&&(d+=e.rowHeight)})),d>this.topContainerHeight&&(d=this.topContainerHeight),this.setOffsetTop(d)):(t.forEach((e=>{e.rowIndex>this.pageBoundsService.getLastRow()&&(d+=e.rowHeight)})),d>this.bottomContainerHeight&&(d=this.bottomContainerHeight),this.setOffsetBottom(d)),!!c&&(n?this.stickyTopRowCtrls=u:this.stickyBottomRowCtrls=u,!0)}ensureRowHeightsValid(){let e=!1;const t=t=>{const o=t.getRowNode();if(o.rowHeightEstimated){const t=Ff(this.gos,o);o.setRowHeight(t.height),e=!0}};return this.stickyTopRowCtrls.forEach(t),this.stickyBottomRowCtrls.forEach(t),e}},EE=class extends Rm{constructor(){super(...arguments),this.beanName="rowRenderer",this.destroyFuncsForColumnListeners=[],this.rowCtrlsByRowIndex={},this.zombieRowCtrls={},this.allRowCtrls=[],this.topRowCtrls=[],this.bottomRowCtrls=[],this.refreshInProgress=!1,this.dataFirstRenderedFired=!1,this.setupRangeSelectionListeners=()=>{const e=()=>{this.getAllCellCtrls().forEach((e=>e.onCellSelectionChanged()))},t=()=>{this.getAllCellCtrls().forEach((e=>e.updateRangeBordersIfRangeCount()))},o=()=>{this.eventService.addEventListener("cellSelectionChanged",e),this.eventService.addEventListener("columnMoved",t),this.eventService.addEventListener("columnPinned",t),this.eventService.addEventListener("columnVisible",t)},n=()=>{this.eventService.removeEventListener("cellSelectionChanged",e),this.eventService.removeEventListener("columnMoved",t),this.eventService.removeEventListener("columnPinned",t),this.eventService.removeEventListener("columnVisible",t)};this.addDestroyFunc((()=>n())),this.addManagedPropertyListeners(["enableRangeSelection","cellSelection"],(()=>{Zf(this.gos)?o():n()}));Zf(this.gos)&&o()}}wireBeans(e){this.animationFrameService=e.animationFrameService,this.paginationService=e.paginationService,this.pageBoundsService=e.pageBoundsService,this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.pinnedRowModel=e.pinnedRowModel,this.rowModel=e.rowModel,this.focusService=e.focusService,this.beans=e,this.rowContainerHeightService=e.rowContainerHeightService,this.ctrlsService=e.ctrlsService,this.environment=e.environment}postConstruct(){this.ctrlsService.whenReady(this,(e=>{this.gridBodyCtrl=e.gridBodyCtrl,this.initialise()}))}initialise(){this.addManagedEventListeners({paginationChanged:this.onPageLoaded.bind(this),pinnedRowDataChanged:this.onPinnedRowDataChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),bodyScroll:this.onBodyScroll.bind(this),bodyHeightChanged:this.redraw.bind(this,{})}),this.addManagedPropertyListeners(["domLayout","embedFullWidthRows"],(()=>this.onDomLayoutChanged())),this.addManagedPropertyListeners(["suppressMaxRenderedRowRestriction","rowBuffer"],(()=>this.redraw())),this.addManagedPropertyListener("suppressCellFocus",(e=>this.onSuppressCellFocusChanged(e.currentValue))),this.addManagedPropertyListeners(["groupSuppressBlankHeader","getBusinessKeyForNode","fullWidthCellRenderer","fullWidthCellRendererParams","suppressStickyTotalRow","groupRowRenderer","groupRowRendererParams","loadingCellRenderer","loadingCellRendererParams","detailCellRenderer","detailCellRendererParams","enableRangeSelection","enableCellTextSelection","rowSelection"],(()=>this.redrawRows())),Wf(this.gos)&&(Pf(this.gos)||Of(this.gos))&&(this.stickyRowFeature=this.createManagedBean(new SE(this.createRowCon.bind(this),this.destroyRowCtrls.bind(this)))),this.registerCellEventListeners(),this.initialiseCache(),this.printLayout=xf(this.gos,"print"),this.embedFullWidthRows=this.printLayout||this.gos.get("embedFullWidthRows"),this.redrawAfterModelUpdate()}initialiseCache(){if(this.gos.get("keepDetailRows")){const e=this.getKeepDetailRowsCount(),t=null!=e?e:3;this.cachedRowCtrls=new RE(t)}}getKeepDetailRowsCount(){return this.gos.get("keepDetailRowsCount")}getStickyTopRowCtrls(){return this.stickyRowFeature?this.stickyRowFeature.getStickyTopRowCtrls():[]}getStickyBottomRowCtrls(){return this.stickyRowFeature?this.stickyRowFeature.getStickyBottomRowCtrls():[]}updateAllRowCtrls(){const e=Bm(this.rowCtrlsByRowIndex),t=Bm(this.zombieRowCtrls),o=this.cachedRowCtrls?this.cachedRowCtrls.getEntries():[];t.length>0||o.length>0?this.allRowCtrls=[...e,...t,...o]:this.allRowCtrls=e}onCellFocusChanged(e){this.getAllCellCtrls().forEach((t=>t.onCellFocused(e))),this.getFullWidthRowCtrls().forEach((t=>t.onFullWidthRowFocused(e)))}onSuppressCellFocusChanged(e){this.getAllCellCtrls().forEach((t=>t.onSuppressCellFocusChanged(e))),this.getFullWidthRowCtrls().forEach((t=>t.onSuppressCellFocusChanged(e)))}registerCellEventListeners(){this.addManagedEventListeners({cellFocused:e=>{this.onCellFocusChanged(e)},cellFocusCleared:()=>this.onCellFocusChanged(),flashCells:e=>{this.getAllCellCtrls().forEach((t=>t.onFlashCells(e)))},columnHoverChanged:()=>{this.getAllCellCtrls().forEach((e=>e.onColumnHover()))},displayedColumnsChanged:()=>{this.getAllCellCtrls().forEach((e=>e.onDisplayedColumnsChanged()))},displayedColumnsWidthChanged:()=>{this.printLayout&&this.getAllCellCtrls().forEach((e=>e.onLeftChanged()))}}),this.setupRangeSelectionListeners(),this.refreshListenersToColumnsForCellComps(),this.addManagedEventListeners({gridColumnsChanged:this.refreshListenersToColumnsForCellComps.bind(this)}),this.addDestroyFunc(this.removeGridColumnListeners.bind(this))}removeGridColumnListeners(){this.destroyFuncsForColumnListeners.forEach((e=>e())),this.destroyFuncsForColumnListeners.length=0}refreshListenersToColumnsForCellComps(){this.removeGridColumnListeners();this.columnModel.getCols().forEach((e=>{const t=t=>{this.getAllCellCtrls().forEach((o=>{o.getColumn()===e&&t(o)}))},o=()=>{t((e=>e.onLeftChanged()))},n=()=>{t((e=>e.onWidthChanged()))},i=()=>{t((e=>e.onFirstRightPinnedChanged()))},r=()=>{t((e=>e.onLastLeftPinnedChanged()))},s=()=>{t((e=>e.onColDefChanged()))};e.addEventListener("leftChanged",o),e.addEventListener("widthChanged",n),e.addEventListener("firstRightPinnedChanged",i),e.addEventListener("lastLeftPinnedChanged",r),e.addEventListener("colDefChanged",s),this.destroyFuncsForColumnListeners.push((()=>{e.removeEventListener("leftChanged",o),e.removeEventListener("widthChanged",n),e.removeEventListener("firstRightPinnedChanged",i),e.removeEventListener("lastLeftPinnedChanged",r),e.removeEventListener("colDefChanged",s)}))}))}onDomLayoutChanged(){const e=xf(this.gos,"print"),t=e||this.gos.get("embedFullWidthRows"),o=t!==this.embedFullWidthRows||this.printLayout!==e;this.printLayout=e,this.embedFullWidthRows=t,o&&this.redrawAfterModelUpdate({domLayoutChanged:!0})}datasourceChanged(){this.firstRenderedRow=0,this.lastRenderedRow=-1;const e=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(e)}onPageLoaded(e){const t={recycleRows:e.keepRenderedRows,animate:e.animate,newData:e.newData,newPage:e.newPage,onlyBody:!0};this.redrawAfterModelUpdate(t)}getAllCellsForColumn(e){const t=[];return this.getAllRowCtrls().forEach((o=>{const n=o.getCellElement(e);n&&t.push(n)})),t}refreshFloatingRowComps(){this.refreshFloatingRows(this.topRowCtrls,"top"),this.refreshFloatingRows(this.bottomRowCtrls,"bottom")}getTopRowCtrls(){return this.topRowCtrls}getCentreRowCtrls(){return this.allRowCtrls}getBottomRowCtrls(){return this.bottomRowCtrls}refreshFloatingRows(e,t){const{pinnedRowModel:o,beans:n,printLayout:i}=this,r=Object.fromEntries(e.map((e=>[e.getRowNode().id,e])));o.forEachPinnedRow(t,((s,a)=>{const l=e[a];l&&void 0===o.getPinnedRowById(l.getRowNode().id,t)&&(l.destroyFirstPass(),l.destroySecondPass()),s.id in r?(e[a]=r[s.id],delete r[s.id]):e[a]=new CS(s,n,!1,!1,i)}));const s="top"===t?o.getPinnedTopRowCount():o.getPinnedBottomRowCount();e.length=s}onPinnedRowDataChanged(){this.redrawAfterModelUpdate({recycleRows:!0})}redrawRow(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.sticky)this.stickyRowFeature.refreshStickyNode(e);else{if(this.cachedRowCtrls?.has(e))return void this.cachedRowCtrls.removeRow(e);{const t=t=>{const o=t[e.rowIndex];o&&o.getRowNode()===e&&(o.destroyFirstPass(),o.destroySecondPass(),t[e.rowIndex]=this.createRowCon(e,!1,!1))};switch(e.rowPinned){case"top":t(this.topRowCtrls);break;case"bottom":t(this.bottomRowCtrls);break;default:t(this.rowCtrlsByRowIndex),this.updateAllRowCtrls()}}}t||this.dispatchDisplayedRowsChanged(!1)}redrawRows(e){if(null!=e)return e?.forEach((e=>this.redrawRow(e,!0))),void this.dispatchDisplayedRowsChanged(!1);this.redrawAfterModelUpdate()}getCellToRestoreFocusToAfterRefresh(e){const t=e?.suppressKeepFocus?null:this.focusService.getFocusCellToUseAfterRefresh();if(null==t)return null;const o=Vf(this.gos),n=If(this.gos,o,mS.DOM_DATA_KEY_CELL_CTRL),i=If(this.gos,o,CS.DOM_DATA_KEY_ROW_CTRL);return n||i?t:null}redrawAfterModelUpdate(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.getLockOnRefresh();const t=this.getCellToRestoreFocusToAfterRefresh(e);this.updateContainerHeights(),this.scrollToTopIfNewData(e);const o=!e.domLayoutChanged&&!!e.recycleRows,n=e.animate&&Bf(this.gos),i=o?this.getRowsToRecycle():null;if(o||this.removeAllRowComps(),this.workOutFirstAndLastRowsToRender(),this.stickyRowFeature){this.stickyRowFeature.checkStickyRows();const e=this.stickyRowFeature.getExtraTopHeight()+this.stickyRowFeature.getExtraBottomHeight();e&&this.updateContainerHeights(e)}this.recycleRows(i,n),this.gridBodyCtrl.updateRowCount(),e.onlyBody||this.refreshFloatingRowComps(),this.dispatchDisplayedRowsChanged(),null!=t&&this.restoreFocusedCell(t),this.releaseLockOnRefresh()}scrollToTopIfNewData(e){const t=e.newData||e.newPage,o=this.gos.get("suppressScrollOnNewData");t&&!o&&(this.gridBodyCtrl.getScrollFeature().scrollToTop(),this.stickyRowFeature?.resetOffsets())}updateContainerHeights(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(this.printLayout)return void this.rowContainerHeightService.setModelHeight(null);let t=this.pageBoundsService.getCurrentPageHeight();0===t&&(t=1),this.rowContainerHeightService.setModelHeight(t+e)}getLockOnRefresh(){if(this.refreshInProgress)throw new Error("AG Grid: cannot get grid to draw rows when it is in the middle of drawing rows. Your code probably called a grid API method while the grid was in the render stage. To overcome this, put the API call into a timeout, e.g. instead of api.redrawRows(), call setTimeout(function() { api.redrawRows(); }, 0). To see what part of your code that caused the refresh check this stacktrace.");this.refreshInProgress=!0,this.frameworkOverrides.getLockOnRefresh?.()}releaseLockOnRefresh(){this.refreshInProgress=!1,this.frameworkOverrides.releaseLockOnRefresh?.()}isRefreshInProgress(){return this.refreshInProgress}restoreFocusedCell(e){e&&this.focusService.restoreFocusedCell(e,(()=>{this.onCellFocusChanged(this.gos.addGridCommonParams({rowIndex:e.rowIndex,column:e.column,rowPinned:e.rowPinned,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0,type:"cellFocused"}))}))}stopEditing(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.getAllRowCtrls().forEach((t=>{t.stopEditing(e)}))}getAllCellCtrls(){const e=[],t=this.getAllRowCtrls(),o=t.length;for(let n=0;n<o;n++){const o=t[n].getAllCellCtrls(),i=o.length;for(let t=0;t<i;t++)e.push(o[t])}return e}getAllRowCtrls(){const e=this.stickyRowFeature&&this.stickyRowFeature.getStickyTopRowCtrls()||[],t=this.stickyRowFeature&&this.stickyRowFeature.getStickyBottomRowCtrls()||[],o=[...this.topRowCtrls,...this.bottomRowCtrls,...e,...t];for(const n in this.rowCtrlsByRowIndex)o.push(this.rowCtrlsByRowIndex[n]);return o}addRenderedRowListener(e,t,o){const n=this.rowCtrlsByRowIndex[t];n&&n.addEventListener(e,o)}flashCells(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.getCellCtrls(e.rowNodes,e.columns).forEach((t=>t.flashCell(e)))}refreshCells(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t={forceRefresh:e.force,newData:!1,suppressFlash:e.suppressFlash};for(const o of this.getCellCtrls(e.rowNodes,e.columns))o.refreshOrDestroyCell(t);this.refreshFullWidth(e.rowNodes)}refreshFullWidth(e){if(!e)return;let t=null;this.stickyRowFeature&&gy()&&(t=this.getCellToRestoreFocusToAfterRefresh()||null);for(const o of this.getRowCtrls(e)){if(!o.isFullWidth())continue;o.refreshFullWidth()||this.redrawRow(o.getRowNode(),!0)}this.dispatchDisplayedRowsChanged(!1),t&&this.restoreFocusedCell(t)}getCellRendererInstances(e){const t=this.getCellCtrls(e.rowNodes,e.columns).map((e=>e.getCellRenderer())).filter((e=>null!=e));if(e.columns?.length)return t;const o=[],n=this.mapRowNodes(e.rowNodes);return this.getAllRowCtrls().forEach((e=>{if(n&&!this.isRowInMap(e.getRowNode(),n))return;if(!e.isFullWidth())return;const t=e.getFullWidthCellRenderers();for(let n=0;n<t.length;n++){const e=t[n];null!=e&&o.push(e)}})),[...o,...t]}getCellEditorInstances(e){const t=[];return this.getCellCtrls(e.rowNodes,e.columns).forEach((e=>{const o=e.getCellEditor();o&&t.push(o)})),t}getEditingCells(){const e=[];return this.getAllCellCtrls().forEach((t=>{if(t.isEditing()){const o=t.getCellPosition();e.push(o)}})),e}mapRowNodes(e){if(!e)return;const t={top:{},bottom:{},normal:{}};return e.forEach((e=>{const o=e.id;switch(e.rowPinned){case"top":t.top[o]=e;break;case"bottom":t.bottom[o]=e;break;default:t.normal[o]=e}})),t}isRowInMap(e,t){const o=e.id;switch(e.rowPinned){case"top":return null!=t.top[o];case"bottom":return null!=t.bottom[o];default:return null!=t.normal[o]}}getRowCtrls(e){const t=this.mapRowNodes(e),o=this.getAllRowCtrls();return e&&t?o.filter((e=>{const o=e.getRowNode();return this.isRowInMap(o,t)})):o}getCellCtrls(e,t){let o;gf(t)&&(o={},t.forEach((e=>{const t=this.columnModel.getCol(e);gf(t)&&(o[t.getId()]=!0)})));const n=[];return this.getRowCtrls(e).forEach((e=>{e.getAllCellCtrls().forEach((e=>{const t=e.getColumn().getId();o&&!o[t]||n.push(e)}))})),n}destroy(){this.removeAllRowComps(!0),super.destroy()}removeAllRowComps(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(t,e),this.stickyRowFeature&&this.stickyRowFeature.destroyStickyCtrls()}getRowsToRecycle(){const e=[];Gm(this.rowCtrlsByRowIndex,((t,o)=>{null==o.getRowNode().id&&e.push(t)})),this.removeRowCtrls(e);const t={};return Gm(this.rowCtrlsByRowIndex,((e,o)=>{const n=o.getRowNode();t[n.id]=o})),this.rowCtrlsByRowIndex={},t}removeRowCtrls(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.forEach((e=>{const o=this.rowCtrlsByRowIndex[e];o&&(o.destroyFirstPass(t),o.destroySecondPass()),delete this.rowCtrlsByRowIndex[e]}))}onBodyScroll(e){"vertical"===e.direction&&this.redraw({afterScroll:!0})}redraw(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{afterScroll:t}=e;let o;this.stickyRowFeature&&gy()&&(o=this.getCellToRestoreFocusToAfterRefresh()||void 0);const n=this.firstRenderedRow,i=this.lastRenderedRow;this.workOutFirstAndLastRowsToRender();let r=!1;if(this.stickyRowFeature){r=this.stickyRowFeature.checkStickyRows();const e=this.stickyRowFeature.getExtraTopHeight()+this.stickyRowFeature.getExtraBottomHeight();e&&this.updateContainerHeights(e)}const s=this.firstRenderedRow!==n||this.lastRenderedRow!==i;if((!t||r||s)&&(this.getLockOnRefresh(),this.recycleRows(null,!1,t),this.releaseLockOnRefresh(),this.dispatchDisplayedRowsChanged(t&&!r),null!=o)){const e=this.getCellToRestoreFocusToAfterRefresh();null!=o&&null==e&&(this.animationFrameService.flushAllFrames(),this.restoreFocusedCell(o))}}removeRowCompsNotToDraw(e,t){const o={};e.forEach((e=>o[e]=!0));const n=Object.keys(this.rowCtrlsByRowIndex).filter((e=>!o[e]));this.removeRowCtrls(n,t)}calculateIndexesToDraw(e){const t=function(e,t){const o=[];for(let n=e;n<=t;n++)o.push(n);return o}(this.firstRenderedRow,this.lastRenderedRow),o=(e,o)=>{const n=o.getRowNode().rowIndex;null!=n&&(n<this.firstRenderedRow||n>this.lastRenderedRow)&&this.doNotUnVirtualiseRow(o)&&t.push(n)};Gm(this.rowCtrlsByRowIndex,o),Gm(e,o),t.sort(((e,t)=>e-t));const n=[];for(let i=0;i<t.length;i++){const e=t[i],o=this.rowModel.getRow(e);o&&!o.sticky&&n.push(e)}return n}recycleRows(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const n=this.calculateIndexesToDraw(e);(this.printLayout||o)&&(t=!1),this.removeRowCompsNotToDraw(n,!t);const i=[];if(n.forEach((n=>{const r=this.createOrUpdateRowCtrl(n,e,t,o);gf(r)&&i.push(r)})),e){o&&!this.gos.get("suppressAnimationFrame")&&!this.printLayout?this.beans.animationFrameService.addDestroyTask((()=>{this.destroyRowCtrls(e,t),this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged()})):this.destroyRowCtrls(e,t)}this.updateAllRowCtrls()}dispatchDisplayedRowsChanged(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.eventService.dispatchEvent({type:"displayedRowsChanged",afterScroll:e})}onDisplayedColumnsChanged(){const e=this.visibleColsService.isPinningLeft(),t=this.visibleColsService.isPinningRight();(this.pinningLeft!==e||t!==this.pinningRight)&&(this.pinningLeft=e,this.pinningRight=t,this.embedFullWidthRows&&this.redrawFullWidthEmbeddedRows())}redrawFullWidthEmbeddedRows(){const e=[];this.getFullWidthRowCtrls().forEach((t=>{const o=t.getRowNode().rowIndex;e.push(o.toString())})),this.refreshFloatingRowComps(),this.removeRowCtrls(e),this.redraw({afterScroll:!0})}getFullWidthRowCtrls(e){const t=this.mapRowNodes(e);return this.getAllRowCtrls().filter((e=>{if(!e.isFullWidth())return!1;const o=e.getRowNode();return!(null!=t&&!this.isRowInMap(o,t))}))}createOrUpdateRowCtrl(e,t,o,n){let i,r=this.rowCtrlsByRowIndex[e];r||(i=this.rowModel.getRow(e),gf(i)&&gf(t)&&t[i.id]&&i.alreadyRendered&&(r=t[i.id],t[i.id]=null));if(!r){if(i||(i=this.rowModel.getRow(e)),!gf(i))return;r=this.createRowCon(i,o,n)}return i&&(i.alreadyRendered=!0),this.rowCtrlsByRowIndex[e]=r,r}destroyRowCtrls(e,t){const o=[];Gm(e,((e,n)=>{if(n)if(this.cachedRowCtrls&&n.isCacheable())this.cachedRowCtrls.addRow(n);else if(n.destroyFirstPass(!t),t){const e=n.instanceId;this.zombieRowCtrls[e]=n,o.push((()=>{n.destroySecondPass(),delete this.zombieRowCtrls[e]}))}else n.destroySecondPass()})),t&&(o.push((()=>{this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged()})),af(o))}getRowBuffer(){return this.gos.get("rowBuffer")}getRowBufferInPixels(){return this.getRowBuffer()*_f(this.gos)}workOutFirstAndLastRowsToRender(){let e,t;if(this.rowContainerHeightService.updateOffset(),this.rowModel.isRowsToRender())if(this.printLayout)this.environment.refreshRowHeightVariable(),e=this.pageBoundsService.getFirstRow(),t=this.pageBoundsService.getLastRow();else{const o=this.getRowBufferInPixels(),n=this.ctrlsService.getGridBodyCtrl(),i=this.gos.get("suppressRowVirtualisation");let r,s,a=!1;do{const e=this.pageBoundsService.getPixelOffset(),{pageFirstPixel:t,pageLastPixel:l}=this.pageBoundsService.getCurrentPagePixelRange(),c=this.rowContainerHeightService.getDivStretchOffset(),u=n.getScrollFeature().getVScrollPosition(),d=u.top,h=u.bottom;i?(r=t+c,s=l+c):(r=Math.max(d+e-o,t)+c,s=Math.min(h+e+o,l)+c),this.firstVisibleVPixel=Math.max(d+e,t)+c,this.lastVisibleVPixel=Math.min(h+e,l)+c,a=this.ensureAllRowsInRangeHaveHeightsCalculated(r,s)}while(a);let l=this.rowModel.getRowIndexAtPixel(r),c=this.rowModel.getRowIndexAtPixel(s);const u=this.pageBoundsService.getFirstRow(),d=this.pageBoundsService.getLastRow();l<u&&(l=u),c>d&&(c=d),e=l,t=c}else e=0,t=-1;const o=xf(this.gos,"normal"),n=this.gos.get("suppressMaxRenderedRowRestriction"),i=Math.max(this.getRowBuffer(),500);o&&!n&&t-e>i&&(t=e+i);const r=e!==this.firstRenderedRow,s=t!==this.lastRenderedRow;(r||s)&&(this.firstRenderedRow=e,this.lastRenderedRow=t,this.eventService.dispatchEvent({type:"viewportChanged",firstRow:e,lastRow:t}))}dispatchFirstDataRenderedEvent(){this.dataFirstRenderedFired||(this.dataFirstRenderedFired=!0,window.requestAnimationFrame((()=>{this.beans.eventService.dispatchEvent({type:"firstDataRendered",firstRow:this.firstRenderedRow,lastRow:this.lastRenderedRow})})))}ensureAllRowsInRangeHaveHeightsCalculated(e,t){const o=this.pinnedRowModel?.ensureRowHeightsValid(),n=this.stickyRowFeature?.ensureRowHeightsValid(),i=this.rowModel.ensureRowHeightsValid(e,t,this.pageBoundsService.getFirstRow(),this.pageBoundsService.getLastRow());return(i||n)&&this.eventService.dispatchEvent({type:"recalculateRowBounds"}),!!(n||i||o)&&(this.updateContainerHeights(),!0)}getFirstVisibleVerticalPixel(){return this.firstVisibleVPixel}getLastVisibleVerticalPixel(){return this.lastVisibleVPixel}getFirstVirtualRenderedRow(){return this.firstRenderedRow}getLastVirtualRenderedRow(){return this.lastRenderedRow}doNotUnVirtualiseRow(e){const t=!1,o=e.getRowNode(),n=this.focusService.isRowNodeFocused(o),i=e.isEditing(),r=o.detail;if(!(n||i||r))return t;return!!this.isRowPresent(o)||t}isRowPresent(e){return!!this.rowModel.isRowPresent(e)&&(!this.paginationService||this.paginationService.isRowPresent(e))}createRowCon(e,t,o){const n=this.cachedRowCtrls?this.cachedRowCtrls.getRow(e):null;if(n)return n;const i=this.gos.get("suppressAnimationFrame"),r=o&&!i&&!this.printLayout;return new CS(e,this.beans,t,r,this.printLayout)}getRenderedNodes(){const e=this.rowCtrlsByRowIndex;return Object.values(e).map((e=>e.getRowNode()))}getRowByPosition(e){let t;const{rowIndex:o}=e;switch(e.rowPinned){case"top":t=this.topRowCtrls[o];break;case"bottom":t=this.bottomRowCtrls[o];break;default:t=this.rowCtrlsByRowIndex[o],t||(t=this.getStickyTopRowCtrls().find((e=>e.getRowNode().rowIndex===o))||null,t||(t=this.getStickyBottomRowCtrls().find((e=>e.getRowNode().rowIndex===o))||null))}return t}isRangeInRenderedViewport(e,t){if(null==e||null==t)return!1;const o=e>this.lastRenderedRow;return!(t<this.firstRenderedRow)&&!o}},RE=class{constructor(e){this.entriesMap={},this.entriesList=[],this.maxCount=e}addRow(e){if(this.entriesMap[e.getRowNode().id]=e,this.entriesList.push(e),e.setCached(!0),this.entriesList.length>this.maxCount){const e=this.entriesList[0];e.destroyFirstPass(),e.destroySecondPass(),this.removeFromCache(e)}}getRow(e){if(null==e||null==e.id)return null;const t=this.entriesMap[e.id];if(!t)return null;this.removeFromCache(t),t.setCached(!1);return t.getRowNode()!=e?null:t}has(e){return null!=this.entriesMap[e.id]}removeRow(e){const t=e.id,o=this.entriesMap[t];delete this.entriesMap[t],dm(this.entriesList,o)}removeFromCache(e){const t=e.getRowNode().id;delete this.entriesMap[t],dm(this.entriesList,e)}getEntries(){return this.entriesList}},PE=class extends Rm{constructor(){super(...arguments),this.beanName="pinnedRowModel",this.nextId=0,this.pinnedTopRows=new OE,this.pinnedBottomRows=new OE}wireBeans(e){this.beans=e}postConstruct(){this.setPinnedRowData(this.gos.get("pinnedTopRowData"),"top"),this.setPinnedRowData(this.gos.get("pinnedBottomRowData"),"bottom"),this.addManagedPropertyListener("pinnedTopRowData",(e=>this.setPinnedRowData(e.currentValue,"top"))),this.addManagedPropertyListener("pinnedBottomRowData",(e=>this.setPinnedRowData(e.currentValue,"bottom"))),this.addManagedEventListeners({gridStylesChanged:this.onGridStylesChanges.bind(this)})}isEmpty(e){return("top"===e?this.pinnedTopRows:this.pinnedBottomRows).isEmpty()}isRowsToRender(e){return!this.isEmpty(e)}onGridStylesChanges(e){if(e.rowHeightChanged){const e=e=>{e.setRowHeight(e.rowHeight,!0)};this.pinnedBottomRows.forEach(e),this.pinnedTopRows.forEach(e)}}ensureRowHeightsValid(){let e=!1,t=0;const o=o=>{if(o.rowHeightEstimated){const n=Ff(this.gos,o);o.setRowTop(t),o.setRowHeight(n.height),t+=n.height,e=!0}};return this.pinnedBottomRows?.forEach(o),t=0,this.pinnedTopRows?.forEach(o),this.eventService.dispatchEvent({type:"pinnedHeightChanged"}),e}setPinnedRowData(e,t){this.updateNodesFromRowData(e,t),this.eventService.dispatchEvent({type:"pinnedRowDataChanged"})}updateNodesFromRowData(e,t){const o="top"===t?this.pinnedTopRows:this.pinnedBottomRows;if(void 0===e)return void o.clear();const n=qf(this.gos),i="top"===t?pw.ID_PREFIX_TOP_PINNED:pw.ID_PREFIX_BOTTOM_PINNED,r=o.getIds(),s=[],a=new Set;let l=0,c=-1;for(const u of e){const e=n?.({data:u,level:0,rowPinned:t})??i+this.nextId++;if(a.has(e)){nf("Duplicate ID",e,"found for pinned row with data",u,"When `getRowId` is defined, it must return unique IDs for all pinned rows. Use the `rowPinned` parameter.");continue}c++,a.add(e),s.push(e);const d=o.getById(e);if(void 0!==d)d.data!==u&&d.setData(u),l+=this.setRowTopAndRowIndex(d,l,c),r.delete(e);else{const n=new pw(this.beans);n.id=e,n.data=u,n.rowPinned=t,l+=this.setRowTopAndRowIndex(n,l,c),o.push(n)}}r.forEach((e=>{o.getById(e)?.clearRowTopAndRowIndex()})),o.removeAllById(r),o.setOrder(s)}setRowTopAndRowIndex(e,t,o){return e.setRowTop(t),e.setRowHeight(Ff(this.gos,e).height),e.setRowIndex(o),e.rowHeight}getPinnedTopTotalHeight(){return this.getTotalHeight(this.pinnedTopRows)}getPinnedBottomTotalHeight(){return this.getTotalHeight(this.pinnedBottomRows)}getPinnedTopRowCount(){return this.pinnedTopRows.getSize()}getPinnedBottomRowCount(){return this.pinnedBottomRows.getSize()}getPinnedTopRow(e){return this.pinnedTopRows.getByIndex(e)}getPinnedBottomRow(e){return this.pinnedBottomRows.getByIndex(e)}getPinnedRowById(e,t){return"top"===t?this.pinnedTopRows.getById(e):this.pinnedBottomRows.getById(e)}forEachPinnedRow(e,t){return"top"===e?this.pinnedTopRows.forEach(t):this.pinnedBottomRows.forEach(t)}getTotalHeight(e){const t=e.getSize();if(0===t)return 0;const o=e.getByIndex(t-1);return void 0===o?0:o.rowTop+o.rowHeight}},OE=class{constructor(){this.cache={},this.ordering=[]}getById(e){return this.cache[e]}getByIndex(e){const t=this.ordering[e];return this.cache[t]}push(e){this.cache[e.id]=e,this.ordering.push(e.id)}removeAllById(e){for(const t of e)delete this.cache[t];this.ordering=this.ordering.filter((t=>!e.has(t)))}setOrder(e){this.ordering=e}forEach(e){this.ordering.forEach(((t,o)=>{const n=this.cache[t];n&&e(n,o)}))}clear(){this.ordering.length=0,this.cache={}}isEmpty(){return 0===this.ordering.length}getSize(){return this.ordering.length}getIds(){return new Set(this.ordering)}},xE=class extends Rm{constructor(e){super(),this.state="needsLoading",this.version=0,this.id=e}getId(){return this.id}load(){this.state="loading",this.loadFromDatasource()}getVersion(){return this.version}setStateWaitingToLoad(){this.version++,this.state="needsLoading"}getState(){return this.state}pageLoadFailed(e){this.isRequestMostRecentAndLive(e)&&(this.state="failed",this.processServerFail()),this.dispatchLoadCompleted(!1)}success(e,t){this.successCommon(e,t)}pageLoaded(e,t,o){this.successCommon(e,{rowData:t,rowCount:o})}isRequestMostRecentAndLive(e){const t=e===this.version,o=this.isAlive();return t&&o}successCommon(e,t){this.dispatchLoadCompleted();this.isRequestMostRecentAndLive(e)&&(this.state="loaded",this.processServerResult(t))}dispatchLoadCompleted(){const e={type:"loadComplete",success:!(arguments.length>0&&void 0!==arguments[0])||arguments[0],block:this};this.dispatchLocalEvent(e)}},TE={version:hb,moduleName:"@ag-grid-community/row-node-block",beans:[class extends Rm{constructor(){super(...arguments),this.beanName="rowNodeBlockLoader",this.activeBlockLoadsCount=0,this.blocks=[],this.active=!0}wireBeans(e){this.rowModel=e.rowModel}postConstruct(){this.maxConcurrentRequests=this.getMaxConcurrentDatasourceRequests();const e=this.gos.get("blockLoadDebounceMillis");e&&e>0&&(this.checkBlockToLoadDebounce=df(this.performCheckBlocksToLoad.bind(this),e))}getMaxConcurrentDatasourceRequests(){const e=this.gos.get("maxConcurrentDatasourceRequests");return null==e?2:e<=0?void 0:e}addBlock(e){this.blocks.push(e),e.addEventListener("loadComplete",this.loadComplete.bind(this)),this.checkBlockToLoad()}removeBlock(e){dm(this.blocks,e)}destroy(){super.destroy(),this.active=!1}loadComplete(){this.activeBlockLoadsCount--,this.checkBlockToLoad(),this.dispatchLocalEvent({type:"blockLoaded"}),0==this.activeBlockLoadsCount&&this.dispatchLocalEvent({type:"blockLoaderFinished"})}checkBlockToLoad(){this.checkBlockToLoadDebounce?this.checkBlockToLoadDebounce():this.performCheckBlocksToLoad()}performCheckBlocksToLoad(){if(!this.active)return;if(this.printCacheStatus(),null!=this.maxConcurrentRequests&&this.activeBlockLoadsCount>=this.maxConcurrentRequests)return void(this.gos.get("debug")&&of("RowNodeBlockLoader - checkBlockToLoad: max loads exceeded"));const e=this.getAvailableLoadingCount(),t=this.blocks.filter((e=>"needsLoading"===e.getState())).slice(0,e);this.registerLoads(t.length),t.forEach((e=>e.load())),this.printCacheStatus()}getBlockState(){if(Of(this.gos)){return this.rowModel.getBlockStates()}const e={};return this.blocks.forEach((t=>{const{id:o,state:n}=t.getBlockStateJson();e[o]=n})),e}printCacheStatus(){this.gos.get("debug")&&of(`RowNodeBlockLoader - printCacheStatus: activePageLoadsCount = ${this.activeBlockLoadsCount}, blocks = ${JSON.stringify(this.getBlockState())}`)}isLoading(){return this.activeBlockLoadsCount>0}registerLoads(e){this.activeBlockLoadsCount+=e}getAvailableLoadingCount(){return void 0!==this.maxConcurrentRequests?this.maxConcurrentRequests-this.activeBlockLoadsCount:void 0}}]},DE=class{constructor(){this.root=null,this.end=null,this.cachedRange=[]}init(e){this.rowModel=e}reset(){this.root=null,this.end=null,this.cachedRange.length=0}setRoot(e){this.root=e,this.end=null,this.cachedRange.length=0}setEndRange(e){this.end=e,this.cachedRange.length=0}getRange(){if(0===this.cachedRange.length){const e=this.getRoot(),t=this.getEnd();if(null==e||null==t)return this.cachedRange;this.cachedRange=this.rowModel.getNodesInRangeForSelection(e,t)}return this.cachedRange}isInRange(e){return null!==this.root&&this.getRange().some((t=>t.id===e.id))}getRoot(){return this.root&&null===this.root?.key&&(this.root=this.rowModel.getRowNode(this.root.id)??null),this.root}getEnd(){return this.end&&null===this.end?.key&&(this.end=this.rowModel.getRowNode(this.end.id)??null),this.end}truncate(e){const t=this.getRange();if(0===t.length)return{keep:[],discard:[]};const o=t[0].id===this.root.id,n=t.findIndex((t=>t.id===e.id));if(n>-1){const i=t.slice(0,n),r=t.slice(n+1);return this.setEndRange(e),o?{keep:i,discard:r}:{keep:r,discard:i}}return{keep:t,discard:[]}}extend(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const o=this.getRoot();if(null==o){const o=this.getRange().slice();return t&&e.depthFirstSearch((e=>!e.group&&o.push(e))),o.push(e),this.setRoot(e),{keep:o,discard:[]}}if(this.rowModel.getNodesInRangeForSelection(o,e).find((e=>e.id===this.end?.id)))return this.setEndRange(e),{keep:this.getRange(),discard:[]};{const t=this.getRange().slice();return this.setEndRange(e),{keep:this.getRange(),discard:t}}}},AE=class extends Rm{constructor(){super(...arguments),this.beanName="stylingService"}wireBeans(e){this.expressionService=e.expressionService}processAllCellClasses(e,t,o,n){this.processClassRules(void 0,e.cellClassRules,t,o,n),this.processStaticCellClasses(e,t,o)}processClassRules(e,t,o,n,i){if(null==t&&null==e)return;const r={},s={},a=(e,t)=>{e.split(" ").forEach((e=>{""!=e.trim()&&t(e)}))};if(t){const e=Object.keys(t);for(let n=0;n<e.length;n++){const i=e[n],l=t[i];let c;"string"===typeof l?c=this.expressionService.evaluate(l,o):"function"===typeof l&&(c=l(o)),a(i,(e=>{c?r[e]=!0:s[e]=!0}))}}e&&i&&Object.keys(e).forEach((e=>a(e,(e=>{r[e]||(s[e]=!0)})))),i&&Object.keys(s).forEach(i),Object.keys(r).forEach(n)}getStaticCellClasses(e,t){const{cellClass:o}=e;if(!o)return[];let n;if("function"===typeof o){n=o(t)}else n=o;return"string"===typeof n&&(n=[n]),n||[]}processStaticCellClasses(e,t,o){this.getStaticCellClasses(e,t).forEach((e=>{o(e)}))}},FE=(e=>(e.TAB_GUARD="ag-tab-guard",e.TAB_GUARD_TOP="ag-tab-guard-top",e.TAB_GUARD_BOTTOM="ag-tab-guard-bottom",e))(FE||{}),_E=class extends Rm{constructor(e){super(),this.skipTabGuardFocus=!1,this.forcingFocusOut=!1,this.allowFocus=!1;const{comp:t,eTopGuard:o,eBottomGuard:n,focusTrapActive:i,forceFocusOutWhenTabGuardsAreEmpty:r,isFocusableContainer:s,focusInnerElement:a,onFocusIn:l,onFocusOut:c,shouldStopEventPropagation:u,onTabKeyDown:d,handleKeyDown:h,eFocusableElement:p}=e;this.comp=t,this.eTopGuard=o,this.eBottomGuard=n,this.providedFocusInnerElement=a,this.eFocusableElement=p,this.focusTrapActive=!!i,this.forceFocusOutWhenTabGuardsAreEmpty=!!r,this.isFocusableContainer=!!s,this.providedFocusIn=l,this.providedFocusOut=c,this.providedShouldStopEventPropagation=u,this.providedOnTabKeyDown=d,this.providedHandleKeyDown=h}wireBeans(e){this.focusService=e.focusService}postConstruct(){this.createManagedBean(new ww(this.eFocusableElement,{shouldStopEventPropagation:()=>this.shouldStopEventPropagation(),onTabKeyDown:e=>this.onTabKeyDown(e),handleKeyDown:e=>this.handleKeyDown(e),onFocusIn:e=>this.onFocusIn(e),onFocusOut:e=>this.onFocusOut(e)})),this.activateTabGuards(),[this.eTopGuard,this.eBottomGuard].forEach((e=>this.addManagedElementListeners(e,{focus:this.onFocus.bind(this)})))}handleKeyDown(e){this.providedHandleKeyDown&&this.providedHandleKeyDown(e)}tabGuardsAreActive(){return!!this.eTopGuard&&this.eTopGuard.hasAttribute("tabIndex")}shouldStopEventPropagation(){return!!this.providedShouldStopEventPropagation&&this.providedShouldStopEventPropagation()}activateTabGuards(){if(this.forcingFocusOut)return;const e=this.gos.get("tabIndex");this.comp.setTabIndex(e.toString())}deactivateTabGuards(){this.comp.setTabIndex()}onFocus(e){if(this.isFocusableContainer&&!this.eFocusableElement.contains(e.relatedTarget)&&!this.allowFocus)return void this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard);if(this.skipTabGuardFocus)return void(this.skipTabGuardFocus=!1);if(this.forceFocusOutWhenTabGuardsAreEmpty){if(0===this.focusService.findFocusableElements(this.eFocusableElement,".ag-tab-guard").length)return void this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard)}if(this.isFocusableContainer&&this.eFocusableElement.contains(e.relatedTarget))return;const t=e.target===this.eBottomGuard;this.providedFocusInnerElement?this.providedFocusInnerElement(t):this.focusInnerElement(t)}findNextElementOutsideAndFocus(e){const t=Nf(this.gos),o=this.focusService.findFocusableElements(t.body,null,!0),n=o.indexOf(e?this.eTopGuard:this.eBottomGuard);if(-1===n)return;let i,r;e?(i=0,r=n):(i=n+1,r=o.length);const s=o.slice(i,r),a=this.gos.get("tabIndex");s.sort(((e,t)=>{const o=parseInt(e.getAttribute("tabindex")||"0"),n=parseInt(t.getAttribute("tabindex")||"0");return n===a?1:o===a?-1:0===o?1:0===n?-1:o-n})),s[e?s.length-1:0]?.focus()}onFocusIn(e){this.focusTrapActive||this.forcingFocusOut||(this.providedFocusIn&&this.providedFocusIn(e),this.isFocusableContainer||this.deactivateTabGuards())}onFocusOut(e){this.focusTrapActive||(this.providedFocusOut&&this.providedFocusOut(e),this.eFocusableElement.contains(e.relatedTarget)||this.activateTabGuards())}onTabKeyDown(e){if(this.providedOnTabKeyDown)return void this.providedOnTabKeyDown(e);if(this.focusTrapActive)return;if(e.defaultPrevented)return;const t=this.tabGuardsAreActive();t&&this.deactivateTabGuards();const o=this.getNextFocusableElement(e.shiftKey);t&&setTimeout((()=>this.activateTabGuards()),0),o&&(o.focus(),e.preventDefault())}focusInnerElement(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=this.focusService.findFocusableElements(this.eFocusableElement);this.tabGuardsAreActive()&&(t.splice(0,1),t.splice(t.length-1,1)),t.length&&t[e?t.length-1:0].focus({preventScroll:!0})}getNextFocusableElement(e){return this.focusService.findNextFocusableElement(this.eFocusableElement,!1,e)}forceFocusOutOfContainer(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.forcingFocusOut)return;const t=e?this.eTopGuard:this.eBottomGuard;this.activateTabGuards(),this.skipTabGuardFocus=!0,this.forcingFocusOut=!0,t.focus(),window.setTimeout((()=>{this.forcingFocusOut=!1,this.activateTabGuards()}))}isTabGuard(e,t){return e===this.eTopGuard&&!t||e===this.eBottomGuard&&(t??!0)}setAllowFocus(e){this.allowFocus=e}},ME=class extends Rm{constructor(e){super(),this.comp=e}initialiseTabGuard(e){this.eTopGuard=this.createTabGuard("top"),this.eBottomGuard=this.createTabGuard("bottom"),this.eFocusableElement=this.comp.getFocusableElement();const{eTopGuard:t,eBottomGuard:o,eFocusableElement:n}=this,i=[t,o],r={setTabIndex:e=>{i.forEach((t=>null!=e?t.setAttribute("tabindex",e):t.removeAttribute("tabindex")))}};this.addTabGuards(t,o);const{focusTrapActive:s=!1,onFocusIn:a,onFocusOut:l,focusInnerElement:c,handleKeyDown:u,onTabKeyDown:d,shouldStopEventPropagation:h,forceFocusOutWhenTabGuardsAreEmpty:p,isFocusableContainer:g}=e;this.tabGuardCtrl=this.createManagedBean(new _E({comp:r,focusTrapActive:s,eTopGuard:t,eBottomGuard:o,eFocusableElement:n,onFocusIn:a,onFocusOut:l,focusInnerElement:c,handleKeyDown:u,onTabKeyDown:d,shouldStopEventPropagation:h,forceFocusOutWhenTabGuardsAreEmpty:p,isFocusableContainer:g}))}getTabGuardCtrl(){return this.tabGuardCtrl}createTabGuard(e){const t=Nf(this.gos).createElement("div"),o="top"===e?"ag-tab-guard-top":"ag-tab-guard-bottom";return t.classList.add("ag-tab-guard",o),Yv(t,"presentation"),t}addTabGuards(e,t){this.eFocusableElement.insertAdjacentElement("afterbegin",e),this.eFocusableElement.insertAdjacentElement("beforeend",t)}removeAllChildrenExceptTabGuards(){const e=[this.eTopGuard,this.eBottomGuard];_y(this.comp.getFocusableElement()),this.addTabGuards(...e)}forceFocusOutOfContainer(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.tabGuardCtrl.forceFocusOutOfContainer(e)}appendChild(e,t,o){By(t)||(t=t.getGui());const{eBottomGuard:n}=this;n?n.insertAdjacentElement("beforebegin",t):e(t,o)}},IE=class extends Xy{initialiseTabGuard(e){this.tabGuardFeature=this.createManagedBean(new ME(this)),this.tabGuardFeature.initialiseTabGuard(e)}forceFocusOutOfContainer(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.tabGuardFeature.forceFocusOutOfContainer(e)}appendChild(e,t){this.tabGuardFeature.appendChild(super.appendChild.bind(this),e,t)}},LE=0,NE=class extends Rm{constructor(){super(...arguments),this.beanName="popupService",this.popupList=[]}wireBeans(e){this.ctrlsService=e.ctrlsService,this.resizeObserverService=e.resizeObserverService,this.environment=e.environment}postConstruct(){this.ctrlsService.whenReady(this,(e=>{this.gridCtrl=e.gridCtrl})),this.addManagedEventListeners({gridStylesChanged:this.handleThemeChange.bind(this)})}getPopupParent(){const e=this.gos.get("popupParent");return e||this.gridCtrl.getGui()}positionPopupForMenu(e){const{eventSource:t,ePopup:o}=e,n=this.getPopupIndex(o);if(-1!==n){this.popupList[n].alignedToElement=t}const i=t.getBoundingClientRect(),r=this.getParentRect(),s=this.keepXYWithinBounds(o,i.top-r.top,0),a=o.clientWidth>0?o.clientWidth:200;o.style.minWidth=`${a}px`;const l=r.right-r.left-a;let c;function u(){return i.right-r.left-2}function d(){return i.left-r.left-a}this.gos.get("enableRtl")?(c=d(),c<0&&(c=u(),this.setAlignedStyles(o,"left")),c>l&&(c=0,this.setAlignedStyles(o,"right"))):(c=u(),c>l&&(c=d(),this.setAlignedStyles(o,"right")),c<0&&(c=0,this.setAlignedStyles(o,"left"))),o.style.left=`${c}px`,o.style.top=`${s}px`}positionPopupUnderMouseEvent(e){const{ePopup:t,nudgeX:o,nudgeY:n,skipObserver:i}=e;this.positionPopup({ePopup:t,nudgeX:o,nudgeY:n,keepWithinBounds:!0,skipObserver:i,updatePosition:()=>this.calculatePointerAlign(e.mouseEvent),postProcessCallback:()=>this.callPostProcessPopup(e.type,e.ePopup,null,e.mouseEvent,e.column,e.rowNode)})}calculatePointerAlign(e){const t=this.getParentRect();return{x:e.clientX-t.left,y:e.clientY-t.top}}positionPopupByComponent(e){const{ePopup:t,nudgeX:o,nudgeY:n,keepWithinBounds:i,eventSource:r,alignSide:s="left",position:a="over",column:l,rowNode:c,type:u}=e,d=r.getBoundingClientRect(),h=this.getParentRect(),p=this.getPopupIndex(t);if(-1!==p){this.popupList[p].alignedToElement=r}this.positionPopup({ePopup:t,nudgeX:o,nudgeY:n,keepWithinBounds:i,updatePosition:()=>{let o,i=d.left-h.left;if("right"===s&&(i-=t.offsetWidth-d.width),"over"===a)o=d.top-h.top,this.setAlignedStyles(t,"over");else{this.setAlignedStyles(t,"under");o="under"===this.shouldRenderUnderOrAbove(t,d,h,e.nudgeY||0)?d.top-h.top+d.height:d.top-t.offsetHeight-2*(n||0)-h.top}return{x:i,y:o}},postProcessCallback:()=>this.callPostProcessPopup(u,t,r,null,l,c)})}shouldRenderUnderOrAbove(e,t,o,n){const i=o.bottom-t.bottom,r=t.top-o.top,s=e.offsetHeight+n;return i>s?"under":r>s||r>i?"above":"under"}setAlignedStyles(e,t){const o=this.getPopupIndex(e);if(-1===o)return;const n=this.popupList[o],{alignedToElement:i}=n;if(!i)return;["right","left","over","above","under"].forEach((t=>{i.classList.remove(`ag-has-popup-positioned-${t}`),e.classList.remove(`ag-popup-positioned-${t}`)})),t&&(i.classList.add(`ag-has-popup-positioned-${t}`),e.classList.add(`ag-popup-positioned-${t}`))}callPostProcessPopup(e,t,o,n,i,r){const s=this.gos.getCallback("postProcessPopup");if(s){s({column:i,rowNode:r,ePopup:t,type:e,eventSource:o,mouseEvent:n})}}positionPopup(e){var t=this;const{ePopup:o,keepWithinBounds:n,nudgeX:i,nudgeY:r,skipObserver:s,updatePosition:a}=e,l={width:0,height:0},c=function(){let s=arguments.length>0&&void 0!==arguments[0]&&arguments[0],{x:c,y:u}=a();s&&o.clientWidth===l.width&&o.clientHeight===l.height||(l.width=o.clientWidth,l.height=o.clientHeight,i&&(c+=i),r&&(u+=r),n&&(c=t.keepXYWithinBounds(o,c,1),u=t.keepXYWithinBounds(o,u,0)),o.style.left=`${c}px`,o.style.top=`${u}px`,e.postProcessCallback&&e.postProcessCallback())};if(c(),!s){const e=this.resizeObserverService.observeResize(o,(()=>c(!0)));setTimeout((()=>e()),200)}}getActivePopups(){return this.popupList.map((e=>e.element))}getPopupList(){return this.popupList}getParentRect(){const e=Nf(this.gos);let t=this.getPopupParent();return t===e.body?t=e.documentElement:"static"===getComputedStyle(t).position&&(t=t.offsetParent),Ty(t)}keepXYWithinBounds(e,t,o){const n=0===o,i=n?"clientHeight":"clientWidth",r=n?"top":"left",s=n?"height":"width",a=n?"scrollTop":"scrollLeft",l=Nf(this.gos),c=l.documentElement,u=this.getPopupParent(),d=e.getBoundingClientRect(),h=u.getBoundingClientRect(),p=l.documentElement.getBoundingClientRect(),g=u===l.body,f=Math.ceil(d[s]);let m=g?(n?Oy:xy)(c)+c[a]:u[i];g&&(m-=Math.abs(p[r]-h[r]));const v=m-f;return Math.min(Math.max(t,0),Math.abs(v))}addPopup(e){const t=Nf(this.gos),{eChild:o,ariaLabel:n,alwaysOnTop:i,positionCallback:r,anchorToElement:s}=e;if(!t)return nf("could not find the document, document is empty"),{hideFunc:()=>{}};const a=this.getPopupIndex(o);if(-1!==a){return{hideFunc:this.popupList[a].hideFunc}}this.initialisePopupPosition(o);const l=this.createPopupWrapper(o,n,!!i),c=this.addEventListenersToPopup({...e,wrapperEl:l});return r&&r(),this.addPopupToPopupList(o,l,c,s),{hideFunc:c}}initialisePopupPosition(e){const t=this.getPopupParent().getBoundingClientRect();gf(e.style.top)||(e.style.top=-1*t.top+"px"),gf(e.style.left)||(e.style.left=-1*t.left+"px")}createPopupWrapper(e,t,o){const n=this.getPopupParent(),i=document.createElement("div");return this.environment.applyThemeClasses(i),i.classList.add("ag-popup"),e.classList.add(this.gos.get("enableRtl")?"ag-rtl":"ag-ltr","ag-popup-child"),e.hasAttribute("role")||Yv(e,"dialog"),qv(e,t),i.appendChild(e),n.appendChild(i),o?this.setAlwaysOnTop(e,!0):this.bringPopupToFront(e),i}handleThemeChange(e){if(e.themeChanged)for(const t of this.popupList)this.environment.applyThemeClasses(t.wrapper)}addEventListenersToPopup(e){var t=this;const o=Nf(this.gos),n=this.getPopupParent(),{wrapperEl:i,eChild:r,closedCallback:s,afterGuiAttached:a,closeOnEsc:l,modal:c}=e;let u=!1;const d=e=>{if(!i.contains(Vf(this.gos)))return;e.key!==dC.ESCAPE||wm(e)||g({keyboardEvent:e})},h=e=>g({mouseEvent:e}),p=e=>g({touchEvent:e}),g=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{mouseEvent:a,touchEvent:l,keyboardEvent:c,forceHide:g}=e;(g||!t.isEventFromCurrentPopup({mouseEvent:a,touchEvent:l},r)&&!u)&&(u=!0,n.removeChild(i),o.removeEventListener("keydown",d),o.removeEventListener("mousedown",h),o.removeEventListener("touchstart",p),o.removeEventListener("contextmenu",h),t.eventService.removeEventListener("dragStarted",h),s&&s(a||l||c),t.removePopupFromPopupList(r))};return a&&a({hidePopup:g}),window.setTimeout((()=>{l&&o.addEventListener("keydown",d),c&&(o.addEventListener("mousedown",h),this.eventService.addEventListener("dragStarted",h),o.addEventListener("touchstart",p),o.addEventListener("contextmenu",h))}),0),g}addPopupToPopupList(e,t,o,n){this.popupList.push({element:e,wrapper:t,hideFunc:o,instanceId:LE++,isAnchored:!!n}),n&&this.setPopupPositionRelatedToElement(e,n)}getPopupIndex(e){return this.popupList.findIndex((t=>t.element===e))}setPopupPositionRelatedToElement(e,t){const o=this.getPopupIndex(e);if(-1===o)return;const n=this.popupList[o];if(n.stopAnchoringPromise&&n.stopAnchoringPromise.then((e=>e&&e())),n.stopAnchoringPromise=void 0,n.isAnchored=!1,!t)return;const i=this.keepPopupPositionedRelativeTo({element:t,ePopup:e,hidePopup:n.hideFunc});return n.stopAnchoringPromise=i,n.isAnchored=!0,i}removePopupFromPopupList(e){this.setAlignedStyles(e,null),this.setPopupPositionRelatedToElement(e,null),this.popupList=this.popupList.filter((t=>t.element!==e))}keepPopupPositionedRelativeTo(e){const t=this.getPopupParent(),o=t.getBoundingClientRect(),{element:n,ePopup:i}=e,r=n.getBoundingClientRect(),s=e=>parseInt(e.substring(0,e.length-1),10),a=(e,t)=>{const n=o[e]-r[e],a=s(i.style[e]);return{initialDiff:n,lastDiff:n,initial:a,last:a,direction:t}},l=a("top",0),c=a("left",1),u=this.getFrameworkOverrides();return new TC((o=>{u.wrapIncoming((()=>{u.setInterval((()=>{const o=t.getBoundingClientRect(),r=n.getBoundingClientRect();if(0==r.top&&0==r.left&&0==r.height&&0==r.width)return void e.hidePopup();const a=(e,t)=>{const n=s(i.style[t]);e.last!==n&&(e.initial=n,e.last=n);const a=o[t]-r[t];if(a!=e.lastDiff){const o=this.keepXYWithinBounds(i,e.initial+e.initialDiff-a,e.direction);i.style[t]=`${o}px`,e.last=o}e.lastDiff=a};a(l,"top"),a(c,"left")}),200).then((e=>{o((()=>{null!=e&&window.clearInterval(e)}))}))}),"popupPositioning")}))}hasAnchoredPopup(){return this.popupList.some((e=>e.isAnchored))}isEventFromCurrentPopup(e,t){const{mouseEvent:o,touchEvent:n}=e,i=o||n;if(!i)return!1;const r=this.getPopupIndex(t);if(-1===r)return!1;for(let s=r;s<this.popupList.length;s++){if(Em(this.popupList[s].element,i))return!0}return this.isElementWithinCustomPopup(i.target)}isElementWithinCustomPopup(e){const t=Nf(this.gos);for(;e&&e!==t.body;){if(e.classList.contains("ag-custom-component-popup")||null===e.parentElement)return!0;e=e.parentElement}return!1}getWrapper(e){for(;!e.classList.contains("ag-popup")&&e.parentElement;)e=e.parentElement;return e.classList.contains("ag-popup")?e:null}setAlwaysOnTop(e,t){const o=this.getWrapper(e);o&&(o.classList.toggle("ag-always-on-top",!!t),t&&this.bringPopupToFront(o))}bringPopupToFront(e){const t=this.getPopupParent(),o=Array.prototype.slice.call(t.querySelectorAll(".ag-popup")),n=o.length,i=this.getWrapper(e);if(!i||n<=1||!t.contains(e))return;const r=[],s=[];for(const u of o)u!==i&&(u.classList.contains("ag-always-on-top")?s.push(u):r.push(u));const a=[],l=s.length,c=i.classList.contains("ag-always-on-top")||!l?[...r,...s,i]:[...r,i,...s];for(let u=0;u<=n;u++){const e=c[u];if(o[u]===c[u]||e===i)continue;e.querySelectorAll("div").forEach((e=>{0!==e.scrollTop&&a.push([e,e.scrollTop])})),0===u?t.insertAdjacentElement("afterbegin",e):c[u-1].insertAdjacentElement("afterend",e)}for(;a.length;){const e=a.pop();e[0].scrollTop=e[1]}}},kE=["touchstart","touchend","touchmove","touchcancel"],GE=class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"javascript";this.frameworkName=e,this.renderingEngine="vanilla",this.wrapIncoming=e=>e(),this.wrapOutgoing=e=>e()}setInterval(e,t){return new TC((o=>{o(window.setInterval(e,t))}))}addEventListener(e,t,o,n){const i=gm(kE,t);e.addEventListener(t,o,{capture:!!n,passive:i})}get shouldWrapOutgoing(){return!1}frameworkComponent(e){return null}isFrameworkComponent(e){return!1}getDocLink(e){return`https://www.ag-grid.com/${"solid"===this.frameworkName?"react":this.frameworkName}-data-grid${e?`/${e}`:""}`}},VE=class extends Rm{constructor(){super(...arguments),this.beanName="cellNavigationService"}wireBeans(e){this.visibleColsService=e.visibleColsService,this.rowModel=e.rowModel,this.rowRenderer=e.rowRenderer,this.pinnedRowModel=e.pinnedRowModel,this.paginationService=e.paginationService,this.pageBoundsService=e.pageBoundsService}getNextCellToFocus(e,t){return arguments.length>2&&void 0!==arguments[2]&&arguments[2]?this.getNextCellToFocusWithCtrlPressed(e,t):this.getNextCellToFocusWithoutCtrlPressed(e,t)}getNextCellToFocusWithCtrlPressed(e,t){const o=e===dC.UP,n=e===dC.DOWN,i=e===dC.LEFT;let r,s;if(o||n)s=o?this.pageBoundsService.getFirstRow():this.pageBoundsService.getLastRow(),r=t.column;else{const e=this.visibleColsService.getAllCols(),o=this.gos.get("enableRtl");s=t.rowIndex,r=i!==o?e[0]:lm(e)}return{rowIndex:s,rowPinned:null,column:r}}getNextCellToFocusWithoutCtrlPressed(e,t){let o=t,n=!1;for(;!n;){switch(e){case dC.UP:o=this.getCellAbove(o);break;case dC.DOWN:o=this.getCellBelow(o);break;case dC.RIGHT:o=this.gos.get("enableRtl")?this.getCellToLeft(o):this.getCellToRight(o);break;case dC.LEFT:o=this.gos.get("enableRtl")?this.getCellToRight(o):this.getCellToLeft(o);break;default:o=null,nf("unknown key for navigation ",e)}n=!o||this.isCellGoodToFocusOn(o)}return o}isCellGoodToFocusOn(e){const t=e.column;let o;switch(e.rowPinned){case"top":o=this.pinnedRowModel.getPinnedTopRow(e.rowIndex);break;case"bottom":o=this.pinnedRowModel.getPinnedBottomRow(e.rowIndex);break;default:o=this.rowModel.getRow(e.rowIndex)}if(!o)return!1;return!t.isSuppressNavigable(o)}getCellToLeft(e){if(!e)return null;const t=this.visibleColsService.getColBefore(e.column);return t?{rowIndex:e.rowIndex,column:t,rowPinned:e.rowPinned}:null}getCellToRight(e){if(!e)return null;const t=this.visibleColsService.getColAfter(e.column);return t?{rowIndex:e.rowIndex,column:t,rowPinned:e.rowPinned}:null}getRowBelow(e){const t=e.rowIndex,o=e.rowPinned;let n=!1;if(this.isLastRowInContainer(e))switch(o){case"bottom":return null;case"top":return this.rowModel.isRowsToRender()?{rowIndex:this.pageBoundsService.getFirstRow(),rowPinned:null}:this.pinnedRowModel.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null;default:return this.pinnedRowModel.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null}else o&&(n=!0);const i=this.rowModel.getRow(e.rowIndex),r=n?void 0:this.getNextStickyPosition(i);return r||{rowIndex:t+1,rowPinned:o}}getNextStickyPosition(e,t){if(!Wf(this.gos)||!e||!e.sticky)return;let o=[];o=this.rowRenderer.getStickyTopRowCtrls().some((t=>t.getRowNode().rowIndex===e.rowIndex))?[...this.rowRenderer.getStickyTopRowCtrls()].sort(((e,t)=>e.getRowNode().rowIndex-t.getRowNode().rowIndex)):[...this.rowRenderer.getStickyBottomRowCtrls()].sort(((e,t)=>t.getRowNode().rowIndex-e.getRowNode().rowIndex));const n=t?-1:1,i=o.findIndex((t=>t.getRowNode().rowIndex===e.rowIndex)),r=o[i+n];return r?{rowIndex:r.getRowNode().rowIndex,rowPinned:null}:void 0}getCellBelow(e){if(!e)return null;const t=this.getRowBelow(e);return t?{rowIndex:t.rowIndex,column:e.column,rowPinned:t.rowPinned}:null}isLastRowInContainer(e){const t=e.rowPinned,o=e.rowIndex;if("top"===t){return this.pinnedRowModel.getPinnedTopRowCount()-1<=o}if("bottom"===t){return this.pinnedRowModel.getPinnedBottomRowCount()-1<=o}return this.pageBoundsService.getLastRow()<=o}getRowAbove(e){const t=e.rowIndex,o=e.rowPinned;let n=!1;if(o?0===t:t===this.pageBoundsService.getFirstRow())return"top"===o?null:o&&this.rowModel.isRowsToRender()?this.getLastBodyCell():this.pinnedRowModel.isRowsToRender("top")?this.getLastFloatingTopRow():null;o&&(n=!0);const i=this.rowModel.getRow(e.rowIndex),r=n?void 0:this.getNextStickyPosition(i,!0);return r||{rowIndex:t-1,rowPinned:o}}getCellAbove(e){if(!e)return null;const t=this.getRowAbove({rowIndex:e.rowIndex,rowPinned:e.rowPinned});return t?{rowIndex:t.rowIndex,column:e.column,rowPinned:t.rowPinned}:null}getLastBodyCell(){return{rowIndex:this.pageBoundsService.getLastRow(),rowPinned:null}}getLastFloatingTopRow(){return{rowIndex:this.pinnedRowModel.getPinnedTopRowCount()-1,rowPinned:"top"}}getNextTabbedCell(e,t){return t?this.getNextTabbedCellBackwards(e):this.getNextTabbedCellForwards(e)}getNextTabbedCellForwards(e){const t=this.visibleColsService.getAllCols();let o=e.rowIndex,n=e.rowPinned,i=this.visibleColsService.getColAfter(e.column);if(!i){i=t[0];const r=this.getRowBelow(e);if(ff(r))return null;if(!r.rowPinned&&!(this.paginationService?.isRowInPage(r)??1))return null;o=r?r.rowIndex:null,n=r?r.rowPinned:null}return{rowIndex:o,column:i,rowPinned:n}}getNextTabbedCellBackwards(e){const t=this.visibleColsService.getAllCols();let o=e.rowIndex,n=e.rowPinned,i=this.visibleColsService.getColBefore(e.column);if(!i){i=lm(t);const r=this.getRowAbove({rowIndex:e.rowIndex,rowPinned:e.rowPinned});if(ff(r))return null;if(!r.rowPinned&&!(this.paginationService?.isRowInPage(r)??1))return null;o=r?r.rowIndex:null,n=r?r.rowPinned:null}return{rowIndex:o,column:i,rowPinned:n}}},HE=(e,t)=>{for(const o in t)t[o]=e;return t},BE={...HE("@ag-grid-community/core",{dispatchEvent:0,destroy:0,getGridId:0,getGridOption:0,isDestroyed:0,setGridOption:0,updateGridOptions:0,getState:0,setNodesSelected:0,selectAll:0,deselectAll:0,selectAllFiltered:0,deselectAllFiltered:0,selectAllOnCurrentPage:0,deselectAllOnCurrentPage:0,getSelectedNodes:0,getSelectedRows:0,redrawRows:0,setRowNodeExpanded:0,getRowNode:0,addRenderedRowListener:0,getRenderedNodes:0,forEachNode:0,getFirstDisplayedRow:0,getFirstDisplayedRowIndex:0,getLastDisplayedRow:0,getLastDisplayedRowIndex:0,getDisplayedRowAtIndex:0,getDisplayedRowCount:0,getModel:0,getVerticalPixelRange:0,getHorizontalPixelRange:0,ensureColumnVisible:0,ensureIndexVisible:0,ensureNodeVisible:0,getFocusedCell:0,clearFocusedCell:0,setFocusedCell:0,tabToNextCell:0,tabToPreviousCell:0,setFocusedHeader:0,addEventListener:0,addGlobalListener:0,removeEventListener:0,removeGlobalListener:0,expireValueCache:0,getValue:0,getCellValue:0,showColumnMenuAfterButtonClick:0,showColumnMenuAfterMouseClick:0,showColumnMenu:0,hidePopupMenu:0,onSortChanged:0,getPinnedTopRowCount:0,getPinnedBottomRowCount:0,getPinnedTopRow:0,getPinnedBottomRow:0,showLoadingOverlay:0,showNoRowsOverlay:0,hideOverlay:0,setGridAriaProperty:0,refreshCells:0,flashCells:0,refreshHeader:0,isAnimationFrameQueueEmpty:0,flushAllAnimationFrames:0,getSizesForCurrentTheme:0,getCellRendererInstances:0,addRowDropZone:0,removeRowDropZone:0,getRowDropZoneParams:0,getColumnDef:0,getColumnDefs:0,sizeColumnsToFit:0,setColumnGroupOpened:0,getColumnGroup:0,getProvidedColumnGroup:0,getDisplayNameForColumn:0,getDisplayNameForColumnGroup:0,getColumn:0,getColumns:0,applyColumnState:0,getColumnState:0,resetColumnState:0,getColumnGroupState:0,setColumnGroupState:0,resetColumnGroupState:0,isPinning:0,isPinningLeft:0,isPinningRight:0,getDisplayedColAfter:0,getDisplayedColBefore:0,setColumnVisible:0,setColumnsVisible:0,setColumnPinned:0,setColumnsPinned:0,getAllGridColumns:0,getDisplayedLeftColumns:0,getDisplayedCenterColumns:0,getDisplayedRightColumns:0,getAllDisplayedColumns:0,getAllDisplayedVirtualColumns:0,moveColumn:0,moveColumnByIndex:0,moveColumns:0,setColumnWidth:0,setColumnWidths:0,getLeftDisplayedColumnGroups:0,getCenterDisplayedColumnGroups:0,getRightDisplayedColumnGroups:0,getAllDisplayedColumnGroups:0,autoSizeColumn:0,autoSizeColumns:0,autoSizeAllColumns:0,undoCellEditing:0,redoCellEditing:0,getCellEditorInstances:0,getEditingCells:0,stopEditing:0,startEditingCell:0,getCurrentUndoSize:0,getCurrentRedoSize:0,isAnyFilterPresent:0,onFilterChanged:0,isColumnFilterPresent:0,getFilterInstance:0,getColumnFilterInstance:0,destroyFilter:0,setFilterModel:0,getFilterModel:0,getColumnFilterModel:0,setColumnFilterModel:0,showColumnFilter:0,isQuickFilterPresent:0,getQuickFilter:0,resetQuickFilter:0,paginationIsLastPageFound:0,paginationGetPageSize:0,paginationGetCurrentPage:0,paginationGetTotalPages:0,paginationGetRowCount:0,paginationGoToNextPage:0,paginationGoToPreviousPage:0,paginationGoToFirstPage:0,paginationGoToLastPage:0,paginationGoToPage:0,expandAll:0,collapseAll:0,onRowHeightChanged:0,setRowCount:0,getCacheBlockState:0,isLastRowIndexKnown:0}),...HE("@ag-grid-community/client-side-row-model",{onGroupExpandedOrCollapsed:0,refreshClientSideRowModel:0,isRowDataEmpty:0,forEachLeafNode:0,forEachNodeAfterFilter:0,forEachNodeAfterFilterAndSort:0,resetRowHeights:0,applyTransaction:0,applyTransactionAsync:0,flushAsyncTransactions:0,getBestCostNodeSelection:0}),...HE("@ag-grid-community/csv-export",{getDataAsCsv:0,exportDataAsCsv:0}),...HE("@ag-grid-community/infinite-row-model",{refreshInfiniteCache:0,purgeInfiniteCache:0,getInfiniteRowCount:0}),...HE("@ag-grid-enterprise/advanced-filter",{getAdvancedFilterModel:0,setAdvancedFilterModel:0,showAdvancedFilterBuilder:0,hideAdvancedFilterBuilder:0}),...HE("@ag-grid-enterprise/charts",{getChartModels:0,getChartRef:0,getChartImageDataURL:0,downloadChart:0,openChartToolPanel:0,closeChartToolPanel:0,createRangeChart:0,createPivotChart:0,createCrossFilterChart:0,updateChart:0,restoreChart:0}),...HE("@ag-grid-enterprise/clipboard",{copyToClipboard:0,cutToClipboard:0,copySelectedRowsToClipboard:0,copySelectedRangeToClipboard:0,copySelectedRangeDown:0,pasteFromClipboard:0}),...HE("@ag-grid-enterprise/excel-export",{getDataAsExcel:0,exportDataAsExcel:0,getSheetDataForExcel:0,getMultipleSheetsAsExcel:0,exportMultipleSheetsAsExcel:0}),...HE("@ag-grid-enterprise/master-detail",{addDetailGridInfo:0,removeDetailGridInfo:0,getDetailGridInfo:0,forEachDetailGridInfo:0}),...HE("@ag-grid-enterprise/menu",{showContextMenu:0,showColumnChooser:0,hideColumnChooser:0}),...HE("@ag-grid-enterprise/range-selection",{getCellRanges:0,addCellRange:0,clearRangeSelection:0,clearCellSelection:0}),...HE("@ag-grid-enterprise/row-grouping",{addAggFunc:0,addAggFuncs:0,clearAggFuncs:0,setColumnAggFunc:0,isPivotMode:0,getPivotResultColumn:0,setValueColumns:0,getValueColumns:0,removeValueColumn:0,removeValueColumns:0,addValueColumn:0,addValueColumns:0,setRowGroupColumns:0,removeRowGroupColumn:0,removeRowGroupColumns:0,addRowGroupColumn:0,addRowGroupColumns:0,getRowGroupColumns:0,moveRowGroupColumn:0,setPivotColumns:0,removePivotColumn:0,removePivotColumns:0,addPivotColumn:0,addPivotColumns:0,getPivotColumns:0,setPivotResultColumns:0,getPivotResultColumns:0}),...HE("@ag-grid-enterprise/server-side-row-model",{getServerSideSelectionState:0,setServerSideSelectionState:0,applyServerSideTransaction:0,applyServerSideTransactionAsync:0,applyServerSideRowData:0,retryServerSideLoads:0,flushServerSideAsyncTransactions:0,refreshServerSide:0,getServerSideGroupLevelState:0}),...HE("@ag-grid-enterprise/side-bar",{isSideBarVisible:0,setSideBarVisible:0,setSideBarPosition:0,openToolPanel:0,closeToolPanel:0,getOpenedToolPanel:0,refreshToolPanel:0,isToolPanelShowing:0,getToolPanelInstance:0,getSideBar:0}),...HE("@ag-grid-enterprise/status-bar",{getStatusPanel:0})},WE={isDestroyed:()=>!0,destroy(){},preConstruct(){},postConstruct(){},preWireBeans(){},wireBeans(){}},jE=(e,t)=>e.eventService.dispatchEvent(t),zE=class{};Reflect.defineProperty(zE,"name",{value:"GridApi"});var UE=class extends Rm{constructor(){super(),this.beanName="apiFunctionService",this.api=new zE,this.fns={...WE,dispatchEvent:jE},this.beans=null,this.preDestroyLink="";const{api:e}=this;for(const t in BE)e[t]=this.makeApi(t)[t]}wireBeans(e){this.beans=e}postConstruct(){this.preDestroyLink=this.frameworkOverrides.getDocLink("grid-lifecycle/#grid-pre-destroyed")}addFunction(e,t){const{fns:o,beans:n}=this;o!==WE&&(o[e]=n?.validationService?.validateApiFunction(e,t)??t)}makeApi(e){var t=this;return{[e]:function(){const{beans:o,fns:{[e]:n}}=t;for(var i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return n?n(o,...r):t.apiNotFound(e)}}}apiNotFound(e){const{beans:t,gos:o,preDestroyLink:n}=this;if(t){const t=BE[e];o.assertModuleRegistered(t,`api.${e}`)&&nf(`API function '${e}' not registered to module '${t}'`)}else nf(`Grid API function ${e}() cannot be called as the grid has been destroyed.\nEither clear local references to the grid api, when it is destroyed, or check gridApi.isDestroyed() to avoid calling methods against a destroyed grid.\nTo run logic when the grid is about to be destroyed use the gridPreDestroy event. See: ${n}`)}destroy(){super.destroy(),this.fns=WE,this.beans=null}};function $E(e){return{beanName:"gridApi",bean:e.getBean("apiFunctionService").api}}var KE=class extends Rm{constructor(){super(...arguments),this.beanName="columnDefFactory"}buildColumnDefs(e,t,o){const n=[],i={};return e.forEach((e=>{let r=!0,s=this.createDefFromColumn(e,t,o),a=e.getOriginalParent(),l=null;for(;a;){let e=null;if(a.isPadding()){a=a.getOriginalParent();continue}const t=i[a.getGroupId()];if(t){t.children.push(s),r=!1;break}if(e=this.createDefFromGroup(a),e&&(e.children=[s],i[e.groupId]=e,s=e,a=a.getOriginalParent()),null!=a&&l===a){r=!1;break}l=a}r&&n.push(s)})),n}createDefFromGroup(e){const t=Hm(e.getColGroupDef(),["children"]);return t&&(t.groupId=e.getGroupId()),t}createDefFromColumn(e,t,o){const n=Hm(e.getColDef());return n.colId=e.getColId(),n.width=e.getActualWidth(),n.rowGroup=e.isRowGroupActive(),n.rowGroupIndex=e.isRowGroupActive()?t.indexOf(e):null,n.pivot=e.isPivotActive(),n.pivotIndex=e.isPivotActive()?o.indexOf(e):null,n.aggFunc=e.isValueActive()?e.getAggFunc():null,n.hide=!e.isVisible()||void 0,n.pinned=e.isPinned()?e.getPinned():null,n.sort=e.getSort()?e.getSort():null,n.sortIndex=null!=e.getSortIndex()?e.getSortIndex():null,n}},YE=class extends Rm{constructor(){super(...arguments),this.beanName="columnEventDispatcher"}visibleCols(e){this.eventService.dispatchEvent({type:"displayedColumnsChanged",source:e})}gridColumns(){this.eventService.dispatchEvent({type:"gridColumnsChanged"})}headerHeight(e){this.eventService.dispatchEvent({type:"columnHeaderHeightChanged",column:e,columns:[e],source:"autosizeColumnHeaderHeight"})}groupHeaderHeight(e){this.eventService.dispatchEvent({type:"columnGroupHeaderHeightChanged",columnGroup:e,source:"autosizeColumnGroupHeaderHeight"})}groupOpened(e){this.eventService.dispatchEvent({type:"columnGroupOpened",columnGroup:1===e.length?e[0]:void 0,columnGroups:e})}rowGroupChanged(e,t){this.eventService.dispatchEvent({type:"columnRowGroupChanged",columns:e,column:1===e.length?e[0]:null,source:t})}genericColumnEvent(e,t,o){this.eventService.dispatchEvent({type:e,columns:t,column:1===t.length?t[0]:null,source:o})}pivotModeChanged(){this.eventService.dispatchEvent({type:"columnPivotModeChanged"})}virtualColumnsChanged(e){this.eventService.dispatchEvent({type:"virtualColumnsChanged",afterScroll:e})}newColumnsLoaded(e){this.eventService.dispatchEvent({type:"newColumnsLoaded",source:e})}everythingChanged(e){this.eventService.dispatchEvent({type:"columnEverythingChanged",source:e})}columnMoved(e){const{movedColumns:t,source:o,toIndex:n,finished:i}=e;this.eventService.dispatchEvent({type:"columnMoved",columns:t,column:t&&1===t.length?t[0]:null,toIndex:n,finished:i,source:o})}columnPinned(e,t){if(!e.length)return;const o=1===e.length?e[0]:null,n=this.getCommonValue(e,(e=>e.getPinned()));this.eventService.dispatchEvent({type:"columnPinned",pinned:null!=n?n:null,columns:e,column:o,source:t})}columnVisible(e,t){if(!e.length)return;const o=1===e.length?e[0]:null,n=this.getCommonValue(e,(e=>e.isVisible()));this.eventService.dispatchEvent({type:"columnVisible",visible:n,columns:e,column:o,source:t})}getCommonValue(e,t){if(!e||0==e.length)return;const o=t(e[0]);for(let n=1;n<e.length;n++)if(o!==t(e[n]))return;return o}columnChanged(e,t,o){this.eventService.dispatchEvent({type:e,columns:t,column:t&&1==t.length?t[0]:null,source:o})}columnResized(e,t,o){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;e&&e.length&&this.eventService.dispatchEvent({type:"columnResized",columns:e,column:1===e.length?e[0]:null,flexColumns:n,finished:t,source:o})}},qE=class extends Rm{constructor(){super(...arguments),this.beanName="columnGetStateService"}wireBeans(e){this.columnModel=e.columnModel,this.funcColsService=e.funcColsService}getColumnState(){if(ff(this.columnModel.getColDefCols())||!this.columnModel.isAlive())return[];const e=this.columnModel.getAllCols().map((e=>this.createStateItemFromColumn(e)));return this.orderColumnStateList(e),e}createStateItemFromColumn(e){const t=this.funcColsService.getRowGroupColumns(),o=this.funcColsService.getPivotColumns(),n=e.isRowGroupActive()?t.indexOf(e):null,i=e.isPivotActive()?o.indexOf(e):null,r=e.isValueActive()?e.getAggFunc():null,s=null!=e.getSort()?e.getSort():null,a=null!=e.getSortIndex()?e.getSortIndex():null,l=null!=e.getFlex()&&e.getFlex()>0?e.getFlex():null;return{colId:e.getColId(),width:e.getActualWidth(),hide:!e.isVisible(),pinned:e.getPinned(),sort:s,sortIndex:a,aggFunc:r,rowGroup:e.isRowGroupActive(),rowGroupIndex:n,pivot:e.isPivotActive(),pivotIndex:i,flex:l}}orderColumnStateList(e){const t=this.columnModel.getCols(),o=new Map(t.map(((e,t)=>[e.getColId(),t])));e.sort(((e,t)=>(o.has(e.colId)?o.get(e.colId):-1)-(o.has(t.colId)?o.get(t.colId):-1)))}},XE=class extends Rm{constructor(){super(...arguments),this.beanName="columnGroupStateService"}wireBeans(e){this.columnModel=e.columnModel,this.columnAnimationService=e.columnAnimationService,this.eventDispatcher=e.columnEventDispatcher,this.visibleColsService=e.visibleColsService}getColumnGroupState(){const e=[];return Jm(null,this.columnModel.getColTree(),(t=>{Pm(t)&&e.push({groupId:t.getGroupId(),open:t.isExpanded()})})),e}resetColumnGroupState(e){const t=this.columnModel.getColDefColTree();if(!t)return;const o=[];Jm(null,t,(e=>{if(Pm(e)){const t=e.getColGroupDef(),n={groupId:e.getGroupId(),open:t?t.openByDefault:void 0};o.push(n)}})),this.setColumnGroupState(o,e)}setColumnGroupState(e,t){if(!this.columnModel.getColTree())return;this.columnAnimationService.start();const o=[];e.forEach((e=>{const t=e.groupId,n=e.open,i=this.columnModel.getProvidedColGroup(t);i&&i.isExpanded()!==n&&(i.setExpanded(n),o.push(i))})),this.visibleColsService.refresh(t,!0),o.length&&this.eventDispatcher.groupOpened(o),this.columnAnimationService.finish()}},QE=class extends Rm{constructor(){super(...arguments),this.beanName="columnViewportService",this.colsWithinViewport=[],this.headerColsWithinViewport=[],this.colsWithinViewportHash="",this.rowsOfHeadersToRenderLeft={},this.rowsOfHeadersToRenderRight={},this.rowsOfHeadersToRenderCenter={}}wireBeans(e){this.visibleColsService=e.visibleColsService,this.columnModel=e.columnModel,this.eventDispatcher=e.columnEventDispatcher}postConstruct(){this.suppressColumnVirtualisation=this.gos.get("suppressColumnVirtualisation")}setScrollPosition(e,t){let o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const n=this.visibleColsService.isBodyWidthDirty();if(!(e===this.scrollWidth&&t===this.scrollPosition&&!n)){if(this.scrollWidth=e,this.scrollPosition=t,this.visibleColsService.setBodyWidthDirty(),this.gos.get("enableRtl")){const e=this.visibleColsService.getBodyContainerWidth();this.viewportLeft=e-this.scrollPosition-this.scrollWidth,this.viewportRight=e-this.scrollPosition}else this.viewportLeft=this.scrollPosition,this.viewportRight=this.scrollWidth+this.scrollPosition;this.columnModel.isReady()&&this.checkViewportColumns(o)}}getHeadersToRender(e,t){let o;switch(e){case"left":o=this.rowsOfHeadersToRenderLeft[t];break;case"right":o=this.rowsOfHeadersToRenderRight[t];break;default:o=this.rowsOfHeadersToRenderCenter[t]}return o||[]}extractViewportColumns(){const e=this.visibleColsService.getCenterCols();this.isColumnVirtualisationSuppressed()?(this.colsWithinViewport=e,this.headerColsWithinViewport=e):(this.colsWithinViewport=e.filter(this.isColumnInRowViewport.bind(this)),this.headerColsWithinViewport=e.filter(this.isColumnInHeaderViewport.bind(this)))}isColumnVirtualisationSuppressed(){return this.suppressColumnVirtualisation||0===this.viewportRight}clear(){this.rowsOfHeadersToRenderLeft={},this.rowsOfHeadersToRenderRight={},this.rowsOfHeadersToRenderCenter={},this.colsWithinViewportHash=""}isColumnInHeaderViewport(e){return!(!e.isAutoHeaderHeight()&&!this.isAnyParentAutoHeaderHeight(e))||this.isColumnInRowViewport(e)}isAnyParentAutoHeaderHeight(e){for(;e;){if(e.isAutoHeaderHeight())return!0;e=e.getParent()}return!1}isColumnInRowViewport(e){if(e.isAutoHeight())return!0;const t=e.getLeft()||0,o=t+e.getActualWidth(),n=this.viewportLeft-200,i=this.viewportRight+200;return!(t<n&&o<n)&&!(t>i&&o>i)}getViewportColumns(){const e=this.visibleColsService.getLeftCols(),t=this.visibleColsService.getRightCols();return this.colsWithinViewport.concat(e).concat(t)}getColsWithinViewport(e){if(!this.columnModel.isColSpanActive())return this.colsWithinViewport;const t=this.isColumnVirtualisationSuppressed()?void 0:this.isColumnInRowViewport.bind(this),o=this.visibleColsService.getColsCenter();return this.visibleColsService.getColsForRow(e,o,t,(e=>{const t=e.getLeft();return gf(t)&&t>this.viewportLeft}))}checkViewportColumns(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.extractViewport()&&this.eventDispatcher.virtualColumnsChanged(e)}calculateHeaderRows(){this.rowsOfHeadersToRenderLeft={},this.rowsOfHeadersToRenderRight={},this.rowsOfHeadersToRenderCenter={};const e={},t=this.visibleColsService.getLeftCols(),o=this.visibleColsService.getRightCols();this.headerColsWithinViewport.concat(t).concat(o).forEach((t=>e[t.getId()]=!0));const n=(t,o,i)=>{let r=!1;for(let s=0;s<t.length;s++){const a=t[s];let l=!1;if(Ym(a))l=!0===e[a.getId()];else{const e=a.getDisplayedChildren();e&&(l=n(e,o,i+1))}l&&(r=!0,o[i]||(o[i]=[]),o[i].push(a))}return r};n(this.visibleColsService.getTreeLeft(),this.rowsOfHeadersToRenderLeft,0),n(this.visibleColsService.getTreeRight(),this.rowsOfHeadersToRenderRight,0),n(this.visibleColsService.getTreeCenter(),this.rowsOfHeadersToRenderCenter,0)}extractViewport(){this.extractViewportColumns();const e=this.getViewportColumns().map((e=>`${e.getId()}-${e.getPinned()||"normal"}`)).join("#"),t=this.colsWithinViewportHash!==e;return t&&(this.colsWithinViewportHash=e,this.calculateHeaderRows()),t}},ZE=class extends Rm{constructor(){super(...arguments),this.beanName="agComponentUtils"}wireBeans(e){this.componentMetadataProvider=e.componentMetadataProvider}adaptFunction(e,t){const o=this.componentMetadataProvider.retrieve(e);return o&&o.functionAdapter?o.functionAdapter(t):null}adaptCellRendererFunction(e){return class{refresh(){return!1}getGui(){return this.eGui}init(t){const o=e(t),n=typeof o;this.eGui="string"!==n&&"number"!==n&&"boolean"!==n?null!=o?o:Ny("<span></span>"):Ny("<span>"+o+"</span>")}}}doesImplementIComponent(e){return!!e&&(e.prototype&&"getGui"in e.prototype)}},JE=class extends Rm{constructor(){super(...arguments),this.beanName="componentMetadataProvider"}wireBeans(e){this.agComponentUtils=e.agComponentUtils}postConstruct(){this.componentMetaData={dateComponent:{mandatoryMethodList:["getDate","setDate"],optionalMethodList:["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled","onParamsUpdated","refresh"]},detailCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},dragAndDropImageComponent:{mandatoryMethodList:["setIcon","setLabel"],optionalMethodList:[]},headerComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},headerGroupComponent:{mandatoryMethodList:[],optionalMethodList:[]},loadingCellRenderer:{mandatoryMethodList:[],optionalMethodList:[],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},loadingOverlayComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},noRowsOverlayComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},floatingFilterComponent:{mandatoryMethodList:["onParentModelChanged"],optionalMethodList:["afterGuiAttached","onParamsUpdated","refresh"]},cellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},cellEditor:{mandatoryMethodList:["getValue"],optionalMethodList:["isPopup","isCancelBeforeStart","isCancelAfterEnd","getPopupPosition","focusIn","focusOut","afterGuiAttached","refresh"]},innerRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},fullWidthCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},groupRowRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},filter:{mandatoryMethodList:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethodList:["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged","onAnyFilterChanged","refresh"]},statusPanel:{mandatoryMethodList:[],optionalMethodList:["refresh"]},toolPanel:{mandatoryMethodList:[],optionalMethodList:["refresh","getState"]},tooltipComponent:{mandatoryMethodList:[],optionalMethodList:[]},menuItem:{mandatoryMethodList:[],optionalMethodList:["setActive","select","setExpanded","configureDefaults"]}}}retrieve(e){return this.componentMetaData[e]}},eR=Object.fromEntries(["rowPositionUtils","cellPositionUtils","headerPositionUtils","paginationAutoPageSizeService","apiFunctionService","gridApi","userComponentRegistry","agComponentUtils","componentMetadataProvider","resizeObserverService","userComponentFactory","rowContainerHeightService","horizontalResizeService","localeService","validationService","pinnedRowModel","dragService","visibleColsService","eventService","gos","popupService","selectionService","columnFilterService","quickFilterService","filterManager","columnModel","headerNavigationService","pageBoundsService","paginationService","pageBoundsListener","rowRenderer","expressionService","columnFactory","alignedGridsService","navigationService","valueCache","valueService","loggerFactory","autoWidthCalculator","filterMenuFactory","dragAndDropService","focusService","mouseEventService","environment","cellNavigationService","stylingService","scrollVisibleService","sortController","columnHoverService","columnAnimationService","selectableService","autoColService","controlsColService","changeDetectionService","animationFrameService","undoRedoService","columnDefFactory","rowCssClassCalculator","rowNodeBlockLoader","rowNodeSorter","ctrlsService","pinnedWidthService","rowNodeEventThrottle","ctrlsFactory","dataTypeService","syncService","overlayService","stateService","expansionService","apiEventService","ariaAnnouncementService","menuService","columnApplyStateService","columnEventDispatcher","columnMoveService","columnAutosizeService","columnGetStateService","columnGroupStateService","columnSizeService","funcColsService","columnNameService","columnViewportService","pivotResultColsService","showRowGroupColsService"].map(((e,t)=>[e,t])));function tR(e,t){return((e.beanName?eR[e.beanName]:void 0)??Number.MAX_SAFE_INTEGER)-((t.beanName?eR[t.beanName]:void 0)??Number.MAX_SAFE_INTEGER)}function oR(e,t){return"gridDestroyService"===e?.beanName?-1:0}var nR=class extends Rm{constructor(){super(...arguments),this.beanName="ctrlsFactory",this.registry={}}register(e){this.registry[e.name]=e.classImp}getInstance(e){const t=this.registry[e];if(null!=t){for(var o=arguments.length,n=new Array(o>1?o-1:0),i=1;i<o;i++)n[i-1]=arguments[i];return new t(...n)}}},iR=class extends Rm{constructor(){super(...arguments),this.beanName="ctrlsService",this.params={gridCtrl:void 0,gridBodyCtrl:void 0,center:void 0,left:void 0,right:void 0,bottomCenter:void 0,bottomLeft:void 0,bottomRight:void 0,topCenter:void 0,topLeft:void 0,topRight:void 0,stickyTopCenter:void 0,stickyTopLeft:void 0,stickyTopRight:void 0,stickyBottomCenter:void 0,stickyBottomLeft:void 0,stickyBottomRight:void 0,fakeHScrollComp:void 0,fakeVScrollComp:void 0,gridHeaderCtrl:void 0,centerHeader:void 0,leftHeader:void 0,rightHeader:void 0},this.ready=!1,this.readyCallbacks=[],this.runReadyCallbacksAsync=!1}wireBeans(e){this.runReadyCallbacksAsync=e.frameworkOverrides.runWhenReadyAsync?.()??!1}postConstruct(){this.addEventListener("ready",(()=>{this.updateReady(),this.ready&&(this.readyCallbacks.forEach((e=>e(this.params))),this.readyCallbacks.length=0)}),this.runReadyCallbacksAsync)}updateReady(){this.ready=Object.values(this.params).every((e=>e?.isAlive()??!1))}whenReady(e,t){this.ready?t(this.params):this.readyCallbacks.push(t),e.addDestroyFunc((()=>{const e=this.readyCallbacks.indexOf(t);e>=0&&this.readyCallbacks.splice(e,1)}))}register(e,t){this.params[e]=t,this.updateReady(),this.ready&&this.dispatchLocalEvent({type:"ready"}),t.addDestroyFunc((()=>{this.updateReady()}))}get(e){return this.params[e]}getGridBodyCtrl(){return this.params.gridBodyCtrl}getHeaderRowContainerCtrls(){const{leftHeader:e,centerHeader:t,rightHeader:o}=this.params;return[e,o,t]}getHeaderRowContainerCtrl(e){const t=this.params;switch(e){case"left":return t.leftHeader;case"right":return t.rightHeader;default:return t.centerHeader}}},rR=class extends Rm{constructor(){super(...arguments),this.beanName="cellPositionUtils"}createId(e){const{rowIndex:t,rowPinned:o,column:n}=e;return this.createIdFromValues({rowIndex:t,column:n,rowPinned:o})}createIdFromValues(e){const{rowIndex:t,rowPinned:o,column:n}=e;return`${t}.${null==o?"null":o}.${n.getId()}`}equals(e,t){const o=e.column===t.column,n=e.rowPinned===t.rowPinned,i=e.rowIndex===t.rowIndex;return o&&n&&i}},sR=class extends Rm{constructor(){super(...arguments),this.beanName="rowNodeEventThrottle",this.events=[]}wireBeans(e){this.animationFrameService=e.animationFrameService,this.rowModel=e.rowModel}postConstruct(){Pf(this.gos)&&(this.clientSideRowModel=this.rowModel)}dispatchExpanded(e,t){if(null==this.clientSideRowModel)return void this.eventService.dispatchEvent(e);this.events.push(e);const o=()=>{this.clientSideRowModel&&this.clientSideRowModel.onRowGroupOpened(),this.events.forEach((e=>this.eventService.dispatchEvent(e))),this.events=[]};t?o():(null==this.dispatchExpandedDebounced&&(this.dispatchExpandedDebounced=this.animationFrameService.debounce(o)),this.dispatchExpandedDebounced())}},aR=class extends Rm{constructor(){super(...arguments),this.beanName="rowPositionUtils"}wireBeans(e){this.rowModel=e.rowModel,this.pinnedRowModel=e.pinnedRowModel,this.pageBoundsService=e.pageBoundsService}getFirstRow(){let e,t=0;return this.pinnedRowModel.getPinnedTopRowCount()?e="top":this.rowModel.getRowCount()?(e=null,t=this.pageBoundsService.getFirstRow()):this.pinnedRowModel.getPinnedBottomRowCount()&&(e="bottom"),void 0===e?null:{rowIndex:t,rowPinned:e}}getLastRow(){let e,t=null;const o=this.pinnedRowModel.getPinnedBottomRowCount(),n=this.pinnedRowModel.getPinnedTopRowCount();return o?(t="bottom",e=o-1):this.rowModel.getRowCount()?(t=null,e=this.pageBoundsService.getLastRow()):n&&(t="top",e=n-1),void 0===e?null:{rowIndex:e,rowPinned:t}}getRowNode(e){switch(e.rowPinned){case"top":return this.pinnedRowModel.getPinnedTopRow(e.rowIndex);case"bottom":return this.pinnedRowModel.getPinnedBottomRow(e.rowIndex);default:return this.rowModel.getRow(e.rowIndex)}}sameRow(e,t){return!e&&!t||!(e&&!t||!e&&t)&&(e.rowIndex===t.rowIndex&&e.rowPinned==t.rowPinned)}before(e,t){switch(e.rowPinned){case"top":if("top"!==t.rowPinned)return!0;break;case"bottom":if("bottom"!==t.rowPinned)return!1;break;default:if(gf(t.rowPinned))return"top"!==t.rowPinned}return e.rowIndex<t.rowIndex}},lR={cssName:"--ag-row-height",changeKey:"rowHeightChanged",defaultValue:42},cR={cssName:"--ag-header-height",changeKey:"headerHeightChanged",defaultValue:48},uR={cssName:"--ag-list-item-height",changeKey:"listItemHeightChanged",defaultValue:24},dR=class extends Rm{constructor(){super(...arguments),this.beanName="environment",this.sizeEls=new Map,this.lastKnownValues=new Map,this.ancestorThemeClasses=[],this.sizesMeasured=!1,this.gridTheme=null}wireBeans(e){this.resizeObserverService=e.resizeObserverService,this.eGridDiv=e.eGridDiv}postConstruct(){this.addManagedPropertyListener("theme",(()=>this.handleThemeGridOptionChange())),this.handleThemeGridOptionChange(),this.addDestroyFunc((()=>this.stopUsingTheme())),this.addManagedPropertyListener("rowHeight",(()=>this.refreshRowHeightVariable())),this.ancestorThemeClasses=this.readAncestorThemeClasses(),this.setUpThemeClassObservers(),this.getSizeEl(lR),this.getSizeEl(cR),this.getSizeEl(uR)}getDefaultRowHeight(){return this.getCSSVariablePixelValue(lR)}getDefaultHeaderHeight(){return this.getCSSVariablePixelValue(cR)}getDefaultColumnMinWidth(){return Math.min(36,this.getDefaultRowHeight())}getDefaultListItemHeight(){return this.getCSSVariablePixelValue(uR)}hasMeasuredSizes(){return this.sizesMeasured}getGridThemeClass(){return this.gridTheme?.getCssClass()||null}getThemeClasses(){return this.gridTheme?[this.gridTheme.getCssClass()]:this.ancestorThemeClasses}applyThemeClasses(e){const t=this.getThemeClasses();for(const o of Array.from(e.classList))o.startsWith("ag-theme-")&&!t.includes(o)&&e.classList.remove(o);e.classList.add(...t)}refreshRowHeightVariable(){const e=this.eGridDiv.style.getPropertyValue("--ag-line-height").trim(),t=this.gos.get("rowHeight");if(null==t||isNaN(t)||!isFinite(t))return null!==e&&this.eGridDiv.style.setProperty("--ag-line-height",null),-1;const o=`${t}px`;return e!=o?(this.eGridDiv.style.setProperty("--ag-line-height",o),t):""!=e?parseFloat(e):-1}getCSSVariablePixelValue(e){const t=this.lastKnownValues.get(e);if(null!=t)return t;const o=this.measureSizeEl(e);return"detached"===o||"no-styles"===o?e.defaultValue:(this.lastKnownValues.set(e,o),o)}measureSizeEl(e){const t=this.getSizeEl(e);if(null==t.offsetParent)return"detached";const o=t.offsetWidth;return o===pR?"no-styles":(this.sizesMeasured=!0,o)}getSizeEl(e){let t=this.sizeEls.get(e);if(t)return t;let o=this.eMeasurementContainer;o||(o=this.eMeasurementContainer=document.createElement("div"),o.className="ag-measurement-container",this.gos.get("theme")&&this.applyThemeClasses(o),this.eGridDiv.appendChild(o)),t=document.createElement("div"),t.style.width=`var(${e.cssName}, ${pR}px)`,o.appendChild(t),this.sizeEls.set(e,t);let n=this.measureSizeEl(e);"no-styles"===n&&nf(`no value for ${e.cssName}. This usually means that the grid has been initialised before styles have been loaded. The default value of ${e.defaultValue} will be used and updated when styles load.`);const i=this.resizeObserverService.observeResize(t,(()=>{const t=this.measureSizeEl(e);"detached"!==t&&"no-styles"!==t&&(this.lastKnownValues.set(e,t),t!==n&&(n=t,this.fireGridStylesChangedEvent(e.changeKey)))}));return this.addDestroyFunc((()=>i())),t}fireGridStylesChangedEvent(e){this.eventService.dispatchEvent({type:"gridStylesChanged",[e]:!0})}setUpThemeClassObservers(){const e=new MutationObserver((()=>{const e=this.readAncestorThemeClasses();hR(e,this.ancestorThemeClasses)||(this.ancestorThemeClasses=e,this.fireGridStylesChangedEvent("themeChanged"))}));let t=this.eGridDiv;for(;t;)e.observe(t||this.eGridDiv,{attributes:!0,attributeFilter:["class"]}),t=t.parentElement;this.addDestroyFunc((()=>e.disconnect()))}readAncestorThemeClasses(){let e=this.eGridDiv;const t=[];for(;e;){const o=Array.from(e.classList).filter((e=>e.startsWith("ag-theme-")));for(const e of o)t.includes(e)||t.unshift(e);e=e.parentElement}return Object.freeze(t)}handleThemeGridOptionChange(){const{gos:e,eMeasurementContainer:t,gridTheme:o}=this,n=e.get("theme")||null;n!==o&&(o?.stopUse(),this.gridTheme=n,n?.startUse({loadThemeGoogleFonts:e.get("loadThemeGoogleFonts"),container:this.eGridDiv}),t&&this.applyThemeClasses(t),this.fireGridStylesChangedEvent("themeChanged"))}stopUsingTheme(){this.gridTheme?.stopUse(),this.gridTheme=null}},hR=(e,t)=>e.length===t.length&&-1===e.findIndex(((o,n)=>e[n]!==t[n])),pR=15538,gR=class extends Rm{constructor(){super(...arguments),this.beanName="eventService",this.globalEventService=new Zg}wireBeans(e){this.globalEventListener=e.globalEventListener,this.globalSyncEventListener=e.globalSyncEventListener}postConstruct(){if(this.globalEventListener){const e=Df(this.gos);this.addGlobalListener(this.globalEventListener,e)}this.globalSyncEventListener&&this.addGlobalListener(this.globalSyncEventListener,!1)}addEventListener(e,t,o){this.globalEventService.addEventListener(e,t,o)}removeEventListener(e,t,o){this.globalEventService.removeEventListener(e,t,o)}addGlobalListener(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.globalEventService.addGlobalListener(e,t)}removeGlobalListener(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.globalEventService.removeGlobalListener(e,t)}dispatchLocalEvent(){}dispatchEvent(e){this.globalEventService.dispatchEvent(this.gos.addGridCommonParams(e))}dispatchEventOnce(e){this.globalEventService.dispatchEventOnce(this.gos.addGridCommonParams(e))}},fR=class e extends Rm{constructor(){super(...arguments),this.beanName="focusService"}wireBeans(e){this.eGridDiv=e.eGridDiv,this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.headerNavigationService=e.headerNavigationService,this.headerPositionUtils=e.headerPositionUtils,this.rowRenderer=e.rowRenderer,this.rowPositionUtils=e.rowPositionUtils,this.cellPositionUtils=e.cellPositionUtils,this.navigationService=e.navigationService,this.ctrlsService=e.ctrlsService,this.filterManager=e.filterManager,this.rangeService=e.rangeService,this.advancedFilterService=e.advancedFilterService,this.overlayService=e.overlayService}static addKeyboardModeEvents(t){this.instanceCount>0||(t.addEventListener("keydown",e.toggleKeyboardMode),t.addEventListener("mousedown",e.toggleKeyboardMode))}static removeKeyboardModeEvents(t){this.instanceCount>0||(t.removeEventListener("keydown",e.toggleKeyboardMode),t.removeEventListener("mousedown",e.toggleKeyboardMode))}static toggleKeyboardMode(t){const o=e.keyboardModeActive,n="keydown"===t.type;n&&(t.ctrlKey||t.metaKey||t.altKey)||o!==n&&(e.keyboardModeActive=n)}postConstruct(){const e=this.clearFocusedCell.bind(this);this.addManagedEventListeners({columnPivotModeChanged:e,newColumnsLoaded:this.onColumnEverythingChanged.bind(this),columnGroupOpened:e,columnRowGroupChanged:e}),this.registerKeyboardFocusEvents(),this.ctrlsService.whenReady(this,(e=>{this.gridCtrl=e.gridCtrl}))}registerKeyboardFocusEvents(){const t=Nf(this.gos);e.addKeyboardModeEvents(t),e.instanceCount++,this.addDestroyFunc((()=>{e.instanceCount--,e.removeKeyboardModeEvents(t)}))}onColumnEverythingChanged(){if(!this.focusedCellPosition)return;const e=this.focusedCellPosition.column,t=this.columnModel.getCol(e.getId());e!==t&&this.clearFocusedCell()}isKeyboardMode(){return e.keyboardModeActive}getFocusCellToUseAfterRefresh(){return this.gos.get("suppressFocusAfterRefresh")||!this.focusedCellPosition||this.isDomDataMissingInHierarchy(Vf(this.gos),CS.DOM_DATA_KEY_ROW_CTRL)?null:this.focusedCellPosition}getFocusHeaderToUseAfterRefresh(){return this.gos.get("suppressFocusAfterRefresh")||!this.focusedHeaderPosition||this.isDomDataMissingInHierarchy(Vf(this.gos),ub.DOM_DATA_KEY_HEADER_CTRL)?null:this.focusedHeaderPosition}isDomDataMissingInHierarchy(e,t){let o=e;for(;o;){if(If(this.gos,o,t))return!1;o=o.parentNode}return!0}getFocusedCell(){return this.focusedCellPosition}shouldRestoreFocus(e){return!!this.isCellRestoreFocused(e)&&(setTimeout((()=>{this.restoredFocusedCellPosition=null}),0),!0)}clearRestoreFocus(){this.restoredFocusedCellPosition=null,this.awaitRestoreFocusedCell=!1}restoreFocusedCell(e,t){this.awaitRestoreFocusedCell=!0,setTimeout((()=>{this.awaitRestoreFocusedCell&&(this.setRestoreFocusedCell(e),t())}))}isCellRestoreFocused(e){return null!=this.restoredFocusedCellPosition&&this.cellPositionUtils.equals(e,this.restoredFocusedCellPosition)}setRestoreFocusedCell(e){"react"===this.getFrameworkOverrides().renderingEngine&&(this.restoredFocusedCellPosition=e)}getFocusEventParams(e){const{rowIndex:t,rowPinned:o,column:n}=e,i={rowIndex:t,rowPinned:o,column:n,isFullWidthCell:!1},r=this.rowRenderer.getRowByPosition({rowIndex:t,rowPinned:o});return r&&(i.isFullWidthCell=r.isFullWidth()),i}clearFocusedCell(){if(this.restoredFocusedCellPosition=null,null==this.focusedCellPosition)return;const e=this.getFocusEventParams(this.focusedCellPosition);this.focusedCellPosition=null,this.eventService.dispatchEvent({type:"cellFocusCleared",...e})}setFocusedCell(e){const{column:t,rowIndex:o,rowPinned:n,forceBrowserFocus:i=!1,preventScrollOnBrowserFocus:r=!1}=e,s=this.columnModel.getCol(t);s?(this.focusedCellPosition={rowIndex:o,rowPinned:pf(n),column:s},this.eventService.dispatchEvent({type:"cellFocused",...this.getFocusEventParams(this.focusedCellPosition),forceBrowserFocus:i,preventScrollOnBrowserFocus:r})):this.focusedCellPosition=null}isCellFocused(e){return null!=this.focusedCellPosition&&this.cellPositionUtils.equals(e,this.focusedCellPosition)}isRowNodeFocused(e){return this.isRowFocused(e.rowIndex,e.rowPinned)}isHeaderWrapperFocused(e){if(null==this.focusedHeaderPosition)return!1;const t=e.getColumnGroupChild(),o=e.getRowIndex(),n=e.getPinned(),{column:i,headerRowIndex:r}=this.focusedHeaderPosition;return t===i&&o===r&&n==i.getPinned()}clearFocusedHeader(){this.focusedHeaderPosition=null}getFocusedHeader(){return this.focusedHeaderPosition}setFocusedHeader(e,t){this.focusedHeaderPosition={headerRowIndex:e,column:t}}isHeaderFocusSuppressed(){return this.gos.get("suppressHeaderFocus")||this.overlayService.isExclusive()}isCellFocusSuppressed(){return this.gos.get("suppressCellFocus")||this.overlayService.isExclusive()}focusHeaderPosition(e){if(this.isHeaderFocusSuppressed())return!1;const{direction:t,fromTab:o,allowUserOverride:n,event:i,fromCell:r,rowWithoutSpanValue:s}=e;let{headerPosition:a}=e;if(r&&this.filterManager?.isAdvancedFilterHeaderActive())return this.focusAdvancedFilter(a);if(n){const e=this.getFocusedHeader(),n=this.headerNavigationService.getHeaderRowCount();if(o){const o=this.gos.getCallback("tabToNextHeader");o&&(a=this.getHeaderPositionFromUserFunc({userFunc:o,direction:t,currentPosition:e,headerPosition:a,headerRowCount:n}))}else{const t=this.gos.getCallback("navigateToNextHeader");if(t&&i){a=t({key:i.key,previousHeaderPosition:e,nextHeaderPosition:a,headerRowCount:n,event:i})}}}return!!a&&this.focusProvidedHeaderPosition({headerPosition:a,direction:t,event:i,fromCell:r,rowWithoutSpanValue:s})}focusHeaderPositionFromUserFunc(e){if(this.isHeaderFocusSuppressed())return!1;const{userFunc:t,headerPosition:o,direction:n,event:i}=e,r=this.getFocusedHeader(),s=this.headerNavigationService.getHeaderRowCount(),a=this.getHeaderPositionFromUserFunc({userFunc:t,direction:n,currentPosition:r,headerPosition:o,headerRowCount:s});return!!a&&this.focusProvidedHeaderPosition({headerPosition:a,direction:n,event:i})}getHeaderPositionFromUserFunc(e){const{userFunc:t,direction:o,currentPosition:n,headerPosition:i,headerRowCount:r}=e,s=t({backwards:"Before"===o,previousHeaderPosition:n,nextHeaderPosition:i,headerRowCount:r});return!0===s||null===s?(null===s&&nf("Since v31.3 Returning `null` from tabToNextHeader is deprecated. Return `true` to stay on the current header, or `false` to let the browser handle the tab behaviour."),n):!1===s?null:s}focusProvidedHeaderPosition(e){const{headerPosition:t,direction:o,fromCell:n,rowWithoutSpanValue:i,event:r}=e,{column:s,headerRowIndex:a}=t;if(-1===a)return this.filterManager?.isAdvancedFilterHeaderActive()?this.focusAdvancedFilter(t):this.focusGridView(s);this.headerNavigationService.scrollToColumn(s,o);const l=this.ctrlsService.getHeaderRowContainerCtrl(s.getPinned()),c=l?.focusHeader(t.headerRowIndex,s,r)||!1;return c&&(null!=i||n)&&this.headerNavigationService.setCurrentHeaderRowWithoutSpan(i??-1),c}focusFirstHeader(){if(this.overlayService.isExclusive()&&this.focusOverlay())return!0;let e=this.visibleColsService.getAllCols()[0];if(!e)return!1;e.getParent()&&(e=this.visibleColsService.getColGroupAtLevel(e,0));const t=this.headerPositionUtils.getHeaderIndexToFocus(e,0);return this.focusHeaderPosition({headerPosition:t,rowWithoutSpanValue:0})}focusLastHeader(e){if(this.overlayService.isExclusive()&&this.focusOverlay(!0))return!0;const t=this.headerNavigationService.getHeaderRowCount()-1,o=lm(this.visibleColsService.getAllCols());return this.focusHeaderPosition({headerPosition:{headerRowIndex:t,column:o},rowWithoutSpanValue:-1,event:e})}focusPreviousFromFirstCell(e){return this.filterManager?.isAdvancedFilterHeaderActive()?this.focusAdvancedFilter(null):this.focusLastHeader(e)}isAnyCellFocused(){return!!this.focusedCellPosition}isRowFocused(e,t){return null!=this.focusedCellPosition&&(this.focusedCellPosition.rowIndex===e&&this.focusedCellPosition.rowPinned===pf(t))}findFocusableElements(e,t){let o=yy;t&&(o+=", "+t),arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&(o+=', [tabindex="-1"]');const n=Array.prototype.slice.apply(e.querySelectorAll("[tabindex], input, select, button, textarea, [href]")).filter((e=>Ly(e))),i=Array.prototype.slice.apply(e.querySelectorAll(o));if(!i.length)return n;return((e,t)=>e.filter((e=>-1===t.indexOf(e))))(n,i)}focusInto(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const n=this.findFocusableElements(e,null,o),i=t?lm(n):n[0];return!!i&&(i.focus({preventScroll:!0}),!0)}findFocusableElementBeforeTabGuard(e,t){if(!t)return null;const o=this.findFocusableElements(e),n=o.indexOf(t);if(-1===n)return null;let i=-1;for(let r=n-1;r>=0;r--)if(o[r].classList.contains("ag-tab-guard-top")){i=r;break}return i<=0?null:o[i-1]}findNextFocusableElement(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.eGridDiv,t=arguments.length>1?arguments[1]:void 0,o=arguments.length>2?arguments[2]:void 0;const n=this.findFocusableElements(e,t?':not([tabindex="-1"])':null),i=Vf(this.gos);let r;r=t?n.findIndex((e=>e.contains(i))):n.indexOf(i);const s=r+(o?-1:1);return s<0||s>=n.length?null:n[s]}isTargetUnderManagedComponent(e,t){if(!t)return!1;const o=e.querySelectorAll(`.${ww.FOCUS_MANAGED_CLASS}`);if(!o.length)return!1;for(let n=0;n<o.length;n++)if(o[n].contains(t))return!0;return!1}findTabbableParent(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,o=0;for(;e&&null===fy(e)&&++o<=t;)e=e.parentElement;return null===fy(e)?null:e}focusOverlay(e){const t=this.overlayService.isVisible()&&this.overlayService.getOverlayWrapper()?.getGui();return!!t&&this.focusInto(t,e)}focusGridViewFailed(e,t){return t&&this.focusOverlay(e)||e&&this.focusLastHeader()}focusGridView(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(this.overlayService.isExclusive())return o&&this.focusOverlay(t);if(this.isCellFocusSuppressed())return t&&!this.isHeaderFocusSuppressed()?this.focusLastHeader():!(!o||!this.focusOverlay(t))||this.focusNextGridCoreContainer(!1);const n=t?this.rowPositionUtils.getLastRow():this.rowPositionUtils.getFirstRow();if(n){const{rowIndex:o,rowPinned:i}=n;if(e??(e=this.getFocusedHeader()?.column),e&&void 0!==o&&null!==o){if(this.navigationService.ensureCellVisible({rowIndex:o,column:e,rowPinned:i}),t){const e=this.rowRenderer.getRowByPosition(n);if(e?.isFullWidth()&&this.navigationService.tryToFocusFullWidthRow(n,t))return!0}return this.setFocusedCell({rowIndex:o,column:e,rowPinned:pf(i),forceBrowserFocus:!0}),this.rangeService?.setRangeToCell({rowIndex:o,rowPinned:i,column:e}),!0}}return!(!o||!this.focusOverlay(t))||!(!t||!this.focusLastHeader())}isGridFocused(){const e=Vf(this.gos);return!!e&&this.eGridDiv.contains(e)}focusNextGridCoreContainer(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!(t||!this.gridCtrl.focusNextInnerContainer(e))||((t||!e&&!this.gridCtrl.isDetailGrid())&&this.gridCtrl.forceFocusOutOfContainer(e),!1)}focusAdvancedFilter(e){return this.advancedFilterFocusColumn=e?.column,this.advancedFilterService?.getCtrl().focusHeaderComp()??!1}focusNextFromAdvancedFilter(e,t){const o=(t?void 0:this.advancedFilterFocusColumn)??this.visibleColsService.getAllCols()?.[0];return e?this.focusHeaderPosition({headerPosition:{column:o,headerRowIndex:this.headerNavigationService.getHeaderRowCount()-1}}):this.focusGridView(o)}clearAdvancedFilterColumn(){this.advancedFilterFocusColumn=void 0}addFocusableContainer(e){this.gridCtrl.addFocusableContainer(e)}removeFocusableContainer(e){this.gridCtrl.removeFocusableContainer(e)}focusGridInnerElement(e){return this.gridCtrl.focusInnerElement(e)}allowFocusForNextGridCoreContainer(e){this.gridCtrl.allowFocusForNextCoreContainer(e)}};fR.keyboardModeActive=!1,fR.instanceCount=0;var mR=fR,vR=class extends Rm{constructor(){super(...arguments),this.beanName="pinnedWidthService"}wireBeans(e){this.visibleColsService=e.visibleColsService}postConstruct(){const e=this.checkContainerWidths.bind(this);this.addManagedEventListeners({displayedColumnsChanged:e,displayedColumnsWidthChanged:e}),this.addManagedPropertyListener("domLayout",e)}checkContainerWidths(){const e=xf(this.gos,"print"),t=e?0:this.visibleColsService.getColsLeftWidth(),o=e?0:this.visibleColsService.getDisplayedColumnsRightWidth();t!=this.leftWidth&&(this.leftWidth=t,this.eventService.dispatchEvent({type:"leftPinnedWidthChanged"})),o!=this.rightWidth&&(this.rightWidth=o,this.eventService.dispatchEvent({type:"rightPinnedWidthChanged"}))}getPinnedRightWidth(){return this.rightWidth}getPinnedLeftWidth(){return this.leftWidth}},yR=class extends Rm{constructor(){super(...arguments),this.additionalFocusableContainers=new Set}wireBeans(e){this.beans=e,this.focusService=e.focusService,this.visibleColsService=e.visibleColsService}setComp(e,t,o){this.view=e,this.eGridHostDiv=t,this.eGui=o,this.eGui.setAttribute("grid-id",this.beans.context.getGridId());const{dragAndDropService:n,mouseEventService:i,ctrlsService:r,resizeObserverService:s}=this.beans,a={getContainer:()=>this.eGui,isInterestedIn:e=>1===e||0===e,getIconName:()=>"notAllowed"};n.addDropTarget(a),this.addDestroyFunc((()=>n.removeDropTarget(a))),i.stampTopLevelGridCompWithGridInstance(t),this.createManagedBean(new Xb(this.view)),this.view.setRtlClass(this.gos.get("enableRtl")?"ag-rtl":"ag-ltr"),this.updateGridThemeClass(),this.addManagedEventListeners({gridStylesChanged:this.handleThemeChange.bind(this)});const l=s.observeResize(this.eGridHostDiv,this.onGridSizeChanged.bind(this));this.addDestroyFunc((()=>l())),r.register("gridCtrl",this)}isDetailGrid(){const e=this.focusService.findTabbableParent(this.getGui());return e?.getAttribute("row-id")?.startsWith("detail")||!1}getOptionalSelectors(){const e=this.beans;return{paginationSelector:e.paginationService?.getPaginationSelector(),gridHeaderDropZonesSelector:e.columnDropZonesService?.getDropZoneSelector(),sideBarSelector:e.sideBarService?.getSideBarSelector(),statusBarSelector:e.statusBarService?.getStatusPanelSelector(),watermarkSelector:e.licenseManager?.getWatermarkSelector()}}onGridSizeChanged(){this.eventService.dispatchEvent({type:"gridSizeChanged",clientWidth:this.eGridHostDiv.clientWidth,clientHeight:this.eGridHostDiv.clientHeight})}destroyGridUi(){this.view.destroyGridUi()}getGui(){return this.eGui}setResizeCursor(e){this.view.setCursor(e?"ew-resize":null)}disableUserSelect(e){this.view.setUserSelect(e?"none":null)}focusNextInnerContainer(e){const t=this.getFocusableContainers(),{indexWithFocus:o,nextIndex:n}=this.getNextFocusableIndex(t,e);if(n<0||n>=t.length)return!1;if(0===n){if(o>0){const e=lm(this.visibleColsService.getAllCols());if(this.focusService.focusGridView(e,!0))return!0}return!1}return this.focusContainer(t[n],e)}focusInnerElement(e){const t=this.gos.getCallback("focusGridInnerElement");if(t&&t({fromBottom:!!e}))return!0;const o=this.getFocusableContainers(),n=this.visibleColsService.getAllCols();if(e){if(o.length>1)return this.focusContainer(lm(o),!0);const e=lm(n);if(this.focusService.focusGridView(e,!0))return!0}if(0===this.gos.get("headerHeight")||this.focusService.isHeaderFocusSuppressed()){if(this.focusService.focusGridView(n[0]))return!0;for(let e=1;e<o.length;e++)if(this.focusService.focusInto(o[e].getGui()))return!0;return!1}return this.focusService.focusFirstHeader()}forceFocusOutOfContainer(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.view.forceFocusOutOfContainer(e)}addFocusableContainer(e){this.additionalFocusableContainers.add(e)}removeFocusableContainer(e){this.additionalFocusableContainers.delete(e)}allowFocusForNextCoreContainer(e){const t=this.view.getFocusableContainers(),{nextIndex:o,indexWithFocus:n}=this.getNextFocusableIndex(t,e);if(-1===n||o<0||o>=t.length)return;const i=t[o];i.setAllowFocus?.(!0),setTimeout((()=>{i.setAllowFocus?.(!1)}))}getNextFocusableIndex(e,t){const o=Vf(this.gos),n=e.findIndex((e=>e.getGui().contains(o)));return{indexWithFocus:n,nextIndex:n+(t?-1:1)}}focusContainer(e,t){e.setAllowFocus?.(!0);const o=this.focusService.focusInto(e.getGui(),t);return e.setAllowFocus?.(!1),o}getFocusableContainers(){return[...this.view.getFocusableContainers(),...this.additionalFocusableContainers]}updateGridThemeClass(){const e=this.beans.environment.getGridThemeClass();e&&this.view.setGridThemeClass(e)}handleThemeChange(e){e.themeChanged&&this.updateGridThemeClass()}destroy(){this.additionalFocusableContainers.clear(),super.destroy()}},CR={version:hb,moduleName:"@ag-grid-community/aligned-grid",beans:[class extends Rm{constructor(){super(...arguments),this.beanName="alignedGridsService",this.consuming=!1}wireBeans(e){this.columnModel=e.columnModel,this.columnSizeService=e.columnSizeService,this.ctrlsService=e.ctrlsService,this.columnApplyStateService=e.columnApplyStateService}getAlignedGridApis(){let e=this.gos.get("alignedGrids")??[];const t="function"===typeof e;"function"===typeof e&&(e=e());const o=()=>`See ${this.getFrameworkOverrides().getDocLink("aligned-grids")}`,n=e.map((e=>{if(!e)return rf("alignedGrids contains an undefined option."),t||rf('You may want to configure via a callback to avoid setup race conditions:\n                     "alignedGrids: () => [linkedGrid]"'),void rf(o());if(this.isGridApi(e))return e;const n=e;return"current"in n?n.current?.api:(n.api||rf(`alignedGrids - No api found on the linked grid. If you are passing gridOptions to alignedGrids since v31 this is no longer valid. ${o()}`),n.api)})).filter((e=>!!e&&!e.isDestroyed()));return n}isGridApi(e){return!!e&&!!e.dispatchEvent}postConstruct(){const e=this.fireColumnEvent.bind(this);this.addManagedEventListeners({columnMoved:e,columnVisible:e,columnPinned:e,columnGroupOpened:e,columnResized:e,bodyScroll:this.fireScrollEvent.bind(this),alignedGridColumn:e=>{let{event:t}=e;return this.onColumnEvent(t)},alignedGridScroll:e=>{let{event:t}=e;return this.onScrollEvent(t)}})}fireEvent(e){this.consuming||this.getAlignedGridApis().forEach((t=>{t.isDestroyed()||t.dispatchEvent(e)}))}onEvent(e){this.consuming=!0,e(),this.consuming=!1}fireColumnEvent(e){this.fireEvent({type:"alignedGridColumn",event:e})}fireScrollEvent(e){"horizontal"===e.direction&&this.fireEvent({type:"alignedGridScroll",event:e})}onScrollEvent(e){this.onEvent((()=>{this.ctrlsService.getGridBodyCtrl().getScrollFeature().setHorizontalScrollPosition(e.left,!0)}))}extractDataFromEvent(e,t){const o=[];return e.columns?e.columns.forEach((e=>{o.push(t(e))})):e.column&&o.push(t(e.column)),o}getMasterColumns(e){return this.extractDataFromEvent(e,(e=>e))}getColumnIds(e){return this.extractDataFromEvent(e,(e=>e.getColId()))}onColumnEvent(e){this.onEvent((()=>{switch(e.type){case"columnMoved":case"columnVisible":case"columnPinned":case"columnResized":this.processColumnEvent(e);break;case"columnGroupOpened":this.processGroupOpenedEvent(e);break;case"columnPivotChanged":nf("pivoting is not supported with aligned grids. You can only use one of these features at a time in a grid.")}}))}processGroupOpenedEvent(e){const{columnModel:t}=this;e.columnGroups.forEach((e=>{let o=null;e&&(o=t.getProvidedColGroup(e.getGroupId())),e&&!o||t.setColumnGroupOpened(o,e.isExpanded(),"alignedGridChanged")}))}processColumnEvent(e){const t=e.column;let o=null;if(t&&(o=this.columnModel.getColDefCol(t.getColId())),t&&!o)return;const n=this.getMasterColumns(e),{columnApplyStateService:i,columnSizeService:r,ctrlsService:s}=this;switch(e.type){case"columnMoved":{const t=e.api.getColumnState().map((e=>({colId:e.colId})));i.applyColumnState({state:t,applyOrder:!0},"alignedGridChanged")}break;case"columnVisible":{const t=e.api.getColumnState().map((e=>({colId:e.colId,hide:e.hide})));i.applyColumnState({state:t},"alignedGridChanged")}break;case"columnPinned":{const t=e.api.getColumnState().map((e=>({colId:e.colId,pinned:e.pinned})));i.applyColumnState({state:t},"alignedGridChanged")}break;case"columnResized":{const t=e,o={};n.forEach((e=>{o[e.getId()]={key:e.getColId(),newWidth:e.getActualWidth()}})),t.flexColumns?.forEach((e=>{o[e.getId()]&&delete o[e.getId()]})),r.setColumnWidths(Object.values(o),!1,t.finished,"alignedGridChanged");break}}const a=s.getGridBodyCtrl().isVerticalScrollShowing();this.getAlignedGridApis().forEach((e=>{e.setGridOption("alwaysShowVerticalScroll",a)}))}}]};var wR={version:hb,moduleName:"@ag-grid-community/data-type",beans:[class extends Rm{constructor(){super(...arguments),this.beanName="dataTypeService",this.dataTypeDefinitions={},this.isWaitingForRowData=!1,this.isColumnTypeOverrideInDataTypeDefinitions=!1,this.columnStateUpdatesPendingInference={},this.columnStateUpdateListenerDestroyFuncs=[]}wireBeans(e){this.rowModel=e.rowModel,this.columnModel=e.columnModel,this.funcColsService=e.funcColsService,this.valueService=e.valueService,this.columnApplyStateService=e.columnApplyStateService,this.filterManager=e.filterManager}postConstruct(){this.groupHideOpenParents=this.gos.get("groupHideOpenParents"),this.addManagedPropertyListener("groupHideOpenParents",(()=>{this.groupHideOpenParents=this.gos.get("groupHideOpenParents")})),this.processDataTypeDefinitions(),this.addManagedPropertyListener("dataTypeDefinitions",(e=>{this.processDataTypeDefinitions(),this.columnModel.recreateColumnDefs(tv(e.source))}))}processDataTypeDefinitions(){const e=this.getDefaultDataTypes();this.dataTypeDefinitions={},this.formatValueFuncs={};const t=e=>t=>{const{column:o,node:n,value:i}=t;let r=o.getColDef().valueFormatter;return r===e.groupSafeValueFormatter&&(r=e.valueFormatter),this.valueService.formatValue(o,n,i,r)};Object.entries(e).forEach((e=>{let[o,n]=e;const i={...n,groupSafeValueFormatter:this.createGroupSafeValueFormatter(n)};this.dataTypeDefinitions[o]=i,this.formatValueFuncs[o]=t(i)}));const o=this.gos.get("dataTypeDefinitions")??{};this.dataTypeMatchers={},Object.entries(o).forEach((n=>{let[i,r]=n;const s=this.processDataTypeDefinition(r,o,[i],e);s&&(this.dataTypeDefinitions[i]=s,r.dataTypeMatcher&&(this.dataTypeMatchers[i]=r.dataTypeMatcher),this.formatValueFuncs[i]=t(s))})),this.checkObjectValueHandlers(e),["dateString","text","number","boolean","date"].forEach((t=>{const o=this.dataTypeMatchers[t];o&&delete this.dataTypeMatchers[t],this.dataTypeMatchers[t]=o??e[t].dataTypeMatcher}))}mergeDataTypeDefinitions(e,t){const o={...e,...t};return e.columnTypes&&t.columnTypes&&t.appendColumnTypes&&(o.columnTypes=[...Lm(e.columnTypes),...Lm(t.columnTypes)]),o}processDataTypeDefinition(e,t,o,n){let i;const r=e.extendsDataType;if(e.columnTypes&&(this.isColumnTypeOverrideInDataTypeDefinitions=!0),e.extendsDataType===e.baseDataType){let o=n[r];const s=t[r];if(o&&s&&(o=s),!this.validateDataTypeDefinition(e,o,r))return;i=this.mergeDataTypeDefinitions(o,e)}else{if(o.includes(r))return void nf('Data type definition hierarchies (via the "extendsDataType" property) cannot contain circular references.');const s=t[r];if(!this.validateDataTypeDefinition(e,s,r))return;const a=this.processDataTypeDefinition(s,t,[...o,r],n);if(!a)return;i=this.mergeDataTypeDefinitions(a,e)}return{...i,groupSafeValueFormatter:this.createGroupSafeValueFormatter(i)}}validateDataTypeDefinition(e,t,o){return t?t.baseDataType===e.baseDataType||(nf('The "baseDataType" property of a data type definition must match that of its parent.'),!1):(nf(`The data type definition ${o} does not exist.`),!1)}createGroupSafeValueFormatter(e){if(e.valueFormatter)return t=>{if(t.node?.group){const o=(t.colDef.pivotValueColumn??t.column).getAggFunc();if(o){if("first"===o||"last"===o)return e.valueFormatter(t);if("number"===e.baseDataType&&"count"!==o){if("number"===typeof t.value)return e.valueFormatter(t);if("object"===typeof t.value){if(!t.value)return;if("toNumber"in t.value)return e.valueFormatter({...t,value:t.value.toNumber()});if("value"in t.value)return e.valueFormatter({...t,value:t.value.value})}}return}if((this.gos.get("suppressGroupMaintainValueType")||"groupRows"===this.gos.get("groupDisplayType"))&&!this.gos.get("treeData"))return}else if(this.groupHideOpenParents&&t.column.isRowGroupActive()&&"string"===typeof t.value&&!e.dataTypeMatcher?.(t.value))return;return e.valueFormatter(t)}}updateColDefAndGetColumnType(e,t,o){let{cellDataType:n}=t;const{field:i}=t;if(void 0===n&&(n=e.cellDataType),null!=n&&!0!==n||(n=!!this.canInferCellDataType(e,t)&&this.inferCellDataType(i,o)),!n)return void(e.cellDataType=!1);const r=this.dataTypeDefinitions[n];if(r)return e.cellDataType=n,r.groupSafeValueFormatter&&(e.valueFormatter=r.groupSafeValueFormatter),r.valueParser&&(e.valueParser=r.valueParser),r.suppressDefaultProperties||this.setColDefPropertiesForBaseDataType(e,n,r,o),r.columnTypes;nf(`Missing data type definition - "${n}"`)}addColumnListeners(e){if(!this.isWaitingForRowData)return;const t=this.columnStateUpdatesPendingInference[e.getColId()];if(!t)return;const o=e=>{t.add(e.key)};e.addEventListener("columnStateUpdated",o),this.columnStateUpdateListenerDestroyFuncs.push((()=>e.removeEventListener("columnStateUpdated",o)))}canInferCellDataType(e,t){if(!Pf(this.gos))return!1;const o={cellRenderer:!0,valueGetter:!0,valueParser:!0,refData:!0};if(this.doColDefPropsPreventInference(t,o))return!1;const n=null===t.type?e.type:t.type;if(n){const e=this.gos.get("columnTypes")??{};if(Lm(n).some((t=>{const n=e[t.trim()];return n&&this.doColDefPropsPreventInference(n,o)})))return!1}return!this.doColDefPropsPreventInference(e,o)}doColDefPropsPreventInference(e,t){return[["cellRenderer","agSparklineCellRenderer"],["valueGetter",void 0],["valueParser",void 0],["refData",void 0]].some((o=>{let[n,i]=o;return this.doesColDefPropPreventInference(e,t,n,i)}))}doesColDefPropPreventInference(e,t,o,n){if(!t[o])return!1;const i=e[o];return null===i?(t[o]=!1,!1):void 0===n?!!i:i===n}inferCellDataType(e,t){if(!e)return;let o;const n=this.getInitialData();if(n){const t=e.indexOf(".")>=0&&!this.gos.get("suppressFieldDotNotation");o=jm(n,e,t)}else this.initWaitForRowData(t);if(null==o)return;const[i]=Object.entries(this.dataTypeMatchers).find((e=>{let[t,n]=e;return n(o)}))??["object"];return i}getInitialData(){const e=this.gos.get("rowData");if(e?.length)return e[0];if(this.initialData)return this.initialData;{const e=this.rowModel.getRootNode().allLeafChildren;if(e?.length)return e[0].data}return null}initWaitForRowData(e){if(this.columnStateUpdatesPendingInference[e]=new Set,this.isWaitingForRowData)return;this.isWaitingForRowData=!0;const t=this.isColumnTypeOverrideInDataTypeDefinitions;t&&this.columnModel.queueResizeOperations();const[o]=this.addManagedEventListeners({rowDataUpdateStarted:e=>{const{firstRowData:n}=e;n&&(o?.(),this.isWaitingForRowData=!1,this.processColumnsPendingInference(n,t),this.columnStateUpdatesPendingInference={},t&&this.columnModel.processResizeOperations(),this.eventService.dispatchEvent({type:"dataTypesInferred"}))}})}isPendingInference(){return this.isWaitingForRowData}processColumnsPendingInference(e,t){this.initialData=e;const o=[];this.destroyColumnStateUpdateListeners();const n={},i={};Object.entries(this.columnStateUpdatesPendingInference).forEach((e=>{let[r,s]=e;const a=this.columnModel.getCol(r);if(!a)return;const l=a.getColDef();if(!this.columnModel.resetColDefIntoCol(a,"cellDataTypeInferred"))return;const c=a.getColDef();if(t&&c.type&&c.type!==l.type){const e=this.getUpdatedColumnState(a,s);e.rowGroup&&null==e.rowGroupIndex&&(n[r]=e),e.pivot&&null==e.pivotIndex&&(i[r]=e),o.push(e)}})),t&&o.push(...this.funcColsService.generateColumnStateForRowGroupAndPivotIndexes(n,i)),o.length&&this.columnApplyStateService.applyColumnState({state:o},"cellDataTypeInferred"),this.initialData=null}getUpdatedColumnState(e,t){const o=this.columnApplyStateService.getColumnStateFromColDef(e);return t.forEach((e=>{delete o[e],"rowGroup"===e?delete o.rowGroupIndex:"pivot"===e&&delete o.pivotIndex})),o}checkObjectValueHandlers(e){const t=this.dataTypeDefinitions.object,o=e.object;this.hasObjectValueParser=t.valueParser!==o.valueParser,this.hasObjectValueFormatter=t.valueFormatter!==o.valueFormatter}getDateStringTypeDefinition(e){return e?this.getDataTypeDefinition(e)??this.dataTypeDefinitions.dateString:this.dataTypeDefinitions.dateString}getDateParserFunction(e){return this.getDateStringTypeDefinition(e).dateParser}getDateFormatterFunction(e){return this.getDateStringTypeDefinition(e).dateFormatter}getDataTypeDefinition(e){const t=e.getColDef();if(t.cellDataType)return this.dataTypeDefinitions[t.cellDataType]}getBaseDataType(e){return this.getDataTypeDefinition(e)?.baseDataType}checkType(e,t){if(null==t)return!0;const o=this.getDataTypeDefinition(e)?.dataTypeMatcher;return!o||o(t)}validateColDef(e){const t=e=>nf(`Cell data type is "object" but no Value ${e} has been provided. Please either provide an object data type definition with a Value ${e}, or set "colDef.value${e}"`);"object"===e.cellDataType&&(e.valueFormatter!==this.dataTypeDefinitions.object.groupSafeValueFormatter||this.hasObjectValueFormatter||t("Formatter"),e.editable&&e.valueParser===this.dataTypeDefinitions.object.valueParser&&!this.hasObjectValueParser&&t("Parser"))}getFormatValue(e){return this.formatValueFuncs[e]}setColDefPropertiesForBaseDataType(e,t,o,n){const i=this.formatValueFuncs[t];switch(o.baseDataType){case"number":e.cellEditor="agNumberCellEditor";break;case"boolean":e.cellEditor="agCheckboxCellEditor",e.cellRenderer="agCheckboxCellRenderer",e.suppressKeyboardEvent=e=>!!e.colDef.editable&&e.event.key===dC.SPACE;break;case"date":e.cellEditor="agDateCellEditor",e.keyCreator=i;break;case"dateString":e.cellEditor="agDateStringCellEditor",e.keyCreator=i;break;case"object":e.cellEditorParams={useFormatter:!0},e.comparator=(e,t)=>{const o=this.columnModel.getColDefCol(n),r=o?.getColDef();if(!o||!r)return 0;const s=null==e?"":i({column:o,node:null,value:e}),a=null==t?"":i({column:o,node:null,value:t});return s===a?0:s>a?1:-1},e.keyCreator=i}this.filterManager?.setColDefPropertiesForDataType(e,o,i)}getDefaultDataTypes(){const e=e=>!!e.match("^\\d{4}-\\d{2}-\\d{2}$"),t=this.localeService.getLocaleTextFunc();return{number:{baseDataType:"number",valueParser:e=>""===e.newValue?.trim?.()?null:Number(e.newValue),valueFormatter:e=>null==e.value?"":"number"!==typeof e.value||isNaN(e.value)?t("invalidNumber","Invalid Number"):String(e.value),dataTypeMatcher:e=>"number"===typeof e},text:{baseDataType:"text",valueParser:e=>""===e.newValue?null:vf(e.newValue),dataTypeMatcher:e=>"string"===typeof e},boolean:{baseDataType:"boolean",valueParser:e=>null==e.newValue?e.newValue:""===e.newValue?.trim?.()?null:"true"===String(e.newValue).toLowerCase(),valueFormatter:e=>null==e.value?"":String(e.value),dataTypeMatcher:e=>"boolean"===typeof e},date:{baseDataType:"date",valueParser:e=>Jw(null==e.newValue?null:String(e.newValue)),valueFormatter:e=>null==e.value?"":e.value instanceof Date&&!isNaN(e.value.getTime())?Xw(e.value,!1)??"":t("invalidDate","Invalid Date"),dataTypeMatcher:e=>e instanceof Date},dateString:{baseDataType:"dateString",dateParser:e=>Jw(e)??void 0,dateFormatter:e=>Xw(e??null,!1)??void 0,valueParser:t=>e(String(t.newValue))?t.newValue:null,valueFormatter:t=>e(String(t.value))?t.value:"",dataTypeMatcher:t=>"string"===typeof t&&e(t)},object:{baseDataType:"object",valueParser:()=>null,valueFormatter:e=>vf(e.value)??""}}}destroyColumnStateUpdateListeners(){this.columnStateUpdateListenerDestroyFuncs.forEach((e=>e())),this.columnStateUpdateListenerDestroyFuncs=[]}destroy(){this.dataTypeDefinitions={},this.dataTypeMatchers={},this.formatValueFuncs={},this.columnStateUpdatesPendingInference={},this.destroyColumnStateUpdateListeners(),super.destroy()}}]},bR={version:hb,moduleName:"@ag-grid-community/column-api",apiFunctions:{getColumnDef:function(e,t){const o=e.columnModel.getColDefCol(t);return o?o.getColDef():null},getColumnDefs:function(e){return e.columnModel.getColumnDefs()},sizeColumnsToFit:function(e,t){"number"===typeof t?e.columnSizeService.sizeColumnsToFit(t,"api"):e.ctrlsService.getGridBodyCtrl().sizeColumnsToFit(t)},setColumnGroupOpened:function(e,t,o){e.columnModel.setColumnGroupOpened(t,o,"api")},getColumnGroup:function(e,t,o){return e.visibleColsService.getColumnGroup(t,o)},getProvidedColumnGroup:function(e,t){return e.columnModel.getProvidedColGroup(t)},getDisplayNameForColumn:function(e,t,o){return e.columnNameService.getDisplayNameForColumn(t,o)||""},getDisplayNameForColumnGroup:function(e,t,o){return e.columnNameService.getDisplayNameForColumnGroup(t,o)||""},getColumn:function(e,t){return e.columnModel.getColDefCol(t)},getColumns:function(e){return e.columnModel.getColDefCols()},applyColumnState:function(e,t){return e.columnApplyStateService.applyColumnState(t,"api")},getColumnState:function(e){return e.columnGetStateService.getColumnState()},resetColumnState:function(e){e.columnApplyStateService.resetColumnState("api")},getColumnGroupState:function(e){return e.columnGroupStateService.getColumnGroupState()},setColumnGroupState:function(e,t){e.columnGroupStateService.setColumnGroupState(t,"api")},resetColumnGroupState:function(e){e.columnGroupStateService.resetColumnGroupState("api")},isPinning:function(e){return e.visibleColsService.isPinningLeft()||e.visibleColsService.isPinningRight()},isPinningLeft:function(e){return e.visibleColsService.isPinningLeft()},isPinningRight:function(e){return e.visibleColsService.isPinningRight()},getDisplayedColAfter:function(e,t){return e.visibleColsService.getColAfter(t)},getDisplayedColBefore:function(e,t){return e.visibleColsService.getColBefore(t)},setColumnVisible:function(e,t,o){e.columnModel.setColsVisible([t],o,"api")},setColumnsVisible:function(e,t,o){e.columnModel.setColsVisible(t,o,"api")},setColumnPinned:function(e,t,o){e.columnModel.setColsPinned([t],o,"api")},setColumnsPinned:function(e,t,o){e.columnModel.setColsPinned(t,o,"api")},getAllGridColumns:function(e){return e.columnModel.getCols()},getDisplayedLeftColumns:function(e){return e.visibleColsService.getLeftCols()},getDisplayedCenterColumns:function(e){return e.visibleColsService.getCenterCols()},getDisplayedRightColumns:function(e){return e.visibleColsService.getRightCols()},getAllDisplayedColumns:function(e){return e.visibleColsService.getAllCols()},getAllDisplayedVirtualColumns:function(e){return e.columnViewportService.getViewportColumns()},moveColumn:function(e,t,o){e.columnMoveService.moveColumns([t],o,"api")},moveColumnByIndex:function(e,t,o){e.columnMoveService.moveColumnByIndex(t,o,"api")},moveColumns:function(e,t,o){e.columnMoveService.moveColumns(t,o,"api")},setColumnWidth:function(e,t,o){let n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"api";e.columnSizeService.setColumnWidths([{key:t,newWidth:o}],!1,n,i)},setColumnWidths:function(e,t){let o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"api";e.columnSizeService.setColumnWidths(t,!1,o,n)},getLeftDisplayedColumnGroups:function(e){return e.visibleColsService.getTreeLeft()},getCenterDisplayedColumnGroups:function(e){return e.visibleColsService.getTreeCenter()},getRightDisplayedColumnGroups:function(e){return e.visibleColsService.getTreeRight()},getAllDisplayedColumnGroups:function(e){return e.visibleColsService.getAllTrees()},autoSizeColumn:function(e,t,o){return e.columnAutosizeService.autoSizeCols({colKeys:[t],skipHeader:o,source:"api"})},autoSizeColumns:function(e,t,o){e.columnAutosizeService.autoSizeCols({colKeys:t,skipHeader:o,source:"api"})},autoSizeAllColumns:function(e,t){e.columnAutosizeService.autoSizeAllColumns("api",t)}}};var SR={version:hb,moduleName:"@ag-grid-community/pinned-row-api",apiFunctions:{getPinnedTopRowCount:function(e){return e.pinnedRowModel.getPinnedTopRowCount()},getPinnedBottomRowCount:function(e){return e.pinnedRowModel.getPinnedBottomRowCount()},getPinnedTopRow:function(e,t){return e.pinnedRowModel.getPinnedTopRow(t)},getPinnedBottomRow:function(e,t){return e.pinnedRowModel.getPinnedBottomRow(t)}}};var ER={version:hb,moduleName:"@ag-grid-community/render-api",apiFunctions:{setGridAriaProperty:function(e,t,o){if(!t)return;const n=e.ctrlsService.getGridBodyCtrl().getGui(),i=`aria-${t}`;null===o?n.removeAttribute(i):n.setAttribute(i,o)},refreshCells:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.frameworkOverrides.wrapIncoming((()=>e.rowRenderer.refreshCells(t)))},flashCells:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const o=e=>nf(`Since v31.1 api.flashCells parameter '${e}Delay' is deprecated. Please use '${e}Duration' instead.`);gf(t.fadeDelay)&&o("fade"),gf(t.flashDelay)&&o("flash"),e.frameworkOverrides.wrapIncoming((()=>e.rowRenderer.flashCells(t)))},refreshHeader:function(e){e.frameworkOverrides.wrapIncoming((()=>e.ctrlsService.getHeaderRowContainerCtrls().forEach((e=>e.refresh()))))},isAnimationFrameQueueEmpty:function(e){return e.animationFrameService.isQueueEmpty()},flushAllAnimationFrames:function(e){e.animationFrameService.flushAllFrames()},getSizesForCurrentTheme:function(e){return{rowHeight:_f(e.gos),headerHeight:e.columnModel.getHeaderHeight()}},getCellRendererInstances:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.rowRenderer.getCellRendererInstances(t).map(QC)}}};function RR(e,t){const{colKey:o,rowNode:n,useFormatter:i}=t,r=e.columnModel.getColDefCol(o)??e.columnModel.getCol(o);if(ff(r))return null;const s=e.valueService.getValueForDisplay(r,n);if(i){return e.valueService.formatValue(r,n,s)??pv(s,!0)}return s}function PR(e,t){e.gos.updateGridOptions({options:t})}function OR(e){return e.rowRenderer.getFirstVirtualRenderedRow()}function xR(e){return e.rowRenderer.getLastVirtualRenderedRow()}var TR={version:hb,moduleName:"@ag-grid-community/row-selection-api",apiFunctions:{setNodesSelected:function(e,t){const o=t.nodes.every((e=>e.rowPinned?(nf("cannot select pinned rows"),!1):void 0!==e.id||(nf("cannot select node until id for node is known"),!1)));if(!o)return;const{nodes:n,source:i,newValue:r}=t,s=n;e.selectionService.setNodesSelected({nodes:s,source:i??"api",newValue:r})},selectAll:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"apiSelectAll";e.selectionService.selectAllRowNodes({source:t})},deselectAll:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"apiSelectAll";e.selectionService.deselectAllRowNodes({source:t})},selectAllFiltered:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"apiSelectAllFiltered";e.selectionService.selectAllRowNodes({source:t,justFiltered:!0})},deselectAllFiltered:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"apiSelectAllFiltered";e.selectionService.deselectAllRowNodes({source:t,justFiltered:!0})},selectAllOnCurrentPage:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"apiSelectAllCurrentPage";e.selectionService.selectAllRowNodes({source:t,justCurrentPage:!0})},deselectAllOnCurrentPage:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"apiSelectAllCurrentPage";e.selectionService.deselectAllRowNodes({source:t,justCurrentPage:!0})},getSelectedNodes:function(e){return e.selectionService.getSelectedNodes()},getSelectedRows:function(e){return e.selectionService.getSelectedRows()}}},DR={version:hb,moduleName:"@ag-grid-community/row-api",apiFunctions:{redrawRows:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const o=t?t.rowNodes:void 0;e.frameworkOverrides.wrapIncoming((()=>e.rowRenderer.redrawRows(o)))},setRowNodeExpanded:function(e,t,o,n,i){e.expansionService.setRowNodeExpanded(t,o,n,i)},getRowNode:function(e,t){return e.rowModel.getRowNode(t)},addRenderedRowListener:function(e,t,o,n){e.rowRenderer.addRenderedRowListener(t,o,n)},getRenderedNodes:function(e){return e.rowRenderer.getRenderedNodes()},forEachNode:function(e,t,o){e.rowModel.forEachNode(t,o)},getFirstDisplayedRow:function(e){return OR(e)},getFirstDisplayedRowIndex:OR,getLastDisplayedRow:function(e){return xR(e)},getLastDisplayedRowIndex:xR,getDisplayedRowAtIndex:function(e,t){return e.rowModel.getRow(t)},getDisplayedRowCount:function(e){return e.rowModel.getRowCount()},getModel:function(e){return e.rowModel}}},AR={version:hb,moduleName:"@ag-grid-community/scroll-api",apiFunctions:{getVerticalPixelRange:function(e){return e.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition()},getHorizontalPixelRange:function(e){return e.ctrlsService.getGridBodyCtrl().getScrollFeature().getHScrollPosition()},ensureColumnVisible:dE,ensureIndexVisible:hE,ensureNodeVisible:function(e,t){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.frameworkOverrides.wrapIncoming((()=>e.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureNodeVisible(t,o)),"ensureVisible")}}},FR={version:hb,moduleName:"@ag-grid-community/menu-api",apiFunctions:{showColumnMenuAfterButtonClick:function(e,t,o){const n=e.columnModel.getCol(t);e.menuService.showColumnMenu({column:n,buttonElement:o,positionBy:"button"})},showColumnMenuAfterMouseClick:function(e,t,o){let n=e.columnModel.getCol(t);n||(n=e.columnModel.getColDefCol(t)),n?e.menuService.showColumnMenu({column:n,mouseEvent:o,positionBy:"mouse"}):rf(`column '${t}' not found`)},showColumnMenu:function(e,t){const o=e.columnModel.getCol(t);o?e.menuService.showColumnMenu({column:o,positionBy:"auto"}):rf(`column '${t}' not found`)},hidePopupMenu:function(e){e.menuService.hidePopupMenu()}}},_R={version:hb,moduleName:"@ag-grid-community/api",dependantModules:[{version:hb,moduleName:"@ag-grid-community/core-api",apiFunctions:{getGridId:function(e){return e.context.getGridId()},destroy:function(e){e.gridDestroyService.destroy()},isDestroyed:function(e){return e.gridDestroyService.isDestroyCalled()},getGridOption:function(e,t){return e.gos.get(t)},setGridOption:function(e,t,o){PR(e,{[t]:o})},updateGridOptions:PR}},SR,TR,bR,DR,{version:hb,moduleName:"@ag-grid-community/drag-api",apiFunctions:{addRowDropZone:function(e,t){e.ctrlsService.getGridBodyCtrl().getRowDragFeature().addRowDropZone(t)},removeRowDropZone:function(e,t){const o=e.dragAndDropService.findExternalZone(t);o&&e.dragAndDropService.removeDropTarget(o)},getRowDropZoneParams:function(e,t){return e.ctrlsService.getGridBodyCtrl().getRowDragFeature().getRowDropZone(t)}}},AR,{version:hb,moduleName:"@ag-grid-community/overlay-api",apiFunctions:{showLoadingOverlay:function(e){e.overlayService.showLoadingOverlay()},showNoRowsOverlay:function(e){e.overlayService.showNoRowsOverlay()},hideOverlay:function(e){e.overlayService.hideOverlay()}}},{version:hb,moduleName:"@ag-grid-community/keyboard-navigation-api",apiFunctions:{getFocusedCell:function(e){return e.focusService.getFocusedCell()},clearFocusedCell:function(e){return e.focusService.clearFocusedCell()},setFocusedCell:function(e,t,o,n){e.focusService.setFocusedCell({rowIndex:t,column:o,rowPinned:n,forceBrowserFocus:!0})},setFocusedHeader:function(e,t){let o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const n=e.headerNavigationService.getHeaderPositionForColumn(t,o);n&&e.focusService.focusHeaderPosition({headerPosition:n})},tabToNextCell:function(e,t){return e.navigationService.tabToNextCell(!1,t)},tabToPreviousCell:function(e,t){return e.navigationService.tabToNextCell(!0,t)}}},{version:hb,moduleName:"@ag-grid-community/event-api",apiFunctions:{addEventListener:function(e,t,o){e.apiEventService.addEventListener(t,o)},addGlobalListener:function(e,t){e.apiEventService.addGlobalListener(t)},removeEventListener:function(e,t,o){e.apiEventService.removeEventListener(t,o)},removeGlobalListener:function(e,t){e.apiEventService.removeGlobalListener(t)}}},ER,{version:hb,moduleName:"@ag-grid-community/cell-api",apiFunctions:{expireValueCache:function(e){e.valueCache.expire()},getValue:function(e,t,o){return RR(e,{colKey:t,rowNode:o})},getCellValue:RR}},FR,{version:hb,moduleName:"@ag-grid-community/sort-api",apiFunctions:{onSortChanged:function(e){e.sortController.onSortChanged("api")}}}]};function MR(e){if((e={...e}).version||(e.version="32.1.0"),"32.1.0"===e.version)e=function(e){return e.cellSelection=function(e,t){if(e&&"object"===typeof e)return e[t]}(e,"rangeSelection"),e}(e);return e}var IR={version:hb,moduleName:"@ag-grid-community/state-core",beans:[class extends Rm{constructor(){super(...arguments),this.beanName="stateService",this.suppressEvents=!0,this.queuedUpdateSources=new Set,this.dispatchStateUpdateEventDebounced=df((()=>this.dispatchQueuedStateUpdateEvents()),0),this.onRowGroupOpenedDebounced=df((()=>this.updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState())),0),this.onRowSelectedDebounced=df((()=>{this.staleStateKeys.delete("rowSelection"),this.updateCachedState("rowSelection",this.getRowSelectionState())}),0),this.staleStateKeys=new Set}wireBeans(e){this.filterManager=e.filterManager,this.ctrlsService=e.ctrlsService,this.pivotResultColsService=e.pivotResultColsService,this.focusService=e.focusService,this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.columnGroupStateService=e.columnGroupStateService,this.columnGetStateService=e.columnGetStateService,this.paginationService=e.paginationService,this.selectionService=e.selectionService,this.expansionService=e.expansionService,this.columnAnimationService=e.columnAnimationService,this.columnApplyStateService=e.columnApplyStateService,this.sideBarService=e.sideBarService,this.rangeService=e.rangeService}postConstruct(){this.isClientSideRowModel=Pf(this.gos),this.cachedState=this.getInitialState(),this.setCachedStateValue("version",hb),this.ctrlsService.whenReady(this,(()=>this.suppressEventsAndDispatchInitEvent((()=>this.setupStateOnGridReady()))));const[e,t,o]=this.addManagedEventListeners({newColumnsLoaded:t=>{let{source:o}=t;"gridInitializing"===o&&(e(),this.suppressEventsAndDispatchInitEvent((()=>this.setupStateOnColumnsInitialised())))},rowCountReady:()=>{t?.(),this.suppressEventsAndDispatchInitEvent((()=>this.setupStateOnRowCountReady()))},firstDataRendered:()=>{o?.(),this.suppressEventsAndDispatchInitEvent((()=>this.setupStateOnFirstDataRendered()))}})}getInitialState(){return MR(this.gos.get("initialState")??{})}getState(){return this.staleStateKeys.size&&this.refreshStaleState(),this.cachedState}setupStateOnGridReady(){this.updateCachedState("sideBar",this.getSideBarState());const e=()=>this.updateCachedState("sideBar",this.getSideBarState());this.addManagedEventListeners({toolPanelVisibleChanged:e,sideBarUpdated:e})}setupStateOnColumnsInitialised(){const e=this.getInitialState();this.setColumnState(e),this.setColumnGroupState(e),this.updateColumnState(["aggregation","columnOrder","columnPinning","columnSizing","columnVisibility","pivot","pivot","rowGroup","sort"]),this.updateCachedState("columnGroup",this.getColumnGroupState());const t=e=>()=>this.updateColumnState([e]);this.addManagedEventListeners({columnValueChanged:t("aggregation"),columnMoved:t("columnOrder"),columnPinned:t("columnPinning"),columnResized:t("columnSizing"),columnVisible:t("columnVisibility"),columnPivotChanged:t("pivot"),columnPivotModeChanged:t("pivot"),columnRowGroupChanged:t("rowGroup"),sortChanged:t("sort"),newColumnsLoaded:()=>this.updateColumnState(["aggregation","columnOrder","columnPinning","columnSizing","columnVisibility","pivot","rowGroup","sort"]),columnGroupOpened:()=>this.updateCachedState("columnGroup",this.getColumnGroupState())})}setupStateOnRowCountReady(){const{filter:e,rowGroupExpansion:t,rowSelection:o,pagination:n}=this.getInitialState(),i=this.gos.get("advancedFilterModel");(e||i)&&this.setFilterState(e,i),t&&this.setRowGroupExpansionState(t),o&&this.setRowSelectionState(o),n&&this.setPaginationState(n),this.updateCachedState("filter",this.getFilterState()),this.updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState()),this.updateCachedState("rowSelection",this.getRowSelectionState()),this.updateCachedState("pagination",this.getPaginationState());const r=()=>this.updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState());this.addManagedEventListeners({filterChanged:()=>this.updateCachedState("filter",this.getFilterState()),rowGroupOpened:()=>this.onRowGroupOpenedDebounced(),expandOrCollapseAll:r,columnRowGroupChanged:r,rowDataUpdated:()=>{0!==this.gos.get("groupDefaultExpanded")&&setTimeout((()=>{r()}))},selectionChanged:()=>{this.staleStateKeys.add("rowSelection"),this.onRowSelectedDebounced()},paginationChanged:e=>{(e.newPage||e.newPageSize)&&this.updateCachedState("pagination",this.getPaginationState())}})}setupStateOnFirstDataRendered(){const{scroll:e,cellSelection:t,focusedCell:o,columnOrder:n}=this.getInitialState();o&&this.setFocusedCellState(o),t&&this.setCellSelectionState(t),e&&this.setScrollState(e),this.setColumnPivotState(!!n?.orderedColIds),this.updateCachedState("sideBar",this.getSideBarState()),this.updateCachedState("focusedCell",this.getFocusedCellState());const i=this.getRangeSelectionState();this.updateCachedState("rangeSelection",i),this.updateCachedState("cellSelection",i),this.updateCachedState("scroll",this.getScrollState()),this.addManagedEventListeners({cellFocused:()=>this.updateCachedState("focusedCell",this.getFocusedCellState()),cellSelectionChanged:e=>{if(e.finished){const e=this.getRangeSelectionState();this.updateCachedState("rangeSelection",e),this.updateCachedState("cellSelection",e)}},bodyScrollEnd:()=>this.updateCachedState("scroll",this.getScrollState())})}getColumnState(){const e=this.columnModel.isPivotMode(),t=[],o=[],n=[],i=[],r=[],s=[],a=[],l=[],c=[];let u=0;const d=this.columnGetStateService.getColumnState();for(let h=0;h<d.length;h++){const{colId:e,sort:p,sortIndex:g,rowGroup:f,rowGroupIndex:m,aggFunc:v,pivot:y,pivotIndex:C,pinned:w,hide:b,width:S,flex:E}=d[h];c.push(e),p&&(t[g??u++]={colId:e,sort:p}),f&&(o[m??0]=e),"string"===typeof v&&n.push({colId:e,aggFunc:v}),y&&(i[C??0]=e),w&&("right"===w?s:r).push(e),b&&a.push(e),(E||S)&&l.push({colId:e,flex:E??void 0,width:S})}return{sort:t.length?{sortModel:t}:void 0,rowGroup:o.length?{groupColIds:o}:void 0,aggregation:n.length?{aggregationModel:n}:void 0,pivot:i.length||e?{pivotMode:e,pivotColIds:i}:void 0,columnPinning:r.length||s.length?{leftColIds:r,rightColIds:s}:void 0,columnVisibility:a.length?{hiddenColIds:a}:void 0,columnSizing:l.length?{columnSizingModel:l}:void 0,columnOrder:c.length?{orderedColIds:c}:void 0}}setColumnState(e){const{sort:t,rowGroup:o,aggregation:n,pivot:i,columnPinning:r,columnVisibility:s,columnSizing:a,columnOrder:l,partialColumnState:c}=e,u={},d=e=>{let t=u[e];return t||(t={colId:e},u[e]=t,t)},h=c?{}:{sort:null,sortIndex:null,rowGroup:null,rowGroupIndex:null,aggFunc:null,pivot:null,pivotIndex:null,pinned:null,hide:null,flex:null};t&&(t.sortModel.forEach(((e,t)=>{let{colId:o,sort:n}=e;const i=d(o);i.sort=n,i.sortIndex=t})),h.sort=null,h.sortIndex=null),o&&(o.groupColIds.forEach(((e,t)=>{const o=d(e);o.rowGroup=!0,o.rowGroupIndex=t})),h.rowGroup=null,h.rowGroupIndex=null),n&&(n.aggregationModel.forEach((e=>{let{colId:t,aggFunc:o}=e;d(t).aggFunc=o})),h.aggFunc=null),i&&(i.pivotColIds.forEach(((e,t)=>{const o=d(e);o.pivot=!0,o.pivotIndex=t})),this.gos.updateGridOptions({options:{pivotMode:i.pivotMode},source:"gridInitializing"}),h.pivot=null,h.pivotIndex=null),r&&(r.leftColIds.forEach((e=>{d(e).pinned="left"})),r.rightColIds.forEach((e=>{d(e).pinned="right"})),h.pinned=null),s&&(s.hiddenColIds.forEach((e=>{d(e).hide=!0})),h.hide=null),a&&(a.columnSizingModel.forEach((e=>{let{colId:t,flex:o,width:n}=e;const i=d(t);i.flex=o??null,i.width=n})),h.flex=null);const p=l?.orderedColIds,g=!!p?.length,f=g?p.map((e=>d(e))):Object.values(u);f.length&&(this.columnStates=f,this.columnApplyStateService.applyColumnState({state:f,applyOrder:g,defaultState:h},"gridInitializing"))}setColumnPivotState(e){const t=this.columnStates;this.columnStates=void 0;const o=this.columnGroupStates;if(this.columnGroupStates=void 0,this.pivotResultColsService.isPivotResultColsPresent()){if(t){const o=[];for(const e of t)this.pivotResultColsService.getPivotResultCol(e.colId)&&o.push(e);this.columnApplyStateService.applyColumnState({state:o,applyOrder:e},"gridInitializing")}o&&this.columnGroupStateService.setColumnGroupState(o,"gridInitializing")}}getColumnGroupState(){const e=this.columnGroupStateService.getColumnGroupState(),t=[];return e.forEach((e=>{let{groupId:o,open:n}=e;n&&t.push(o)})),t.length?{openColumnGroupIds:t}:void 0}setColumnGroupState(e){if(!Object.prototype.hasOwnProperty.call(e,"columnGroup"))return;const t=new Set(e.columnGroup?.openColumnGroupIds),o=this.columnGroupStateService.getColumnGroupState().map((e=>{let{groupId:o}=e;const n=t.has(o);return n&&t.delete(o),{groupId:o,open:n}}));t.forEach((e=>{o.push({groupId:e,open:!0})})),o.length&&(this.columnGroupStates=o),this.columnGroupStateService.setColumnGroupState(o,"gridInitializing")}getFilterState(){let e=this.filterManager?.getFilterModel();e&&0===Object.keys(e).length&&(e=void 0);const t=this.filterManager?.getAdvancedFilterModel()??void 0;return e||t?{filterModel:e,advancedFilterModel:t}:void 0}setFilterState(e,t){const{filterModel:o,advancedFilterModel:n}=e??{advancedFilterModel:t};o&&this.filterManager?.setFilterModel(o,"columnFilter"),n&&this.filterManager?.setAdvancedFilterModel(n)}getRangeSelectionState(){const e=this.rangeService?.getCellRanges().map((e=>{const{id:t,type:o,startRow:n,endRow:i,columns:r,startColumn:s}=e;return{id:t,type:o,startRow:n,endRow:i,colIds:r.map((e=>e.getColId())),startColId:s.getColId()}}));return e?.length?{cellRanges:e}:void 0}setCellSelectionState(e){const{gos:t,rangeService:o,columnModel:n,visibleColsService:i}=this;if(!Zf(t)||!o)return;const r=[];if(e.cellRanges.forEach((e=>{const t=[];if(e.colIds.forEach((e=>{const o=n.getCol(e);o&&t.push(o)})),!t.length)return;let o=n.getCol(e.startColId);if(!o){const e=i.getAllCols(),n=new Set(t);o=e.find((e=>n.has(e)))}r.push({...e,columns:t,startColumn:o})})),function(e){return void 0!==e.get("cellSelection")}(t)&&function(e){const t=e.get("cellSelection");return void 0!==t?"boolean"!==typeof t&&(t?.suppressMultiRanges??!1):e.get("suppressMultiRangeSelection")}(t)&&r.length>1)return nf("cannot add multiple ranges when `cellSelection.suppressMultiRanges = true`");o.setCellRanges(r)}getScrollState(){if(!this.isClientSideRowModel)return;const e=this.ctrlsService.getGridBodyCtrl()?.getScrollFeature(),{left:t}=e?.getHScrollPosition()??{left:0},{top:o}=e?.getVScrollPosition()??{top:0};return o||t?{top:o,left:t}:void 0}setScrollState(e){if(!this.isClientSideRowModel)return;const{top:t,left:o}=e;this.ctrlsService.getGridBodyCtrl()?.getScrollFeature().setScrollPosition(t,o)}getSideBarState(){return this.sideBarService?.getSideBarComp()?.getState()}getFocusedCellState(){if(!this.isClientSideRowModel)return;const e=this.focusService.getFocusedCell();if(e){const{column:t,rowIndex:o,rowPinned:n}=e;return{colId:t.getColId(),rowIndex:o,rowPinned:n}}}setFocusedCellState(e){if(!this.isClientSideRowModel)return;const{colId:t,rowIndex:o,rowPinned:n}=e;this.focusService.setFocusedCell({column:this.columnModel.getCol(t),rowIndex:o,rowPinned:n,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}getPaginationState(){if(!this.paginationService)return;const e=this.paginationService.getCurrentPage(),t=this.gos.get("paginationAutoPageSize")?void 0:this.paginationService.getPageSize();return e||t?{page:e,pageSize:t}:void 0}setPaginationState(e){this.paginationService&&(e.pageSize&&!this.gos.get("paginationAutoPageSize")&&this.paginationService.setPageSize(e.pageSize,"initialState"),"number"===typeof e.page&&this.paginationService.setPage(e.page))}getRowSelectionState(){const e=this.selectionService.getSelectionState();return!e||!Array.isArray(e)&&(!1===e.selectAll||!1===e.selectAllChildren)&&!e?.toggledNodes?.length?void 0:e}setRowSelectionState(e){this.selectionService.setSelectionState(e,"gridInitializing")}getRowGroupExpansionState(){const e=this.expansionService.getExpandedRows();return e.length?{expandedRowGroupIds:e}:void 0}setRowGroupExpansionState(e){this.expansionService.expandRows(e.expandedRowGroupIds)}updateColumnState(e){const t=this.getColumnState();let o=!1;Object.entries(t).forEach((e=>{let[t,n]=e;bf(n,this.cachedState[t])||(o=!0)})),this.cachedState={...this.cachedState,...t},o&&this.dispatchStateUpdateEvent(e)}updateCachedState(e,t){const o=this.cachedState[e];this.setCachedStateValue(e,t),bf(t,o)||this.dispatchStateUpdateEvent([e])}setCachedStateValue(e,t){this.cachedState={...this.cachedState,[e]:t}}refreshStaleState(){this.staleStateKeys.forEach((e=>{if("rowSelection"===e)this.setCachedStateValue(e,this.getRowSelectionState())})),this.staleStateKeys.clear()}dispatchStateUpdateEvent(e){this.suppressEvents||(e.forEach((e=>this.queuedUpdateSources.add(e))),this.dispatchStateUpdateEventDebounced())}dispatchQueuedStateUpdateEvents(){const e=Array.from(this.queuedUpdateSources);this.queuedUpdateSources.clear(),this.eventService.dispatchEvent({type:"stateUpdated",sources:e,state:this.cachedState})}suppressEventsAndDispatchInitEvent(e){this.suppressEvents=!0,this.columnAnimationService.setSuppressAnimation(!0),e(),setTimeout((()=>{this.suppressEvents=!1,this.queuedUpdateSources.clear(),this.isAlive()&&(this.columnAnimationService.setSuppressAnimation(!1),this.dispatchStateUpdateEvent(["gridInitializing"]))}))}}]},LR={version:hb,moduleName:"@ag-grid-community/state",dependantModules:[IR,{version:hb,moduleName:"@ag-grid-community/state-api",apiFunctions:{getState:function(e){return e.stateService?.getState()??{}}},dependantModules:[IR]}]};var NR="paginationPageSizeSelector",kR={selector:"AG-PAGE-SIZE-SELECTOR",component:class extends Xy{constructor(){super('<span class="ag-paging-page-size"></span>'),this.hasEmptyOption=!1,this.handlePageSizeItemSelected=()=>{if(!this.selectPageSizeComp)return;const e=this.selectPageSizeComp.getValue();if(!e)return;const t=Number(e);isNaN(t)||t<1||t===this.paginationService.getPageSize()||(this.paginationService.setPageSize(t,"pageSizeSelector"),this.hasEmptyOption&&this.toggleSelectDisplay(!0),this.selectPageSizeComp.getFocusableElement().focus())}}wireBeans(e){this.paginationService=e.paginationService}postConstruct(){this.addManagedPropertyListener(NR,(()=>{this.onPageSizeSelectorValuesChange()})),this.addManagedEventListeners({paginationChanged:e=>this.handlePaginationChanged(e)})}handlePaginationChanged(e){if(!this.selectPageSizeComp||!e?.newPageSize)return;const t=this.paginationService.getPageSize();this.getPageSizeSelectorValues().includes(t)?this.selectPageSizeComp.setValue(t.toString()):this.hasEmptyOption?this.selectPageSizeComp.setValue(""):this.toggleSelectDisplay(!0)}toggleSelectDisplay(e){this.selectPageSizeComp&&!e&&this.reset(),e&&(this.reloadPageSizesSelector(),this.selectPageSizeComp)}reset(){_y(this.getGui()),this.selectPageSizeComp&&(this.selectPageSizeComp=this.destroyBean(this.selectPageSizeComp))}onPageSizeSelectorValuesChange(){this.selectPageSizeComp&&this.shouldShowPageSizeSelector()&&this.reloadPageSizesSelector()}shouldShowPageSizeSelector(){return this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel")&&!this.gos.get("paginationAutoPageSize")&&!1!==this.gos.get(NR)}reloadPageSizesSelector(){const e=this.getPageSizeSelectorValues(),t=this.paginationService.getPageSize(),o=!t||!e.includes(t);if(o){const o=this.gos.exists("paginationPageSize"),n=!0!==this.gos.get(NR);nf(`'paginationPageSize=${t}'${o?"":" (default value)"}, but ${t} is not included in${n?"":" the default"} paginationPageSizeSelector=[${e.join(", ")}].`),n||nf(`Either set '${NR}' to an array that includes ${t} or to 'false' to disable the page size selector.`),e.unshift("")}const n=String(o?"":t);this.selectPageSizeComp?(cm(this.pageSizeOptions,e)||(this.selectPageSizeComp.clearOptions().addOptions(this.createPageSizeSelectOptions(e)),this.pageSizeOptions=e),this.selectPageSizeComp.setValue(n,!0)):this.createPageSizeSelectorComp(e,n),this.hasEmptyOption=o}createPageSizeSelectOptions(e){return e.map((e=>({value:String(e)})))}createPageSizeSelectorComp(e,t){const o=this.localeService.getLocaleTextFunc(),n=o("pageSizeSelectorLabel","Page Size:"),i=o("ariaPageSizeSelectorLabel","Page Size");this.selectPageSizeComp=this.createManagedBean(new Tw).addOptions(this.createPageSizeSelectOptions(e)).setValue(t).setAriaLabel(i).setLabel(n).onValueChange((()=>this.handlePageSizeItemSelected())),this.appendChild(this.selectPageSizeComp)}getPageSizeSelectorValues(){const e=[20,50,100],t=this.gos.get(NR);return!Array.isArray(t)||mf(t)?e:[...t].sort(((e,t)=>e-t))}destroy(){this.toggleSelectDisplay(!1),super.destroy()}}},GR={selector:"AG-PAGINATION",component:class extends IE{constructor(){super(),this.btFirst=qy,this.btPrevious=qy,this.btNext=qy,this.btLast=qy,this.lbRecordCount=qy,this.lbFirstRowOnPage=qy,this.lbLastRowOnPage=qy,this.lbCurrent=qy,this.lbTotal=qy,this.pageSizeComp=qy,this.previousAndFirstButtonsDisabled=!1,this.nextButtonDisabled=!1,this.lastButtonDisabled=!1,this.areListenersSetup=!1,this.allowFocusInnerElement=!1}wireBeans(e){this.rowModel=e.rowModel,this.paginationService=e.paginationService,this.focusService=e.focusService,this.ariaAnnouncementService=e.ariaAnnouncementService}postConstruct(){const e=this.gos.get("enableRtl");this.setTemplate(this.getTemplate(),[kR]);const{btFirst:t,btPrevious:o,btNext:n,btLast:i}=this;this.activateTabIndex([t,o,n,i]),t.insertAdjacentElement("afterbegin",Jy(e?"last":"first",this.gos)),o.insertAdjacentElement("afterbegin",Jy(e?"next":"previous",this.gos)),n.insertAdjacentElement("afterbegin",Jy(e?"previous":"next",this.gos)),i.insertAdjacentElement("afterbegin",Jy(e?"first":"last",this.gos)),this.addManagedPropertyListener("pagination",this.onPaginationChanged.bind(this)),this.addManagedPropertyListener("suppressPaginationPanel",this.onPaginationChanged.bind(this)),this.addManagedPropertyListeners(["paginationPageSizeSelector","paginationAutoPageSize","suppressPaginationPanel"],(()=>this.onPageSizeRelatedOptionsChange())),this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector()),this.initialiseTabGuard({onTabKeyDown:()=>{},focusInnerElement:e=>{this.allowFocusInnerElement?this.tabGuardFeature.getTabGuardCtrl().focusInnerElement(e):this.focusService.focusGridInnerElement(e)},forceFocusOutWhenTabGuardsAreEmpty:!0}),this.onPaginationChanged()}setAllowFocus(e){this.allowFocusInnerElement=e}onPaginationChanged(){const e=this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel");this.setDisplayed(e),e&&(this.setupListeners(),this.enableOrDisableButtons(),this.updateLabels(),this.onPageSizeRelatedOptionsChange())}onPageSizeRelatedOptionsChange(){this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector())}setupListeners(){var e,t,o;this.areListenersSetup||(this.addManagedEventListeners({paginationChanged:this.onPaginationChanged.bind(this)}),[{el:this.btFirst,fn:this.onBtFirst.bind(this)},{el:this.btPrevious,fn:this.onBtPrevious.bind(this)},{el:this.btNext,fn:this.onBtNext.bind(this)},{el:this.btLast,fn:this.onBtLast.bind(this)}].forEach((e=>{const{el:t,fn:o}=e;this.addManagedListeners(t,{click:o,keydown:e=>{e.key!==dC.ENTER&&e.key!==dC.SPACE||(e.preventDefault(),o())}})})),e=this,t=this.getGui(),o=this.focusService,e.addManagedElementListeners(t,{keydown:e=>{if(!e.defaultPrevented&&e.key===dC.TAB){const n=e.shiftKey;o.findNextFocusableElement(t,!1,n)||o.focusNextGridCoreContainer(n)&&e.preventDefault()}}}),this.areListenersSetup=!0)}onBtFirst(){this.previousAndFirstButtonsDisabled||this.paginationService.goToFirstPage()}formatNumber(e){const t=this.gos.getCallback("paginationNumberFormatter");if(t){return t({value:e})}const o=this.localeService.getLocaleTextFunc();return qw(e,o("thousandSeparator",","),o("decimalSeparator","."))}getTemplate(){const e=this.localeService.getLocaleTextFunc(),t=e("page","Page"),o=e("to","to"),n=e("of","of"),i=e("firstPage","First Page"),r=e("previousPage","Previous Page"),s=e("nextPage","Next Page"),a=e("lastPage","Last Page"),l=this.getCompId();return`<div class="ag-paging-panel ag-unselectable" id="ag-${l}">\n                <ag-page-size-selector data-ref="pageSizeComp"></ag-page-size-selector>\n                <span class="ag-paging-row-summary-panel">\n                    <span id="ag-${l}-first-row" data-ref="lbFirstRowOnPage" class="ag-paging-row-summary-panel-number"></span>\n                    <span id="ag-${l}-to">${o}</span>\n                    <span id="ag-${l}-last-row" data-ref="lbLastRowOnPage" class="ag-paging-row-summary-panel-number"></span>\n                    <span id="ag-${l}-of">${n}</span>\n                    <span id="ag-${l}-row-count" data-ref="lbRecordCount" class="ag-paging-row-summary-panel-number"></span>\n                </span>\n                <span class="ag-paging-page-summary-panel" role="presentation">\n                    <div data-ref="btFirst" class="ag-button ag-paging-button" role="button" aria-label="${i}"></div>\n                    <div data-ref="btPrevious" class="ag-button ag-paging-button" role="button" aria-label="${r}"></div>\n                    <span class="ag-paging-description">\n                        <span id="ag-${l}-start-page">${t}</span>\n                        <span id="ag-${l}-start-page-number" data-ref="lbCurrent" class="ag-paging-number"></span>\n                        <span id="ag-${l}-of-page">${n}</span>\n                        <span id="ag-${l}-of-page-number" data-ref="lbTotal" class="ag-paging-number"></span>\n                    </span>\n                    <div data-ref="btNext" class="ag-button ag-paging-button" role="button" aria-label="${s}"></div>\n                    <div data-ref="btLast" class="ag-button ag-paging-button" role="button" aria-label="${a}"></div>\n                </span>\n            </div>`}onBtNext(){this.nextButtonDisabled||this.paginationService.goToNextPage()}onBtPrevious(){this.previousAndFirstButtonsDisabled||this.paginationService.goToPreviousPage()}onBtLast(){this.lastButtonDisabled||this.paginationService.goToLastPage()}enableOrDisableButtons(){const e=this.paginationService.getCurrentPage(),t=this.rowModel.isLastRowIndexKnown(),o=this.paginationService.getTotalPages();this.previousAndFirstButtonsDisabled=0===e,this.toggleButtonDisabled(this.btFirst,this.previousAndFirstButtonsDisabled),this.toggleButtonDisabled(this.btPrevious,this.previousAndFirstButtonsDisabled);const n=this.isZeroPagesToDisplay(),i=e===o-1;this.nextButtonDisabled=i||n,this.lastButtonDisabled=!t||n||e===o-1,this.toggleButtonDisabled(this.btNext,this.nextButtonDisabled),this.toggleButtonDisabled(this.btLast,this.lastButtonDisabled)}toggleButtonDisabled(e,t){!function(e,t){zv(e,"disabled",t)}(e,t),e.classList.toggle("ag-disabled",t)}isZeroPagesToDisplay(){const e=this.rowModel.isLastRowIndexKnown(),t=this.paginationService.getTotalPages();return e&&0===t}updateLabels(){const e=this.rowModel.isLastRowIndexKnown(),t=this.paginationService.getTotalPages(),o=this.paginationService.getMasterRowCount(),n=e?o:null;if(1===n){const e=this.rowModel.getRow(0);if(e&&e.group&&!(e.groupData||e.aggData))return void this.setTotalLabelsToZero()}const i=this.paginationService.getCurrentPage(),r=this.paginationService.getPageSize();let s,a;this.isZeroPagesToDisplay()?s=a=0:(s=r*i+1,a=s+r-1,e&&a>n&&(a=n));const l=!e&&o<s+r-1,c=this.formatNumber(s);let u;this.lbFirstRowOnPage.textContent=c;const d=this.localeService.getLocaleTextFunc();u=l?d("pageLastRowUnknown","?"):this.formatNumber(a),this.lbLastRowOnPage.textContent=u;const h=t>0?i+1:0,p=this.formatNumber(h);let g,f;if(this.lbCurrent.textContent=p,e)g=this.formatNumber(t),f=this.formatNumber(n);else{const e=d("more","more");g=e,f=e}this.lbTotal.textContent=g,this.lbRecordCount.textContent=f,this.announceAriaStatus(c,u,f,p,g)}announceAriaStatus(e,t,o,n,i){const r=this.localeService.getLocaleTextFunc(),s=r("page","Page"),a=r("to","to"),l=r("of","of"),c=`${e} ${a} ${t} ${l} ${o}`,u=`${s} ${n} ${l} ${i}`;c!==this.ariaRowStatus&&(this.ariaRowStatus=c,this.ariaAnnouncementService.announceValue(c,"paginationRow")),u!==this.ariaPageStatus&&(this.ariaPageStatus=u,this.ariaAnnouncementService.announceValue(u,"paginationPage"))}setTotalLabelsToZero(){const e=this.formatNumber(0);this.lbFirstRowOnPage.textContent=e,this.lbCurrent.textContent=e,this.lbLastRowOnPage.textContent=e,this.lbTotal.textContent=e,this.lbRecordCount.textContent=e,this.announceAriaStatus(e,e,e,e,e)}}},VR={version:hb,moduleName:"@ag-grid-community/pagination-core",beans:[class extends Rm{constructor(){super(...arguments),this.beanName="paginationService",this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=0,this.masterRowCount=0}wireBeans(e){this.rowModel=e.rowModel,this.pageBoundsService=e.pageBoundsService}postConstruct(){this.active=this.gos.get("pagination"),this.pageSizeFromGridOptions=this.gos.get("paginationPageSize"),this.paginateChildRows=this.isPaginateChildRows(),this.addManagedPropertyListener("pagination",this.onPaginationGridOptionChanged.bind(this)),this.addManagedPropertyListener("paginationPageSize",this.onPageSizeGridOptionChanged.bind(this))}getPaginationSelector(){return GR}isPaginateChildRows(){return!(!this.gos.get("groupRemoveSingleChildren")&&!this.gos.get("groupRemoveLowestSingleChildren"))||this.gos.get("paginateChildRows")}onPaginationGridOptionChanged(){this.active=this.gos.get("pagination"),this.calculatePages(),this.dispatchPaginationChangedEvent({keepRenderedRows:!0})}onPageSizeGridOptionChanged(){this.setPageSize(this.gos.get("paginationPageSize"),"gridOptions")}goToPage(e){this.active&&this.currentPage!==e&&"number"===typeof this.currentPage&&(this.currentPage=e,this.calculatePages(),this.dispatchPaginationChangedEvent({newPage:!0}))}isRowPresent(e){return e.rowIndex>=this.topDisplayedRowIndex&&e.rowIndex<=this.bottomDisplayedRowIndex}getPageForIndex(e){return Math.floor(e/this.pageSize)}goToPageWithIndex(e){if(!this.active)return;const t=this.getPageForIndex(e);this.goToPage(t)}isRowInPage(e){if(!this.active)return!0;return this.getPageForIndex(e.rowIndex)===this.currentPage}getCurrentPage(){return this.currentPage}goToNextPage(){this.goToPage(this.currentPage+1)}goToPreviousPage(){this.goToPage(this.currentPage-1)}goToFirstPage(){this.goToPage(0)}goToLastPage(){const e=this.rowModel.getRowCount(),t=Math.floor(e/this.pageSize);this.goToPage(t)}getPageSize(){return this.pageSize}getTotalPages(){return this.totalPages}setPage(e){this.currentPage=e}get pageSize(){return gf(this.pageSizeAutoCalculated)&&this.gos.get("paginationAutoPageSize")?this.pageSizeAutoCalculated:gf(this.pageSizeFromPageSizeSelector)?this.pageSizeFromPageSizeSelector:gf(this.pageSizeFromInitialState)?this.pageSizeFromInitialState:gf(this.pageSizeFromGridOptions)?this.pageSizeFromGridOptions:this.defaultPageSize}calculatePages(){this.active?this.paginateChildRows?this.calculatePagesAllRows():this.calculatePagesMasterRowsOnly():this.calculatedPagesNotActive(),this.pageBoundsService.calculateBounds(this.topDisplayedRowIndex,this.bottomDisplayedRowIndex)}unsetAutoCalculatedPageSize(){if(void 0===this.pageSizeAutoCalculated)return;const e=this.pageSizeAutoCalculated;this.pageSizeAutoCalculated=void 0,this.pageSize!==e&&(this.calculatePages(),this.dispatchPaginationChangedEvent({newPageSize:!0}))}setPageSize(e,t){const o=this.pageSize;switch(t){case"autoCalculated":this.pageSizeAutoCalculated=e;break;case"pageSizeSelector":this.pageSizeFromPageSizeSelector=e,0!==this.currentPage&&this.goToFirstPage();break;case"initialState":this.pageSizeFromInitialState=e;break;case"gridOptions":this.pageSizeFromGridOptions=e,this.pageSizeFromInitialState=void 0,this.pageSizeFromPageSizeSelector=void 0,0!==this.currentPage&&this.goToFirstPage()}o!==this.pageSize&&(this.calculatePages(),this.dispatchPaginationChangedEvent({newPageSize:!0,keepRenderedRows:!0}))}setZeroRows(){this.masterRowCount=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=-1,this.currentPage=0,this.totalPages=0}adjustCurrentPageIfInvalid(){this.currentPage>=this.totalPages&&(this.currentPage=this.totalPages-1),(!isFinite(this.currentPage)||isNaN(this.currentPage)||this.currentPage<0)&&(this.currentPage=0)}calculatePagesMasterRowsOnly(){if(this.masterRowCount=this.rowModel.getTopLevelRowCount(),this.masterRowCount<=0)return void this.setZeroRows();const e=this.masterRowCount-1;this.totalPages=Math.floor(e/this.pageSize)+1,this.adjustCurrentPageIfInvalid();const t=this.pageSize*this.currentPage;let o=this.pageSize*(this.currentPage+1)-1;if(o>e&&(o=e),this.topDisplayedRowIndex=this.rowModel.getTopLevelRowDisplayedIndex(t),o===e)this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1;else{const e=this.rowModel.getTopLevelRowDisplayedIndex(o+1);this.bottomDisplayedRowIndex=e-1}}getMasterRowCount(){return this.masterRowCount}calculatePagesAllRows(){if(this.masterRowCount=this.rowModel.getRowCount(),0===this.masterRowCount)return void this.setZeroRows();const e=this.masterRowCount-1;this.totalPages=Math.floor(e/this.pageSize)+1,this.adjustCurrentPageIfInvalid(),this.topDisplayedRowIndex=this.pageSize*this.currentPage,this.bottomDisplayedRowIndex=this.pageSize*(this.currentPage+1)-1,this.bottomDisplayedRowIndex>e&&(this.bottomDisplayedRowIndex=e)}calculatedPagesNotActive(){this.setPageSize(void 0,"autoCalculated"),this.totalPages=1,this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1}dispatchPaginationChangedEvent(e){const{keepRenderedRows:t=!1,newPage:o=!1,newPageSize:n=!1}=e;this.eventService.dispatchEvent({type:"paginationChanged",animate:!1,newData:!1,newPage:o,newPageSize:n,keepRenderedRows:t})}},class extends Rm{constructor(){super(...arguments),this.beanName="paginationAutoPageSizeService"}wireBeans(e){this.ctrlsService=e.ctrlsService,this.paginationService=e.paginationService}postConstruct(){this.ctrlsService.whenReady(this,(e=>{this.centerRowsCtrl=e.center;const t=this.checkPageSize.bind(this);this.addManagedEventListeners({bodyHeightChanged:t,scrollVisibilityChanged:t}),this.addManagedPropertyListener("paginationAutoPageSize",this.onPaginationAutoSizeChanged.bind(this)),this.checkPageSize()}))}notActive(){return!this.gos.get("paginationAutoPageSize")||null==this.centerRowsCtrl}onPaginationAutoSizeChanged(){this.notActive()?this.paginationService.unsetAutoCalculatedPageSize():this.checkPageSize()}checkPageSize(){if(this.notActive())return;const e=this.centerRowsCtrl.getViewportSizeFeature().getBodyHeight();if(e>0){const t=()=>{const t=Math.max(_f(this.gos),1),o=Math.floor(e/t);this.paginationService.setPageSize(o,"autoCalculated")};this.isBodyRendered?df((()=>t()),50)():(t(),this.isBodyRendered=!0)}else this.isBodyRendered=!1}}]},HR={version:hb,moduleName:"@ag-grid-community/pagination",dependantModules:[VR,{version:hb,moduleName:"@ag-grid-community/pagination-api",dependantModules:[VR],apiFunctions:{paginationIsLastPageFound:function(e){return e.rowModel.isLastRowIndexKnown()},paginationGetPageSize:function(e){return e.paginationService?.getPageSize()??100},paginationGetCurrentPage:function(e){return e.paginationService?.getCurrentPage()??0},paginationGetTotalPages:function(e){return e.paginationService?.getTotalPages()??1},paginationGetRowCount:function(e){return e.paginationService?e.paginationService.getMasterRowCount():e.rowModel.getRowCount()},paginationGoToNextPage:function(e){e.paginationService?.goToNextPage()},paginationGoToPreviousPage:function(e){e.paginationService?.goToPreviousPage()},paginationGoToFirstPage:function(e){e.paginationService?.goToFirstPage()},paginationGoToLastPage:function(e){e.paginationService?.goToLastPage()},paginationGoToPage:function(e,t){e.paginationService?.goToPage(t)}}}]},BR="clientSide",WR="serverSide",jR="infinite",zR={onGroupExpandedOrCollapsed:[BR],refreshClientSideRowModel:[BR],isRowDataEmpty:[BR],forEachLeafNode:[BR],forEachNodeAfterFilter:[BR],forEachNodeAfterFilterAndSort:[BR],resetRowHeights:[BR],applyTransaction:[BR],applyTransactionAsync:[BR],flushAsyncTransactions:[BR],getBestCostNodeSelection:[BR],getServerSideSelectionState:[WR],setServerSideSelectionState:[WR],applyServerSideTransaction:[WR],applyServerSideTransactionAsync:[WR],applyServerSideRowData:[WR],retryServerSideLoads:[WR],flushServerSideAsyncTransactions:[WR],refreshServerSide:[WR],getServerSideGroupLevelState:[WR],refreshInfiniteCache:[jR],purgeInfiniteCache:[jR],getInfiniteRowCount:[jR],isLastRowIndexKnown:[jR,WR],expandAll:[BR,WR],collapseAll:[BR,WR],onRowHeightChanged:[BR,WR],setRowCount:[jR,WR],getCacheBlockState:[jR,WR]},UR={getValue:{version:"v31.3",new:"getCellValue"},getFirstDisplayedRow:{version:"v31.1",new:"getFirstDisplayedRowIndex"},getLastDisplayedRow:{version:"v31.1",new:"getLastDisplayedRowIndex"},getModel:{version:"v31.1",message:"Please use the appropriate grid API methods instead."},setColumnVisible:{version:"v31.1",old:"setColumnVisible(key,visible)",new:"setColumnsVisible([key],visible)"},setColumnPinned:{version:"v31.1",old:"setColumnPinned(key,pinned)",new:"setColumnsPinned([key],pinned)"},moveColumn:{version:"v31.1",old:"moveColumn(key, toIndex)",new:"moveColumns([key], toIndex)"},setColumnWidth:{version:"v31.1",old:"setColumnWidth(col, width)",new:"setColumnWidths([{key: col, newWidth: width}])"},autoSizeColumn:{version:"v31.1",old:"autoSizeColumn(key, skipHeader)",new:"autoSizeColumns([key], skipHeader)"},addAggFunc:{version:"v31.1",old:"addAggFunc(key, func)",new:"addAggFuncs({ key: func })"},removeValueColumn:{version:"v31.1",old:"removeValueColumn(colKey)",new:"removeValueColumns([colKey])"},addValueColumn:{version:"v31.1",old:"addValueColumn(colKey)",new:"addValueColumns([colKey])"},removeRowGroupColumn:{version:"v31.1",old:"removeRowGroupColumn(colKey)",new:"removeRowGroupColumns([colKey])"},addRowGroupColumn:{version:"v31.1",old:"addRowGroupColumn(colKey)",new:"addRowGroupColumns([colKey])"},removePivotColumn:{version:"v31.1",old:"removePivotColumn(colKey)",new:"removePivotColumns([colKey])"},addPivotColumn:{version:"v31.1",old:"addPivotColumn(colKey)",new:"addPivotColumns([colKey])"},showColumnMenuAfterButtonClick:{version:"v31.1",message:"Use 'IHeaderParams.showColumnMenu' within a header component, or 'api.showColumnMenu' elsewhere."},showColumnMenuAfterMouseClick:{version:"v31.1",message:"Use 'IHeaderParams.showColumnMenuAfterMouseClick' within a header component, or 'api.showColumnMenu' elsewhere."},getFilterInstance:{version:"v31.1",message:"'getFilterInstance' is deprecated. To get/set individual filter models, use 'getColumnFilterModel' or 'setColumnFilterModel' instead. To get hold of the filter instance, use 'getColumnFilterInstance' which returns the instance asynchronously."},showLoadingOverlay:{version:"v32",message:'`showLoadingOverlay` is deprecated. Use the grid option "loading"=true instead or setGridOption("loading", true).'},clearRangeSelection:{version:"v32.2",message:"Use `clearCellSelection` instead."},getInfiniteRowCount:{version:"v32.2",old:"getInfiniteRowCount()",new:"getDisplayedRowCount()"}};var $R=(e,t)=>{const o=t.rowModelType??"clientSide";return"clientSide"===o||"serverSide"===o?{module:"@ag-grid-enterprise/row-grouping"}:null},KR={enableRowGroup:$R,rowGroup:$R,rowGroupIndex:$R,enablePivot:$R,enableValue:$R,pivot:$R,pivotIndex:$R,aggFunc:$R,cellEditor:e=>"agRichSelect"===e.cellEditor||"agRichSelectCellEditor"===e.cellEditor?{module:"@ag-grid-enterprise/rich-select"}:null,menuTabs:e=>{const t=["columnsMenuTab","generalMenuTab"];return e.menuTabs?.some((e=>t.includes(e)))?{module:"@ag-grid-enterprise/menu"}:null},columnsMenuParams:{module:["@ag-grid-enterprise/menu","@ag-grid-enterprise/column-tool-panel"]},columnChooserParams:{module:["@ag-grid-enterprise/menu","@ag-grid-enterprise/column-tool-panel"]},headerCheckboxSelection:{supportedRowModels:["clientSide","serverSide"],validate:(e,t)=>{let{rowSelection:o}=t;return"multiple"===o?null:"headerCheckboxSelection is only supported with rowSelection=multiple"}},headerCheckboxSelectionFilteredOnly:{supportedRowModels:["clientSide"],validate:(e,t)=>{let{rowSelection:o}=t;return"multiple"===o?null:"headerCheckboxSelectionFilteredOnly is only supported with rowSelection=multiple"}},headerCheckboxSelectionCurrentPageOnly:{supportedRowModels:["clientSide"],validate:(e,t)=>{let{rowSelection:o}=t;return"multiple"===o?null:"headerCheckboxSelectionCurrentPageOnly is only supported with rowSelection=multiple"}},children:()=>YR},YR={objectName:"colDef",allProperties:Object.keys({headerName:void 0,columnGroupShow:void 0,headerClass:void 0,toolPanelClass:void 0,headerValueGetter:void 0,pivotKeys:void 0,groupId:void 0,colId:void 0,sort:void 0,initialSort:void 0,field:void 0,type:void 0,cellDataType:void 0,tooltipComponent:void 0,tooltipField:void 0,headerTooltip:void 0,cellClass:void 0,showRowGroup:void 0,filter:void 0,initialAggFunc:void 0,defaultAggFunc:void 0,aggFunc:void 0,pinned:void 0,initialPinned:void 0,chartDataType:void 0,cellAriaRole:void 0,cellEditorPopupPosition:void 0,headerGroupComponent:void 0,headerGroupComponentParams:void 0,cellStyle:void 0,cellRenderer:void 0,cellRendererParams:void 0,cellEditor:void 0,cellEditorParams:void 0,filterParams:void 0,pivotValueColumn:void 0,headerComponent:void 0,headerComponentParams:void 0,floatingFilterComponent:void 0,floatingFilterComponentParams:void 0,tooltipComponentParams:void 0,refData:void 0,columnsMenuParams:void 0,columnChooserParams:void 0,children:void 0,sortingOrder:void 0,allowedAggFuncs:void 0,menuTabs:void 0,pivotTotalColumnIds:void 0,cellClassRules:void 0,icons:void 0,sortIndex:void 0,initialSortIndex:void 0,flex:void 0,initialFlex:void 0,width:void 0,initialWidth:void 0,minWidth:void 0,maxWidth:void 0,rowGroupIndex:void 0,initialRowGroupIndex:void 0,pivotIndex:void 0,initialPivotIndex:void 0,suppressCellFlash:void 0,suppressColumnsToolPanel:void 0,suppressFiltersToolPanel:void 0,openByDefault:void 0,marryChildren:void 0,suppressStickyLabel:void 0,hide:void 0,initialHide:void 0,rowGroup:void 0,initialRowGroup:void 0,pivot:void 0,initialPivot:void 0,checkboxSelection:void 0,showDisabledCheckboxes:void 0,headerCheckboxSelection:void 0,headerCheckboxSelectionFilteredOnly:void 0,headerCheckboxSelectionCurrentPageOnly:void 0,suppressMenu:void 0,suppressHeaderMenuButton:void 0,suppressMovable:void 0,lockPosition:void 0,lockVisible:void 0,lockPinned:void 0,unSortIcon:void 0,suppressSizeToFit:void 0,suppressAutoSize:void 0,enableRowGroup:void 0,enablePivot:void 0,enableValue:void 0,editable:void 0,suppressPaste:void 0,suppressNavigable:void 0,enableCellChangeFlash:void 0,rowDrag:void 0,dndSource:void 0,autoHeight:void 0,wrapText:void 0,sortable:void 0,resizable:void 0,singleClickEdit:void 0,floatingFilter:void 0,cellEditorPopup:void 0,suppressFillHandle:void 0,wrapHeaderText:void 0,autoHeaderHeight:void 0,dndSourceOnRowDrag:void 0,valueGetter:void 0,valueSetter:void 0,filterValueGetter:void 0,keyCreator:void 0,valueFormatter:void 0,valueParser:void 0,comparator:void 0,equals:void 0,pivotComparator:void 0,suppressKeyboardEvent:void 0,suppressHeaderKeyboardEvent:void 0,colSpan:void 0,rowSpan:void 0,getQuickFilterText:void 0,onCellValueChanged:void 0,onCellClicked:void 0,onCellDoubleClicked:void 0,onCellContextMenu:void 0,rowDragText:void 0,tooltipValueGetter:void 0,cellRendererSelector:void 0,cellEditorSelector:void 0,suppressSpanHeaderHeight:void 0,useValueFormatterForExport:void 0,useValueParserForImport:void 0,mainMenuItems:void 0,contextMenuItems:void 0,suppressFloatingFilterButton:void 0,suppressHeaderFilterButton:void 0,suppressHeaderContextMenu:void 0,loadingCellRenderer:void 0,loadingCellRendererParams:void 0,loadingCellRendererSelector:void 0,context:void 0}),docsUrl:"column-properties/",deprecations:{columnsMenuParams:{version:"31.1",message:"Use `columnChooserParams` instead."},suppressMenu:{version:"31.1",message:"Use `suppressHeaderMenuButton` instead."},suppressCellFlash:{version:"31.2",message:"Use `enableCellChangeFlash={false}` in the ColDef"},checkboxSelection:{version:"32.2",message:"Use `rowSelection.checkboxes` in `GridOptions` instead."},headerCheckboxSelection:{version:"32.2",message:"Use `rowSelection.headerCheckbox = true` in `GridOptions` instead."},headerCheckboxSelectionFilteredOnly:{version:"32.2",message:'Use `rowSelection.selectAll = "filtered"` in `GridOptions` instead.'},headerCheckboxSelectionCurrentPageOnly:{version:"32.2",message:'Use `rowSelection.selectAll = "currentPage"` in `GridOptions` instead.'},showDisabledCheckboxes:{version:"32.2",message:"Use `rowSelection.hideDisabledCheckboxes = true` in `GridOptions` instead."}},validations:KR},qR={suppressContextMenu:!1,preventDefaultOnContextMenu:!1,allowContextMenuWithControlKey:!1,suppressMenuHide:!0,enableBrowserTooltips:!1,tooltipTrigger:"hover",tooltipShowDelay:2e3,tooltipHideDelay:1e4,tooltipMouseTrack:!1,tooltipShowMode:"standard",tooltipInteraction:!1,copyHeadersToClipboard:!1,copyGroupHeadersToClipboard:!1,clipboardDelimiter:"\t",suppressCopyRowsToClipboard:!1,suppressCopySingleCellRanges:!1,suppressLastEmptyLineOnPaste:!1,suppressClipboardPaste:!1,suppressClipboardApi:!1,suppressCutToClipboard:!1,maintainColumnOrder:!1,enableStrictPivotColumnOrder:!1,suppressFieldDotNotation:!1,allowDragFromColumnsToolPanel:!1,suppressMovableColumns:!1,suppressColumnMoveAnimation:!1,suppressMoveWhenColumnDragging:!1,suppressDragLeaveHidesColumns:!1,suppressRowGroupHidesColumns:!1,suppressAutoSize:!1,autoSizePadding:20,skipHeaderOnAutoSize:!1,singleClickEdit:!1,suppressClickEdit:!1,readOnlyEdit:!1,stopEditingWhenCellsLoseFocus:!1,enterNavigatesVertically:!1,enterNavigatesVerticallyAfterEdit:!1,enableCellEditingOnBackspace:!1,undoRedoCellEditing:!1,undoRedoCellEditingLimit:10,suppressCsvExport:!1,suppressExcelExport:!1,cacheQuickFilter:!1,includeHiddenColumnsInQuickFilter:!1,excludeChildrenWhenTreeDataFiltering:!1,enableAdvancedFilter:!1,includeHiddenColumnsInAdvancedFilter:!1,enableCharts:!1,masterDetail:!1,keepDetailRows:!1,keepDetailRowsCount:10,detailRowAutoHeight:!1,tabIndex:0,rowBuffer:10,valueCache:!1,valueCacheNeverExpires:!1,enableCellExpressions:!1,suppressTouch:!1,suppressFocusAfterRefresh:!1,suppressAsyncEvents:!1,suppressBrowserResizeObserver:!1,suppressPropertyNamesCheck:!1,suppressChangeDetection:!1,debug:!1,suppressLoadingOverlay:!1,suppressNoRowsOverlay:!1,pagination:!1,paginationPageSize:100,paginationPageSizeSelector:!0,paginationAutoPageSize:!1,paginateChildRows:!1,suppressPaginationPanel:!1,pivotMode:!1,pivotPanelShow:"never",pivotDefaultExpanded:0,pivotSuppressAutoColumn:!1,suppressExpandablePivotGroups:!1,functionsReadOnly:!1,suppressAggFuncInHeader:!1,alwaysAggregateAtRootLevel:!1,aggregateOnlyChangedColumns:!1,suppressAggFilteredOnly:!1,removePivotHeaderRowWhenSingleValueColumn:!1,animateRows:!0,enableCellChangeFlash:!1,cellFlashDelay:500,cellFlashDuration:500,cellFadeDelay:1e3,cellFadeDuration:1e3,allowShowChangeAfterFilter:!1,domLayout:"normal",ensureDomOrder:!1,enableRtl:!1,suppressColumnVirtualisation:!1,suppressMaxRenderedRowRestriction:!1,suppressRowVirtualisation:!1,rowDragManaged:!1,suppressRowDrag:!1,suppressMoveWhenRowDragging:!1,rowDragEntireRow:!1,rowDragMultiRow:!1,embedFullWidthRows:!1,groupDisplayType:"singleColumn",groupDefaultExpanded:0,groupMaintainOrder:!1,groupSelectsChildren:!1,groupIncludeTotalFooter:!1,groupSuppressBlankHeader:!1,groupSelectsFiltered:!1,showOpenedGroup:!1,groupRemoveSingleChildren:!1,groupRemoveLowestSingleChildren:!1,groupHideOpenParents:!1,groupAllowUnbalanced:!1,rowGroupPanelShow:"never",suppressMakeColumnVisibleAfterUnGroup:!1,treeData:!1,rowGroupPanelSuppressSort:!1,suppressGroupRowsSticky:!1,rowModelType:"clientSide",asyncTransactionWaitMillis:50,suppressModelUpdateAfterUpdateTransaction:!1,cacheOverflowSize:1,infiniteInitialRowCount:1,serverSideInitialRowCount:1,suppressServerSideInfiniteScroll:!1,cacheBlockSize:100,maxBlocksInCache:-1,maxConcurrentDatasourceRequests:2,blockLoadDebounceMillis:0,purgeClosedRowNodes:!1,serverSideSortAllLevels:!1,serverSideOnlyRefreshFilteredGroups:!1,serverSideSortOnServer:!1,serverSideFilterOnServer:!1,serverSidePivotResultFieldSeparator:"_",viewportRowModelPageSize:5,viewportRowModelBufferSize:5,alwaysShowHorizontalScroll:!1,alwaysShowVerticalScroll:!1,debounceVerticalScrollbar:!1,suppressHorizontalScroll:!1,suppressScrollOnNewData:!1,suppressScrollWhenPopupsAreOpen:!1,suppressAnimationFrame:!1,suppressMiddleClickScrolls:!1,suppressPreventDefaultOnMouseWheel:!1,rowMultiSelectWithClick:!1,suppressRowDeselection:!1,suppressRowClickSelection:!1,suppressCellFocus:!1,suppressHeaderFocus:!1,suppressMultiRangeSelection:!1,enableCellTextSelection:!1,enableRangeSelection:!1,enableRangeHandle:!1,enableFillHandle:!1,fillHandleDirection:"xy",suppressClearOnFillReduction:!1,accentedSort:!1,unSortIcon:!1,suppressMultiSort:!1,alwaysMultiSort:!1,suppressMaintainUnsortedOrder:!1,suppressRowHoverHighlight:!1,suppressRowTransform:!1,columnHoverHighlight:!1,deltaSort:!1,enableGroupEdit:!1,suppressGroupMaintainValueType:!1,groupLockGroupColumns:0,serverSideEnableClientSideSort:!1,suppressServerSideFullWidthLoadingRow:!1,pivotMaxGeneratedColumns:-1,columnMenu:"new",reactiveCustomComponents:!0,suppressSetFilterByDefault:!1};var XR={version:hb,moduleName:"@ag-grid-community/core"},QR={version:hb,moduleName:"@ag-grid-community/core-validations",beans:[class extends Rm{constructor(){super(...arguments),this.beanName="validationService"}wireBeans(e){this.beans=e,this.gridOptions=e.gridOptions}postConstruct(){this.processGridOptions(this.gridOptions)}processGridOptions(e){this.processOptions(e,{objectName:"gridOptions",allProperties:[...Tv.ALL_PROPERTIES,...Av.EVENT_CALLBACKS],propertyExceptions:["api"],docsUrl:"grid-options/",deprecations:{advancedFilterModel:{version:"31",message:"Use `initialState.filter.advancedFilterModel` instead."},suppressAsyncEvents:{version:"31",message:"Events should be handled asynchronously."},cellFadeDelay:{version:"31.1",renamed:"cellFadeDuration"},cellFlashDelay:{version:"31.1",renamed:"cellFlashDuration"},suppressServerSideInfiniteScroll:{version:"31.1"},serverSideSortOnServer:{version:"31.1"},serverSideFilterOnServer:{version:"31.1"},enableCellChangeFlash:{version:"31.2",message:"Use `enableCellChangeFlash` in the `ColDef` or `defaultColDef` for all columns."},groupIncludeFooter:{version:"31.3",message:"Use `groupTotalRow` instead."},groupIncludeTotalFooter:{version:"31.3",message:"Use `grandTotalRow` instead."},suppressLoadingOverlay:{version:"32",message:"Use `loading`=false instead."},enableFillHandle:{version:"32.2",message:"Use `cellSelection.handle` instead."},enableRangeHandle:{version:"32.2",message:"Use `cellSelection.handle` instead."},enableRangeSelection:{version:"32.2",message:"Use `cellSelection = true` instead."},suppressMultiRangeSelection:{version:"32.2",message:"Use `cellSelection.suppressMultiRanges` instead."},suppressClearOnFillReduction:{version:"32.2",message:"Use `cellSelection.handle.suppressClearOnFillReduction` instead."},fillHandleDirection:{version:"32.2",message:"Use `cellSelection.handle.direction` instead."},fillOperation:{version:"32.2",message:"Use `cellSelection.handle.setFillValue` instead."},suppressRowClickSelection:{version:"32.2",message:"Use `rowSelection.enableClickSelection` instead."},suppressRowDeselection:{version:"32.2",message:"Use `rowSelection.enableClickSelection` instead."},rowMultiSelectWithClick:{version:"32.2",message:"Use `rowSelection.enableSelectionWithoutKeys` instead."},groupSelectsChildren:{version:"32.2",message:'Use `rowSelection.groupSelects = "descendants"` instead.'},groupSelectsFiltered:{version:"32.2",message:'Use `rowSelection.groupSelects = "filteredDescendants"` instead.'},isRowSelectable:{version:"32.2",message:"Use `selectionOptions.isRowSelectable` instead."},suppressCopySingleCellRanges:{version:"32.2",message:"Use `rowSelection.copySelectedRows` instead."},suppressCopyRowsToClipboard:{version:"32.2",message:"Use `rowSelection.copySelectedRows` instead."},onRangeSelectionChanged:{version:"32.2",message:"Use `onCellSelectionChanged` instead."},onRangeDeleteStart:{version:"32.2",message:"Use `onCellSelectionDeleteStart` instead."},onRangeDeleteEnd:{version:"32.2",message:"Use `onCellSelectionDeleteEnd` instead."},suppressBrowserResizeObserver:{version:"32.2",message:"The grid always uses the browser's ResizeObserver, this grid option has no effect."},onColumnEverythingChanged:{version:"32.2",message:"Either use `onDisplayedColumnsChanged` which is fired at the same time, or use one of the more specific column events."}},validations:{sideBar:{module:"@ag-grid-enterprise/side-bar"},statusBar:{module:"@ag-grid-enterprise/status-bar"},enableCharts:{module:"@ag-grid-enterprise/charts"},getMainMenuItems:{module:"@ag-grid-enterprise/menu"},getContextMenuItems:{module:"@ag-grid-enterprise/menu"},allowContextMenuWithControlKey:{module:"@ag-grid-enterprise/menu"},enableAdvancedFilter:{module:"@ag-grid-enterprise/advanced-filter"},treeData:{supportedRowModels:["clientSide","serverSide"],module:"@ag-grid-enterprise/row-grouping",validate:e=>{const t=e.rowModelType??"clientSide";switch(t){case"clientSide":{const o=`treeData requires 'getDataPath' in the ${t} row model.`;return e.getDataPath?null:o}case"serverSide":{const o=`treeData requires 'isServerSideGroup' and 'getServerSideGroupKey' in the ${t} row model.`;return e.isServerSideGroup&&e.getServerSideGroupKey?null:o}}return null}},masterDetail:{module:"@ag-grid-enterprise/master-detail"},enableRangeSelection:{module:"@ag-grid-enterprise/range-selection"},enableRangeHandle:{dependencies:{enableRangeSelection:[!0]}},enableFillHandle:{dependencies:{enableRangeSelection:[!0]}},groupDefaultExpanded:{supportedRowModels:["clientSide"]},groupIncludeFooter:{supportedRowModels:["clientSide","serverSide"],validate:e=>{switch(e.rowModelType??"clientSide"){case"clientSide":return null;case"serverSide":{const t="groupIncludeFooter is not supported alongside suppressServerSideInfiniteScroll";return e.suppressServerSideInfiniteScroll?t:null}}return null}},groupHideOpenParents:{supportedRowModels:["clientSide","serverSide"],dependencies:{groupTotalRow:[void 0,"bottom"]}},groupIncludeTotalFooter:{supportedRowModels:["clientSide"]},groupRemoveSingleChildren:{dependencies:{groupHideOpenParents:[void 0,!1],groupRemoveLowestSingleChildren:[void 0,!1]}},groupRemoveLowestSingleChildren:{dependencies:{groupHideOpenParents:[void 0,!1],groupRemoveSingleChildren:[void 0,!1]}},groupSelectsChildren:{dependencies:{rowSelection:["multiple"]}},viewportDatasource:{supportedRowModels:["viewport"],module:"@ag-grid-enterprise/viewport-row-model"},serverSideDatasource:{supportedRowModels:["serverSide"],module:"@ag-grid-enterprise/server-side-row-model"},cacheBlockSize:{supportedRowModels:["serverSide","infinite"]},datasource:{supportedRowModels:["infinite"],module:"@ag-grid-community/infinite-row-model"},rowData:{supportedRowModels:["clientSide"],module:"@ag-grid-community/client-side-row-model"},paginationPageSizeSelector:{validate:e=>{const t=e.paginationPageSizeSelector;return"boolean"===typeof t||null==t||t.length?null:"'paginationPageSizeSelector' cannot be an empty array.\n                    If you want to hide the page size selector, set paginationPageSizeSelector to false."}},rowSelection:{validate(e){let{rowSelection:t}=e;return t&&"string"===typeof t?'As of version 32.2.1, using `rowSelection` with the values "single" or "multiple" has been deprecated. Use the object value instead.':t&&"object"!==typeof t?"Expected `RowSelectionOptions` object for the `rowSelection` property.":null}},cellSelection:{module:"@ag-grid-enterprise/range-selection"},columnDefs:()=>YR,defaultColDef:()=>YR,defaultColGroupDef:()=>YR,autoGroupColumnDef:()=>YR,selectionColumnDef:()=>YR}})}validateApiFunction(e,t){return function(e,t,o){const n=UR[e];if(n){const{version:o,new:i,old:r,message:s}=n,a=r??e;return function(){nf(`Since ${o} api.${a} is deprecated. ${i?`Please use ${i} instead. `:""}${s??""}`);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.apply(t,n)}}const i=zR[e];return i?function(){const n=o.rowModel.getType();if(i.includes(n)){for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return t.apply(t,s)}rf(`api.${e} can only be called when gridOptions.rowModelType is ${i.join(" or ")}`)}:t}(e,t,this.beans)}processOptions(e,t){const{validations:o,deprecations:n,allProperties:i,propertyExceptions:r,objectName:s,docsUrl:a}=t;i&&!0!==this.gridOptions.suppressPropertyNamesCheck&&this.checkProperties(e,[...r??[],...Object.keys(n)],i,s,a);const l=new Set;Object.keys(e).forEach((t=>{const i=n[t];if(i)if("renamed"in i){const{renamed:o,version:n}=i;l.add(`As of v${n}, ${String(t)} is deprecated. Please use ${String(o)} instead.`),e[o]=e[t]}else{const{message:e,version:o}=i;l.add(`As of v${o}, ${String(t)} is deprecated. ${e??""}`)}const r=e[t];if(null==r||!1===r)return;const s=o[t];let a;if(!s)return;if("function"===typeof s){const o=s(e,this.gridOptions);if(!o)return;if("objectName"in o){const n=e[t];return Array.isArray(n)?void n.forEach((e=>{this.processOptions(e,o)})):void this.processOptions(e[t],o)}a=o}else a=s;const{module:c,dependencies:u,validate:d,supportedRowModels:h}=a;if(h){const e=this.gridOptions.rowModelType??"clientSide";if(!h.includes(e))return void l.add(`${String(t)} is not supported with the '${e}' row model.`)}if(c){const e=Array.isArray(c)?c:[c];let o=!0;if(e.forEach((e=>{this.gos.assertModuleRegistered(e,String(t))||(o=!1,l.add(`${String(t)} is only available when ${e} is loaded.`))})),!o)return}if(u){const o=this.checkForRequiredDependencies(t,u,e);if(o)return void l.add(o)}if(d){const t=d(e,this.gridOptions);if(t)return void l.add(t)}})),l.size>0&&l.forEach((e=>{nf(e)}))}checkForRequiredDependencies(e,t,o){const n=Object.entries(t).find((e=>{let[t,n]=e;const i=o[t];return!n.includes(i)}));if(!n)return null;const[i,r]=n;return r.length>1?`'${String(e)}' requires '${i}' to be one of [${r.join(", ")}].`:`'${String(e)}' requires '${i}' to be ${r[0]}.`}checkProperties(e,t,o,n,i){const r=function(e,t,o){const n={},i=e.filter((e=>!t.some((t=>t===e))));i.length>0&&i.forEach((e=>n[e]=PC({inputValue:e,allSuggestions:o}).values));return n}(Object.getOwnPropertyNames(e),["__ob__","__v_skip","__metadata__",...t,...o],o);if(Gm(r,((e,t)=>{let i=`invalid ${n} property '${e}' did you mean any of these: ${t.slice(0,8).join(", ")}.`;o.includes("context")&&(i+=`\nIf you are trying to annotate ${n} with application data, use the '${n}.context' property instead.`),nf(i)})),Object.keys(r).length>0&&i){const e=this.getFrameworkOverrides().getDocLink(i);nf(`to see all the valid ${n} properties please check: ${e}`)}}}]},ZR={version:hb,moduleName:"@ag-grid-community/core-community-features",dependantModules:[XR,QR,wE,Tb,LR,wR,CR,HR,_R]},JR=class extends Rm{constructor(){super(...arguments),this.beanName="gridDestroyService",this.destroyCalled=!1}wireBeans(e){this.beans=e}destroy(){this.destroyCalled||(this.eventService.dispatchEvent({type:"gridPreDestroyed",state:this.beans.stateService?.getState()??{}}),this.destroyCalled=!0,this.beans.ctrlsService.get("gridCtrl")?.destroyGridUi(),this.beans.context.destroy(),super.destroy())}isDestroyCalled(){return this.destroyCalled}},eP=new Set(["gridPreDestroyed","fillStart","pasteStart"]),tP=new Map([...Tv.BOOLEAN_PROPERTIES.map((e=>[e,wf])),...Tv.NUMBER_PROPERTIES.map((e=>[e,$w])),["groupAggFiltering",e=>"function"===typeof e?e:wf(e)],["pageSize",Kw(1)],["autoSizePadding",Kw(0)],["keepDetailRowsCount",Kw(1)],["rowBuffer",Kw(0)],["infiniteInitialRowCount",Kw(1)],["cacheOverflowSize",Kw(1)],["cacheBlockSize",Kw(1)],["serverSideInitialRowCount",Kw(1)],["viewportRowModelPageSize",Kw(1)],["viewportRowModelBufferSize",Kw(0)]]);function oP(e,t){const o=tP.get(e);return o?o(t):t}var nP=class e extends Rm{constructor(){super(...arguments),this.beanName="gos",this.domDataKey="__AG_"+Math.random().toString(),this.propertyEventService=new Zg,this.globalEventHandlerFactory=e=>(t,o)=>{if(!this.isAlive())return;const n=eP.has(t);if(n&&!e||!n&&e)return;const i=Av.getCallbackForEvent(t),r=this.gridOptions[i];"function"===typeof r&&this.frameworkOverrides.wrapOutgoing((()=>{r(o)}))}}wireBeans(e){this.gridOptions=e.gridOptions,this.eGridDiv=e.eGridDiv,this.validationService=e.validationService,this.environment=e.environment,this.api=e.gridApi,this.gridId=e.context.getGridId()}get gridOptionsContext(){return this.gridOptions.context}postConstruct(){const e=!this.get("suppressAsyncEvents");this.eventService.addGlobalListener(this.globalEventHandlerFactory().bind(this),e),this.eventService.addGlobalListener(this.globalEventHandlerFactory(!0).bind(this),!1),this.propertyEventService.setFrameworkOverrides(this.frameworkOverrides),this.addManagedEventListeners({gridOptionsChanged:e=>{let{options:t}=e;this.updateGridOptions({options:t,force:!0,source:"gridOptionsUpdated"})}})}get(e){return this.gridOptions[e]??qR[e]}getCallback(e){return this.mergeGridCommonParams(this.gridOptions[e])}exists(e){return gf(this.gridOptions[e])}mergeGridCommonParams(e){if(e){return t=>{const o=t;return o.api=this.api,o.context=this.gridOptionsContext,e(o)}}return e}updateGridOptions(t){let{options:o,force:n,source:i="api"}=t;const r={id:e.changeSetId++,properties:[]},s=[];Object.entries(o).forEach((e=>{let[t,o]=e;"api"===i&&Ov[t]&&nf(`${t} is an initial property and cannot be updated.`);const a=oP(t,o),l=n||"object"===typeof a&&"api"===i,c=this.gridOptions[t];if(l||c!==a){this.gridOptions[t]=a;const e={type:t,currentValue:a,previousValue:c,changeSet:r,source:i};s.push(e)}})),this.validationService?.processGridOptions(this.gridOptions),r.properties=s.map((e=>e.type)),s.forEach((e=>{this.gridOptions.debug&&of(`Updated property ${e.type} from`,e.previousValue," to ",e.currentValue),this.propertyEventService.dispatchEvent(e)}))}addPropertyEventListener(e,t){this.propertyEventService.addEventListener(e,t)}removePropertyEventListener(e,t){this.propertyEventService.removeEventListener(e,t)}getDomDataKey(){return this.domDataKey}getGridCommonParams(){return{api:this.api,context:this.gridOptionsContext}}addGridCommonParams(e){const t=e;return t.api=this.api,t.context=this.gridOptionsContext,t}assertModuleRegistered(e,t){return JC.__assertRegistered(e,t,this.gridId)}isModuleRegistered(e){return JC.__isRegistered(e,this.gridId)}};nP.changeSetId=0;var iP=nP,rP=class extends Rm{constructor(){super(...arguments),this.beanName="headerPositionUtils"}wireBeans(e){this.visibleColsService=e.visibleColsService,this.ctrlsService=e.ctrlsService}findHeader(e,t){let o,n;if(yv(e.column)?o=this.visibleColsService.getGroupAtDirection(e.column,t):(n=`getCol${t}`,o=this.visibleColsService[n](e.column)),!o)return;const{headerRowIndex:i}=e;if("filter"!==this.getHeaderRowType(i)){const e=[o];for(;o.getParent();)o=o.getParent(),e.push(o);o=e[e.length-1-i]}const{column:r,headerRowIndex:s}=this.getHeaderIndexToFocus(o,i);return{column:r,headerRowIndex:s}}getHeaderIndexToFocus(e,t){let o;if(yv(e)&&this.isAnyChildSpanningHeaderHeight(e)&&e.isPadding()){const n=e;o=n.getLeafColumns()[0];let i=o;for(;i!==n;)t++,i=i.getParent()}return{column:o||e,headerRowIndex:t}}isAnyChildSpanningHeaderHeight(e){return!!e&&e.getLeafColumns().some((e=>e.isSpanHeaderHeight()))}getColumnVisibleParent(e,t){const o=this.getHeaderRowType(t),n="column"===o;let i="filter"===o?e:e.getParent(),r=t-1,s=r;if(n&&this.isAnyChildSpanningHeaderHeight(e.getParent())){for(;i&&i.isPadding();)i=i.getParent(),r--;s=r,r<0&&(i=e,r=t,s=void 0)}return{column:i,headerRowIndex:r,headerRowIndexWithoutSpan:s}}getColumnVisibleChild(e,t){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"After";let n=e,i=t+1;const r=i;if("group"===this.getHeaderRowType(t)){const t=e.getDisplayedLeafColumns(),r="After"===o?t[0]:lm(t),s=[];let a=r;for(;a.getParent()!==e;)a=a.getParent(),s.push(a);if(n=r,r.isSpanHeaderHeight())for(let e=s.length-1;e>=0;e--){const t=s[e];if(!t.isPadding()){n=t;break}i++}else n=lm(s),n||(n=r)}return{column:n,headerRowIndex:i,headerRowIndexWithoutSpan:r}}getHeaderRowType(e){const t=this.ctrlsService.getHeaderRowContainerCtrl();if(t)return t.getRowType(e)}findColAtEdgeForHeaderRow(e,t){const o=this.visibleColsService.getAllCols(),n=o["start"===t?0:o.length-1];if(!n)return;const i=this.ctrlsService.getHeaderRowContainerCtrl(n.getPinned()),r=i?.getRowType(e);if("group"==r){return{headerRowIndex:e,column:this.visibleColsService.getColGroupAtLevel(n,e)}}return{headerRowIndex:null==r?-1:e,column:n}}},sP=class extends Rm{constructor(){super(...arguments),this.beanName="localeService"}getLocaleTextFunc(){const e=this.gos.getCallback("getLocaleText");if(e)return(t,o,n)=>e({key:t,defaultValue:o,variableValues:n});const t=this.gos.get("localeText");return(e,o,n)=>{let i=t&&t[e];if(i&&n&&n.length){let e=0;for(;!(e>=n.length);){if(-1===i.indexOf("${variable}"))break;i=i.replace("${variable}",n[e++])}}return i??o}}},aP=class extends Rm{constructor(){super(...arguments),this.beanName="apiEventService",this.syncEventListeners=new Map,this.asyncEventListeners=new Map,this.syncGlobalEventListeners=new Set,this.globalEventListenerPairs=new Map}postConstruct(){this.frameworkEventWrappingService=new Nm(this.getFrameworkOverrides())}addEventListener(e,t){const o=this.frameworkEventWrappingService.wrap(t),n=Df(this.gos)&&!eP.has(e),i=n?this.asyncEventListeners:this.syncEventListeners;i.has(e)||i.set(e,new Set),i.get(e).add(o),this.eventService.addEventListener(e,o,n)}removeEventListener(e,t){const o=this.frameworkEventWrappingService.unwrap(t),n=this.asyncEventListeners.get(e),i=!!n?.delete(o);i||this.syncEventListeners.get(e)?.delete(o),this.eventService.removeEventListener(e,o,i)}addGlobalListener(e){const t=this.frameworkEventWrappingService.wrapGlobal(e);if(Df(this.gos)){const o=(e,o)=>{eP.has(e)&&t(e,o)},n=(e,o)=>{eP.has(e)||t(e,o)};this.globalEventListenerPairs.set(e,{syncListener:o,asyncListener:n}),this.eventService.addGlobalListener(o,!1),this.eventService.addGlobalListener(n,!0)}else this.syncGlobalEventListeners.add(t),this.eventService.addGlobalListener(t,!1)}removeGlobalListener(e){const t=this.frameworkEventWrappingService.unwrapGlobal(e);if(this.globalEventListenerPairs.has(t)){const{syncListener:o,asyncListener:n}=this.globalEventListenerPairs.get(t);this.eventService.removeGlobalListener(o,!1),this.eventService.removeGlobalListener(n,!0),this.globalEventListenerPairs.delete(e)}else this.syncGlobalEventListeners.delete(t),this.eventService.removeGlobalListener(t,!1)}destroyEventListeners(e,t){e.forEach(((e,o)=>{e.forEach((e=>this.eventService.removeEventListener(o,e,t))),e.clear()})),e.clear()}destroyGlobalListeners(e,t){e.forEach((e=>this.eventService.removeGlobalListener(e,t))),e.clear()}destroy(){super.destroy(),this.destroyEventListeners(this.syncEventListeners,!1),this.destroyEventListeners(this.asyncEventListeners,!0),this.destroyGlobalListeners(this.syncGlobalEventListeners,!1),this.globalEventListenerPairs.forEach((e=>{let{syncListener:t,asyncListener:o}=e;this.eventService.removeGlobalListener(t,!1),this.eventService.removeGlobalListener(o,!0)})),this.globalEventListenerPairs.clear()}},lP=class extends Rm{constructor(){super(...arguments),this.beanName="pageBoundsListener"}wireBeans(e){this.rowModel=e.rowModel,this.paginationService=e.paginationService,this.pageBoundsService=e.pageBoundsService}postConstruct(){this.addManagedEventListeners({modelUpdated:this.onModelUpdated.bind(this),recalculateRowBounds:this.calculatePages.bind(this)}),this.onModelUpdated()}onModelUpdated(e){this.calculatePages(),this.eventService.dispatchEvent({type:"paginationChanged",animate:e?.animate??!1,newData:e?.newData??!1,newPage:e?.newPage??!1,newPageSize:e?.newPageSize??!1,keepRenderedRows:e?.keepRenderedRows??!1})}calculatePages(){this.paginationService?this.paginationService.calculatePages():this.pageBoundsService.calculateBounds(0,this.rowModel.getRowCount()-1)}},cP=class extends Rm{constructor(){super(...arguments),this.beanName="pageBoundsService",this.pixelOffset=0}wireBeans(e){this.rowModel=e.rowModel}getFirstRow(){return this.topRowBounds?this.topRowBounds.rowIndex:-1}getLastRow(){return this.bottomRowBounds?this.bottomRowBounds.rowIndex:-1}getCurrentPageHeight(){return ff(this.topRowBounds)||ff(this.bottomRowBounds)?0:Math.max(this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight-this.topRowBounds.rowTop,0)}getCurrentPagePixelRange(){return{pageFirstPixel:this.topRowBounds?this.topRowBounds.rowTop:0,pageLastPixel:this.bottomRowBounds?this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight:0}}calculateBounds(e,t){this.topRowBounds=this.rowModel.getRowBounds(e),this.topRowBounds&&(this.topRowBounds.rowIndex=e),this.bottomRowBounds=this.rowModel.getRowBounds(t),this.bottomRowBounds&&(this.bottomRowBounds.rowIndex=t),this.calculatePixelOffset()}getPixelOffset(){return this.pixelOffset}calculatePixelOffset(){const e=gf(this.topRowBounds)?this.topRowBounds.rowTop:0;this.pixelOffset!==e&&(this.pixelOffset=e,this.eventService.dispatchEvent({type:"paginationPixelOffsetChanged"}))}},uP=class extends Rm{constructor(){super(),this.beanName="ariaAnnouncementService",this.descriptionContainer=null,this.pendingAnnouncements=new Map,this.updateAnnouncement=df(this.updateAnnouncement.bind(this),200)}wireBeans(e){this.eGridDiv=e.eGridDiv}postConstruct(){const e=Nf(this.gos),t=this.descriptionContainer=e.createElement("div");t.classList.add("ag-aria-description-container"),Qv(t,"polite"),zv(t,"relevant","additions text"),function(e,t){zv(e,"atomic",t)}(t,!0),this.eGridDiv.appendChild(t)}announceValue(e,t){this.pendingAnnouncements.set(t,e),this.updateAnnouncement()}updateAnnouncement(){if(!this.descriptionContainer)return;const e=Array.from(this.pendingAnnouncements.values()).join(". ");this.pendingAnnouncements.clear(),this.descriptionContainer.textContent="",setTimeout((()=>{this.isAlive()&&this.descriptionContainer&&(this.descriptionContainer.textContent=e)}),50)}destroy(){super.destroy();const{descriptionContainer:e}=this;e&&(_y(e),e.parentElement&&e.parentElement.removeChild(e)),this.descriptionContainer=null,this.eGridDiv=null,this.pendingAnnouncements.clear()}},dP=class extends Rm{constructor(){super(...arguments),this.beanName="columnAnimationService",this.executeNextFuncs=[],this.executeLaterFuncs=[],this.active=!1,this.activeNext=!1,this.suppressAnimation=!1,this.animationThreadCount=0}wireBeans(e){this.ctrlsService=e.ctrlsService}postConstruct(){this.ctrlsService.whenReady(this,(e=>this.gridBodyCtrl=e.gridBodyCtrl))}isActive(){return this.active&&!this.suppressAnimation}setSuppressAnimation(e){this.suppressAnimation=e}start(){this.active||this.gos.get("suppressColumnMoveAnimation")||this.gos.get("enableRtl")||(this.ensureAnimationCssClassPresent(),this.active=!0,this.activeNext=!0)}finish(){this.active&&this.flush((()=>this.activeNext=!1),(()=>this.active=!1))}executeNextVMTurn(e){this.activeNext?this.executeNextFuncs.push(e):e()}executeLaterVMTurn(e){this.active?this.executeLaterFuncs.push(e):e()}ensureAnimationCssClassPresent(){this.animationThreadCount++;const e=this.animationThreadCount;this.gridBodyCtrl.setColumnMovingCss(!0),this.executeLaterFuncs.push((()=>{this.animationThreadCount===e&&this.gridBodyCtrl.setColumnMovingCss(!1)}))}flush(e,t){if(0===this.executeNextFuncs.length&&0===this.executeLaterFuncs.length)return e(),void t();const o=e=>{for(;e.length;){const t=e.pop();t&&t()}};this.getFrameworkOverrides().wrapIncoming((()=>{window.setTimeout((()=>{e(),o(this.executeNextFuncs)}),0),window.setTimeout((()=>{t(),o(this.executeLaterFuncs)}),200)}))}},hP=class extends Rm{constructor(){super(...arguments),this.beanName="columnHoverService"}setMouseOver(e){this.updateState(e)}clearMouseOver(){this.updateState(null)}isHovered(e){return!!this.selectedColumns&&this.selectedColumns.indexOf(e)>=0}updateState(e){this.selectedColumns=e,this.eventService.dispatchEvent({type:"columnHoverChanged"})}},pP=class extends Rm{constructor(){super(...arguments),this.beanName="overlayService",this.state=0,this.showInitialOverlay=!0,this.wrapperPadding=0}wireBeans(e){this.userComponentFactory=e.userComponentFactory,this.rowModel=e.rowModel,this.columnModel=e.columnModel,this.ctrlsService=e.ctrlsService}postConstruct(){this.isClientSide=Pf(this.gos);const e=()=>this.updateOverlayVisibility();this.addManagedEventListeners({newColumnsLoaded:e,rowDataUpdated:e,gridSizeChanged:this.onGridSizeChanged.bind(this),rowCountReady:()=>{this.showInitialOverlay=!1,this.updateOverlayVisibility()}}),this.addManagedPropertyListener("loading",e)}setOverlayWrapperComp(e){this.overlayWrapperComp=e,this.updateOverlayVisibility()}isVisible(){return 0!==this.state&&!!this.overlayWrapperComp}isExclusive(){return 1===this.state&&!!this.overlayWrapperComp}getOverlayWrapper(){return this.overlayWrapperComp}showLoadingOverlay(){this.showInitialOverlay=!1;const e=this.gos.get("loading");(e||void 0===e&&!this.gos.get("suppressLoadingOverlay"))&&this.doShowLoadingOverlay()}showNoRowsOverlay(){this.showInitialOverlay=!1,this.gos.get("loading")||this.gos.get("suppressNoRowsOverlay")||this.doShowNoRowsOverlay()}hideOverlay(){this.showInitialOverlay=!1,this.gos.get("loading")?nf("Since v32, `api.hideOverlay()` does not hide the loading overlay when `loading=true`. Set `loading=false` instead."):this.doHideOverlay()}updateOverlayVisibility(){if(!this.overlayWrapperComp)return void(this.state=0);let e=this.gos.get("loading");this.showInitialOverlay&&void 0===e&&!this.gos.get("suppressLoadingOverlay")&&(e=!this.gos.get("columnDefs")||!this.columnModel.isReady()||!this.gos.get("rowData")&&this.isClientSide),e?1!==this.state&&this.doShowLoadingOverlay():(this.showInitialOverlay=!1,this.rowModel.isEmpty()&&!this.gos.get("suppressNoRowsOverlay")&&this.isClientSide?2!==this.state&&this.doShowNoRowsOverlay():0!==this.state&&this.doHideOverlay())}doShowLoadingOverlay(){this.overlayWrapperComp&&(this.state=1,this.showOverlay(this.userComponentFactory.getLoadingOverlayCompDetails({}),"ag-overlay-loading-wrapper","loadingOverlayComponentParams"),this.updateExclusive())}doShowNoRowsOverlay(){this.overlayWrapperComp&&(this.state=2,this.showOverlay(this.userComponentFactory.getNoRowsOverlayCompDetails({}),"ag-overlay-no-rows-wrapper","noRowsOverlayComponentParams"),this.updateExclusive())}doHideOverlay(){this.overlayWrapperComp&&(this.state=0,this.overlayWrapperComp.hideOverlay(),this.updateExclusive())}showOverlay(e,t,o){const n=e.newAgStackInstance();this.overlayWrapperComp?.showOverlay(n,t,this.isExclusive(),o),this.refreshWrapperPadding()}updateExclusive(){const e=this.exclusive;this.exclusive=this.isExclusive(),this.exclusive!==e&&this.eventService.dispatchEvent({type:"overlayExclusiveChanged"})}onGridSizeChanged(){this.refreshWrapperPadding()}refreshWrapperPadding(){if(!this.overlayWrapperComp)return;let e=0;if(2===this.state){const t=this.ctrlsService.get("gridHeaderCtrl");e=t?.getHeaderHeight()||0}else 0!==this.wrapperPadding&&(e=0);this.wrapperPadding!==e&&(this.wrapperPadding=e,this.overlayWrapperComp.updateOverlayWrapperPaddingTop(e))}},gP=class extends Rm{constructor(){super(...arguments),this.beanName="rowCssClassCalculator"}wireBeans(e){this.stylingService=e.stylingService}getInitialRowClasses(e){const t=[];return gf(e.extraCssClass)&&t.push(e.extraCssClass),t.push("ag-row"),t.push(e.rowFocused?"ag-row-focus":"ag-row-no-focus"),e.fadeRowIn&&t.push("ag-opacity-zero"),t.push(e.rowIsEven?"ag-row-even":"ag-row-odd"),e.rowNode.isRowPinned()&&t.push("ag-row-pinned"),e.rowNode.isSelected()&&t.push("ag-row-selected"),e.rowNode.footer&&t.push("ag-row-footer"),t.push("ag-row-level-"+e.rowLevel),e.rowNode.stub&&t.push("ag-row-loading"),e.fullWidthRow&&t.push("ag-full-width-row"),e.expandable&&(t.push("ag-row-group"),t.push(e.rowNode.expanded?"ag-row-group-expanded":"ag-row-group-contracted")),e.rowNode.dragging&&t.push("ag-row-dragging"),fm(t,this.processClassesFromGridOptions(e.rowNode)),fm(t,this.preProcessRowClassRules(e.rowNode)),t.push(e.printLayout?"ag-row-position-relative":"ag-row-position-absolute"),e.firstRowOnPage&&t.push("ag-row-first"),e.lastRowOnPage&&t.push("ag-row-last"),e.fullWidthRow&&("left"===e.pinned&&t.push("ag-cell-last-left-pinned"),"right"===e.pinned&&t.push("ag-cell-first-right-pinned")),t}processClassesFromGridOptions(e){const t=[],o=e=>{"string"===typeof e?t.push(e):Array.isArray(e)&&e.forEach((e=>t.push(e)))},n=this.gos.get("rowClass");if(n){if("function"===typeof n)return nf("rowClass should not be a function, please use getRowClass instead"),[];o(n)}const i=this.gos.getCallback("getRowClass");if(i){o(i({data:e.data,node:e,rowIndex:e.rowIndex}))}return t}preProcessRowClassRules(e){const t=[];return this.processRowClassRules(e,(e=>{t.push(e)}),(()=>{})),t}processRowClassRules(e,t,o){const n=this.gos.addGridCommonParams({data:e.data,node:e,rowIndex:e.rowIndex});this.stylingService.processClassRules(void 0,this.gos.get("rowClassRules"),n,t,o)}calculateRowLevel(e){return e.group?e.level:e.parent?e.parent.level+1:0}},fP=class extends Rm{constructor(){super(...arguments),this.beanName="rowContainerHeightService",this.scrollY=0,this.uiBodyHeight=0}wireBeans(e){this.ctrlsService=e.ctrlsService}postConstruct(){this.addManagedEventListeners({bodyHeightChanged:this.updateOffset.bind(this)}),this.maxDivHeight=function(){if(void 0!==Bv)return Bv;if(!document.body)return-1;let e=1e6;const t=dy()?6e6:1e9,o=document.createElement("div");for(document.body.appendChild(o);;){const n=2*e;if(o.style.height=n+"px",n>t||o.clientHeight!==n)break;e=n}return document.body.removeChild(o),Bv=e,e}(),this.gos.get("debug")&&of("RowContainerHeightService - maxDivHeight = "+this.maxDivHeight)}isStretching(){return this.stretching}getDivStretchOffset(){return this.divStretchOffset}updateOffset(){if(!this.stretching)return;const e=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition().top,t=this.getUiBodyHeight();(e!==this.scrollY||t!==this.uiBodyHeight)&&(this.scrollY=e,this.uiBodyHeight=t,this.calculateOffset())}calculateOffset(){this.setUiContainerHeight(this.maxDivHeight),this.pixelsToShave=this.modelHeight-this.uiContainerHeight,this.maxScrollY=this.uiContainerHeight-this.uiBodyHeight;const e=this.scrollY/this.maxScrollY,t=e*this.pixelsToShave;this.gos.get("debug")&&of(`RowContainerHeightService - Div Stretch Offset = ${t} (${this.pixelsToShave} * ${e})`),this.setDivStretchOffset(t)}setUiContainerHeight(e){e!==this.uiContainerHeight&&(this.uiContainerHeight=e,this.eventService.dispatchEvent({type:"rowContainerHeightChanged"}))}clearOffset(){this.setUiContainerHeight(this.modelHeight),this.pixelsToShave=0,this.setDivStretchOffset(0)}setDivStretchOffset(e){const t="number"===typeof e?Math.floor(e):null;this.divStretchOffset!==t&&(this.divStretchOffset=t,this.eventService.dispatchEvent({type:"heightScaleChanged"}))}setModelHeight(e){this.modelHeight=e,this.stretching=null!=e&&this.maxDivHeight>0&&e>this.maxDivHeight,this.stretching?this.calculateOffset():this.clearOffset()}getUiContainerHeight(){return this.uiContainerHeight}getRealPixelPosition(e){return e-this.divStretchOffset}getUiBodyHeight(){const e=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition();return e.bottom-e.top}getScrollPositionForPixel(e){if(this.pixelsToShave<=0)return e;const t=e/(this.modelHeight-this.getUiBodyHeight());return this.maxScrollY*t}},mP=class extends Rm{constructor(){super(...arguments),this.beanName="rowNodeSorter"}wireBeans(e){this.valueService=e.valueService,this.columnModel=e.columnModel,this.showRowGroupColsService=e.showRowGroupColsService}postConstruct(){this.isAccentedSort=this.gos.get("accentedSort"),this.primaryColumnsSortGroups=jf(this.gos),this.addManagedPropertyListener("accentedSort",(e=>this.isAccentedSort=e.currentValue)),this.addManagedPropertyListener("autoGroupColumnDef",(()=>this.primaryColumnsSortGroups=jf(this.gos)))}doFullSort(e,t){const o=e.map(((e,t)=>({currentPos:t,rowNode:e})));return o.sort(this.compareRowNodes.bind(this,t)),o.map((e=>e.rowNode))}compareRowNodes(e,t,o){const n=t.rowNode,i=o.rowNode;for(let r=0,s=e.length;r<s;r++){const t=e[r],o="desc"===t.sort,s=this.getValue(n,t.column),a=this.getValue(i,t.column);let l;const c=this.getComparator(t,n);l=c?c(s,a,n,i,o):Sf(s,a,this.isAccentedSort);if(!isNaN(l)&&0!==l)return"asc"===t.sort?l:-1*l}return t.currentPos-o.currentPos}getComparator(e,t){const o=e.column,n=o.getColDef().comparator;if(null!=n)return n;if(!o.getColDef().showRowGroup)return;const i=!t.group&&o.getColDef().field;if(!i)return;const r=this.columnModel.getColDefCol(i);return r?r.getColDef().comparator:void 0}getValue(e,t){if(!this.primaryColumnsSortGroups)return this.valueService.getValue(t,e,!1,!1);if(e.rowGroupColumn===t){if(Yf(this.gos,this.columnModel.isPivotActive())){const o=e.allLeafChildren?.[0];return o?this.valueService.getValue(t,o,!1,!1):void 0}const o=this.showRowGroupColsService?.getShowRowGroupCol(t.getId());if(!o)return;return e.groupData?.[o.getId()]}return e.group&&t.getColDef().showRowGroup?void 0:this.valueService.getValue(t,e,!1,!1)}},vP=class{constructor(e,t){this.active=!0,this.nodeIdsToColumns={},this.mapToItems={},this.keepingColumns=e,this.pathRoot={rowNode:t,children:null},this.mapToItems[t.id]=this.pathRoot}setInactive(){this.active=!1}isActive(){return this.active}depthFirstSearchChangedPath(e,t){if(e.children)for(let o=0;o<e.children.length;o++)this.depthFirstSearchChangedPath(e.children[o],t);t(e.rowNode)}depthFirstSearchEverything(e,t,o){if(e.childrenAfterGroup)for(let n=0;n<e.childrenAfterGroup.length;n++){const i=e.childrenAfterGroup[n];i.childrenAfterGroup?this.depthFirstSearchEverything(e.childrenAfterGroup[n],t,o):o&&t(i)}t(e)}forEachChangedNodeDepthFirst(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.active&&!o?this.depthFirstSearchChangedPath(this.pathRoot,e):this.depthFirstSearchEverything(this.pathRoot.rowNode,e,t)}executeFromRootNode(e){e(this.pathRoot.rowNode)}createPathItems(e){let t=e,o=0;for(;!this.mapToItems[t.id];){const e={rowNode:t,children:null};this.mapToItems[t.id]=e,o++,t=t.parent}return o}populateColumnsMap(e,t){if(!this.keepingColumns||!t)return;let o=e;for(;o;)this.nodeIdsToColumns[o.id]||(this.nodeIdsToColumns[o.id]={}),t.forEach((e=>this.nodeIdsToColumns[o.id][e.getId()]=!0)),o=o.parent}linkPathItems(e,t){let o=e;for(let n=0;n<t;n++){const e=this.mapToItems[o.id],t=this.mapToItems[o.parent.id];t.children||(t.children=[]),t.children.push(e),o=o.parent}}addParentNode(e,t){if(!e||e.isRowPinned())return;const o=this.createPathItems(e);this.linkPathItems(e,o),this.populateColumnsMap(e,t)}canSkip(e){return this.active&&!this.mapToItems[e.id]}getValueColumnsForNode(e,t){if(!this.keepingColumns)return t;const o=this.nodeIdsToColumns[e.id];return t.filter((e=>o[e.getId()]))}getNotValueColumnsForNode(e,t){if(!this.keepingColumns)return null;const o=this.nodeIdsToColumns[e.id];return t.filter((e=>!o[e.getId()]))}},yP=class extends Rm{constructor(){super(...arguments),this.beanName="selectionService",this.selectedNodes=new Map,this.selectionCtx=new DE,this.rowSelectionMode=void 0}wireBeans(e){this.rowModel=e.rowModel,this.pageBoundsService=e.pageBoundsService}postConstruct(){const{gos:e,rowModel:t,onRowSelected:o}=this;this.selectionCtx.init(t),this.rowSelectionMode=nm(e),this.groupSelectsChildren=sm(e),this.addManagedPropertyListeners(["groupSelectsChildren","rowSelection"],(()=>{const t=sm(e),o=nm(e);t===this.groupSelectsChildren&&o===this.rowSelectionMode||(this.groupSelectsChildren=t,this.rowSelectionMode=o,this.deselectAllRowNodes({source:"api"}))})),this.addManagedEventListeners({rowSelected:o.bind(this)})}destroy(){super.destroy(),this.resetNodes(),this.selectionCtx.reset()}isMultiSelect(){return"multiRow"===this.rowSelectionMode}overrideSelectionValue(e,t){if(!(e=>"checkboxSelected"===e||"rowClicked"===e||"spaceKey"===e||"uiSelectAll"===e||"uiSelectAllCurrentPage"===e||"uiSelectAllFiltered"===e)(t))return e;const o=this.selectionCtx.getRoot();return!o||(o.isSelected()??!1)}setNodesSelected(e){const{newValue:t,clearSelection:o,suppressFinishActions:n,rangeSelect:i,nodes:r,event:s,source:a}=e;if(0===r.length)return 0;if(r.length>1&&!this.isMultiSelect())return nf("cannot multi select unless selection mode is 'multiRow'"),0;const l=this.groupSelectsChildren&&!0===e.groupSelectsFiltered,c=r.map((e=>e.footer?e.sibling:e));if(i){if(c.length>1)return nf("cannot range select while selecting multiple rows"),0;const e=c[0],o=this.overrideSelectionValue(t,a);if(this.isMultiSelect()){if(this.selectionCtx.isInRange(e)){const t=this.selectionCtx.truncate(e);return o&&this.selectRange(t.discard,!1,a),this.selectRange(t.keep,o,a)}if(this.selectionCtx.getRoot()!==e){const t=this.selectionCtx.extend(e,this.groupSelectsChildren);return o&&this.selectRange(t.discard,!1,a),this.selectRange(t.keep,o,a)}}else;}n||this.selectionCtx.setRoot(c[0]);let u=0;for(let d=0;d<c.length;d++){const e=c[d];if(!(l&&e.group)){e.selectThisNode(t,s,a)&&u++}this.groupSelectsChildren&&e.childrenAfterGroup?.length&&(u+=this.selectChildren(e,t,l,a))}if(!n){t&&(o||!this.isMultiSelect())&&(u+=this.clearOtherNodes(c[0],a)),u>0&&(this.updateGroupsFromChildrenSelections(a),this.dispatchSelectionChanged(a))}return u}selectRange(e,t,o){let n=0;return e.forEach((e=>{if(e.group&&this.groupSelectsChildren)return;e.selectThisNode(t,void 0,o)&&n++})),n>0&&(this.updateGroupsFromChildrenSelections(o),this.dispatchSelectionChanged(o)),n}selectChildren(e,t,o,n){const i=o?e.childrenAfterAggFilter:e.childrenAfterGroup;return ff(i)?0:this.setNodesSelected({newValue:t,clearSelection:!1,suppressFinishActions:!0,groupSelectsFiltered:o,source:n,nodes:i})}getSelectedNodes(){const e=[];return this.selectedNodes.forEach((t=>{t&&e.push(t)})),e}getSelectedRows(){const e=[];return this.selectedNodes.forEach((t=>{t&&t.data&&e.push(t.data)})),e}getSelectionCount(){return this.selectedNodes.size}filterFromSelection(e){const t=new Map;this.selectedNodes.forEach(((o,n)=>{o&&e(o)&&t.set(n,o)})),this.selectedNodes=t}updateGroupsFromChildrenSelections(e,t){if(!this.groupSelectsChildren)return!1;if(!Pf(this.gos))return!1;const o=this.rowModel.getRootNode();t||(t=new vP(!0,o)).setInactive();let n=!1;return t.forEachChangedNodeDepthFirst((t=>{if(t!==o){const o=t.calculateSelectedFromChildren();n=t.selectThisNode(null!==o&&o,void 0,e)||n}})),n}clearOtherNodes(e,t){const o=new Map;let n=0;return this.selectedNodes.forEach((i=>{if(i&&i.id!==e.id){const e=this.selectedNodes.get(i.id);n+=e.setSelectedParams({newValue:!1,clearSelection:!1,suppressFinishActions:!0,source:t}),this.groupSelectsChildren&&i.parent&&o.set(i.parent.id,i.parent)}})),o.forEach((e=>{const o=e.calculateSelectedFromChildren();e.selectThisNode(null!==o&&o,void 0,t)})),n}onRowSelected(e){const t=e.node;this.groupSelectsChildren&&t.group||(t.isSelected()?this.selectedNodes.set(t.id,t):this.selectedNodes.delete(t.id))}syncInRowNode(e,t){this.syncInOldRowNode(e,t),this.syncInNewRowNode(e)}syncInOldRowNode(e,t){if(gf(t)&&e.id!==t.id&&t){const o=t.id;this.selectedNodes.get(o)==e&&this.selectedNodes.set(t.id,t)}}syncInNewRowNode(e){this.selectedNodes.has(e.id)?(e.setSelectedInitialValue(!0),this.selectedNodes.set(e.id,e)):e.setSelectedInitialValue(!1)}reset(e){const t=this.getSelectionCount();this.resetNodes(),t&&this.dispatchSelectionChanged(e)}resetNodes(){this.selectedNodes?.clear()}getBestCostNodeSelection(){if(!Pf(this.gos))return;const e=this.rowModel.getTopLevelNodes();if(null===e)return;const t=[];return function e(o){for(let n=0,i=o.length;n<i;n++){const i=o[n];if(i.isSelected())t.push(i);else{const t=i;t.group&&t.children&&e(t.children)}}}(e),t}isEmpty(){let e=0;return this.selectedNodes.forEach((t=>{t&&e++})),0===e}deselectAllRowNodes(e){const t=e=>e.selectThisNode(!1,void 0,n),o=Pf(this.gos),{source:n,justFiltered:i,justCurrentPage:r}=e;if(r||i){if(!o)return void rf("selecting just filtered only works when gridOptions.rowModelType='clientSide'");this.getNodesToSelect(i,r).forEach(t)}else this.selectedNodes.forEach((e=>{e&&t(e)})),this.reset(n);this.selectionCtx.reset(),o&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(n),this.dispatchSelectionChanged(n)}getSelectedCounts(e,t){let o=0,n=0;return this.getNodesToSelect(e,t).forEach((e=>{this.groupSelectsChildren&&e.group||(e.isSelected()?o++:e.selectable&&n++)})),{selectedCount:o,notSelectedCount:n}}getSelectAllState(e,t){const{selectedCount:o,notSelectedCount:n}=this.getSelectedCounts(e,t);return(0!==o||0!==n)&&(o>0&&n>0?null:o>0)}hasNodesToSelect(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.getNodesToSelect(e,t).filter((e=>e.selectable)).length>0}getNodesToSelect(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.validateSelectAllType();const o=[];if(t)return this.forEachNodeOnPage((e=>{if(e.group)if(e.expanded)this.groupSelectsChildren||o.push(e);else{const t=e=>{o.push(e),e.childrenAfterFilter?.length&&e.childrenAfterFilter.forEach(t)};t(e)}else o.push(e)})),o;const n=this.rowModel;return e?(n.forEachNodeAfterFilter((e=>{o.push(e)})),o):(n.forEachNode((e=>{o.push(e)})),o)}forEachNodeOnPage(e){const t=this.pageBoundsService.getFirstRow(),o=this.pageBoundsService.getLastRow();for(let n=t;n<=o;n++){const t=this.rowModel.getRow(n);t&&e(t)}}selectAllRowNodes(e){if("string"!==typeof this.gos.get("rowSelection")&&!im(this.gos))return nf("cannot multi select unless selection mode is 'multiRow'");this.validateSelectAllType();const{source:t,justFiltered:o,justCurrentPage:n}=e,i=this.getNodesToSelect(o,n);i.forEach((e=>e.selectThisNode(!0,void 0,t))),this.selectionCtx.setRoot(i[0]??null),this.selectionCtx.setEndRange(lm(i)??null),Pf(this.gos)&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(t),this.dispatchSelectionChanged(t)}getSelectionState(){const e=[];return this.selectedNodes.forEach((t=>{t?.id&&e.push(t.id)})),e.length?e:null}setSelectionState(e,t){if(!Array.isArray(e))return rf("Invalid selection state. When using client-side row model, the state must conform to `string[]`.");const o=new Set(e),n=[];this.rowModel.forEachNode((e=>{o.has(e.id)&&n.push(e)})),this.setNodesSelected({newValue:!0,nodes:n,source:t})}dispatchSelectionChanged(e){this.eventService.dispatchEvent({type:"selectionChanged",source:e})}validateSelectAllType(){if(!Pf(this.gos))throw new Error(`selectAll only available when rowModelType='clientSide', ie not ${this.rowModel.getType()}`)}},CP=class extends Rm{constructor(){super(...arguments),this.beanName="selectableService"}wireBeans(e){this.rowModel=e.rowModel,this.selectionService=e.selectionService}postConstruct(){this.addManagedPropertyListeners(["isRowSelectable","rowSelection"],(()=>this.updateSelectable()))}updateSelectableAfterGrouping(){this.updateSelectable(!0)}updateSelectable(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const{gos:t}=this,o=Tf(t),n=om(t);if(!o||!n)return;const i=sm(t),r=Pf(t)&&i,s=[],a=t=>{if(e&&!t.group)return;if(r&&t.group){const e=t.childrenAfterGroup.some((e=>!0===e.selectable));return void t.setRowSelectable(e,!0)}const o=n?.(t)??!0;t.setRowSelectable(o,!0),!o&&t.isSelected()&&s.push(t)};if(r){const e=this.rowModel;new vP(!1,e.getRootNode()).forEachChangedNodeDepthFirst(a,!0,!0)}else this.rowModel.forEachNode(a);s.length&&this.selectionService.setNodesSelected({nodes:s,newValue:!1,source:"selectableChanged"}),r&&this.selectionService instanceof yP&&this.selectionService.updateGroupsFromChildrenSelections("selectableChanged")}},wP=["asc","desc",null],bP=class extends Rm{constructor(){super(...arguments),this.beanName="sortController"}wireBeans(e){this.columnModel=e.columnModel,this.funcColsService=e.funcColsService,this.showRowGroupColsService=e.showRowGroupColsService}progressSort(e,t,o){const n=this.getNextSortDirection(e);this.setSortForColumn(e,n,t,o)}setSortForColumn(e,t,o,n){"asc"!==t&&"desc"!==t&&(t=null);let i=[e];if(jf(this.gos)&&e.getColDef().showRowGroup){const t=this.funcColsService.getSourceColumnsForGroupColumn(e),o=t?.filter((e=>e.isSortable()));o&&(i=[e,...o])}i.forEach((e=>e.setSort(t,n)));const r=[];if(!((o||this.gos.get("alwaysMultiSort"))&&!this.gos.get("suppressMultiSort"))){const e=this.clearSortBarTheseColumns(i,n);r.push(...e)}this.updateSortIndex(e),r.push(...i),this.dispatchSortChangedEvents(n,r)}updateSortIndex(e){const t=jf(this.gos),o=this.showRowGroupColsService?.getShowRowGroupCol(e.getId()),n=t&&o||e,i=this.getColumnsWithSortingOrdered();this.columnModel.getAllCols().forEach((e=>e.setSortIndex(null)));const r=i.filter((e=>(!t||!e.getColDef().showRowGroup)&&e!==n));(n.getSort()?[...r,n]:r).forEach(((e,t)=>{e.setSortIndex(t)}))}onSortChanged(e,t){this.dispatchSortChangedEvents(e,t)}isSortActive(){const e=this.columnModel.getAllCols().filter((e=>!!e.getSort()));return e&&e.length>0}dispatchSortChangedEvents(e,t){const o={type:"sortChanged",source:e};t&&(o.columns=t),this.eventService.dispatchEvent(o)}clearSortBarTheseColumns(e,t){const o=[];return this.columnModel.getAllCols().forEach((n=>{e.includes(n)||(n.getSort()&&o.push(n),n.setSort(void 0,t))})),o}getNextSortDirection(e){let t;if(t=e.getColDef().sortingOrder?e.getColDef().sortingOrder:this.gos.get("sortingOrder")?this.gos.get("sortingOrder"):wP,!Array.isArray(t)||t.length<=0)return nf(`sortingOrder must be an array with at least one element, currently it's ${t}`),null;const o=t.indexOf(e.getSort()),n=o<0,i=o==t.length-1;let r;return r=n||i?t[0]:t[o+1],wP.indexOf(r)<0?(nf("invalid sort type ",r),null):r}getIndexedSortMap(){let e=this.columnModel.getAllCols().filter((e=>!!e.getSort()));if(this.columnModel.isPivotMode()){const t=jf(this.gos);e=e.filter((e=>{const o=!!e.getAggFunc(),n=!e.isPrimary(),i=t?this.showRowGroupColsService?.getShowRowGroupCol(e.getId()):e.getColDef().showRowGroup;return o||n||i}))}const t=this.funcColsService.getRowGroupColumns().filter((e=>!!e.getSort())),o={};e.forEach(((e,t)=>o[e.getId()]=t)),e.sort(((e,t)=>{const n=e.getSortIndex(),i=t.getSortIndex();if(null!=n&&null!=i)return n-i;if(null==n&&null==i){return o[e.getId()]>o[t.getId()]?1:-1}return null==i?-1:1}));const n=jf(this.gos)&&!!t.length;n&&(e=[...new Set(e.map((e=>this.showRowGroupColsService?.getShowRowGroupCol(e.getId())??e)))]);const i=new Map;return e.forEach(((e,t)=>i.set(e,t))),n&&t.forEach((e=>{const t=this.showRowGroupColsService.getShowRowGroupCol(e.getId());i.set(e,i.get(t))})),i}getColumnsWithSortingOrdered(){return[...this.getIndexedSortMap().entries()].sort(((e,t)=>{let[o,n]=e,[i,r]=t;return n-r})).map((e=>{let[t]=e;return t}))}getSortModel(){return this.getColumnsWithSortingOrdered().filter((e=>e.getSort())).map((e=>({sort:e.getSort(),colId:e.getId()})))}getSortOptions(){return this.getColumnsWithSortingOrdered().filter((e=>e.getSort())).map((e=>({sort:e.getSort(),column:e})))}canColumnDisplayMixedSort(e){const t=jf(this.gos),o=!!e.getColDef().showRowGroup;return t&&o}getDisplaySortForColumn(e){const t=this.funcColsService.getSourceColumnsForGroupColumn(e);if(!this.canColumnDisplayMixedSort(e)||!t?.length)return e.getSort();const o=null!=e.getColDef().field||!!e.getColDef().valueGetter?[e,...t]:t,n=o[0].getSort();return o.every((e=>e.getSort()==n))?n:"mixed"}getDisplaySortIndexForColumn(e){return this.getIndexedSortMap().get(e)}},SP=class extends Rm{constructor(){super(...arguments),this.beanName="syncService",this.waitingForColumns=!1}wireBeans(e){this.ctrlsService=e.ctrlsService,this.columnModel=e.columnModel,this.rowModel=e.rowModel}postConstruct(){this.addManagedPropertyListener("columnDefs",(e=>this.setColumnDefs(e)))}start(){this.ctrlsService.whenReady(this,(()=>{const e=this.gos.get("columnDefs");e?this.setColumnsAndData(e):this.waitingForColumns=!0,this.gridReady()}))}setColumnsAndData(e){this.columnModel.setColumnDefs(e??[],"gridInitializing"),this.rowModel.start()}gridReady(){this.eventService.dispatchEvent({type:"gridReady"});const e=this.gos.isModuleRegistered("@ag-grid-enterprise/core");this.gos.get("debug")&&of(`initialised successfully, enterprise = ${e}`)}setColumnDefs(e){const t=this.gos.get("columnDefs");if(t)return this.waitingForColumns?(this.waitingForColumns=!1,void this.setColumnsAndData(t)):void this.columnModel.setColumnDefs(t,tv(e.source))}},EP=class extends Rm{constructor(){super(...arguments),this.beanName="changeDetectionService"}wireBeans(e){this.rowModel=e.rowModel,this.rowRenderer=e.rowRenderer}postConstruct(){Pf(this.gos)&&(this.clientSideRowModel=this.rowModel),this.addManagedEventListeners({cellValueChanged:this.onCellValueChanged.bind(this)})}onCellValueChanged(e){"paste"!==e.source&&this.doChangeDetection(e.node,e.column)}doChangeDetection(e,t){if(this.gos.get("suppressChangeDetection"))return;const o=[e];if(this.clientSideRowModel&&!e.isRowPinned()){const n=this.gos.get("aggregateOnlyChangedColumns"),i=new vP(n,this.clientSideRowModel.getRootNode());i.addParentNode(e.parent,[t]),this.clientSideRowModel.doAggregate(i),i.forEachChangedNodeDepthFirst((e=>{o.push(e)}))}this.rowRenderer.refreshCells({rowNodes:o})}},RP=class extends Rm{constructor(){super(...arguments),this.beanName="expressionService",this.expressionToFunctionCache={}}evaluate(e,t){if("string"===typeof e)return this.evaluateExpression(e,t);rf("value should be either a string or a function",e)}evaluateExpression(e,t){try{const o=this.createExpressionFunction(e);return o(t.value,t.context,t.oldValue,t.newValue,t.value,t.node,t.data,t.colDef,t.rowIndex,t.api,t.getValue,t.column,t.columnGroup)}catch(bI){return of("Processing of the expression failed"),of("Expression = ",e),of("Params = ",t),of("Exception = ",bI),null}}createExpressionFunction(e){if(this.expressionToFunctionCache[e])return this.expressionToFunctionCache[e];const t=this.createFunctionBody(e),o=new Function("x, ctx, oldValue, newValue, value, node, data, colDef, rowIndex, api, getValue, column, columnGroup",t);return this.expressionToFunctionCache[e]=o,o}createFunctionBody(e){return e.indexOf("return")>=0?e:"return "+e+";"}},PP=class extends Rm{constructor(){super(...arguments),this.beanName="valueCache",this.cacheVersion=0}postConstruct(){this.active=this.gos.get("valueCache"),this.neverExpires=this.gos.get("valueCacheNeverExpires")}onDataChanged(){this.neverExpires||this.expire()}expire(){this.cacheVersion++}setValue(e,t,o){this.active&&(e.__cacheVersion!==this.cacheVersion&&(e.__cacheVersion=this.cacheVersion,e.__cacheData={}),e.__cacheData[t]=o)}getValue(e,t){if(this.active&&e.__cacheVersion===this.cacheVersion)return e.__cacheData[t]}},OP=class extends Rm{constructor(){super(...arguments),this.beanName="valueService",this.initialised=!1,this.isSsrm=!1}wireBeans(e){this.expressionService=e.expressionService,this.columnModel=e.columnModel,this.valueCache=e.valueCache,this.dataTypeService=e.dataTypeService}postConstruct(){this.initialised||this.init()}init(){this.isSsrm=Of(this.gos),this.cellExpressions=this.gos.get("enableCellExpressions"),this.isTreeData=this.gos.get("treeData"),this.initialised=!0;const e=e=>this.callColumnCellValueChangedHandler(e),t=Df(this.gos);this.eventService.addEventListener("cellValueChanged",e,t),this.addDestroyFunc((()=>this.eventService.removeEventListener("cellValueChanged",e,t))),this.addManagedPropertyListener("treeData",(e=>this.isTreeData=e.currentValue))}getValueForDisplay(e,t){const o=t.leafGroup&&this.columnModel.isPivotMode(),n=t.group&&t.expanded&&!t.footer&&!o,i=this.gos.get("groupSuppressBlankHeader");if(!n||i)return this.getValue(e,t);let r=!1;const s=this.gos.get("groupTotalRow")??this.gos.get("groupIncludeFooter");if("function"!==typeof s)r=!!s;else{r=!!(this.gos.getCallback("groupTotalRow")??this.gos.getCallback("groupIncludeFooter"))({node:this})}const a=n&&r;return this.getValue(e,t,!1,a)}getValue(e,t){let o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(this.initialised||this.init(),!t)return;const i=e.getColDef(),r=i.field,s=e.getColId(),a=t.data;let l;const c=t.groupData&&void 0!==t.groupData[s],u=!n&&t.aggData&&void 0!==t.aggData[s],d=this.isSsrm&&n&&!!e.getColDef().aggFunc,h=this.isSsrm&&t.footer&&t.field&&(!0===e.getColDef().showRowGroup||e.getColDef().showRowGroup===t.field);if(o&&i.filterValueGetter?l=this.executeFilterValueGetter(i.filterValueGetter,a,e,t):this.isTreeData&&u?l=t.aggData[s]:this.isTreeData&&i.valueGetter?l=this.executeValueGetter(i.valueGetter,a,e,t):this.isTreeData&&r&&a?l=jm(a,r,e.isFieldContainsDots()):c?l=t.groupData[s]:u?l=t.aggData[s]:i.valueGetter?l=this.executeValueGetter(i.valueGetter,a,e,t):h?l=jm(a,t.field,e.isFieldContainsDots()):r&&a&&!d&&(l=jm(a,r,e.isFieldContainsDots())),this.cellExpressions&&"string"===typeof l&&0===l.indexOf("=")){const o=l.substring(1);l=this.executeValueGetter(o,a,e,t)}if(null==l){const o=this.getOpenedGroup(t,e);if(null!=o)return o}return l}parseValue(e,t,o,n){const i=e.getColDef(),r=i.valueParser;if(gf(r)){const s=this.gos.addGridCommonParams({node:t,data:t?.data,oldValue:n,newValue:o,colDef:i,column:e});return"function"===typeof r?r(s):this.expressionService.evaluate(r,s)}return o}getDeleteValue(e,t){return gf(e.getColDef().valueParser)?this.parseValue(e,t,"",this.getValueForDisplay(e,t))??null:null}formatValue(e,t,o,n){let i,r=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],s=null;const a=e.getColDef();if(n?i=n:r&&(i=a.valueFormatter),i){const n=this.gos.addGridCommonParams({value:o,node:t,data:t?t.data:null,colDef:a,column:e});s="function"===typeof i?i(n):this.expressionService.evaluate(i,n)}else if(a.refData)return a.refData[o]||"";return null==s&&Array.isArray(o)&&(s=o.join(", ")),s}getOpenedGroup(e,t){if(!this.gos.get("showOpenedGroup"))return;if(!t.getColDef().showRowGroup)return;const o=t.getColDef().showRowGroup;let n=e.parent;for(;null!=n;){if(n.rowGroupColumn&&(!0===o||o===n.rowGroupColumn.getColId()))return n.key;n=n.parent}}setValue(e,t,o,n){const i=this.columnModel.getColDefCol(t);if(!e||!i)return!1;ff(e.data)&&(e.data={});const{field:r,valueSetter:s}=i.getColDef();if(ff(r)&&ff(s))return nf("you need either field or valueSetter set on colDef for editing to work"),!1;if(this.dataTypeService&&!this.dataTypeService.checkType(i,o))return nf("Data type of the new value does not match the cell data type of the column"),!1;const a=this.gos.addGridCommonParams({node:e,data:e.data,oldValue:this.getValue(i,e),newValue:o,colDef:i.getColDef(),column:i});let l;if(a.newValue=o,l=gf(s)?"function"===typeof s?s(a):this.expressionService.evaluate(s,a):this.setValueUsingField(e.data,r,o,i.isFieldContainsDots()),void 0===l&&(l=!0),!l)return!1;e.resetQuickFilterAggregateText(),this.valueCache.onDataChanged();const c=this.getValue(i,e);return this.eventService.dispatchEvent({type:"cellValueChanged",event:null,rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:a.column,colDef:a.colDef,data:e.data,node:e,oldValue:a.oldValue,newValue:c,value:c,source:n}),!0}callColumnCellValueChangedHandler(e){const t=e.colDef.onCellValueChanged;"function"===typeof t&&this.getFrameworkOverrides().wrapOutgoing((()=>{t({node:e.node,data:e.data,oldValue:e.oldValue,newValue:e.newValue,colDef:e.colDef,column:e.column,api:e.api,context:e.context})}))}setValueUsingField(e,t,o,n){if(!t)return!1;let i=!1;if(n){const n=t.split(".");let r=e;for(;n.length>0&&r;){const e=n.shift();0===n.length?(i=r[e]===o,i||(r[e]=o)):r=r[e]}}else i=e[t]===o,i||(e[t]=o);return!i}executeFilterValueGetter(e,t,o,n){const i=this.gos.addGridCommonParams({data:t,node:n,column:o,colDef:o.getColDef(),getValue:this.getValueCallback.bind(this,n)});return"function"===typeof e?e(i):this.expressionService.evaluate(e,i)}executeValueGetter(e,t,o,n){const i=o.getColId(),r=this.valueCache.getValue(n,i);if(void 0!==r)return r;const s=this.gos.addGridCommonParams({data:t,node:n,column:o,colDef:o.getColDef(),getValue:this.getValueCallback.bind(this,n)});let a;return a="function"===typeof e?e(s):this.expressionService.evaluate(e,s),this.valueCache.setValue(n,i,a),a}getValueCallback(e,t){const o=this.columnModel.getColDefCol(t);return o?this.getValue(o,e):null}getKeyForNode(e,t){const o=this.getValue(e,t),n=e.getColDef().keyCreator;let i=o;if(n){i=n(this.gos.addGridCommonParams({value:o,colDef:e.getColDef(),column:e,node:t,data:t.data}))}return"string"===typeof i||null==i||(i=String(i),"[object Object]"===i&&nf("a column you are grouping or pivoting by has objects as values. If you want to group by complex objects then either a) use a colDef.keyCreator (se AG Grid docs) or b) to toString() on the object to return a key")),i}},xP=class e{static applyGlobalGridOptions(t){if(!e.gridOptions)return t;let o={};return Wm(o,e.gridOptions,!0,!0),"deep"===e.mergeStrategy?Wm(o,t,!0,!0):o={...o,...t},e.gridOptions.context&&(o.context=e.gridOptions.context),t.context&&("deep"===e.mergeStrategy&&o.context&&Wm(t.context,o.context,!0,!0),o.context=t.context),o}};xP.gridOptions=void 0,xP.mergeStrategy="shallow";var TP=xP;var DP=1,AP=class{create(e,t,o,n,i){const r=function(e){const t={};return Object.entries(e).forEach((e=>{let[o,n]=e;const i=oP(o,n);t[o]=i})),t}(TP.applyGlobalGridOptions(t)),s=r.gridId??String(DP++),a=this.getRegisteredModules(i,s),l=this.createBeansList(r.rowModelType,a,s),c=this.createProvidedBeans(e,r,i);if(!l)return void rf("Failed to create grid.");const u=new tw({providedBeanInstances:c,beanClasses:l,gridId:s,beanInitComparator:tR,beanDestroyComparator:oR,derivedBeans:[$E]});return this.registerModuleUserComponents(u,a),this.registerControllers(u,a),this.registerModuleApiFunctions(u,a),o(u),u.getBean("syncService").start(),n&&n(u),u.getBean("gridApi")}registerControllers(e,t){const o=e.getBean("ctrlsFactory");t.forEach((e=>{e.controllers&&e.controllers.forEach((e=>o.register(e)))}))}getRegisteredModules(e,t){const o=e?e.modules:null,n=JC.__getRegisteredModules(t),i=[],r={},s=(e,t,o)=>{var n;r[(n=t).moduleName]||(r[n.moduleName]=!0,i.push(n),JC.__register(n,e,o)),t.dependantModules&&t.dependantModules.forEach((t=>s(e,t,o)))};return s(!!o?.length||!JC.__isPackageBased(),ZR,void 0),o&&o.forEach((e=>s(!0,e,t))),n&&n.forEach((e=>s(!JC.__isPackageBased(),e,void 0))),i}registerModuleUserComponents(e,t){const o=this.extractModuleEntity(t,(e=>e.userComponents?e.userComponents:[])),n=e.getBean("userComponentRegistry");o.forEach((e=>{let{name:t,classImp:o,params:i}=e;n.registerDefaultComponent(t,o,i)}))}registerModuleApiFunctions(e,t){const o=e.getBean("apiFunctionService");t.forEach((e=>{const t=e.apiFunctions;if(t){Object.keys(t).forEach((e=>{o?.addFunction(e,t[e])}))}}))}createProvidedBeans(e,t,o){let n=o?o.frameworkOverrides:null;ff(n)&&(n=new GE);const i={gridOptions:t,eGridDiv:e,globalEventListener:o?o.globalEventListener:null,globalSyncEventListener:o?o.globalSyncEventListener:null,frameworkOverrides:n};return o&&o.providedBeanInstances&&Object.assign(i,o.providedBeanInstances),i}createBeansList(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"clientSide",t=arguments.length>2?arguments[2]:void 0;const o=(arguments.length>1?arguments[1]:void 0).filter((t=>!t.rowModel||t.rowModel===e)),n={clientSide:"@ag-grid-community/client-side-row-model",infinite:"@ag-grid-community/infinite-row-model",serverSide:"@ag-grid-enterprise/server-side-row-model",viewport:"@ag-grid-enterprise/viewport-row-model"};if(!n[e])return void rf("Could not find row model for rowModelType = ",e);if(!JC.__assertRegistered(n[e],`rowModelType = '${e}'`,t))return;const i=[aR,rR,rP,JR,UE,xC,ZE,JE,qS,XC,fP,KS,sP,PE,sw,bv,gR,iP,NE,yP,ev,Ab,cP,lP,EE,RP,Zm,$S,PP,OP,bE,YS,nw,mR,US,dR,VE,AE,WS,bP,hP,dP,CP,EP,XS,KE,gP,mP,iR,vR,sR,nR,SP,pP,QS,aP,uP,ZS,av,YE,cv,rv,qE,XE,mv,sv,gv,QE,fv,Tm],r=this.extractModuleEntity(o,(e=>e.beans?e.beans:[]));i.push(...r);const s=[];return i.forEach((e=>{s.indexOf(e)<0&&s.push(e)})),s}extractModuleEntity(e,t){return[].concat(...e.map(t))}},FP=class extends Rm{constructor(){super(...arguments),this.beanName="rowModelHelperService"}wireBeans(e){this.rowModel=e.rowModel}postConstruct(){const e=this.rowModel;switch(e.getType()){case"clientSide":this.clientSideRowModel=e;break;case"infinite":this.infiniteRowModel=e;break;case"serverSide":this.serverSideRowModel=e}}getClientSideRowModel(){return this.clientSideRowModel}getInfiniteRowModel(){return this.infiniteRowModel}getServerSideRowModel(){return this.serverSideRowModel}};var _P={version:hb,moduleName:"@ag-grid-community/csrm-ssrm-shared-api",apiFunctions:{expandAll:function(e){e.expansionService.expandAll(!0)},collapseAll:function(e){e.expansionService.expandAll(!1)},onRowHeightChanged:function(e){const t=e.rowModelHelperService?.getClientSideRowModel(),o=e.rowModelHelperService?.getServerSideRowModel();t?t.onRowHeightChanged():o&&o.onRowHeightChanged()}}},MP={version:hb,moduleName:"@ag-grid-community/ssrm-infinite-shared-api",apiFunctions:{setRowCount:function(e,t,o){const n=e.rowModelHelperService?.getServerSideRowModel();if(n)return e.funcColsService.isRowGroupEmpty()?void n.setRowCount(t,o):void rf("setRowCount cannot be used while using row grouping.");const i=e.rowModelHelperService?.getInfiniteRowModel();i&&i.setRowCount(t,o)},getCacheBlockState:function(e){return e.rowNodeBlockLoader?.getBlockState()??{}},isLastRowIndexKnown:function(e){return e.rowModel.isLastRowIndexKnown()}}},IP=class{wrap(e,t){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=arguments.length>3?arguments[3]:void 0;const i=this.createWrapper(e,n);return t.forEach((e=>{this.createMethod(i,e,!0)})),o.forEach((e=>{this.createMethod(i,e,!1)})),i}createMethod(e,t,o){e.addMethod(t,this.createMethodProxy(e,t,o))}createMethodProxy(e,t,o){return function(){return e.hasMethod(t)?e.callMethod(t,arguments):(o&&nf("Framework component is missing the method "+t+"()"),null)}}},LP=class{};LP.CHART_TYPE_TO_SERIES_TYPE={column:"bar",groupedColumn:"bar",stackedColumn:"bar",normalizedColumn:"bar",bar:"bar",groupedBar:"bar",stackedBar:"bar",normalizedBar:"bar",line:"line",scatter:"scatter",bubble:"bubble",pie:"pie",donut:"donut",doughnut:"donut",area:"area",stackedArea:"area",normalizedArea:"area",histogram:"histogram",radarLine:"radar-line",radarArea:"radar-area",nightingale:"nightingale",radialColumn:"radial-column",radialBar:"radial-bar",sunburst:"sunburst",rangeBar:"range-bar",rangeArea:"range-area",boxPlot:"box-plot",treemap:"treemap",heatmap:"heatmap",waterfall:"waterfall"},LP.COMBO_CHART_TYPES=["columnLineCombo","areaColumnCombo","customCombo"],LP.SERIES_GROUP_TYPES=["grouped","stacked","normalized"];var NP="undefined"===typeof global?{}:global;NP.HTMLElement="undefined"===typeof HTMLElement?{}:HTMLElement,NP.HTMLButtonElement="undefined"===typeof HTMLButtonElement?{}:HTMLButtonElement,NP.HTMLSelectElement="undefined"===typeof HTMLSelectElement?{}:HTMLSelectElement,NP.HTMLInputElement="undefined"===typeof HTMLInputElement?{}:HTMLInputElement,NP.Node="undefined"===typeof Node?{}:Node,NP.MouseEvent="undefined"===typeof MouseEvent?{}:MouseEvent;var kP=class{constructor(e,t,o,n,i,r){this.nextId=0,this.rowCountReady=!1,this.allNodesMap={},this.rootNode=e,this.gos=t,this.eventService=o,this.funcColsService=n,this.beans=r,this.selectionService=i,this.rootNode.group=!0,this.rootNode.level=-1,this.rootNode.id="ROOT_NODE_ID",this.rootNode.allLeafChildren=[],this.rootNode.childrenAfterGroup=[],this.rootNode.childrenAfterSort=[],this.rootNode.childrenAfterAggFilter=[],this.rootNode.childrenAfterFilter=[]}getCopyOfNodesMap(){return Vm(this.allNodesMap)}getRowNode(e){return this.allNodesMap[e]}setRowData(e){if("string"===typeof e)return void nf("rowData must be an array.");this.rowCountReady=!0,this.dispatchRowDataUpdateStartedEvent(e);const t=this.rootNode,o=this.rootNode.sibling;t.childrenAfterFilter=null,t.childrenAfterGroup=null,t.childrenAfterAggFilter=null,t.childrenAfterSort=null,t.childrenMapped=null,t.updateHasChildren(),this.nextId=0,this.allNodesMap={},e?t.allLeafChildren=e.map(((e,t)=>this.createNode(e,this.rootNode,0,t))):(t.allLeafChildren=[],t.childrenAfterGroup=[]),o&&(o.childrenAfterFilter=t.childrenAfterFilter,o.childrenAfterGroup=t.childrenAfterGroup,o.childrenAfterAggFilter=t.childrenAfterAggFilter,o.childrenAfterSort=t.childrenAfterSort,o.childrenMapped=t.childrenMapped,o.allLeafChildren=t.allLeafChildren)}updateRowData(e){this.rowCountReady=!0,this.dispatchRowDataUpdateStartedEvent(e.add);const t={rowNodeTransaction:{remove:[],update:[],add:[]},rowsInserted:!1},o=[];return this.executeRemove(e,t,o),this.executeUpdate(e,t,o),this.executeAdd(e,t),this.updateSelection(o,"rowDataChanged"),t}updateRowOrderFromRowData(e){const t=this.rootNode.allLeafChildren,o=t?.length??0,n=new Map;let i=-1,r=-1;for(let s=0;s<o;++s){const o=t[s],a=o.data;a!==e[s]&&(r<0&&(i=s),r=s,n.set(a,o))}if(i<0)return!1;for(let s=i;s<=r;++s){const o=n.get(e[s]);void 0!==o&&(t[s]=o,o.sourceRowIndex=s)}return!0}isRowCountReady(){return this.rowCountReady}dispatchRowDataUpdateStartedEvent(e){this.eventService.dispatchEvent({type:"rowDataUpdateStarted",firstRowData:e?.length?e[0]:null})}updateSelection(e,t){const o=e.length>0;o&&this.selectionService.setNodesSelected({newValue:!1,nodes:e,suppressFinishActions:!0,source:t}),this.selectionService.updateGroupsFromChildrenSelections(t),o&&this.eventService.dispatchEvent({type:"selectionChanged",source:t})}executeAdd(e,t){const o=e.add;if(mf(o))return;const n=this.rootNode.allLeafChildren;let i=n.length;if("number"===typeof e.addIndex&&(i=this.sanitizeAddIndex(e.addIndex),i>0)){if(this.gos.get("treeData"))for(let e=0;e<n.length;e++){const t=n[e];if(t?.rowIndex==i-1){i=e+1;break}}}const r=o.map(((e,t)=>this.createNode(e,this.rootNode,0,i+t)));if(i<n.length){const e=n.slice(0,i),o=n.slice(i,n.length),s=e.length+r.length;for(let t=0,n=o.length;t<n;++t)o[t].sourceRowIndex=s+t;this.rootNode.allLeafChildren=[...e,...r,...o],t.rowsInserted=!0}else this.rootNode.allLeafChildren=n.concat(r);const s=this.rootNode.sibling;s&&(s.allLeafChildren=n),t.rowNodeTransaction.add=r}sanitizeAddIndex(e){const t=this.rootNode.allLeafChildren?.length??0;return e<0||e>=t||Number.isNaN(e)?t:Math.ceil(e)}executeRemove(e,t,o){let{rowNodeTransaction:n}=t;const{remove:i}=e;if(mf(i))return;const r={};i.forEach((e=>{const t=this.lookupRowNode(e);t&&(t.isSelected()&&o.push(t),t.clearRowTopAndRowIndex(),r[t.id]=!0,delete this.allNodesMap[t.id],n.remove.push(t))})),this.rootNode.allLeafChildren=this.rootNode.allLeafChildren?.filter((e=>!r[e.id]))??null,this.rootNode.allLeafChildren?.forEach(((e,t)=>{e.sourceRowIndex=t}));const s=this.rootNode.sibling;s&&(s.allLeafChildren=this.rootNode.allLeafChildren)}executeUpdate(e,t,o){let{rowNodeTransaction:n}=t;const{update:i}=e;mf(i)||i.forEach((e=>{const t=this.lookupRowNode(e);t&&(t.updateData(e),!t.selectable&&t.isSelected()&&o.push(t),this.setMasterForRow(t,e,0,!1),n.update.push(t))}))}lookupRowNode(e){const t=qf(this.gos);let o;if(t){const n=t({data:e,level:0});if(o=this.allNodesMap[n],!o)return rf(`could not find row id=${n}, data item was not found for this id`),null}else if(o=this.rootNode.allLeafChildren?.find((t=>t.data===e)),!o)return rf("could not find data item as object was not found",e),rf("Consider using getRowId to help the Grid find matching row data"),null;return o||null}createNode(e,t,o,n){const i=new pw(this.beans);return i.sourceRowIndex=n,i.group=!1,this.setMasterForRow(i,e,o,!0),t&&(i.parent=t),i.level=o,i.setDataAndId(e,this.nextId.toString()),this.allNodesMap[i.id]&&nf(`duplicate node id '${i.id}' detected from getRowId callback, this could cause issues in your grid.`),this.allNodesMap[i.id]=i,this.nextId++,i}setMasterForRow(e,t,o,n){if(this.gos.get("treeData"))e.setMaster(!1),n&&(e.expanded=!1);else{if(this.gos.get("masterDetail")){const o=this.gos.get("isRowMaster");o?e.setMaster(o(t)):e.setMaster(!0)}else e.setMaster(!1);if(n){const t=this.funcColsService.getRowGroupColumns(),n=o+(t?t.length:0);e.expanded=!!e.master&&this.isExpanded(n)}}}isExpanded(e){const t=this.gos.get("groupDefaultExpanded");return-1===t||e<t}};var GP="32.3.3",VP={version:GP,moduleName:"@ag-grid-community/client-side-row-model-core",rowModel:"clientSide",beans:[class extends Rm{constructor(){super(...arguments),this.beanName="rowModel",this.onRowHeightChanged_debounced=df(this.onRowHeightChanged.bind(this),100),this.rowsToDisplay=[],this.hasStarted=!1,this.shouldSkipSettingDataOnStart=!1,this.isRefreshingModel=!1,this.rowCountReady=!1}wireBeans(e){this.beans=e,this.columnModel=e.columnModel,this.funcColsService=e.funcColsService,this.selectionService=e.selectionService,this.valueCache=e.valueCache,this.environment=e.environment,this.filterStage=e.filterStage,this.sortStage=e.sortStage,this.flattenStage=e.flattenStage,this.groupStage=e.groupStage,this.aggregationStage=e.aggregationStage,this.pivotStage=e.pivotStage,this.filterAggregatesStage=e.filterAggregatesStage}postConstruct(){const e=this.refreshModel.bind(this,{step:"group"}),t=!this.gos.get("suppressAnimationFrame"),o=this.refreshModel.bind(this,{step:"group",afterColumnsChanged:!0,keepRenderedRows:!0,animate:t});this.addManagedEventListeners({newColumnsLoaded:o,columnRowGroupChanged:e,columnValueChanged:this.onValueChanged.bind(this),columnPivotChanged:this.refreshModel.bind(this,{step:"pivot"}),filterChanged:this.onFilterChanged.bind(this),sortChanged:this.onSortChanged.bind(this),columnPivotModeChanged:e,gridStylesChanged:this.onGridStylesChanges.bind(this),gridReady:this.onGridReady.bind(this)}),this.addPropertyListeners(),this.rootNode=new pw(this.beans),this.nodeManager=new kP(this.rootNode,this.gos,this.eventService,this.funcColsService,this.selectionService,this.beans)}addPropertyListeners(){const e=new Set(["treeData","masterDetail"]),t=new Set(["groupDefaultExpanded","groupAllowUnbalanced","initialGroupOrderComparator","groupHideOpenParents","groupDisplayType"]),o=new Set(["excludeChildrenWhenTreeDataFiltering"]),n=new Set(["removePivotHeaderRowWhenSingleValueColumn","pivotRowTotals","pivotColumnGroupTotals","suppressExpandablePivotGroups"]),i=new Set(["getGroupRowAgg","alwaysAggregateAtRootLevel","groupIncludeTotalFooter","suppressAggFilteredOnly","grandTotalRow"]),r=new Set(["postSortRows","groupDisplayType","accentedSort"]),s=new Set([]),a=new Set(["groupRemoveSingleChildren","groupRemoveLowestSingleChildren","groupIncludeFooter","groupTotalRow"]),l=[...e,...t,...o,...n,...n,...i,...r,...s,...a];this.addManagedPropertyListeners(l,(l=>{const c=l.changeSet?.properties;if(!c)return;const u=e=>c.some((t=>e.has(t)));u(e)?this.setRowData(this.rootNode.allLeafChildren.map((e=>e.data))):u(t)?this.refreshModel({step:"group"}):u(o)?this.refreshModel({step:"filter"}):u(n)?this.refreshModel({step:"pivot"}):u(i)?this.refreshModel({step:"aggregate"}):u(r)?this.refreshModel({step:"sort"}):u(s)?this.refreshModel({step:"filter_aggregates"}):u(a)&&this.refreshModel({step:"map"})})),this.addManagedPropertyListener("rowHeight",(()=>this.resetRowHeights()))}start(){this.hasStarted=!0,this.shouldSkipSettingDataOnStart?this.dispatchUpdateEventsAndRefresh():this.setInitialData()}setInitialData(){const e=this.gos.get("rowData");e&&(this.shouldSkipSettingDataOnStart=!0,this.setRowData(e))}ensureRowHeightsValid(e,t,o,n){let i,r=!1;do{i=!1;const s=this.getRowIndexAtPixel(e),a=this.getRowIndexAtPixel(t),l=Math.max(s,o),c=Math.min(a,n);for(let e=l;e<=c;e++){const t=this.getRow(e);if(t.rowHeightEstimated){const e=Ff(this.gos,t);t.setRowHeight(e.height),i=!0,r=!0}}i&&this.setRowTopAndRowIndex()}while(i);return r}setRowTopAndRowIndex(){const e=this.environment.getDefaultRowHeight();let t=0;const o=new Set,n=xf(this.gos,"normal");for(let i=0;i<this.rowsToDisplay.length;i++){const r=this.rowsToDisplay[i];if(null!=r.id&&o.add(r.id),null==r.rowHeight){const t=Ff(this.gos,r,n,e);r.setRowHeight(t.height,t.estimated)}r.setRowTop(t),r.setRowIndex(i),t+=r.rowHeight}return o}clearRowTopAndRowIndex(e,t){const o=e.isActive(),n=e=>{e&&null!=e.id&&!t.has(e.id)&&e.clearRowTopAndRowIndex()},i=e=>{if(n(e),n(e.detailNode),n(e.sibling),e.hasChildren()&&e.childrenAfterGroup){const t=-1==e.level;o&&!t&&!e.expanded||e.childrenAfterGroup.forEach(i)}};i(this.rootNode)}ensureRowsAtPixel(e,t){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const n=this.getRowIndexAtPixel(t),i=this.getRow(n),r=!this.gos.get("suppressAnimationFrame");if(i===e[0])return!1;const s=this.rootNode.allLeafChildren;return e.forEach((e=>{dm(s,e)})),e.forEach(((e,t)=>{hm(s,e,Math.max(n+o,0)+t)})),e.forEach(((e,t)=>{e.sourceRowIndex=t})),this.refreshModel({step:"group",keepRenderedRows:!0,keepEditingRows:!0,animate:r,rowNodesOrderChanged:!0}),!0}highlightRowAtPixel(e,t){const o=null!=t?this.getRowIndexAtPixel(t):null,n=null!=o?this.getRow(o):null;if(!n||!e||null==t)return void this.clearHighlightedRow();const i=this.getHighlightPosition(t,n),r=this.isHighlightingCurrentPosition(e,n,i),s=null!=this.lastHighlightedRow&&this.lastHighlightedRow!==n;(r||s)&&(this.clearHighlightedRow(),r)||(n.setHighlighted(i),this.lastHighlightedRow=n)}getHighlightPosition(e,t){if(!t){const o=this.getRowIndexAtPixel(e);if(!(t=this.getRow(o||0)))return 1}const{rowTop:o,rowHeight:n}=t;return e-o<n/2?0:1}getLastHighlightedRowNode(){return this.lastHighlightedRow}isHighlightingCurrentPosition(e,t,o){if(e===t)return!0;const n=0===o?-1:1;return this.getRow(t.rowIndex+n)===e}clearHighlightedRow(){this.lastHighlightedRow&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null)}isLastRowIndexKnown(){return!0}getRowCount(){return this.rowsToDisplay?this.rowsToDisplay.length:0}getTopLevelRowCount(){if(0===this.rowsToDisplay.length)return 0;if(this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode)return 1;const e=this.rootNode.childrenAfterAggFilter,t=this.rootNode.sibling?1:0;return(e?e.length:0)+t}getTopLevelRowDisplayedIndex(e){if(this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode)return e;let t=e;if(this.rowsToDisplay[0].footer){if(0===e)return 0;t-=1}const o=this.rowsToDisplay[this.rowsToDisplay.length-1],n=t>=this.rootNode.childrenAfterSort.length;if(o.footer&&n)return o.rowIndex;let i=this.rootNode.childrenAfterSort[t];if(this.gos.get("groupHideOpenParents"))for(;i.expanded&&i.childrenAfterSort&&i.childrenAfterSort.length>0;)i=i.childrenAfterSort[0];return i.rowIndex}getRowBounds(e){if(ff(this.rowsToDisplay))return null;const t=this.rowsToDisplay[e];return t?{rowTop:t.rowTop,rowHeight:t.rowHeight}:null}onRowGroupOpened(){const e=Bf(this.gos);this.refreshModel({step:"map",keepRenderedRows:!0,animate:e})}onFilterChanged(e){if(e.afterDataChange)return;const t=Bf(this.gos),o=0===e.columns.length||e.columns.some((e=>e.isPrimary()))?"filter":"filter_aggregates";this.refreshModel({step:o,keepRenderedRows:!0,animate:t})}onSortChanged(){const e=Bf(this.gos);this.refreshModel({step:"sort",keepRenderedRows:!0,animate:e,keepEditingRows:!0})}getType(){return"clientSide"}onValueChanged(){this.columnModel.isPivotActive()?this.refreshModel({step:"pivot"}):this.refreshModel({step:"aggregate"})}createChangePath(e){const t=mf(e),o=new vP(!1,this.rootNode);return t&&o.setInactive(),o}isSuppressModelUpdateAfterUpdateTransaction(e){if(!this.gos.get("suppressModelUpdateAfterUpdateTransaction"))return!1;if(null==e.rowNodeTransactions)return!1;const t=e.rowNodeTransactions.filter((e=>null!=e.add&&e.add.length>0||null!=e.remove&&e.remove.length>0));return null==t||0==t.length}buildRefreshModelParams(e){let t="group";const o={everything:"group",group:"group",filter:"filter",map:"map",aggregate:"aggregate",filter_aggregates:"filter_aggregates",sort:"sort",pivot:"pivot",nothing:"nothing"};if(gf(e)&&(t=o[e]),ff(t))return void rf(`invalid step ${e}, available steps are ${Object.keys(o).join(", ")}`);return{step:t,keepRenderedRows:!0,keepEditingRows:!0,animate:!this.gos.get("suppressAnimationFrame")}}refreshModel(e){if(!this.hasStarted||this.isRefreshingModel||this.columnModel.isChangeEventsDispatching())return;const t="object"===typeof e&&"step"in e?e:this.buildRefreshModelParams(e);if(!t)return;if(this.isSuppressModelUpdateAfterUpdateTransaction(t))return;const o=this.createChangePath(t.rowNodeTransactions);switch(this.isRefreshingModel=!0,t.step){case"group":this.doRowGrouping(t.rowNodeTransactions,o,!!t.rowNodesOrderChanged,!!t.afterColumnsChanged);case"filter":this.doFilter(o);case"pivot":this.doPivot(o);case"aggregate":this.doAggregate(o);case"filter_aggregates":this.doFilterAggregates(o);case"sort":this.doSort(t.rowNodeTransactions,o);case"map":this.doRowsToDisplay()}const n=this.setRowTopAndRowIndex();this.clearRowTopAndRowIndex(o,n),this.isRefreshingModel=!1,this.eventService.dispatchEvent({type:"modelUpdated",animate:t.animate,keepRenderedRows:t.keepRenderedRows,newData:t.newData,newPage:!1,keepUndoRedoStack:t.keepUndoRedoStack})}isEmpty(){const e=ff(this.rootNode.allLeafChildren)||0===this.rootNode.allLeafChildren.length;return ff(this.rootNode)||e||!this.columnModel.isReady()}isRowsToRender(){return gf(this.rowsToDisplay)&&this.rowsToDisplay.length>0}getNodesInRangeForSelection(e,t){let o=!1,n=!1;const i=[],r=sm(this.gos);return this.forEachNodeAfterFilterAndSort((s=>{if(n)return;if(o&&(s===t||s===e)&&(n=!0,s.group&&r))return void i.push(...s.allLeafChildren);if(!o){if(s!==t&&s!==e)return;o=!0}(!s.group||!r)&&i.push(s)})),i}setDatasource(e){rf("should never call setDatasource on clientSideRowController")}getTopLevelNodes(){return this.rootNode?this.rootNode.childrenAfterGroup:null}getRootNode(){return this.rootNode}getRow(e){return this.rowsToDisplay[e]}isRowPresent(e){return this.rowsToDisplay.indexOf(e)>=0}getRowIndexAtPixel(e){if(this.isEmpty()||0===this.rowsToDisplay.length)return-1;let t=0,o=this.rowsToDisplay.length-1;if(e<=0)return 0;if(lm(this.rowsToDisplay).rowTop<=e)return this.rowsToDisplay.length-1;let n=-1,i=-1;for(;;){const r=Math.floor((t+o)/2),s=this.rowsToDisplay[r];if(this.isRowInPixel(s,e))return r;s.rowTop<e?t=r+1:s.rowTop>e&&(o=r-1);if(n===t&&i===o)return r;n=t,i=o}}isRowInPixel(e,t){const o=e.rowTop,n=e.rowTop+e.rowHeight;return o<=t&&n>t}forEachLeafNode(e){this.rootNode.allLeafChildren&&this.rootNode.allLeafChildren.forEach(((t,o)=>e(t,o)))}forEachNode(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.recursivelyWalkNodesAndCallback({nodes:[...this.rootNode.childrenAfterGroup||[]],callback:e,recursionType:0,index:0,includeFooterNodes:t})}forEachNodeAfterFilter(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.recursivelyWalkNodesAndCallback({nodes:[...this.rootNode.childrenAfterAggFilter||[]],callback:e,recursionType:1,index:0,includeFooterNodes:t})}forEachNodeAfterFilterAndSort(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.recursivelyWalkNodesAndCallback({nodes:[...this.rootNode.childrenAfterSort||[]],callback:e,recursionType:2,index:0,includeFooterNodes:t})}forEachPivotNode(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.recursivelyWalkNodesAndCallback({nodes:[this.rootNode],callback:e,recursionType:3,index:0,includeFooterNodes:t})}recursivelyWalkNodesAndCallback(e){const{nodes:t,callback:o,recursionType:n,includeFooterNodes:i}=e;let{index:r}=e;const s=e=>{const n=t[0]?.parent;if(!n)return;const s=i&&Uf(this.gos),a=$f(this.gos),l=i&&a({node:n});n===this.rootNode?s===e&&(n.createFooter(),o(n.sibling,r++)):l===e&&(n.createFooter(),o(n.sibling,r++))};s("top");for(let a=0;a<t.length;a++){const e=t[a];if(o(e,r++),e.hasChildren()&&!e.footer){let t=null;switch(n){case 0:t=e.childrenAfterGroup;break;case 1:t=e.childrenAfterAggFilter;break;case 2:t=e.childrenAfterSort;break;case 3:t=e.leafGroup?null:e.childrenAfterSort}t&&(r=this.recursivelyWalkNodesAndCallback({nodes:[...t],callback:o,recursionType:n,index:r,includeFooterNodes:i}))}}return s("bottom"),r}doAggregate(e){this.aggregationStage?.execute({rowNode:this.rootNode,changedPath:e})}doFilterAggregates(e){this.filterAggregatesStage?this.filterAggregatesStage.execute({rowNode:this.rootNode,changedPath:e}):this.rootNode.childrenAfterAggFilter=this.rootNode.childrenAfterFilter}expandOrCollapseAll(e){const t=this.gos.get("treeData"),o=this.columnModel.isPivotActive(),n=i=>{i&&i.forEach((i=>{const r=()=>{i.expanded=e,n(i.childrenAfterGroup)};if(t){return void(gf(i.childrenAfterGroup)&&r())}if(o){return void(!i.leafGroup&&r())}i.group&&r()}))};this.rootNode&&n(this.rootNode.childrenAfterGroup),this.refreshModel({step:"map"}),this.eventService.dispatchEvent({type:"expandOrCollapseAll",source:e?"expandAll":"collapseAll"})}doSort(e,t){this.sortStage.execute({rowNode:this.rootNode,rowNodeTransactions:e,changedPath:t})}doRowGrouping(e,t,o,n){if(this.groupStage){if(e?this.groupStage.execute({rowNode:this.rootNode,rowNodeTransactions:e,rowNodesOrderChanged:o,changedPath:t}):this.groupStage.execute({rowNode:this.rootNode,changedPath:t,afterColumnsChanged:n}),sm(this.gos)){this.selectionService.updateGroupsFromChildrenSelections("rowGroupChanged",t)&&this.eventService.dispatchEvent({type:"selectionChanged",source:"rowGroupChanged"})}}else{const e=this.rootNode,t=e.sibling;e.childrenAfterGroup=e.allLeafChildren,t&&(t.childrenAfterGroup=e.childrenAfterGroup),this.rootNode.updateHasChildren()}this.nodeManager.isRowCountReady()&&(this.rowCountReady=!0,this.eventService.dispatchEventOnce({type:"rowCountReady"}))}doFilter(e){this.filterStage.execute({rowNode:this.rootNode,changedPath:e})}doPivot(e){this.pivotStage?.execute({rowNode:this.rootNode,changedPath:e})}getNodeManager(){return this.nodeManager}getRowNode(e){if("string"==typeof e&&0==e.indexOf(pw.ID_PREFIX_ROW_GROUP)){let t;return this.forEachNode((o=>{o.id===e&&(t=o)})),t}return this.nodeManager.getRowNode(e)}setRowData(e){this.selectionService.reset("rowDataChanged"),this.nodeManager.setRowData(e),this.hasStarted&&this.dispatchUpdateEventsAndRefresh()}dispatchUpdateEventsAndRefresh(){this.eventService.dispatchEvent({type:"rowDataUpdated"}),this.refreshModel({step:"group",newData:!0})}batchUpdateRowData(e,t){if(null==this.applyAsyncTransactionsTimeout){this.rowDataTransactionBatch=[];const e=this.gos.get("asyncTransactionWaitMillis");this.applyAsyncTransactionsTimeout=window.setTimeout((()=>{this.isAlive()&&this.executeBatchUpdateRowData()}),e)}this.rowDataTransactionBatch.push({rowDataTransaction:e,callback:t})}flushAsyncTransactions(){null!=this.applyAsyncTransactionsTimeout&&(clearTimeout(this.applyAsyncTransactionsTimeout),this.executeBatchUpdateRowData())}executeBatchUpdateRowData(){this.valueCache.onDataChanged();const e=[],t=[];let o=!1;this.rowDataTransactionBatch?.forEach((n=>{const{rowNodeTransaction:i,rowsInserted:r}=this.nodeManager.updateRowData(n.rowDataTransaction);r&&(o=!0),t.push(i),n.callback&&e.push(n.callback.bind(null,i))})),this.commonUpdateRowData(t,o),e.length>0&&window.setTimeout((()=>{e.forEach((e=>e()))}),0),t.length>0&&this.eventService.dispatchEvent({type:"asyncTransactionsFlushed",results:t}),this.rowDataTransactionBatch=null,this.applyAsyncTransactionsTimeout=void 0}updateRowData(e){this.valueCache.onDataChanged();const{rowNodeTransaction:t,rowsInserted:o}=this.nodeManager.updateRowData(e);return this.commonUpdateRowData([t],o),t}afterImmutableDataChange(e,t){this.commonUpdateRowData([e],t)}commonUpdateRowData(e,t){if(!this.hasStarted)return;const o=!this.gos.get("suppressAnimationFrame");this.eventService.dispatchEvent({type:"rowDataUpdated"}),this.refreshModel({step:"group",rowNodeTransactions:e,rowNodesOrderChanged:t,keepRenderedRows:!0,keepEditingRows:!0,animate:o})}doRowsToDisplay(){this.rowsToDisplay=this.flattenStage.execute({rowNode:this.rootNode})}onRowHeightChanged(){this.refreshModel({step:"map",keepRenderedRows:!0,keepEditingRows:!0,keepUndoRedoStack:!0})}onRowHeightChangedDebounced(){this.onRowHeightChanged_debounced()}resetRowHeights(){const e=this.resetRowHeightsForAllRowNodes();this.rootNode.setRowHeight(this.rootNode.rowHeight,!0),this.rootNode.sibling&&this.rootNode.sibling.setRowHeight(this.rootNode.sibling.rowHeight,!0),e&&this.onRowHeightChanged()}resetRowHeightsForAllRowNodes(){let e=!1;return this.forEachNode((t=>{t.setRowHeight(t.rowHeight,!0);const o=t.detailNode;o&&o.setRowHeight(o.rowHeight,!0),t.sibling&&t.sibling.setRowHeight(t.sibling.rowHeight,!0),e=!0})),e}onGridStylesChanges(e){if(e.rowHeightChanged){if(this.columnModel.isAutoRowHeightActive())return;this.resetRowHeights()}}onGridReady(){this.hasStarted||this.setInitialData()}isRowDataLoaded(){return this.rowCountReady}destroy(){super.destroy(),this.clearHighlightedRow()}},class extends Rm{constructor(){super(...arguments),this.beanName="filterStage"}wireBeans(e){this.filterManager=e.filterManager}execute(e){const{changedPath:t}=e;this.filter(t)}filter(e){const t=!!this.filterManager?.isChildFilterPresent();this.filterNodes(t,e)}filterNodes(e,t){const o=(t,o)=>{t.hasChildren()?t.childrenAfterFilter=e&&!o?t.childrenAfterGroup.filter((e=>{const t=e.childrenAfterFilter&&e.childrenAfterFilter.length>0,o=e.data&&this.filterManager.doesRowPassFilter({rowNode:e});return t||o})):t.childrenAfterGroup:t.childrenAfterFilter=t.childrenAfterGroup,t.sibling&&(t.sibling.childrenAfterFilter=t.childrenAfterFilter)};if(this.doingTreeDataFiltering()){const e=(t,n)=>{if(t.childrenAfterGroup)for(let i=0;i<t.childrenAfterGroup.length;i++){const r=t.childrenAfterGroup[i],s=n||this.filterManager.doesRowPassFilter({rowNode:r});r.childrenAfterGroup?e(t.childrenAfterGroup[i],s):o(r,s)}o(t,n)},n=t=>e(t,!1);t.executeFromRootNode(n)}else{const e=e=>o(e,!1);t.forEachChangedNodeDepthFirst(e,!0)}}doingTreeDataFiltering(){return this.gos.get("treeData")&&!this.gos.get("excludeChildrenWhenTreeDataFiltering")}},class extends Rm{constructor(){super(...arguments),this.beanName="sortStage"}wireBeans(e){this.sortService=e.sortService,this.sortController=e.sortController}execute(e){const t=this.sortController.getSortOptions(),o=gf(t)&&t.length>0,n=o&&gf(e.rowNodeTransactions)&&this.gos.get("deltaSort"),i=t.some((e=>jf(this.gos)?e.column.isPrimary()&&e.column.isRowGroupActive():!!e.column.getColDef().showRowGroup));this.sortService.sort(t,o,n,e.rowNodeTransactions,e.changedPath,i)}},class extends Rm{constructor(){super(...arguments),this.beanName="flattenStage"}wireBeans(e){this.beans=e,this.columnModel=e.columnModel}execute(e){const t=e.rowNode,o=[],n=this.columnModel.isPivotMode(),i=n&&t.leafGroup,r=i?[t]:t.childrenAfterSort,s=this.getFlattenDetails();this.recursivelyAddToRowsToDisplay(s,r,o,n,0);if(!i&&o.length>0&&s.grandTotalRow){t.createFooter();const e="top"===s.grandTotalRow;this.addRowNodeToRowsToDisplay(s,t.sibling,o,0,e)}return o}getFlattenDetails(){const e=this.gos.get("groupRemoveSingleChildren");return{groupRemoveLowestSingleChildren:!e&&this.gos.get("groupRemoveLowestSingleChildren"),groupRemoveSingleChildren:e,isGroupMultiAutoColumn:Kf(this.gos),hideOpenParents:this.gos.get("groupHideOpenParents"),grandTotalRow:Uf(this.gos),groupTotalRow:$f(this.gos)}}recursivelyAddToRowsToDisplay(e,t,o,n,i){if(!mf(t))for(let r=0;r<t.length;r++){const s=t[r],a=s.hasChildren(),l=n&&!a,c=e.groupRemoveSingleChildren&&a&&1===s.childrenAfterGroup.length,u=e.groupRemoveLowestSingleChildren&&a&&s.leafGroup&&1===s.childrenAfterGroup.length,d=n&&s.leafGroup,h=e.hideOpenParents&&s.expanded&&!s.master&&!d;if(!l&&!h&&!c&&!u&&this.addRowNodeToRowsToDisplay(e,s,o,i),!n||!s.leafGroup)if(a){const t=c||u;if(s.expanded||t){const r=e.groupTotalRow({node:s});r||s.destroyFooter();const a=t?i:i+1;"top"===r&&(s.createFooter(),this.addRowNodeToRowsToDisplay(e,s.sibling,o,a)),this.recursivelyAddToRowsToDisplay(e,s.childrenAfterSort,o,n,a),"bottom"===r&&(s.createFooter(),this.addRowNodeToRowsToDisplay(e,s.sibling,o,a))}}else if(s.master&&s.expanded){const t=this.createDetailNode(s);this.addRowNodeToRowsToDisplay(e,t,o,i)}}}addRowNodeToRowsToDisplay(e,t,o,n,i){i?o.unshift(t):o.push(t),t.setUiLevel(e.isGroupMultiAutoColumn?0:n)}createDetailNode(e){if(gf(e.detailNode))return e.detailNode;const t=new pw(this.beans);return t.detail=!0,t.selectable=!1,t.parent=e,gf(e.id)&&(t.id="detail_"+e.id),t.data=e.data,t.level=e.level+1,e.detailNode=t,t}},class extends Rm{constructor(){super(...arguments),this.beanName="sortService"}wireBeans(e){this.columnModel=e.columnModel,this.funcColsService=e.funcColsService,this.rowNodeSorter=e.rowNodeSorter,this.showRowGroupColsService=e.showRowGroupColsService}sort(e,t,o,n,i,r){const s=this.gos.get("groupMaintainOrder"),a=this.columnModel.getCols().some((e=>e.isRowGroupActive()));let l={};o&&n&&(l=this.calculateDirtyNodes(n));const c=this.columnModel.isPivotMode(),u=this.gos.getCallback("postSortRows"),d=n=>{this.pullDownGroupDataForHideOpenParents(n.childrenAfterAggFilter,!0);const d=c&&n.leafGroup;if(s&&a&&!n.leafGroup&&!r){const e=this.funcColsService.getRowGroupColumns()?.[n.level+1],t=null===e?.getSort(),o=n.childrenAfterAggFilter.slice(0);if(n.childrenAfterSort&&!t){const e={};n.childrenAfterSort.forEach(((t,o)=>{e[t.id]=o})),o.sort(((t,o)=>(e[t.id]??0)-(e[o.id]??0)))}n.childrenAfterSort=o}else n.childrenAfterSort=!t||d?n.childrenAfterAggFilter.slice(0):o?this.doDeltaSort(n,l,i,e):this.rowNodeSorter.doFullSort(n.childrenAfterAggFilter,e);if(n.sibling&&(n.sibling.childrenAfterSort=n.childrenAfterSort),this.updateChildIndexes(n),u){const e={nodes:n.childrenAfterSort};u(e)}};i&&i.forEachChangedNodeDepthFirst(d),this.updateGroupDataForHideOpenParents(i)}calculateDirtyNodes(e){const t={},o=e=>{e&&e.forEach((e=>t[e.id]=!0))};return e&&e.forEach((e=>{o(e.add),o(e.update),o(e.remove)})),t}doDeltaSort(e,t,o,n){const i=e.childrenAfterAggFilter,r=e.childrenAfterSort;if(!r)return this.rowNodeSorter.doFullSort(i,n);const s={},a=[];i.forEach((e=>{t[e.id]||!o.canSkip(e)?a.push(e):s[e.id]=!0}));const l=r.filter((e=>s[e.id])),c=(e,t)=>({currentPos:t,rowNode:e}),u=a.map(c).sort(((e,t)=>this.rowNodeSorter.compareRowNodes(n,e,t)));return this.mergeSortedArrays(n,u,l.map(c)).map((e=>{let{rowNode:t}=e;return t}))}mergeSortedArrays(e,t,o){const n=[];let i=0,r=0;for(;i<t.length&&r<o.length;){this.rowNodeSorter.compareRowNodes(e,t[i],o[r])<0?n.push(t[i++]):n.push(o[r++])}for(;i<t.length;)n.push(t[i++]);for(;r<o.length;)n.push(o[r++]);return n}updateChildIndexes(e){if(ff(e.childrenAfterSort))return;const t=e.childrenAfterSort;for(let o=0;o<t.length;o++){const n=t[o],i=0===o,r=o===e.childrenAfterSort.length-1;n.setFirstChild(i),n.setLastChild(r),n.setChildIndex(o)}}updateGroupDataForHideOpenParents(e){if(!this.gos.get("groupHideOpenParents"))return;if(this.gos.get("treeData"))return nf("The property hideOpenParents dose not work with Tree Data. This is because Tree Data has values at the group level, it doesn't make sense to hide them."),!1;const t=e=>{this.pullDownGroupDataForHideOpenParents(e.childrenAfterSort,!1),e.childrenAfterSort.forEach((e=>{e.hasChildren()&&t(e)}))};e&&e.executeFromRootNode((e=>t(e)))}pullDownGroupDataForHideOpenParents(e,t){this.gos.get("groupHideOpenParents")&&!ff(e)&&e.forEach((e=>{(this.showRowGroupColsService?.getShowRowGroupCols()??[]).forEach((o=>{const n=o.getColDef().showRowGroup;if("string"!==typeof n)return void rf("groupHideOpenParents only works when specifying specific columns for colDef.showRowGroup");const i=n,r=this.columnModel.getColDefCol(i);if(!(r===e.rowGroupColumn))if(t)e.setGroupValue(o.getId(),void 0);else{const t=this.getFirstChildOfFirstChild(e,r);t&&e.setGroupValue(o.getId(),t.key)}}))}))}getFirstChildOfFirstChild(e,t){let o=e;for(;o;){const e=o.parent;if(!e||!o.firstChild)return null;if(e.rowGroupColumn===t)return e;o=e}return null}},class extends Rm{constructor(){super(...arguments),this.beanName="immutableService"}wireBeans(e){this.rowModel=e.rowModel,this.selectionService=e.selectionService}postConstruct(){Pf(this.gos)&&(this.clientSideRowModel=this.rowModel,this.addManagedPropertyListener("rowData",(()=>this.onRowDataUpdated())))}isActive(){const e=this.gos.exists("getRowId");return!this.gos.get("resetRowDataOnUpdate")&&e}setRowData(e){const t=this.createTransactionForRowData(e);if(!t)return;const o=this.clientSideRowModel.getNodeManager(),{rowNodeTransaction:n,rowsInserted:i}=o.updateRowData(t);let r=!1;this.gos.get("suppressMaintainUnsortedOrder")||(r=o.updateRowOrderFromRowData(e)),this.clientSideRowModel.afterImmutableDataChange(n,r||i)}createTransactionForRowData(e){if(!Pf(this.gos))return rf("ImmutableService only works with ClientSideRowModel"),null;const t=qf(this.gos);if(null==t)return rf("ImmutableService requires getRowId() callback to be implemented, your row data needs IDs!"),null;const o=this.clientSideRowModel.getNodeManager().getCopyOfNodesMap(),n=[],i=[],r=[];return gf(e)&&e.forEach((e=>{const n=t({data:e,level:0}),s=o[n];if(s){s.data!==e&&i.push(e),o[n]=void 0}else r.push(e)})),Gm(o,((e,t)=>{t&&n.push(t.data)})),{remove:n,update:i,add:r}}onRowDataUpdated(){const e=this.gos.get("rowData");e&&(this.isActive()?this.setRowData(e):(this.selectionService.reset("rowDataChanged"),this.clientSideRowModel.setRowData(e)))}}]},HP={version:GP,moduleName:"@ag-grid-community/client-side-row-model",dependantModules:[VP,{version:GP,moduleName:"@ag-grid-community/client-side-row-model-api",beans:[FP],apiFunctions:{onGroupExpandedOrCollapsed:function(e){e.expansionService.onGroupExpandedOrCollapsed()},refreshClientSideRowModel:function(e,t){e.rowModelHelperService?.getClientSideRowModel()?.refreshModel(t)},isRowDataEmpty:function(e){return e.rowModelHelperService?.getClientSideRowModel()?.isEmpty()??!0},forEachLeafNode:function(e,t){e.rowModelHelperService?.getClientSideRowModel()?.forEachLeafNode(t)},forEachNodeAfterFilter:function(e,t){e.rowModelHelperService?.getClientSideRowModel()?.forEachNodeAfterFilter(t)},forEachNodeAfterFilterAndSort:function(e,t){e.rowModelHelperService?.getClientSideRowModel()?.forEachNodeAfterFilterAndSort(t)},resetRowHeights:function(e){e.columnModel.isAutoRowHeightActive()?nf("calling gridApi.resetRowHeights() makes no sense when using Auto Row Height."):e.rowModelHelperService?.getClientSideRowModel()?.resetRowHeights()},applyTransaction:function(e,t){return e.frameworkOverrides.wrapIncoming((()=>e.rowModelHelperService?.getClientSideRowModel()?.updateRowData(t)))},applyTransactionAsync:function(e,t,o){e.frameworkOverrides.wrapIncoming((()=>e.rowModelHelperService?.getClientSideRowModel()?.batchUpdateRowData(t,o)))},flushAsyncTransactions:function(e){e.frameworkOverrides.wrapIncoming((()=>e.rowModelHelperService?.getClientSideRowModel()?.flushAsyncTransactions()))},getBestCostNodeSelection:function(e){return e.selectionService.getBestCostNodeSelection()}},dependantModules:[VP,_P]}]},BP=class extends Rm{setBeans(e){this.beans=e}getFileName(e){const t=this.getDefaultFileExtension();return null!=e&&e.length||(e=this.getDefaultFileName()),-1===e.indexOf(".")?`${e}.${t}`:e}getData(e){const t=this.createSerializingSession(e);return this.beans.gridSerializer.serialize(t,e)}getDefaultFileName(){return`export.${this.getDefaultFileExtension()}`}},WP=class{constructor(e){this.groupColumns=[];const{columnModel:t,funcColsService:o,columnNameService:n,valueService:i,gos:r,processCellCallback:s,processHeaderCallback:a,processGroupHeaderCallback:l,processRowGroupCallback:c}=e;this.columnModel=t,this.funcColsService=o,this.columnNameService=n,this.valueService=i,this.gos=r,this.processCellCallback=s,this.processHeaderCallback=a,this.processGroupHeaderCallback=l,this.processRowGroupCallback=c}prepare(e){this.groupColumns=e.filter((e=>!!e.getColDef().showRowGroup))}extractHeaderValue(e){return this.getHeaderName(this.processHeaderCallback,e)??""}extractRowCellValue(e,t,o,n,i){const r=this.gos.get("groupHideOpenParents")&&!i.footer||!this.shouldRenderGroupSummaryCell(i,e,t)?this.valueService.getValue(e,i):this.createValueForGroupNode(e,i);return this.processCell({accumulatedRowIndex:o,rowNode:i,column:e,value:r,processCellCallback:this.processCellCallback,type:n})}shouldRenderGroupSummaryCell(e,t,o){if(!(e&&e.group))return!1;if(-1!==this.groupColumns.indexOf(t)){const o=e.groupData?.[t.getId()],n=this.gos.get("suppressGroupMaintainValueType");if(n&&null!=o||!n&&void 0!==o)return!0;if(Of(this.gos)&&e.group)return!0;if(e.footer&&-1===e.level){const e=t.getColDef();return null==e||!0===e.showRowGroup||e.showRowGroup===this.funcColsService.getRowGroupColumns()[0].getId()}}const n=Yf(this.gos,this.columnModel.isPivotMode());return 0===o&&n}getHeaderName(e,t){return e?e(this.gos.addGridCommonParams({column:t})):this.columnNameService.getDisplayNameForColumn(t,"csv",!0)}createValueForGroupNode(e,t){if(this.processRowGroupCallback)return this.processRowGroupCallback(this.gos.addGridCommonParams({column:e,node:t}));const o=this.gos.get("treeData"),n=this.gos.get("suppressGroupMaintainValueType"),i=t=>{if(o||n)return t.key;const i=t.groupData?.[e.getId()];return i&&t.rowGroupColumn&&!1!==t.rowGroupColumn.getColDef().useValueFormatterForExport?this.valueService.formatValue(t.rowGroupColumn,t,i)??i:i},r=t.footer,s=[i(t)];if(!Kf(this.gos))for(;t.parent;)t=t.parent,s.push(i(t));const a=s.reverse().join(" -> ");return r?`Total ${a}`:a}processCell(e){const{accumulatedRowIndex:t,rowNode:o,column:n,value:i,processCellCallback:r,type:s}=e;return r?{value:r(this.gos.addGridCommonParams({accumulatedRowIndex:t,column:n,node:o,value:i,type:s,parseValue:e=>this.valueService.parseValue(n,o,e,this.valueService.getValue(n,o)),formatValue:e=>this.valueService.formatValue(n,o,e)??e}))??""}:!1!==n.getColDef().useValueFormatterForExport?{value:i??"",valueFormatted:this.valueService.formatValue(n,o,i)}:{value:i??""}}},jP=class{static download(e,t){const o=document.defaultView||window;if(!o)return void nf("There is no `window` associated with the current `document`");const n=document.createElement("a"),i=o.URL.createObjectURL(t);n.setAttribute("href",i),n.setAttribute("download",e),n.style.display="none",document.body.appendChild(n),n.dispatchEvent(new MouseEvent("click",{bubbles:!1,cancelable:!0,view:o})),document.body.removeChild(n),o.setTimeout((()=>{o.URL.revokeObjectURL(i)}),0)}},zP=class extends WP{constructor(e){super(e),this.isFirstLine=!0,this.result="";const{suppressQuotes:t,columnSeparator:o}=e;this.suppressQuotes=t,this.columnSeparator=o}addCustomContent(e){e&&("string"===typeof e?(/^\s*\n/.test(e)||this.beginNewLine(),e=e.replace(/\r?\n/g,"\r\n"),this.result+=e):e.forEach((e=>{this.beginNewLine(),e.forEach(((e,t)=>{0!==t&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(e.data.value||""),e.mergeAcross&&this.appendEmptyCells(e.mergeAcross)}))})))}onNewHeaderGroupingRow(){return this.beginNewLine(),{onColumn:this.onNewHeaderGroupingRowColumn.bind(this)}}onNewHeaderGroupingRowColumn(e,t,o,n){0!=o&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(t),this.appendEmptyCells(n)}appendEmptyCells(e){for(let t=1;t<=e;t++)this.result+=this.columnSeparator+this.putInQuotes("")}onNewHeaderRow(){return this.beginNewLine(),{onColumn:this.onNewHeaderRowColumn.bind(this)}}onNewHeaderRowColumn(e,t){0!=t&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractHeaderValue(e))}onNewBodyRow(){return this.beginNewLine(),{onColumn:this.onNewBodyRowColumn.bind(this)}}onNewBodyRowColumn(e,t,o){0!=t&&(this.result+=this.columnSeparator);const n=this.extractRowCellValue(e,t,t,"csv",o);this.result+=this.putInQuotes(n.valueFormatted??n.value)}putInQuotes(e){if(this.suppressQuotes)return e;if(null===e||void 0===e)return'""';let t;"string"===typeof e?t=e:"function"===typeof e.toString?t=e.toString():(nf("unknown value type during csv conversion"),t="");return'"'+t.replace(/"/g,'""')+'"'}parse(){return this.result}beginNewLine(){this.isFirstLine||(this.result+="\r\n"),this.isFirstLine=!1}};var UP="32.3.3",$P={version:UP,moduleName:"@ag-grid-community/csv-export-core",beans:[class extends BP{constructor(){super(...arguments),this.beanName="csvCreator"}wireBeans(e){this.columnModel=e.columnModel,this.columnNameService=e.columnNameService,this.funcColsService=e.funcColsService,this.valueService=e.valueService,this.gridSerializer=e.gridSerializer}postConstruct(){this.setBeans({gridSerializer:this.gridSerializer,gos:this.gos})}getMergedParams(e){const t=this.gos.get("defaultCsvExportParams");return Object.assign({},t,e)}export(e){if(this.isExportSuppressed())return void nf("Export cancelled. Export is not allowed as per your configuration.");const t=this.getMergedParams(e),o=this.getData(t),n=new Blob(["\ufeff",o],{type:"text/plain"}),i="function"===typeof t.fileName?t.fileName(this.gos.getGridCommonParams()):t.fileName;jP.download(this.getFileName(i),n)}exportDataAsCsv(e){this.export(e)}getDataAsCsv(e){const t=arguments.length>1&&void 0!==arguments[1]&&arguments[1]?Object.assign({},e):this.getMergedParams(e);return this.getData(t)}getDefaultFileExtension(){return"csv"}createSerializingSession(e){const{columnModel:t,columnNameService:o,funcColsService:n,valueService:i,gos:r}=this,{processCellCallback:s,processHeaderCallback:a,processGroupHeaderCallback:l,processRowGroupCallback:c,suppressQuotes:u,columnSeparator:d}=e;return new zP({columnModel:t,columnNameService:o,funcColsService:n,valueService:i,gos:r,processCellCallback:s||void 0,processHeaderCallback:a||void 0,processGroupHeaderCallback:l||void 0,processRowGroupCallback:c||void 0,suppressQuotes:u||!1,columnSeparator:d||","})}isExportSuppressed(){return this.gos.get("suppressCsvExport")}},class extends Rm{constructor(){super(...arguments),this.beanName="gridSerializer"}wireBeans(e){this.visibleColsService=e.visibleColsService,this.columnModel=e.columnModel,this.columnNameService=e.columnNameService,this.rowModel=e.rowModel,this.pinnedRowModel=e.pinnedRowModel,this.selectionService=e.selectionService,this.rowNodeSorter=e.rowNodeSorter,this.sortController=e.sortController}serialize(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{allColumns:o,columnKeys:n,skipRowGroups:i}=t,r=this.getColumnsToExport(o,i,n),s=function(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];return e=>t.reduce(((e,t)=>t(e)),e)}(this.prepareSession(r),this.prependContent(t),this.exportColumnGroups(t,r),this.exportHeaders(t,r),this.processPinnedTopRows(t,r),this.processRows(t,r),this.processPinnedBottomRows(t,r),this.appendContent(t));return s(e).parse()}processRow(e,t,o,n){const i=t.shouldRowBeSkipped||(()=>!1),r=this.gos.get("groupRemoveSingleChildren"),s=this.gos.get("groupRemoveLowestSingleChildren"),a=null!=t.rowPositions||!!t.onlySelected,l=this.gos.get("groupHideOpenParents")&&!a,c=this.columnModel.isPivotMode()?n.leafGroup:!n.group,u=!!n.footer,d=s&&n.leafGroup,h=1===n.allChildrenCount&&1===n.childrenAfterGroup?.length&&(r||d);if(!c&&!u&&(t.skipRowGroups||h||l)||t.onlySelected&&!n.isSelected()||t.skipPinnedTop&&"top"===n.rowPinned||t.skipPinnedBottom&&"bottom"===n.rowPinned)return;if(-1===n.level&&!c&&!u)return;if(i(this.gos.addGridCommonParams({node:n})))return;const p=e.onNewBodyRow(n);if(o.forEach(((e,t)=>{p.onColumn(e,t,n)})),t.getCustomContentBelowRow){const o=t.getCustomContentBelowRow(this.gos.addGridCommonParams({node:n}));o&&e.addCustomContent(o)}}appendContent(e){return t=>{const o=e.appendContent;return o&&t.addCustomContent(o),t}}prependContent(e){return t=>{const o=e.prependContent;return o&&t.addCustomContent(o),t}}prepareSession(e){return t=>(t.prepare(e),t)}exportColumnGroups(e,t){return o=>{if(!e.skipColumnGroupHeaders){const n=new wv,i=this.visibleColsService.createGroups({columns:t,idCreator:n,pinned:null,isStandaloneStructure:!0});this.recursivelyAddHeaderGroups(i,o,e.processGroupHeaderCallback)}return o}}exportHeaders(e,t){return o=>{if(!e.skipColumnHeaders){const e=o.onNewHeaderRow();t.forEach(((t,o)=>{e.onColumn(t,o,void 0)}))}return o}}processPinnedTopRows(e,t){return o=>{const n=this.processRow.bind(this,o,e,t);return e.rowPositions?e.rowPositions.filter((e=>"top"===e.rowPinned)).sort(((e,t)=>e.rowIndex-t.rowIndex)).map((e=>this.pinnedRowModel.getPinnedTopRow(e.rowIndex))).forEach(n):this.pinnedRowModel.forEachPinnedRow("top",n),o}}processRows(e,t){return o=>{const n=this.rowModel,i=Pf(this.gos),r=Of(this.gos),s=!i&&e.onlySelected,a=this.processRow.bind(this,o,e,t),{exportedRows:l="filteredAndSorted"}=e;if(e.rowPositions)e.rowPositions.filter((e=>null==e.rowPinned)).sort(((e,t)=>e.rowIndex-t.rowIndex)).map((e=>n.getRow(e.rowIndex))).forEach(a);else if(this.columnModel.isPivotMode())i?n.forEachPivotNode(a,!0):r?n.forEachNodeAfterFilterAndSort(a,!0):n.forEachNode(a);else if(e.onlySelectedAllPages||s){const e=this.selectionService.getSelectedNodes();this.replicateSortedOrder(e),e.forEach(a)}else"all"===l?n.forEachNode(a):i||r?n.forEachNodeAfterFilterAndSort(a,!0):n.forEachNode(a);return o}}replicateSortedOrder(e){const t=this.sortController.getSortOptions(),o=(e,n)=>null!=e.rowIndex&&null!=n.rowIndex?e.rowIndex-n.rowIndex:e.level===n.level?e.parent?.id===n.parent?.id?this.rowNodeSorter.compareRowNodes(t,{rowNode:e,currentPos:e.rowIndex??-1},{rowNode:n,currentPos:n.rowIndex??-1}):o(e.parent,n.parent):e.level>n.level?o(e.parent,n):o(e,n.parent);e.sort(o)}processPinnedBottomRows(e,t){return o=>{const n=this.processRow.bind(this,o,e,t);return e.rowPositions?e.rowPositions.filter((e=>"bottom"===e.rowPinned)).sort(((e,t)=>e.rowIndex-t.rowIndex)).map((e=>this.pinnedRowModel.getPinnedBottomRow(e.rowIndex))).forEach(n):this.pinnedRowModel.forEachPinnedRow("bottom",n),o}}getColumnsToExport(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=arguments.length>2?arguments[2]:void 0;const n=this.columnModel.isPivotMode();if(o&&o.length)return this.columnModel.getColsForKeys(o);const i=this.gos.get("treeData");let r=[];return r=e&&!n?this.columnModel.getCols():this.visibleColsService.getAllCols(),t&&!i&&(r=r.filter((e=>Mm(e)||Im(e)))),r}recursivelyAddHeaderGroups(e,t,o){const n=[];e.forEach((e=>{const t=e;t.getChildren&&t.getChildren().forEach((e=>n.push(e)))})),e.length>0&&yv(e[0])&&this.doAddHeaderHeader(t,e,o),n&&n.length>0&&this.recursivelyAddHeaderGroups(n,t,o)}doAddHeaderHeader(e,t,o){const n=e.onNewHeaderGroupingRow();let i=0;t.forEach((e=>{const t=e;let r;r=o?o(this.gos.addGridCommonParams({columnGroup:t})):this.columnNameService.getDisplayNameForColumnGroup(t,"header");const s=t.getLeafColumns().reduce(((e,t,o,n)=>{let i=lm(e);return"open"===t.getColumnGroupShow()?i&&null==i[1]||(i=[o],e.push(i)):i&&null==i[1]&&(i[1]=o-1),o===n.length-1&&i&&null==i[1]&&(i[1]=o),e}),[]);n.onColumn(t,r||"",i++,t.getLeafColumns().length-1,s)}))}}]},KP={version:UP,moduleName:"@ag-grid-community/csv-export",dependantModules:[$P,{version:UP,moduleName:"@ag-grid-community/csv-export-api",apiFunctions:{getDataAsCsv:function(e,t){return e.csvCreator?.getDataAsCsv(t)},exportDataAsCsv:function(e,t){e.csvCreator?.exportDataAsCsv(t)}},dependantModules:[$P]}]};var YP=async e=>{const t=new Blob([e]),{size:o,content:n}=await(async e=>{let t=0;const o=[],n=new WritableStream({write:e=>{o.push(e),t+=e.length}}),i=new ReadableStream({start:t=>{const o=new FileReader;o.onload=e=>{e.target?.result&&t.enqueue(e.target.result),t.close()},o.readAsArrayBuffer(e)}}),r=new window.CompressionStream("deflate-raw");return await i.pipeThrough(r).pipeTo(n),{size:t,content:new Blob(o)}})(t);return{size:o,content:new Uint8Array(await n.arrayBuffer())}};function qP(e,t){let o="";for(let n=0;n<t;n++)o+=String.fromCharCode(255&e),e>>>=8;return o}var XP=e=>{if(!e.length)return 0;let t=~0,o=0,n=0,i=0;for(let r=0;r<e.length;r++)o=e[r],n=255&(t^o),i=ZP[n],t=t>>>8^i;return~t},QP=e=>e.length?XP("string"===typeof e?(new TextEncoder).encode(e):e):0,ZP=new Uint32Array([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]),JP=(e,t,o,n,i,r)=>{const{content:s,path:a,created:l}=e,c=(e=>{let t=e.getHours();return t<<=6,t|=e.getMinutes(),t<<=5,t|=e.getSeconds()/2,t})(l),u=(e=>{let t=e.getFullYear()-1980;return t<<=4,t|=e.getMonth()+1,t<<=5,t|=e.getDate(),t})(l),d=QP(i),h=void 0!==r?r:n,p=hv(a),g=p!==a;let f="";if(g){const e=qP(1,1)+qP(QP(p),4)+p;f="up"+qP(e.length,2)+e}const m="\x14\0"+(g?"\0\b":"\0\0")+qP(t?8:0,2)+qP(c,2)+qP(u,2)+qP(h?d:0,4)+qP(r??n,4)+qP(n,4)+qP(p.length,2)+qP(f.length,2),v="PK\x03\x04"+m+p+f,y="PK\x01\x02\x14\0"+m+"\0\0\0\0\0\0"+(s?"\0\0\0\0":"\x10\0\0\0")+qP(o,4)+p+f;return{localFileHeader:Uint8Array.from(v,(e=>e.charCodeAt(0))),centralDirectoryHeader:Uint8Array.from(y,(e=>e.charCodeAt(0)))}},eO=e=>{let t;if("string"===typeof e){const o=atob(e.split(";base64,")[1]);t=Uint8Array.from(o,(e=>e.charCodeAt(0)))}else t=e;return{size:t.length,content:t}},tO=async(e,t)=>{const{content:o}=e,{size:n,content:i}=o?eO(o):{size:0,content:Uint8Array.from([])};let r,s,a=!1;if("file"===e.type&&i&&n>0){const e=await YP(i);r=e.content,s=e.size,a=!0}return{...JP(e,a,t,n,i,s),content:r||i,isCompressed:a}},oO=(e,t)=>{const{content:o}=e,{content:n}=o?eO(o):{content:Uint8Array.from([])};return{...JP(e,!1,t,n.length,n,void 0),content:n,isCompressed:!1}},nO=class{static addFolders(e){e.forEach(this.addFolder.bind(this))}static addFolder(e){this.folders.push({path:e,created:new Date,isBase64:!1,type:"folder"})}static addFile(e,t){let o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.files.push({path:e,created:new Date,content:o?t:(new TextEncoder).encode(t),isBase64:o,type:"file"})}static async getZipFile(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"application/zip";const t=await this.buildCompressedFileStream();return this.clearStream(),new Blob([t],{type:e})}static getUncompressedZipFile(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"application/zip";const t=this.buildFileStream();return this.clearStream(),new Blob([t],{type:e})}static clearStream(){this.folders=[],this.files=[]}static packageFiles(e){let t=0,o=0;for(const c of e){const{localFileHeader:e,centralDirectoryHeader:n,content:i}=c;t+=e.length+i.length,o+=n.length}const n=new Uint8Array(t),i=new Uint8Array(o);let r=0,s=0;for(const c of e){const{localFileHeader:e,centralDirectoryHeader:t,content:o}=c;n.set(e,r),r+=e.length,n.set(o,r),r+=o.length,i.set(t,s),s+=t.length}const a=((e,t,o)=>{const n="PK\x05\x06\0\0\0\0"+qP(e,2)+qP(e,2)+qP(t,4)+qP(o,4)+"\0\0";return Uint8Array.from(n,(e=>e.charCodeAt(0)))})(e.length,o,t),l=new Uint8Array(n.length+i.length+a.length);return l.set(n),l.set(i,n.length),l.set(a,n.length+i.length),l}static async buildCompressedFileStream(){const e=[...this.folders,...this.files],t=[];let o=0;for(const n of e){const e=await tO(n,o),{localFileHeader:i,content:r}=e;t.push(e),o+=i.length+r.length}return this.packageFiles(t)}static buildFileStream(){const e=[...this.folders,...this.files],t=[];let o=0;for(const n of e){const e=oO(n,o),{localFileHeader:i,content:r}=e;t.push(e),o+=i.length+r.length}return this.packageFiles(t)}};nO.folders=[],nO.files=[];var iO=class extends xE{wireBeans(e){this.beans=e}constructor(e,t,o){super(e),this.parentCache=t,this.params=o,this.startRow=e*o.blockSize,this.endRow=this.startRow+o.blockSize}postConstruct(){this.createRowNodes()}getBlockStateJson(){return{id:""+this.getId(),state:{blockNumber:this.getId(),startRow:this.getStartRow(),endRow:this.getEndRow(),pageStatus:this.getState()}}}setDataAndId(e,t,o){gf(t)?e.setDataAndId(t,o.toString()):e.setDataAndId(void 0,void 0)}loadFromDatasource(){const e=this.createLoadParams();ff(this.params.datasource.getRows)?nf("datasource is missing getRows method"):window.setTimeout((()=>{this.params.datasource.getRows(e)}),0)}processServerFail(){}createLoadParams(){return{startRow:this.getStartRow(),endRow:this.getEndRow(),successCallback:this.pageLoaded.bind(this,this.getVersion()),failCallback:this.pageLoadFailed.bind(this,this.getVersion()),sortModel:this.params.sortModel,filterModel:this.params.filterModel,context:this.gos.getGridCommonParams().context}}forEachNode(e,t,o){this.rowNodes.forEach(((n,i)=>{this.startRow+i<o&&e(n,t.next())}))}getLastAccessed(){return this.lastAccessed}getRow(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1]||(this.lastAccessed=this.params.lastAccessedSequence.next());const t=e-this.startRow;return this.rowNodes[t]}getStartRow(){return this.startRow}getEndRow(){return this.endRow}createRowNodes(){this.rowNodes=[];for(let e=0;e<this.params.blockSize;e++){const t=this.startRow+e,o=new pw(this.beans);o.setRowHeight(this.params.rowHeight),o.uiLevel=0,o.setRowIndex(t),o.setRowTop(this.params.rowHeight*t),this.rowNodes.push(o)}}processServerResult(e){this.rowNodes.forEach(((t,o)=>{const n=e.rowData?e.rowData[o]:void 0;!t.id&&t.alreadyRendered&&n&&(this.rowNodes[o]=new pw(this.beans),this.rowNodes[o].setRowIndex(t.rowIndex),this.rowNodes[o].setRowTop(t.rowTop),this.rowNodes[o].setRowHeight(t.rowHeight),t.clearRowTopAndRowIndex()),this.setDataAndId(this.rowNodes[o],n,this.startRow+o)}));const t=null!=e.rowCount&&e.rowCount>=0?e.rowCount:void 0;this.parentCache.pageLoaded(this,t)}destroy(){this.rowNodes.forEach((e=>{e.clearRowTopAndRowIndex()})),super.destroy()}},rO=class extends Rm{constructor(e){super(),this.lastRowIndexKnown=!1,this.blocks={},this.blockCount=0,this.rowCount=e.initialRowCount,this.params=e}wireBeans(e){this.rowRenderer=e.rowRenderer,this.focusService=e.focusService}getRow(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const o=Math.floor(e/this.params.blockSize);let n=this.blocks[o];if(!n){if(t)return;n=this.createBlock(o)}return n.getRow(e)}createBlock(e){const t=this.createBean(new iO(e,this,this.params));return this.blocks[t.getId()]=t,this.blockCount++,this.purgeBlocksIfNeeded(t),this.params.rowNodeBlockLoader.addBlock(t),t}refreshCache(){0==this.blockCount?this.purgeCache():(this.getBlocksInOrder().forEach((e=>e.setStateWaitingToLoad())),this.params.rowNodeBlockLoader.checkBlockToLoad())}destroy(){this.getBlocksInOrder().forEach((e=>this.destroyBlock(e))),super.destroy()}getRowCount(){return this.rowCount}isLastRowIndexKnown(){return this.lastRowIndexKnown}pageLoaded(e,t){this.isAlive()&&(this.gos.get("debug")&&of(`InfiniteCache - onPageLoaded: page = ${e.getId()}, lastRow = ${t}`),this.checkRowCount(e,t),this.onCacheUpdated())}purgeBlocksIfNeeded(e){const t=this.getBlocksInOrder().filter((t=>t!=e));t.sort(((e,t)=>t.getLastAccessed()-e.getLastAccessed()));const o=this.params.maxBlocksInCache>0,n=o?this.params.maxBlocksInCache-1:null;t.forEach(((e,t)=>{if("needsLoading"===e.getState()&&t>=1||!!o&&t>=n){if(this.isBlockCurrentlyDisplayed(e))return;if(this.isBlockFocused(e))return;this.removeBlockFromCache(e)}}))}isBlockFocused(e){const t=this.focusService.getFocusCellToUseAfterRefresh();if(!t)return!1;if(null!=t.rowPinned)return!1;const o=e.getStartRow(),n=e.getEndRow();return t.rowIndex>=o&&t.rowIndex<n}isBlockCurrentlyDisplayed(e){const t=e.getStartRow(),o=e.getEndRow()-1;return this.rowRenderer.isRangeInRenderedViewport(t,o)}removeBlockFromCache(e){e&&this.destroyBlock(e)}checkRowCount(e,t){if("number"===typeof t&&t>=0)this.rowCount=t,this.lastRowIndexKnown=!0;else if(!this.lastRowIndexKnown){const t=(e.getId()+1)*this.params.blockSize+this.params.overflowSize;this.rowCount<t&&(this.rowCount=t)}}setRowCount(e,t){this.rowCount=e,gf(t)&&(this.lastRowIndexKnown=t),this.lastRowIndexKnown||this.rowCount%this.params.blockSize===0&&this.rowCount++,this.onCacheUpdated()}forEachNodeDeep(e){const t=new zy;this.getBlocksInOrder().forEach((o=>o.forEachNode(e,t,this.rowCount)))}getBlocksInOrder(){const e=Bm(this.blocks).sort(((e,t)=>e.getId()-t.getId()));return e}destroyBlock(e){delete this.blocks[e.getId()],this.destroyBean(e),this.blockCount--,this.params.rowNodeBlockLoader.removeBlock(e)}onCacheUpdated(){this.isAlive()&&(this.destroyAllBlocksPastVirtualRowCount(),this.eventService.dispatchEvent({type:"storeUpdated"}))}destroyAllBlocksPastVirtualRowCount(){const e=[];this.getBlocksInOrder().forEach((t=>{t.getId()*this.params.blockSize>=this.rowCount&&e.push(t)})),e.length>0&&e.forEach((e=>this.destroyBlock(e)))}purgeCache(){this.getBlocksInOrder().forEach((e=>this.removeBlockFromCache(e))),this.lastRowIndexKnown=!1,0===this.rowCount&&(this.rowCount=this.params.initialRowCount),this.onCacheUpdated()}getRowNodesInRange(e,t){const o=[];let n=-1,i=!1;const r=new zy;let s=!1;this.getBlocksInOrder().forEach((a=>{s||(i&&n+1!==a.getId()?s=!0:(n=a.getId(),a.forEachNode((n=>{const r=n===e||n===t;(i||r)&&o.push(n),r&&(i=!i)}),r,this.rowCount)))}));return s||i?[]:o}};var sO="32.3.3",aO={version:sO,moduleName:"@ag-grid-community/infinite-row-model-core",rowModel:"infinite",beans:[class extends Rm{constructor(){super(...arguments),this.beanName="rowModel"}wireBeans(e){this.filterManager=e.filterManager,this.sortController=e.sortController,this.selectionService=e.selectionService,this.rowRenderer=e.rowRenderer,this.rowNodeBlockLoader=e.rowNodeBlockLoader}getRowBounds(e){return{rowHeight:this.rowHeight,rowTop:this.rowHeight*e}}ensureRowHeightsValid(){return!1}postConstruct(){"infinite"===this.gos.get("rowModelType")&&(this.rowHeight=_f(this.gos),this.addEventListeners(),this.addDestroyFunc((()=>this.destroyCache())),this.verifyProps())}verifyProps(){this.gos.exists("initialGroupOrderComparator")&&nf("initialGroupOrderComparator cannot be used with Infinite Row Model as sorting is done on the server side")}start(){this.setDatasource(this.gos.get("datasource"))}destroy(){this.destroyDatasource(),super.destroy()}destroyDatasource(){this.datasource&&(this.destroyBean(this.datasource),this.rowRenderer.datasourceChanged(),this.datasource=null)}addEventListeners(){this.addManagedEventListeners({filterChanged:this.onFilterChanged.bind(this),sortChanged:this.onSortChanged.bind(this),newColumnsLoaded:this.onColumnEverything.bind(this),storeUpdated:this.onCacheUpdated.bind(this)}),this.addManagedPropertyListener("datasource",(()=>this.setDatasource(this.gos.get("datasource")))),this.addManagedPropertyListener("cacheBlockSize",(()=>this.resetCache())),this.addManagedPropertyListener("rowHeight",(()=>{this.rowHeight=_f(this.gos),this.cacheParams.rowHeight=this.rowHeight,this.updateRowHeights()}))}onFilterChanged(){this.reset()}onSortChanged(){this.reset()}onColumnEverything(){let e;e=!this.cacheParams||this.isSortModelDifferent(),e&&this.reset()}isSortModelDifferent(){return!bf(this.cacheParams.sortModel,this.sortController.getSortModel())}getType(){return"infinite"}setDatasource(e){this.destroyDatasource(),this.datasource=e,e&&this.reset()}isEmpty(){return!this.infiniteCache}isRowsToRender(){return!!this.infiniteCache}getNodesInRangeForSelection(e,t){return this.infiniteCache?this.infiniteCache.getRowNodesInRange(e,t):[]}reset(){if(!this.datasource)return;null!=qf(this.gos)||this.selectionService.reset("rowDataChanged"),this.resetCache()}dispatchModelUpdatedEvent(){this.eventService.dispatchEvent({type:"modelUpdated",newPage:!1,newPageSize:!1,newData:!1,keepRenderedRows:!0,animate:!1})}resetCache(){this.destroyCache(),this.cacheParams={datasource:this.datasource,filterModel:this.filterManager?.getFilterModel()??{},sortModel:this.sortController.getSortModel(),rowNodeBlockLoader:this.rowNodeBlockLoader,initialRowCount:this.gos.get("infiniteInitialRowCount"),maxBlocksInCache:this.gos.get("maxBlocksInCache"),rowHeight:_f(this.gos),overflowSize:this.gos.get("cacheOverflowSize"),blockSize:this.gos.get("cacheBlockSize"),lastAccessedSequence:new zy},this.infiniteCache=this.createBean(new rO(this.cacheParams)),this.eventService.dispatchEventOnce({type:"rowCountReady"}),this.dispatchModelUpdatedEvent()}updateRowHeights(){this.forEachNode((e=>{e.setRowHeight(this.rowHeight),e.setRowTop(this.rowHeight*e.rowIndex)})),this.dispatchModelUpdatedEvent()}destroyCache(){this.infiniteCache&&(this.infiniteCache=this.destroyBean(this.infiniteCache))}onCacheUpdated(){this.dispatchModelUpdatedEvent()}getRow(e){if(this.infiniteCache&&!(e>=this.infiniteCache.getRowCount()))return this.infiniteCache.getRow(e)}getRowNode(e){let t;return this.forEachNode((o=>{o.id===e&&(t=o)})),t}forEachNode(e){this.infiniteCache&&this.infiniteCache.forEachNodeDeep(e)}getTopLevelRowCount(){return this.getRowCount()}getTopLevelRowDisplayedIndex(e){return e}getRowIndexAtPixel(e){if(0!==this.rowHeight){const t=Math.floor(e/this.rowHeight),o=this.getRowCount()-1;return t>o?o:t}return 0}getRowCount(){return this.infiniteCache?this.infiniteCache.getRowCount():0}isRowPresent(e){return!!this.getRowNode(e.id)}refreshCache(){this.infiniteCache&&this.infiniteCache.refreshCache()}purgeCache(){this.infiniteCache&&this.infiniteCache.purgeCache()}isLastRowIndexKnown(){return!!this.infiniteCache&&this.infiniteCache.isLastRowIndexKnown()}setRowCount(e,t){this.infiniteCache&&this.infiniteCache.setRowCount(e,t)}}],dependantModules:[TE]},lO={version:sO,moduleName:"@ag-grid-community/infinite-row-model",dependantModules:[aO,{version:sO,moduleName:"@ag-grid-community/infinite-row-model-api",beans:[FP],apiFunctions:{refreshInfiniteCache:function(e){e.rowModelHelperService?.getInfiniteRowModel()?.refreshCache()},purgeInfiniteCache:function(e){e.rowModelHelperService?.getInfiniteRowModel()?.purgeCache()},getInfiniteRowCount:function(e){return e.rowModelHelperService?.getInfiniteRowModel()?.getRowCount()}},dependantModules:[aO,MP]}]};(e=>{const t=new Map})((e=>{if(/Color$/.test(e))return"color";if(/Scale?$/.test(e))return"scale";if("spacing"===e||/(Padding|Spacing|Size|Width|Height|Radius|Indent|Start|End|Top|Bottom|Horizontal|Vertical)$/.test(e))return"length";if(/Border$/.test(e))return"border";if(/BorderStyle$/.test(e))return"borderStyle";if(/Shadow$/.test(e))return"shadow";if(/Image$/.test(e))return"image";if(/Family$/.test(e))return"fontFamily";if(/Weight$/.test(e))return"fontWeight";if(/Duration$/.test(e))return"duration";if(/ColorScheme$/.test(e))return"colorScheme";throw new Error(`"${e}" is not a valid theme parameter.`)})),"object"!==typeof window||!window||"object"!==typeof document||(window.document,document);JC.__registerModules([ZR,HP,lO,KP],!1,void 0);var cO=t.createContext({}),uO=(e,t,o,n)=>{if(!e||e.componentFromFramework||t.isDestroyed())return;const i=e.newAgStackInstance();if(null==i)return;let r,s,a=!1;return i.then((e=>{a?t.destroyBean(e):(r=e,s=r.getGui(),o.appendChild(s),dO(n,r))})),()=>{a=!0,r&&(s?.parentElement?.removeChild(s),t.destroyBean(r),n&&dO(n,void 0))}},dO=(e,t)=>{if(e)if(e instanceof Function){e(t)}else{e.current=t}},hO=function(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];return t.filter((e=>null!=e&&""!==e)).join(" ")},pO=class e{constructor(){this.classesMap={};for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];t.forEach((e=>{this.classesMap[e]=!0}))}setClass(t,o){if(!!this.classesMap[t]==o)return this;const n=new e;return n.classesMap={...this.classesMap},n.classesMap[t]=o,n}toString(){return Object.keys(this.classesMap).filter((e=>this.classesMap[e])).join(" ")}},gO=e=>"function"===typeof e&&!(e.prototype&&e.prototype.isReactComponent)||"object"===typeof e&&e.$$typeof===("function"===typeof Symbol&&Symbol.for?Symbol.for("react.memo"):60115),fO=t.version?.split(".")[0],mO="16"===fO||"17"===fO;var vO=!1;var yO=(e,t)=>{mO||!e||vO?t():Ir.flushSync(t)};function CO(e,t,o){if(null==t||null==e)return t;if(e===t||0===t.length&&0===e.length)return e;if(o||0===e.length&&t.length>0||e.length>0&&0===t.length)return t;const n=[],i=[],r=new Map,s=new Map;for(let a=0;a<t.length;a++){const e=t[a];s.set(e.instanceId,e)}for(let a=0;a<e.length;a++){const t=e[a];r.set(t.instanceId,t),s.has(t.instanceId)&&n.push(t)}for(let a=0;a<t.length;a++){const e=t[a],o=e.instanceId;r.has(o)||i.push(e)}return n.length===e.length&&0===i.length?e:0===n.length&&i.length===t.length?t:0===n.length?i:0===i.length?n:[...n,...i]}var wO=(0,t.forwardRef)(((e,o)=>{const{ctrlsFactory:n,context:i}=(0,t.useContext)(cO),r=(0,t.useRef)(null),s=(0,t.useRef)(null),a=(0,t.useRef)(null),l=(0,t.useRef)(null),c=(0,t.useRef)(null),u=(0,t.useRef)(),[d,h]=(0,t.useState)(),[p,g]=(0,t.useState)(),[f,m]=(0,t.useState)(),[v,y]=(0,t.useState)((()=>new pO)),[C,w]=(0,t.useState)((()=>new pO("ag-hidden"))),[b,S]=(0,t.useState)((()=>new pO("ag-hidden"))),[E,R]=(0,t.useState)((()=>new pO("ag-invisible")));(0,t.useImperativeHandle)(o,(()=>({refresh:()=>!1}))),(0,t.useLayoutEffect)((()=>uO(d,i,s.current)),[d]);const P=(0,t.useCallback)((t=>{if(r.current=t,!t)return void(u.current=i.destroyBean(u.current));const o={setInnerRenderer:(e,t)=>{h(e),m(t)},setChildCount:e=>g(e),addOrRemoveCssClass:(e,t)=>y((o=>o.setClass(e,t))),setContractedDisplayed:e=>S((t=>t.setClass("ag-hidden",!e))),setExpandedDisplayed:e=>w((t=>t.setClass("ag-hidden",!e))),setCheckboxVisible:e=>R((t=>t.setClass("ag-invisible",!e)))},s=n.getInstance("groupCellRendererCtrl");s&&(u.current=i.createBean(s),u.current.init(o,t,a.current,l.current,c.current,wO,e))}),[]),O=(0,t.useMemo)((()=>`ag-cell-wrapper ${v.toString()}`),[v]),x=(0,t.useMemo)((()=>`ag-group-expanded ${C.toString()}`),[C]),T=(0,t.useMemo)((()=>`ag-group-contracted ${b.toString()}`),[b]),D=(0,t.useMemo)((()=>`ag-group-checkbox ${E.toString()}`),[E]),A=d&&d.componentFromFramework,F=A?d.componentClass:void 0,_=null==d&&null!=f,M=pv(f,!0);return t.createElement("span",{className:O,ref:P,...e.colDef?{}:{role:u.current?.getCellAriaRole()}},t.createElement("span",{className:x,ref:l}),t.createElement("span",{className:T,ref:c}),t.createElement("span",{className:D,ref:a}),t.createElement("span",{className:"ag-group-value",ref:s},_&&t.createElement(t.Fragment,null,M),A&&t.createElement(F,{...d.params})),t.createElement("span",{className:"ag-group-child-count"},p))})),bO=wO,SO=(0,t.createContext)({setMethods:()=>{}}),EO=(0,t.memo)((e=>{const{initialProps:o,addUpdateCallback:n,CustomComponentClass:i,setMethods:r}=e,[{key:s,...a},l]=(0,t.useState)(o);return(0,t.useEffect)((()=>{n((e=>l(e)))}),[]),t.createElement(SO.Provider,{value:{setMethods:r}},t.createElement(i,{key:s,...a}))})),RO=0;function PO(){return"agPortalKey_"+ ++RO}var OO=class{constructor(e,t,o,n){this.portal=null,this.oldPortal=null,this.reactComponent=e,this.portalManager=t,this.componentType=o,this.suppressFallbackMethods=!!n,this.statelessComponent=this.isStateless(this.reactComponent),this.key=PO(),this.portalKey=PO(),this.instanceCreated=this.isStatelessComponent()?TC.resolve(!1):new TC((e=>{this.resolveInstanceCreated=e}))}getGui(){return this.eParentElement}getRootElement(){return this.eParentElement.firstChild}destroy(){this.componentInstance&&"function"==typeof this.componentInstance.destroy&&this.componentInstance.destroy();const e=this.portal;e&&this.portalManager.destroyPortal(e)}createParentElement(e){const t=this.portalManager.getComponentWrappingElement(),o=document.createElement(t||"div");return o.classList.add("ag-react-container"),e.reactContainer=o,o}addParentContainerStyleAndClasses(){if(this.componentInstance&&(this.componentInstance.getReactContainerStyle&&this.componentInstance.getReactContainerStyle()&&(nf('Since v31.1 "getReactContainerStyle" is deprecated. Apply styling directly to ".ag-react-container" if needed.'),Object.assign(this.eParentElement.style,this.componentInstance.getReactContainerStyle())),this.componentInstance.getReactContainerClasses&&this.componentInstance.getReactContainerClasses())){nf('Since v31.1 "getReactContainerClasses" is deprecated. Apply styling directly to ".ag-react-container" if needed.');this.componentInstance.getReactContainerClasses().forEach((e=>this.eParentElement.classList.add(e)))}}statelessComponentRendered(){return this.eParentElement.childElementCount>0||this.eParentElement.childNodes.length>0}getFrameworkComponentInstance(){return this.componentInstance}isStatelessComponent(){return this.statelessComponent}getReactComponentName(){return this.reactComponent.name}getMemoType(){return this.hasSymbol()?Symbol.for("react.memo"):60115}hasSymbol(){return"function"===typeof Symbol&&Symbol.for}isStateless(e){return"function"===typeof e&&!(e.prototype&&e.prototype.isReactComponent)||"object"===typeof e&&e.$$typeof===this.getMemoType()}hasMethod(e){const t=this.getFrameworkComponentInstance();return!!t&&null!=t[e]||this.fallbackMethodAvailable(e)}callMethod(e,t){const o=this.getFrameworkComponentInstance();if(this.isStatelessComponent())return this.fallbackMethod(e,t&&t[0]?t[0]:{});if(!o)return void setTimeout((()=>this.callMethod(e,t)));const n=o[e];return n?n.apply(o,t):this.fallbackMethodAvailable(e)?this.fallbackMethod(e,t&&t[0]?t[0]:{}):void 0}addMethod(e,t){this[e]=t}init(e){return this.eParentElement=this.createParentElement(e),this.createOrUpdatePortal(e),new TC((e=>this.createReactComponent(e)))}createOrUpdatePortal(e){this.isStatelessComponent()||(this.ref=e=>{this.componentInstance=e,this.addParentContainerStyleAndClasses(),this.resolveInstanceCreated?.(!0),this.resolveInstanceCreated=void 0},e.ref=this.ref),this.reactElement=this.createElement(this.reactComponent,{...e,key:this.key}),this.portal=(0,Ir.createPortal)(this.reactElement,this.eParentElement,this.portalKey)}createElement(e,o){return(0,t.createElement)(e,o)}createReactComponent(e){this.portalManager.mountReactPortal(this.portal,this,e)}rendered(){return this.isStatelessComponent()&&this.statelessComponentRendered()||!(this.isStatelessComponent()||!this.getFrameworkComponentInstance())}refreshComponent(e){this.oldPortal=this.portal,this.createOrUpdatePortal(e),this.portalManager.updateReactPortal(this.oldPortal,this.portal)}fallbackMethod(e,t){const o=this[`${e}Component`];if(!this.suppressFallbackMethods&&o)return o.bind(this)(t)}fallbackMethodAvailable(e){if(this.suppressFallbackMethods)return!1;return!!this[`${e}Component`]}};function xO(e,t,o){e.forEach((e=>{const n=t[e];n&&(o[e]=n)}))}var TO=class extends OO{constructor(){super(...arguments),this.awaitUpdateCallback=new TC((e=>{this.resolveUpdateCallback=e})),this.wrapperComponent=EO}init(e){return this.sourceParams=e,super.init(this.getProps())}addMethod(){}getInstance(){return this.instanceCreated.then((()=>this.componentInstance))}getFrameworkComponentInstance(){return this}createElement(e,t){return super.createElement(this.wrapperComponent,{initialProps:t,CustomComponentClass:e,setMethods:e=>this.setMethods(e),addUpdateCallback:e=>{this.updateCallback=()=>(e(this.getProps()),new TC((e=>{setTimeout((()=>{e()}))}))),this.resolveUpdateCallback()}})}setMethods(e){this.providedMethods=e,xO(this.getOptionalMethods(),this.providedMethods,this)}getOptionalMethods(){return[]}getProps(){return{...this.sourceParams,key:this.key,ref:this.ref}}refreshProps(){return this.updateCallback?this.updateCallback():new TC((e=>this.awaitUpdateCallback.then((()=>{this.updateCallback().then((()=>e()))}))))}},DO=class extends TO{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},AO=class extends TO{constructor(){super(...arguments),this.date=null,this.onDateChange=e=>this.updateDate(e)}getDate(){return this.date}setDate(e){this.date=e,this.refreshProps()}refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled"]}updateDate(e){this.setDate(e),this.sourceParams.onDateChanged()}getProps(){const e=super.getProps();return e.date=this.date,e.onDateChange=this.onDateChange,delete e.onDateChanged,e}},FO=class extends TO{constructor(){super(...arguments),this.label="",this.icon=null,this.shake=!1}setIcon(e,t){this.icon=e,this.shake=t,this.refreshProps()}setLabel(e){this.label=e,this.refreshProps()}getProps(){const e=super.getProps(),{label:t,icon:o,shake:n}=this;return e.label=t,e.icon=o,e.shake=n,e}},_O=class extends TO{constructor(){super(...arguments),this.model=null,this.onModelChange=e=>this.updateModel(e),this.onUiChange=()=>this.sourceParams.filterChangedCallback(),this.expectingNewMethods=!0,this.hasBeenActive=!1}isFilterActive(){return null!=this.model}doesFilterPass(e){return this.providedMethods.doesFilterPass(e)}getModel(){return this.model}setModel(e){return this.expectingNewMethods=!0,this.model=e,this.hasBeenActive||(this.hasBeenActive=this.isFilterActive()),this.refreshProps()}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}getOptionalMethods(){return["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onAnyFilterChanged"]}setMethods(e){!1===this.expectingNewMethods&&this.hasBeenActive&&this.providedMethods?.doesFilterPass!==e?.doesFilterPass&&setTimeout((()=>{this.sourceParams.filterChangedCallback()})),this.expectingNewMethods=!1,super.setMethods(e)}updateModel(e){this.setModel(e).then((()=>this.sourceParams.filterChangedCallback()))}getProps(){const e=super.getProps();return e.model=this.model,e.onModelChange=this.onModelChange,e.onUiChange=this.onUiChange,delete e.filterChangedCallback,delete e.filterModifiedCallback,delete e.valueGetter,e}};function MO(e,t){e.parentFilterInstance((o=>{(o.setModel(t)||TC.resolve()).then((()=>{e.filterParams.filterChangedCallback()}))}))}var IO=class{constructor(e,t){this.floatingFilterParams=e,this.refreshProps=t,this.model=null,this.onModelChange=e=>this.updateModel(e)}getProps(){return{...this.floatingFilterParams,model:this.model,onModelChange:this.onModelChange}}onParentModelChanged(e){this.model=e,this.refreshProps()}refresh(e){this.floatingFilterParams=e,this.refreshProps()}setMethods(e){xO(this.getOptionalMethods(),e,this)}getOptionalMethods(){return["afterGuiAttached"]}updateModel(e){this.model=e,this.refreshProps(),MO(this.floatingFilterParams,e)}},LO=class extends TO{constructor(){super(...arguments),this.model=null,this.onModelChange=e=>this.updateModel(e)}onParentModelChanged(e){this.model=e,this.refreshProps()}refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached"]}updateModel(e){this.model=e,this.refreshProps(),MO(this.sourceParams,e)}getProps(){const e=super.getProps();return e.model=this.model,e.onModelChange=this.onModelChange,e}},NO=class extends TO{refresh(e){this.sourceParams=e,this.refreshProps()}},kO=class extends TO{constructor(){super(...arguments),this.active=!1,this.expanded=!1,this.onActiveChange=e=>this.updateActive(e)}setActive(e){this.awaitSetActive(e)}setExpanded(e){this.expanded=e,this.refreshProps()}getOptionalMethods(){return["select","configureDefaults"]}awaitSetActive(e){return this.active=e,this.refreshProps()}updateActive(e){const t=this.awaitSetActive(e);e&&t.then((()=>this.sourceParams.onItemActivated()))}getProps(){const e=super.getProps();return e.active=this.active,e.expanded=this.expanded,e.onActiveChange=this.onActiveChange,delete e.onItemActivated,e}},GO=class extends TO{refresh(e){this.sourceParams=e,this.refreshProps()}},VO=class extends TO{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},HO=class extends TO{constructor(){super(...arguments),this.onStateChange=e=>this.updateState(e)}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}getState(){return this.state}updateState(e){this.state=e,this.refreshProps(),this.sourceParams.onStateUpdated()}getProps(){const e=super.getProps();return e.state=this.state,e.onStateChange=this.onStateChange,e}};function BO(){nf("As of v32, using custom components with `reactiveCustomComponents = false` is deprecated.")}var WO=class{constructor(e,t,o){this.destroyed=!1,this.portals=[],this.hasPendingPortalUpdate=!1,this.wrappingElement=t||"div",this.refresher=e,this.maxComponentCreationTimeMs=o||1e3}getPortals(){return this.portals}destroy(){this.destroyed=!0}destroyPortal(e){this.portals=this.portals.filter((t=>t!==e)),this.batchUpdate()}getComponentWrappingElement(){return this.wrappingElement}mountReactPortal(e,t,o){this.portals=[...this.portals,e],this.waitForInstance(t,o),this.batchUpdate()}updateReactPortal(e,t){this.portals[this.portals.indexOf(e)]=t,this.batchUpdate()}batchUpdate(){this.hasPendingPortalUpdate||(setTimeout((()=>{this.destroyed||(this.refresher(),this.hasPendingPortalUpdate=!1)})),this.hasPendingPortalUpdate=!0)}waitForInstance(e,t){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Date.now();if(this.destroyed)t(null);else if(e.rendered())t(e);else{if(Date.now()-o>=this.maxComponentCreationTimeMs&&!this.hasPendingPortalUpdate)return;window.setTimeout((()=>{this.waitForInstance(e,t,o)}))}}},jO=(0,t.memo)((e=>{let{ctrl:o}=e;const n=o.isAlive(),{context:i}=(0,t.useContext)(cO),r=n?o.getColId():void 0,[s,a]=(0,t.useState)(),l=(0,t.useRef)(),c=(0,t.useRef)(null),u=(0,t.useRef)(null),d=(0,t.useRef)(null),h=(0,t.useRef)(),p=(0,t.useRef)();n&&!p.current&&(p.current=new jv((()=>c.current)));const g=(0,t.useCallback)((e=>{if(c.current=e,l.current=e?i.createBean(new Fv):i.destroyBean(l.current),!e||!n)return;const t={setWidth:e=>{c.current&&(c.current.style.width=e)},addOrRemoveCssClass:(e,t)=>p.current.addOrRemoveCssClass(e,t),setAriaSort:e=>{c.current&&(e?iy(c.current,e):ry(c.current))},setUserCompDetails:e=>a(e),getUserCompInstance:()=>h.current||void 0};o.setComp(t,e,u.current,d.current,l.current);const r=o.getSelectAllGui();u.current?.insertAdjacentElement("afterend",r),l.current.addDestroyFunc((()=>r.remove()))}),[]);(0,t.useLayoutEffect)((()=>uO(s,i,d.current,h)),[s]),(0,t.useEffect)((()=>{o.setDragSource(c.current)}),[s]);const f=(0,t.useMemo)((()=>!!(s?.componentFromFramework&&gO(s.componentClass))),[s]),m=s&&s.componentFromFramework,v=s&&s.componentClass;return t.createElement("div",{ref:g,className:"ag-header-cell","col-id":r,role:"columnheader"},t.createElement("div",{ref:u,className:"ag-header-cell-resize",role:"presentation"}),t.createElement("div",{ref:d,className:"ag-header-cell-comp-wrapper",role:"presentation"},m&&f&&t.createElement(v,{...s.params}),m&&!f&&t.createElement(v,{...s.params,ref:h})))})),zO=(0,t.memo)((e=>{let{ctrl:o}=e;const{context:n,gos:i}=(0,t.useContext)(cO),[r,s]=(0,t.useState)((()=>new pO("ag-header-cell","ag-floating-filter"))),[a,l]=(0,t.useState)((()=>new pO)),[c,u]=(0,t.useState)((()=>new pO("ag-floating-filter-button","ag-hidden"))),[d,h]=(0,t.useState)("false"),[p,g]=(0,t.useState)(),[,f]=(0,t.useState)(1),m=(0,t.useRef)(),v=(0,t.useRef)(null),y=(0,t.useRef)(null),C=(0,t.useRef)(null),w=(0,t.useRef)(null),b=(0,t.useRef)(),S=(0,t.useRef)(),E=e=>{null!=e&&b.current&&b.current(e)},R=(0,t.useCallback)((e=>{if(v.current=e,m.current=e?n.createBean(new Fv):n.destroyBean(m.current),!e)return;S.current=new TC((e=>{b.current=e}));const t={addOrRemoveCssClass:(e,t)=>s((o=>o.setClass(e,t))),addOrRemoveBodyCssClass:(e,t)=>l((o=>o.setClass(e,t))),setButtonWrapperDisplayed:e=>{u((t=>t.setClass("ag-hidden",!e))),h(e?"false":"true")},setWidth:e=>{v.current&&(v.current.style.width=e)},setCompDetails:e=>g(e),getFloatingFilterComp:()=>S.current?S.current:null,setMenuIcon:e=>w.current?.appendChild(e)};o.setComp(t,e,w.current,y.current,m.current)}),[]);(0,t.useLayoutEffect)((()=>uO(p,n,y.current,E)),[p]);const P=(0,t.useMemo)((()=>r.toString()),[r]),O=(0,t.useMemo)((()=>a.toString()),[a]),x=(0,t.useMemo)((()=>c.toString()),[c]),T=(0,t.useMemo)((()=>!!(p&&p.componentFromFramework&&gO(p.componentClass))),[p]),D=(0,t.useMemo)((()=>i.get("reactiveCustomComponents")),[]),A=(0,t.useMemo)((()=>{if(p){if(D){const e=new IO(p.params,(()=>f((e=>e+1))));return E(e),e}p.componentFromFramework&&BO()}}),[p]),F=A?.getProps(),_=p&&p.componentFromFramework,M=p&&p.componentClass;return t.createElement("div",{ref:R,className:P,role:"gridcell"},t.createElement("div",{ref:y,className:O,role:"presentation"},_&&!D&&t.createElement(M,{...p.params,ref:T?()=>{}:E}),_&&D&&t.createElement(SO.Provider,{value:{setMethods:e=>A.setMethods(e)}},t.createElement(M,{...F}))),t.createElement("div",{ref:C,"aria-hidden":d,className:x,role:"presentation"},t.createElement("button",{ref:w,type:"button",className:"ag-button ag-floating-filter-button-button",tabIndex:-1})))})),UO=(0,t.memo)((e=>{let{ctrl:o}=e;const{context:n}=(0,t.useContext)(cO),[i,r]=(0,t.useState)((()=>new pO)),[s,a]=(0,t.useState)((()=>new pO)),[l,c]=(0,t.useState)("false"),[u,d]=(0,t.useState)(),[h,p]=(0,t.useState)(),g=(0,t.useMemo)((()=>o.getColId()),[]),f=(0,t.useRef)(),m=(0,t.useRef)(null),v=(0,t.useRef)(null),y=(0,t.useRef)(null),C=(0,t.useRef)(),w=(0,t.useCallback)((e=>{if(m.current=e,f.current=e?n.createBean(new Fv):n.destroyBean(f.current),!e)return;const t={setWidth:e=>{m.current&&(m.current.style.width=e)},addOrRemoveCssClass:(e,t)=>r((o=>o.setClass(e,t))),setHeaderWrapperHidden:e=>{const t=y.current;t&&(e?t.style.setProperty("display","none"):t.style.removeProperty("display"))},setHeaderWrapperMaxHeight:e=>{const t=y.current;t&&(null!=e?t.style.setProperty("max-height",`${e}px`):t.style.removeProperty("max-height"),t.classList.toggle("ag-header-cell-comp-wrapper-limited-height",null!=e))},setUserCompDetails:e=>p(e),setResizableDisplayed:e=>{a((t=>t.setClass("ag-hidden",!e))),c(e?"false":"true")},setAriaExpanded:e=>d(e),getUserCompInstance:()=>C.current||void 0};o.setComp(t,e,v.current,y.current,f.current)}),[]);(0,t.useLayoutEffect)((()=>uO(h,n,y.current)),[h]),(0,t.useEffect)((()=>{m.current&&o.setDragSource(m.current)}),[h]);const b=(0,t.useMemo)((()=>!!(h?.componentFromFramework&&gO(h.componentClass))),[h]),S=(0,t.useMemo)((()=>"ag-header-group-cell "+i.toString()),[i]),E=(0,t.useMemo)((()=>"ag-header-cell-resize "+s.toString()),[s]),R=h&&h.componentFromFramework,P=h&&h.componentClass;return t.createElement("div",{ref:w,className:S,"col-id":g,role:"columnheader","aria-expanded":u},t.createElement("div",{ref:y,className:"ag-header-cell-comp-wrapper",role:"presentation"},R&&b&&t.createElement(P,{...h.params}),R&&!b&&t.createElement(P,{...h.params,ref:C})),t.createElement("div",{ref:v,"aria-hidden":l,className:E}))})),$O=(0,t.memo)((e=>{let{ctrl:o}=e;const{context:n}=(0,t.useContext)(cO),{topOffset:i,rowHeight:r}=(0,t.useMemo)((()=>o.getTopAndHeight()),[]),s=o.getAriaRowIndex(),a=o.getHeaderRowClass(),[l,c]=(0,t.useState)((()=>r+"px")),[u,d]=(0,t.useState)((()=>i+"px")),h=(0,t.useRef)(null),p=(0,t.useRef)(null),[g,f]=(0,t.useState)((()=>o.getHeaderCtrls())),m=(0,t.useRef)(),v=(0,t.useRef)(null),y=(0,t.useCallback)((e=>{if(v.current=e,m.current=e?n.createBean(new Fv):n.destroyBean(m.current),!e)return;const t={setHeight:e=>c(e),setTop:e=>d(e),setHeaderCtrls:(e,t,o)=>{p.current=h.current,h.current=e;const n=CO(p.current,e,t);n!==p.current&&yO(o,(()=>f(n)))},setWidth:e=>{v.current&&(v.current.style.width=e)}};o.setComp(t,m.current,!1)}),[]),C=(0,t.useMemo)((()=>({height:l,top:u})),[l,u]),w=(0,t.useCallback)((e=>{switch(o.getType()){case Db.COLUMN_GROUP:return t.createElement(UO,{ctrl:e,key:e.instanceId});case Db.FLOATING_FILTER:return t.createElement(zO,{ctrl:e,key:e.instanceId});default:return t.createElement(jO,{ctrl:e,key:e.instanceId})}}),[]);return t.createElement("div",{ref:y,className:a,role:"row",style:C,"aria-rowindex":s},g.map(w))})),KO=(0,t.memo)((e=>{let{pinned:o}=e;const[n,i]=(0,t.useState)(!0),[r,s]=(0,t.useState)([]),{context:a}=(0,t.useContext)(cO),l=(0,t.useRef)(null),c=(0,t.useRef)(null),u=(0,t.useRef)(),d="left"===o,h="right"===o,p=!d&&!h,g=(0,t.useCallback)((e=>{if(l.current=e,u.current=e?a.createBean(new qb(o)):a.destroyBean(u.current),!e)return;const t={setDisplayed:i,setCtrls:e=>s(e),setCenterWidth:e=>{c.current&&(c.current.style.width=e)},setViewportScrollLeft:e=>{l.current&&(l.current.scrollLeft=e)},setPinnedContainerWidth:e=>{l.current&&(l.current.style.width=e,l.current.style.minWidth=e,l.current.style.maxWidth=e)}};u.current.setComp(t,l.current)}),[]),f=n?"":"ag-hidden",m=()=>r.map((e=>t.createElement($O,{ctrl:e,key:e.instanceId})));return t.createElement(t.Fragment,null,d&&t.createElement("div",{ref:g,className:"ag-pinned-left-header "+f,"aria-hidden":!n,role:"rowgroup"},m()),h&&t.createElement("div",{ref:g,className:"ag-pinned-right-header "+f,"aria-hidden":!n,role:"rowgroup"},m()),p&&t.createElement("div",{ref:g,className:"ag-header-viewport "+f,role:"presentation"},t.createElement("div",{ref:c,className:"ag-header-container",role:"rowgroup"},m())))})),YO=(0,t.memo)((()=>{const[e,o]=(0,t.useState)((()=>new pO)),[n,i]=(0,t.useState)(),{context:r}=(0,t.useContext)(cO),s=(0,t.useRef)(null),a=(0,t.useRef)(),l=(0,t.useCallback)((e=>{if(s.current=e,a.current=e?r.createBean(new Fb):r.destroyBean(a.current),!e)return;const t={addOrRemoveCssClass:(e,t)=>o((o=>o.setClass(e,t))),setHeightAndMinHeight:e=>i(e)};a.current.setComp(t,e,e)}),[]),c=(0,t.useMemo)((()=>"ag-header "+e.toString()),[e]),u=(0,t.useMemo)((()=>({height:n,minHeight:n})),[n]);return t.createElement("div",{ref:l,className:c,style:u,role:"presentation"},t.createElement(KO,{pinned:"left"}),t.createElement(KO,{pinned:null}),t.createElement(KO,{pinned:"right"}))})),qO=(e,o)=>{(0,t.useEffect)((()=>{const t=o.current;if(t){const o=t.parentElement;if(o){const n=document.createComment(e);return o.insertBefore(n,t),()=>{o.removeChild(n)}}}}),[e])},XO=class{constructor(e,t){this.cellEditorParams=e,this.refreshProps=t,this.instanceCreated=new TC((e=>{this.resolveInstanceCreated=e})),this.onValueChange=e=>this.updateValue(e),this.value=e.value}getProps(){return{...this.cellEditorParams,initialValue:this.cellEditorParams.value,value:this.value,onValueChange:this.onValueChange}}getValue(){return this.value}refresh(e){this.cellEditorParams=e,this.refreshProps()}setMethods(e){xO(this.getOptionalMethods(),e,this)}getInstance(){return this.instanceCreated.then((()=>this.componentInstance))}setRef(e){this.componentInstance=e,this.resolveInstanceCreated?.(),this.resolveInstanceCreated=void 0}getOptionalMethods(){return["isCancelBeforeStart","isCancelAfterEnd","focusIn","focusOut","afterGuiAttached"]}updateValue(e){this.value=e,this.refreshProps()}},QO=(0,t.memo)((e=>{const[o,n]=(0,t.useState)(),{context:i,popupService:r,localeService:s,gos:a,editService:l}=(0,t.useContext)(cO);return(e=>{const o=(0,t.useRef)(e),n=(0,t.useRef)(),i=(0,t.useRef)(!1),r=(0,t.useRef)(!1),[,s]=(0,t.useState)(0);i.current&&(r.current=!0),(0,t.useEffect)((()=>(i.current||(n.current=o.current(),i.current=!0),s((e=>e+1)),()=>{r.current&&n.current?.()})),[])})((()=>{const{editDetails:t,cellCtrl:o,eParentCell:c}=e,{compDetails:u}=t,d=a.get("stopEditingWhenCellsLoseFocus"),h=i.createBean(l.createPopupEditorWrapper(u.params)),p=h.getGui();if(e.jsChildComp){const t=e.jsChildComp.getGui();t&&p.appendChild(t)}const g={column:o.getColumn(),rowNode:o.getRowNode(),type:"popupCellEditor",eventSource:c,ePopup:p,position:t.popupPosition,keepWithinBounds:!0},f=r.positionPopupByComponent.bind(r,g),m=s.getLocaleTextFunc(),v=r.addPopup({modal:d,eChild:p,closeOnEsc:!0,closedCallback:()=>{o.onPopupEditorClosed()},anchorToElement:c,positionCallback:f,ariaLabel:m("ariaLabelCellEditor","Cell Editor")}),y=v?v.hideFunc:void 0;return n(h),e.jsChildComp?.afterGuiAttached?.(),()=>{y?.(),i.destroyBean(h)}})),t.createElement(t.Fragment,null,o&&e.wrappedContent&&(0,Ir.createPortal)(e.wrappedContent,o.getGui()))})),ZO=(e,o,n,i,r,s)=>{const{context:a}=(0,t.useContext)(cO),l=(0,t.useCallback)((()=>{const e=r.current;if(!e)return;const t=e.getGui();t&&t.parentElement&&t.parentElement.removeChild(t),a.destroyBean(e),r.current=void 0}),[]);(0,t.useEffect)((()=>{const t=null!=e,i=e?.compDetails&&!e.compDetails.componentFromFramework;if(!(t&&i&&!(o&&null==n)))return void l();const a=e.compDetails;if(r.current){const t=r.current,o=!!(null!=t.refresh&&0==e.force)&&t.refresh(a.params);if(!0===o||void 0===o)return;l()}const c=a.newAgStackInstance();null!=c&&c.then((e=>{if(!e)return;const t=e.getGui();if(!t)return;(o?n:s.current).appendChild(t),r.current=e}))}),[e,o,i]),(0,t.useEffect)((()=>l),[])},JO=(e,o,n)=>{const i=e.compProxy;return t.createElement(t.Fragment,null,i?((e,o,n)=>{const{compProxy:i}=e;n(i);const r=i.getProps(),s=gO(o);return t.createElement(SO.Provider,{value:{setMethods:e=>i.setMethods(e)}},s?t.createElement(o,{...r}):t.createElement(o,{...r,ref:e=>i.setRef(e)}))})(e,o,n):t.createElement(o,{...e.compDetails.params,ref:n}))},ex=(0,t.memo)((e=>{let{cellCtrl:o,printLayout:n,editingRow:i}=e;const{context:r}=(0,t.useContext)(cO),{colIdSanitised:s,instanceId:a}=o,l=(0,t.useRef)(),[c,u]=(0,t.useState)((()=>o.isCellRenderer()?void 0:{compDetails:void 0,value:o.getValueToDisplay(),force:!1})),[d,h]=(0,t.useState)(),[p,g]=(0,t.useState)(1),[f,m]=(0,t.useState)(),[v,y]=(0,t.useState)(!1),[C,w]=(0,t.useState)(!1),[b,S]=(0,t.useState)(!1),[E,R]=(0,t.useState)(),P=(0,t.useMemo)((()=>o.isForceWrapper()),[o]),O=(0,t.useMemo)((()=>o.getCellAriaRole()),[o]),x=(0,t.useRef)(null),T=(0,t.useRef)(null),D=(0,t.useRef)(),A=(0,t.useRef)(),F=(0,t.useRef)(),_=(0,t.useRef)([]),M=(0,t.useRef)(),[I,L]=(0,t.useState)(0),N=(0,t.useCallback)((e=>{M.current=e,L((e=>e+1))}),[]),k=P||null!=c&&(v||b||C),G=(0,t.useCallback)((e=>{if(A.current=e,e){const t=e.isCancelBeforeStart&&e.isCancelBeforeStart();setTimeout((()=>{t?(o.stopEditing(!0),o.focusCell(!0)):o.cellEditorAttached()}))}}),[o]),V=(0,t.useRef)();V.current||(V.current=new jv((()=>x.current))),ZO(c,k,M.current,I,D,x);const H=(0,t.useRef)();(0,t.useLayoutEffect)((()=>{const e=H.current,t=c;if(H.current=c,null==e||null==e.compDetails||null==t||null==t.compDetails)return;const o=e.compDetails,n=t.compDetails;if(o.componentClass!=n.componentClass)return;if(null==T.current?.refresh)return;1!=T.current.refresh(n.params)&&g((e=>e+1))}),[c]),(0,t.useLayoutEffect)((()=>{if(!(d&&!d.compDetails.componentFromFramework))return;const e=d.compDetails,t=!0===d.popup,o=e.newAgStackInstance();return o.then((e=>{if(!e)return;const o=e.getGui();if(G(e),!t){const t=(P?F:x).current;t?.appendChild(o),e.afterGuiAttached&&e.afterGuiAttached()}R(e)})),()=>{o.then((e=>{const t=e.getGui();r.destroyBean(e),G(void 0),R(void 0),t?.parentElement?.removeChild(t)}))}}),[d]);const B=(0,t.useCallback)((e=>{if(F.current=e,!e)return _.current.forEach((e=>e())),void(_.current=[]);const t=t=>{if(t){const o=t.getGui();e.insertAdjacentElement("afterbegin",o),_.current.push((()=>{r.destroyBean(t),My(o)}))}return t};if(v){t(o.createSelectionCheckbox())}b&&t(o.createDndSource()),C&&t(o.createRowDragComp())}),[o,r,b,C,v]),W=(0,t.useCallback)((e=>{if(x.current=e,l.current=e?r.createBean(new Fv):r.destroyBean(l.current),!e||!o)return;const t={addOrRemoveCssClass:(e,t)=>V.current.addOrRemoveCssClass(e,t),setUserStyles:e=>m(e),getFocusableElement:()=>x.current,setIncludeSelection:e=>y(e),setIncludeRowDrag:e=>w(e),setIncludeDndSource:e=>S(e),getCellEditor:()=>A.current||null,getCellRenderer:()=>T.current??D.current,getParentOfValue:()=>M.current??F.current??x.current,setRenderDetails:(e,t,o)=>{u((n=>n?.compDetails!==e||n?.value!==t||n?.force!==o?{value:t,compDetails:e,force:o}:n))},setEditDetails:(e,t,o,n)=>{if(e){let i;n?i=new XO(e.params,(()=>g((e=>e+1)))):e.componentFromFramework&&BO(),h({compDetails:e,popup:t,popupPosition:o,compProxy:i}),t||u(void 0)}else h((e=>{e?.compProxy&&(A.current=void 0)}))}},s=F.current||void 0;o.setComp(t,e,s,n,i,l.current)}),[]),j=(0,t.useMemo)((()=>!!(c?.compDetails?.componentFromFramework&&gO(c.compDetails.componentClass))),[c]);(0,t.useLayoutEffect)((()=>{x.current&&(V.current.addOrRemoveCssClass("ag-cell-value",!k),V.current.addOrRemoveCssClass("ag-cell-inline-editing",!!d&&!d.popup),V.current.addOrRemoveCssClass("ag-cell-popup-editing",!!d&&!!d.popup),V.current.addOrRemoveCssClass("ag-cell-not-inline-editing",!d||!!d.popup),o.getRowCtrl()?.setInlineEditingCss(),o.shouldRestoreFocus()&&!o.isEditing()&&x.current.focus({preventScroll:!0}))}));const z=()=>t.createElement(t.Fragment,null,null!=c&&((e,o,n,i,r,s,a)=>{const{compDetails:l,value:c}=e,u=!l,d=l&&l.componentFromFramework,h=l&&l.componentClass,p=c?.toString?c.toString():c,g=()=>t.createElement(t.Fragment,null,u&&t.createElement(t.Fragment,null,p),d&&!s&&t.createElement(h,{...l.params,key:o,ref:i}),d&&s&&t.createElement(h,{...l.params,key:o}));return t.createElement(t.Fragment,null,r?t.createElement("span",{role:"presentation",id:`cell-${n}`,className:"ag-cell-value",ref:a},g()):g())})(c,p,a,T,k,j,N),null!=d&&((e,o,n,i,r)=>{const s=e.compDetails,a=s.componentClass,l=s.componentFromFramework&&!e.popup,c=s.componentFromFramework&&e.popup,u=!s.componentFromFramework&&e.popup;return t.createElement(t.Fragment,null,l&&JO(e,a,o),c&&t.createElement(QO,{editDetails:e,cellCtrl:i,eParentCell:n,wrappedContent:JO(e,a,o)}),u&&r&&t.createElement(QO,{editDetails:e,cellCtrl:i,eParentCell:n,jsChildComp:r}))})(d,G,x.current,o,E)),U=(0,t.useCallback)((()=>o.onFocusOut()),[]);return t.createElement("div",{ref:W,style:f,role:O,"col-id":s,onBlur:U},k?t.createElement("div",{className:"ag-cell-wrapper",role:"presentation",ref:B},z()):z())})),tx=(0,t.memo)((e=>{let{rowCtrl:o,containerType:n}=e;const{context:i,gos:r}=(0,t.useContext)(cO),s=(0,t.useRef)(),a=(0,t.useRef)(o.getDomOrder()),l=o.isFullWidth(),c=o.getRowNode().displayed,[u,d]=(0,t.useState)((()=>c?o.getRowIndex():null)),[h,p]=(0,t.useState)((()=>o.getRowId())),[g,f]=(0,t.useState)((()=>o.getBusinessKey())),[m,v]=(0,t.useState)((()=>o.getRowStyles())),y=(0,t.useRef)(null),C=(0,t.useRef)(null),[w,b]=(0,t.useState)((()=>null)),[S,E]=(0,t.useState)(),[R,P]=(0,t.useState)((()=>c?o.getInitialRowTop(n):void 0)),[O,x]=(0,t.useState)((()=>c?o.getInitialTransform(n):void 0)),T=(0,t.useRef)(null),D=(0,t.useRef)(),A=(0,t.useRef)(!1),[F,_]=(0,t.useState)(0);(0,t.useEffect)((()=>{if(A.current||!S||F>10)return;const e=T.current?.firstChild;e?(o.setupDetailRowAutoHeight(e),A.current=!0):_((e=>e+1))}),[S,F]);const M=(0,t.useRef)();M.current||(M.current=new jv((()=>T.current)));const I=(0,t.useCallback)((e=>{if(T.current=e,s.current=e?i.createBean(new Fv):i.destroyBean(s.current),!e)return void o.unsetComp(n);if(!o.isAlive())return;const t={setTop:P,setTransform:x,addOrRemoveCssClass:(e,t)=>M.current.addOrRemoveCssClass(e,t),setDomOrder:e=>a.current=e,setRowIndex:d,setRowId:p,setRowBusinessKey:f,setUserStyles:v,setCellCtrls:(e,t)=>{C.current=y.current,y.current=e;const o=CO(C.current,e,a.current);o!==C.current&&yO(t,(()=>b(o)))},showFullWidth:e=>E(e),getFullWidthCellRenderer:()=>D.current,refreshFullWidth:e=>V.current?(E((t=>({...t,params:e()}))),!0):!(!D.current||!D.current.refresh)&&D.current.refresh(e())};o.setComp(t,e,n,s.current)}),[]);(0,t.useLayoutEffect)((()=>uO(S,i,T.current,D)),[S]);const L=(0,t.useMemo)((()=>{const e={top:R,transform:O};return Object.assign(e,m),e}),[R,O,m]),N=l&&S?.componentFromFramework,k=!l&&null!=w,G=(0,t.useMemo)((()=>!!(S?.componentFromFramework&&gO(S.componentClass))),[S]),V=(0,t.useRef)(!1);(0,t.useEffect)((()=>{V.current=G&&!!S&&!!r.get("reactiveCustomComponents")}),[G,S]);return t.createElement("div",{ref:I,role:"row",style:L,"row-index":u,"row-id":h,"row-business-key":g},k&&w?.map((e=>t.createElement(ex,{cellCtrl:e,editingRow:o.isEditing(),printLayout:o.isPrintLayout(),key:e.instanceId}))),N&&(()=>{const e=S.componentClass;return t.createElement(t.Fragment,null,G?t.createElement(e,{...S.params}):t.createElement(e,{...S.params,ref:D}))})())})),ox=(0,t.memo)((e=>{let{name:o}=e;const{context:n}=(0,t.useContext)(cO),i=(0,t.useMemo)((()=>DS(o)),[o]),r=(0,t.useRef)(null),s=(0,t.useRef)(null),a=(0,t.useRef)([]),l=(0,t.useRef)([]),[c,u]=(0,t.useState)((()=>[])),d=(0,t.useRef)(!1),h=(0,t.useRef)(),p=(0,t.useMemo)((()=>hO(i.viewport)),[i]),g=(0,t.useMemo)((()=>hO(i.container)),[i]),f="center"===i.type;qO(" AG Row Container "+o+" ",f?r:s);const m=(0,t.useCallback)((()=>f?null!=r.current&&null!=s.current:null!=s.current),[]),v=(0,t.useCallback)((()=>f?null==r.current&&null==s.current:null==s.current),[]),y=(0,t.useCallback)((()=>{if(v()&&(h.current=n.destroyBean(h.current)),m()){const e=e=>{const t=CO(l.current,a.current,d.current);t!==l.current&&(l.current=t,yO(e,(()=>u(t))))},t={setHorizontalScroll:e=>{r.current&&(r.current.scrollLeft=e)},setViewportHeight:e=>{r.current&&(r.current.style.height=e)},setRowCtrls:t=>{let{rowCtrls:o,useFlushSync:n}=t;const i=!!n&&a.current.length>0&&o.length>0;a.current=o,e(i)},setDomOrder:t=>{d.current!=t&&(d.current=t,e(!1))},setContainerWidth:e=>{s.current&&(s.current.style.width=e)},setOffsetTop:e=>{s.current&&(s.current.style.transform=`translateY(${e})`)}};h.current=n.createBean(new GS(o)),h.current.setComp(t,s.current,r.current)}}),[m,v]),C=(0,t.useCallback)((e=>{s.current=e,y()}),[y]),w=(0,t.useCallback)((e=>{r.current=e,y()}),[y]),b=()=>t.createElement("div",{className:g,ref:C,role:"rowgroup"},c.map((e=>t.createElement(tx,{rowCtrl:e,containerType:i.type,key:e.instanceId}))));return t.createElement(t.Fragment,null,f?t.createElement("div",{className:p,ref:w,role:"presentation"},b()):b())})),nx=(0,t.memo)((()=>{const{context:e,resizeObserverService:o}=(0,t.useContext)(cO),[n,i]=(0,t.useState)(""),[r,s]=(0,t.useState)(0),[a,l]=(0,t.useState)(0),[c,u]=(0,t.useState)("0px"),[d,h]=(0,t.useState)("0px"),[p,g]=(0,t.useState)("100%"),[f,m]=(0,t.useState)("0px"),[v,y]=(0,t.useState)("0px"),[C,w]=(0,t.useState)("100%"),[b,S]=(0,t.useState)(""),[E,R]=(0,t.useState)(""),[P,O]=(0,t.useState)(null),[x,T]=(0,t.useState)(""),[D,A]=(0,t.useState)(null),[F,_]=(0,t.useState)("ag-layout-normal"),M=(0,t.useRef)();M.current||(M.current=new jv((()=>I.current)));const I=(0,t.useRef)(null),L=(0,t.useRef)(null),N=(0,t.useRef)(null),k=(0,t.useRef)(null),G=(0,t.useRef)(null),V=(0,t.useRef)(null),H=(0,t.useRef)(null),B=(0,t.useRef)([]),W=(0,t.useRef)([]);qO(" AG Grid Body ",I),qO(" AG Pinned Top ",L),qO(" AG Sticky Top ",N),qO(" AG Middle ",V),qO(" AG Pinned Bottom ",H);const j=(0,t.useCallback)((t=>{if(I.current=t,!t)return B.current=e.destroyBeans(B.current),W.current.forEach((e=>e())),void(W.current=[]);if(!e)return;const n=(e,t)=>{e.appendChild(t),W.current.push((()=>e.removeChild(t)))},r=(t,o,i)=>{n(t,document.createComment(i)),n(t,(t=>{const o=e.createBean(new t);return B.current.push(o),o})(o).getGui())};r(t,Jb," AG Fake Horizontal Scroll "),r(t,Qb," AG Overlay Wrapper "),G.current&&r(G.current,tS," AG Fake Vertical Scroll ");const a={setRowAnimationCssOnBodyViewport:i,setColumnCount:e=>{I.current&&oy(I.current,e)},setRowCount:e=>{I.current&&ey(I.current,e)},setTopHeight:s,setBottomHeight:l,setStickyTopHeight:u,setStickyTopTop:h,setStickyTopWidth:g,setTopDisplay:S,setBottomDisplay:R,setColumnMovingCss:(e,t)=>M.current.addOrRemoveCssClass(e,t),updateLayoutClasses:_,setAlwaysVerticalScrollClass:O,setPinnedTopBottomOverflowY:T,setCellSelectableCss:(e,t)=>A(t?e:null),setBodyViewportWidth:e=>{V.current&&(V.current.style.width=e)},registerBodyViewportResizeListener:e=>{if(V.current){const t=o.observeResize(V.current,e);W.current.push((()=>t()))}},setStickyBottomHeight:m,setStickyBottomBottom:y,setStickyBottomWidth:w},c=e.createBean(new HS);B.current.push(c),c.setComp(a,t,V.current,L.current,H.current,N.current,k.current)}),[]),z=(0,t.useMemo)((()=>hO("ag-root","ag-unselectable",F)),[F]),U=(0,t.useMemo)((()=>hO("ag-body-viewport",n,F,P,D)),[n,F,P,D]),$=(0,t.useMemo)((()=>hO("ag-body",F)),[F]),K=(0,t.useMemo)((()=>hO("ag-floating-top",D)),[D]),Y=(0,t.useMemo)((()=>hO("ag-sticky-top",D)),[D]),q=(0,t.useMemo)((()=>hO("ag-sticky-bottom","0px"===f?"ag-hidden":null,D)),[D,f]),X=(0,t.useMemo)((()=>hO("ag-floating-bottom",D)),[D]),Q=(0,t.useMemo)((()=>({height:r,minHeight:r,display:b,overflowY:x})),[r,b,x]),Z=(0,t.useMemo)((()=>({height:c,top:d,width:p})),[c,d,p]),J=(0,t.useMemo)((()=>({height:f,bottom:v,width:C})),[f,v,C]),ee=(0,t.useMemo)((()=>({height:a,minHeight:a,display:E,overflowY:x})),[a,E,x]),te=e=>t.createElement(ox,{name:e,key:`${e}-container`}),oe=e=>{let{section:o,children:n,className:i,style:r}=e;return t.createElement("div",{ref:o,className:i,role:"presentation",style:r},n.map(te))};return t.createElement("div",{ref:j,className:z,role:"treegrid"},t.createElement(YO,null),oe({section:L,className:K,style:Q,children:["topLeft","topCenter","topRight","topFullWidth"]}),t.createElement("div",{className:$,ref:G,role:"presentation"},oe({section:V,className:U,children:["left","center","right","fullWidth"]})),oe({section:N,className:Y,style:Z,children:["stickyTopLeft","stickyTopCenter","stickyTopRight","stickyTopFullWidth"]}),oe({section:k,className:q,style:J,children:["stickyBottomLeft","stickyBottomCenter","stickyBottomRight","stickyBottomFullWidth"]}),oe({section:H,className:X,style:ee,children:["bottomLeft","bottomCenter","bottomRight","bottomFullWidth"]}))})),ix=(0,t.forwardRef)(((e,o)=>{const{children:n,eFocusableElement:i,onTabKeyDown:r,gridCtrl:s,forceFocusOutWhenTabGuardsAreEmpty:a}=e,{context:l}=(0,t.useContext)(cO),c=(0,t.useRef)(null),u=(0,t.useRef)(null),d=(0,t.useRef)(),h=e=>{const t=null==e?void 0:parseInt(e,10).toString();[c,u].forEach((e=>{void 0===t?e.current?.removeAttribute("tabindex"):e.current?.setAttribute("tabindex",t)}))};(0,t.useImperativeHandle)(o,(()=>({forceFocusOutOfContainer(e){d.current?.forceFocusOutOfContainer(e)}})));const p=(0,t.useCallback)((()=>{const e=c.current,t=u.current;if(e||t){if(e&&t){const o={setTabIndex:h};d.current=l.createBean(new _E({comp:o,eTopGuard:e,eBottomGuard:t,eFocusableElement:i,onTabKeyDown:r,forceFocusOutWhenTabGuardsAreEmpty:a,focusInnerElement:e=>s.focusInnerElement(e)}))}}else d.current=l.destroyBean(d.current)}),[]),g=(0,t.useCallback)((e=>{c.current=e,p()}),[p]),f=(0,t.useCallback)((e=>{u.current=e,p()}),[p]),m=e=>{const o="top"===e?FE.TAB_GUARD_TOP:FE.TAB_GUARD_BOTTOM;return t.createElement("div",{className:`${FE.TAB_GUARD} ${o}`,role:"presentation",ref:"top"===e?g:f})};return t.createElement(t.Fragment,null,m("top"),n,m("bottom"))})),rx=(0,t.memo)(ix),sx=(0,t.memo)((e=>{let{context:o}=e;const[n,i]=(0,t.useState)(""),[r,s]=(0,t.useState)(""),[a,l]=(0,t.useState)(""),[c,u]=(0,t.useState)(null),[d,h]=(0,t.useState)(null),[p,g]=(0,t.useState)(!1),[f,m]=(0,t.useState)(),v=(0,t.useRef)(),y=(0,t.useRef)(null),C=(0,t.useRef)(),[w,b]=(0,t.useState)(null),S=(0,t.useRef)((()=>{})),E=(0,t.useRef)(),R=(0,t.useRef)([]),P=(0,t.useCallback)((()=>{}),[]),O=(0,t.useMemo)((()=>o.isDestroyed()?null:o.getBeans()),[o]);qO(" AG Grid ",y);const x=(0,t.useCallback)((e=>{if(y.current=e,v.current=e?o.createBean(new yR):o.destroyBean(v.current),!e||o.isDestroyed())return;const t=v.current;S.current=t.focusInnerElement.bind(t);const n={destroyGridUi:()=>{},setRtlClass:i,setGridThemeClass:s,forceFocusOutOfContainer:e=>{e||!E.current?.isDisplayed()?C.current?.forceFocusOutOfContainer(e):E.current.forceFocusOutOfContainer(e)},updateLayoutClasses:l,getFocusableContainers:()=>{const e=[],t=y.current?.querySelector(".ag-root");return t&&e.push({getGui:()=>t}),R.current.forEach((t=>{t.isDisplayed()&&e.push(t)})),e},setCursor:u,setUserSelect:h};t.setComp(n,e,e),g(!0)}),[]);(0,t.useEffect)((()=>{const e=v.current,t=y.current;if(!f||!O||!e||!w||!t)return;const n=[],{watermarkSelector:i,paginationSelector:r,sideBarSelector:s,statusBarSelector:a,gridHeaderDropZonesSelector:l}=e.getOptionalSelectors(),c=[];if(l){const e=o.createBean(new l.component),i=e.getGui();t.insertAdjacentElement("afterbegin",i),c.push(i),n.push(e)}if(s){const e=o.createBean(new s.component),t=e.getGui(),i=w.querySelector(".ag-tab-guard-bottom");i&&(i.insertAdjacentElement("beforebegin",t),c.push(t)),n.push(e),R.current.push(e)}const u=e=>{const i=o.createBean(new e),r=i.getGui();return t.insertAdjacentElement("beforeend",r),c.push(r),n.push(i),i};if(a&&u(a.component),r){const e=u(r.component);E.current=e,R.current.push(e)}return i&&u(i.component),()=>{o.destroyBeans(n),c.forEach((e=>{e.parentElement?.removeChild(e)}))}}),[f,w,O]);const T=(0,t.useMemo)((()=>hO("ag-root-wrapper",n,r,a)),[n,r,a]),D=(0,t.useMemo)((()=>hO("ag-root-wrapper-body","ag-focus-managed",a)),[a]),A=(0,t.useMemo)((()=>({userSelect:null!=d?d:"",WebkitUserSelect:null!=d?d:"",cursor:null!=c?c:""})),[d,c]),F=(0,t.useCallback)((e=>{C.current=e,m(null!==e)}),[]);return t.createElement("div",{ref:x,className:T,style:A,role:"presentation"},t.createElement("div",{className:D,ref:b,role:"presentation"},p&&w&&O&&t.createElement(cO.Provider,{value:O},t.createElement(rx,{ref:F,eFocusableElement:w,onTabKeyDown:P,gridCtrl:v.current,forceFocusOutWhenTabGuardsAreEmpty:!0},t.createElement(nx,null)))))})),ax=class extends Rm{wireBeans(e){this.ctrlsService=e.ctrlsService}areHeaderCellsRendered(){return this.ctrlsService.getHeaderRowContainerCtrls().every((e=>e.getAllCtrls().every((e=>e.areCellsRendered()))))}},lx=e=>{const o=(0,t.useRef)(),n=(0,t.useRef)(null),i=(0,t.useRef)(null),r=(0,t.useRef)([]),s=(0,t.useRef)([]),a=(0,t.useRef)(e),l=(0,t.useRef)(),c=(0,t.useRef)(),u=(0,t.useRef)(!1),[d,h]=(0,t.useState)(void 0),[,p]=(0,t.useState)(0),g=(0,t.useCallback)((t=>{if(n.current=t,!t)return r.current.forEach((e=>e())),void(r.current.length=0);const a=e.modules||[];i.current||(i.current=new WO((()=>p((e=>e+1))),e.componentWrappingElement,e.maxComponentCreationTimeMs),r.current.push((()=>{i.current?.destroy(),i.current=null})));const d=function(e,t){"object"!==typeof e&&(e={});const o={...e};return Av.ALL_PROPERTIES_AND_CALLBACKS.forEach((e=>{const n=t[e];"undefined"!==typeof n&&n!==Av.VUE_OMITTED_PROPERTY&&(o[e]=n)})),o}(e.gridOptions,e),g=new dx((()=>{if(u.current){const e=()=>l.current?.shouldQueueUpdates()?void 0:s.current.shift();let t=e();for(;t;)t(),t=e()}}));l.current=g;const f=new ax,m={providedBeanInstances:{frameworkComponentWrapper:new cx(i.current,d.reactiveCustomComponents??(v="reactiveCustomComponents",TP.gridOptions?.[v])??!0),renderStatusService:f},modules:a,frameworkOverrides:g};var v;const y=new AP;d.gridId??(d.gridId=c.current),o.current=y.create(t,d,(t=>{h(t),t.createBean(f),r.current.push((()=>{t.destroy()})),t.getBean("ctrlsService").whenReady({addDestroyFunc:e=>{r.current.push(e)}},(()=>{if(t.isDestroyed())return;const n=o.current;n&&e.setGridApi?.(n)}))}),(e=>{e.getBean("ctrlsService").whenReady({addDestroyFunc:e=>{r.current.push(e)}},(()=>{s.current.forEach((e=>e())),s.current.length=0,u.current=!0}))}),m),r.current.push((()=>{o.current=void 0})),o.current&&(c.current=o.current.getGridId())}),[]),f=(0,t.useMemo)((()=>({height:"100%",...e.containerStyle||{}})),[e.containerStyle]),m=(0,t.useCallback)((e=>{u.current&&!l.current?.shouldQueueUpdates()?e():s.current.push(e)}),[]);return(0,t.useEffect)((()=>{const t=function(e,t){const o={};return Object.keys(t).forEach((n=>{const i=t[n];e[n]!==i&&(o[n]=i)})),o}(a.current,e);a.current=e,m((()=>{o.current&&function(e,t){if(!e)return;const o={};let n=!1;if(Object.keys(e).filter((e=>Av.ALL_PROPERTIES_AND_CALLBACKS_SET.has(e))).forEach((t=>{o[t]=e[t],n=!0})),!n)return;const i={type:"gridOptionsChanged",options:o};t.dispatchEvent(i);const r={type:"componentStateChanged"};Gm(o,((e,t)=>{r[e]=t})),t.dispatchEvent(r)}(t,o.current)}))}),[e]),t.createElement("div",{style:f,className:e.className,ref:g},d&&!d.isDestroyed()?t.createElement(sx,{context:d}):null,i.current?.getPortals()??null)};var cx=class extends IP{constructor(e,t){super(),this.parent=e,this.reactiveCustomComponents=t}createWrapper(e,t){if(this.reactiveCustomComponents){const o=(e=>{switch(e){case"filter":return _O;case"floatingFilterComponent":return LO;case"dateComponent":return AO;case"dragAndDropImageComponent":return FO;case"loadingOverlayComponent":return NO;case"noRowsOverlayComponent":return GO;case"statusPanel":return VO;case"toolPanel":return HO;case"menuItem":return kO;case"cellRenderer":return DO}})(t.propertyName);if(o)return new o(e,this.parent,t)}else switch(t.propertyName){case"filter":case"floatingFilterComponent":case"dateComponent":case"dragAndDropImageComponent":case"loadingOverlayComponent":case"noRowsOverlayComponent":case"statusPanel":case"toolPanel":case"menuItem":case"cellRenderer":BO()}const o=!t.cellRenderer&&"toolPanel"!==t.propertyName;return new OO(e,this.parent,t,o)}},ux=(0,t.forwardRef)(((e,o)=>{const{ctrlsFactory:n,context:i,gos:r,resizeObserverService:s,rowModel:a}=(0,t.useContext)(cO),[l,c]=(0,t.useState)((()=>new pO)),[u,d]=(0,t.useState)((()=>new pO)),[h,p]=(0,t.useState)(),[g,f]=(0,t.useState)(),m=(0,t.useRef)(),v=(0,t.useRef)(null),y=(0,t.useRef)(),C=(0,t.useMemo)((()=>JC.__getGridRegisteredModules(e.api.getGridId())),[e]),w=(0,t.useMemo)((()=>l.toString()+" ag-details-row"),[l]),b=(0,t.useMemo)((()=>u.toString()+" ag-details-grid"),[u]);o&&(0,t.useImperativeHandle)(o,(()=>({refresh:()=>m.current?.refresh()??!1}))),e.template&&nf("detailCellRendererParams.template is not supported by AG Grid React. To change the template, provide a Custom Detail Cell Renderer. See https://ag-grid.com/react-data-grid/master-detail-custom-detail/");const S=(0,t.useCallback)((t=>{if(v.current=t,!t)return m.current=i.destroyBean(m.current),void y.current?.();const o={addOrRemoveCssClass:(e,t)=>c((o=>o.setClass(e,t))),addOrRemoveDetailGridCssClass:(e,t)=>d((o=>o.setClass(e,t))),setDetailGrid:e=>p(e),setRowData:e=>f(e),getGui:()=>v.current},l=n.getInstance("detailCellRenderer");if(l&&(i.createBean(l),l.init(o,e),m.current=l,r.get("detailRowAutoHeight"))){const o=()=>{if(null==v.current)return;const t=v.current.clientHeight;if(null!=t&&t>0){setTimeout((()=>{e.node.setRowHeight(t),(Pf(r)||Of(r))&&a.onRowHeightChanged()}),0)}};y.current=s.observeResize(t,o),o()}}),[]),E=(0,t.useCallback)((e=>{m.current?.registerDetailWithMaster(e)}),[]);return t.createElement("div",{className:w,ref:S},h&&t.createElement(lx,{className:b,...h,modules:C,rowData:g,setGridApi:E}))})),dx=class extends GE{constructor(e){super("react"),this.processQueuedUpdates=e,this.queueUpdates=!1,this.frameworkComponents={agGroupCellRenderer:bO,agGroupRowRenderer:bO,agDetailCellRenderer:ux},this.wrapIncoming=(e,t)=>{return"ensureVisible"===t?(o=e,vO||setTimeout((()=>vO=!1),0),vO=!0,o()):e();var o},this.renderingEngine="react"}frameworkComponent(e){return this.frameworkComponents[e]}isFrameworkComponent(e){if(!e)return!1;const t=e.prototype;return!(t&&"getGui"in t)}getLockOnRefresh(){this.queueUpdates=!0}releaseLockOnRefresh(){this.queueUpdates=!1,this.processQueuedUpdates()}shouldQueueUpdates(){return this.queueUpdates}runWhenReadyAsync(){return"19"===fO}},hx=class extends t.Component{constructor(){super(...arguments),this.apiListeners=[],this.setGridApi=e=>{this.api=e,this.apiListeners.forEach((t=>t(e)))}}registerApiListener(e){this.apiListeners.push(e)}componentWillUnmount(){this.apiListeners.length=0}render(){return t.createElement(lx,{...this.props,setGridApi:this.setGridApi})}};o(673);function px(e,t){return function(){return e.apply(t,arguments)}}const{toString:gx}=Object.prototype,{getPrototypeOf:fx}=Object,mx=(vx=Object.create(null),e=>{const t=gx.call(e);return vx[t]||(vx[t]=t.slice(8,-1).toLowerCase())});var vx;const yx=e=>(e=e.toLowerCase(),t=>mx(t)===e),Cx=e=>t=>typeof t===e,{isArray:wx}=Array,bx=Cx("undefined");const Sx=yx("ArrayBuffer");const Ex=Cx("string"),Rx=Cx("function"),Px=Cx("number"),Ox=e=>null!==e&&"object"===typeof e,xx=e=>{if("object"!==mx(e))return!1;const t=fx(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Tx=yx("Date"),Dx=yx("File"),Ax=yx("Blob"),Fx=yx("FileList"),_x=yx("URLSearchParams"),[Mx,Ix,Lx,Nx]=["ReadableStream","Request","Response","Headers"].map(yx);function kx(e,t){let o,n,{allOwnKeys:i=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),wx(e))for(o=0,n=e.length;o<n;o++)t.call(null,e[o],o,e);else{const n=i?Object.getOwnPropertyNames(e):Object.keys(e),r=n.length;let s;for(o=0;o<r;o++)s=n[o],t.call(null,e[s],s,e)}}function Gx(e,t){t=t.toLowerCase();const o=Object.keys(e);let n,i=o.length;for(;i-- >0;)if(n=o[i],t===n.toLowerCase())return n;return null}const Vx="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,Hx=e=>!bx(e)&&e!==Vx;const Bx=(Wx="undefined"!==typeof Uint8Array&&fx(Uint8Array),e=>Wx&&e instanceof Wx);var Wx;const jx=yx("HTMLFormElement"),zx=(e=>{let{hasOwnProperty:t}=e;return(e,o)=>t.call(e,o)})(Object.prototype),Ux=yx("RegExp"),$x=(e,t)=>{const o=Object.getOwnPropertyDescriptors(e),n={};kx(o,((o,i)=>{let r;!1!==(r=t(o,i,e))&&(n[i]=r||o)})),Object.defineProperties(e,n)},Kx="abcdefghijklmnopqrstuvwxyz",Yx="0123456789",qx={DIGIT:Yx,ALPHA:Kx,ALPHA_DIGIT:Kx+Kx.toUpperCase()+Yx};const Xx=yx("AsyncFunction"),Qx=(Zx="function"===typeof setImmediate,Jx=Rx(Vx.postMessage),Zx?setImmediate:Jx?((e,t)=>(Vx.addEventListener("message",(o=>{let{source:n,data:i}=o;n===Vx&&i===e&&t.length&&t.shift()()}),!1),o=>{t.push(o),Vx.postMessage(e,"*")}))(`axios@${Math.random()}`,[]):e=>setTimeout(e));var Zx,Jx;const eT="undefined"!==typeof queueMicrotask?queueMicrotask.bind(Vx):"undefined"!==typeof process&&process.nextTick||Qx,tT={isArray:wx,isArrayBuffer:Sx,isBuffer:function(e){return null!==e&&!bx(e)&&null!==e.constructor&&!bx(e.constructor)&&Rx(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||Rx(e.append)&&("formdata"===(t=mx(e))||"object"===t&&Rx(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&Sx(e.buffer),t},isString:Ex,isNumber:Px,isBoolean:e=>!0===e||!1===e,isObject:Ox,isPlainObject:xx,isReadableStream:Mx,isRequest:Ix,isResponse:Lx,isHeaders:Nx,isUndefined:bx,isDate:Tx,isFile:Dx,isBlob:Ax,isRegExp:Ux,isFunction:Rx,isStream:e=>Ox(e)&&Rx(e.pipe),isURLSearchParams:_x,isTypedArray:Bx,isFileList:Fx,forEach:kx,merge:function e(){const{caseless:t}=Hx(this)&&this||{},o={},n=(n,i)=>{const r=t&&Gx(o,i)||i;xx(o[r])&&xx(n)?o[r]=e(o[r],n):xx(n)?o[r]=e({},n):wx(n)?o[r]=n.slice():o[r]=n};for(let i=0,r=arguments.length;i<r;i++)arguments[i]&&kx(arguments[i],n);return o},extend:function(e,t,o){let{allOwnKeys:n}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return kx(t,((t,n)=>{o&&Rx(t)?e[n]=px(t,o):e[n]=t}),{allOwnKeys:n}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,o,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),o&&Object.assign(e.prototype,o)},toFlatObject:(e,t,o,n)=>{let i,r,s;const a={};if(t=t||{},null==e)return t;do{for(i=Object.getOwnPropertyNames(e),r=i.length;r-- >0;)s=i[r],n&&!n(s,e,t)||a[s]||(t[s]=e[s],a[s]=!0);e=!1!==o&&fx(e)}while(e&&(!o||o(e,t))&&e!==Object.prototype);return t},kindOf:mx,kindOfTest:yx,endsWith:(e,t,o)=>{e=String(e),(void 0===o||o>e.length)&&(o=e.length),o-=t.length;const n=e.indexOf(t,o);return-1!==n&&n===o},toArray:e=>{if(!e)return null;if(wx(e))return e;let t=e.length;if(!Px(t))return null;const o=new Array(t);for(;t-- >0;)o[t]=e[t];return o},forEachEntry:(e,t)=>{const o=(e&&e[Symbol.iterator]).call(e);let n;for(;(n=o.next())&&!n.done;){const o=n.value;t.call(e,o[0],o[1])}},matchAll:(e,t)=>{let o;const n=[];for(;null!==(o=e.exec(t));)n.push(o);return n},isHTMLForm:jx,hasOwnProperty:zx,hasOwnProp:zx,reduceDescriptors:$x,freezeMethods:e=>{$x(e,((t,o)=>{if(Rx(e)&&-1!==["arguments","caller","callee"].indexOf(o))return!1;const n=e[o];Rx(n)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+o+"'")}))}))},toObjectSet:(e,t)=>{const o={},n=e=>{e.forEach((e=>{o[e]=!0}))};return wx(e)?n(e):n(String(e).split(t)),o},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,o){return t.toUpperCase()+o})),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:Gx,global:Vx,isContextDefined:Hx,ALPHABET:qx,generateString:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:qx.ALPHA_DIGIT,o="";const{length:n}=t;for(;e--;)o+=t[Math.random()*n|0];return o},isSpecCompliantForm:function(e){return!!(e&&Rx(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:e=>{const t=new Array(10),o=(e,n)=>{if(Ox(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[n]=e;const i=wx(e)?[]:{};return kx(e,((e,t)=>{const r=o(e,n+1);!bx(r)&&(i[t]=r)})),t[n]=void 0,i}}return e};return o(e,0)},isAsyncFn:Xx,isThenable:e=>e&&(Ox(e)||Rx(e))&&Rx(e.then)&&Rx(e.catch),setImmediate:Qx,asap:eT};function oT(e,t,o,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),o&&(this.config=o),n&&(this.request=n),i&&(this.response=i,this.status=i.status?i.status:null)}tT.inherits(oT,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:tT.toJSONObject(this.config),code:this.code,status:this.status}}});const nT=oT.prototype,iT={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{iT[e]={value:e}})),Object.defineProperties(oT,iT),Object.defineProperty(nT,"isAxiosError",{value:!0}),oT.from=(e,t,o,n,i,r)=>{const s=Object.create(nT);return tT.toFlatObject(e,s,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),oT.call(s,e.message,t,o,n,i),s.cause=e,s.name=e.name,r&&Object.assign(s,r),s};const rT=oT;function sT(e){return tT.isPlainObject(e)||tT.isArray(e)}function aT(e){return tT.endsWith(e,"[]")?e.slice(0,-2):e}function lT(e,t,o){return e?e.concat(t).map((function(e,t){return e=aT(e),!o&&t?"["+e+"]":e})).join(o?".":""):t}const cT=tT.toFlatObject(tT,{},null,(function(e){return/^is[A-Z]/.test(e)}));const uT=function(e,t,o){if(!tT.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const n=(o=tT.toFlatObject(o,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!tT.isUndefined(t[e])}))).metaTokens,i=o.visitor||c,r=o.dots,s=o.indexes,a=(o.Blob||"undefined"!==typeof Blob&&Blob)&&tT.isSpecCompliantForm(t);if(!tT.isFunction(i))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(tT.isDate(e))return e.toISOString();if(!a&&tT.isBlob(e))throw new rT("Blob is not supported. Use a Buffer instead.");return tT.isArrayBuffer(e)||tT.isTypedArray(e)?a&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,o,i){let a=e;if(e&&!i&&"object"===typeof e)if(tT.endsWith(o,"{}"))o=n?o:o.slice(0,-2),e=JSON.stringify(e);else if(tT.isArray(e)&&function(e){return tT.isArray(e)&&!e.some(sT)}(e)||(tT.isFileList(e)||tT.endsWith(o,"[]"))&&(a=tT.toArray(e)))return o=aT(o),a.forEach((function(e,n){!tT.isUndefined(e)&&null!==e&&t.append(!0===s?lT([o],n,r):null===s?o:o+"[]",l(e))})),!1;return!!sT(e)||(t.append(lT(i,o,r),l(e)),!1)}const u=[],d=Object.assign(cT,{defaultVisitor:c,convertValue:l,isVisitable:sT});if(!tT.isObject(e))throw new TypeError("data must be an object");return function e(o,n){if(!tT.isUndefined(o)){if(-1!==u.indexOf(o))throw Error("Circular reference detected in "+n.join("."));u.push(o),tT.forEach(o,(function(o,r){!0===(!(tT.isUndefined(o)||null===o)&&i.call(t,o,tT.isString(r)?r.trim():r,n,d))&&e(o,n?n.concat(r):[r])})),u.pop()}}(e),t};function dT(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function hT(e,t){this._pairs=[],e&&uT(e,this,t)}const pT=hT.prototype;pT.append=function(e,t){this._pairs.push([e,t])},pT.toString=function(e){const t=e?function(t){return e.call(this,t,dT)}:dT;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};const gT=hT;function fT(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function mT(e,t,o){if(!t)return e;const n=o&&o.encode||fT;tT.isFunction(o)&&(o={serialize:o});const i=o&&o.serialize;let r;if(r=i?i(t,o):tT.isURLSearchParams(t)?t.toString():new gT(t,o).toString(n),r){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+r}return e}const vT=class{constructor(){this.handlers=[]}use(e,t,o){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!o&&o.synchronous,runWhen:o?o.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){tT.forEach(this.handlers,(function(t){null!==t&&e(t)}))}},yT={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},CT={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:gT,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},wT="undefined"!==typeof window&&"undefined"!==typeof document,bT="object"===typeof navigator&&navigator||void 0,ST=wT&&(!bT||["ReactNative","NativeScript","NS"].indexOf(bT.product)<0),ET="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,RT=wT&&window.location.href||"http://localhost",PT={...e,...CT};const OT=function(e){function t(e,o,n,i){let r=e[i++];if("__proto__"===r)return!0;const s=Number.isFinite(+r),a=i>=e.length;if(r=!r&&tT.isArray(n)?n.length:r,a)return tT.hasOwnProp(n,r)?n[r]=[n[r],o]:n[r]=o,!s;n[r]&&tT.isObject(n[r])||(n[r]=[]);return t(e,o,n[r],i)&&tT.isArray(n[r])&&(n[r]=function(e){const t={},o=Object.keys(e);let n;const i=o.length;let r;for(n=0;n<i;n++)r=o[n],t[r]=e[r];return t}(n[r])),!s}if(tT.isFormData(e)&&tT.isFunction(e.entries)){const o={};return tT.forEachEntry(e,((e,n)=>{t(function(e){return tT.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),n,o,0)})),o}return null};const xT={transitional:yT,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const o=t.getContentType()||"",n=o.indexOf("application/json")>-1,i=tT.isObject(e);i&&tT.isHTMLForm(e)&&(e=new FormData(e));if(tT.isFormData(e))return n?JSON.stringify(OT(e)):e;if(tT.isArrayBuffer(e)||tT.isBuffer(e)||tT.isStream(e)||tT.isFile(e)||tT.isBlob(e)||tT.isReadableStream(e))return e;if(tT.isArrayBufferView(e))return e.buffer;if(tT.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let r;if(i){if(o.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return uT(e,new PT.classes.URLSearchParams,Object.assign({visitor:function(e,t,o,n){return PT.isNode&&tT.isBuffer(e)?(this.append(t,e.toString("base64")),!1):n.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((r=tT.isFileList(e))||o.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return uT(r?{"files[]":e}:e,t&&new t,this.formSerializer)}}return i||n?(t.setContentType("application/json",!1),function(e,t,o){if(tT.isString(e))try{return(t||JSON.parse)(e),tT.trim(e)}catch(bI){if("SyntaxError"!==bI.name)throw bI}return(o||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||xT.transitional,o=t&&t.forcedJSONParsing,n="json"===this.responseType;if(tT.isResponse(e)||tT.isReadableStream(e))return e;if(e&&tT.isString(e)&&(o&&!this.responseType||n)){const o=!(t&&t.silentJSONParsing)&&n;try{return JSON.parse(e)}catch(bI){if(o){if("SyntaxError"===bI.name)throw rT.from(bI,rT.ERR_BAD_RESPONSE,this,null,this.response);throw bI}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:PT.classes.FormData,Blob:PT.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};tT.forEach(["delete","get","head","post","put","patch"],(e=>{xT.headers[e]={}}));const TT=xT,DT=tT.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),AT=Symbol("internals");function FT(e){return e&&String(e).trim().toLowerCase()}function _T(e){return!1===e||null==e?e:tT.isArray(e)?e.map(_T):String(e)}function MT(e,t,o,n,i){return tT.isFunction(n)?n.call(this,t,o):(i&&(t=o),tT.isString(t)?tT.isString(n)?-1!==t.indexOf(n):tT.isRegExp(n)?n.test(t):void 0:void 0)}class IT{constructor(e){e&&this.set(e)}set(e,t,o){const n=this;function i(e,t,o){const i=FT(t);if(!i)throw new Error("header name must be a non-empty string");const r=tT.findKey(n,i);(!r||void 0===n[r]||!0===o||void 0===o&&!1!==n[r])&&(n[r||t]=_T(e))}const r=(e,t)=>tT.forEach(e,((e,o)=>i(e,o,t)));if(tT.isPlainObject(e)||e instanceof this.constructor)r(e,t);else if(tT.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))r((e=>{const t={};let o,n,i;return e&&e.split("\n").forEach((function(e){i=e.indexOf(":"),o=e.substring(0,i).trim().toLowerCase(),n=e.substring(i+1).trim(),!o||t[o]&&DT[o]||("set-cookie"===o?t[o]?t[o].push(n):t[o]=[n]:t[o]=t[o]?t[o]+", "+n:n)})),t})(e),t);else if(tT.isHeaders(e))for(const[s,a]of e.entries())i(a,s,o);else null!=e&&i(t,e,o);return this}get(e,t){if(e=FT(e)){const o=tT.findKey(this,e);if(o){const e=this[o];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),o=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=o.exec(e);)t[n[1]]=n[2];return t}(e);if(tT.isFunction(t))return t.call(this,e,o);if(tT.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=FT(e)){const o=tT.findKey(this,e);return!(!o||void 0===this[o]||t&&!MT(0,this[o],o,t))}return!1}delete(e,t){const o=this;let n=!1;function i(e){if(e=FT(e)){const i=tT.findKey(o,e);!i||t&&!MT(0,o[i],i,t)||(delete o[i],n=!0)}}return tT.isArray(e)?e.forEach(i):i(e),n}clear(e){const t=Object.keys(this);let o=t.length,n=!1;for(;o--;){const i=t[o];e&&!MT(0,this[i],i,e,!0)||(delete this[i],n=!0)}return n}normalize(e){const t=this,o={};return tT.forEach(this,((n,i)=>{const r=tT.findKey(o,i);if(r)return t[r]=_T(n),void delete t[i];const s=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,o)=>t.toUpperCase()+o))}(i):String(i).trim();s!==i&&delete t[i],t[s]=_T(n),o[s]=!0})),this}concat(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return tT.forEach(this,((o,n)=>{null!=o&&!1!==o&&(t[n]=e&&tT.isArray(o)?o.join(", "):o)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((e=>{let[t,o]=e;return t+": "+o})).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var o=arguments.length,n=new Array(o>1?o-1:0),i=1;i<o;i++)n[i-1]=arguments[i];return n.forEach((e=>t.set(e))),t}static accessor(e){const t=(this[AT]=this[AT]={accessors:{}}).accessors,o=this.prototype;function n(e){const n=FT(e);t[n]||(!function(e,t){const o=tT.toCamelCase(" "+t);["get","set","has"].forEach((n=>{Object.defineProperty(e,n+o,{value:function(e,o,i){return this[n].call(this,t,e,o,i)},configurable:!0})}))}(o,e),t[n]=!0)}return tT.isArray(e)?e.forEach(n):n(e),this}}IT.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),tT.reduceDescriptors(IT.prototype,((e,t)=>{let{value:o}=e,n=t[0].toUpperCase()+t.slice(1);return{get:()=>o,set(e){this[n]=e}}})),tT.freezeMethods(IT);const LT=IT;function NT(e,t){const o=this||TT,n=t||o,i=LT.from(n.headers);let r=n.data;return tT.forEach(e,(function(e){r=e.call(o,r,i.normalize(),t?t.status:void 0)})),i.normalize(),r}function kT(e){return!(!e||!e.__CANCEL__)}function GT(e,t,o){rT.call(this,null==e?"canceled":e,rT.ERR_CANCELED,t,o),this.name="CanceledError"}tT.inherits(GT,rT,{__CANCEL__:!0});const VT=GT;function HT(e,t,o){const n=o.config.validateStatus;o.status&&n&&!n(o.status)?t(new rT("Request failed with status code "+o.status,[rT.ERR_BAD_REQUEST,rT.ERR_BAD_RESPONSE][Math.floor(o.status/100)-4],o.config,o.request,o)):e(o)}const BT=function(e,t){e=e||10;const o=new Array(e),n=new Array(e);let i,r=0,s=0;return t=void 0!==t?t:1e3,function(a){const l=Date.now(),c=n[s];i||(i=l),o[r]=a,n[r]=l;let u=s,d=0;for(;u!==r;)d+=o[u++],u%=e;if(r=(r+1)%e,r===s&&(s=(s+1)%e),l-i<t)return;const h=c&&l-c;return h?Math.round(1e3*d/h):void 0}};const WT=function(e,t){let o,n,i=0,r=1e3/t;const s=function(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();i=r,o=null,n&&(clearTimeout(n),n=null),e.apply(null,t)};return[function(){const e=Date.now(),t=e-i;for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];t>=r?s(l,e):(o=l,n||(n=setTimeout((()=>{n=null,s(o)}),r-t)))},()=>o&&s(o)]},jT=function(e,t){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,n=0;const i=BT(50,250);return WT((o=>{const r=o.loaded,s=o.lengthComputable?o.total:void 0,a=r-n,l=i(a);n=r;e({loaded:r,total:s,progress:s?r/s:void 0,bytes:a,rate:l||void 0,estimated:l&&s&&r<=s?(s-r)/l:void 0,event:o,lengthComputable:null!=s,[t?"download":"upload"]:!0})}),o)},zT=(e,t)=>{const o=null!=e;return[n=>t[0]({lengthComputable:o,total:e,loaded:n}),t[1]]},UT=e=>function(){for(var t=arguments.length,o=new Array(t),n=0;n<t;n++)o[n]=arguments[n];return tT.asap((()=>e(...o)))},$T=PT.hasStandardBrowserEnv?((e,t)=>o=>(o=new URL(o,PT.origin),e.protocol===o.protocol&&e.host===o.host&&(t||e.port===o.port)))(new URL(PT.origin),PT.navigator&&/(msie|trident)/i.test(PT.navigator.userAgent)):()=>!0,KT=PT.hasStandardBrowserEnv?{write(e,t,o,n,i,r){const s=[e+"="+encodeURIComponent(t)];tT.isNumber(o)&&s.push("expires="+new Date(o).toGMTString()),tT.isString(n)&&s.push("path="+n),tT.isString(i)&&s.push("domain="+i),!0===r&&s.push("secure"),document.cookie=s.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function YT(e,t){return e&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const qT=e=>e instanceof LT?{...e}:e;function XT(e,t){t=t||{};const o={};function n(e,t,o,n){return tT.isPlainObject(e)&&tT.isPlainObject(t)?tT.merge.call({caseless:n},e,t):tT.isPlainObject(t)?tT.merge({},t):tT.isArray(t)?t.slice():t}function i(e,t,o,i){return tT.isUndefined(t)?tT.isUndefined(e)?void 0:n(void 0,e,0,i):n(e,t,0,i)}function r(e,t){if(!tT.isUndefined(t))return n(void 0,t)}function s(e,t){return tT.isUndefined(t)?tT.isUndefined(e)?void 0:n(void 0,e):n(void 0,t)}function a(o,i,r){return r in t?n(o,i):r in e?n(void 0,o):void 0}const l={url:r,method:r,data:r,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:a,headers:(e,t,o)=>i(qT(e),qT(t),0,!0)};return tT.forEach(Object.keys(Object.assign({},e,t)),(function(n){const r=l[n]||i,s=r(e[n],t[n],n);tT.isUndefined(s)&&r!==a||(o[n]=s)})),o}const QT=e=>{const t=XT({},e);let o,{data:n,withXSRFToken:i,xsrfHeaderName:r,xsrfCookieName:s,headers:a,auth:l}=t;if(t.headers=a=LT.from(a),t.url=mT(YT(t.baseURL,t.url),e.params,e.paramsSerializer),l&&a.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),tT.isFormData(n))if(PT.hasStandardBrowserEnv||PT.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(!1!==(o=a.getContentType())){const[e,...t]=o?o.split(";").map((e=>e.trim())).filter(Boolean):[];a.setContentType([e||"multipart/form-data",...t].join("; "))}if(PT.hasStandardBrowserEnv&&(i&&tT.isFunction(i)&&(i=i(t)),i||!1!==i&&$T(t.url))){const e=r&&s&&KT.read(s);e&&a.set(r,e)}return t},ZT="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise((function(t,o){const n=QT(e);let i=n.data;const r=LT.from(n.headers).normalize();let s,a,l,c,u,{responseType:d,onUploadProgress:h,onDownloadProgress:p}=n;function g(){c&&c(),u&&u(),n.cancelToken&&n.cancelToken.unsubscribe(s),n.signal&&n.signal.removeEventListener("abort",s)}let f=new XMLHttpRequest;function m(){if(!f)return;const n=LT.from("getAllResponseHeaders"in f&&f.getAllResponseHeaders());HT((function(e){t(e),g()}),(function(e){o(e),g()}),{data:d&&"text"!==d&&"json"!==d?f.response:f.responseText,status:f.status,statusText:f.statusText,headers:n,config:e,request:f}),f=null}f.open(n.method.toUpperCase(),n.url,!0),f.timeout=n.timeout,"onloadend"in f?f.onloadend=m:f.onreadystatechange=function(){f&&4===f.readyState&&(0!==f.status||f.responseURL&&0===f.responseURL.indexOf("file:"))&&setTimeout(m)},f.onabort=function(){f&&(o(new rT("Request aborted",rT.ECONNABORTED,e,f)),f=null)},f.onerror=function(){o(new rT("Network Error",rT.ERR_NETWORK,e,f)),f=null},f.ontimeout=function(){let t=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const i=n.transitional||yT;n.timeoutErrorMessage&&(t=n.timeoutErrorMessage),o(new rT(t,i.clarifyTimeoutError?rT.ETIMEDOUT:rT.ECONNABORTED,e,f)),f=null},void 0===i&&r.setContentType(null),"setRequestHeader"in f&&tT.forEach(r.toJSON(),(function(e,t){f.setRequestHeader(t,e)})),tT.isUndefined(n.withCredentials)||(f.withCredentials=!!n.withCredentials),d&&"json"!==d&&(f.responseType=n.responseType),p&&([l,u]=jT(p,!0),f.addEventListener("progress",l)),h&&f.upload&&([a,c]=jT(h),f.upload.addEventListener("progress",a),f.upload.addEventListener("loadend",c)),(n.cancelToken||n.signal)&&(s=t=>{f&&(o(!t||t.type?new VT(null,e,f):t),f.abort(),f=null)},n.cancelToken&&n.cancelToken.subscribe(s),n.signal&&(n.signal.aborted?s():n.signal.addEventListener("abort",s)));const v=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(n.url);v&&-1===PT.protocols.indexOf(v)?o(new rT("Unsupported protocol "+v+":",rT.ERR_BAD_REQUEST,e)):f.send(i||null)}))},JT=(e,t)=>{const{length:o}=e=e?e.filter(Boolean):[];if(t||o){let o,n=new AbortController;const i=function(e){if(!o){o=!0,s();const t=e instanceof Error?e:this.reason;n.abort(t instanceof rT?t:new VT(t instanceof Error?t.message:t))}};let r=t&&setTimeout((()=>{r=null,i(new rT(`timeout ${t} of ms exceeded`,rT.ETIMEDOUT))}),t);const s=()=>{e&&(r&&clearTimeout(r),r=null,e.forEach((e=>{e.unsubscribe?e.unsubscribe(i):e.removeEventListener("abort",i)})),e=null)};e.forEach((e=>e.addEventListener("abort",i)));const{signal:a}=n;return a.unsubscribe=()=>tT.asap(s),a}},eD=function*(e,t){let o=e.byteLength;if(!t||o<t)return void(yield e);let n,i=0;for(;i<o;)n=i+t,yield e.slice(i,n),i=n},tD=async function*(e){if(e[Symbol.asyncIterator])return void(yield*e);const t=e.getReader();try{for(;;){const{done:e,value:o}=await t.read();if(e)break;yield o}}finally{await t.cancel()}},oD=(e,t,o,n)=>{const i=async function*(e,t){for await(const o of tD(e))yield*eD(o,t)}(e,t);let r,s=0,a=e=>{r||(r=!0,n&&n(e))};return new ReadableStream({async pull(e){try{const{done:t,value:n}=await i.next();if(t)return a(),void e.close();let r=n.byteLength;if(o){let e=s+=r;o(e)}e.enqueue(new Uint8Array(n))}catch(t){throw a(t),t}},cancel:e=>(a(e),i.return())},{highWaterMark:2})},nD="function"===typeof fetch&&"function"===typeof Request&&"function"===typeof Response,iD=nD&&"function"===typeof ReadableStream,rD=nD&&("function"===typeof TextEncoder?(sD=new TextEncoder,e=>sD.encode(e)):async e=>new Uint8Array(await new Response(e).arrayBuffer()));var sD;const aD=function(e){try{for(var t=arguments.length,o=new Array(t>1?t-1:0),n=1;n<t;n++)o[n-1]=arguments[n];return!!e(...o)}catch(bI){return!1}},lD=iD&&aD((()=>{let e=!1;const t=new Request(PT.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t})),cD=iD&&aD((()=>tT.isReadableStream(new Response("").body))),uD={stream:cD&&(e=>e.body)};var dD;nD&&(dD=new Response,["text","arrayBuffer","blob","formData","stream"].forEach((e=>{!uD[e]&&(uD[e]=tT.isFunction(dD[e])?t=>t[e]():(t,o)=>{throw new rT(`Response type '${e}' is not supported`,rT.ERR_NOT_SUPPORT,o)})})));const hD=async(e,t)=>{const o=tT.toFiniteNumber(e.getContentLength());return null==o?(async e=>{if(null==e)return 0;if(tT.isBlob(e))return e.size;if(tT.isSpecCompliantForm(e)){const t=new Request(PT.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return tT.isArrayBufferView(e)||tT.isArrayBuffer(e)?e.byteLength:(tT.isURLSearchParams(e)&&(e+=""),tT.isString(e)?(await rD(e)).byteLength:void 0)})(t):o},pD=nD&&(async e=>{let{url:t,method:o,data:n,signal:i,cancelToken:r,timeout:s,onDownloadProgress:a,onUploadProgress:l,responseType:c,headers:u,withCredentials:d="same-origin",fetchOptions:h}=QT(e);c=c?(c+"").toLowerCase():"text";let p,g=JT([i,r&&r.toAbortSignal()],s);const f=g&&g.unsubscribe&&(()=>{g.unsubscribe()});let m;try{if(l&&lD&&"get"!==o&&"head"!==o&&0!==(m=await hD(u,n))){let e,o=new Request(t,{method:"POST",body:n,duplex:"half"});if(tT.isFormData(n)&&(e=o.headers.get("content-type"))&&u.setContentType(e),o.body){const[e,t]=zT(m,jT(UT(l)));n=oD(o.body,65536,e,t)}}tT.isString(d)||(d=d?"include":"omit");const i="credentials"in Request.prototype;p=new Request(t,{...h,signal:g,method:o.toUpperCase(),headers:u.normalize().toJSON(),body:n,duplex:"half",credentials:i?d:void 0});let r=await fetch(p);const s=cD&&("stream"===c||"response"===c);if(cD&&(a||s&&f)){const e={};["status","statusText","headers"].forEach((t=>{e[t]=r[t]}));const t=tT.toFiniteNumber(r.headers.get("content-length")),[o,n]=a&&zT(t,jT(UT(a),!0))||[];r=new Response(oD(r.body,65536,o,(()=>{n&&n(),f&&f()})),e)}c=c||"text";let v=await uD[tT.findKey(uD,c)||"text"](r,e);return!s&&f&&f(),await new Promise(((t,o)=>{HT(t,o,{data:v,headers:LT.from(r.headers),status:r.status,statusText:r.statusText,config:e,request:p})}))}catch(v){if(f&&f(),v&&"TypeError"===v.name&&/fetch/i.test(v.message))throw Object.assign(new rT("Network Error",rT.ERR_NETWORK,e,p),{cause:v.cause||v});throw rT.from(v,v&&v.code,e,p)}}),gD={http:null,xhr:ZT,fetch:pD};tT.forEach(gD,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(bI){}Object.defineProperty(e,"adapterName",{value:t})}}));const fD=e=>`- ${e}`,mD=e=>tT.isFunction(e)||null===e||!1===e,vD=e=>{e=tT.isArray(e)?e:[e];const{length:t}=e;let o,n;const i={};for(let r=0;r<t;r++){let t;if(o=e[r],n=o,!mD(o)&&(n=gD[(t=String(o)).toLowerCase()],void 0===n))throw new rT(`Unknown adapter '${t}'`);if(n)break;i[t||"#"+r]=n}if(!n){const e=Object.entries(i).map((e=>{let[t,o]=e;return`adapter ${t} `+(!1===o?"is not supported by the environment":"is not available in the build")}));let o=t?e.length>1?"since :\n"+e.map(fD).join("\n"):" "+fD(e[0]):"as no adapter specified";throw new rT("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return n};function yD(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new VT(null,e)}function CD(e){yD(e),e.headers=LT.from(e.headers),e.data=NT.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return vD(e.adapter||TT.adapter)(e).then((function(t){return yD(e),t.data=NT.call(e,e.transformResponse,t),t.headers=LT.from(t.headers),t}),(function(t){return kT(t)||(yD(e),t&&t.response&&(t.response.data=NT.call(e,e.transformResponse,t.response),t.response.headers=LT.from(t.response.headers))),Promise.reject(t)}))}const wD="1.7.9",bD={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{bD[e]=function(o){return typeof o===e||"a"+(t<1?"n ":" ")+e}}));const SD={};bD.transitional=function(e,t,o){function n(e,t){return"[Axios v1.7.9] Transitional option '"+e+"'"+t+(o?". "+o:"")}return(o,i,r)=>{if(!1===e)throw new rT(n(i," has been removed"+(t?" in "+t:"")),rT.ERR_DEPRECATED);return t&&!SD[i]&&(SD[i]=!0,console.warn(n(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(o,i,r)}},bD.spelling=function(e){return(t,o)=>(console.warn(`${o} is likely a misspelling of ${e}`),!0)};const ED={assertOptions:function(e,t,o){if("object"!==typeof e)throw new rT("options must be an object",rT.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let i=n.length;for(;i-- >0;){const r=n[i],s=t[r];if(s){const t=e[r],o=void 0===t||s(t,r,e);if(!0!==o)throw new rT("option "+r+" must be "+o,rT.ERR_BAD_OPTION_VALUE)}else if(!0!==o)throw new rT("Unknown option "+r,rT.ERR_BAD_OPTION)}},validators:bD},RD=ED.validators;class PD{constructor(e){this.defaults=e,this.interceptors={request:new vT,response:new vT}}async request(e,t){try{return await this._request(e,t)}catch(o){if(o instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{o.stack?t&&!String(o.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(o.stack+="\n"+t):o.stack=t}catch(bI){}}throw o}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=XT(this.defaults,t);const{transitional:o,paramsSerializer:n,headers:i}=t;void 0!==o&&ED.assertOptions(o,{silentJSONParsing:RD.transitional(RD.boolean),forcedJSONParsing:RD.transitional(RD.boolean),clarifyTimeoutError:RD.transitional(RD.boolean)},!1),null!=n&&(tT.isFunction(n)?t.paramsSerializer={serialize:n}:ED.assertOptions(n,{encode:RD.function,serialize:RD.function},!0)),ED.assertOptions(t,{baseUrl:RD.spelling("baseURL"),withXsrfToken:RD.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let r=i&&tT.merge(i.common,i[t.method]);i&&tT.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete i[e]})),t.headers=LT.concat(r,i);const s=[];let a=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(a=a&&e.synchronous,s.unshift(e.fulfilled,e.rejected))}));const l=[];let c;this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)}));let u,d=0;if(!a){const e=[CD.bind(this),void 0];for(e.unshift.apply(e,s),e.push.apply(e,l),u=e.length,c=Promise.resolve(t);d<u;)c=c.then(e[d++],e[d++]);return c}u=s.length;let h=t;for(d=0;d<u;){const e=s[d++],t=s[d++];try{h=e(h)}catch(p){t.call(this,p);break}}try{c=CD.call(this,h)}catch(p){return Promise.reject(p)}for(d=0,u=l.length;d<u;)c=c.then(l[d++],l[d++]);return c}getUri(e){return mT(YT((e=XT(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}tT.forEach(["delete","get","head","options"],(function(e){PD.prototype[e]=function(t,o){return this.request(XT(o||{},{method:e,url:t,data:(o||{}).data}))}})),tT.forEach(["post","put","patch"],(function(e){function t(t){return function(o,n,i){return this.request(XT(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:o,data:n}))}}PD.prototype[e]=t(),PD.prototype[e+"Form"]=t(!0)}));const OD=PD;class xD{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const o=this;this.promise.then((e=>{if(!o._listeners)return;let t=o._listeners.length;for(;t-- >0;)o._listeners[t](e);o._listeners=null})),this.promise.then=e=>{let t;const n=new Promise((e=>{o.subscribe(e),t=e})).then(e);return n.cancel=function(){o.unsubscribe(t)},n},e((function(e,n,i){o.reason||(o.reason=new VT(e,n,i),t(o.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;const t=new xD((function(t){e=t}));return{token:t,cancel:e}}}const TD=xD;const DD={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(DD).forEach((e=>{let[t,o]=e;DD[o]=t}));const AD=DD;const FD=function e(t){const o=new OD(t),n=px(OD.prototype.request,o);return tT.extend(n,OD.prototype,o,{allOwnKeys:!0}),tT.extend(n,o,null,{allOwnKeys:!0}),n.create=function(o){return e(XT(t,o))},n}(TT);FD.Axios=OD,FD.CanceledError=VT,FD.CancelToken=TD,FD.isCancel=kT,FD.VERSION=wD,FD.toFormData=uT,FD.AxiosError=rT,FD.Cancel=FD.CanceledError,FD.all=function(e){return Promise.all(e)},FD.spread=function(e){return function(t){return e.apply(null,t)}},FD.isAxiosError=function(e){return tT.isObject(e)&&!0===e.isAxiosError},FD.mergeConfig=XT,FD.AxiosHeaders=LT,FD.formToJSON=e=>OT(tT.isHTMLForm(e)?new FormData(e):e),FD.getAdapter=vD,FD.HttpStatusCode=AD,FD.default=FD;const _D=FD.create({baseURL:"https://api.github.com"}),MD=(0,t.createContext)(void 0);const ID={items_per_page:"/ page",jump_to:"Go to",jump_to_confirm:"confirm",page:"Page",prev_page:"Previous Page",next_page:"Next Page",prev_5:"Previous 5 Pages",next_5:"Next 5 Pages",prev_3:"Previous 3 Pages",next_3:"Next 3 Pages",page_size:"Page Size"};const LD=Ae(Ae({},{yearFormat:"YYYY",dayFormat:"D",cellMeridiemFormat:"A",monthBeforeYear:!0}),{},{locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"OK",clear:"Clear",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",dateFormat:"M/D/YYYY",dateTimeFormat:"M/D/YYYY HH:mm:ss",previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"}),ND={placeholder:"Select time",rangePlaceholder:["Start time","End time"]},kD={lang:Object.assign({placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeQuarterPlaceholder:["Start quarter","End quarter"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"]},LD),timePickerLocale:Object.assign({},ND)},GD="${label} is not a valid ${type}",VD={locale:"en",Pagination:ID,DatePicker:kD,TimePicker:ND,Calendar:kD,global:{placeholder:"Please select"},Table:{filterTitle:"Filter menu",filterConfirm:"OK",filterReset:"Reset",filterEmptyText:"No filters",filterCheckall:"Select all items",filterSearchPlaceholder:"Search in filters",emptyText:"No data",selectAll:"Select current page",selectInvert:"Invert current page",selectNone:"Clear all data",selectionAll:"Select all data",sortTitle:"Sort",expand:"Expand row",collapse:"Collapse row",triggerDesc:"Click to sort descending",triggerAsc:"Click to sort ascending",cancelSort:"Click to cancel sorting"},Tour:{Next:"Next",Previous:"Previous",Finish:"Finish"},Modal:{okText:"OK",cancelText:"Cancel",justOkText:"OK"},Popconfirm:{okText:"OK",cancelText:"Cancel"},Transfer:{titles:["",""],searchPlaceholder:"Search here",itemUnit:"item",itemsUnit:"items",remove:"Remove",selectCurrent:"Select current page",removeCurrent:"Remove current page",selectAll:"Select all data",deselectAll:"Deselect all data",removeAll:"Remove all data",selectInvert:"Invert current page"},Upload:{uploading:"Uploading...",removeFile:"Remove file",uploadError:"Upload error",previewFile:"Preview file",downloadFile:"Download file"},Empty:{description:"No data"},Icon:{icon:"icon"},Text:{edit:"Edit",copy:"Copy",copied:"Copied",expand:"Expand",collapse:"Collapse"},Form:{optional:"(optional)",defaultValidateMessages:{default:"Field validation error for ${label}",required:"Please enter ${label}",enum:"${label} must be one of [${enum}]",whitespace:"${label} cannot be a blank character",date:{format:"${label} date format is invalid",parse:"${label} cannot be converted to a date",invalid:"${label} is an invalid date"},types:{string:GD,method:GD,array:GD,object:GD,number:GD,date:GD,boolean:GD,integer:GD,float:GD,regexp:GD,email:GD,url:GD,hex:GD},string:{len:"${label} must be ${len} characters",min:"${label} must be at least ${min} characters",max:"${label} must be up to ${max} characters",range:"${label} must be between ${min}-${max} characters"},number:{len:"${label} must be equal to ${len}",min:"${label} must be minimum ${min}",max:"${label} must be maximum ${max}",range:"${label} must be between ${min}-${max}"},array:{len:"Must be ${len} ${label}",min:"At least ${min} ${label}",max:"At most ${max} ${label}",range:"The amount of ${label} must be between ${min}-${max}"},pattern:{mismatch:"${label} does not match the pattern ${pattern}"}}},Image:{preview:"Preview"},QRCode:{expired:"QR code expired",refresh:"Refresh",scanned:"Scanned"},ColorPicker:{presetEmpty:"Empty",transparent:"Transparent",singleColor:"Single",gradientColor:"Gradient"}};let HD=Object.assign({},VD.Modal),BD=[];const WD=()=>BD.reduce(((e,t)=>Object.assign(Object.assign({},e),t)),VD.Modal);function jD(){return HD}const zD=(0,t.createContext)(void 0);const UD=e=>{const{locale:o={},children:n,_ANT_MARK__:i}=e;t.useEffect((()=>{const e=function(e){if(e){const t=Object.assign({},e);return BD.push(t),HD=WD(),()=>{BD=BD.filter((e=>e!==t)),HD=WD()}}HD=Object.assign({},VD.Modal)}(null===o||void 0===o?void 0:o.Modal);return e}),[o]);const r=t.useMemo((()=>Object.assign(Object.assign({},o),{exist:!0})),[o]);return t.createElement(zD.Provider,{value:r},n)},$D=`-ant-${Date.now()}-${Math.random()}`;function KD(e,t){const o=function(e,t){const o={},n=(e,t)=>{let o=e.clone();return o=(null===t||void 0===t?void 0:t(o))||o,o.toRgbString()},i=(e,t)=>{const i=new vi(e),r=J(i.toRgbString());o[`${t}-color`]=n(i),o[`${t}-color-disabled`]=r[1],o[`${t}-color-hover`]=r[4],o[`${t}-color-active`]=r[6],o[`${t}-color-outline`]=i.clone().setAlpha(.2).toRgbString(),o[`${t}-color-deprecated-bg`]=r[0],o[`${t}-color-deprecated-border`]=r[2]};if(t.primaryColor){i(t.primaryColor,"primary");const e=new vi(t.primaryColor),r=J(e.toRgbString());r.forEach(((e,t)=>{o[`primary-${t+1}`]=e})),o["primary-color-deprecated-l-35"]=n(e,(e=>e.lighten(35))),o["primary-color-deprecated-l-20"]=n(e,(e=>e.lighten(20))),o["primary-color-deprecated-t-20"]=n(e,(e=>e.tint(20))),o["primary-color-deprecated-t-50"]=n(e,(e=>e.tint(50))),o["primary-color-deprecated-f-12"]=n(e,(e=>e.setAlpha(.12*e.getAlpha())));const s=new vi(r[0]);o["primary-color-active-deprecated-f-30"]=n(s,(e=>e.setAlpha(.3*e.getAlpha()))),o["primary-color-active-deprecated-d-02"]=n(s,(e=>e.darken(2)))}return t.successColor&&i(t.successColor,"success"),t.warningColor&&i(t.warningColor,"warning"),t.errorColor&&i(t.errorColor,"error"),t.infoColor&&i(t.infoColor,"info"),`\n  :root {\n    ${Object.keys(o).map((t=>`--${e}-${t}: ${o[t]};`)).join("\n")}\n  }\n  `.trim()}(e,t);Fe()&&We(o,`${$D}-dynamic-theme`)}const YD=function(){return{componentDisabled:(0,t.useContext)(Zs),componentSize:(0,t.useContext)(ta)}},qD=Object.assign({},n),{useId:XD}=qD,QD="undefined"===typeof XD?()=>"":XD;function ZD(e){const{children:o}=e,[,n]=Hi(),{motion:i}=n,r=t.useRef(!1);return r.current=r.current||!1===i,r.current?t.createElement(Hr,{motion:i},o):o}const JD=()=>null;var eA=function(e,t){var o={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(o[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(o[n[i]]=e[n[i]])}return o};const tA=["getTargetContainer","getPopupContainer","renderEmpty","input","pagination","form","select","button"];let oA,nA,iA,rA;function sA(){return oA||h}function aA(){return nA||p}const lA=e=>{const{children:o,csp:n,autoInsertSpaceInButton:i,alert:r,anchor:s,form:a,locale:l,componentSize:c,direction:u,space:d,splitter:h,virtual:f,dropdownMatchSelectWidth:m,popupMatchSelectWidth:v,popupOverflow:y,legacyLocale:C,parentContext:w,iconPrefixCls:b,theme:S,componentDisabled:E,segmented:R,statistic:P,spin:O,calendar:x,carousel:T,cascader:D,collapse:A,typography:F,checkbox:_,descriptions:M,divider:I,drawer:L,skeleton:N,steps:k,image:G,layout:V,list:H,mentions:B,modal:W,progress:j,result:z,slider:U,breadcrumb:$,menu:K,pagination:Y,input:q,textArea:X,empty:Q,badge:Z,radio:J,rate:ee,switch:te,transfer:oe,avatar:ne,message:ie,tag:re,table:se,card:ae,tabs:le,timeline:ce,timePicker:ue,upload:de,notification:he,tree:pe,colorPicker:ge,datePicker:fe,rangePicker:me,flex:ve,wave:ye,dropdown:Ce,warning:we,tour:be,floatButtonGroup:Se,variant:Ee,inputNumber:Re,treeSelect:Pe}=e,Oe=t.useCallback(((t,o)=>{const{prefixCls:n}=e;if(o)return o;const i=n||w.getPrefixCls("");return t?`${i}-${t}`:i}),[w.getPrefixCls,e.prefixCls]),xe=b||w.iconPrefixCls||p,De=n||w.csp;Bi(xe,De);const Ae=function(e,t,o){var n;Ip("ConfigProvider");const i=e||{},r=!1!==i.inherit&&t?t:Object.assign(Object.assign({},Di),{hashed:null!==(n=null===t||void 0===t?void 0:t.hashed)&&void 0!==n?n:Di.hashed,cssVar:null===t||void 0===t?void 0:t.cssVar}),s=QD();return bt((()=>{var n,a;if(!e)return t;const l=Object.assign({},r.components);Object.keys(e.components||{}).forEach((t=>{l[t]=Object.assign(Object.assign({},l[t]),e.components[t])}));const c=`css-var-${s.replace(/:/g,"")}`,u=(null!==(n=i.cssVar)&&void 0!==n?n:r.cssVar)&&Object.assign(Object.assign(Object.assign({prefix:null===o||void 0===o?void 0:o.prefixCls},"object"===typeof r.cssVar?r.cssVar:{}),"object"===typeof i.cssVar?i.cssVar:{}),{key:"object"===typeof i.cssVar&&(null===(a=i.cssVar)||void 0===a?void 0:a.key)||c});return Object.assign(Object.assign(Object.assign({},r),i),{token:Object.assign(Object.assign({},r.token),i.token),components:l,cssVar:u})}),[i,r],((e,t)=>e.some(((e,o)=>{const n=t[o];return!St(e,n,!0)}))))}(S,w.theme,{prefixCls:Oe("")});const Fe={csp:De,autoInsertSpaceInButton:i,alert:r,anchor:s,locale:l||C,direction:u,space:d,splitter:h,virtual:f,popupMatchSelectWidth:null!==v&&void 0!==v?v:m,popupOverflow:y,getPrefixCls:Oe,iconPrefixCls:xe,theme:Ae,segmented:R,statistic:P,spin:O,calendar:x,carousel:T,cascader:D,collapse:A,typography:F,checkbox:_,descriptions:M,divider:I,drawer:L,skeleton:N,steps:k,image:G,input:q,textArea:X,layout:V,list:H,mentions:B,modal:W,progress:j,result:z,slider:U,breadcrumb:$,menu:K,pagination:Y,empty:Q,badge:Z,radio:J,rate:ee,switch:te,transfer:oe,avatar:ne,message:ie,tag:re,table:se,card:ae,tabs:le,timeline:ce,timePicker:ue,upload:de,notification:he,tree:pe,colorPicker:ge,datePicker:fe,rangePicker:me,flex:ve,wave:ye,dropdown:Ce,warning:we,tour:be,floatButtonGroup:Se,variant:Ee,inputNumber:Re,treeSelect:Pe};const _e=Object.assign({},w);Object.keys(Fe).forEach((e=>{void 0!==Fe[e]&&(_e[e]=Fe[e])})),tA.forEach((t=>{const o=e[t];o&&(_e[t]=o)})),"undefined"!==typeof i&&(_e.button=Object.assign({autoInsertSpace:i},_e.button));const Me=bt((()=>_e),_e,((e,t)=>{const o=Object.keys(e),n=Object.keys(t);return o.length!==n.length||o.some((o=>e[o]!==t[o]))})),Ie=t.useMemo((()=>({prefixCls:xe,csp:De})),[xe,De]);let Le=t.createElement(t.Fragment,null,t.createElement(JD,{dropdownMatchSelectWidth:m}),o);const Ne=t.useMemo((()=>{var e,t,o,n;return qn((null===(e=VD.Form)||void 0===e?void 0:e.defaultValidateMessages)||{},(null===(o=null===(t=Me.locale)||void 0===t?void 0:t.Form)||void 0===o?void 0:o.defaultValidateMessages)||{},(null===(n=Me.form)||void 0===n?void 0:n.validateMessages)||{},(null===a||void 0===a?void 0:a.validateMessages)||{})}),[Me,null===a||void 0===a?void 0:a.validateMessages]);Object.keys(Ne).length>0&&(Le=t.createElement(MD.Provider,{value:Ne},Le)),l&&(Le=t.createElement(UD,{locale:l,_ANT_MARK__:"internalMark"},Le)),(xe||De)&&(Le=t.createElement(Te.Provider,{value:Ie},Le)),c&&(Le=t.createElement(ea,{size:c},Le)),Le=t.createElement(ZD,null,Le);const ke=t.useMemo((()=>{const e=Ae||{},{algorithm:t,token:o,components:n,cssVar:i}=e,r=eA(e,["algorithm","token","components","cssVar"]),s=t&&(!Array.isArray(t)||t.length>0)?Ht(t):Ti,a={};Object.entries(n||{}).forEach((e=>{let[t,o]=e;const n=Object.assign({},o);"algorithm"in n&&(!0===n.algorithm?n.theme=s:(Array.isArray(n.algorithm)||"function"===typeof n.algorithm)&&(n.theme=Ht(n.algorithm)),delete n.algorithm),a[t]=n}));const l=Object.assign(Object.assign({},mi),o);return Object.assign(Object.assign({},r),{theme:s,token:l,components:a,override:Object.assign({override:l},a),cssVar:i})}),[Ae]);return S&&(Le=t.createElement(Ai.Provider,{value:ke},Le)),Me.warning&&(Le=t.createElement(Mp.Provider,{value:Me.warning},Le)),void 0!==E&&(Le=t.createElement(Qs,{disabled:E},Le)),t.createElement(g.Provider,{value:Me},Le)},cA=e=>{const o=t.useContext(g),n=t.useContext(zD);return t.createElement(lA,Object.assign({parentContext:o,legacyLocale:n},e))};cA.ConfigContext=g,cA.SizeContext=ta,cA.config=e=>{const{prefixCls:t,iconPrefixCls:o,theme:n,holderRender:i}=e;void 0!==t&&(oA=t),void 0!==o&&(nA=o),"holderRender"in e&&(rA=i),n&&(!function(e){return Object.keys(e).some((e=>e.endsWith("Color")))}(n)?iA=n:KD(sA(),n))},cA.useConfig=YD,Object.defineProperty(cA,"SizeContext",{get:()=>ta});const uA=cA;const dA={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z"}}]},name:"check-circle",theme:"filled"};var hA=function(e,o){return t.createElement(ut,C({},e,{ref:o,icon:dA}))};const pA=t.forwardRef(hA);const gA={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64c247.4 0 448 200.6 448 448S759.4 960 512 960 64 759.4 64 512 264.6 64 512 64zm127.98 274.82h-.04l-.08.06L512 466.75 384.14 338.88c-.04-.05-.06-.06-.08-.06a.12.12 0 00-.07 0c-.03 0-.05.01-.09.05l-45.02 45.02a.2.2 0 00-.05.09.12.12 0 000 .07v.02a.27.27 0 00.06.06L466.75 512 338.88 639.86c-.05.04-.06.06-.06.08a.12.12 0 000 .07c0 .03.01.05.05.09l45.02 45.02a.2.2 0 00.09.05.12.12 0 00.07 0c.02 0 .04-.01.08-.05L512 557.25l127.86 127.87c.04.04.06.05.08.05a.12.12 0 00.07 0c.03 0 .05-.01.09-.05l45.02-45.02a.2.2 0 00.05-.09.12.12 0 000-.07v-.02a.27.27 0 00-.05-.06L557.25 512l127.87-127.86c.04-.04.05-.06.05-.08a.12.12 0 000-.07c0-.03-.01-.05-.05-.09l-45.02-45.02a.2.2 0 00-.09-.05.12.12 0 00-.07 0z"}}]},name:"close-circle",theme:"filled"};var fA=function(e,o){return t.createElement(ut,C({},e,{ref:o,icon:gA}))};const mA=t.forwardRef(fA);const vA={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"exclamation-circle",theme:"filled"};var yA=function(e,o){return t.createElement(ut,C({},e,{ref:o,icon:vA}))};const CA=t.forwardRef(yA);const wA={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm32 664c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V456c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272zm-32-344a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"info-circle",theme:"filled"};var bA=function(e,o){return t.createElement(ut,C({},e,{ref:o,icon:wA}))};const SA=t.forwardRef(bA),EA=(e,o)=>{const n=t.useContext(zD),i=t.useMemo((()=>{var t;const i=o||VD[e],r=null!==(t=null===n||void 0===n?void 0:n[e])&&void 0!==t?t:{};return Object.assign(Object.assign({},"function"===typeof i?i():i),r||{})}),[e,o,n]);return[i,t.useMemo((()=>{const e=null===n||void 0===n?void 0:n.locale;return(null===n||void 0===n?void 0:n.exist)&&!e?VD.locale:e}),[n])]};function RA(e){return!!(null===e||void 0===e?void 0:e.then)}const PA=e=>{const{type:o,children:n,prefixCls:i,buttonProps:r,close:s,autoFocus:a,emitEvent:l,isSilent:c,quitOnNullishReturnValue:u,actionFn:d}=e,h=t.useRef(!1),p=t.useRef(null),[g,f]=Nn(!1),m=function(){null===s||void 0===s||s.apply(void 0,arguments)};t.useEffect((()=>{let e=null;return a&&(e=setTimeout((()=>{var e;null===(e=p.current)||void 0===e||e.focus({preventScroll:!0})}))),()=>{e&&clearTimeout(e)}}),[]);return t.createElement(bl,Object.assign({},ua(o),{onClick:e=>{if(h.current)return;if(h.current=!0,!d)return void m();let t;if(l){if(t=d(e),u&&!RA(t))return h.current=!1,void m(e)}else if(d.length)t=d(s),h.current=!1;else if(t=d(),!RA(t))return void m();(e=>{RA(e)&&(f(!0),e.then((function(){f(!1,!0),m.apply(void 0,arguments),h.current=!1}),(e=>{if(f(!1,!0),h.current=!1,!(null===c||void 0===c?void 0:c()))return Promise.reject(e)})))})(t)},loading:g,prefixCls:i},r,{ref:p}),n)},OA=t.createContext({}),{Provider:xA}=OA,TA=()=>{const{autoFocusButton:e,cancelButtonProps:o,cancelTextLocale:n,isSilent:i,mergedOkCancel:r,rootPrefixCls:s,close:a,onCancel:l,onConfirm:c}=(0,t.useContext)(OA);return r?t.createElement(PA,{isSilent:i,actionFn:l,close:function(){null===a||void 0===a||a.apply(void 0,arguments),null===c||void 0===c||c(!1)},autoFocus:"cancel"===e,buttonProps:o,prefixCls:`${s}-btn`},n):null},DA=()=>{const{autoFocusButton:e,close:o,isSilent:n,okButtonProps:i,rootPrefixCls:r,okTextLocale:s,okType:a,onConfirm:l,onOk:c}=(0,t.useContext)(OA);return t.createElement(PA,{isSilent:n,type:a||"primary",actionFn:c,close:function(){null===o||void 0===o||o.apply(void 0,arguments),null===l||void 0===l||l(!0)},autoFocus:"ok"===e,buttonProps:i,prefixCls:`${r}-btn`},s)};const AA={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M799.86 166.31c.02 0 .04.02.08.06l57.69 57.7c.04.03.05.05.06.08a.12.12 0 010 .06c0 .03-.02.05-.06.09L569.93 512l287.7 287.7c.04.04.05.06.06.09a.12.12 0 010 .07c0 .02-.02.04-.06.08l-57.7 57.69c-.03.04-.05.05-.07.06a.12.12 0 01-.07 0c-.03 0-.05-.02-.09-.06L512 569.93l-287.7 287.7c-.04.04-.06.05-.09.06a.12.12 0 01-.07 0c-.02 0-.04-.02-.08-.06l-57.69-57.7c-.04-.03-.05-.05-.06-.07a.12.12 0 010-.07c0-.03.02-.05.06-.09L454.07 512l-287.7-287.7c-.04-.04-.05-.06-.06-.09a.12.12 0 010-.07c0-.02.02-.04.06-.08l57.7-57.69c.03-.04.05-.05.07-.06a.12.12 0 01.07 0c.03 0 .05.02.09.06L512 454.07l287.7-287.7c.04-.04.06-.05.09-.06a.12.12 0 01.07 0z"}}]},name:"close",theme:"outlined"};var FA=function(e,o){return t.createElement(ut,C({},e,{ref:o,icon:AA}))};const _A=t.forwardRef(FA);var MA=t.createContext({}),IA="".concat("accept acceptCharset accessKey action allowFullScreen allowTransparency\n    alt async autoComplete autoFocus autoPlay capture cellPadding cellSpacing challenge\n    charSet checked classID className colSpan cols content contentEditable contextMenu\n    controls coords crossOrigin data dateTime default defer dir disabled download draggable\n    encType form formAction formEncType formMethod formNoValidate formTarget frameBorder\n    headers height hidden high href hrefLang htmlFor httpEquiv icon id inputMode integrity\n    is keyParams keyType kind label lang list loop low manifest marginHeight marginWidth max maxLength media\n    mediaGroup method min minLength multiple muted name noValidate nonce open\n    optimum pattern placeholder poster preload radioGroup readOnly rel required\n    reversed role rowSpan rows sandbox scope scoped scrolling seamless selected\n    shape size sizes span spellCheck src srcDoc srcLang srcSet start step style\n    summary tabIndex target title type useMap value width wmode wrap"," ").concat("onCopy onCut onPaste onCompositionEnd onCompositionStart onCompositionUpdate onKeyDown\n    onKeyPress onKeyUp onFocus onBlur onChange onInput onSubmit onClick onContextMenu onDoubleClick\n    onDrag onDragEnd onDragEnter onDragExit onDragLeave onDragOver onDragStart onDrop onMouseDown\n    onMouseEnter onMouseLeave onMouseMove onMouseOut onMouseOver onMouseUp onSelect onTouchCancel\n    onTouchEnd onTouchMove onTouchStart onScroll onWheel onAbort onCanPlay onCanPlayThrough\n    onDurationChange onEmptied onEncrypted onEnded onError onLoadedData onLoadedMetadata\n    onLoadStart onPause onPlay onPlaying onProgress onRateChange onSeeked onSeeking onStalled onSuspend onTimeUpdate onVolumeChange onWaiting onLoad onError").split(/[\s\n]+/);function LA(e,t){return 0===e.indexOf(t)}function NA(e){var t,o=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t=!1===o?{aria:!0,data:!0,attr:!0}:!0===o?{aria:!0}:Ae({},o);var n={};return Object.keys(e).forEach((function(o){(t.aria&&("role"===o||LA(o,"aria-"))||t.data&&LA(o,"data-")||t.attr&&IA.includes(o))&&(n[o]=e[o])})),n}function kA(e,t,o){var n=t;return!n&&o&&(n="".concat(e,"-").concat(o)),n}function GA(e,t){var o=e["page".concat(t?"Y":"X","Offset")],n="scroll".concat(t?"Top":"Left");if("number"!==typeof o){var i=e.document;"number"!==typeof(o=i.documentElement[n])&&(o=i.body[n])}return o}const VA=t.memo((function(e){return e.children}),(function(e,t){return!t.shouldUpdate}));var HA={width:0,height:0,overflow:"hidden",outline:"none"},BA={outline:"none"},WA=t.forwardRef((function(e,o){var n=e.prefixCls,i=e.className,r=e.style,s=e.title,a=e.ariaId,l=e.footer,c=e.closable,d=e.closeIcon,h=e.onClose,p=e.children,g=e.bodyStyle,f=e.bodyProps,m=e.modalRender,v=e.onMouseDown,y=e.onMouseUp,w=e.holderRef,b=e.visible,S=e.forceRender,E=e.width,P=e.height,O=e.classNames,x=e.styles,T=t.useContext(MA).panel,D=Bn(w,T),A=(0,t.useRef)(),F=(0,t.useRef)();t.useImperativeHandle(o,(function(){return{focus:function(){var e;null===(e=A.current)||void 0===e||e.focus({preventScroll:!0})},changeActive:function(e){var t=document.activeElement;e&&t===F.current?A.current.focus({preventScroll:!0}):e||t!==A.current||F.current.focus({preventScroll:!0})}}}));var _={};void 0!==E&&(_.width=E),void 0!==P&&(_.height=P);var M=l?t.createElement("div",{className:u()("".concat(n,"-footer"),null===O||void 0===O?void 0:O.footer),style:Ae({},null===x||void 0===x?void 0:x.footer)},l):null,I=s?t.createElement("div",{className:u()("".concat(n,"-header"),null===O||void 0===O?void 0:O.header),style:Ae({},null===x||void 0===x?void 0:x.header)},t.createElement("div",{className:"".concat(n,"-title"),id:a},s)):null,L=(0,t.useMemo)((function(){return"object"===R(c)&&null!==c?c:c?{closeIcon:null!==d&&void 0!==d?d:t.createElement("span",{className:"".concat(n,"-close-x")})}:{}}),[c,d,n]),N=NA(L,!0),k="object"===R(c)&&c.disabled,G=c?t.createElement("button",C({type:"button",onClick:h,"aria-label":"Close"},N,{className:"".concat(n,"-close"),disabled:k}),L.closeIcon):null,V=t.createElement("div",{className:u()("".concat(n,"-content"),null===O||void 0===O?void 0:O.content),style:null===x||void 0===x?void 0:x.content},G,I,t.createElement("div",C({className:u()("".concat(n,"-body"),null===O||void 0===O?void 0:O.body),style:Ae(Ae({},g),null===x||void 0===x?void 0:x.body)},f),p),M);return t.createElement("div",{key:"dialog-element",role:"dialog","aria-labelledby":s?a:null,"aria-modal":"true",ref:D,style:Ae(Ae({},r),_),className:u()(n,i),onMouseDown:v,onMouseUp:y},t.createElement("div",{ref:A,tabIndex:0,style:BA},t.createElement(VA,{shouldUpdate:b||S},m?m(V):V)),t.createElement("div",{tabIndex:0,ref:F,style:HA}))}));const jA=WA;var zA=t.forwardRef((function(e,o){var n=e.prefixCls,i=e.title,r=e.style,s=e.className,a=e.visible,l=e.forceRender,c=e.destroyOnClose,d=e.motionName,h=e.ariaId,p=e.onVisibleChanged,g=e.mousePosition,f=(0,t.useRef)(),m=E(t.useState(),2),v=m[0],y=m[1],w={};function b(){var e=function(e){var t=e.getBoundingClientRect(),o={left:t.left,top:t.top},n=e.ownerDocument,i=n.defaultView||n.parentWindow;return o.left+=GA(i),o.top+=GA(i,!0),o}(f.current);y(g&&(g.x||g.y)?"".concat(g.x-e.left,"px ").concat(g.y-e.top,"px"):"")}return v&&(w.transformOrigin=v),t.createElement(xs,{visible:a,onVisibleChanged:p,onAppearPrepare:b,onEnterPrepare:b,forceRender:l,motionName:d,removeOnLeave:c,ref:f},(function(a,l){var c=a.className,d=a.style;return t.createElement(jA,C({},e,{ref:o,title:i,ariaId:h,prefixCls:n,holderRef:l,style:Ae(Ae(Ae({},d),r),w),className:u()(s,c)}))}))}));zA.displayName="Content";const UA=zA;const $A=function(e){var o=e.prefixCls,n=e.style,i=e.visible,r=e.maskProps,s=e.motionName,a=e.className;return t.createElement(xs,{key:"mask",visible:i,motionName:s,leavedClassName:"".concat(o,"-mask-hidden")},(function(e,i){var s=e.className,l=e.style;return t.createElement("div",C({ref:i,style:Ae(Ae({},l),n),className:u()("".concat(o,"-mask"),s,a)},r))}))};const KA=function(e){var o=e.prefixCls,n=void 0===o?"rc-dialog":o,i=e.zIndex,r=e.visible,s=void 0!==r&&r,a=e.keyboard,l=void 0===a||a,c=e.focusTriggerAfterClose,d=void 0===c||c,h=e.wrapStyle,p=e.wrapClassName,g=e.wrapProps,f=e.onClose,m=e.afterOpenChange,v=e.afterClose,y=e.transitionName,w=e.animation,b=e.closable,S=void 0===b||b,R=e.mask,P=void 0===R||R,O=e.maskTransitionName,x=e.maskAnimation,T=e.maskClosable,D=void 0===T||T,A=e.maskStyle,F=e.maskProps,_=e.rootClassName,M=e.classNames,I=e.styles;var L=(0,t.useRef)(),N=(0,t.useRef)(),k=(0,t.useRef)(),G=E(t.useState(s),2),V=G[0],H=G[1],B=ju();function W(e){null===f||void 0===f||f(e)}var j=(0,t.useRef)(!1),z=(0,t.useRef)(),U=null;D&&(U=function(e){j.current?j.current=!1:N.current===e.target&&W(e)}),(0,t.useEffect)((function(){s&&(H(!0),_e(N.current,document.activeElement)||(L.current=document.activeElement))}),[s]),(0,t.useEffect)((function(){return function(){clearTimeout(z.current)}}),[]);var $=Ae(Ae(Ae({zIndex:i},h),null===I||void 0===I?void 0:I.wrapper),{},{display:V?null:"none"});return t.createElement("div",C({className:u()("".concat(n,"-root"),_)},NA(e,{data:!0})),t.createElement($A,{prefixCls:n,visible:P&&s,motionName:kA(n,O,x),style:Ae(Ae({zIndex:i},A),null===I||void 0===I?void 0:I.mask),maskProps:F,className:null===M||void 0===M?void 0:M.mask}),t.createElement("div",C({tabIndex:-1,onKeyDown:function(e){if(l&&e.keyCode===Kc.ESC)return e.stopPropagation(),void W(e);s&&e.keyCode===Kc.TAB&&k.current.changeActive(!e.shiftKey)},className:u()("".concat(n,"-wrap"),p,null===M||void 0===M?void 0:M.wrapper),ref:N,onClick:U,style:$},g),t.createElement(UA,C({},e,{onMouseDown:function(){clearTimeout(z.current),j.current=!0},onMouseUp:function(){z.current=setTimeout((function(){j.current=!1}))},ref:k,closable:S,ariaId:B,prefixCls:n,visible:s&&V,onClose:W,onVisibleChanged:function(e){if(e)!function(){var e;_e(N.current,document.activeElement)||null===(e=k.current)||void 0===e||e.focus()}();else{if(H(!1),P&&L.current&&d){try{L.current.focus({preventScroll:!0})}catch(bI){}L.current=null}V&&(null===v||void 0===v||v())}null===m||void 0===m||m(e)},motionName:kA(n,y,w)}))))};var YA=function(e){var o=e.visible,n=e.getContainer,i=e.forceRender,r=e.destroyOnClose,s=void 0!==r&&r,a=e.afterClose,l=e.panelRef,c=E(t.useState(o),2),u=c[0],d=c[1],h=t.useMemo((function(){return{panel:l}}),[l]);return t.useEffect((function(){o&&d(!0)}),[o]),i||!s||u?t.createElement(MA.Provider,{value:h},t.createElement(Hu,{open:o||i||u,autoDestroy:!1,getContainer:n,autoLock:o||u},t.createElement(KA,C({},e,{destroyOnClose:s,afterClose:function(){null===a||void 0===a||a(),d(!1)}})))):null};YA.displayName="Dialog";const qA=YA;function XA(e){if(e)return{closable:e.closable,closeIcon:e.closeIcon}}function QA(e){const{closable:o,closeIcon:n}=e||{};return t.useMemo((()=>{if(!o&&(!1===o||!1===n||null===n))return!1;if(void 0===o&&void 0===n)return null;let e={closeIcon:"boolean"!==typeof n&&null!==n?n:void 0};return o&&"object"===typeof o&&(e=Object.assign(Object.assign({},e),o)),e}),[o,n])}function ZA(){const e={};for(var t=arguments.length,o=new Array(t),n=0;n<t;n++)o[n]=arguments[n];return o.forEach((t=>{t&&Object.keys(t).forEach((o=>{void 0!==t[o]&&(e[o]=t[o])}))})),e}const JA={};const eF=e=>{const{prefixCls:o,className:n,style:i,size:r,shape:s}=e,a=u()({[`${o}-lg`]:"large"===r,[`${o}-sm`]:"small"===r}),l=u()({[`${o}-circle`]:"circle"===s,[`${o}-square`]:"square"===s,[`${o}-round`]:"round"===s}),c=t.useMemo((()=>"number"===typeof r?{width:r,height:r,lineHeight:`${r}px`}:{}),[r]);return t.createElement("span",{className:u()(o,a,l,n),style:Object.assign(Object.assign({},c),i)})},tF=new Cn("ant-skeleton-loading",{"0%":{backgroundPosition:"100% 50%"},"100%":{backgroundPosition:"0 50%"}}),oF=e=>({height:e,lineHeight:Kt(e)}),nF=e=>Object.assign({width:e},oF(e)),iF=e=>({background:e.skeletonLoadingBackground,backgroundSize:"400% 100%",animationName:tF,animationDuration:e.skeletonLoadingMotionDuration,animationTimingFunction:"ease",animationIterationCount:"infinite"}),rF=(e,t)=>Object.assign({width:t(e).mul(5).equal(),minWidth:t(e).mul(5).equal()},oF(e)),sF=e=>{const{skeletonAvatarCls:t,gradientFromColor:o,controlHeight:n,controlHeightLG:i,controlHeightSM:r}=e;return{[t]:Object.assign({display:"inline-block",verticalAlign:"top",background:o},nF(n)),[`${t}${t}-circle`]:{borderRadius:"50%"},[`${t}${t}-lg`]:Object.assign({},nF(i)),[`${t}${t}-sm`]:Object.assign({},nF(r))}},aF=e=>{const{controlHeight:t,borderRadiusSM:o,skeletonInputCls:n,controlHeightLG:i,controlHeightSM:r,gradientFromColor:s,calc:a}=e;return{[n]:Object.assign({display:"inline-block",verticalAlign:"top",background:s,borderRadius:o},rF(t,a)),[`${n}-lg`]:Object.assign({},rF(i,a)),[`${n}-sm`]:Object.assign({},rF(r,a))}},lF=e=>Object.assign({width:e},oF(e)),cF=e=>{const{skeletonImageCls:t,imageSizeBase:o,gradientFromColor:n,borderRadiusSM:i,calc:r}=e;return{[t]:Object.assign(Object.assign({display:"inline-flex",alignItems:"center",justifyContent:"center",verticalAlign:"middle",background:n,borderRadius:i},lF(r(o).mul(2).equal())),{[`${t}-path`]:{fill:"#bfbfbf"},[`${t}-svg`]:Object.assign(Object.assign({},lF(o)),{maxWidth:r(o).mul(4).equal(),maxHeight:r(o).mul(4).equal()}),[`${t}-svg${t}-svg-circle`]:{borderRadius:"50%"}}),[`${t}${t}-circle`]:{borderRadius:"50%"}}},uF=(e,t,o)=>{const{skeletonButtonCls:n}=e;return{[`${o}${n}-circle`]:{width:t,minWidth:t,borderRadius:"50%"},[`${o}${n}-round`]:{borderRadius:t}}},dF=(e,t)=>Object.assign({width:t(e).mul(2).equal(),minWidth:t(e).mul(2).equal()},oF(e)),hF=e=>{const{borderRadiusSM:t,skeletonButtonCls:o,controlHeight:n,controlHeightLG:i,controlHeightSM:r,gradientFromColor:s,calc:a}=e;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({[o]:Object.assign({display:"inline-block",verticalAlign:"top",background:s,borderRadius:t,width:a(n).mul(2).equal(),minWidth:a(n).mul(2).equal()},dF(n,a))},uF(e,n,o)),{[`${o}-lg`]:Object.assign({},dF(i,a))}),uF(e,i,`${o}-lg`)),{[`${o}-sm`]:Object.assign({},dF(r,a))}),uF(e,r,`${o}-sm`))},pF=e=>{const{componentCls:t,skeletonAvatarCls:o,skeletonTitleCls:n,skeletonParagraphCls:i,skeletonButtonCls:r,skeletonInputCls:s,skeletonImageCls:a,controlHeight:l,controlHeightLG:c,controlHeightSM:u,gradientFromColor:d,padding:h,marginSM:p,borderRadius:g,titleHeight:f,blockRadius:m,paragraphLiHeight:v,controlHeightXS:y,paragraphMarginTop:C}=e;return{[t]:{display:"table",width:"100%",[`${t}-header`]:{display:"table-cell",paddingInlineEnd:h,verticalAlign:"top",[o]:Object.assign({display:"inline-block",verticalAlign:"top",background:d},nF(l)),[`${o}-circle`]:{borderRadius:"50%"},[`${o}-lg`]:Object.assign({},nF(c)),[`${o}-sm`]:Object.assign({},nF(u))},[`${t}-content`]:{display:"table-cell",width:"100%",verticalAlign:"top",[n]:{width:"100%",height:f,background:d,borderRadius:m,[`+ ${i}`]:{marginBlockStart:u}},[i]:{padding:0,"> li":{width:"100%",height:v,listStyle:"none",background:d,borderRadius:m,"+ li":{marginBlockStart:y}}},[`${i}> li:last-child:not(:first-child):not(:nth-child(2))`]:{width:"61%"}},[`&-round ${t}-content`]:{[`${n}, ${i} > li`]:{borderRadius:g}}},[`${t}-with-avatar ${t}-content`]:{[n]:{marginBlockStart:p,[`+ ${i}`]:{marginBlockStart:C}}},[`${t}${t}-element`]:Object.assign(Object.assign(Object.assign(Object.assign({display:"inline-block",width:"auto"},hF(e)),sF(e)),aF(e)),cF(e)),[`${t}${t}-block`]:{width:"100%",[r]:{width:"100%"},[s]:{width:"100%"}},[`${t}${t}-active`]:{[`\n        ${n},\n        ${i} > li,\n        ${o},\n        ${r},\n        ${s},\n        ${a}\n      `]:Object.assign({},iF(e))}}},gF=Wi("Skeleton",(e=>{const{componentCls:t,calc:o}=e,n=Jn(e,{skeletonAvatarCls:`${t}-avatar`,skeletonTitleCls:`${t}-title`,skeletonParagraphCls:`${t}-paragraph`,skeletonButtonCls:`${t}-button`,skeletonInputCls:`${t}-input`,skeletonImageCls:`${t}-image`,imageSizeBase:o(e.controlHeight).mul(1.5).equal(),borderRadius:100,skeletonLoadingBackground:`linear-gradient(90deg, ${e.gradientFromColor} 25%, ${e.gradientToColor} 37%, ${e.gradientFromColor} 63%)`,skeletonLoadingMotionDuration:"1.4s"});return[pF(n)]}),(e=>{const{colorFillContent:t,colorFill:o}=e;return{color:t,colorGradientEnd:o,gradientFromColor:t,gradientToColor:o,titleHeight:e.controlHeight/2,blockRadius:e.borderRadiusSM,paragraphMarginTop:e.marginLG+e.marginXXS,paragraphLiHeight:e.controlHeight/2}}),{deprecatedTokens:[["color","gradientFromColor"],["colorGradientEnd","gradientToColor"]]}),fF=e=>{const{prefixCls:o,className:n,rootClassName:i,active:r,shape:s="circle",size:a="default"}=e,{getPrefixCls:l}=t.useContext(g),c=l("skeleton",o),[h,p,f]=gF(c),m=d(e,["prefixCls","className"]),v=u()(c,`${c}-element`,{[`${c}-active`]:r},n,i,p,f);return h(t.createElement("div",{className:v},t.createElement(eF,Object.assign({prefixCls:`${c}-avatar`,shape:s,size:a},m))))},mF=e=>{const{prefixCls:o,className:n,rootClassName:i,style:r,active:s}=e,{getPrefixCls:a}=t.useContext(g),l=a("skeleton",o),[c,d,h]=gF(l),p=u()(l,`${l}-element`,{[`${l}-active`]:s},n,i,d,h);return c(t.createElement("div",{className:p},t.createElement("div",{className:u()(`${l}-image`,n),style:r},t.createElement("svg",{viewBox:"0 0 1098 1024",xmlns:"http://www.w3.org/2000/svg",className:`${l}-image-svg`},t.createElement("title",null,"Image placeholder"),t.createElement("path",{d:"M365.714286 329.142857q0 45.714286-32.036571 77.677714t-77.677714 32.036571-77.677714-32.036571-32.036571-77.677714 32.036571-77.677714 77.677714-32.036571 77.677714 32.036571 32.036571 77.677714zM950.857143 548.571429l0 256-804.571429 0 0-109.714286 182.857143-182.857143 91.428571 91.428571 292.571429-292.571429zM1005.714286 146.285714l-914.285714 0q-7.460571 0-12.873143 5.412571t-5.412571 12.873143l0 694.857143q0 7.460571 5.412571 12.873143t12.873143 5.412571l914.285714 0q7.460571 0 12.873143-5.412571t5.412571-12.873143l0-694.857143q0-7.460571-5.412571-12.873143t-12.873143-5.412571zM1097.142857 164.571429l0 694.857143q0 37.741714-26.843429 64.585143t-64.585143 26.843429l-914.285714 0q-37.741714 0-64.585143-26.843429t-26.843429-64.585143l0-694.857143q0-37.741714 26.843429-64.585143t64.585143-26.843429l914.285714 0q37.741714 0 64.585143 26.843429t26.843429 64.585143z",className:`${l}-image-path`})))))},vF=e=>{const{prefixCls:o,className:n,rootClassName:i,active:r,block:s,size:a="default"}=e,{getPrefixCls:l}=t.useContext(g),c=l("skeleton",o),[h,p,f]=gF(c),m=d(e,["prefixCls"]),v=u()(c,`${c}-element`,{[`${c}-active`]:r,[`${c}-block`]:s},n,i,p,f);return h(t.createElement("div",{className:v},t.createElement(eF,Object.assign({prefixCls:`${c}-input`,size:a},m))))},yF=e=>{const{prefixCls:o,className:n,rootClassName:i,style:r,active:s,children:a}=e,{getPrefixCls:l}=t.useContext(g),c=l("skeleton",o),[d,h,p]=gF(c),f=u()(c,`${c}-element`,{[`${c}-active`]:s},h,n,i,p);return d(t.createElement("div",{className:f},t.createElement("div",{className:u()(`${c}-image`,n),style:r},a)))},CF=(e,t)=>{const{width:o,rows:n=2}=t;return Array.isArray(o)?o[e]:n-1===e?o:void 0},wF=e=>{const{prefixCls:o,className:n,style:i,rows:r}=e,s=l(new Array(r)).map(((o,n)=>t.createElement("li",{key:n,style:{width:CF(n,e)}})));return t.createElement("ul",{className:u()(o,n),style:i},s)},bF=e=>{let{prefixCls:o,className:n,width:i,style:r}=e;return t.createElement("h3",{className:u()(o,n),style:Object.assign({width:i},r)})};function SF(e){return e&&"object"===typeof e?e:{}}const EF=e=>{const{prefixCls:o,loading:n,className:i,rootClassName:r,style:s,children:a,avatar:l=!1,title:c=!0,paragraph:d=!0,active:h,round:p}=e,{getPrefixCls:f,direction:m,skeleton:v}=t.useContext(g),y=f("skeleton",o),[C,w,b]=gF(y);if(n||!("loading"in e)){const e=!!l,o=!!c,n=!!d;let a,g;if(e){const e=Object.assign(Object.assign({prefixCls:`${y}-avatar`},function(e,t){return e&&!t?{size:"large",shape:"square"}:{size:"large",shape:"circle"}}(o,n)),SF(l));a=t.createElement("div",{className:`${y}-header`},t.createElement(eF,Object.assign({},e)))}if(o||n){let i,r;if(o){const o=Object.assign(Object.assign({prefixCls:`${y}-title`},function(e,t){return!e&&t?{width:"38%"}:e&&t?{width:"50%"}:{}}(e,n)),SF(c));i=t.createElement(bF,Object.assign({},o))}if(n){const n=Object.assign(Object.assign({prefixCls:`${y}-paragraph`},function(e,t){const o={};return e&&t||(o.width="61%"),o.rows=!e&&t?3:2,o}(e,o)),SF(d));r=t.createElement(wF,Object.assign({},n))}g=t.createElement("div",{className:`${y}-content`},i,r)}const f=u()(y,{[`${y}-with-avatar`]:e,[`${y}-active`]:h,[`${y}-rtl`]:"rtl"===m,[`${y}-round`]:p},null===v||void 0===v?void 0:v.className,i,r,w,b);return C(t.createElement("div",{className:f,style:Object.assign(Object.assign({},null===v||void 0===v?void 0:v.style),s)},a,g))}return null!==a&&void 0!==a?a:null};EF.Button=e=>{const{prefixCls:o,className:n,rootClassName:i,active:r,block:s=!1,size:a="default"}=e,{getPrefixCls:l}=t.useContext(g),c=l("skeleton",o),[h,p,f]=gF(c),m=d(e,["prefixCls"]),v=u()(c,`${c}-element`,{[`${c}-active`]:r,[`${c}-block`]:s},n,i,p,f);return h(t.createElement("div",{className:v},t.createElement(eF,Object.assign({prefixCls:`${c}-button`,size:a},m))))},EF.Avatar=fF,EF.Input=vF,EF.Image=mF,EF.Node=yF;const RF=EF;function PF(){}const OF=t.createContext({add:PF,remove:PF});const xF=()=>{const{cancelButtonProps:e,cancelTextLocale:o,onCancel:n}=(0,t.useContext)(OA);return t.createElement(bl,Object.assign({onClick:n},e),o)},TF=()=>{const{confirmLoading:e,okButtonProps:o,okType:n,okTextLocale:i,onOk:r}=(0,t.useContext)(OA);return t.createElement(bl,Object.assign({},ua(n),{loading:e,onClick:r},o),i)};function DF(e,o){return t.createElement("span",{className:`${e}-close-x`},o||t.createElement(_A,{className:`${e}-close-icon`}))}const AF=e=>{const{okText:o,okType:n="primary",cancelText:i,confirmLoading:r,onOk:s,onCancel:a,okButtonProps:c,cancelButtonProps:u,footer:d}=e,[h]=EA("Modal",jD()),p={confirmLoading:r,okButtonProps:c,cancelButtonProps:u,okTextLocale:o||(null===h||void 0===h?void 0:h.okText),cancelTextLocale:i||(null===h||void 0===h?void 0:h.cancelText),okType:n,onOk:s,onCancel:a},g=t.useMemo((()=>p),l(Object.values(p)));let f;return"function"===typeof d||"undefined"===typeof d?(f=t.createElement(t.Fragment,null,t.createElement(xF,null),t.createElement(TF,null)),"function"===typeof d&&(f=d(f,{OkBtn:TF,CancelBtn:xF})),f=t.createElement(xA,{value:g},f)):f=d,t.createElement(Qs,{disabled:!1},f)},FF=new Cn("antFadeIn",{"0%":{opacity:0},"100%":{opacity:1}}),_F=new Cn("antFadeOut",{"0%":{opacity:1},"100%":{opacity:0}}),MF=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{antCls:o}=e,n=`${o}-fade`,i=t?"&":"";return[kp(n,FF,_F,e.motionDurationMid,t),{[`\n        ${i}${n}-enter,\n        ${i}${n}-appear\n      `]:{opacity:0,animationTimingFunction:"linear"},[`${i}${n}-leave`]:{animationTimingFunction:"linear"}}]};function IF(e){return{position:e,inset:0}}const LF=e=>{const{componentCls:t,antCls:o}=e;return[{[`${t}-root`]:{[`${t}${o}-zoom-enter, ${t}${o}-zoom-appear`]:{transform:"none",opacity:0,animationDuration:e.motionDurationSlow,userSelect:"none"},[`${t}${o}-zoom-leave ${t}-content`]:{pointerEvents:"none"},[`${t}-mask`]:Object.assign(Object.assign({},IF("fixed")),{zIndex:e.zIndexPopupBase,height:"100%",backgroundColor:e.colorBgMask,pointerEvents:"none",[`${t}-hidden`]:{display:"none"}}),[`${t}-wrap`]:Object.assign(Object.assign({},IF("fixed")),{zIndex:e.zIndexPopupBase,overflow:"auto",outline:0,WebkitOverflowScrolling:"touch"})}},{[`${t}-root`]:MF(e)}]},NF=e=>{const{componentCls:t}=e;return[{[`${t}-root`]:{[`${t}-wrap-rtl`]:{direction:"rtl"},[`${t}-centered`]:{textAlign:"center","&::before":{display:"inline-block",width:0,height:"100%",verticalAlign:"middle",content:'""'},[t]:{top:0,display:"inline-block",paddingBottom:0,textAlign:"start",verticalAlign:"middle"}},[`@media (max-width: ${e.screenSMMax}px)`]:{[t]:{maxWidth:"calc(100vw - 16px)",margin:`${Kt(e.marginXS)} auto`},[`${t}-centered`]:{[t]:{flex:1}}}}},{[t]:Object.assign(Object.assign({},di(e)),{pointerEvents:"none",position:"relative",top:100,width:"auto",maxWidth:`calc(100vw - ${Kt(e.calc(e.margin).mul(2).equal())})`,margin:"0 auto",paddingBottom:e.paddingLG,[`${t}-title`]:{margin:0,color:e.titleColor,fontWeight:e.fontWeightStrong,fontSize:e.titleFontSize,lineHeight:e.titleLineHeight,wordWrap:"break-word"},[`${t}-content`]:{position:"relative",backgroundColor:e.contentBg,backgroundClip:"padding-box",border:0,borderRadius:e.borderRadiusLG,boxShadow:e.boxShadow,pointerEvents:"auto",padding:e.contentPadding},[`${t}-close`]:Object.assign({position:"absolute",top:e.calc(e.modalHeaderHeight).sub(e.modalCloseBtnSize).div(2).equal(),insetInlineEnd:e.calc(e.modalHeaderHeight).sub(e.modalCloseBtnSize).div(2).equal(),zIndex:e.calc(e.zIndexPopupBase).add(10).equal(),padding:0,color:e.modalCloseIconColor,fontWeight:e.fontWeightStrong,lineHeight:1,textDecoration:"none",background:"transparent",borderRadius:e.borderRadiusSM,width:e.modalCloseBtnSize,height:e.modalCloseBtnSize,border:0,outline:0,cursor:"pointer",transition:`color ${e.motionDurationMid}, background-color ${e.motionDurationMid}`,"&-x":{display:"flex",fontSize:e.fontSizeLG,fontStyle:"normal",lineHeight:Kt(e.modalCloseBtnSize),justifyContent:"center",textTransform:"none",textRendering:"auto"},"&:disabled":{pointerEvents:"none"},"&:hover":{color:e.modalCloseIconHoverColor,backgroundColor:e.colorBgTextHover,textDecoration:"none"},"&:active":{backgroundColor:e.colorBgTextActive}},gi(e)),[`${t}-header`]:{color:e.colorText,background:e.headerBg,borderRadius:`${Kt(e.borderRadiusLG)} ${Kt(e.borderRadiusLG)} 0 0`,marginBottom:e.headerMarginBottom,padding:e.headerPadding,borderBottom:e.headerBorderBottom},[`${t}-body`]:{fontSize:e.fontSize,lineHeight:e.lineHeight,wordWrap:"break-word",padding:e.bodyPadding,[`${t}-body-skeleton`]:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",margin:`${Kt(e.margin)} auto`}},[`${t}-footer`]:{textAlign:"end",background:e.footerBg,marginTop:e.footerMarginTop,padding:e.footerPadding,borderTop:e.footerBorderTop,borderRadius:e.footerBorderRadius,[`> ${e.antCls}-btn + ${e.antCls}-btn`]:{marginInlineStart:e.marginXS}},[`${t}-open`]:{overflow:"hidden"}})},{[`${t}-pure-panel`]:{top:"auto",padding:0,display:"flex",flexDirection:"column",[`${t}-content,\n          ${t}-body,\n          ${t}-confirm-body-wrapper`]:{display:"flex",flexDirection:"column",flex:"auto"},[`${t}-confirm-body`]:{marginBottom:"auto"}}}]},kF=e=>{const{componentCls:t}=e;return{[`${t}-root`]:{[`${t}-wrap-rtl`]:{direction:"rtl",[`${t}-confirm-body`]:{direction:"rtl"}}}}},GF=e=>{const t=e.padding,o=e.fontSizeHeading5,n=e.lineHeightHeading5;return Jn(e,{modalHeaderHeight:e.calc(e.calc(n).mul(o).equal()).add(e.calc(t).mul(2).equal()).equal(),modalFooterBorderColorSplit:e.colorSplit,modalFooterBorderStyle:e.lineType,modalFooterBorderWidth:e.lineWidth,modalCloseIconColor:e.colorIcon,modalCloseIconHoverColor:e.colorIconHover,modalCloseBtnSize:e.controlHeight,modalConfirmIconSize:e.fontHeight,modalTitleHeight:e.calc(e.titleFontSize).mul(e.titleLineHeight).equal()})},VF=e=>({footerBg:"transparent",headerBg:e.colorBgElevated,titleLineHeight:e.lineHeightHeading5,titleFontSize:e.fontSizeHeading5,contentBg:e.colorBgElevated,titleColor:e.colorTextHeading,contentPadding:e.wireframe?0:`${Kt(e.paddingMD)} ${Kt(e.paddingContentHorizontalLG)}`,headerPadding:e.wireframe?`${Kt(e.padding)} ${Kt(e.paddingLG)}`:0,headerBorderBottom:e.wireframe?`${Kt(e.lineWidth)} ${e.lineType} ${e.colorSplit}`:"none",headerMarginBottom:e.wireframe?0:e.marginXS,bodyPadding:e.wireframe?e.paddingLG:0,footerPadding:e.wireframe?`${Kt(e.paddingXS)} ${Kt(e.padding)}`:0,footerBorderTop:e.wireframe?`${Kt(e.lineWidth)} ${e.lineType} ${e.colorSplit}`:"none",footerBorderRadius:e.wireframe?`0 0 ${Kt(e.borderRadiusLG)} ${Kt(e.borderRadiusLG)}`:0,footerMarginTop:e.wireframe?0:e.marginSM,confirmBodyPadding:e.wireframe?`${Kt(2*e.padding)} ${Kt(2*e.padding)} ${Kt(e.paddingLG)}`:0,confirmIconMarginInlineEnd:e.wireframe?e.margin:e.marginSM,confirmBtnsMarginTop:e.wireframe?e.marginLG:e.marginSM}),HF=Wi("Modal",(e=>{const t=GF(e);return[NF(t),kF(t),LF(t),Up(t,"zoom")]}),VF,{unitless:{titleLineHeight:!0}});var BF=function(e,t){var o={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(o[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(o[n[i]]=e[n[i]])}return o};let WF;const jF=e=>{WF={x:e.pageX,y:e.pageY},setTimeout((()=>{WF=null}),100)};Fe()&&window.document.documentElement&&document.documentElement.addEventListener("click",jF,!0);const zF=e=>{var o;const{getPopupContainer:n,getPrefixCls:i,direction:r,modal:s}=t.useContext(g),a=t=>{const{onCancel:o}=e;null===o||void 0===o||o(t)};const{prefixCls:l,className:c,rootClassName:d,open:h,wrapClassName:p,centered:f,getContainer:m,focusTriggerAfterClose:v=!0,style:y,visible:C,width:w=520,footer:b,classNames:S,styles:E,children:R,loading:P}=e,O=BF(e,["prefixCls","className","rootClassName","open","wrapClassName","centered","getContainer","focusTriggerAfterClose","style","visible","width","footer","classNames","styles","children","loading"]),x=i("modal",l),T=i(),D=$d(x),[A,F,_]=HF(x,D),M=u()(p,{[`${x}-centered`]:!!f,[`${x}-wrap-rtl`]:"rtl"===r}),I=null===b||P?null:t.createElement(AF,Object.assign({},e,{onOk:t=>{const{onOk:o}=e;null===o||void 0===o||o(t)},onCancel:a})),[L,N,k]=function(e,o){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:JA;const i=QA(e),r=QA(o),s="boolean"!==typeof i&&!!(null===i||void 0===i?void 0:i.disabled),a=t.useMemo((()=>Object.assign({closeIcon:t.createElement(_A,null)},n)),[n]),l=t.useMemo((()=>!1!==i&&(i?ZA(a,r,i):!1!==r&&(r?ZA(a,r):!!a.closable&&a))),[i,r,a]);return t.useMemo((()=>{if(!1===l)return[!1,null,s];const{closeIconRender:e}=a,{closeIcon:o}=l;let n=o;if(null!==n&&void 0!==n){e&&(n=e(o));const i=NA(l,!0);Object.keys(i).length&&(n=t.isValidElement(n)?t.cloneElement(n,i):t.createElement("span",Object.assign({},i),n))}return[!0,n,s]}),[l,a])}(XA(e),XA(s),{closable:!0,closeIcon:t.createElement(_A,{className:`${x}-close-icon`}),closeIconRender:e=>DF(x,e)}),G=function(e){const o=t.useContext(OF),n=t.useRef();return Ln((t=>{if(t){const i=e?t.querySelector(e):t;o.add(i),n.current=i}else o.remove(n.current)}))}(`.${x}-content`),[V,H]=Ep("Modal",O.zIndex);return A(t.createElement(yp,{form:!0,space:!0},t.createElement(Cp.Provider,{value:H},t.createElement(qA,Object.assign({width:w},O,{zIndex:V,getContainer:void 0===m?n:m,prefixCls:x,rootClassName:u()(F,d,_,D),footer:I,visible:null!==h&&void 0!==h?h:C,mousePosition:null!==(o=O.mousePosition)&&void 0!==o?o:WF,onClose:a,closable:L?{disabled:k,closeIcon:N}:L,closeIcon:N,focusTriggerAfterClose:v,transitionName:zd(T,"zoom",e.transitionName),maskTransitionName:zd(T,"fade",e.maskTransitionName),className:u()(F,c,null===s||void 0===s?void 0:s.className),style:Object.assign(Object.assign({},null===s||void 0===s?void 0:s.style),y),classNames:Object.assign(Object.assign(Object.assign({},null===s||void 0===s?void 0:s.classNames),S),{wrapper:u()(M,null===S||void 0===S?void 0:S.wrapper)}),styles:Object.assign(Object.assign({},null===s||void 0===s?void 0:s.styles),E),panelRef:G}),P?t.createElement(RF,{active:!0,title:!1,paragraph:{rows:4},className:`${x}-body-skeleton`}):R))))},UF=e=>{const{componentCls:t,titleFontSize:o,titleLineHeight:n,modalConfirmIconSize:i,fontSize:r,lineHeight:s,modalTitleHeight:a,fontHeight:l,confirmBodyPadding:c}=e,u=`${t}-confirm`;return{[u]:{"&-rtl":{direction:"rtl"},[`${e.antCls}-modal-header`]:{display:"none"},[`${u}-body-wrapper`]:Object.assign({},{"&::before":{display:"table",content:'""'},"&::after":{display:"table",clear:"both",content:'""'}}),[`&${t} ${t}-body`]:{padding:c},[`${u}-body`]:{display:"flex",flexWrap:"nowrap",alignItems:"start",[`> ${e.iconCls}`]:{flex:"none",fontSize:i,marginInlineEnd:e.confirmIconMarginInlineEnd,marginTop:e.calc(e.calc(l).sub(i).equal()).div(2).equal()},[`&-has-title > ${e.iconCls}`]:{marginTop:e.calc(e.calc(a).sub(i).equal()).div(2).equal()}},[`${u}-paragraph`]:{display:"flex",flexDirection:"column",flex:"auto",rowGap:e.marginXS},[`${e.iconCls} + ${u}-paragraph`]:{maxWidth:`calc(100% - ${Kt(e.calc(e.modalConfirmIconSize).add(e.marginSM).equal())})`},[`${u}-title`]:{color:e.colorTextHeading,fontWeight:e.fontWeightStrong,fontSize:o,lineHeight:n},[`${u}-content`]:{color:e.colorText,fontSize:r,lineHeight:s},[`${u}-btns`]:{textAlign:"end",marginTop:e.confirmBtnsMarginTop,[`${e.antCls}-btn + ${e.antCls}-btn`]:{marginBottom:0,marginInlineStart:e.marginXS}}},[`${u}-error ${u}-body > ${e.iconCls}`]:{color:e.colorError},[`${u}-warning ${u}-body > ${e.iconCls},\n        ${u}-confirm ${u}-body > ${e.iconCls}`]:{color:e.colorWarning},[`${u}-info ${u}-body > ${e.iconCls}`]:{color:e.colorInfo},[`${u}-success ${u}-body > ${e.iconCls}`]:{color:e.colorSuccess}}},$F=zi(["Modal","confirm"],(e=>{const t=GF(e);return[UF(t)]}),VF,{order:-1e3});var KF=function(e,t){var o={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(o[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(o[n[i]]=e[n[i]])}return o};function YF(e){const{prefixCls:o,icon:n,okText:i,cancelText:r,confirmPrefixCls:s,type:a,okCancel:c,footer:d,locale:h}=e,p=KF(e,["prefixCls","icon","okText","cancelText","confirmPrefixCls","type","okCancel","footer","locale"]);let g=n;if(!n&&null!==n)switch(a){case"info":g=t.createElement(SA,null);break;case"success":g=t.createElement(pA,null);break;case"error":g=t.createElement(mA,null);break;default:g=t.createElement(CA,null)}const f=null!==c&&void 0!==c?c:"confirm"===a,m=null!==e.autoFocusButton&&(e.autoFocusButton||"ok"),[v]=EA("Modal"),y=h||v,C=i||(f?null===y||void 0===y?void 0:y.okText:null===y||void 0===y?void 0:y.justOkText),w=r||(null===y||void 0===y?void 0:y.cancelText),b=Object.assign({autoFocusButton:m,cancelTextLocale:w,okTextLocale:C,mergedOkCancel:f},p),S=t.useMemo((()=>b),l(Object.values(b))),E=t.createElement(t.Fragment,null,t.createElement(TA,null),t.createElement(DA,null)),R=void 0!==e.title&&null!==e.title,P=`${s}-body`;return t.createElement("div",{className:`${s}-body-wrapper`},t.createElement("div",{className:u()(P,{[`${P}-has-title`]:R})},g,t.createElement("div",{className:`${s}-paragraph`},R&&t.createElement("span",{className:`${s}-title`},e.title),t.createElement("div",{className:`${s}-content`},e.content))),void 0===d||"function"===typeof d?t.createElement(xA,{value:S},t.createElement("div",{className:`${s}-btns`},"function"===typeof d?d(E,{OkBtn:DA,CancelBtn:TA}):E)):d,t.createElement($F,{prefixCls:o}))}const qF=e=>{const{close:o,zIndex:n,afterClose:i,open:r,keyboard:s,centered:a,getContainer:l,maskStyle:c,direction:d,prefixCls:h,wrapClassName:p,rootPrefixCls:g,bodyStyle:f,closable:m=!1,closeIcon:v,modalRender:y,focusTriggerAfterClose:C,onConfirm:w,styles:b}=e;const S=`${h}-confirm`,E=e.width||416,R=e.style||{},P=void 0===e.mask||e.mask,O=void 0!==e.maskClosable&&e.maskClosable,x=u()(S,`${S}-${e.type}`,{[`${S}-rtl`]:"rtl"===d},e.className),[,T]=Hi(),D=t.useMemo((()=>void 0!==n?n:T.zIndexPopupBase+1e3),[n,T]);return t.createElement(zF,{prefixCls:h,className:x,wrapClassName:u()({[`${S}-centered`]:!!e.centered},p),onCancel:()=>{null===o||void 0===o||o({triggerCancel:!0}),null===w||void 0===w||w(!1)},open:r,title:"",footer:null,transitionName:zd(g||"","zoom",e.transitionName),maskTransitionName:zd(g||"","fade",e.maskTransitionName),mask:P,maskClosable:O,style:R,styles:Object.assign({body:f,mask:c},b),width:E,zIndex:D,afterClose:i,keyboard:s,centered:a,getContainer:l,closable:m,closeIcon:v,modalRender:y,focusTriggerAfterClose:C},t.createElement(YF,Object.assign({},e,{confirmPrefixCls:S})))};const XF=e=>{const{rootPrefixCls:o,iconPrefixCls:n,direction:i,theme:r}=e;return t.createElement(uA,{prefixCls:o,iconPrefixCls:n,direction:i,theme:r},t.createElement(qF,Object.assign({},e)))},QF=[];let ZF="";function JF(){return ZF}const e_=e=>{var o,n;const{prefixCls:i,getContainer:r,direction:s}=e,a=jD(),l=(0,t.useContext)(g),c=JF()||l.getPrefixCls(),u=i||`${c}-modal`;let d=r;return!1===d&&(d=void 0),t.createElement(XF,Object.assign({},e,{rootPrefixCls:c,prefixCls:u,iconPrefixCls:l.iconPrefixCls,theme:l.theme,direction:null!==s&&void 0!==s?s:l.direction,locale:null!==(n=null===(o=l.locale)||void 0===o?void 0:o.Modal)&&void 0!==n?n:a,getContainer:d}))};function t_(e){const o={getPrefixCls:(e,t)=>t||(e?`${sA()}-${e}`:sA()),getIconPrefixCls:aA,getRootPrefixCls:()=>oA||sA(),getTheme:()=>iA,holderRender:rA};const n=document.createDocumentFragment();let i,r=Object.assign(Object.assign({},e),{close:c,open:!0});function s(){for(var t,o=arguments.length,i=new Array(o),r=0;r<o;r++)i[r]=arguments[r];var s;i.some((e=>null===e||void 0===e?void 0:e.triggerCancel))&&(null===(t=e.onCancel)||void 0===t||(s=t).call.apply(s,[e,()=>{}].concat(l(i.slice(1)))));for(let e=0;e<QF.length;e++){if(QF[e]===c){QF.splice(e,1);break}}Ws(n)}function a(e){clearTimeout(i),i=setTimeout((()=>{const i=o.getPrefixCls(void 0,JF()),r=o.getIconPrefixCls(),s=o.getTheme(),a=t.createElement(e_,Object.assign({},e));Gs(t.createElement(uA,{prefixCls:i,iconPrefixCls:r,theme:s},o.holderRender?o.holderRender(a):a),n)}))}function c(){for(var t=arguments.length,o=new Array(t),n=0;n<t;n++)o[n]=arguments[n];r=Object.assign(Object.assign({},r),{open:!1,afterClose:()=>{"function"===typeof e.afterClose&&e.afterClose(),s.apply(this,o)}}),r.visible&&delete r.visible,a(r)}return a(r),QF.push(c),{destroy:c,update:function(e){r="function"===typeof e?e(r):Object.assign(Object.assign({},r),e),a(r)}}}function o_(e){return Object.assign(Object.assign({},e),{type:"warning"})}function n_(e){return Object.assign(Object.assign({},e),{type:"info"})}function i_(e){return Object.assign(Object.assign({},e),{type:"success"})}function r_(e){return Object.assign(Object.assign({},e),{type:"error"})}function s_(e){return Object.assign(Object.assign({},e),{type:"confirm"})}function a_(e){return o=>t.createElement(uA,{theme:{token:{motion:!1,zIndexPopupBase:0}}},t.createElement(e,Object.assign({},o)))}var l_=function(e,t){var o={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(o[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(o[n[i]]=e[n[i]])}return o};const c_=a_((e=>{const{prefixCls:o,className:n,closeIcon:i,closable:r,type:s,title:a,children:l,footer:c}=e,d=l_(e,["prefixCls","className","closeIcon","closable","type","title","children","footer"]),{getPrefixCls:h}=t.useContext(g),p=h(),f=o||h("modal"),m=$d(p),[v,y,C]=HF(f,m),w=`${f}-confirm`;let b={};return b=s?{closable:null!==r&&void 0!==r&&r,title:"",footer:"",children:t.createElement(YF,Object.assign({},e,{prefixCls:f,confirmPrefixCls:w,rootPrefixCls:p,content:l}))}:{closable:null===r||void 0===r||r,title:a,footer:null!==c&&t.createElement(AF,Object.assign({},e)),children:l},v(t.createElement(jA,Object.assign({prefixCls:f,className:u()(y,`${f}-pure-panel`,s&&w,s&&`${w}-${s}`,n,C,m)},d,{closeIcon:DF(f,i),closable:r},b)))}));var u_=function(e,t){var o={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(o[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(o[n[i]]=e[n[i]])}return o};const d_=(e,o)=>{var n,{afterClose:i,config:r}=e,s=u_(e,["afterClose","config"]);const[a,c]=t.useState(!0),[u,d]=t.useState(r),{direction:h,getPrefixCls:p}=t.useContext(g),f=p("modal"),m=p(),v=function(){var e;c(!1);for(var t=arguments.length,o=new Array(t),n=0;n<t;n++)o[n]=arguments[n];var i;o.some((e=>null===e||void 0===e?void 0:e.triggerCancel))&&(null===(e=u.onCancel)||void 0===e||(i=e).call.apply(i,[u,()=>{}].concat(l(o.slice(1)))))};t.useImperativeHandle(o,(()=>({destroy:v,update:e=>{d((t=>Object.assign(Object.assign({},t),e)))}})));const y=null!==(n=u.okCancel)&&void 0!==n?n:"confirm"===u.type,[C]=EA("Modal",VD.Modal);return t.createElement(XF,Object.assign({prefixCls:f,rootPrefixCls:m},u,{close:v,open:a,afterClose:()=>{var e;i(),null===(e=u.afterClose)||void 0===e||e.call(u)},okText:u.okText||(y?null===C||void 0===C?void 0:C.okText:null===C||void 0===C?void 0:C.justOkText),direction:u.direction||h,cancelText:u.cancelText||(null===C||void 0===C?void 0:C.cancelText)},s))},h_=t.forwardRef(d_);let p_=0;const g_=t.memo(t.forwardRef(((e,o)=>{const[n,i]=function(){const[e,o]=t.useState([]);return[e,t.useCallback((e=>(o((t=>[].concat(l(t),[e]))),()=>{o((t=>t.filter((t=>t!==e))))})),[])]}();return t.useImperativeHandle(o,(()=>({patchElement:i})),[]),t.createElement(t.Fragment,null,n)})));const f_=function(){const e=t.useRef(null),[o,n]=t.useState([]);t.useEffect((()=>{if(o.length){l(o).forEach((e=>{e()})),n([])}}),[o]);const i=t.useCallback((o=>function(i){var r;p_+=1;const s=t.createRef();let a;const c=new Promise((e=>{a=e}));let u,d=!1;const h=t.createElement(h_,{key:`modal-${p_}`,config:o(i),ref:s,afterClose:()=>{null===u||void 0===u||u()},isSilent:()=>d,onConfirm:e=>{a(e)}});u=null===(r=e.current)||void 0===r?void 0:r.patchElement(h),u&&QF.push(u);const p={destroy:()=>{function e(){var e;null===(e=s.current)||void 0===e||e.destroy()}s.current?e():n((t=>[].concat(l(t),[e])))},update:e=>{function t(){var t;null===(t=s.current)||void 0===t||t.update(e)}s.current?t():n((e=>[].concat(l(e),[t])))},then:e=>(d=!0,c.then(e))};return p}),[]);return[t.useMemo((()=>({info:i(n_),success:i(i_),error:i(r_),warning:i(o_),confirm:i(s_)})),[]),t.createElement(g_,{key:"modal-holder",ref:e})]};function m_(e){return t_(o_(e))}const v_=zF;v_.useModal=f_,v_.info=function(e){return t_(n_(e))},v_.success=function(e){return t_(i_(e))},v_.error=function(e){return t_(r_(e))},v_.warning=m_,v_.warn=m_,v_.confirm=function(e){return t_(s_(e))},v_.destroyAll=function(){for(;QF.length;){const e=QF.pop();e&&e()}},v_.config=function(e){let{rootPrefixCls:t}=e;ZF=t},v_._InternalPanelDoNotUseOrYouWillBeFired=c_;const y_=v_;var C_=o(173),w_=o.n(C_),b_=o(283),S_=o.n(b_);function E_(e,t,o,n){return new(o||(o=Promise))((function(i,r){function s(e){try{l(n.next(e))}catch(bI){r(bI)}}function a(e){try{l(n.throw(e))}catch(bI){r(bI)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof o?t:new o((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))}function R_(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}"function"===typeof SuppressedError&&SuppressedError;var P_=function e(t,o){if(t===o)return!0;if(t&&o&&"object"==typeof t&&"object"==typeof o){if(t.constructor!==o.constructor)return!1;var n,i,r;if(Array.isArray(t)){if((n=t.length)!=o.length)return!1;for(i=n;0!==i--;)if(!e(t[i],o[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===o.source&&t.flags===o.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===o.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===o.toString();if((n=(r=Object.keys(t)).length)!==Object.keys(o).length)return!1;for(i=n;0!==i--;)if(!Object.prototype.hasOwnProperty.call(o,r[i]))return!1;for(i=n;0!==i--;){var s=r[i];if(!e(t[s],o[s]))return!1}return!0}return t!==t&&o!==o},O_=R_(P_);const x_="__googleMapsScriptId";var T_;!function(e){e[e.INITIALIZED=0]="INITIALIZED",e[e.LOADING=1]="LOADING",e[e.SUCCESS=2]="SUCCESS",e[e.FAILURE=3]="FAILURE"}(T_||(T_={}));class D_{constructor(e){let{apiKey:t,authReferrerPolicy:o,channel:n,client:i,id:r=x_,language:s,libraries:a=[],mapIds:l,nonce:c,region:u,retries:d=3,url:h="https://maps.googleapis.com/maps/api/js",version:p}=e;if(this.callbacks=[],this.done=!1,this.loading=!1,this.errors=[],this.apiKey=t,this.authReferrerPolicy=o,this.channel=n,this.client=i,this.id=r||x_,this.language=s,this.libraries=a,this.mapIds=l,this.nonce=c,this.region=u,this.retries=d,this.url=h,this.version=p,D_.instance){if(!O_(this.options,D_.instance.options))throw new Error(`Loader must not be called again with different options. ${JSON.stringify(this.options)} !== ${JSON.stringify(D_.instance.options)}`);return D_.instance}D_.instance=this}get options(){return{version:this.version,apiKey:this.apiKey,channel:this.channel,client:this.client,id:this.id,libraries:this.libraries,language:this.language,region:this.region,mapIds:this.mapIds,nonce:this.nonce,url:this.url,authReferrerPolicy:this.authReferrerPolicy}}get status(){return this.errors.length?T_.FAILURE:this.done?T_.SUCCESS:this.loading?T_.LOADING:T_.INITIALIZED}get failed(){return this.done&&!this.loading&&this.errors.length>=this.retries+1}createUrl(){let e=this.url;return e+="?callback=__googleMapsCallback&loading=async",this.apiKey&&(e+=`&key=${this.apiKey}`),this.channel&&(e+=`&channel=${this.channel}`),this.client&&(e+=`&client=${this.client}`),this.libraries.length>0&&(e+=`&libraries=${this.libraries.join(",")}`),this.language&&(e+=`&language=${this.language}`),this.region&&(e+=`&region=${this.region}`),this.version&&(e+=`&v=${this.version}`),this.mapIds&&(e+=`&map_ids=${this.mapIds.join(",")}`),this.authReferrerPolicy&&(e+=`&auth_referrer_policy=${this.authReferrerPolicy}`),e}deleteScript(){const e=document.getElementById(this.id);e&&e.remove()}load(){return this.loadPromise()}loadPromise(){return new Promise(((e,t)=>{this.loadCallback((o=>{o?t(o.error):e(window.google)}))}))}importLibrary(e){return this.execute(),google.maps.importLibrary(e)}loadCallback(e){this.callbacks.push(e),this.execute()}setScript(){var e,t;if(document.getElementById(this.id))return void this.callback();const o={key:this.apiKey,channel:this.channel,client:this.client,libraries:this.libraries.length&&this.libraries,v:this.version,mapIds:this.mapIds,language:this.language,region:this.region,authReferrerPolicy:this.authReferrerPolicy};Object.keys(o).forEach((e=>!o[e]&&delete o[e])),(null===(t=null===(e=null===window||void 0===window?void 0:window.google)||void 0===e?void 0:e.maps)||void 0===t?void 0:t.importLibrary)||(e=>{let t,o,n,i="The Google Maps JavaScript API",r="google",s="importLibrary",a="__ib__",l=document,c=window;c=c[r]||(c[r]={});const u=c.maps||(c.maps={}),d=new Set,h=new URLSearchParams,p=()=>t||(t=new Promise(((s,c)=>E_(this,void 0,void 0,(function*(){var p;for(n in yield o=l.createElement("script"),o.id=this.id,h.set("libraries",[...d]+""),e)h.set(n.replace(/[A-Z]/g,(e=>"_"+e[0].toLowerCase())),e[n]);h.set("callback",r+".maps."+a),o.src=this.url+"?"+h,u[a]=s,o.onerror=()=>t=c(Error(i+" could not load.")),o.nonce=this.nonce||(null===(p=l.querySelector("script[nonce]"))||void 0===p?void 0:p.nonce)||"",l.head.append(o)})))));u[s]?console.warn(i+" only loads once. Ignoring:",e):u[s]=function(e){for(var t=arguments.length,o=new Array(t>1?t-1:0),n=1;n<t;n++)o[n-1]=arguments[n];return d.add(e)&&p().then((()=>u[s](e,...o)))}})(o);const n=this.libraries.map((e=>this.importLibrary(e)));n.length||n.push(this.importLibrary("core")),Promise.all(n).then((()=>this.callback()),(e=>{const t=new ErrorEvent("error",{error:e});this.loadErrorCallback(t)}))}reset(){this.deleteScript(),this.done=!1,this.loading=!1,this.errors=[],this.onerrorEvent=null}resetIfRetryingFailed(){this.failed&&this.reset()}loadErrorCallback(e){if(this.errors.push(e),this.errors.length<=this.retries){const e=this.errors.length*Math.pow(2,this.errors.length);console.error(`Failed to load Google Maps script, retrying in ${e} ms.`),setTimeout((()=>{this.deleteScript(),this.setScript()}),e)}else this.onerrorEvent=e,this.callback()}callback(){this.done=!0,this.loading=!1,this.callbacks.forEach((e=>{e(this.onerrorEvent)})),this.callbacks=[]}execute(){if(this.resetIfRetryingFailed(),!this.loading)if(this.done)this.callback();else{if(window.google&&window.google.maps&&window.google.maps.version)return console.warn("Google Maps already loaded outside @googlemaps/js-api-loader. This may result in undesirable behavior as options and script parameters may not match."),void this.callback();this.loading=!0,this.setScript()}}}var A_=o(353),F_=o.n(A_);function __(){return(__=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e}).apply(this,arguments)}function M_(e,t){var o,n;e.prototype=Object.create(t.prototype),e.prototype.constructor=e,o=e,n=t,(Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(o,n)}function I_(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var L_={width:"100%",height:"100%",left:0,top:0,margin:0,padding:0,position:"absolute"},N_=function(e){function o(){return e.apply(this,arguments)||this}M_(o,e);var n=o.prototype;return n.shouldComponentUpdate=function(){return!1},n.render=function(){return t.createElement("div",{ref:this.props.registerChild,style:L_})},o}(t.Component),k_=function(e){function t(t){var o;return(o=e.call(this)||this).gmapInstance=t,o}M_(t,e);var o=t.prototype;return o.getChildren=function(){return this.gmapInstance.props.children},o.getMousePosition=function(){return this.gmapInstance.mouse_},o.getUpdateCounter=function(){return this.gmapInstance.updateCounter_},o.dispose=function(){this.gmapInstance=null,this.removeAllListeners()},t}(S_()),G_=function(e,t){for(var o=__({},(function(e){if(null==e)throw new TypeError("Cannot destructure "+e)}(e),e)),n=0;n<t.length;n++){var i=t[n];i in o&&delete o[i]}return o},V_=Object.prototype.hasOwnProperty;function H_(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function B_(e,t){if(H_(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var o=Object.keys(e),n=Object.keys(t);if(o.length!==n.length)return!1;for(var i=0;i<o.length;i++)if(!V_.call(t,o[i])||!H_(e[o[i]],t[o[i]]))return!1;return!0}var W_={width:"100%",height:"100%",left:0,top:0,margin:0,padding:0,position:"absolute"},j_={width:0,height:0,left:0,top:0,backgroundColor:"transparent",position:"absolute"},z_=function(e){function o(o){var n;return(n=e.call(this,o)||this)._getState=function(){return{children:n.props.dispatcher.getChildren(),updateCounter:n.props.dispatcher.getUpdateCounter()}},n._onChangeHandler=function(){if(n.dimensionsCache_){var e=(n.state.children||[]).length,t=n._getState();n.setState(t,(function(){return(t.children||[]).length!==e&&n._onMouseChangeHandler()}))}},n._onChildClick=function(){n.props.onChildClick&&n.hoverChildProps_&&n.props.onChildClick(n.hoverKey_,n.hoverChildProps_)},n._onChildMouseDown=function(){n.props.onChildMouseDown&&n.hoverChildProps_&&n.props.onChildMouseDown(n.hoverKey_,n.hoverChildProps_)},n._onChildMouseEnter=function(e,t){n.dimensionsCache_&&(n.props.onChildMouseEnter&&n.props.onChildMouseEnter(e,t),n.hoverChildProps_=t,n.hoverKey_=e,n.setState({hoverKey:e}))},n._onChildMouseLeave=function(){if(n.dimensionsCache_){var e=n.hoverKey_;null!=e&&(n.props.onChildMouseLeave&&n.props.onChildMouseLeave(e,n.hoverChildProps_),n.hoverKey_=null,n.hoverChildProps_=null,n.setState({hoverKey:null}))}},n._onMouseAllow=function(e){e||n._onChildMouseLeave(),n.allowMouse_=e},n._onMouseChangeHandler=function(){n.allowMouse_&&n._onMouseChangeHandlerRaf()},n._onMouseChangeHandlerRaf=function(){if(n.dimensionsCache_){var e=n.props.dispatcher.getMousePosition();if(e){var o=[],i=n.props.getHoverDistance();if(t.Children.forEach(n.state.children,(function(t,r){if(t&&(void 0!==t.props.latLng||void 0!==t.props.lat||void 0!==t.props.lng)){var s=null!=t.key?t.key:r,a=n.props.distanceToMouse(n.dimensionsCache_[s],e,t.props);a<i&&o.push({key:s,dist:a,props:t.props})}})),o.length){o.sort((function(e,t){return e.dist-t.dist}));var r=o[0].key,s=o[0].props;n.hoverKey_!==r&&(n._onChildMouseLeave(),n._onChildMouseEnter(r,s))}else n._onChildMouseLeave()}else n._onChildMouseLeave()}},n._getDimensions=function(e){return n.dimensionsCache_[e]},n.dimensionsCache_={},n.hoverKey_=null,n.hoverChildProps_=null,n.allowMouse_=!0,n.state=__({},n._getState(),{hoverKey:null}),n}M_(o,e);var n=o.prototype;return n.componentDidMount=function(){this.props.dispatcher.on("kON_CHANGE",this._onChangeHandler),this.props.dispatcher.on("kON_MOUSE_POSITION_CHANGE",this._onMouseChangeHandler),this.props.dispatcher.on("kON_CLICK",this._onChildClick),this.props.dispatcher.on("kON_MDOWN",this._onChildMouseDown)},n.shouldComponentUpdate=function(e,t){return!0===this.props.experimental?!B_(this.props,e)||!B_(G_(this.state,["hoverKey"]),G_(t,["hoverKey"])):!B_(this.props,e)||!B_(this.state,t)},n.componentWillUnmount=function(){this.props.dispatcher.removeListener("kON_CHANGE",this._onChangeHandler),this.props.dispatcher.removeListener("kON_MOUSE_POSITION_CHANGE",this._onMouseChangeHandler),this.props.dispatcher.removeListener("kON_CLICK",this._onChildClick),this.props.dispatcher.removeListener("kON_MDOWN",this._onChildMouseDown),this.dimensionsCache_=null},n.render=function(){var e=this,o=this.props.style||W_;this.dimensionsCache_={};var n=t.Children.map(this.state.children,(function(o,n){if(o){if(void 0===o.props.latLng&&void 0===o.props.lat&&void 0===o.props.lng)return t.cloneElement(o,{$geoService:e.props.geoService,$onMouseAllow:e._onMouseAllow,$prerender:e.props.prerender});var i=void 0!==o.props.latLng?o.props.latLng:{lat:o.props.lat,lng:o.props.lng},r=e.props.insideMapPanes?e.props.geoService.fromLatLngToDivPixel(i):e.props.geoService.fromLatLngToCenterPixel(i),s={left:r.x,top:r.y};if(void 0!==o.props.seLatLng||void 0!==o.props.seLat&&void 0!==o.props.seLng){var a=void 0!==o.props.seLatLng?o.props.seLatLng:{lat:o.props.seLat,lng:o.props.seLng},l=e.props.insideMapPanes?e.props.geoService.fromLatLngToDivPixel(a):e.props.geoService.fromLatLngToCenterPixel(a);s.width=l.x-r.x,s.height=l.y-r.y}var c=e.props.geoService.fromLatLngToContainerPixel(i),u=null!=o.key?o.key:n;return e.dimensionsCache_[u]=__({x:c.x,y:c.y},i),t.createElement("div",{key:u,style:__({},j_,s),className:o.props.$markerHolderClassName},t.cloneElement(o,{$hover:u===e.state.hoverKey,$getDimensions:e._getDimensions,$dimensionKey:u,$geoService:e.props.geoService,$onMouseAllow:e._onMouseAllow,$prerender:e.props.prerender}))}}));return t.createElement("div",{style:o},n)},o}(t.Component);z_.propTypes={geoService:w_().any,style:w_().any,distanceToMouse:w_().func,dispatcher:w_().any,onChildClick:w_().func,onChildMouseDown:w_().func,onChildMouseLeave:w_().func,onChildMouseEnter:w_().func,getHoverDistance:w_().func,insideMapPanes:w_().bool,prerender:w_().bool},z_.defaultProps={insideMapPanes:!1,prerender:!1};var U_={width:"50%",height:"50%",left:"50%",top:"50%",margin:0,padding:0,position:"absolute"};function $_(e){return t.createElement("div",{style:U_},t.createElement(z_,__({},e,{prerender:!0})))}var K_,Y_,q_,X_=["key"],Q_=new Promise((function(e){q_=e})),Z_=function(e,t){if(!e)return Q_;if(Y_)return Y_;e.libraries||(e.libraries=[]);var o=[].concat(e.libraries);if(t&&(0!==o.length&&o.includes("visualization")||o.push("visualization"),console.warn("heatmapLibrary will be deprecated in the future. Please use { libraries: ['visualization'] } in bootstrapURLKeys property instead")),"undefined"==typeof window)throw new Error("google map cannot be loaded outside browser env");var n=e.key,i=function(e,t){if(null==e)return{};var o,n,i={},r=Object.keys(e);for(n=0;n<r.length;n++)t.indexOf(o=r[n])>=0||(i[o]=e[o]);return i}(e,X_);return K_||(K_=new D_(__({apiKey:n||""},i,{libraries:o}))),Y_=K_.load().then((function(){return q_(window.google.maps),window.google.maps})),q_(Y_),Y_};function J_(e,t,o){var n=o-t;return e===o?e:((e-t)%n+n)%n+t}var eM=function(){function e(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid LatLng object: ("+e+", "+t+")");this.lat=+e,this.lng=+t}return e.prototype.wrap=function(){return new e(this.lat,J_(this.lng,-180,180))},e}();eM.convert=function(e){return e instanceof eM?e:Array.isArray(e)?new eM(e[0],e[1]):"lng"in e&&"lat"in e?new eM(e.lat,e.lng):e};var tM=function(){function e(e,t,o){this.tileSize=e||512,this._minZoom=t||0,this._maxZoom=o||52,this.latRange=[-85.05113,85.05113],this.width=0,this.height=0,this.zoom=0,this.center=new eM(0,0),this.angle=0}var t,o,n=e.prototype;return n.zoomScale=function(e){return Math.pow(2,e)},n.scaleZoom=function(e){return Math.log(e)/Math.LN2},n.project=function(e,t){return new(F_())(this.lngX(e.lng,t),this.latY(e.lat,t))},n.unproject=function(e,t){return new eM(this.yLat(e.y,t),this.xLng(e.x,t))},n.lngX=function(e,t){return(180+e)*(t||this.worldSize)/360},n.latY=function(e,t){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+e*Math.PI/360)))*(t||this.worldSize)/360},n.xLng=function(e,t){return 360*e/(t||this.worldSize)-180},n.yLat=function(e,t){return 360/Math.PI*Math.atan(Math.exp((180-360*e/(t||this.worldSize))*Math.PI/180))-90},n.locationPoint=function(e){var t=this.project(e);return this.centerPoint._sub(this.point._sub(t)._rotate(this.angle))},n.pointLocation=function(e){var t=this.centerPoint._sub(e)._rotate(-this.angle);return this.unproject(this.point.sub(t))},t=e,(o=[{key:"minZoom",get:function(){return this._minZoom},set:function(e){this._minZoom=e,this.zoom=Math.max(this.zoom,e)}},{key:"maxZoom",get:function(){return this._maxZoom},set:function(e){this._maxZoom=e,this.zoom=Math.min(this.zoom,e)}},{key:"worldSize",get:function(){return this.tileSize*this.scale}},{key:"centerPoint",get:function(){return new(F_())(0,0)}},{key:"size",get:function(){return new(F_())(this.width,this.height)}},{key:"bearing",get:function(){return-this.angle/Math.PI*180},set:function(e){this.angle=-J_(e,-180,180)*Math.PI/180}},{key:"zoom",get:function(){return this._zoom},set:function(e){var t=Math.min(Math.max(e,this.minZoom),this.maxZoom);this._zoom=t,this.scale=this.zoomScale(t),this.tileZoom=Math.floor(t),this.zoomFraction=t-this.tileZoom}},{key:"x",get:function(){return this.lngX(this.center.lng)}},{key:"y",get:function(){return this.latY(this.center.lat)}},{key:"point",get:function(){return new(F_())(this.x,this.y)}}])&&function(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,"symbol"==typeof(i=function(e){if("object"!=typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var o=t.call(e,"string");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n.key))?i:String(i),n)}var i}(t.prototype,o),Object.defineProperty(t,"prototype",{writable:!1}),e}(),oM=function(){function e(e){this.hasSize_=!1,this.hasView_=!1,this.transform_=new tM(e||512)}var t=e.prototype;return t.setView=function(e,t,o){this.transform_.center=eM.convert(e),this.transform_.zoom=+t,this.transform_.bearing=+o,this.hasView_=!0},t.setViewSize=function(e,t){this.transform_.width=e,this.transform_.height=t,this.hasSize_=!0},t.setMapCanvasProjection=function(e,t){this.maps_=e,this.mapCanvasProjection_=t},t.canProject=function(){return this.hasSize_&&this.hasView_},t.hasSize=function(){return this.hasSize_},t.fromLatLngToCenterPixel=function(e){return this.transform_.locationPoint(eM.convert(e))},t.fromLatLngToDivPixel=function(e){if(this.mapCanvasProjection_){var t=new this.maps_.LatLng(e.lat,e.lng);return this.mapCanvasProjection_.fromLatLngToDivPixel(t)}return this.fromLatLngToCenterPixel(e)},t.fromLatLngToContainerPixel=function(e){if(this.mapCanvasProjection_){var t=new this.maps_.LatLng(e.lat,e.lng);return this.mapCanvasProjection_.fromLatLngToContainerPixel(t)}var o=this.fromLatLngToCenterPixel(e);return o.x-=this.transform_.worldSize*Math.round(o.x/this.transform_.worldSize),o.x+=this.transform_.width/2,o.y+=this.transform_.height/2,o},t.fromContainerPixelToLatLng=function(e){if(this.mapCanvasProjection_){var t=this.mapCanvasProjection_.fromContainerPixelToLatLng(e);return{lat:t.lat(),lng:t.lng()}}var o=__({},e);o.x-=this.transform_.width/2,o.y-=this.transform_.height/2;var n=this.transform_.pointLocation(F_().convert(o));return n.lng-=360*Math.round(n.lng/360),n},t.getWidth=function(){return this.transform_.width},t.getHeight=function(){return this.transform_.height},t.getZoom=function(){return this.transform_.zoom},t.getCenter=function(){return this.transform_.pointLocation({x:0,y:0})},t.getBounds=function(e,t){var o=e&&e[0]||0,n=e&&e[1]||0,i=e&&e[2]||0,r=e&&e[3]||0;if(this.getWidth()-n-r>0&&this.getHeight()-o-i>0){var s=this.transform_.pointLocation(F_().convert({x:r-this.getWidth()/2,y:o-this.getHeight()/2})),a=this.transform_.pointLocation(F_().convert({x:this.getWidth()/2-n,y:this.getHeight()/2-i})),l=[s.lat,s.lng,a.lat,a.lng,a.lat,s.lng,s.lat,a.lng];return t&&(l=l.map((function(e){return Math.round(e*t)/t}))),l}return[0,0,0,0]},e}();function nM(e){if(window.requestAnimationFrame)return window.requestAnimationFrame(e);var t=window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame;return t?t(e):window.setTimeout(e,1e3/60)}var iM=Math.log2?Math.log2:function(e){return Math.log(e)/Math.LN2};function rM(e,t){return Object.keys(e).reduce((function(o,n){return t(e[n])&&(o[n]=e[n]),o}),{})}var sM=function(e){if(null!==e&&"object"==typeof e){if(0===Object.keys(e).length)return!0}else if(null==e||""===e)return!0;return!1},aM=Object.prototype.toString;function lM(e){return"number"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Number]"===aM.call(e)}var cM=null;function uM(){if(cM)return cM;if("undefined"!=typeof navigator){var e=navigator.userAgent.indexOf("MSIE")>-1,t=navigator.userAgent.indexOf("Firefox")>-1,o=navigator.userAgent.toLowerCase().indexOf("op")>-1,n=navigator.userAgent.indexOf("Chrome")>-1,i=navigator.userAgent.indexOf("Safari")>-1;return n&&i&&(i=!1),n&&o&&(n=!1),cM={isExplorer:e,isFirefox:t,isOpera:o,isChrome:n,isSafari:i}}return cM={isChrome:!0,isExplorer:!1,isFirefox:!1,isOpera:!1,isSafari:!1}}var dM=function(e){return Function.prototype.toString.call(e)};function hM(e){if(!e||"object"!=typeof e)return!1;var t="function"==typeof e.constructor?Object.getPrototypeOf(e):Object.prototype;if(null===t)return!0;var o=t.constructor;return"function"==typeof o&&o instanceof o&&dM(o)===dM(Object)}function pM(e,t,o,n){e.addEventListener(t,o,function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("test",t,t),window.removeEventListener("test",t,t)}catch(t){e=!1}return e}()?{capture:n,passive:!0}:n)}var gM,fM=!("undefined"==typeof window||!window.document||!window.document.createElement);gM=fM?window:"undefined"!=typeof self?self:void 0;var mM,vM="undefined"!=typeof document&&document.attachEvent,yM=!1;if(fM&&!vM){var CM=function(){var e=gM.requestAnimationFrame||gM.mozRequestAnimationFrame||gM.webkitRequestAnimationFrame||function(e){return gM.setTimeout(e,20)};return function(t){return e(t)}}(),wM=(mM=gM.cancelAnimationFrame||gM.mozCancelAnimationFrame||gM.webkitCancelAnimationFrame||gM.clearTimeout,function(e){return mM(e)}),bM=function(e){var t=e.__resizeTriggers__,o=t.firstElementChild,n=t.lastElementChild,i=o.firstElementChild;n.scrollLeft=n.scrollWidth,n.scrollTop=n.scrollHeight,i.style.width=o.offsetWidth+1+"px",i.style.height=o.offsetHeight+1+"px",o.scrollLeft=o.scrollWidth,o.scrollTop=o.scrollHeight},SM=function(e){var t=this;bM(this),this.__resizeRAF__&&wM(this.__resizeRAF__),this.__resizeRAF__=CM((function(){(function(e){return e.offsetWidth!=e.__resizeLast__.width||e.offsetHeight!=e.__resizeLast__.height})(t)&&(t.__resizeLast__.width=t.offsetWidth,t.__resizeLast__.height=t.offsetHeight,t.__resizeListeners__.forEach((function(o){o.call(t,e)})))}))},EM=!1,RM="",PM="animationstart",OM="Webkit Moz O ms".split(" "),xM="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" ");if(fM){var TM=document.createElement("fakeelement");if(void 0!==TM.style.animationName&&(EM=!0),!1===EM)for(var DM=0;DM<OM.length;DM++)if(void 0!==TM.style[OM[DM]+"AnimationName"]){RM="-"+OM[DM].toLowerCase()+"-",PM=xM[DM],EM=!0;break}}var AM="resizeanim",FM="@"+RM+"keyframes "+AM+" { from { opacity: 0; } to { opacity: 0; } } ",_M=RM+"animation: 1ms "+AM+"; "}var MM=void 0!==Ir.createPortal,IM=MM?Ir.createPortal:Ir.unstable_renderSubtreeIntoContainer,LM=function(e){return hM(e)?e:{lat:e[0],lng:e[1]}},NM=function(e,t){return t<e?e:t},kM=function(e){function o(o){var n;if((n=e.call(this,o)||this)._getMinZoom=function(){if(n.geoService_.getWidth()>0||n.geoService_.getHeight()>0){var e=Math.ceil(n.geoService_.getWidth()/256)+2,t=Math.ceil(n.geoService_.getHeight()/256)+2,o=Math.max(e,t);return Math.ceil(iM(o))}return 3},n._computeMinZoom=function(e){return sM(e)?n._getMinZoom():e},n._mapDomResizeCallback=function(){if(n.resetSizeOnIdle_=!0,n.maps_){var e=n.props.center||n.props.defaultCenter,t=n.map_.getCenter();n.maps_.event.trigger(n.map_,"resize"),n.map_.setCenter(n.props.resetBoundsOnResize?e:t)}},n._setLayers=function(e){e.forEach((function(e){n.layers_[e]=new n.maps_[e],n.layers_[e].setMap(n.map_)}))},n._renderPortal=function(){return t.createElement(z_,{experimental:n.props.experimental,onChildClick:n._onChildClick,onChildMouseDown:n._onChildMouseDown,onChildMouseEnter:n._onChildMouseEnter,onChildMouseLeave:n._onChildMouseLeave,geoService:n.geoService_,insideMapPanes:!0,distanceToMouse:n.props.distanceToMouse,getHoverDistance:n._getHoverDistance,dispatcher:n.markersDispatcher_})},n._initMap=function(){if(!n.initialized_){n.initialized_=!0;var e=LM(n.props.center||n.props.defaultCenter);n.geoService_.setView(e,n.props.zoom||n.props.defaultZoom,0),n._onBoundsChanged();var t=__({},n.props.apiKey&&{key:n.props.apiKey},n.props.bootstrapURLKeys);n.props.googleMapLoader(t,n.props.heatmapLibrary).then((function(e){if(n.mounted_){var t,o,i=n.geoService_.getCenter(),r={zoom:n.props.zoom||n.props.defaultZoom,center:new e.LatLng(i.lat,i.lng)};n.props.heatmap.positions&&(Object.assign(I_(n),{heatmap:(t=e,o=n.props.heatmap,new t.visualization.HeatmapLayer({data:o.positions.reduce((function(e,o){var n=o.weight,i=void 0===n?1:n;return e.push({location:new t.LatLng(o.lat,o.lng),weight:i}),e}),[])}))}),function(e,t){var o=t.options,n=void 0===o?{}:o;Object.keys(n).map((function(t){return e.set(t,n[t])}))}(n.heatmap,n.props.heatmap));var s=rM(e,hM),a="function"==typeof n.props.options?n.props.options(s):n.props.options,l=!sM(n.props.draggable)&&{draggable:n.props.draggable},c=n._computeMinZoom(a.minZoom);n.minZoom_=c;var u=__({},{overviewMapControl:!1,streetViewControl:!1,rotateControl:!0,mapTypeControl:!1,styles:[{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]}],minZoom:3},{minZoom:c},a,r);n.defaultDraggableOption_=sM(u.draggable)?n.defaultDraggableOption_:u.draggable;var d=__({},u,l);d.minZoom=NM(d.minZoom,c);var h=new e.Map(Ir.findDOMNode(n.googleMapDom_),d);n.map_=h,n.maps_=e,n._setLayers(n.props.layerTypes);var p=e.version.match(/^3\.(\d+)\./),g=p&&Number(p[1]),f=I_(n),m=Object.assign(new e.OverlayView,{onAdd:function(){var t="undefined"!=typeof screen?screen.width+"px":"2000px",o="undefined"!=typeof screen?screen.height+"px":"2000px",n=document.createElement("div");if(n.style.backgroundColor="transparent",n.style.position="absolute",n.style.left="0px",n.style.top="0px",n.style.width=t,n.style.height=o,f.props.overlayViewDivStyle){var i=f.props.overlayViewDivStyle;"object"==typeof i&&Object.keys(i).forEach((function(e){n.style[e]=i[e]}))}this.getPanes().overlayMouseTarget.appendChild(n),f.geoService_.setMapCanvasProjection(e,m.getProjection()),MM?f.setState({overlay:n}):IM(f,f._renderPortal(),n,(function(){return f.setState({overlay:n})}))},onRemove:function(){var e=f.state.overlay;e&&!MM&&Ir.unmountComponentAtNode(e),f.setState({overlay:null})},draw:function(){if(f.updateCounter_++,f._onBoundsChanged(h,e,!f.props.debounced),f.googleApiLoadedCalled_||(f._onGoogleApiLoaded({map:h,maps:e,ref:f.googleMapDom_}),f.googleApiLoadedCalled_=!0),f.mouse_){var t=f.geoService_.fromContainerPixelToLatLng(f.mouse_);f.mouse_.lat=t.lat,f.mouse_.lng=t.lng}f._onChildMouseMove(),f.markersDispatcher_&&(f.markersDispatcher_.emit("kON_CHANGE"),f.fireMouseEventOnIdle_&&f.markersDispatcher_.emit("kON_MOUSE_POSITION_CHANGE"))}});n.overlay_=m,m.setMap(h),n.props.heatmap.positions&&n.heatmap.setMap(h),n.props.onTilesLoaded&&e.event.addListener(h,"tilesloaded",(function(){f._onTilesLoaded()})),e.event.addListener(h,"zoom_changed",(function(){f.geoService_.getZoom()!==h.getZoom()&&(f.zoomAnimationInProgress_||(f.zoomAnimationInProgress_=!0,f._onZoomAnimationStart(h.zoom)),g<32)&&((new Date).getTime()-n.zoomControlClickTime_<300?nM((function(){return nM((function(){f.updateCounter_++,f._onBoundsChanged(h,e)}))})):(f.updateCounter_++,f._onBoundsChanged(h,e)))})),e.event.addListener(h,"idle",(function(){if(n.resetSizeOnIdle_){n._setViewSize();var t=n._computeMinZoom(a.minZoom);t!==n.minZoom_&&(n.minZoom_=t,h.setOptions({minZoom:t})),n.resetSizeOnIdle_=!1}f.zoomAnimationInProgress_&&(f.zoomAnimationInProgress_=!1,f._onZoomAnimationEnd(h.zoom)),f.updateCounter_++,f._onBoundsChanged(h,e),f.dragTime_=0,f.markersDispatcher_&&f.markersDispatcher_.emit("kON_CHANGE")})),e.event.addListener(h,"mouseover",(function(){f.mouseInMap_=!0})),e.event.addListener(h,"click",(function(){f.mouseInMap_=!0})),e.event.addListener(h,"mouseout",(function(){f.mouseInMap_=!1,f.mouse_=null,f.markersDispatcher_.emit("kON_MOUSE_POSITION_CHANGE")})),e.event.addListener(h,"drag",(function(){f.dragTime_=(new Date).getTime(),f._onDrag(h)})),e.event.addListener(h,"dragend",(function(){var t=e.event.addListener(h,"idle",(function(){e.event.removeListener(t),f._onDragEnd(h)}))})),e.event.addListener(h,"maptypeid_changed",(function(){f._onMapTypeIdChange(h.getMapTypeId())}))}})).catch((function(e){throw n._onGoogleApiLoaded({map:null,maps:null,ref:n.googleMapDom_}),console.error(e),e}))}},n._onGoogleApiLoaded=function(){var e;n.props.onGoogleApiLoaded&&(e=n.props).onGoogleApiLoaded.apply(e,arguments)},n._getHoverDistance=function(){return n.props.hoverDistance},n._onDrag=function(){var e;return n.props.onDrag&&(e=n.props).onDrag.apply(e,arguments)},n._onDragEnd=function(){var e;return n.props.onDragEnd&&(e=n.props).onDragEnd.apply(e,arguments)},n._onMapTypeIdChange=function(){var e;return n.props.onMapTypeIdChange&&(e=n.props).onMapTypeIdChange.apply(e,arguments)},n._onZoomAnimationStart=function(){var e;return n.props.onZoomAnimationStart&&(e=n.props).onZoomAnimationStart.apply(e,arguments)},n._onZoomAnimationEnd=function(){var e;return n.props.onZoomAnimationEnd&&(e=n.props).onZoomAnimationEnd.apply(e,arguments)},n._onTilesLoaded=function(){return n.props.onTilesLoaded&&n.props.onTilesLoaded()},n._onChildClick=function(){var e;if(n.props.onChildClick)return(e=n.props).onChildClick.apply(e,arguments)},n._onChildMouseDown=function(e,t){n.childMouseDownArgs_=[e,t],n.props.onChildMouseDown&&n.props.onChildMouseDown(e,t,__({},n.mouse_))},n._onChildMouseUp=function(){var e;n.childMouseDownArgs_&&(n.props.onChildMouseUp&&(e=n.props).onChildMouseUp.apply(e,n.childMouseDownArgs_.concat([__({},n.mouse_)])),n.childMouseDownArgs_=null,n.childMouseUpTime_=(new Date).getTime())},n._onChildMouseMove=function(){var e;n.childMouseDownArgs_&&n.props.onChildMouseMove&&(e=n.props).onChildMouseMove.apply(e,n.childMouseDownArgs_.concat([__({},n.mouse_)]))},n._onChildMouseEnter=function(){var e;if(n.props.onChildMouseEnter)return(e=n.props).onChildMouseEnter.apply(e,arguments)},n._onChildMouseLeave=function(){var e;if(n.props.onChildMouseLeave)return(e=n.props).onChildMouseLeave.apply(e,arguments)},n._setViewSize=function(){if(n.mounted_){if(document.fullscreen||document.webkitIsFullScreen||document.mozFullScreen||document.msFullscreenElement)n.geoService_.setViewSize(window.innerWidth,window.innerHeight);else{var e=Ir.findDOMNode(n.googleMapDom_);n.geoService_.setViewSize(e.clientWidth,e.clientHeight)}n._onBoundsChanged()}},n._onWindowResize=function(){n.resetSizeOnIdle_=!0},n._onMapMouseMove=function(e){if(n.mouseInMap_){var t=(new Date).getTime();t-n.mouseMoveTime_>50&&(n.boundingRect_=e.currentTarget.getBoundingClientRect()),n.mouseMoveTime_=t;var o=e.clientX-n.boundingRect_.left,i=e.clientY-n.boundingRect_.top;n.mouse_||(n.mouse_={x:0,y:0,lat:0,lng:0}),n.mouse_.x=o,n.mouse_.y=i;var r=n.geoService_.fromContainerPixelToLatLng(n.mouse_);n.mouse_.lat=r.lat,n.mouse_.lng=r.lng,n._onChildMouseMove(),t-n.dragTime_<100?n.fireMouseEventOnIdle_=!0:(n.markersDispatcher_.emit("kON_MOUSE_POSITION_CHANGE"),n.fireMouseEventOnIdle_=!1)}},n._onClick=function(){var e;return n.props.onClick&&!n.childMouseDownArgs_&&(new Date).getTime()-n.childMouseUpTime_>300&&0===n.dragTime_&&(e=n.props).onClick.apply(e,arguments)},n._onMapClick=function(e){n.markersDispatcher_&&(n._onMapMouseMove(e),(new Date).getTime()-n.dragTime_>100&&(n.mouse_&&n._onClick(__({},n.mouse_,{event:e})),n.markersDispatcher_.emit("kON_CLICK",e)))},n._onMapMouseDownNative=function(e){n.mouseInMap_&&n._onMapMouseDown(e)},n._onMapMouseDown=function(e){n.markersDispatcher_&&(new Date).getTime()-n.dragTime_>100&&(n._onMapMouseMove(e),n.markersDispatcher_.emit("kON_MDOWN",e))},n._onMapMouseDownCapture=function(){uM().isChrome&&(n.zoomControlClickTime_=(new Date).getTime())},n._onKeyDownCapture=function(){uM().isChrome&&(n.zoomControlClickTime_=(new Date).getTime())},n._isCenterDefined=function(e){return e&&(hM(e)&&lM(e.lat)&&lM(e.lng)||2===e.length&&lM(e[0])&&lM(e[1]))},n._onBoundsChanged=function(e,t,o){if(e){var i=e.getCenter();n.geoService_.setView([i.lat(),i.lng()],e.getZoom(),0)}if((n.props.onChange||n.props.onBoundsChange)&&n.geoService_.canProject()){var r=n.geoService_.getZoom(),s=n.geoService_.getBounds(),a=n.geoService_.getCenter();if(!function(e,t){if(e&&t){for(var o=0;o!==e.length;++o)if(Math.abs(e[o]-t[o])>1e-5)return!1;return!0}return!1}(s,n.prevBounds_)&&!1!==o){var l=n.geoService_.getBounds(n.props.margin);n.props.onBoundsChange&&n.props.onBoundsChange(n.centerIsObject_?__({},a):[a.lat,a.lng],r,s,l),n.props.onChange&&n.props.onChange({center:__({},a),zoom:r,bounds:{nw:{lat:s[0],lng:s[1]},se:{lat:s[2],lng:s[3]},sw:{lat:s[4],lng:s[5]},ne:{lat:s[6],lng:s[7]}},marginBounds:{nw:{lat:l[0],lng:l[1]},se:{lat:l[2],lng:l[3]},sw:{lat:l[4],lng:l[5]},ne:{lat:l[6],lng:l[7]}},size:n.geoService_.hasSize()?{width:n.geoService_.getWidth(),height:n.geoService_.getHeight()}:{width:0,height:0}}),n.prevBounds_=s}}},n._registerChild=function(e){n.googleMapDom_=e},n.mounted_=!1,n.initialized_=!1,n.googleApiLoadedCalled_=!1,n.map_=null,n.maps_=null,n.prevBounds_=null,n.heatmap=null,n.layers_={},n.mouse_=null,n.mouseMoveTime_=0,n.boundingRect_=null,n.mouseInMap_=!0,n.dragTime_=0,n.fireMouseEventOnIdle_=!1,n.updateCounter_=0,n.markersDispatcher_=new k_(I_(n)),n.geoService_=new oM(256),n.centerIsObject_=hM(n.props.center),n.minZoom_=3,n.defaultDraggableOption_=!0,n.zoomControlClickTime_=0,n.childMouseDownArgs_=null,n.childMouseUpTime_=0,n.googleMapDom_=null,n._isCenterDefined(n.props.center||n.props.defaultCenter)){var i=LM(n.props.center||n.props.defaultCenter);n.geoService_.setView(i,n.props.zoom||n.props.defaultZoom,0)}return n.zoomAnimationInProgress_=!1,n.state={overlay:null},n}M_(o,e);var n=o.prototype;return n.componentDidMount=function(){var e=this;this.mounted_=!0,this.markersDispatcher_=new k_(this),pM(window,"resize",this._onWindowResize,!1),pM(window,"keydown",this._onKeyDownCapture,!0);var t=Ir.findDOMNode(this.googleMapDom_);t&&pM(t,"mousedown",this._onMapMouseDownNative,!0),pM(window,"mouseup",this._onChildMouseUp,!1);var o=__({},this.props.apiKey&&{key:this.props.apiKey},this.props.bootstrapURLKeys);this.props.googleMapLoader(o,this.props.heatmapLibrary),setTimeout((function(){e._setViewSize(),e._isCenterDefined(e.props.center||e.props.defaultCenter)&&e._initMap()}),0,this),this.props.resetBoundsOnResize&&function(e,t){if(void 0===e.parentNode){var o=document.createElement("div");e.parentNode=o}e=e.parentNode,vM?e.attachEvent("onresize",t):(e.__resizeTriggers__||("static"==getComputedStyle(e).position&&(e.style.position="relative"),function(){if(!yM){var e=(FM||"")+".resize-triggers { "+(_M||"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',t=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css",o.styleSheet?o.styleSheet.cssText=e:o.appendChild(document.createTextNode(e)),t.appendChild(o),yM=!0}}(),e.__resizeLast__={},e.__resizeListeners__=[],(e.__resizeTriggers__=document.createElement("div")).className="resize-triggers",e.__resizeTriggers__.innerHTML='<div class="expand-trigger"><div></div></div><div class="contract-trigger"></div>',e.appendChild(e.__resizeTriggers__),bM(e),pM(e,"scroll",SM,!0),PM&&e.__resizeTriggers__.addEventListener(PM,(function(t){t.animationName==AM&&bM(e)}))),e.__resizeListeners__.push(t))}(t,this._mapDomResizeCallback)},n.shouldComponentUpdate=function(e,t){return!B_(G_(this.props,["draggable"]),G_(e,["draggable"]))||!B_(this.state,t)},n.componentDidUpdate=function(e){var t=this;if(!this._isCenterDefined(e.center)&&this._isCenterDefined(this.props.center)&&setTimeout((function(){return t._initMap()}),0),this.map_){var o=this.geoService_.getCenter();if(this._isCenterDefined(this.props.center)){var n=LM(this.props.center),i=this._isCenterDefined(e.center)?LM(e.center):null;(!i||Math.abs(n.lat-i.lat)+Math.abs(n.lng-i.lng)>1e-5)&&Math.abs(n.lat-o.lat)+Math.abs(n.lng-o.lng)>1e-5&&this.map_.panTo({lat:n.lat,lng:n.lng})}if(sM(this.props.zoom)||Math.abs(this.props.zoom-e.zoom)>0&&this.map_.setZoom(this.props.zoom),!sM(e.draggable)&&sM(this.props.draggable)?this.map_.setOptions({draggable:this.defaultDraggableOption_}):B_(e.draggable,this.props.draggable)||this.map_.setOptions({draggable:this.props.draggable}),!sM(this.props.options)&&!B_(e.options,this.props.options)){var r=rM(this.maps_,hM),s="function"==typeof this.props.options?this.props.options(r):this.props.options;if("minZoom"in(s=G_(s,["zoom","center","draggable"]))){var a=this._computeMinZoom(s.minZoom);s.minZoom=NM(s.minZoom,a)}this.map_.setOptions(s)}B_(this.props.layerTypes,e.layerTypes)||(Object.keys(this.layers_).forEach((function(e){t.layers_[e].setMap(null),delete t.layers_[e]})),this._setLayers(this.props.layerTypes)),this.heatmap&&!B_(this.props.heatmap.positions,e.heatmap.positions)&&this.heatmap.setData(this.props.heatmap.positions.map((function(e){return{location:new t.maps_.LatLng(e.lat,e.lng),weight:e.weight}}))),this.heatmap&&!B_(this.props.heatmap.options,e.heatmap.options)&&Object.keys(this.props.heatmap.options).forEach((function(e){t.heatmap.set(e,t.props.heatmap.options[e])}))}this.markersDispatcher_.emit("kON_CHANGE"),B_(this.props.hoverDistance,e.hoverDistance)||this.markersDispatcher_.emit("kON_MOUSE_POSITION_CHANGE")},n.componentWillUnmount=function(){this.mounted_=!1;var e,t,o=Ir.findDOMNode(this.googleMapDom_);o&&o.removeEventListener("mousedown",this._onMapMouseDownNative,!0),window.removeEventListener("resize",this._onWindowResize),window.removeEventListener("keydown",this._onKeyDownCapture),window.removeEventListener("mouseup",this._onChildMouseUp,!1),this.props.resetBoundsOnResize&&(t=this._mapDomResizeCallback,e=(e=o).parentNode,vM?e.detachEvent("onresize",t):(e.__resizeListeners__.splice(e.__resizeListeners__.indexOf(t),1),e.__resizeListeners__.length||(e.removeEventListener("scroll",SM),e.__resizeTriggers__=!e.removeChild(e.__resizeTriggers__)))),this.overlay_&&this.overlay_.setMap(null),this.maps_&&this.map_&&this.props.shouldUnregisterMapOnUnmount&&(this.map_.setOptions({scrollwheel:!1}),this.maps_.event.clearInstanceListeners(this.map_)),this.props.shouldUnregisterMapOnUnmount&&(this.map_=null,this.maps_=null),this.markersDispatcher_.dispose(),this.resetSizeOnIdle_=!1,this.props.shouldUnregisterMapOnUnmount&&(delete this.map_,delete this.markersDispatcher_)},n.render=function(){var e=this.state.overlay,o=e?null:t.createElement($_,{experimental:this.props.experimental,onChildClick:this._onChildClick,onChildMouseDown:this._onChildMouseDown,onChildMouseEnter:this._onChildMouseEnter,onChildMouseLeave:this._onChildMouseLeave,geoService:this.geoService_,insideMapPanes:!1,distanceToMouse:this.props.distanceToMouse,getHoverDistance:this._getHoverDistance,dispatcher:this.markersDispatcher_});return t.createElement("div",{style:this.props.style,onMouseMove:this._onMapMouseMove,onMouseDownCapture:this._onMapMouseDownCapture,onClick:this._onMapClick},t.createElement(N_,{registerChild:this._registerChild}),MM&&e&&IM(this._renderPortal(),e),o)},o}(t.Component);kM.propTypes={apiKey:w_().string,bootstrapURLKeys:w_().any,defaultCenter:w_().oneOfType([w_().array,w_().shape({lat:w_().number,lng:w_().number})]),center:w_().oneOfType([w_().array,w_().shape({lat:w_().number,lng:w_().number})]),defaultZoom:w_().number,zoom:w_().number,onBoundsChange:w_().func,onChange:w_().func,onClick:w_().func,onChildClick:w_().func,onChildMouseDown:w_().func,onChildMouseUp:w_().func,onChildMouseMove:w_().func,onChildMouseEnter:w_().func,onChildMouseLeave:w_().func,onZoomAnimationStart:w_().func,onZoomAnimationEnd:w_().func,onDrag:w_().func,onDragEnd:w_().func,onMapTypeIdChange:w_().func,onTilesLoaded:w_().func,options:w_().any,distanceToMouse:w_().func,hoverDistance:w_().number,debounced:w_().bool,margin:w_().array,googleMapLoader:w_().any,onGoogleApiLoaded:w_().func,yesIWantToUseGoogleMapApiInternals:w_().bool,draggable:w_().bool,style:w_().any,resetBoundsOnResize:w_().bool,layerTypes:w_().arrayOf(w_().string),shouldUnregisterMapOnUnmount:w_().bool},kM.defaultProps={distanceToMouse:function(e,t){return Math.sqrt((e.x-t.x)*(e.x-t.x)+(e.y-t.y)*(e.y-t.y))},hoverDistance:30,debounced:!0,options:function(){return{overviewMapControl:!1,streetViewControl:!1,rotateControl:!0,mapTypeControl:!1,styles:[{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]}],minZoom:3}},googleMapLoader:Z_,yesIWantToUseGoogleMapApiInternals:!1,style:{width:"100%",height:"100%",margin:0,padding:0,position:"relative"},layerTypes:[],heatmap:{},heatmapLibrary:!1,shouldUnregisterMapOnUnmount:!0},kM.googleMapLoader=Z_;const GM=kM;function VM(e){return Kg({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"circle",attr:{cx:"256",cy:"192",r:"32"},child:[]},{tag:"path",attr:{d:"M256 32c-88.22 0-160 68.65-160 153 0 40.17 18.31 93.59 54.42 158.78 29 52.34 62.55 99.67 80 123.22a31.75 31.75 0 0 0 51.22 0c17.42-23.55 51-70.88 80-123.22C397.69 278.61 416 225.19 416 185c0-84.35-71.78-153-160-153zm0 224a64 64 0 1 1 64-64 64.07 64.07 0 0 1-64 64z"},child:[]}]})(e)}const HM=e=>(0,Fl.jsx)(VM,{size:35});function BM(e){let{latitude:t,longitude:o}=e;const n={center:{lat:t,lng:o},zoom:11};return(0,Fl.jsx)("div",{style:{height:"30vh",width:"100%"},children:(0,Fl.jsx)(GM,{bootstrapURLKeys:{key:"AIzaSyAlm5FzjzdT911Ep7JvKQJr2imRB8eBFoQ"},defaultCenter:n.center,defaultZoom:n.zoom,children:(0,Fl.jsx)(HM,{lat:t,lng:o})})})}const WM=["xxl","xl","lg","md","sm","xs"];function jM(){const[,e]=Hi(),o=(e=>({xs:`(max-width: ${e.screenXSMax}px)`,sm:`(min-width: ${e.screenSM}px)`,md:`(min-width: ${e.screenMD}px)`,lg:`(min-width: ${e.screenLG}px)`,xl:`(min-width: ${e.screenXL}px)`,xxl:`(min-width: ${e.screenXXL}px)`}))((e=>{const t=e,o=[].concat(WM).reverse();return o.forEach(((e,n)=>{const i=e.toUpperCase(),r=`screen${i}Min`,s=`screen${i}`;if(!(t[r]<=t[s]))throw new Error(`${r}<=${s} fails : !(${t[r]}<=${t[s]})`);if(n<o.length-1){const e=`screen${i}Max`;if(!(t[s]<=t[e]))throw new Error(`${s}<=${e} fails : !(${t[s]}<=${t[e]})`);const r=`screen${o[n+1].toUpperCase()}Min`;if(!(t[e]<=t[r]))throw new Error(`${e}<=${r} fails : !(${t[e]}<=${t[r]})`)}})),e})(e));return t.useMemo((()=>{const e=new Map;let t=-1,n={};return{matchHandlers:{},dispatch:t=>(n=t,e.forEach((e=>e(n))),e.size>=1),subscribe(o){return e.size||this.register(),t+=1,e.set(t,o),o(n),t},unsubscribe(t){e.delete(t),e.size||this.unregister()},unregister(){Object.keys(o).forEach((e=>{const t=o[e],n=this.matchHandlers[t];null===n||void 0===n||n.mql.removeListener(null===n||void 0===n?void 0:n.listener)})),e.clear()},register(){Object.keys(o).forEach((e=>{const t=o[e],i=t=>{let{matches:o}=t;this.dispatch(Object.assign(Object.assign({},n),{[e]:o}))},r=window.matchMedia(t);r.addListener(i),this.matchHandlers[t]={mql:r,listener:i},i(r)}))},responsiveMap:o}}),[e])}const zM=(e,t)=>{if(t&&"object"===typeof t)for(let o=0;o<WM.length;o++){const n=WM[o];if(e[n]&&void 0!==t[n])return t[n]}};const UM=function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const o=(0,t.useRef)({}),n=function(){const[,e]=t.useReducer((e=>e+1),0);return e}(),i=jM();return to((()=>{const t=i.subscribe((t=>{o.current=t,e&&n()}));return()=>i.unsubscribe(t)}),[]),o.current},$M={xxl:3,xl:3,lg:3,md:3,sm:2,xs:1},KM=t.createContext({});var YM=function(e,t){var o={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(o[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(o[n[i]]=e[n[i]])}return o};function qM(e,o,n){const i=t.useMemo((()=>o||y(n).map((e=>Object.assign(Object.assign({},null===e||void 0===e?void 0:e.props),{key:e.key})))),[o,n]);return t.useMemo((()=>i.map((t=>{var{span:o}=t,n=YM(t,["span"]);return"filled"===o?Object.assign(Object.assign({},n),{filled:!0}):Object.assign(Object.assign({},n),{span:"number"===typeof o?o:zM(e,o)})}))),[i,e])}var XM=function(e,t){var o={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(o[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(o[n[i]]=e[n[i]])}return o};const QM=(e,o)=>{const[n,i]=(0,t.useMemo)((()=>function(e,t){let o=[],n=[],i=!1,r=0;return e.filter((e=>e)).forEach((e=>{const{filled:s}=e,a=XM(e,["filled"]);if(s)return n.push(a),o.push(n),n=[],void(r=0);const l=t-r;r+=e.span||1,r>=t?(r>t?(i=!0,n.push(Object.assign(Object.assign({},a),{span:l}))):n.push(a),o.push(n),n=[],r=0):n.push(a)})),n.length>0&&o.push(n),o=o.map((e=>{const o=e.reduce(((e,t)=>e+(t.span||1)),0);return o<t?(e[e.length-1].span=t-o+1,e):e})),[o,i]}(o,e)),[o,e]);return n},ZM=e=>{let{children:t}=e;return t};function JM(e){return void 0!==e&&null!==e}const eI=e=>{const{itemPrefixCls:o,component:n,span:i,className:r,style:s,labelStyle:a,contentStyle:l,bordered:c,label:d,content:h,colon:p,type:g}=e,f=n;return c?t.createElement(f,{className:u()({[`${o}-item-label`]:"label"===g,[`${o}-item-content`]:"content"===g},r),style:s,colSpan:i},JM(d)&&t.createElement("span",{style:a},d),JM(h)&&t.createElement("span",{style:l},h)):t.createElement(f,{className:u()(`${o}-item`,r),style:s,colSpan:i},t.createElement("div",{className:`${o}-item-container`},(d||0===d)&&t.createElement("span",{className:u()(`${o}-item-label`,{[`${o}-item-no-colon`]:!p}),style:a},d),(h||0===h)&&t.createElement("span",{className:u()(`${o}-item-content`),style:l},h)))};function tI(e,o,n){let{colon:i,prefixCls:r,bordered:s}=o,{component:a,type:l,showLabel:c,showContent:u,labelStyle:d,contentStyle:h}=n;return e.map(((e,o)=>{let{label:n,children:p,prefixCls:g=r,className:f,style:m,labelStyle:v,contentStyle:y,span:C=1,key:w}=e;return"string"===typeof a?t.createElement(eI,{key:`${l}-${w||o}`,className:f,style:m,labelStyle:Object.assign(Object.assign({},d),v),contentStyle:Object.assign(Object.assign({},h),y),span:C,colon:i,component:a,itemPrefixCls:g,bordered:s,label:c?n:null,content:u?p:null,type:l}):[t.createElement(eI,{key:`label-${w||o}`,className:f,style:Object.assign(Object.assign(Object.assign({},d),m),v),span:1,colon:i,component:a[0],itemPrefixCls:g,bordered:s,label:n,type:"label"}),t.createElement(eI,{key:`content-${w||o}`,className:f,style:Object.assign(Object.assign(Object.assign({},h),m),y),span:2*C-1,component:a[1],itemPrefixCls:g,bordered:s,content:p,type:"content"})]}))}const oI=e=>{const o=t.useContext(KM),{prefixCls:n,vertical:i,row:r,index:s,bordered:a}=e;return i?t.createElement(t.Fragment,null,t.createElement("tr",{key:`label-${s}`,className:`${n}-row`},tI(r,e,Object.assign({component:"th",type:"label",showLabel:!0},o))),t.createElement("tr",{key:`content-${s}`,className:`${n}-row`},tI(r,e,Object.assign({component:"td",type:"content",showContent:!0},o)))):t.createElement("tr",{key:s,className:`${n}-row`},tI(r,e,Object.assign({component:a?["th","td"]:"td",type:"item",showLabel:!0,showContent:!0},o)))},nI=e=>{const{componentCls:t,labelBg:o}=e;return{[`&${t}-bordered`]:{[`> ${t}-view`]:{border:`${Kt(e.lineWidth)} ${e.lineType} ${e.colorSplit}`,"> table":{tableLayout:"auto"},[`${t}-row`]:{borderBottom:`${Kt(e.lineWidth)} ${e.lineType} ${e.colorSplit}`,"&:last-child":{borderBottom:"none"},[`> ${t}-item-label, > ${t}-item-content`]:{padding:`${Kt(e.padding)} ${Kt(e.paddingLG)}`,borderInlineEnd:`${Kt(e.lineWidth)} ${e.lineType} ${e.colorSplit}`,"&:last-child":{borderInlineEnd:"none"}},[`> ${t}-item-label`]:{color:e.colorTextSecondary,backgroundColor:o,"&::after":{display:"none"}}}},[`&${t}-middle`]:{[`${t}-row`]:{[`> ${t}-item-label, > ${t}-item-content`]:{padding:`${Kt(e.paddingSM)} ${Kt(e.paddingLG)}`}}},[`&${t}-small`]:{[`${t}-row`]:{[`> ${t}-item-label, > ${t}-item-content`]:{padding:`${Kt(e.paddingXS)} ${Kt(e.padding)}`}}}}}},iI=Wi("Descriptions",(e=>(e=>{const{componentCls:t,extraColor:o,itemPaddingBottom:n,itemPaddingEnd:i,colonMarginRight:r,colonMarginLeft:s,titleMarginBottom:a}=e;return{[t]:Object.assign(Object.assign(Object.assign({},di(e)),nI(e)),{"&-rtl":{direction:"rtl"},[`${t}-header`]:{display:"flex",alignItems:"center",marginBottom:a},[`${t}-title`]:Object.assign(Object.assign({},ui),{flex:"auto",color:e.titleColor,fontWeight:e.fontWeightStrong,fontSize:e.fontSizeLG,lineHeight:e.lineHeightLG}),[`${t}-extra`]:{marginInlineStart:"auto",color:o,fontSize:e.fontSize},[`${t}-view`]:{width:"100%",borderRadius:e.borderRadiusLG,table:{width:"100%",tableLayout:"fixed",borderCollapse:"collapse"}},[`${t}-row`]:{"> th, > td":{paddingBottom:n,paddingInlineEnd:i},"> th:last-child, > td:last-child":{paddingInlineEnd:0},"&:last-child":{borderBottom:"none","> th, > td":{paddingBottom:0}}},[`${t}-item-label`]:{color:e.colorTextTertiary,fontWeight:"normal",fontSize:e.fontSize,lineHeight:e.lineHeight,textAlign:"start","&::after":{content:'":"',position:"relative",top:-.5,marginInline:`${Kt(s)} ${Kt(r)}`},[`&${t}-item-no-colon::after`]:{content:'""'}},[`${t}-item-no-label`]:{"&::after":{margin:0,content:'""'}},[`${t}-item-content`]:{display:"table-cell",flex:1,color:e.contentColor,fontSize:e.fontSize,lineHeight:e.lineHeight,wordBreak:"break-word",overflowWrap:"break-word"},[`${t}-item`]:{paddingBottom:0,verticalAlign:"top","&-container":{display:"flex",[`${t}-item-label`]:{display:"inline-flex",alignItems:"baseline"},[`${t}-item-content`]:{display:"inline-flex",alignItems:"baseline",minWidth:"1em"}}},"&-middle":{[`${t}-row`]:{"> th, > td":{paddingBottom:e.paddingSM}}},"&-small":{[`${t}-row`]:{"> th, > td":{paddingBottom:e.paddingXS}}}})}})(Jn(e,{}))),(e=>({labelBg:e.colorFillAlter,titleColor:e.colorText,titleMarginBottom:e.fontSizeSM*e.lineHeightSM,itemPaddingBottom:e.padding,itemPaddingEnd:e.padding,colonMarginRight:e.marginXS,colonMarginLeft:e.marginXXS/2,contentColor:e.colorText,extraColor:e.colorText})));var rI=function(e,t){var o={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(o[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(o[n[i]]=e[n[i]])}return o};const sI=e=>{const{prefixCls:o,title:n,extra:i,column:r,colon:s=!0,bordered:a,layout:l,children:c,className:d,rootClassName:h,style:p,size:f,labelStyle:m,contentStyle:v,items:y}=e,C=rI(e,["prefixCls","title","extra","column","colon","bordered","layout","children","className","rootClassName","style","size","labelStyle","contentStyle","items"]),{getPrefixCls:w,direction:b,descriptions:S}=t.useContext(g),E=w("descriptions",o),R=UM(),P=t.useMemo((()=>{var e;return"number"===typeof r?r:null!==(e=zM(R,Object.assign(Object.assign({},$M),r)))&&void 0!==e?e:3}),[R,r]),O=qM(R,y,c),x=oa(f),T=QM(P,O),[D,A,F]=iI(E),_=t.useMemo((()=>({labelStyle:m,contentStyle:v})),[m,v]);return D(t.createElement(KM.Provider,{value:_},t.createElement("div",Object.assign({className:u()(E,null===S||void 0===S?void 0:S.className,{[`${E}-${x}`]:x&&"default"!==x,[`${E}-bordered`]:!!a,[`${E}-rtl`]:"rtl"===b},d,h,A,F),style:Object.assign(Object.assign({},null===S||void 0===S?void 0:S.style),p)},C),(n||i)&&t.createElement("div",{className:`${E}-header`},n&&t.createElement("div",{className:`${E}-title`},n),i&&t.createElement("div",{className:`${E}-extra`},i)),t.createElement("div",{className:`${E}-view`},t.createElement("table",null,t.createElement("tbody",null,T.map(((e,o)=>t.createElement(oI,{key:o,index:o,colon:s,prefixCls:E,vertical:"vertical"===l,bordered:a,row:e})))))))))};sI.Item=ZM;const aI=sI,lI=e=>{const{componentCls:t,sizePaddingEdgeHorizontal:o,colorSplit:n,lineWidth:i,textPaddingInline:r,orientationMargin:s,verticalMarginInline:a}=e;return{[t]:Object.assign(Object.assign({},di(e)),{borderBlockStart:`${Kt(i)} solid ${n}`,"&-vertical":{position:"relative",top:"-0.06em",display:"inline-block",height:"0.9em",marginInline:a,marginBlock:0,verticalAlign:"middle",borderTop:0,borderInlineStart:`${Kt(i)} solid ${n}`},"&-horizontal":{display:"flex",clear:"both",width:"100%",minWidth:"100%",margin:`${Kt(e.dividerHorizontalGutterMargin)} 0`},[`&-horizontal${t}-with-text`]:{display:"flex",alignItems:"center",margin:`${Kt(e.dividerHorizontalWithTextGutterMargin)} 0`,color:e.colorTextHeading,fontWeight:500,fontSize:e.fontSizeLG,whiteSpace:"nowrap",textAlign:"center",borderBlockStart:`0 ${n}`,"&::before, &::after":{position:"relative",width:"50%",borderBlockStart:`${Kt(i)} solid transparent`,borderBlockStartColor:"inherit",borderBlockEnd:0,transform:"translateY(50%)",content:"''"}},[`&-horizontal${t}-with-text-left`]:{"&::before":{width:`calc(${s} * 100%)`},"&::after":{width:`calc(100% - ${s} * 100%)`}},[`&-horizontal${t}-with-text-right`]:{"&::before":{width:`calc(100% - ${s} * 100%)`},"&::after":{width:`calc(${s} * 100%)`}},[`${t}-inner-text`]:{display:"inline-block",paddingBlock:0,paddingInline:r},"&-dashed":{background:"none",borderColor:n,borderStyle:"dashed",borderWidth:`${Kt(i)} 0 0`},[`&-horizontal${t}-with-text${t}-dashed`]:{"&::before, &::after":{borderStyle:"dashed none none"}},[`&-vertical${t}-dashed`]:{borderInlineStartWidth:i,borderInlineEnd:0,borderBlockStart:0,borderBlockEnd:0},"&-dotted":{background:"none",borderColor:n,borderStyle:"dotted",borderWidth:`${Kt(i)} 0 0`},[`&-horizontal${t}-with-text${t}-dotted`]:{"&::before, &::after":{borderStyle:"dotted none none"}},[`&-vertical${t}-dotted`]:{borderInlineStartWidth:i,borderInlineEnd:0,borderBlockStart:0,borderBlockEnd:0},[`&-plain${t}-with-text`]:{color:e.colorText,fontWeight:"normal",fontSize:e.fontSize},[`&-horizontal${t}-with-text-left${t}-no-default-orientation-margin-left`]:{"&::before":{width:0},"&::after":{width:"100%"},[`${t}-inner-text`]:{paddingInlineStart:o}},[`&-horizontal${t}-with-text-right${t}-no-default-orientation-margin-right`]:{"&::before":{width:"100%"},"&::after":{width:0},[`${t}-inner-text`]:{paddingInlineEnd:o}}})}},cI=Wi("Divider",(e=>{const t=Jn(e,{dividerHorizontalWithTextGutterMargin:e.margin,dividerHorizontalGutterMargin:e.marginLG,sizePaddingEdgeHorizontal:0});return[lI(t)]}),(e=>({textPaddingInline:"1em",orientationMargin:.05,verticalMarginInline:e.marginXS})),{unitless:{orientationMargin:!0}});var uI=function(e,t){var o={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(o[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(o[n[i]]=e[n[i]])}return o};const dI=e=>{const{getPrefixCls:o,direction:n,divider:i}=t.useContext(g),{prefixCls:r,type:s="horizontal",orientation:a="center",orientationMargin:l,className:c,rootClassName:d,children:h,dashed:p,variant:f="solid",plain:m,style:v}=e,y=uI(e,["prefixCls","type","orientation","orientationMargin","className","rootClassName","children","dashed","variant","plain","style"]),C=o("divider",r),[w,b,S]=cI(C),E=!!h,R="left"===a&&null!=l,P="right"===a&&null!=l,O=u()(C,null===i||void 0===i?void 0:i.className,b,S,`${C}-${s}`,{[`${C}-with-text`]:E,[`${C}-with-text-${a}`]:E,[`${C}-dashed`]:!!p,[`${C}-${f}`]:"solid"!==f,[`${C}-plain`]:!!m,[`${C}-rtl`]:"rtl"===n,[`${C}-no-default-orientation-margin-left`]:R,[`${C}-no-default-orientation-margin-right`]:P},c,d),x=t.useMemo((()=>"number"===typeof l?l:/^\d+$/.test(l)?Number(l):l),[l]),T=Object.assign(Object.assign({},R&&{marginLeft:x}),P&&{marginRight:x});return w(t.createElement("div",Object.assign({className:O,style:Object.assign(Object.assign({},null===i||void 0===i?void 0:i.style),v)},y,{role:"separator"}),h&&"vertical"!==s&&t.createElement("span",{className:`${C}-inner-text`,style:T},h)))};function hI(e){let{contentData:t}=e;return(0,Fl.jsx)(Fl.Fragment,{children:t&&(0,Fl.jsxs)("div",{className:"contact",children:[(0,Fl.jsx)("div",{className:"contact-info",children:(0,Fl.jsxs)(aI,{layout:"vertical",children:[(0,Fl.jsx)(aI.Item,{label:"Name",children:t.name}),(0,Fl.jsx)(aI.Item,{label:"Username",children:t.username}),(0,Fl.jsx)(aI.Item,{label:"Email",children:t.email}),(0,Fl.jsx)(aI.Item,{label:"Phone",children:t.phone}),(0,Fl.jsx)(aI.Item,{label:"Website",children:t.website})]})}),(0,Fl.jsxs)("div",{className:"contact-company",children:[(0,Fl.jsx)(dI,{orientation:"left",orientationMargin:"0",style:{borderColor:"rgba(28, 17, 41, 0.88)"},children:"Company"}),(0,Fl.jsxs)(aI,{layout:"vertical",children:[(0,Fl.jsxs)(aI.Item,{label:"Company name",children:[t.company.name," "]}),(0,Fl.jsxs)(aI.Item,{label:"Catch Phrase",children:[t.company.catchPhrase," "]}),(0,Fl.jsxs)(aI.Item,{label:"Bs",children:[t.company.bs," "]})]})]}),(0,Fl.jsxs)("div",{className:"contact-address",children:[(0,Fl.jsx)(dI,{orientation:"left",orientationMargin:"0",style:{borderColor:"rgba(28, 17, 41, 0.88)"},children:"Address"}),(0,Fl.jsxs)(aI,{layout:"vertical",children:[(0,Fl.jsxs)(aI.Item,{label:"Street",children:[t.address.street," "]}),(0,Fl.jsxs)(aI.Item,{label:"Suite",children:[t.address.suite," "]}),(0,Fl.jsxs)(aI.Item,{label:"City",children:[t.address.city," "]}),(0,Fl.jsxs)(aI.Item,{label:"Zipcode",children:[t.address.zipcode," "]})]})]}),(0,Fl.jsx)("div",{className:"contact-map",children:(0,Fl.jsx)(BM,{latitude:-33.8397011,longitude:151.2057175})})]})})}const pI={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z"}}]},name:"eye",theme:"outlined"};var gI=function(e,o){return t.createElement(ut,C({},e,{ref:o,icon:pI}))};const fI=t.forwardRef(gI),mI=()=>(0,Fl.jsx)(bl,{className:"action-button",type:"text",shape:"circle",icon:(0,Fl.jsx)(fI,{})});function vI(){const[e,o]=(0,t.useState)(),[n,i]=(0,t.useState)(!1),[r,s]=(0,t.useState)(),[a,l]=(0,t.useState)([]);(0,t.useEffect)((()=>{_D.get("https://jsonplaceholder.typicode.com/users").then((e=>l(e.data))).catch((e=>{console.error("ops! ocorreu um erro"+e)}))}),[]);const c=[{headerName:"Actions",field:"actions",cellRenderer:mI,flex:1,resizable:!1,filter:!1},{headerName:"Name",field:"name"},{headerName:"Username",field:"username"},{headerName:"Phone",field:"phone"},{headerName:"Email",field:"email"},{headerName:"Website",field:"website"}];return(0,Fl.jsxs)("div",{className:"App",children:[(0,Fl.jsx)("div",{className:"ag-theme-alpine",style:{height:550},children:(0,Fl.jsx)(hx,{rowData:a,columnDefs:c,onGridReady:e=>{o(e.api),e.api.addGlobalListener(((e,t)=>{"dataTypesInferred"!==e&&"gridSizeChanged"!==e&&"columnResized"!==e||(console.log(e),(e=>{if(e&&e.api){const t=window.innerWidth,o=e.api.getColumnState();let n=Math.ceil(t/250);o.forEach((t=>{n>0?(e.api.setColumnVisible(t.colId,!0),n-=1):e.api.setColumnVisible(t.colId,!1)}))}})(t))}))},defaultColDef:{flex:2,resizable:!0,sortable:!0,filter:!0},onRowClicked:e=>{s(e.data),i(!0)}})}),(0,Fl.jsx)(y_,{title:"Contact",open:n,footer:null,destroyOnClose:!0,onCancel:e=>{e.stopPropagation(),i(!1)},bodyStyle:{overflowY:"auto",maxHeight:"calc(100vh - 200px)"},children:(0,Fl.jsx)(hI,{contentData:r})})]})}const{Header:yI,Sider:CI}=hr;function wI(){const[e,o]=(0,t.useState)(!0),[n,i]=(0,t.useState)(!1),{token:{colorBgContainer:r,borderRadiusLG:s}}=wr.useToken();return(0,Fl.jsxs)(hr,{children:[(0,Fl.jsxs)(CI,{collapsed:window.innerWidth<400||n,collapsible:!0,trigger:null,theme:e?"dark":"light",className:"sidebar",children:[(0,Fl.jsx)(_l,{}),(0,Fl.jsx)(kg,{darkTheme:e}),(0,Fl.jsx)(Qg,{darkTheme:e,toggleTheme:()=>{o(!e)}})]}),(0,Fl.jsxs)(hr,{children:[(0,Fl.jsx)(yI,{style:{padding:0,background:r},children:(0,Fl.jsx)(bl,{type:"text",className:"toggle",onClick:()=>i(!n),icon:n?(0,Fl.jsx)(Rl,{}):(0,Fl.jsx)(xl,{})})}),(0,Fl.jsx)(ur,{style:{margin:"24px 16px",padding:24,minHeight:280,background:r,borderRadius:s},children:(0,Fl.jsx)(vI,{})})]})]})}i.createRoot(document.getElementById("root")).render((0,Fl.jsx)(t.StrictMode,{children:(0,Fl.jsx)(wI,{})}))})()})();
//# sourceMappingURL=main.41eb46d2.js.map